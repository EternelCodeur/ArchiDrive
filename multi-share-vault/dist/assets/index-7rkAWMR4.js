var cU=e=>{throw TypeError(e)};var XE=(e,n,a)=>n.has(e)||cU("Cannot "+a);var De=(e,n,a)=>(XE(e,n,"read from private field"),a?a.call(e):n.get(e)),rr=(e,n,a)=>n.has(e)?cU("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(e):n.set(e,a),kt=(e,n,a,s)=>(XE(e,n,"write to private field"),s?s.call(e,a):n.set(e,a),a),wr=(e,n,a)=>(XE(e,n,"access private method"),a);var X_=(e,n,a,s)=>({set _(f){kt(e,n,f,a)},get _(){return De(e,n,s)}});function v5(e,n){for(var a=0;a<n.length;a++){const s=n[a];if(typeof s!="string"&&!Array.isArray(s)){for(const f in s)if(f!=="default"&&!(f in e)){const h=Object.getOwnPropertyDescriptor(s,f);h&&Object.defineProperty(e,f,h.get?h:{enumerable:!0,get:()=>s[f]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))s(f);new MutationObserver(f=>{for(const h of f)if(h.type==="childList")for(const _ of h.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&s(_)}).observe(document,{childList:!0,subtree:!0});function a(f){const h={};return f.integrity&&(h.integrity=f.integrity),f.referrerPolicy&&(h.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?h.credentials="include":f.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(f){if(f.ep)return;f.ep=!0;const h=a(f);fetch(f.href,h)}})();function y5(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _5={exports:{}},OS={},S5={exports:{}},Mr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gv=Symbol.for("react.element"),Tce=Symbol.for("react.portal"),Ice=Symbol.for("react.fragment"),wce=Symbol.for("react.strict_mode"),Ece=Symbol.for("react.profiler"),xce=Symbol.for("react.provider"),Ace=Symbol.for("react.context"),Dce=Symbol.for("react.forward_ref"),Pce=Symbol.for("react.suspense"),Rce=Symbol.for("react.memo"),kce=Symbol.for("react.lazy"),dU=Symbol.iterator;function Nce(e){return e===null||typeof e!="object"?null:(e=dU&&e[dU]||e["@@iterator"],typeof e=="function"?e:null)}var b5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C5=Object.assign,T5={};function _p(e,n,a){this.props=e,this.context=n,this.refs=T5,this.updater=a||b5}_p.prototype.isReactComponent={};_p.prototype.setState=function(e,n){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")};_p.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function I5(){}I5.prototype=_p.prototype;function y1(e,n,a){this.props=e,this.context=n,this.refs=T5,this.updater=a||b5}var _1=y1.prototype=new I5;_1.constructor=y1;C5(_1,_p.prototype);_1.isPureReactComponent=!0;var fU=Array.isArray,w5=Object.prototype.hasOwnProperty,S1={current:null},E5={key:!0,ref:!0,__self:!0,__source:!0};function x5(e,n,a){var s,f={},h=null,_=null;if(n!=null)for(s in n.ref!==void 0&&(_=n.ref),n.key!==void 0&&(h=""+n.key),n)w5.call(n,s)&&!E5.hasOwnProperty(s)&&(f[s]=n[s]);var y=arguments.length-2;if(y===1)f.children=a;else if(1<y){for(var T=Array(y),I=0;I<y;I++)T[I]=arguments[I+2];f.children=T}if(e&&e.defaultProps)for(s in y=e.defaultProps,y)f[s]===void 0&&(f[s]=y[s]);return{$$typeof:gv,type:e,key:h,ref:_,props:f,_owner:S1.current}}function Fce(e,n){return{$$typeof:gv,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}function b1(e){return typeof e=="object"&&e!==null&&e.$$typeof===gv}function Oce(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(a){return n[a]})}var hU=/\/+/g;function ZE(e,n){return typeof e=="object"&&e!==null&&e.key!=null?Oce(""+e.key):n.toString(36)}function E0(e,n,a,s,f){var h=typeof e;(h==="undefined"||h==="boolean")&&(e=null);var _=!1;if(e===null)_=!0;else switch(h){case"string":case"number":_=!0;break;case"object":switch(e.$$typeof){case gv:case Tce:_=!0}}if(_)return _=e,f=f(_),e=s===""?"."+ZE(_,0):s,fU(f)?(a="",e!=null&&(a=e.replace(hU,"$&/")+"/"),E0(f,n,a,"",function(I){return I})):f!=null&&(b1(f)&&(f=Fce(f,a+(!f.key||_&&_.key===f.key?"":(""+f.key).replace(hU,"$&/")+"/")+e)),n.push(f)),1;if(_=0,s=s===""?".":s+":",fU(e))for(var y=0;y<e.length;y++){h=e[y];var T=s+ZE(h,y);_+=E0(h,n,a,T,f)}else if(T=Nce(e),typeof T=="function")for(e=T.call(e),y=0;!(h=e.next()).done;)h=h.value,T=s+ZE(h,y++),_+=E0(h,n,a,T,f);else if(h==="object")throw n=String(e),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return _}function Z_(e,n,a){if(e==null)return e;var s=[],f=0;return E0(e,s,"","",function(h){return n.call(a,h,f++)}),s}function Mce(e){if(e._status===-1){var n=e._result;n=n(),n.then(function(a){(e._status===0||e._status===-1)&&(e._status=1,e._result=a)},function(a){(e._status===0||e._status===-1)&&(e._status=2,e._result=a)}),e._status===-1&&(e._status=0,e._result=n)}if(e._status===1)return e._result.default;throw e._result}var Ko={current:null},x0={transition:null},Lce={ReactCurrentDispatcher:Ko,ReactCurrentBatchConfig:x0,ReactCurrentOwner:S1};function A5(){throw Error("act(...) is not supported in production builds of React.")}Mr.Children={map:Z_,forEach:function(e,n,a){Z_(e,function(){n.apply(this,arguments)},a)},count:function(e){var n=0;return Z_(e,function(){n++}),n},toArray:function(e){return Z_(e,function(n){return n})||[]},only:function(e){if(!b1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Mr.Component=_p;Mr.Fragment=Ice;Mr.Profiler=Ece;Mr.PureComponent=y1;Mr.StrictMode=wce;Mr.Suspense=Pce;Mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lce;Mr.act=A5;Mr.cloneElement=function(e,n,a){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=C5({},e.props),f=e.key,h=e.ref,_=e._owner;if(n!=null){if(n.ref!==void 0&&(h=n.ref,_=S1.current),n.key!==void 0&&(f=""+n.key),e.type&&e.type.defaultProps)var y=e.type.defaultProps;for(T in n)w5.call(n,T)&&!E5.hasOwnProperty(T)&&(s[T]=n[T]===void 0&&y!==void 0?y[T]:n[T])}var T=arguments.length-2;if(T===1)s.children=a;else if(1<T){y=Array(T);for(var I=0;I<T;I++)y[I]=arguments[I+2];s.children=y}return{$$typeof:gv,type:e.type,key:f,ref:h,props:s,_owner:_}};Mr.createContext=function(e){return e={$$typeof:Ace,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:xce,_context:e},e.Consumer=e};Mr.createElement=x5;Mr.createFactory=function(e){var n=x5.bind(null,e);return n.type=e,n};Mr.createRef=function(){return{current:null}};Mr.forwardRef=function(e){return{$$typeof:Dce,render:e}};Mr.isValidElement=b1;Mr.lazy=function(e){return{$$typeof:kce,_payload:{_status:-1,_result:e},_init:Mce}};Mr.memo=function(e,n){return{$$typeof:Rce,type:e,compare:n===void 0?null:n}};Mr.startTransition=function(e){var n=x0.transition;x0.transition={};try{e()}finally{x0.transition=n}};Mr.unstable_act=A5;Mr.useCallback=function(e,n){return Ko.current.useCallback(e,n)};Mr.useContext=function(e){return Ko.current.useContext(e)};Mr.useDebugValue=function(){};Mr.useDeferredValue=function(e){return Ko.current.useDeferredValue(e)};Mr.useEffect=function(e,n){return Ko.current.useEffect(e,n)};Mr.useId=function(){return Ko.current.useId()};Mr.useImperativeHandle=function(e,n,a){return Ko.current.useImperativeHandle(e,n,a)};Mr.useInsertionEffect=function(e,n){return Ko.current.useInsertionEffect(e,n)};Mr.useLayoutEffect=function(e,n){return Ko.current.useLayoutEffect(e,n)};Mr.useMemo=function(e,n){return Ko.current.useMemo(e,n)};Mr.useReducer=function(e,n,a){return Ko.current.useReducer(e,n,a)};Mr.useRef=function(e){return Ko.current.useRef(e)};Mr.useState=function(e){return Ko.current.useState(e)};Mr.useSyncExternalStore=function(e,n,a){return Ko.current.useSyncExternalStore(e,n,a)};Mr.useTransition=function(){return Ko.current.useTransition()};Mr.version="18.3.1";S5.exports=Mr;var z=S5.exports;const Ct=y5(z),C1=v5({__proto__:null,default:Ct},[z]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wce=z,jce=Symbol.for("react.element"),Bce=Symbol.for("react.fragment"),Uce=Object.prototype.hasOwnProperty,Vce=Wce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Gce={key:!0,ref:!0,__self:!0,__source:!0};function D5(e,n,a){var s,f={},h=null,_=null;a!==void 0&&(h=""+a),n.key!==void 0&&(h=""+n.key),n.ref!==void 0&&(_=n.ref);for(s in n)Uce.call(n,s)&&!Gce.hasOwnProperty(s)&&(f[s]=n[s]);if(e&&e.defaultProps)for(s in n=e.defaultProps,n)f[s]===void 0&&(f[s]=n[s]);return{$$typeof:jce,type:e,key:h,ref:_,props:f,_owner:Vce.current}}OS.Fragment=Bce;OS.jsx=D5;OS.jsxs=D5;_5.exports=OS;var w=_5.exports,P5={exports:{}},Ba={},R5={exports:{}},k5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function n(xe,Te){var Be=xe.length;xe.push(Te);e:for(;0<Be;){var ot=Be-1>>>1,tt=xe[ot];if(0<f(tt,Te))xe[ot]=Te,xe[Be]=tt,Be=ot;else break e}}function a(xe){return xe.length===0?null:xe[0]}function s(xe){if(xe.length===0)return null;var Te=xe[0],Be=xe.pop();if(Be!==Te){xe[0]=Be;e:for(var ot=0,tt=xe.length,vt=tt>>>1;ot<vt;){var bt=2*(ot+1)-1,Se=xe[bt],ye=bt+1,Ie=xe[ye];if(0>f(Se,Be))ye<tt&&0>f(Ie,Se)?(xe[ot]=Ie,xe[ye]=Be,ot=ye):(xe[ot]=Se,xe[bt]=Be,ot=bt);else if(ye<tt&&0>f(Ie,Be))xe[ot]=Ie,xe[ye]=Be,ot=ye;else break e}}return Te}function f(xe,Te){var Be=xe.sortIndex-Te.sortIndex;return Be!==0?Be:xe.id-Te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var h=performance;e.unstable_now=function(){return h.now()}}else{var _=Date,y=_.now();e.unstable_now=function(){return _.now()-y}}var T=[],I=[],x=1,A=null,P=3,R=!1,E=!1,O=!1,L=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function W(xe){for(var Te=a(I);Te!==null;){if(Te.callback===null)s(I);else if(Te.startTime<=xe)s(I),Te.sortIndex=Te.expirationTime,n(T,Te);else break;Te=a(I)}}function G(xe){if(O=!1,W(xe),!E)if(a(T)!==null)E=!0,_e(le);else{var Te=a(I);Te!==null&&Ue(G,Te.startTime-xe)}}function le(xe,Te){E=!1,O&&(O=!1,k(ie),ie=-1),R=!0;var Be=P;try{for(W(Te),A=a(T);A!==null&&(!(A.expirationTime>Te)||xe&&!ce());){var ot=A.callback;if(typeof ot=="function"){A.callback=null,P=A.priorityLevel;var tt=ot(A.expirationTime<=Te);Te=e.unstable_now(),typeof tt=="function"?A.callback=tt:A===a(T)&&s(T),W(Te)}else s(T);A=a(T)}if(A!==null)var vt=!0;else{var bt=a(I);bt!==null&&Ue(G,bt.startTime-Te),vt=!1}return vt}finally{A=null,P=Be,R=!1}}var $=!1,H=null,ie=-1,pe=5,se=-1;function ce(){return!(e.unstable_now()-se<pe)}function me(){if(H!==null){var xe=e.unstable_now();se=xe;var Te=!0;try{Te=H(!0,xe)}finally{Te?we():($=!1,H=null)}}else $=!1}var we;if(typeof N=="function")we=function(){N(me)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,Ee=ge.port2;ge.port1.onmessage=me,we=function(){Ee.postMessage(null)}}else we=function(){L(me,0)};function _e(xe){H=xe,$||($=!0,we())}function Ue(xe,Te){ie=L(function(){xe(e.unstable_now())},Te)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(xe){xe.callback=null},e.unstable_continueExecution=function(){E||R||(E=!0,_e(le))},e.unstable_forceFrameRate=function(xe){0>xe||125<xe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):pe=0<xe?Math.floor(1e3/xe):5},e.unstable_getCurrentPriorityLevel=function(){return P},e.unstable_getFirstCallbackNode=function(){return a(T)},e.unstable_next=function(xe){switch(P){case 1:case 2:case 3:var Te=3;break;default:Te=P}var Be=P;P=Te;try{return xe()}finally{P=Be}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(xe,Te){switch(xe){case 1:case 2:case 3:case 4:case 5:break;default:xe=3}var Be=P;P=xe;try{return Te()}finally{P=Be}},e.unstable_scheduleCallback=function(xe,Te,Be){var ot=e.unstable_now();switch(typeof Be=="object"&&Be!==null?(Be=Be.delay,Be=typeof Be=="number"&&0<Be?ot+Be:ot):Be=ot,xe){case 1:var tt=-1;break;case 2:tt=250;break;case 5:tt=1073741823;break;case 4:tt=1e4;break;default:tt=5e3}return tt=Be+tt,xe={id:x++,callback:Te,priorityLevel:xe,startTime:Be,expirationTime:tt,sortIndex:-1},Be>ot?(xe.sortIndex=Be,n(I,xe),a(T)===null&&xe===a(I)&&(O?(k(ie),ie=-1):O=!0,Ue(G,Be-ot))):(xe.sortIndex=tt,n(T,xe),E||R||(E=!0,_e(le))),xe},e.unstable_shouldYield=ce,e.unstable_wrapCallback=function(xe){var Te=P;return function(){var Be=P;P=Te;try{return xe.apply(this,arguments)}finally{P=Be}}}})(k5);R5.exports=k5;var Hce=R5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zce=z,ja=Hce;function mt(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var N5=new Set,Lg={};function sf(e,n){ap(e,n),ap(e+"Capture",n)}function ap(e,n){for(Lg[e]=n,e=0;e<n.length;e++)N5.add(n[e])}var hl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zx=Object.prototype.hasOwnProperty,Kce=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pU={},mU={};function Qce(e){return zx.call(mU,e)?!0:zx.call(pU,e)?!1:Kce.test(e)?mU[e]=!0:(pU[e]=!0,!1)}function Yce(e,n,a,s){if(a!==null&&a.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return s?!1:a!==null?!a.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Jce(e,n,a,s){if(n===null||typeof n>"u"||Yce(e,n,a,s))return!0;if(s)return!1;if(a!==null)switch(a.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function Qo(e,n,a,s,f,h,_){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=s,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=e,this.type=n,this.sanitizeURL=h,this.removeEmptyString=_}var fo={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){fo[e]=new Qo(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];fo[n]=new Qo(n,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){fo[e]=new Qo(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){fo[e]=new Qo(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){fo[e]=new Qo(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){fo[e]=new Qo(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){fo[e]=new Qo(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){fo[e]=new Qo(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){fo[e]=new Qo(e,5,!1,e.toLowerCase(),null,!1,!1)});var T1=/[\-:]([a-z])/g;function I1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(T1,I1);fo[n]=new Qo(n,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(T1,I1);fo[n]=new Qo(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(T1,I1);fo[n]=new Qo(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){fo[e]=new Qo(e,1,!1,e.toLowerCase(),null,!1,!1)});fo.xlinkHref=new Qo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){fo[e]=new Qo(e,1,!1,e.toLowerCase(),null,!0,!0)});function w1(e,n,a,s){var f=fo.hasOwnProperty(n)?fo[n]:null;(f!==null?f.type!==0:s||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(Jce(n,a,f,s)&&(a=null),s||f===null?Qce(n)&&(a===null?e.removeAttribute(n):e.setAttribute(n,""+a)):f.mustUseProperty?e[f.propertyName]=a===null?f.type===3?!1:"":a:(n=f.attributeName,s=f.attributeNamespace,a===null?e.removeAttribute(n):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,s?e.setAttributeNS(s,n,a):e.setAttribute(n,a))))}var _l=zce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$_=Symbol.for("react.element"),Eh=Symbol.for("react.portal"),xh=Symbol.for("react.fragment"),E1=Symbol.for("react.strict_mode"),Kx=Symbol.for("react.profiler"),F5=Symbol.for("react.provider"),O5=Symbol.for("react.context"),x1=Symbol.for("react.forward_ref"),Qx=Symbol.for("react.suspense"),Yx=Symbol.for("react.suspense_list"),A1=Symbol.for("react.memo"),dc=Symbol.for("react.lazy"),M5=Symbol.for("react.offscreen"),gU=Symbol.iterator;function ng(e){return e===null||typeof e!="object"?null:(e=gU&&e[gU]||e["@@iterator"],typeof e=="function"?e:null)}var ri=Object.assign,$E;function yg(e){if($E===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);$E=n&&n[1]||""}return`
`+$E+e}var ex=!1;function tx(e,n){if(!e||ex)return"";ex=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(I){var s=I}Reflect.construct(e,[],n)}else{try{n.call()}catch(I){s=I}e.call(n.prototype)}else{try{throw Error()}catch(I){s=I}e()}}catch(I){if(I&&s&&typeof I.stack=="string"){for(var f=I.stack.split(`
`),h=s.stack.split(`
`),_=f.length-1,y=h.length-1;1<=_&&0<=y&&f[_]!==h[y];)y--;for(;1<=_&&0<=y;_--,y--)if(f[_]!==h[y]){if(_!==1||y!==1)do if(_--,y--,0>y||f[_]!==h[y]){var T=`
`+f[_].replace(" at new "," at ");return e.displayName&&T.includes("<anonymous>")&&(T=T.replace("<anonymous>",e.displayName)),T}while(1<=_&&0<=y);break}}}finally{ex=!1,Error.prepareStackTrace=a}return(e=e?e.displayName||e.name:"")?yg(e):""}function qce(e){switch(e.tag){case 5:return yg(e.type);case 16:return yg("Lazy");case 13:return yg("Suspense");case 19:return yg("SuspenseList");case 0:case 2:case 15:return e=tx(e.type,!1),e;case 11:return e=tx(e.type.render,!1),e;case 1:return e=tx(e.type,!0),e;default:return""}}function Jx(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case xh:return"Fragment";case Eh:return"Portal";case Kx:return"Profiler";case E1:return"StrictMode";case Qx:return"Suspense";case Yx:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case O5:return(e.displayName||"Context")+".Consumer";case F5:return(e._context.displayName||"Context")+".Provider";case x1:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case A1:return n=e.displayName||null,n!==null?n:Jx(e.type)||"Memo";case dc:n=e._payload,e=e._init;try{return Jx(e(n))}catch{}}return null}function Xce(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jx(n);case 8:return n===E1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Bc(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function L5(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Zce(e){var n=L5(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),s=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,h=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(_){s=""+_,h.call(this,_)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return s},setValue:function(_){s=""+_},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function e0(e){e._valueTracker||(e._valueTracker=Zce(e))}function W5(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),s="";return e&&(s=L5(e)?e.checked?"true":"false":e.value),e=s,e!==a?(n.setValue(e),!0):!1}function K0(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function qx(e,n){var a=n.checked;return ri({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??e._wrapperState.initialChecked})}function vU(e,n){var a=n.defaultValue==null?"":n.defaultValue,s=n.checked!=null?n.checked:n.defaultChecked;a=Bc(n.value!=null?n.value:a),e._wrapperState={initialChecked:s,initialValue:a,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function j5(e,n){n=n.checked,n!=null&&w1(e,"checked",n,!1)}function Xx(e,n){j5(e,n);var a=Bc(n.value),s=n.type;if(a!=null)s==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+a):e.value!==""+a&&(e.value=""+a);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Zx(e,n.type,a):n.hasOwnProperty("defaultValue")&&Zx(e,n.type,Bc(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function yU(e,n,a){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var s=n.type;if(!(s!=="submit"&&s!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,a||n===e.value||(e.value=n),e.defaultValue=n}a=e.name,a!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,a!==""&&(e.name=a)}function Zx(e,n,a){(n!=="number"||K0(e.ownerDocument)!==e)&&(a==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+a&&(e.defaultValue=""+a))}var _g=Array.isArray;function jh(e,n,a,s){if(e=e.options,n){n={};for(var f=0;f<a.length;f++)n["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=n.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&s&&(e[a].defaultSelected=!0)}else{for(a=""+Bc(a),n=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,s&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function $x(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(mt(91));return ri({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function _U(e,n){var a=n.value;if(a==null){if(a=n.children,n=n.defaultValue,a!=null){if(n!=null)throw Error(mt(92));if(_g(a)){if(1<a.length)throw Error(mt(93));a=a[0]}n=a}n==null&&(n=""),a=n}e._wrapperState={initialValue:Bc(a)}}function B5(e,n){var a=Bc(n.value),s=Bc(n.defaultValue);a!=null&&(a=""+a,a!==e.value&&(e.value=a),n.defaultValue==null&&e.defaultValue!==a&&(e.defaultValue=a)),s!=null&&(e.defaultValue=""+s)}function SU(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function U5(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function eA(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?U5(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var t0,V5=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,a,s,f){MSApp.execUnsafeLocalFunction(function(){return e(n,a,s,f)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(t0=t0||document.createElement("div"),t0.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=t0.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Wg(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var Eg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$ce=["Webkit","ms","Moz","O"];Object.keys(Eg).forEach(function(e){$ce.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Eg[n]=Eg[e]})});function G5(e,n,a){return n==null||typeof n=="boolean"||n===""?"":a||typeof n!="number"||n===0||Eg.hasOwnProperty(e)&&Eg[e]?(""+n).trim():n+"px"}function H5(e,n){e=e.style;for(var a in n)if(n.hasOwnProperty(a)){var s=a.indexOf("--")===0,f=G5(a,n[a],s);a==="float"&&(a="cssFloat"),s?e.setProperty(a,f):e[a]=f}}var ede=ri({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tA(e,n){if(n){if(ede[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(mt(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(mt(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(mt(61))}if(n.style!=null&&typeof n.style!="object")throw Error(mt(62))}}function rA(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nA=null;function D1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var iA=null,Bh=null,Uh=null;function bU(e){if(e=_v(e)){if(typeof iA!="function")throw Error(mt(280));var n=e.stateNode;n&&(n=BS(n),iA(e.stateNode,e.type,n))}}function z5(e){Bh?Uh?Uh.push(e):Uh=[e]:Bh=e}function K5(){if(Bh){var e=Bh,n=Uh;if(Uh=Bh=null,bU(e),n)for(e=0;e<n.length;e++)bU(n[e])}}function Q5(e,n){return e(n)}function Y5(){}var rx=!1;function J5(e,n,a){if(rx)return e(n,a);rx=!0;try{return Q5(e,n,a)}finally{rx=!1,(Bh!==null||Uh!==null)&&(Y5(),K5())}}function jg(e,n){var a=e.stateNode;if(a===null)return null;var s=BS(a);if(s===null)return null;a=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(mt(231,n,typeof a));return a}var oA=!1;if(hl)try{var ig={};Object.defineProperty(ig,"passive",{get:function(){oA=!0}}),window.addEventListener("test",ig,ig),window.removeEventListener("test",ig,ig)}catch{oA=!1}function tde(e,n,a,s,f,h,_,y,T){var I=Array.prototype.slice.call(arguments,3);try{n.apply(a,I)}catch(x){this.onError(x)}}var xg=!1,Q0=null,Y0=!1,aA=null,rde={onError:function(e){xg=!0,Q0=e}};function nde(e,n,a,s,f,h,_,y,T){xg=!1,Q0=null,tde.apply(rde,arguments)}function ide(e,n,a,s,f,h,_,y,T){if(nde.apply(this,arguments),xg){if(xg){var I=Q0;xg=!1,Q0=null}else throw Error(mt(198));Y0||(Y0=!0,aA=I)}}function uf(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function q5(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function CU(e){if(uf(e)!==e)throw Error(mt(188))}function ode(e){var n=e.alternate;if(!n){if(n=uf(e),n===null)throw Error(mt(188));return n!==e?null:e}for(var a=e,s=n;;){var f=a.return;if(f===null)break;var h=f.alternate;if(h===null){if(s=f.return,s!==null){a=s;continue}break}if(f.child===h.child){for(h=f.child;h;){if(h===a)return CU(f),e;if(h===s)return CU(f),n;h=h.sibling}throw Error(mt(188))}if(a.return!==s.return)a=f,s=h;else{for(var _=!1,y=f.child;y;){if(y===a){_=!0,a=f,s=h;break}if(y===s){_=!0,s=f,a=h;break}y=y.sibling}if(!_){for(y=h.child;y;){if(y===a){_=!0,a=h,s=f;break}if(y===s){_=!0,s=h,a=f;break}y=y.sibling}if(!_)throw Error(mt(189))}}if(a.alternate!==s)throw Error(mt(190))}if(a.tag!==3)throw Error(mt(188));return a.stateNode.current===a?e:n}function X5(e){return e=ode(e),e!==null?Z5(e):null}function Z5(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Z5(e);if(n!==null)return n;e=e.sibling}return null}var $5=ja.unstable_scheduleCallback,TU=ja.unstable_cancelCallback,ade=ja.unstable_shouldYield,sde=ja.unstable_requestPaint,Ci=ja.unstable_now,ude=ja.unstable_getCurrentPriorityLevel,P1=ja.unstable_ImmediatePriority,eG=ja.unstable_UserBlockingPriority,J0=ja.unstable_NormalPriority,lde=ja.unstable_LowPriority,tG=ja.unstable_IdlePriority,MS=null,Ru=null;function cde(e){if(Ru&&typeof Ru.onCommitFiberRoot=="function")try{Ru.onCommitFiberRoot(MS,e,void 0,(e.current.flags&128)===128)}catch{}}var Qs=Math.clz32?Math.clz32:hde,dde=Math.log,fde=Math.LN2;function hde(e){return e>>>=0,e===0?32:31-(dde(e)/fde|0)|0}var r0=64,n0=4194304;function Sg(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function q0(e,n){var a=e.pendingLanes;if(a===0)return 0;var s=0,f=e.suspendedLanes,h=e.pingedLanes,_=a&268435455;if(_!==0){var y=_&~f;y!==0?s=Sg(y):(h&=_,h!==0&&(s=Sg(h)))}else _=a&~f,_!==0?s=Sg(_):h!==0&&(s=Sg(h));if(s===0)return 0;if(n!==0&&n!==s&&!(n&f)&&(f=s&-s,h=n&-n,f>=h||f===16&&(h&4194240)!==0))return n;if(s&4&&(s|=a&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=s;0<n;)a=31-Qs(n),f=1<<a,s|=e[a],n&=~f;return s}function pde(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mde(e,n){for(var a=e.suspendedLanes,s=e.pingedLanes,f=e.expirationTimes,h=e.pendingLanes;0<h;){var _=31-Qs(h),y=1<<_,T=f[_];T===-1?(!(y&a)||y&s)&&(f[_]=pde(y,n)):T<=n&&(e.expiredLanes|=y),h&=~y}}function sA(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function rG(){var e=r0;return r0<<=1,!(r0&4194240)&&(r0=64),e}function nx(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function vv(e,n,a){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Qs(n),e[n]=a}function gde(e,n){var a=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<a;){var f=31-Qs(a),h=1<<f;n[f]=0,s[f]=-1,e[f]=-1,a&=~h}}function R1(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var s=31-Qs(a),f=1<<s;f&n|e[s]&n&&(e[s]|=n),a&=~f}}var dn=0;function nG(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var iG,k1,oG,aG,sG,uA=!1,i0=[],Ac=null,Dc=null,Pc=null,Bg=new Map,Ug=new Map,hc=[],vde="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function IU(e,n){switch(e){case"focusin":case"focusout":Ac=null;break;case"dragenter":case"dragleave":Dc=null;break;case"mouseover":case"mouseout":Pc=null;break;case"pointerover":case"pointerout":Bg.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ug.delete(n.pointerId)}}function og(e,n,a,s,f,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:a,eventSystemFlags:s,nativeEvent:h,targetContainers:[f]},n!==null&&(n=_v(n),n!==null&&k1(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function yde(e,n,a,s,f){switch(n){case"focusin":return Ac=og(Ac,e,n,a,s,f),!0;case"dragenter":return Dc=og(Dc,e,n,a,s,f),!0;case"mouseover":return Pc=og(Pc,e,n,a,s,f),!0;case"pointerover":var h=f.pointerId;return Bg.set(h,og(Bg.get(h)||null,e,n,a,s,f)),!0;case"gotpointercapture":return h=f.pointerId,Ug.set(h,og(Ug.get(h)||null,e,n,a,s,f)),!0}return!1}function uG(e){var n=Md(e.target);if(n!==null){var a=uf(n);if(a!==null){if(n=a.tag,n===13){if(n=q5(a),n!==null){e.blockedOn=n,sG(e.priority,function(){oG(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function A0(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=lA(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);nA=s,a.target.dispatchEvent(s),nA=null}else return n=_v(a),n!==null&&k1(n),e.blockedOn=a,!1;n.shift()}return!0}function wU(e,n,a){A0(e)&&a.delete(n)}function _de(){uA=!1,Ac!==null&&A0(Ac)&&(Ac=null),Dc!==null&&A0(Dc)&&(Dc=null),Pc!==null&&A0(Pc)&&(Pc=null),Bg.forEach(wU),Ug.forEach(wU)}function ag(e,n){e.blockedOn===n&&(e.blockedOn=null,uA||(uA=!0,ja.unstable_scheduleCallback(ja.unstable_NormalPriority,_de)))}function Vg(e){function n(f){return ag(f,e)}if(0<i0.length){ag(i0[0],e);for(var a=1;a<i0.length;a++){var s=i0[a];s.blockedOn===e&&(s.blockedOn=null)}}for(Ac!==null&&ag(Ac,e),Dc!==null&&ag(Dc,e),Pc!==null&&ag(Pc,e),Bg.forEach(n),Ug.forEach(n),a=0;a<hc.length;a++)s=hc[a],s.blockedOn===e&&(s.blockedOn=null);for(;0<hc.length&&(a=hc[0],a.blockedOn===null);)uG(a),a.blockedOn===null&&hc.shift()}var Vh=_l.ReactCurrentBatchConfig,X0=!0;function Sde(e,n,a,s){var f=dn,h=Vh.transition;Vh.transition=null;try{dn=1,N1(e,n,a,s)}finally{dn=f,Vh.transition=h}}function bde(e,n,a,s){var f=dn,h=Vh.transition;Vh.transition=null;try{dn=4,N1(e,n,a,s)}finally{dn=f,Vh.transition=h}}function N1(e,n,a,s){if(X0){var f=lA(e,n,a,s);if(f===null)hx(e,n,s,Z0,a),IU(e,s);else if(yde(f,e,n,a,s))s.stopPropagation();else if(IU(e,s),n&4&&-1<vde.indexOf(e)){for(;f!==null;){var h=_v(f);if(h!==null&&iG(h),h=lA(e,n,a,s),h===null&&hx(e,n,s,Z0,a),h===f)break;f=h}f!==null&&s.stopPropagation()}else hx(e,n,s,null,a)}}var Z0=null;function lA(e,n,a,s){if(Z0=null,e=D1(s),e=Md(e),e!==null)if(n=uf(e),n===null)e=null;else if(a=n.tag,a===13){if(e=q5(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return Z0=e,null}function lG(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ude()){case P1:return 1;case eG:return 4;case J0:case lde:return 16;case tG:return 536870912;default:return 16}default:return 16}}var wc=null,F1=null,D0=null;function cG(){if(D0)return D0;var e,n=F1,a=n.length,s,f="value"in wc?wc.value:wc.textContent,h=f.length;for(e=0;e<a&&n[e]===f[e];e++);var _=a-e;for(s=1;s<=_&&n[a-s]===f[h-s];s++);return D0=f.slice(e,1<s?1-s:void 0)}function P0(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function o0(){return!0}function EU(){return!1}function Ua(e){function n(a,s,f,h,_){this._reactName=a,this._targetInst=f,this.type=s,this.nativeEvent=h,this.target=_,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(a=e[y],this[y]=a?a(h):h[y]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?o0:EU,this.isPropagationStopped=EU,this}return ri(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=o0)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=o0)},persist:function(){},isPersistent:o0}),n}var Sp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},O1=Ua(Sp),yv=ri({},Sp,{view:0,detail:0}),Cde=Ua(yv),ix,ox,sg,LS=ri({},yv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:M1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sg&&(sg&&e.type==="mousemove"?(ix=e.screenX-sg.screenX,ox=e.screenY-sg.screenY):ox=ix=0,sg=e),ix)},movementY:function(e){return"movementY"in e?e.movementY:ox}}),xU=Ua(LS),Tde=ri({},LS,{dataTransfer:0}),Ide=Ua(Tde),wde=ri({},yv,{relatedTarget:0}),ax=Ua(wde),Ede=ri({},Sp,{animationName:0,elapsedTime:0,pseudoElement:0}),xde=Ua(Ede),Ade=ri({},Sp,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Dde=Ua(Ade),Pde=ri({},Sp,{data:0}),AU=Ua(Pde),Rde={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kde={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nde={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fde(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Nde[e])?!!n[e]:!1}function M1(){return Fde}var Ode=ri({},yv,{key:function(e){if(e.key){var n=Rde[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=P0(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?kde[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:M1,charCode:function(e){return e.type==="keypress"?P0(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?P0(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Mde=Ua(Ode),Lde=ri({},LS,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),DU=Ua(Lde),Wde=ri({},yv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:M1}),jde=Ua(Wde),Bde=ri({},Sp,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ude=Ua(Bde),Vde=ri({},LS,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Gde=Ua(Vde),Hde=[9,13,27,32],L1=hl&&"CompositionEvent"in window,Ag=null;hl&&"documentMode"in document&&(Ag=document.documentMode);var zde=hl&&"TextEvent"in window&&!Ag,dG=hl&&(!L1||Ag&&8<Ag&&11>=Ag),PU=" ",RU=!1;function fG(e,n){switch(e){case"keyup":return Hde.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hG(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ah=!1;function Kde(e,n){switch(e){case"compositionend":return hG(n);case"keypress":return n.which!==32?null:(RU=!0,PU);case"textInput":return e=n.data,e===PU&&RU?null:e;default:return null}}function Qde(e,n){if(Ah)return e==="compositionend"||!L1&&fG(e,n)?(e=cG(),D0=F1=wc=null,Ah=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return dG&&n.locale!=="ko"?null:n.data;default:return null}}var Yde={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kU(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Yde[e.type]:n==="textarea"}function pG(e,n,a,s){z5(s),n=$0(n,"onChange"),0<n.length&&(a=new O1("onChange","change",null,a,s),e.push({event:a,listeners:n}))}var Dg=null,Gg=null;function Jde(e){wG(e,0)}function WS(e){var n=Rh(e);if(W5(n))return e}function qde(e,n){if(e==="change")return n}var mG=!1;if(hl){var sx;if(hl){var ux="oninput"in document;if(!ux){var NU=document.createElement("div");NU.setAttribute("oninput","return;"),ux=typeof NU.oninput=="function"}sx=ux}else sx=!1;mG=sx&&(!document.documentMode||9<document.documentMode)}function FU(){Dg&&(Dg.detachEvent("onpropertychange",gG),Gg=Dg=null)}function gG(e){if(e.propertyName==="value"&&WS(Gg)){var n=[];pG(n,Gg,e,D1(e)),J5(Jde,n)}}function Xde(e,n,a){e==="focusin"?(FU(),Dg=n,Gg=a,Dg.attachEvent("onpropertychange",gG)):e==="focusout"&&FU()}function Zde(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return WS(Gg)}function $de(e,n){if(e==="click")return WS(n)}function efe(e,n){if(e==="input"||e==="change")return WS(n)}function tfe(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Js=typeof Object.is=="function"?Object.is:tfe;function Hg(e,n){if(Js(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),s=Object.keys(n);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var f=a[s];if(!zx.call(n,f)||!Js(e[f],n[f]))return!1}return!0}function OU(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function MU(e,n){var a=OU(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=n&&s>=n)return{node:a,offset:n-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=OU(a)}}function vG(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?vG(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function yG(){for(var e=window,n=K0();n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=K0(e.document)}return n}function W1(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function rfe(e){var n=yG(),a=e.focusedElem,s=e.selectionRange;if(n!==a&&a&&a.ownerDocument&&vG(a.ownerDocument.documentElement,a)){if(s!==null&&W1(a)){if(n=s.start,e=s.end,e===void 0&&(e=n),"selectionStart"in a)a.selectionStart=n,a.selectionEnd=Math.min(e,a.value.length);else if(e=(n=a.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var f=a.textContent.length,h=Math.min(s.start,f);s=s.end===void 0?h:Math.min(s.end,f),!e.extend&&h>s&&(f=s,s=h,h=f),f=MU(a,h);var _=MU(a,s);f&&_&&(e.rangeCount!==1||e.anchorNode!==f.node||e.anchorOffset!==f.offset||e.focusNode!==_.node||e.focusOffset!==_.offset)&&(n=n.createRange(),n.setStart(f.node,f.offset),e.removeAllRanges(),h>s?(e.addRange(n),e.extend(_.node,_.offset)):(n.setEnd(_.node,_.offset),e.addRange(n)))}}for(n=[],e=a;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<n.length;a++)e=n[a],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var nfe=hl&&"documentMode"in document&&11>=document.documentMode,Dh=null,cA=null,Pg=null,dA=!1;function LU(e,n,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;dA||Dh==null||Dh!==K0(s)||(s=Dh,"selectionStart"in s&&W1(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Pg&&Hg(Pg,s)||(Pg=s,s=$0(cA,"onSelect"),0<s.length&&(n=new O1("onSelect","select",null,n,a),e.push({event:n,listeners:s}),n.target=Dh)))}function a0(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var Ph={animationend:a0("Animation","AnimationEnd"),animationiteration:a0("Animation","AnimationIteration"),animationstart:a0("Animation","AnimationStart"),transitionend:a0("Transition","TransitionEnd")},lx={},_G={};hl&&(_G=document.createElement("div").style,"AnimationEvent"in window||(delete Ph.animationend.animation,delete Ph.animationiteration.animation,delete Ph.animationstart.animation),"TransitionEvent"in window||delete Ph.transitionend.transition);function jS(e){if(lx[e])return lx[e];if(!Ph[e])return e;var n=Ph[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in _G)return lx[e]=n[a];return e}var SG=jS("animationend"),bG=jS("animationiteration"),CG=jS("animationstart"),TG=jS("transitionend"),IG=new Map,WU="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zc(e,n){IG.set(e,n),sf(n,[e])}for(var cx=0;cx<WU.length;cx++){var dx=WU[cx],ife=dx.toLowerCase(),ofe=dx[0].toUpperCase()+dx.slice(1);zc(ife,"on"+ofe)}zc(SG,"onAnimationEnd");zc(bG,"onAnimationIteration");zc(CG,"onAnimationStart");zc("dblclick","onDoubleClick");zc("focusin","onFocus");zc("focusout","onBlur");zc(TG,"onTransitionEnd");ap("onMouseEnter",["mouseout","mouseover"]);ap("onMouseLeave",["mouseout","mouseover"]);ap("onPointerEnter",["pointerout","pointerover"]);ap("onPointerLeave",["pointerout","pointerover"]);sf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));sf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));sf("onBeforeInput",["compositionend","keypress","textInput","paste"]);sf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));sf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));sf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),afe=new Set("cancel close invalid load scroll toggle".split(" ").concat(bg));function jU(e,n,a){var s=e.type||"unknown-event";e.currentTarget=a,ide(s,n,void 0,e),e.currentTarget=null}function wG(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],f=s.event;s=s.listeners;e:{var h=void 0;if(n)for(var _=s.length-1;0<=_;_--){var y=s[_],T=y.instance,I=y.currentTarget;if(y=y.listener,T!==h&&f.isPropagationStopped())break e;jU(f,y,I),h=T}else for(_=0;_<s.length;_++){if(y=s[_],T=y.instance,I=y.currentTarget,y=y.listener,T!==h&&f.isPropagationStopped())break e;jU(f,y,I),h=T}}}if(Y0)throw e=aA,Y0=!1,aA=null,e}function Dn(e,n){var a=n[gA];a===void 0&&(a=n[gA]=new Set);var s=e+"__bubble";a.has(s)||(EG(n,e,2,!1),a.add(s))}function fx(e,n,a){var s=0;n&&(s|=4),EG(a,e,s,n)}var s0="_reactListening"+Math.random().toString(36).slice(2);function zg(e){if(!e[s0]){e[s0]=!0,N5.forEach(function(a){a!=="selectionchange"&&(afe.has(a)||fx(a,!1,e),fx(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[s0]||(n[s0]=!0,fx("selectionchange",!1,n))}}function EG(e,n,a,s){switch(lG(n)){case 1:var f=Sde;break;case 4:f=bde;break;default:f=N1}a=f.bind(null,n,a,e),f=void 0,!oA||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),s?f!==void 0?e.addEventListener(n,a,{capture:!0,passive:f}):e.addEventListener(n,a,!0):f!==void 0?e.addEventListener(n,a,{passive:f}):e.addEventListener(n,a,!1)}function hx(e,n,a,s,f){var h=s;if(!(n&1)&&!(n&2)&&s!==null)e:for(;;){if(s===null)return;var _=s.tag;if(_===3||_===4){var y=s.stateNode.containerInfo;if(y===f||y.nodeType===8&&y.parentNode===f)break;if(_===4)for(_=s.return;_!==null;){var T=_.tag;if((T===3||T===4)&&(T=_.stateNode.containerInfo,T===f||T.nodeType===8&&T.parentNode===f))return;_=_.return}for(;y!==null;){if(_=Md(y),_===null)return;if(T=_.tag,T===5||T===6){s=h=_;continue e}y=y.parentNode}}s=s.return}J5(function(){var I=h,x=D1(a),A=[];e:{var P=IG.get(e);if(P!==void 0){var R=O1,E=e;switch(e){case"keypress":if(P0(a)===0)break e;case"keydown":case"keyup":R=Mde;break;case"focusin":E="focus",R=ax;break;case"focusout":E="blur",R=ax;break;case"beforeblur":case"afterblur":R=ax;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=xU;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=Ide;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=jde;break;case SG:case bG:case CG:R=xde;break;case TG:R=Ude;break;case"scroll":R=Cde;break;case"wheel":R=Gde;break;case"copy":case"cut":case"paste":R=Dde;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=DU}var O=(n&4)!==0,L=!O&&e==="scroll",k=O?P!==null?P+"Capture":null:P;O=[];for(var N=I,W;N!==null;){W=N;var G=W.stateNode;if(W.tag===5&&G!==null&&(W=G,k!==null&&(G=jg(N,k),G!=null&&O.push(Kg(N,G,W)))),L)break;N=N.return}0<O.length&&(P=new R(P,E,null,a,x),A.push({event:P,listeners:O}))}}if(!(n&7)){e:{if(P=e==="mouseover"||e==="pointerover",R=e==="mouseout"||e==="pointerout",P&&a!==nA&&(E=a.relatedTarget||a.fromElement)&&(Md(E)||E[pl]))break e;if((R||P)&&(P=x.window===x?x:(P=x.ownerDocument)?P.defaultView||P.parentWindow:window,R?(E=a.relatedTarget||a.toElement,R=I,E=E?Md(E):null,E!==null&&(L=uf(E),E!==L||E.tag!==5&&E.tag!==6)&&(E=null)):(R=null,E=I),R!==E)){if(O=xU,G="onMouseLeave",k="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(O=DU,G="onPointerLeave",k="onPointerEnter",N="pointer"),L=R==null?P:Rh(R),W=E==null?P:Rh(E),P=new O(G,N+"leave",R,a,x),P.target=L,P.relatedTarget=W,G=null,Md(x)===I&&(O=new O(k,N+"enter",E,a,x),O.target=W,O.relatedTarget=L,G=O),L=G,R&&E)t:{for(O=R,k=E,N=0,W=O;W;W=bh(W))N++;for(W=0,G=k;G;G=bh(G))W++;for(;0<N-W;)O=bh(O),N--;for(;0<W-N;)k=bh(k),W--;for(;N--;){if(O===k||k!==null&&O===k.alternate)break t;O=bh(O),k=bh(k)}O=null}else O=null;R!==null&&BU(A,P,R,O,!1),E!==null&&L!==null&&BU(A,L,E,O,!0)}}e:{if(P=I?Rh(I):window,R=P.nodeName&&P.nodeName.toLowerCase(),R==="select"||R==="input"&&P.type==="file")var le=qde;else if(kU(P))if(mG)le=efe;else{le=Zde;var $=Xde}else(R=P.nodeName)&&R.toLowerCase()==="input"&&(P.type==="checkbox"||P.type==="radio")&&(le=$de);if(le&&(le=le(e,I))){pG(A,le,a,x);break e}$&&$(e,P,I),e==="focusout"&&($=P._wrapperState)&&$.controlled&&P.type==="number"&&Zx(P,"number",P.value)}switch($=I?Rh(I):window,e){case"focusin":(kU($)||$.contentEditable==="true")&&(Dh=$,cA=I,Pg=null);break;case"focusout":Pg=cA=Dh=null;break;case"mousedown":dA=!0;break;case"contextmenu":case"mouseup":case"dragend":dA=!1,LU(A,a,x);break;case"selectionchange":if(nfe)break;case"keydown":case"keyup":LU(A,a,x)}var H;if(L1)e:{switch(e){case"compositionstart":var ie="onCompositionStart";break e;case"compositionend":ie="onCompositionEnd";break e;case"compositionupdate":ie="onCompositionUpdate";break e}ie=void 0}else Ah?fG(e,a)&&(ie="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ie="onCompositionStart");ie&&(dG&&a.locale!=="ko"&&(Ah||ie!=="onCompositionStart"?ie==="onCompositionEnd"&&Ah&&(H=cG()):(wc=x,F1="value"in wc?wc.value:wc.textContent,Ah=!0)),$=$0(I,ie),0<$.length&&(ie=new AU(ie,e,null,a,x),A.push({event:ie,listeners:$}),H?ie.data=H:(H=hG(a),H!==null&&(ie.data=H)))),(H=zde?Kde(e,a):Qde(e,a))&&(I=$0(I,"onBeforeInput"),0<I.length&&(x=new AU("onBeforeInput","beforeinput",null,a,x),A.push({event:x,listeners:I}),x.data=H))}wG(A,n)})}function Kg(e,n,a){return{instance:e,listener:n,currentTarget:a}}function $0(e,n){for(var a=n+"Capture",s=[];e!==null;){var f=e,h=f.stateNode;f.tag===5&&h!==null&&(f=h,h=jg(e,a),h!=null&&s.unshift(Kg(e,h,f)),h=jg(e,n),h!=null&&s.push(Kg(e,h,f))),e=e.return}return s}function bh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function BU(e,n,a,s,f){for(var h=n._reactName,_=[];a!==null&&a!==s;){var y=a,T=y.alternate,I=y.stateNode;if(T!==null&&T===s)break;y.tag===5&&I!==null&&(y=I,f?(T=jg(a,h),T!=null&&_.unshift(Kg(a,T,y))):f||(T=jg(a,h),T!=null&&_.push(Kg(a,T,y)))),a=a.return}_.length!==0&&e.push({event:n,listeners:_})}var sfe=/\r\n?/g,ufe=/\u0000|\uFFFD/g;function UU(e){return(typeof e=="string"?e:""+e).replace(sfe,`
`).replace(ufe,"")}function u0(e,n,a){if(n=UU(n),UU(e)!==n&&a)throw Error(mt(425))}function eS(){}var fA=null,hA=null;function pA(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var mA=typeof setTimeout=="function"?setTimeout:void 0,lfe=typeof clearTimeout=="function"?clearTimeout:void 0,VU=typeof Promise=="function"?Promise:void 0,cfe=typeof queueMicrotask=="function"?queueMicrotask:typeof VU<"u"?function(e){return VU.resolve(null).then(e).catch(dfe)}:mA;function dfe(e){setTimeout(function(){throw e})}function px(e,n){var a=n,s=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(s===0){e.removeChild(f),Vg(n);return}s--}else a!=="$"&&a!=="$?"&&a!=="$!"||s++;a=f}while(a);Vg(n)}function Rc(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function GU(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}var bp=Math.random().toString(36).slice(2),Eu="__reactFiber$"+bp,Qg="__reactProps$"+bp,pl="__reactContainer$"+bp,gA="__reactEvents$"+bp,ffe="__reactListeners$"+bp,hfe="__reactHandles$"+bp;function Md(e){var n=e[Eu];if(n)return n;for(var a=e.parentNode;a;){if(n=a[pl]||a[Eu]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=GU(e);e!==null;){if(a=e[Eu])return a;e=GU(e)}return n}e=a,a=e.parentNode}return null}function _v(e){return e=e[Eu]||e[pl],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Rh(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(mt(33))}function BS(e){return e[Qg]||null}var vA=[],kh=-1;function Kc(e){return{current:e}}function Rn(e){0>kh||(e.current=vA[kh],vA[kh]=null,kh--)}function bn(e,n){kh++,vA[kh]=e.current,e.current=n}var Uc={},xo=Kc(Uc),va=Kc(!1),Xd=Uc;function sp(e,n){var a=e.type.contextTypes;if(!a)return Uc;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===n)return s.__reactInternalMemoizedMaskedChildContext;var f={},h;for(h in a)f[h]=n[h];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=f),f}function ya(e){return e=e.childContextTypes,e!=null}function tS(){Rn(va),Rn(xo)}function HU(e,n,a){if(xo.current!==Uc)throw Error(mt(168));bn(xo,n),bn(va,a)}function xG(e,n,a){var s=e.stateNode;if(n=n.childContextTypes,typeof s.getChildContext!="function")return a;s=s.getChildContext();for(var f in s)if(!(f in n))throw Error(mt(108,Xce(e)||"Unknown",f));return ri({},a,s)}function rS(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Uc,Xd=xo.current,bn(xo,e),bn(va,va.current),!0}function zU(e,n,a){var s=e.stateNode;if(!s)throw Error(mt(169));a?(e=xG(e,n,Xd),s.__reactInternalMemoizedMergedChildContext=e,Rn(va),Rn(xo),bn(xo,e)):Rn(va),bn(va,a)}var il=null,US=!1,mx=!1;function AG(e){il===null?il=[e]:il.push(e)}function pfe(e){US=!0,AG(e)}function Qc(){if(!mx&&il!==null){mx=!0;var e=0,n=dn;try{var a=il;for(dn=1;e<a.length;e++){var s=a[e];do s=s(!0);while(s!==null)}il=null,US=!1}catch(f){throw il!==null&&(il=il.slice(e+1)),$5(P1,Qc),f}finally{dn=n,mx=!1}}return null}var Nh=[],Fh=0,nS=null,iS=0,os=[],as=0,Zd=null,ll=1,cl="";function Rd(e,n){Nh[Fh++]=iS,Nh[Fh++]=nS,nS=e,iS=n}function DG(e,n,a){os[as++]=ll,os[as++]=cl,os[as++]=Zd,Zd=e;var s=ll;e=cl;var f=32-Qs(s)-1;s&=~(1<<f),a+=1;var h=32-Qs(n)+f;if(30<h){var _=f-f%5;h=(s&(1<<_)-1).toString(32),s>>=_,f-=_,ll=1<<32-Qs(n)+f|a<<f|s,cl=h+e}else ll=1<<h|a<<f|s,cl=e}function j1(e){e.return!==null&&(Rd(e,1),DG(e,1,0))}function B1(e){for(;e===nS;)nS=Nh[--Fh],Nh[Fh]=null,iS=Nh[--Fh],Nh[Fh]=null;for(;e===Zd;)Zd=os[--as],os[as]=null,cl=os[--as],os[as]=null,ll=os[--as],os[as]=null}var La=null,Ma=null,Un=!1,zs=null;function PG(e,n){var a=us(5,null,null,0);a.elementType="DELETED",a.stateNode=n,a.return=e,n=e.deletions,n===null?(e.deletions=[a],e.flags|=16):n.push(a)}function KU(e,n){switch(e.tag){case 5:var a=e.type;return n=n.nodeType!==1||a.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,La=e,Ma=Rc(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,La=e,Ma=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(a=Zd!==null?{id:ll,overflow:cl}:null,e.memoizedState={dehydrated:n,treeContext:a,retryLane:1073741824},a=us(18,null,null,0),a.stateNode=n,a.return=e,e.child=a,La=e,Ma=null,!0):!1;default:return!1}}function yA(e){return(e.mode&1)!==0&&(e.flags&128)===0}function _A(e){if(Un){var n=Ma;if(n){var a=n;if(!KU(e,n)){if(yA(e))throw Error(mt(418));n=Rc(a.nextSibling);var s=La;n&&KU(e,n)?PG(s,a):(e.flags=e.flags&-4097|2,Un=!1,La=e)}}else{if(yA(e))throw Error(mt(418));e.flags=e.flags&-4097|2,Un=!1,La=e}}}function QU(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;La=e}function l0(e){if(e!==La)return!1;if(!Un)return QU(e),Un=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!pA(e.type,e.memoizedProps)),n&&(n=Ma)){if(yA(e))throw RG(),Error(mt(418));for(;n;)PG(e,n),n=Rc(n.nextSibling)}if(QU(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(mt(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"){if(n===0){Ma=Rc(e.nextSibling);break e}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++}e=e.nextSibling}Ma=null}}else Ma=La?Rc(e.stateNode.nextSibling):null;return!0}function RG(){for(var e=Ma;e;)e=Rc(e.nextSibling)}function up(){Ma=La=null,Un=!1}function U1(e){zs===null?zs=[e]:zs.push(e)}var mfe=_l.ReactCurrentBatchConfig;function ug(e,n,a){if(e=a.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(mt(309));var s=a.stateNode}if(!s)throw Error(mt(147,e));var f=s,h=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===h?n.ref:(n=function(_){var y=f.refs;_===null?delete y[h]:y[h]=_},n._stringRef=h,n)}if(typeof e!="string")throw Error(mt(284));if(!a._owner)throw Error(mt(290,e))}return e}function c0(e,n){throw e=Object.prototype.toString.call(n),Error(mt(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function YU(e){var n=e._init;return n(e._payload)}function kG(e){function n(k,N){if(e){var W=k.deletions;W===null?(k.deletions=[N],k.flags|=16):W.push(N)}}function a(k,N){if(!e)return null;for(;N!==null;)n(k,N),N=N.sibling;return null}function s(k,N){for(k=new Map;N!==null;)N.key!==null?k.set(N.key,N):k.set(N.index,N),N=N.sibling;return k}function f(k,N){return k=Oc(k,N),k.index=0,k.sibling=null,k}function h(k,N,W){return k.index=W,e?(W=k.alternate,W!==null?(W=W.index,W<N?(k.flags|=2,N):W):(k.flags|=2,N)):(k.flags|=1048576,N)}function _(k){return e&&k.alternate===null&&(k.flags|=2),k}function y(k,N,W,G){return N===null||N.tag!==6?(N=Cx(W,k.mode,G),N.return=k,N):(N=f(N,W),N.return=k,N)}function T(k,N,W,G){var le=W.type;return le===xh?x(k,N,W.props.children,G,W.key):N!==null&&(N.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===dc&&YU(le)===N.type)?(G=f(N,W.props),G.ref=ug(k,N,W),G.return=k,G):(G=L0(W.type,W.key,W.props,null,k.mode,G),G.ref=ug(k,N,W),G.return=k,G)}function I(k,N,W,G){return N===null||N.tag!==4||N.stateNode.containerInfo!==W.containerInfo||N.stateNode.implementation!==W.implementation?(N=Tx(W,k.mode,G),N.return=k,N):(N=f(N,W.children||[]),N.return=k,N)}function x(k,N,W,G,le){return N===null||N.tag!==7?(N=qd(W,k.mode,G,le),N.return=k,N):(N=f(N,W),N.return=k,N)}function A(k,N,W){if(typeof N=="string"&&N!==""||typeof N=="number")return N=Cx(""+N,k.mode,W),N.return=k,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case $_:return W=L0(N.type,N.key,N.props,null,k.mode,W),W.ref=ug(k,null,N),W.return=k,W;case Eh:return N=Tx(N,k.mode,W),N.return=k,N;case dc:var G=N._init;return A(k,G(N._payload),W)}if(_g(N)||ng(N))return N=qd(N,k.mode,W,null),N.return=k,N;c0(k,N)}return null}function P(k,N,W,G){var le=N!==null?N.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return le!==null?null:y(k,N,""+W,G);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case $_:return W.key===le?T(k,N,W,G):null;case Eh:return W.key===le?I(k,N,W,G):null;case dc:return le=W._init,P(k,N,le(W._payload),G)}if(_g(W)||ng(W))return le!==null?null:x(k,N,W,G,null);c0(k,W)}return null}function R(k,N,W,G,le){if(typeof G=="string"&&G!==""||typeof G=="number")return k=k.get(W)||null,y(N,k,""+G,le);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case $_:return k=k.get(G.key===null?W:G.key)||null,T(N,k,G,le);case Eh:return k=k.get(G.key===null?W:G.key)||null,I(N,k,G,le);case dc:var $=G._init;return R(k,N,W,$(G._payload),le)}if(_g(G)||ng(G))return k=k.get(W)||null,x(N,k,G,le,null);c0(N,G)}return null}function E(k,N,W,G){for(var le=null,$=null,H=N,ie=N=0,pe=null;H!==null&&ie<W.length;ie++){H.index>ie?(pe=H,H=null):pe=H.sibling;var se=P(k,H,W[ie],G);if(se===null){H===null&&(H=pe);break}e&&H&&se.alternate===null&&n(k,H),N=h(se,N,ie),$===null?le=se:$.sibling=se,$=se,H=pe}if(ie===W.length)return a(k,H),Un&&Rd(k,ie),le;if(H===null){for(;ie<W.length;ie++)H=A(k,W[ie],G),H!==null&&(N=h(H,N,ie),$===null?le=H:$.sibling=H,$=H);return Un&&Rd(k,ie),le}for(H=s(k,H);ie<W.length;ie++)pe=R(H,k,ie,W[ie],G),pe!==null&&(e&&pe.alternate!==null&&H.delete(pe.key===null?ie:pe.key),N=h(pe,N,ie),$===null?le=pe:$.sibling=pe,$=pe);return e&&H.forEach(function(ce){return n(k,ce)}),Un&&Rd(k,ie),le}function O(k,N,W,G){var le=ng(W);if(typeof le!="function")throw Error(mt(150));if(W=le.call(W),W==null)throw Error(mt(151));for(var $=le=null,H=N,ie=N=0,pe=null,se=W.next();H!==null&&!se.done;ie++,se=W.next()){H.index>ie?(pe=H,H=null):pe=H.sibling;var ce=P(k,H,se.value,G);if(ce===null){H===null&&(H=pe);break}e&&H&&ce.alternate===null&&n(k,H),N=h(ce,N,ie),$===null?le=ce:$.sibling=ce,$=ce,H=pe}if(se.done)return a(k,H),Un&&Rd(k,ie),le;if(H===null){for(;!se.done;ie++,se=W.next())se=A(k,se.value,G),se!==null&&(N=h(se,N,ie),$===null?le=se:$.sibling=se,$=se);return Un&&Rd(k,ie),le}for(H=s(k,H);!se.done;ie++,se=W.next())se=R(H,k,ie,se.value,G),se!==null&&(e&&se.alternate!==null&&H.delete(se.key===null?ie:se.key),N=h(se,N,ie),$===null?le=se:$.sibling=se,$=se);return e&&H.forEach(function(me){return n(k,me)}),Un&&Rd(k,ie),le}function L(k,N,W,G){if(typeof W=="object"&&W!==null&&W.type===xh&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case $_:e:{for(var le=W.key,$=N;$!==null;){if($.key===le){if(le=W.type,le===xh){if($.tag===7){a(k,$.sibling),N=f($,W.props.children),N.return=k,k=N;break e}}else if($.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===dc&&YU(le)===$.type){a(k,$.sibling),N=f($,W.props),N.ref=ug(k,$,W),N.return=k,k=N;break e}a(k,$);break}else n(k,$);$=$.sibling}W.type===xh?(N=qd(W.props.children,k.mode,G,W.key),N.return=k,k=N):(G=L0(W.type,W.key,W.props,null,k.mode,G),G.ref=ug(k,N,W),G.return=k,k=G)}return _(k);case Eh:e:{for($=W.key;N!==null;){if(N.key===$)if(N.tag===4&&N.stateNode.containerInfo===W.containerInfo&&N.stateNode.implementation===W.implementation){a(k,N.sibling),N=f(N,W.children||[]),N.return=k,k=N;break e}else{a(k,N);break}else n(k,N);N=N.sibling}N=Tx(W,k.mode,G),N.return=k,k=N}return _(k);case dc:return $=W._init,L(k,N,$(W._payload),G)}if(_g(W))return E(k,N,W,G);if(ng(W))return O(k,N,W,G);c0(k,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,N!==null&&N.tag===6?(a(k,N.sibling),N=f(N,W),N.return=k,k=N):(a(k,N),N=Cx(W,k.mode,G),N.return=k,k=N),_(k)):a(k,N)}return L}var lp=kG(!0),NG=kG(!1),oS=Kc(null),aS=null,Oh=null,V1=null;function G1(){V1=Oh=aS=null}function H1(e){var n=oS.current;Rn(oS),e._currentValue=n}function SA(e,n,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===a)break;e=e.return}}function Gh(e,n){aS=e,V1=Oh=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(ga=!0),e.firstContext=null)}function ds(e){var n=e._currentValue;if(V1!==e)if(e={context:e,memoizedValue:n,next:null},Oh===null){if(aS===null)throw Error(mt(308));Oh=e,aS.dependencies={lanes:0,firstContext:e}}else Oh=Oh.next=e;return n}var Ld=null;function z1(e){Ld===null?Ld=[e]:Ld.push(e)}function FG(e,n,a,s){var f=n.interleaved;return f===null?(a.next=a,z1(n)):(a.next=f.next,f.next=a),n.interleaved=a,ml(e,s)}function ml(e,n){e.lanes|=n;var a=e.alternate;for(a!==null&&(a.lanes|=n),a=e,e=e.return;e!==null;)e.childLanes|=n,a=e.alternate,a!==null&&(a.childLanes|=n),a=e,e=e.return;return a.tag===3?a.stateNode:null}var fc=!1;function K1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function OG(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function dl(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function kc(e,n,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,Xr&2){var f=s.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),s.pending=n,ml(e,a)}return f=s.interleaved,f===null?(n.next=n,z1(s)):(n.next=f.next,f.next=n),s.interleaved=n,ml(e,a)}function R0(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194240)!==0)){var s=n.lanes;s&=e.pendingLanes,a|=s,n.lanes=a,R1(e,a)}}function JU(e,n){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var f=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var _={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};h===null?f=h=_:h=h.next=_,a=a.next}while(a!==null);h===null?f=h=n:h=h.next=n}else f=h=n;a={baseState:s.baseState,firstBaseUpdate:f,lastBaseUpdate:h,shared:s.shared,effects:s.effects},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}function sS(e,n,a,s){var f=e.updateQueue;fc=!1;var h=f.firstBaseUpdate,_=f.lastBaseUpdate,y=f.shared.pending;if(y!==null){f.shared.pending=null;var T=y,I=T.next;T.next=null,_===null?h=I:_.next=I,_=T;var x=e.alternate;x!==null&&(x=x.updateQueue,y=x.lastBaseUpdate,y!==_&&(y===null?x.firstBaseUpdate=I:y.next=I,x.lastBaseUpdate=T))}if(h!==null){var A=f.baseState;_=0,x=I=T=null,y=h;do{var P=y.lane,R=y.eventTime;if((s&P)===P){x!==null&&(x=x.next={eventTime:R,lane:0,tag:y.tag,payload:y.payload,callback:y.callback,next:null});e:{var E=e,O=y;switch(P=n,R=a,O.tag){case 1:if(E=O.payload,typeof E=="function"){A=E.call(R,A,P);break e}A=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=O.payload,P=typeof E=="function"?E.call(R,A,P):E,P==null)break e;A=ri({},A,P);break e;case 2:fc=!0}}y.callback!==null&&y.lane!==0&&(e.flags|=64,P=f.effects,P===null?f.effects=[y]:P.push(y))}else R={eventTime:R,lane:P,tag:y.tag,payload:y.payload,callback:y.callback,next:null},x===null?(I=x=R,T=A):x=x.next=R,_|=P;if(y=y.next,y===null){if(y=f.shared.pending,y===null)break;P=y,y=P.next,P.next=null,f.lastBaseUpdate=P,f.shared.pending=null}}while(!0);if(x===null&&(T=A),f.baseState=T,f.firstBaseUpdate=I,f.lastBaseUpdate=x,n=f.shared.interleaved,n!==null){f=n;do _|=f.lane,f=f.next;while(f!==n)}else h===null&&(f.shared.lanes=0);ef|=_,e.lanes=_,e.memoizedState=A}}function qU(e,n,a){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var s=e[n],f=s.callback;if(f!==null){if(s.callback=null,s=a,typeof f!="function")throw Error(mt(191,f));f.call(s)}}}var Sv={},ku=Kc(Sv),Yg=Kc(Sv),Jg=Kc(Sv);function Wd(e){if(e===Sv)throw Error(mt(174));return e}function Q1(e,n){switch(bn(Jg,n),bn(Yg,e),bn(ku,Sv),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:eA(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=eA(n,e)}Rn(ku),bn(ku,n)}function cp(){Rn(ku),Rn(Yg),Rn(Jg)}function MG(e){Wd(Jg.current);var n=Wd(ku.current),a=eA(n,e.type);n!==a&&(bn(Yg,e),bn(ku,a))}function Y1(e){Yg.current===e&&(Rn(ku),Rn(Yg))}var ei=Kc(0);function uS(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var gx=[];function J1(){for(var e=0;e<gx.length;e++)gx[e]._workInProgressVersionPrimary=null;gx.length=0}var k0=_l.ReactCurrentDispatcher,vx=_l.ReactCurrentBatchConfig,$d=0,ti=null,Wi=null,$i=null,lS=!1,Rg=!1,qg=0,gfe=0;function To(){throw Error(mt(321))}function q1(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!Js(e[a],n[a]))return!1;return!0}function X1(e,n,a,s,f,h){if($d=h,ti=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,k0.current=e===null||e.memoizedState===null?Sfe:bfe,e=a(s,f),Rg){h=0;do{if(Rg=!1,qg=0,25<=h)throw Error(mt(301));h+=1,$i=Wi=null,n.updateQueue=null,k0.current=Cfe,e=a(s,f)}while(Rg)}if(k0.current=cS,n=Wi!==null&&Wi.next!==null,$d=0,$i=Wi=ti=null,lS=!1,n)throw Error(mt(300));return e}function Z1(){var e=qg!==0;return qg=0,e}function Cu(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $i===null?ti.memoizedState=$i=e:$i=$i.next=e,$i}function fs(){if(Wi===null){var e=ti.alternate;e=e!==null?e.memoizedState:null}else e=Wi.next;var n=$i===null?ti.memoizedState:$i.next;if(n!==null)$i=n,Wi=e;else{if(e===null)throw Error(mt(310));Wi=e,e={memoizedState:Wi.memoizedState,baseState:Wi.baseState,baseQueue:Wi.baseQueue,queue:Wi.queue,next:null},$i===null?ti.memoizedState=$i=e:$i=$i.next=e}return $i}function Xg(e,n){return typeof n=="function"?n(e):n}function yx(e){var n=fs(),a=n.queue;if(a===null)throw Error(mt(311));a.lastRenderedReducer=e;var s=Wi,f=s.baseQueue,h=a.pending;if(h!==null){if(f!==null){var _=f.next;f.next=h.next,h.next=_}s.baseQueue=f=h,a.pending=null}if(f!==null){h=f.next,s=s.baseState;var y=_=null,T=null,I=h;do{var x=I.lane;if(($d&x)===x)T!==null&&(T=T.next={lane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),s=I.hasEagerState?I.eagerState:e(s,I.action);else{var A={lane:x,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null};T===null?(y=T=A,_=s):T=T.next=A,ti.lanes|=x,ef|=x}I=I.next}while(I!==null&&I!==h);T===null?_=s:T.next=y,Js(s,n.memoizedState)||(ga=!0),n.memoizedState=s,n.baseState=_,n.baseQueue=T,a.lastRenderedState=s}if(e=a.interleaved,e!==null){f=e;do h=f.lane,ti.lanes|=h,ef|=h,f=f.next;while(f!==e)}else f===null&&(a.lanes=0);return[n.memoizedState,a.dispatch]}function _x(e){var n=fs(),a=n.queue;if(a===null)throw Error(mt(311));a.lastRenderedReducer=e;var s=a.dispatch,f=a.pending,h=n.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do h=e(h,_.action),_=_.next;while(_!==f);Js(h,n.memoizedState)||(ga=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),a.lastRenderedState=h}return[h,s]}function LG(){}function WG(e,n){var a=ti,s=fs(),f=n(),h=!Js(s.memoizedState,f);if(h&&(s.memoizedState=f,ga=!0),s=s.queue,$1(UG.bind(null,a,s,e),[e]),s.getSnapshot!==n||h||$i!==null&&$i.memoizedState.tag&1){if(a.flags|=2048,Zg(9,BG.bind(null,a,s,f,n),void 0,null),ro===null)throw Error(mt(349));$d&30||jG(a,n,f)}return f}function jG(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=ti.updateQueue,n===null?(n={lastEffect:null,stores:null},ti.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function BG(e,n,a,s){n.value=a,n.getSnapshot=s,VG(n)&&GG(e)}function UG(e,n,a){return a(function(){VG(n)&&GG(e)})}function VG(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!Js(e,a)}catch{return!0}}function GG(e){var n=ml(e,1);n!==null&&Ys(n,e,1,-1)}function XU(e){var n=Cu();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xg,lastRenderedState:e},n.queue=e,e=e.dispatch=_fe.bind(null,ti,e),[n.memoizedState,e]}function Zg(e,n,a,s){return e={tag:e,create:n,destroy:a,deps:s,next:null},n=ti.updateQueue,n===null?(n={lastEffect:null,stores:null},ti.updateQueue=n,n.lastEffect=e.next=e):(a=n.lastEffect,a===null?n.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,n.lastEffect=e)),e}function HG(){return fs().memoizedState}function N0(e,n,a,s){var f=Cu();ti.flags|=e,f.memoizedState=Zg(1|n,a,void 0,s===void 0?null:s)}function VS(e,n,a,s){var f=fs();s=s===void 0?null:s;var h=void 0;if(Wi!==null){var _=Wi.memoizedState;if(h=_.destroy,s!==null&&q1(s,_.deps)){f.memoizedState=Zg(n,a,h,s);return}}ti.flags|=e,f.memoizedState=Zg(1|n,a,h,s)}function ZU(e,n){return N0(8390656,8,e,n)}function $1(e,n){return VS(2048,8,e,n)}function zG(e,n){return VS(4,2,e,n)}function KG(e,n){return VS(4,4,e,n)}function QG(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function YG(e,n,a){return a=a!=null?a.concat([e]):null,VS(4,4,QG.bind(null,n,e),a)}function eD(){}function JG(e,n){var a=fs();n=n===void 0?null:n;var s=a.memoizedState;return s!==null&&n!==null&&q1(n,s[1])?s[0]:(a.memoizedState=[e,n],e)}function qG(e,n){var a=fs();n=n===void 0?null:n;var s=a.memoizedState;return s!==null&&n!==null&&q1(n,s[1])?s[0]:(e=e(),a.memoizedState=[e,n],e)}function XG(e,n,a){return $d&21?(Js(a,n)||(a=rG(),ti.lanes|=a,ef|=a,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,ga=!0),e.memoizedState=a)}function vfe(e,n){var a=dn;dn=a!==0&&4>a?a:4,e(!0);var s=vx.transition;vx.transition={};try{e(!1),n()}finally{dn=a,vx.transition=s}}function ZG(){return fs().memoizedState}function yfe(e,n,a){var s=Fc(e);if(a={lane:s,action:a,hasEagerState:!1,eagerState:null,next:null},$G(e))e6(n,a);else if(a=FG(e,n,a,s),a!==null){var f=zo();Ys(a,e,s,f),t6(a,n,s)}}function _fe(e,n,a){var s=Fc(e),f={lane:s,action:a,hasEagerState:!1,eagerState:null,next:null};if($G(e))e6(n,f);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var _=n.lastRenderedState,y=h(_,a);if(f.hasEagerState=!0,f.eagerState=y,Js(y,_)){var T=n.interleaved;T===null?(f.next=f,z1(n)):(f.next=T.next,T.next=f),n.interleaved=f;return}}catch{}finally{}a=FG(e,n,f,s),a!==null&&(f=zo(),Ys(a,e,s,f),t6(a,n,s))}}function $G(e){var n=e.alternate;return e===ti||n!==null&&n===ti}function e6(e,n){Rg=lS=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function t6(e,n,a){if(a&4194240){var s=n.lanes;s&=e.pendingLanes,a|=s,n.lanes=a,R1(e,a)}}var cS={readContext:ds,useCallback:To,useContext:To,useEffect:To,useImperativeHandle:To,useInsertionEffect:To,useLayoutEffect:To,useMemo:To,useReducer:To,useRef:To,useState:To,useDebugValue:To,useDeferredValue:To,useTransition:To,useMutableSource:To,useSyncExternalStore:To,useId:To,unstable_isNewReconciler:!1},Sfe={readContext:ds,useCallback:function(e,n){return Cu().memoizedState=[e,n===void 0?null:n],e},useContext:ds,useEffect:ZU,useImperativeHandle:function(e,n,a){return a=a!=null?a.concat([e]):null,N0(4194308,4,QG.bind(null,n,e),a)},useLayoutEffect:function(e,n){return N0(4194308,4,e,n)},useInsertionEffect:function(e,n){return N0(4,2,e,n)},useMemo:function(e,n){var a=Cu();return n=n===void 0?null:n,e=e(),a.memoizedState=[e,n],e},useReducer:function(e,n,a){var s=Cu();return n=a!==void 0?a(n):n,s.memoizedState=s.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},s.queue=e,e=e.dispatch=yfe.bind(null,ti,e),[s.memoizedState,e]},useRef:function(e){var n=Cu();return e={current:e},n.memoizedState=e},useState:XU,useDebugValue:eD,useDeferredValue:function(e){return Cu().memoizedState=e},useTransition:function(){var e=XU(!1),n=e[0];return e=vfe.bind(null,e[1]),Cu().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,a){var s=ti,f=Cu();if(Un){if(a===void 0)throw Error(mt(407));a=a()}else{if(a=n(),ro===null)throw Error(mt(349));$d&30||jG(s,n,a)}f.memoizedState=a;var h={value:a,getSnapshot:n};return f.queue=h,ZU(UG.bind(null,s,h,e),[e]),s.flags|=2048,Zg(9,BG.bind(null,s,h,a,n),void 0,null),a},useId:function(){var e=Cu(),n=ro.identifierPrefix;if(Un){var a=cl,s=ll;a=(s&~(1<<32-Qs(s)-1)).toString(32)+a,n=":"+n+"R"+a,a=qg++,0<a&&(n+="H"+a.toString(32)),n+=":"}else a=gfe++,n=":"+n+"r"+a.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},bfe={readContext:ds,useCallback:JG,useContext:ds,useEffect:$1,useImperativeHandle:YG,useInsertionEffect:zG,useLayoutEffect:KG,useMemo:qG,useReducer:yx,useRef:HG,useState:function(){return yx(Xg)},useDebugValue:eD,useDeferredValue:function(e){var n=fs();return XG(n,Wi.memoizedState,e)},useTransition:function(){var e=yx(Xg)[0],n=fs().memoizedState;return[e,n]},useMutableSource:LG,useSyncExternalStore:WG,useId:ZG,unstable_isNewReconciler:!1},Cfe={readContext:ds,useCallback:JG,useContext:ds,useEffect:$1,useImperativeHandle:YG,useInsertionEffect:zG,useLayoutEffect:KG,useMemo:qG,useReducer:_x,useRef:HG,useState:function(){return _x(Xg)},useDebugValue:eD,useDeferredValue:function(e){var n=fs();return Wi===null?n.memoizedState=e:XG(n,Wi.memoizedState,e)},useTransition:function(){var e=_x(Xg)[0],n=fs().memoizedState;return[e,n]},useMutableSource:LG,useSyncExternalStore:WG,useId:ZG,unstable_isNewReconciler:!1};function Bs(e,n){if(e&&e.defaultProps){n=ri({},n),e=e.defaultProps;for(var a in e)n[a]===void 0&&(n[a]=e[a]);return n}return n}function bA(e,n,a,s){n=e.memoizedState,a=a(s,n),a=a==null?n:ri({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var GS={isMounted:function(e){return(e=e._reactInternals)?uf(e)===e:!1},enqueueSetState:function(e,n,a){e=e._reactInternals;var s=zo(),f=Fc(e),h=dl(s,f);h.payload=n,a!=null&&(h.callback=a),n=kc(e,h,f),n!==null&&(Ys(n,e,f,s),R0(n,e,f))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var s=zo(),f=Fc(e),h=dl(s,f);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=kc(e,h,f),n!==null&&(Ys(n,e,f,s),R0(n,e,f))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=zo(),s=Fc(e),f=dl(a,s);f.tag=2,n!=null&&(f.callback=n),n=kc(e,f,s),n!==null&&(Ys(n,e,s,a),R0(n,e,s))}};function $U(e,n,a,s,f,h,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,h,_):n.prototype&&n.prototype.isPureReactComponent?!Hg(a,s)||!Hg(f,h):!0}function r6(e,n,a){var s=!1,f=Uc,h=n.contextType;return typeof h=="object"&&h!==null?h=ds(h):(f=ya(n)?Xd:xo.current,s=n.contextTypes,h=(s=s!=null)?sp(e,f):Uc),n=new n(a,h),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=GS,e.stateNode=n,n._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=f,e.__reactInternalMemoizedMaskedChildContext=h),n}function e4(e,n,a,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,s),n.state!==e&&GS.enqueueReplaceState(n,n.state,null)}function CA(e,n,a,s){var f=e.stateNode;f.props=a,f.state=e.memoizedState,f.refs={},K1(e);var h=n.contextType;typeof h=="object"&&h!==null?f.context=ds(h):(h=ya(n)?Xd:xo.current,f.context=sp(e,h)),f.state=e.memoizedState,h=n.getDerivedStateFromProps,typeof h=="function"&&(bA(e,n,h,a),f.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(n=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),n!==f.state&&GS.enqueueReplaceState(f,f.state,null),sS(e,a,f,s),f.state=e.memoizedState),typeof f.componentDidMount=="function"&&(e.flags|=4194308)}function dp(e,n){try{var a="",s=n;do a+=qce(s),s=s.return;while(s);var f=a}catch(h){f=`
Error generating stack: `+h.message+`
`+h.stack}return{value:e,source:n,stack:f,digest:null}}function Sx(e,n,a){return{value:e,source:null,stack:a??null,digest:n??null}}function TA(e,n){try{console.error(n.value)}catch(a){setTimeout(function(){throw a})}}var Tfe=typeof WeakMap=="function"?WeakMap:Map;function n6(e,n,a){a=dl(-1,a),a.tag=3,a.payload={element:null};var s=n.value;return a.callback=function(){fS||(fS=!0,NA=s),TA(e,n)},a}function i6(e,n,a){a=dl(-1,a),a.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var f=n.value;a.payload=function(){return s(f)},a.callback=function(){TA(e,n)}}var h=e.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(a.callback=function(){TA(e,n),typeof s!="function"&&(Nc===null?Nc=new Set([this]):Nc.add(this));var _=n.stack;this.componentDidCatch(n.value,{componentStack:_!==null?_:""})}),a}function t4(e,n,a){var s=e.pingCache;if(s===null){s=e.pingCache=new Tfe;var f=new Set;s.set(n,f)}else f=s.get(n),f===void 0&&(f=new Set,s.set(n,f));f.has(a)||(f.add(a),e=Lfe.bind(null,e,n,a),n.then(e,e))}function r4(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function n4(e,n,a,s,f){return e.mode&1?(e.flags|=65536,e.lanes=f,e):(e===n?e.flags|=65536:(e.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(n=dl(-1,1),n.tag=2,kc(a,n,1))),a.lanes|=1),e)}var Ife=_l.ReactCurrentOwner,ga=!1;function Go(e,n,a,s){n.child=e===null?NG(n,null,a,s):lp(n,e.child,a,s)}function i4(e,n,a,s,f){a=a.render;var h=n.ref;return Gh(n,f),s=X1(e,n,a,s,h,f),a=Z1(),e!==null&&!ga?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~f,gl(e,n,f)):(Un&&a&&j1(n),n.flags|=1,Go(e,n,s,f),n.child)}function o4(e,n,a,s,f){if(e===null){var h=a.type;return typeof h=="function"&&!uD(h)&&h.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(n.tag=15,n.type=h,o6(e,n,h,s,f)):(e=L0(a.type,null,s,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,!(e.lanes&f)){var _=h.memoizedProps;if(a=a.compare,a=a!==null?a:Hg,a(_,s)&&e.ref===n.ref)return gl(e,n,f)}return n.flags|=1,e=Oc(h,s),e.ref=n.ref,e.return=n,n.child=e}function o6(e,n,a,s,f){if(e!==null){var h=e.memoizedProps;if(Hg(h,s)&&e.ref===n.ref)if(ga=!1,n.pendingProps=s=h,(e.lanes&f)!==0)e.flags&131072&&(ga=!0);else return n.lanes=e.lanes,gl(e,n,f)}return IA(e,n,a,s,f)}function a6(e,n,a){var s=n.pendingProps,f=s.children,h=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},bn(Lh,Na),Na|=a;else{if(!(a&1073741824))return e=h!==null?h.baseLanes|a:a,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,bn(Lh,Na),Na|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=h!==null?h.baseLanes:a,bn(Lh,Na),Na|=s}else h!==null?(s=h.baseLanes|a,n.memoizedState=null):s=a,bn(Lh,Na),Na|=s;return Go(e,n,f,a),n.child}function s6(e,n){var a=n.ref;(e===null&&a!==null||e!==null&&e.ref!==a)&&(n.flags|=512,n.flags|=2097152)}function IA(e,n,a,s,f){var h=ya(a)?Xd:xo.current;return h=sp(n,h),Gh(n,f),a=X1(e,n,a,s,h,f),s=Z1(),e!==null&&!ga?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~f,gl(e,n,f)):(Un&&s&&j1(n),n.flags|=1,Go(e,n,a,f),n.child)}function a4(e,n,a,s,f){if(ya(a)){var h=!0;rS(n)}else h=!1;if(Gh(n,f),n.stateNode===null)F0(e,n),r6(n,a,s),CA(n,a,s,f),s=!0;else if(e===null){var _=n.stateNode,y=n.memoizedProps;_.props=y;var T=_.context,I=a.contextType;typeof I=="object"&&I!==null?I=ds(I):(I=ya(a)?Xd:xo.current,I=sp(n,I));var x=a.getDerivedStateFromProps,A=typeof x=="function"||typeof _.getSnapshotBeforeUpdate=="function";A||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(y!==s||T!==I)&&e4(n,_,s,I),fc=!1;var P=n.memoizedState;_.state=P,sS(n,s,_,f),T=n.memoizedState,y!==s||P!==T||va.current||fc?(typeof x=="function"&&(bA(n,a,x,s),T=n.memoizedState),(y=fc||$U(n,a,y,s,P,T,I))?(A||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(n.flags|=4194308)):(typeof _.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=T),_.props=s,_.state=T,_.context=I,s=y):(typeof _.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{_=n.stateNode,OG(e,n),y=n.memoizedProps,I=n.type===n.elementType?y:Bs(n.type,y),_.props=I,A=n.pendingProps,P=_.context,T=a.contextType,typeof T=="object"&&T!==null?T=ds(T):(T=ya(a)?Xd:xo.current,T=sp(n,T));var R=a.getDerivedStateFromProps;(x=typeof R=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(y!==A||P!==T)&&e4(n,_,s,T),fc=!1,P=n.memoizedState,_.state=P,sS(n,s,_,f);var E=n.memoizedState;y!==A||P!==E||va.current||fc?(typeof R=="function"&&(bA(n,a,R,s),E=n.memoizedState),(I=fc||$U(n,a,I,s,P,E,T)||!1)?(x||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(s,E,T),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(s,E,T)),typeof _.componentDidUpdate=="function"&&(n.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof _.componentDidUpdate!="function"||y===e.memoizedProps&&P===e.memoizedState||(n.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&P===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=E),_.props=s,_.state=E,_.context=T,s=I):(typeof _.componentDidUpdate!="function"||y===e.memoizedProps&&P===e.memoizedState||(n.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&P===e.memoizedState||(n.flags|=1024),s=!1)}return wA(e,n,a,s,h,f)}function wA(e,n,a,s,f,h){s6(e,n);var _=(n.flags&128)!==0;if(!s&&!_)return f&&zU(n,a,!1),gl(e,n,h);s=n.stateNode,Ife.current=n;var y=_&&typeof a.getDerivedStateFromError!="function"?null:s.render();return n.flags|=1,e!==null&&_?(n.child=lp(n,e.child,null,h),n.child=lp(n,null,y,h)):Go(e,n,y,h),n.memoizedState=s.state,f&&zU(n,a,!0),n.child}function u6(e){var n=e.stateNode;n.pendingContext?HU(e,n.pendingContext,n.pendingContext!==n.context):n.context&&HU(e,n.context,!1),Q1(e,n.containerInfo)}function s4(e,n,a,s,f){return up(),U1(f),n.flags|=256,Go(e,n,a,s),n.child}var EA={dehydrated:null,treeContext:null,retryLane:0};function xA(e){return{baseLanes:e,cachePool:null,transitions:null}}function l6(e,n,a){var s=n.pendingProps,f=ei.current,h=!1,_=(n.flags&128)!==0,y;if((y=_)||(y=e!==null&&e.memoizedState===null?!1:(f&2)!==0),y?(h=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(f|=1),bn(ei,f&1),e===null)return _A(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(_=s.children,e=s.fallback,h?(s=n.mode,h=n.child,_={mode:"hidden",children:_},!(s&1)&&h!==null?(h.childLanes=0,h.pendingProps=_):h=KS(_,s,0,null),e=qd(e,s,a,null),h.return=n,e.return=n,h.sibling=e,n.child=h,n.child.memoizedState=xA(a),n.memoizedState=EA,e):tD(n,_));if(f=e.memoizedState,f!==null&&(y=f.dehydrated,y!==null))return wfe(e,n,_,s,y,f,a);if(h){h=s.fallback,_=n.mode,f=e.child,y=f.sibling;var T={mode:"hidden",children:s.children};return!(_&1)&&n.child!==f?(s=n.child,s.childLanes=0,s.pendingProps=T,n.deletions=null):(s=Oc(f,T),s.subtreeFlags=f.subtreeFlags&14680064),y!==null?h=Oc(y,h):(h=qd(h,_,a,null),h.flags|=2),h.return=n,s.return=n,s.sibling=h,n.child=s,s=h,h=n.child,_=e.child.memoizedState,_=_===null?xA(a):{baseLanes:_.baseLanes|a,cachePool:null,transitions:_.transitions},h.memoizedState=_,h.childLanes=e.childLanes&~a,n.memoizedState=EA,s}return h=e.child,e=h.sibling,s=Oc(h,{mode:"visible",children:s.children}),!(n.mode&1)&&(s.lanes=a),s.return=n,s.sibling=null,e!==null&&(a=n.deletions,a===null?(n.deletions=[e],n.flags|=16):a.push(e)),n.child=s,n.memoizedState=null,s}function tD(e,n){return n=KS({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function d0(e,n,a,s){return s!==null&&U1(s),lp(n,e.child,null,a),e=tD(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function wfe(e,n,a,s,f,h,_){if(a)return n.flags&256?(n.flags&=-257,s=Sx(Error(mt(422))),d0(e,n,_,s)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(h=s.fallback,f=n.mode,s=KS({mode:"visible",children:s.children},f,0,null),h=qd(h,f,_,null),h.flags|=2,s.return=n,h.return=n,s.sibling=h,n.child=s,n.mode&1&&lp(n,e.child,null,_),n.child.memoizedState=xA(_),n.memoizedState=EA,h);if(!(n.mode&1))return d0(e,n,_,null);if(f.data==="$!"){if(s=f.nextSibling&&f.nextSibling.dataset,s)var y=s.dgst;return s=y,h=Error(mt(419)),s=Sx(h,s,void 0),d0(e,n,_,s)}if(y=(_&e.childLanes)!==0,ga||y){if(s=ro,s!==null){switch(_&-_){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(s.suspendedLanes|_)?0:f,f!==0&&f!==h.retryLane&&(h.retryLane=f,ml(e,f),Ys(s,e,f,-1))}return sD(),s=Sx(Error(mt(421))),d0(e,n,_,s)}return f.data==="$?"?(n.flags|=128,n.child=e.child,n=Wfe.bind(null,e),f._reactRetry=n,null):(e=h.treeContext,Ma=Rc(f.nextSibling),La=n,Un=!0,zs=null,e!==null&&(os[as++]=ll,os[as++]=cl,os[as++]=Zd,ll=e.id,cl=e.overflow,Zd=n),n=tD(n,s.children),n.flags|=4096,n)}function u4(e,n,a){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),SA(e.return,n,a)}function bx(e,n,a,s,f){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:f}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=s,h.tail=a,h.tailMode=f)}function c6(e,n,a){var s=n.pendingProps,f=s.revealOrder,h=s.tail;if(Go(e,n,s.children,a),s=ei.current,s&2)s=s&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&u4(e,a,n);else if(e.tag===19)u4(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(bn(ei,s),!(n.mode&1))n.memoizedState=null;else switch(f){case"forwards":for(a=n.child,f=null;a!==null;)e=a.alternate,e!==null&&uS(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=n.child,n.child=null):(f=a.sibling,a.sibling=null),bx(n,!1,f,a,h);break;case"backwards":for(a=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&uS(e)===null){n.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}bx(n,!0,a,null,h);break;case"together":bx(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function F0(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function gl(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),ef|=n.lanes,!(a&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(mt(153));if(n.child!==null){for(e=n.child,a=Oc(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Oc(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Efe(e,n,a){switch(n.tag){case 3:u6(n),up();break;case 5:MG(n);break;case 1:ya(n.type)&&rS(n);break;case 4:Q1(n,n.stateNode.containerInfo);break;case 10:var s=n.type._context,f=n.memoizedProps.value;bn(oS,s._currentValue),s._currentValue=f;break;case 13:if(s=n.memoizedState,s!==null)return s.dehydrated!==null?(bn(ei,ei.current&1),n.flags|=128,null):a&n.child.childLanes?l6(e,n,a):(bn(ei,ei.current&1),e=gl(e,n,a),e!==null?e.sibling:null);bn(ei,ei.current&1);break;case 19:if(s=(a&n.childLanes)!==0,e.flags&128){if(s)return c6(e,n,a);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),bn(ei,ei.current),s)break;return null;case 22:case 23:return n.lanes=0,a6(e,n,a)}return gl(e,n,a)}var d6,AA,f6,h6;d6=function(e,n){for(var a=n.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};AA=function(){};f6=function(e,n,a,s){var f=e.memoizedProps;if(f!==s){e=n.stateNode,Wd(ku.current);var h=null;switch(a){case"input":f=qx(e,f),s=qx(e,s),h=[];break;case"select":f=ri({},f,{value:void 0}),s=ri({},s,{value:void 0}),h=[];break;case"textarea":f=$x(e,f),s=$x(e,s),h=[];break;default:typeof f.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=eS)}tA(a,s);var _;a=null;for(I in f)if(!s.hasOwnProperty(I)&&f.hasOwnProperty(I)&&f[I]!=null)if(I==="style"){var y=f[I];for(_ in y)y.hasOwnProperty(_)&&(a||(a={}),a[_]="")}else I!=="dangerouslySetInnerHTML"&&I!=="children"&&I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(Lg.hasOwnProperty(I)?h||(h=[]):(h=h||[]).push(I,null));for(I in s){var T=s[I];if(y=f!=null?f[I]:void 0,s.hasOwnProperty(I)&&T!==y&&(T!=null||y!=null))if(I==="style")if(y){for(_ in y)!y.hasOwnProperty(_)||T&&T.hasOwnProperty(_)||(a||(a={}),a[_]="");for(_ in T)T.hasOwnProperty(_)&&y[_]!==T[_]&&(a||(a={}),a[_]=T[_])}else a||(h||(h=[]),h.push(I,a)),a=T;else I==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,y=y?y.__html:void 0,T!=null&&y!==T&&(h=h||[]).push(I,T)):I==="children"?typeof T!="string"&&typeof T!="number"||(h=h||[]).push(I,""+T):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&(Lg.hasOwnProperty(I)?(T!=null&&I==="onScroll"&&Dn("scroll",e),h||y===T||(h=[])):(h=h||[]).push(I,T))}a&&(h=h||[]).push("style",a);var I=h;(n.updateQueue=I)&&(n.flags|=4)}};h6=function(e,n,a,s){a!==s&&(n.flags|=4)};function lg(e,n){if(!Un)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Io(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(n)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,s|=f.subtreeFlags&14680064,s|=f.flags&14680064,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,s|=f.subtreeFlags,s|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=s,e.childLanes=a,n}function xfe(e,n,a){var s=n.pendingProps;switch(B1(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Io(n),null;case 1:return ya(n.type)&&tS(),Io(n),null;case 3:return s=n.stateNode,cp(),Rn(va),Rn(xo),J1(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(l0(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,zs!==null&&(MA(zs),zs=null))),AA(e,n),Io(n),null;case 5:Y1(n);var f=Wd(Jg.current);if(a=n.type,e!==null&&n.stateNode!=null)f6(e,n,a,s,f),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!s){if(n.stateNode===null)throw Error(mt(166));return Io(n),null}if(e=Wd(ku.current),l0(n)){s=n.stateNode,a=n.type;var h=n.memoizedProps;switch(s[Eu]=n,s[Qg]=h,e=(n.mode&1)!==0,a){case"dialog":Dn("cancel",s),Dn("close",s);break;case"iframe":case"object":case"embed":Dn("load",s);break;case"video":case"audio":for(f=0;f<bg.length;f++)Dn(bg[f],s);break;case"source":Dn("error",s);break;case"img":case"image":case"link":Dn("error",s),Dn("load",s);break;case"details":Dn("toggle",s);break;case"input":vU(s,h),Dn("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!h.multiple},Dn("invalid",s);break;case"textarea":_U(s,h),Dn("invalid",s)}tA(a,h),f=null;for(var _ in h)if(h.hasOwnProperty(_)){var y=h[_];_==="children"?typeof y=="string"?s.textContent!==y&&(h.suppressHydrationWarning!==!0&&u0(s.textContent,y,e),f=["children",y]):typeof y=="number"&&s.textContent!==""+y&&(h.suppressHydrationWarning!==!0&&u0(s.textContent,y,e),f=["children",""+y]):Lg.hasOwnProperty(_)&&y!=null&&_==="onScroll"&&Dn("scroll",s)}switch(a){case"input":e0(s),yU(s,h,!0);break;case"textarea":e0(s),SU(s);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(s.onclick=eS)}s=f,n.updateQueue=s,s!==null&&(n.flags|=4)}else{_=f.nodeType===9?f:f.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=U5(a)),e==="http://www.w3.org/1999/xhtml"?a==="script"?(e=_.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=_.createElement(a,{is:s.is}):(e=_.createElement(a),a==="select"&&(_=e,s.multiple?_.multiple=!0:s.size&&(_.size=s.size))):e=_.createElementNS(e,a),e[Eu]=n,e[Qg]=s,d6(e,n,!1,!1),n.stateNode=e;e:{switch(_=rA(a,s),a){case"dialog":Dn("cancel",e),Dn("close",e),f=s;break;case"iframe":case"object":case"embed":Dn("load",e),f=s;break;case"video":case"audio":for(f=0;f<bg.length;f++)Dn(bg[f],e);f=s;break;case"source":Dn("error",e),f=s;break;case"img":case"image":case"link":Dn("error",e),Dn("load",e),f=s;break;case"details":Dn("toggle",e),f=s;break;case"input":vU(e,s),f=qx(e,s),Dn("invalid",e);break;case"option":f=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},f=ri({},s,{value:void 0}),Dn("invalid",e);break;case"textarea":_U(e,s),f=$x(e,s),Dn("invalid",e);break;default:f=s}tA(a,f),y=f;for(h in y)if(y.hasOwnProperty(h)){var T=y[h];h==="style"?H5(e,T):h==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,T!=null&&V5(e,T)):h==="children"?typeof T=="string"?(a!=="textarea"||T!=="")&&Wg(e,T):typeof T=="number"&&Wg(e,""+T):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Lg.hasOwnProperty(h)?T!=null&&h==="onScroll"&&Dn("scroll",e):T!=null&&w1(e,h,T,_))}switch(a){case"input":e0(e),yU(e,s,!1);break;case"textarea":e0(e),SU(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Bc(s.value));break;case"select":e.multiple=!!s.multiple,h=s.value,h!=null?jh(e,!!s.multiple,h,!1):s.defaultValue!=null&&jh(e,!!s.multiple,s.defaultValue,!0);break;default:typeof f.onClick=="function"&&(e.onclick=eS)}switch(a){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Io(n),null;case 6:if(e&&n.stateNode!=null)h6(e,n,e.memoizedProps,s);else{if(typeof s!="string"&&n.stateNode===null)throw Error(mt(166));if(a=Wd(Jg.current),Wd(ku.current),l0(n)){if(s=n.stateNode,a=n.memoizedProps,s[Eu]=n,(h=s.nodeValue!==a)&&(e=La,e!==null))switch(e.tag){case 3:u0(s.nodeValue,a,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&u0(s.nodeValue,a,(e.mode&1)!==0)}h&&(n.flags|=4)}else s=(a.nodeType===9?a:a.ownerDocument).createTextNode(s),s[Eu]=n,n.stateNode=s}return Io(n),null;case 13:if(Rn(ei),s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Un&&Ma!==null&&n.mode&1&&!(n.flags&128))RG(),up(),n.flags|=98560,h=!1;else if(h=l0(n),s!==null&&s.dehydrated!==null){if(e===null){if(!h)throw Error(mt(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(mt(317));h[Eu]=n}else up(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Io(n),h=!1}else zs!==null&&(MA(zs),zs=null),h=!0;if(!h)return n.flags&65536?n:null}return n.flags&128?(n.lanes=a,n):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(n.child.flags|=8192,n.mode&1&&(e===null||ei.current&1?Gi===0&&(Gi=3):sD())),n.updateQueue!==null&&(n.flags|=4),Io(n),null);case 4:return cp(),AA(e,n),e===null&&zg(n.stateNode.containerInfo),Io(n),null;case 10:return H1(n.type._context),Io(n),null;case 17:return ya(n.type)&&tS(),Io(n),null;case 19:if(Rn(ei),h=n.memoizedState,h===null)return Io(n),null;if(s=(n.flags&128)!==0,_=h.rendering,_===null)if(s)lg(h,!1);else{if(Gi!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(_=uS(e),_!==null){for(n.flags|=128,lg(h,!1),s=_.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),n.subtreeFlags=0,s=a,a=n.child;a!==null;)h=a,e=s,h.flags&=14680066,_=h.alternate,_===null?(h.childLanes=0,h.lanes=e,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=_.childLanes,h.lanes=_.lanes,h.child=_.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=_.memoizedProps,h.memoizedState=_.memoizedState,h.updateQueue=_.updateQueue,h.type=_.type,e=_.dependencies,h.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),a=a.sibling;return bn(ei,ei.current&1|2),n.child}e=e.sibling}h.tail!==null&&Ci()>fp&&(n.flags|=128,s=!0,lg(h,!1),n.lanes=4194304)}else{if(!s)if(e=uS(_),e!==null){if(n.flags|=128,s=!0,a=e.updateQueue,a!==null&&(n.updateQueue=a,n.flags|=4),lg(h,!0),h.tail===null&&h.tailMode==="hidden"&&!_.alternate&&!Un)return Io(n),null}else 2*Ci()-h.renderingStartTime>fp&&a!==1073741824&&(n.flags|=128,s=!0,lg(h,!1),n.lanes=4194304);h.isBackwards?(_.sibling=n.child,n.child=_):(a=h.last,a!==null?a.sibling=_:n.child=_,h.last=_)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=Ci(),n.sibling=null,a=ei.current,bn(ei,s?a&1|2:a&1),n):(Io(n),null);case 22:case 23:return aD(),s=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(n.flags|=8192),s&&n.mode&1?Na&1073741824&&(Io(n),n.subtreeFlags&6&&(n.flags|=8192)):Io(n),null;case 24:return null;case 25:return null}throw Error(mt(156,n.tag))}function Afe(e,n){switch(B1(n),n.tag){case 1:return ya(n.type)&&tS(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return cp(),Rn(va),Rn(xo),J1(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return Y1(n),null;case 13:if(Rn(ei),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(mt(340));up()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Rn(ei),null;case 4:return cp(),null;case 10:return H1(n.type._context),null;case 22:case 23:return aD(),null;case 24:return null;default:return null}}var f0=!1,Eo=!1,Dfe=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function Mh(e,n){var a=e.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(s){fi(e,n,s)}else a.current=null}function DA(e,n,a){try{a()}catch(s){fi(e,n,s)}}var l4=!1;function Pfe(e,n){if(fA=X0,e=yG(),W1(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var f=s.anchorOffset,h=s.focusNode;s=s.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break e}var _=0,y=-1,T=-1,I=0,x=0,A=e,P=null;t:for(;;){for(var R;A!==a||f!==0&&A.nodeType!==3||(y=_+f),A!==h||s!==0&&A.nodeType!==3||(T=_+s),A.nodeType===3&&(_+=A.nodeValue.length),(R=A.firstChild)!==null;)P=A,A=R;for(;;){if(A===e)break t;if(P===a&&++I===f&&(y=_),P===h&&++x===s&&(T=_),(R=A.nextSibling)!==null)break;A=P,P=A.parentNode}A=R}a=y===-1||T===-1?null:{start:y,end:T}}else a=null}a=a||{start:0,end:0}}else a=null;for(hA={focusedElem:e,selectionRange:a},X0=!1,Wt=n;Wt!==null;)if(n=Wt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Wt=e;else for(;Wt!==null;){n=Wt;try{var E=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var O=E.memoizedProps,L=E.memoizedState,k=n.stateNode,N=k.getSnapshotBeforeUpdate(n.elementType===n.type?O:Bs(n.type,O),L);k.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var W=n.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(mt(163))}}catch(G){fi(n,n.return,G)}if(e=n.sibling,e!==null){e.return=n.return,Wt=e;break}Wt=n.return}return E=l4,l4=!1,E}function kg(e,n,a){var s=n.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var f=s=s.next;do{if((f.tag&e)===e){var h=f.destroy;f.destroy=void 0,h!==void 0&&DA(n,a,h)}f=f.next}while(f!==s)}}function HS(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var s=a.create;a.destroy=s()}a=a.next}while(a!==n)}}function PA(e){var n=e.ref;if(n!==null){var a=e.stateNode;switch(e.tag){case 5:e=a;break;default:e=a}typeof n=="function"?n(e):n.current=e}}function p6(e){var n=e.alternate;n!==null&&(e.alternate=null,p6(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Eu],delete n[Qg],delete n[gA],delete n[ffe],delete n[hfe])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function m6(e){return e.tag===5||e.tag===3||e.tag===4}function c4(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||m6(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function RA(e,n,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?a.nodeType===8?a.parentNode.insertBefore(e,n):a.insertBefore(e,n):(a.nodeType===8?(n=a.parentNode,n.insertBefore(e,a)):(n=a,n.appendChild(e)),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=eS));else if(s!==4&&(e=e.child,e!==null))for(RA(e,n,a),e=e.sibling;e!==null;)RA(e,n,a),e=e.sibling}function kA(e,n,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(kA(e,n,a),e=e.sibling;e!==null;)kA(e,n,a),e=e.sibling}var lo=null,Gs=!1;function oc(e,n,a){for(a=a.child;a!==null;)g6(e,n,a),a=a.sibling}function g6(e,n,a){if(Ru&&typeof Ru.onCommitFiberUnmount=="function")try{Ru.onCommitFiberUnmount(MS,a)}catch{}switch(a.tag){case 5:Eo||Mh(a,n);case 6:var s=lo,f=Gs;lo=null,oc(e,n,a),lo=s,Gs=f,lo!==null&&(Gs?(e=lo,a=a.stateNode,e.nodeType===8?e.parentNode.removeChild(a):e.removeChild(a)):lo.removeChild(a.stateNode));break;case 18:lo!==null&&(Gs?(e=lo,a=a.stateNode,e.nodeType===8?px(e.parentNode,a):e.nodeType===1&&px(e,a),Vg(e)):px(lo,a.stateNode));break;case 4:s=lo,f=Gs,lo=a.stateNode.containerInfo,Gs=!0,oc(e,n,a),lo=s,Gs=f;break;case 0:case 11:case 14:case 15:if(!Eo&&(s=a.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){f=s=s.next;do{var h=f,_=h.destroy;h=h.tag,_!==void 0&&(h&2||h&4)&&DA(a,n,_),f=f.next}while(f!==s)}oc(e,n,a);break;case 1:if(!Eo&&(Mh(a,n),s=a.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=a.memoizedProps,s.state=a.memoizedState,s.componentWillUnmount()}catch(y){fi(a,n,y)}oc(e,n,a);break;case 21:oc(e,n,a);break;case 22:a.mode&1?(Eo=(s=Eo)||a.memoizedState!==null,oc(e,n,a),Eo=s):oc(e,n,a);break;default:oc(e,n,a)}}function d4(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var a=e.stateNode;a===null&&(a=e.stateNode=new Dfe),n.forEach(function(s){var f=jfe.bind(null,e,s);a.has(s)||(a.add(s),s.then(f,f))})}}function Ws(e,n){var a=n.deletions;if(a!==null)for(var s=0;s<a.length;s++){var f=a[s];try{var h=e,_=n,y=_;e:for(;y!==null;){switch(y.tag){case 5:lo=y.stateNode,Gs=!1;break e;case 3:lo=y.stateNode.containerInfo,Gs=!0;break e;case 4:lo=y.stateNode.containerInfo,Gs=!0;break e}y=y.return}if(lo===null)throw Error(mt(160));g6(h,_,f),lo=null,Gs=!1;var T=f.alternate;T!==null&&(T.return=null),f.return=null}catch(I){fi(f,n,I)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)v6(n,e),n=n.sibling}function v6(e,n){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ws(n,e),bu(e),s&4){try{kg(3,e,e.return),HS(3,e)}catch(O){fi(e,e.return,O)}try{kg(5,e,e.return)}catch(O){fi(e,e.return,O)}}break;case 1:Ws(n,e),bu(e),s&512&&a!==null&&Mh(a,a.return);break;case 5:if(Ws(n,e),bu(e),s&512&&a!==null&&Mh(a,a.return),e.flags&32){var f=e.stateNode;try{Wg(f,"")}catch(O){fi(e,e.return,O)}}if(s&4&&(f=e.stateNode,f!=null)){var h=e.memoizedProps,_=a!==null?a.memoizedProps:h,y=e.type,T=e.updateQueue;if(e.updateQueue=null,T!==null)try{y==="input"&&h.type==="radio"&&h.name!=null&&j5(f,h),rA(y,_);var I=rA(y,h);for(_=0;_<T.length;_+=2){var x=T[_],A=T[_+1];x==="style"?H5(f,A):x==="dangerouslySetInnerHTML"?V5(f,A):x==="children"?Wg(f,A):w1(f,x,A,I)}switch(y){case"input":Xx(f,h);break;case"textarea":B5(f,h);break;case"select":var P=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!h.multiple;var R=h.value;R!=null?jh(f,!!h.multiple,R,!1):P!==!!h.multiple&&(h.defaultValue!=null?jh(f,!!h.multiple,h.defaultValue,!0):jh(f,!!h.multiple,h.multiple?[]:"",!1))}f[Qg]=h}catch(O){fi(e,e.return,O)}}break;case 6:if(Ws(n,e),bu(e),s&4){if(e.stateNode===null)throw Error(mt(162));f=e.stateNode,h=e.memoizedProps;try{f.nodeValue=h}catch(O){fi(e,e.return,O)}}break;case 3:if(Ws(n,e),bu(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{Vg(n.containerInfo)}catch(O){fi(e,e.return,O)}break;case 4:Ws(n,e),bu(e);break;case 13:Ws(n,e),bu(e),f=e.child,f.flags&8192&&(h=f.memoizedState!==null,f.stateNode.isHidden=h,!h||f.alternate!==null&&f.alternate.memoizedState!==null||(iD=Ci())),s&4&&d4(e);break;case 22:if(x=a!==null&&a.memoizedState!==null,e.mode&1?(Eo=(I=Eo)||x,Ws(n,e),Eo=I):Ws(n,e),bu(e),s&8192){if(I=e.memoizedState!==null,(e.stateNode.isHidden=I)&&!x&&e.mode&1)for(Wt=e,x=e.child;x!==null;){for(A=Wt=x;Wt!==null;){switch(P=Wt,R=P.child,P.tag){case 0:case 11:case 14:case 15:kg(4,P,P.return);break;case 1:Mh(P,P.return);var E=P.stateNode;if(typeof E.componentWillUnmount=="function"){s=P,a=P.return;try{n=s,E.props=n.memoizedProps,E.state=n.memoizedState,E.componentWillUnmount()}catch(O){fi(s,a,O)}}break;case 5:Mh(P,P.return);break;case 22:if(P.memoizedState!==null){h4(A);continue}}R!==null?(R.return=P,Wt=R):h4(A)}x=x.sibling}e:for(x=null,A=e;;){if(A.tag===5){if(x===null){x=A;try{f=A.stateNode,I?(h=f.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(y=A.stateNode,T=A.memoizedProps.style,_=T!=null&&T.hasOwnProperty("display")?T.display:null,y.style.display=G5("display",_))}catch(O){fi(e,e.return,O)}}}else if(A.tag===6){if(x===null)try{A.stateNode.nodeValue=I?"":A.memoizedProps}catch(O){fi(e,e.return,O)}}else if((A.tag!==22&&A.tag!==23||A.memoizedState===null||A===e)&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===e)break e;for(;A.sibling===null;){if(A.return===null||A.return===e)break e;x===A&&(x=null),A=A.return}x===A&&(x=null),A.sibling.return=A.return,A=A.sibling}}break;case 19:Ws(n,e),bu(e),s&4&&d4(e);break;case 21:break;default:Ws(n,e),bu(e)}}function bu(e){var n=e.flags;if(n&2){try{e:{for(var a=e.return;a!==null;){if(m6(a)){var s=a;break e}a=a.return}throw Error(mt(160))}switch(s.tag){case 5:var f=s.stateNode;s.flags&32&&(Wg(f,""),s.flags&=-33);var h=c4(e);kA(e,h,f);break;case 3:case 4:var _=s.stateNode.containerInfo,y=c4(e);RA(e,y,_);break;default:throw Error(mt(161))}}catch(T){fi(e,e.return,T)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Rfe(e,n,a){Wt=e,y6(e)}function y6(e,n,a){for(var s=(e.mode&1)!==0;Wt!==null;){var f=Wt,h=f.child;if(f.tag===22&&s){var _=f.memoizedState!==null||f0;if(!_){var y=f.alternate,T=y!==null&&y.memoizedState!==null||Eo;y=f0;var I=Eo;if(f0=_,(Eo=T)&&!I)for(Wt=f;Wt!==null;)_=Wt,T=_.child,_.tag===22&&_.memoizedState!==null?p4(f):T!==null?(T.return=_,Wt=T):p4(f);for(;h!==null;)Wt=h,y6(h),h=h.sibling;Wt=f,f0=y,Eo=I}f4(e)}else f.subtreeFlags&8772&&h!==null?(h.return=f,Wt=h):f4(e)}}function f4(e){for(;Wt!==null;){var n=Wt;if(n.flags&8772){var a=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:Eo||HS(5,n);break;case 1:var s=n.stateNode;if(n.flags&4&&!Eo)if(a===null)s.componentDidMount();else{var f=n.elementType===n.type?a.memoizedProps:Bs(n.type,a.memoizedProps);s.componentDidUpdate(f,a.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var h=n.updateQueue;h!==null&&qU(n,h,s);break;case 3:var _=n.updateQueue;if(_!==null){if(a=null,n.child!==null)switch(n.child.tag){case 5:a=n.child.stateNode;break;case 1:a=n.child.stateNode}qU(n,_,a)}break;case 5:var y=n.stateNode;if(a===null&&n.flags&4){a=y;var T=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":T.autoFocus&&a.focus();break;case"img":T.src&&(a.src=T.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var I=n.alternate;if(I!==null){var x=I.memoizedState;if(x!==null){var A=x.dehydrated;A!==null&&Vg(A)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(mt(163))}Eo||n.flags&512&&PA(n)}catch(P){fi(n,n.return,P)}}if(n===e){Wt=null;break}if(a=n.sibling,a!==null){a.return=n.return,Wt=a;break}Wt=n.return}}function h4(e){for(;Wt!==null;){var n=Wt;if(n===e){Wt=null;break}var a=n.sibling;if(a!==null){a.return=n.return,Wt=a;break}Wt=n.return}}function p4(e){for(;Wt!==null;){var n=Wt;try{switch(n.tag){case 0:case 11:case 15:var a=n.return;try{HS(4,n)}catch(T){fi(n,a,T)}break;case 1:var s=n.stateNode;if(typeof s.componentDidMount=="function"){var f=n.return;try{s.componentDidMount()}catch(T){fi(n,f,T)}}var h=n.return;try{PA(n)}catch(T){fi(n,h,T)}break;case 5:var _=n.return;try{PA(n)}catch(T){fi(n,_,T)}}}catch(T){fi(n,n.return,T)}if(n===e){Wt=null;break}var y=n.sibling;if(y!==null){y.return=n.return,Wt=y;break}Wt=n.return}}var kfe=Math.ceil,dS=_l.ReactCurrentDispatcher,rD=_l.ReactCurrentOwner,ls=_l.ReactCurrentBatchConfig,Xr=0,ro=null,Ri=null,co=0,Na=0,Lh=Kc(0),Gi=0,$g=null,ef=0,zS=0,nD=0,Ng=null,ma=null,iD=0,fp=1/0,nl=null,fS=!1,NA=null,Nc=null,h0=!1,Ec=null,hS=0,Fg=0,FA=null,O0=-1,M0=0;function zo(){return Xr&6?Ci():O0!==-1?O0:O0=Ci()}function Fc(e){return e.mode&1?Xr&2&&co!==0?co&-co:mfe.transition!==null?(M0===0&&(M0=rG()),M0):(e=dn,e!==0||(e=window.event,e=e===void 0?16:lG(e.type)),e):1}function Ys(e,n,a,s){if(50<Fg)throw Fg=0,FA=null,Error(mt(185));vv(e,a,s),(!(Xr&2)||e!==ro)&&(e===ro&&(!(Xr&2)&&(zS|=a),Gi===4&&pc(e,co)),_a(e,s),a===1&&Xr===0&&!(n.mode&1)&&(fp=Ci()+500,US&&Qc()))}function _a(e,n){var a=e.callbackNode;mde(e,n);var s=q0(e,e===ro?co:0);if(s===0)a!==null&&TU(a),e.callbackNode=null,e.callbackPriority=0;else if(n=s&-s,e.callbackPriority!==n){if(a!=null&&TU(a),n===1)e.tag===0?pfe(m4.bind(null,e)):AG(m4.bind(null,e)),cfe(function(){!(Xr&6)&&Qc()}),a=null;else{switch(nG(s)){case 1:a=P1;break;case 4:a=eG;break;case 16:a=J0;break;case 536870912:a=tG;break;default:a=J0}a=E6(a,_6.bind(null,e))}e.callbackPriority=n,e.callbackNode=a}}function _6(e,n){if(O0=-1,M0=0,Xr&6)throw Error(mt(327));var a=e.callbackNode;if(Hh()&&e.callbackNode!==a)return null;var s=q0(e,e===ro?co:0);if(s===0)return null;if(s&30||s&e.expiredLanes||n)n=pS(e,s);else{n=s;var f=Xr;Xr|=2;var h=b6();(ro!==e||co!==n)&&(nl=null,fp=Ci()+500,Jd(e,n));do try{Ofe();break}catch(y){S6(e,y)}while(!0);G1(),dS.current=h,Xr=f,Ri!==null?n=0:(ro=null,co=0,n=Gi)}if(n!==0){if(n===2&&(f=sA(e),f!==0&&(s=f,n=OA(e,f))),n===1)throw a=$g,Jd(e,0),pc(e,s),_a(e,Ci()),a;if(n===6)pc(e,s);else{if(f=e.current.alternate,!(s&30)&&!Nfe(f)&&(n=pS(e,s),n===2&&(h=sA(e),h!==0&&(s=h,n=OA(e,h))),n===1))throw a=$g,Jd(e,0),pc(e,s),_a(e,Ci()),a;switch(e.finishedWork=f,e.finishedLanes=s,n){case 0:case 1:throw Error(mt(345));case 2:kd(e,ma,nl);break;case 3:if(pc(e,s),(s&130023424)===s&&(n=iD+500-Ci(),10<n)){if(q0(e,0)!==0)break;if(f=e.suspendedLanes,(f&s)!==s){zo(),e.pingedLanes|=e.suspendedLanes&f;break}e.timeoutHandle=mA(kd.bind(null,e,ma,nl),n);break}kd(e,ma,nl);break;case 4:if(pc(e,s),(s&4194240)===s)break;for(n=e.eventTimes,f=-1;0<s;){var _=31-Qs(s);h=1<<_,_=n[_],_>f&&(f=_),s&=~h}if(s=f,s=Ci()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*kfe(s/1960))-s,10<s){e.timeoutHandle=mA(kd.bind(null,e,ma,nl),s);break}kd(e,ma,nl);break;case 5:kd(e,ma,nl);break;default:throw Error(mt(329))}}}return _a(e,Ci()),e.callbackNode===a?_6.bind(null,e):null}function OA(e,n){var a=Ng;return e.current.memoizedState.isDehydrated&&(Jd(e,n).flags|=256),e=pS(e,n),e!==2&&(n=ma,ma=a,n!==null&&MA(n)),e}function MA(e){ma===null?ma=e:ma.push.apply(ma,e)}function Nfe(e){for(var n=e;;){if(n.flags&16384){var a=n.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var s=0;s<a.length;s++){var f=a[s],h=f.getSnapshot;f=f.value;try{if(!Js(h(),f))return!1}catch{return!1}}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function pc(e,n){for(n&=~nD,n&=~zS,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var a=31-Qs(n),s=1<<a;e[a]=-1,n&=~s}}function m4(e){if(Xr&6)throw Error(mt(327));Hh();var n=q0(e,0);if(!(n&1))return _a(e,Ci()),null;var a=pS(e,n);if(e.tag!==0&&a===2){var s=sA(e);s!==0&&(n=s,a=OA(e,s))}if(a===1)throw a=$g,Jd(e,0),pc(e,n),_a(e,Ci()),a;if(a===6)throw Error(mt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,kd(e,ma,nl),_a(e,Ci()),null}function oD(e,n){var a=Xr;Xr|=1;try{return e(n)}finally{Xr=a,Xr===0&&(fp=Ci()+500,US&&Qc())}}function tf(e){Ec!==null&&Ec.tag===0&&!(Xr&6)&&Hh();var n=Xr;Xr|=1;var a=ls.transition,s=dn;try{if(ls.transition=null,dn=1,e)return e()}finally{dn=s,ls.transition=a,Xr=n,!(Xr&6)&&Qc()}}function aD(){Na=Lh.current,Rn(Lh)}function Jd(e,n){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;if(a!==-1&&(e.timeoutHandle=-1,lfe(a)),Ri!==null)for(a=Ri.return;a!==null;){var s=a;switch(B1(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&tS();break;case 3:cp(),Rn(va),Rn(xo),J1();break;case 5:Y1(s);break;case 4:cp();break;case 13:Rn(ei);break;case 19:Rn(ei);break;case 10:H1(s.type._context);break;case 22:case 23:aD()}a=a.return}if(ro=e,Ri=e=Oc(e.current,null),co=Na=n,Gi=0,$g=null,nD=zS=ef=0,ma=Ng=null,Ld!==null){for(n=0;n<Ld.length;n++)if(a=Ld[n],s=a.interleaved,s!==null){a.interleaved=null;var f=s.next,h=a.pending;if(h!==null){var _=h.next;h.next=f,s.next=_}a.pending=s}Ld=null}return e}function S6(e,n){do{var a=Ri;try{if(G1(),k0.current=cS,lS){for(var s=ti.memoizedState;s!==null;){var f=s.queue;f!==null&&(f.pending=null),s=s.next}lS=!1}if($d=0,$i=Wi=ti=null,Rg=!1,qg=0,rD.current=null,a===null||a.return===null){Gi=1,$g=n,Ri=null;break}e:{var h=e,_=a.return,y=a,T=n;if(n=co,y.flags|=32768,T!==null&&typeof T=="object"&&typeof T.then=="function"){var I=T,x=y,A=x.tag;if(!(x.mode&1)&&(A===0||A===11||A===15)){var P=x.alternate;P?(x.updateQueue=P.updateQueue,x.memoizedState=P.memoizedState,x.lanes=P.lanes):(x.updateQueue=null,x.memoizedState=null)}var R=r4(_);if(R!==null){R.flags&=-257,n4(R,_,y,h,n),R.mode&1&&t4(h,I,n),n=R,T=I;var E=n.updateQueue;if(E===null){var O=new Set;O.add(T),n.updateQueue=O}else E.add(T);break e}else{if(!(n&1)){t4(h,I,n),sD();break e}T=Error(mt(426))}}else if(Un&&y.mode&1){var L=r4(_);if(L!==null){!(L.flags&65536)&&(L.flags|=256),n4(L,_,y,h,n),U1(dp(T,y));break e}}h=T=dp(T,y),Gi!==4&&(Gi=2),Ng===null?Ng=[h]:Ng.push(h),h=_;do{switch(h.tag){case 3:h.flags|=65536,n&=-n,h.lanes|=n;var k=n6(h,T,n);JU(h,k);break e;case 1:y=T;var N=h.type,W=h.stateNode;if(!(h.flags&128)&&(typeof N.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(Nc===null||!Nc.has(W)))){h.flags|=65536,n&=-n,h.lanes|=n;var G=i6(h,y,n);JU(h,G);break e}}h=h.return}while(h!==null)}T6(a)}catch(le){n=le,Ri===a&&a!==null&&(Ri=a=a.return);continue}break}while(!0)}function b6(){var e=dS.current;return dS.current=cS,e===null?cS:e}function sD(){(Gi===0||Gi===3||Gi===2)&&(Gi=4),ro===null||!(ef&268435455)&&!(zS&268435455)||pc(ro,co)}function pS(e,n){var a=Xr;Xr|=2;var s=b6();(ro!==e||co!==n)&&(nl=null,Jd(e,n));do try{Ffe();break}catch(f){S6(e,f)}while(!0);if(G1(),Xr=a,dS.current=s,Ri!==null)throw Error(mt(261));return ro=null,co=0,Gi}function Ffe(){for(;Ri!==null;)C6(Ri)}function Ofe(){for(;Ri!==null&&!ade();)C6(Ri)}function C6(e){var n=w6(e.alternate,e,Na);e.memoizedProps=e.pendingProps,n===null?T6(e):Ri=n,rD.current=null}function T6(e){var n=e;do{var a=n.alternate;if(e=n.return,n.flags&32768){if(a=Afe(a,n),a!==null){a.flags&=32767,Ri=a;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Gi=6,Ri=null;return}}else if(a=xfe(a,n,Na),a!==null){Ri=a;return}if(n=n.sibling,n!==null){Ri=n;return}Ri=n=e}while(n!==null);Gi===0&&(Gi=5)}function kd(e,n,a){var s=dn,f=ls.transition;try{ls.transition=null,dn=1,Mfe(e,n,a,s)}finally{ls.transition=f,dn=s}return null}function Mfe(e,n,a,s){do Hh();while(Ec!==null);if(Xr&6)throw Error(mt(327));a=e.finishedWork;var f=e.finishedLanes;if(a===null)return null;if(e.finishedWork=null,e.finishedLanes=0,a===e.current)throw Error(mt(177));e.callbackNode=null,e.callbackPriority=0;var h=a.lanes|a.childLanes;if(gde(e,h),e===ro&&(Ri=ro=null,co=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||h0||(h0=!0,E6(J0,function(){return Hh(),null})),h=(a.flags&15990)!==0,a.subtreeFlags&15990||h){h=ls.transition,ls.transition=null;var _=dn;dn=1;var y=Xr;Xr|=4,rD.current=null,Pfe(e,a),v6(a,e),rfe(hA),X0=!!fA,hA=fA=null,e.current=a,Rfe(a),sde(),Xr=y,dn=_,ls.transition=h}else e.current=a;if(h0&&(h0=!1,Ec=e,hS=f),h=e.pendingLanes,h===0&&(Nc=null),cde(a.stateNode),_a(e,Ci()),n!==null)for(s=e.onRecoverableError,a=0;a<n.length;a++)f=n[a],s(f.value,{componentStack:f.stack,digest:f.digest});if(fS)throw fS=!1,e=NA,NA=null,e;return hS&1&&e.tag!==0&&Hh(),h=e.pendingLanes,h&1?e===FA?Fg++:(Fg=0,FA=e):Fg=0,Qc(),null}function Hh(){if(Ec!==null){var e=nG(hS),n=ls.transition,a=dn;try{if(ls.transition=null,dn=16>e?16:e,Ec===null)var s=!1;else{if(e=Ec,Ec=null,hS=0,Xr&6)throw Error(mt(331));var f=Xr;for(Xr|=4,Wt=e.current;Wt!==null;){var h=Wt,_=h.child;if(Wt.flags&16){var y=h.deletions;if(y!==null){for(var T=0;T<y.length;T++){var I=y[T];for(Wt=I;Wt!==null;){var x=Wt;switch(x.tag){case 0:case 11:case 15:kg(8,x,h)}var A=x.child;if(A!==null)A.return=x,Wt=A;else for(;Wt!==null;){x=Wt;var P=x.sibling,R=x.return;if(p6(x),x===I){Wt=null;break}if(P!==null){P.return=R,Wt=P;break}Wt=R}}}var E=h.alternate;if(E!==null){var O=E.child;if(O!==null){E.child=null;do{var L=O.sibling;O.sibling=null,O=L}while(O!==null)}}Wt=h}}if(h.subtreeFlags&2064&&_!==null)_.return=h,Wt=_;else e:for(;Wt!==null;){if(h=Wt,h.flags&2048)switch(h.tag){case 0:case 11:case 15:kg(9,h,h.return)}var k=h.sibling;if(k!==null){k.return=h.return,Wt=k;break e}Wt=h.return}}var N=e.current;for(Wt=N;Wt!==null;){_=Wt;var W=_.child;if(_.subtreeFlags&2064&&W!==null)W.return=_,Wt=W;else e:for(_=N;Wt!==null;){if(y=Wt,y.flags&2048)try{switch(y.tag){case 0:case 11:case 15:HS(9,y)}}catch(le){fi(y,y.return,le)}if(y===_){Wt=null;break e}var G=y.sibling;if(G!==null){G.return=y.return,Wt=G;break e}Wt=y.return}}if(Xr=f,Qc(),Ru&&typeof Ru.onPostCommitFiberRoot=="function")try{Ru.onPostCommitFiberRoot(MS,e)}catch{}s=!0}return s}finally{dn=a,ls.transition=n}}return!1}function g4(e,n,a){n=dp(a,n),n=n6(e,n,1),e=kc(e,n,1),n=zo(),e!==null&&(vv(e,1,n),_a(e,n))}function fi(e,n,a){if(e.tag===3)g4(e,e,a);else for(;n!==null;){if(n.tag===3){g4(n,e,a);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Nc===null||!Nc.has(s))){e=dp(a,e),e=i6(n,e,1),n=kc(n,e,1),e=zo(),n!==null&&(vv(n,1,e),_a(n,e));break}}n=n.return}}function Lfe(e,n,a){var s=e.pingCache;s!==null&&s.delete(n),n=zo(),e.pingedLanes|=e.suspendedLanes&a,ro===e&&(co&a)===a&&(Gi===4||Gi===3&&(co&130023424)===co&&500>Ci()-iD?Jd(e,0):nD|=a),_a(e,n)}function I6(e,n){n===0&&(e.mode&1?(n=n0,n0<<=1,!(n0&130023424)&&(n0=4194304)):n=1);var a=zo();e=ml(e,n),e!==null&&(vv(e,n,a),_a(e,a))}function Wfe(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),I6(e,a)}function jfe(e,n){var a=0;switch(e.tag){case 13:var s=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(mt(314))}s!==null&&s.delete(n),I6(e,a)}var w6;w6=function(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps||va.current)ga=!0;else{if(!(e.lanes&a)&&!(n.flags&128))return ga=!1,Efe(e,n,a);ga=!!(e.flags&131072)}else ga=!1,Un&&n.flags&1048576&&DG(n,iS,n.index);switch(n.lanes=0,n.tag){case 2:var s=n.type;F0(e,n),e=n.pendingProps;var f=sp(n,xo.current);Gh(n,a),f=X1(null,n,s,e,f,a);var h=Z1();return n.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,ya(s)?(h=!0,rS(n)):h=!1,n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,K1(n),f.updater=GS,n.stateNode=f,f._reactInternals=n,CA(n,s,e,a),n=wA(null,n,s,!0,h,a)):(n.tag=0,Un&&h&&j1(n),Go(null,n,f,a),n=n.child),n;case 16:s=n.elementType;e:{switch(F0(e,n),e=n.pendingProps,f=s._init,s=f(s._payload),n.type=s,f=n.tag=Ufe(s),e=Bs(s,e),f){case 0:n=IA(null,n,s,e,a);break e;case 1:n=a4(null,n,s,e,a);break e;case 11:n=i4(null,n,s,e,a);break e;case 14:n=o4(null,n,s,Bs(s.type,e),a);break e}throw Error(mt(306,s,""))}return n;case 0:return s=n.type,f=n.pendingProps,f=n.elementType===s?f:Bs(s,f),IA(e,n,s,f,a);case 1:return s=n.type,f=n.pendingProps,f=n.elementType===s?f:Bs(s,f),a4(e,n,s,f,a);case 3:e:{if(u6(n),e===null)throw Error(mt(387));s=n.pendingProps,h=n.memoizedState,f=h.element,OG(e,n),sS(n,s,null,a);var _=n.memoizedState;if(s=_.element,h.isDehydrated)if(h={element:s,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){f=dp(Error(mt(423)),n),n=s4(e,n,s,a,f);break e}else if(s!==f){f=dp(Error(mt(424)),n),n=s4(e,n,s,a,f);break e}else for(Ma=Rc(n.stateNode.containerInfo.firstChild),La=n,Un=!0,zs=null,a=NG(n,null,s,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(up(),s===f){n=gl(e,n,a);break e}Go(e,n,s,a)}n=n.child}return n;case 5:return MG(n),e===null&&_A(n),s=n.type,f=n.pendingProps,h=e!==null?e.memoizedProps:null,_=f.children,pA(s,f)?_=null:h!==null&&pA(s,h)&&(n.flags|=32),s6(e,n),Go(e,n,_,a),n.child;case 6:return e===null&&_A(n),null;case 13:return l6(e,n,a);case 4:return Q1(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=lp(n,null,s,a):Go(e,n,s,a),n.child;case 11:return s=n.type,f=n.pendingProps,f=n.elementType===s?f:Bs(s,f),i4(e,n,s,f,a);case 7:return Go(e,n,n.pendingProps,a),n.child;case 8:return Go(e,n,n.pendingProps.children,a),n.child;case 12:return Go(e,n,n.pendingProps.children,a),n.child;case 10:e:{if(s=n.type._context,f=n.pendingProps,h=n.memoizedProps,_=f.value,bn(oS,s._currentValue),s._currentValue=_,h!==null)if(Js(h.value,_)){if(h.children===f.children&&!va.current){n=gl(e,n,a);break e}}else for(h=n.child,h!==null&&(h.return=n);h!==null;){var y=h.dependencies;if(y!==null){_=h.child;for(var T=y.firstContext;T!==null;){if(T.context===s){if(h.tag===1){T=dl(-1,a&-a),T.tag=2;var I=h.updateQueue;if(I!==null){I=I.shared;var x=I.pending;x===null?T.next=T:(T.next=x.next,x.next=T),I.pending=T}}h.lanes|=a,T=h.alternate,T!==null&&(T.lanes|=a),SA(h.return,a,n),y.lanes|=a;break}T=T.next}}else if(h.tag===10)_=h.type===n.type?null:h.child;else if(h.tag===18){if(_=h.return,_===null)throw Error(mt(341));_.lanes|=a,y=_.alternate,y!==null&&(y.lanes|=a),SA(_,a,n),_=h.sibling}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===n){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}Go(e,n,f.children,a),n=n.child}return n;case 9:return f=n.type,s=n.pendingProps.children,Gh(n,a),f=ds(f),s=s(f),n.flags|=1,Go(e,n,s,a),n.child;case 14:return s=n.type,f=Bs(s,n.pendingProps),f=Bs(s.type,f),o4(e,n,s,f,a);case 15:return o6(e,n,n.type,n.pendingProps,a);case 17:return s=n.type,f=n.pendingProps,f=n.elementType===s?f:Bs(s,f),F0(e,n),n.tag=1,ya(s)?(e=!0,rS(n)):e=!1,Gh(n,a),r6(n,s,f),CA(n,s,f,a),wA(null,n,s,!0,e,a);case 19:return c6(e,n,a);case 22:return a6(e,n,a)}throw Error(mt(156,n.tag))};function E6(e,n){return $5(e,n)}function Bfe(e,n,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function us(e,n,a,s){return new Bfe(e,n,a,s)}function uD(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ufe(e){if(typeof e=="function")return uD(e)?1:0;if(e!=null){if(e=e.$$typeof,e===x1)return 11;if(e===A1)return 14}return 2}function Oc(e,n){var a=e.alternate;return a===null?(a=us(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&14680064,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a}function L0(e,n,a,s,f,h){var _=2;if(s=e,typeof e=="function")uD(e)&&(_=1);else if(typeof e=="string")_=5;else e:switch(e){case xh:return qd(a.children,f,h,n);case E1:_=8,f|=8;break;case Kx:return e=us(12,a,n,f|2),e.elementType=Kx,e.lanes=h,e;case Qx:return e=us(13,a,n,f),e.elementType=Qx,e.lanes=h,e;case Yx:return e=us(19,a,n,f),e.elementType=Yx,e.lanes=h,e;case M5:return KS(a,f,h,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case F5:_=10;break e;case O5:_=9;break e;case x1:_=11;break e;case A1:_=14;break e;case dc:_=16,s=null;break e}throw Error(mt(130,e==null?e:typeof e,""))}return n=us(_,a,n,f),n.elementType=e,n.type=s,n.lanes=h,n}function qd(e,n,a,s){return e=us(7,e,s,n),e.lanes=a,e}function KS(e,n,a,s){return e=us(22,e,s,n),e.elementType=M5,e.lanes=a,e.stateNode={isHidden:!1},e}function Cx(e,n,a){return e=us(6,e,null,n),e.lanes=a,e}function Tx(e,n,a){return n=us(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Vfe(e,n,a,s,f){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nx(0),this.expirationTimes=nx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nx(0),this.identifierPrefix=s,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function lD(e,n,a,s,f,h,_,y,T){return e=new Vfe(e,n,a,y,T),n===1?(n=1,h===!0&&(n|=8)):n=0,h=us(3,null,null,n),e.current=h,h.stateNode=e,h.memoizedState={element:s,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},K1(h),e}function Gfe(e,n,a){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Eh,key:s==null?null:""+s,children:e,containerInfo:n,implementation:a}}function x6(e){if(!e)return Uc;e=e._reactInternals;e:{if(uf(e)!==e||e.tag!==1)throw Error(mt(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(ya(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(mt(171))}if(e.tag===1){var a=e.type;if(ya(a))return xG(e,a,n)}return n}function A6(e,n,a,s,f,h,_,y,T){return e=lD(a,s,!0,e,f,h,_,y,T),e.context=x6(null),a=e.current,s=zo(),f=Fc(a),h=dl(s,f),h.callback=n??null,kc(a,h,f),e.current.lanes=f,vv(e,f,s),_a(e,s),e}function QS(e,n,a,s){var f=n.current,h=zo(),_=Fc(f);return a=x6(a),n.context===null?n.context=a:n.pendingContext=a,n=dl(h,_),n.payload={element:e},s=s===void 0?null:s,s!==null&&(n.callback=s),e=kc(f,n,_),e!==null&&(Ys(e,f,_,h),R0(e,f,_)),_}function mS(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function v4(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function cD(e,n){v4(e,n),(e=e.alternate)&&v4(e,n)}function Hfe(){return null}var D6=typeof reportError=="function"?reportError:function(e){console.error(e)};function dD(e){this._internalRoot=e}YS.prototype.render=dD.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(mt(409));QS(e,n,null,null)};YS.prototype.unmount=dD.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;tf(function(){QS(null,e,null,null)}),n[pl]=null}};function YS(e){this._internalRoot=e}YS.prototype.unstable_scheduleHydration=function(e){if(e){var n=aG();e={blockedOn:null,target:e,priority:n};for(var a=0;a<hc.length&&n!==0&&n<hc[a].priority;a++);hc.splice(a,0,e),a===0&&uG(e)}};function fD(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function JS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function y4(){}function zfe(e,n,a,s,f){if(f){if(typeof s=="function"){var h=s;s=function(){var I=mS(_);h.call(I)}}var _=A6(n,s,e,0,null,!1,!1,"",y4);return e._reactRootContainer=_,e[pl]=_.current,zg(e.nodeType===8?e.parentNode:e),tf(),_}for(;f=e.lastChild;)e.removeChild(f);if(typeof s=="function"){var y=s;s=function(){var I=mS(T);y.call(I)}}var T=lD(e,0,!1,null,null,!1,!1,"",y4);return e._reactRootContainer=T,e[pl]=T.current,zg(e.nodeType===8?e.parentNode:e),tf(function(){QS(n,T,a,s)}),T}function qS(e,n,a,s,f){var h=a._reactRootContainer;if(h){var _=h;if(typeof f=="function"){var y=f;f=function(){var T=mS(_);y.call(T)}}QS(n,_,e,f)}else _=zfe(a,n,e,f,s);return mS(_)}iG=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var a=Sg(n.pendingLanes);a!==0&&(R1(n,a|1),_a(n,Ci()),!(Xr&6)&&(fp=Ci()+500,Qc()))}break;case 13:tf(function(){var s=ml(e,1);if(s!==null){var f=zo();Ys(s,e,1,f)}}),cD(e,1)}};k1=function(e){if(e.tag===13){var n=ml(e,134217728);if(n!==null){var a=zo();Ys(n,e,134217728,a)}cD(e,134217728)}};oG=function(e){if(e.tag===13){var n=Fc(e),a=ml(e,n);if(a!==null){var s=zo();Ys(a,e,n,s)}cD(e,n)}};aG=function(){return dn};sG=function(e,n){var a=dn;try{return dn=e,n()}finally{dn=a}};iA=function(e,n,a){switch(n){case"input":if(Xx(e,a),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<a.length;n++){var s=a[n];if(s!==e&&s.form===e.form){var f=BS(s);if(!f)throw Error(mt(90));W5(s),Xx(s,f)}}}break;case"textarea":B5(e,a);break;case"select":n=a.value,n!=null&&jh(e,!!a.multiple,n,!1)}};Q5=oD;Y5=tf;var Kfe={usingClientEntryPoint:!1,Events:[_v,Rh,BS,z5,K5,oD]},cg={findFiberByHostInstance:Md,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Qfe={bundleType:cg.bundleType,version:cg.version,rendererPackageName:cg.rendererPackageName,rendererConfig:cg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_l.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=X5(e),e===null?null:e.stateNode},findFiberByHostInstance:cg.findFiberByHostInstance||Hfe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var p0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!p0.isDisabled&&p0.supportsFiber)try{MS=p0.inject(Qfe),Ru=p0}catch{}}Ba.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kfe;Ba.createPortal=function(e,n){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fD(n))throw Error(mt(200));return Gfe(e,n,null,a)};Ba.createRoot=function(e,n){if(!fD(e))throw Error(mt(299));var a=!1,s="",f=D6;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(f=n.onRecoverableError)),n=lD(e,1,!1,null,null,a,!1,s,f),e[pl]=n.current,zg(e.nodeType===8?e.parentNode:e),new dD(n)};Ba.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(mt(188)):(e=Object.keys(e).join(","),Error(mt(268,e)));return e=X5(n),e=e===null?null:e.stateNode,e};Ba.flushSync=function(e){return tf(e)};Ba.hydrate=function(e,n,a){if(!JS(n))throw Error(mt(200));return qS(null,e,n,!0,a)};Ba.hydrateRoot=function(e,n,a){if(!fD(e))throw Error(mt(405));var s=a!=null&&a.hydratedSources||null,f=!1,h="",_=D6;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),n=A6(n,null,e,1,a??null,f,!1,h,_),e[pl]=n.current,zg(e),s)for(e=0;e<s.length;e++)a=s[e],f=a._getVersion,f=f(a._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[a,f]:n.mutableSourceEagerHydrationData.push(a,f);return new YS(n)};Ba.render=function(e,n,a){if(!JS(n))throw Error(mt(200));return qS(null,e,n,!1,a)};Ba.unmountComponentAtNode=function(e){if(!JS(e))throw Error(mt(40));return e._reactRootContainer?(tf(function(){qS(null,null,e,!1,function(){e._reactRootContainer=null,e[pl]=null})}),!0):!1};Ba.unstable_batchedUpdates=oD;Ba.unstable_renderSubtreeIntoContainer=function(e,n,a,s){if(!JS(a))throw Error(mt(200));if(e==null||e._reactInternals===void 0)throw Error(mt(38));return qS(e,n,a,!1,s)};Ba.version="18.3.1-next-f1338f8080-20240426";function P6(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(P6)}catch(e){console.error(e)}}P6(),P5.exports=Ba;var Cp=P5.exports;const hD=y5(Cp),Yfe=v5({__proto__:null,default:hD},[Cp]);var R6,_4=Cp;R6=_4.createRoot,_4.hydrateRoot;const Jfe=1,qfe=1e6;let Ix=0;function Xfe(){return Ix=(Ix+1)%Number.MAX_SAFE_INTEGER,Ix.toString()}const wx=new Map,S4=e=>{if(wx.has(e))return;const n=setTimeout(()=>{wx.delete(e),Og({type:"REMOVE_TOAST",toastId:e})},qfe);wx.set(e,n)},Zfe=(e,n)=>{switch(n.type){case"ADD_TOAST":return{...e,toasts:[n.toast,...e.toasts].slice(0,Jfe)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(a=>a.id===n.toast.id?{...a,...n.toast}:a)};case"DISMISS_TOAST":{const{toastId:a}=n;return a?S4(a):e.toasts.forEach(s=>{S4(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===a||a===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return n.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(a=>a.id!==n.toastId)}}},W0=[];let j0={toasts:[]};function Og(e){j0=Zfe(j0,e),W0.forEach(n=>{n(j0)})}function $fe({...e}){const n=Xfe(),a=f=>Og({type:"UPDATE_TOAST",toast:{...f,id:n}}),s=()=>Og({type:"DISMISS_TOAST",toastId:n});return Og({type:"ADD_TOAST",toast:{...e,id:n,open:!0,onOpenChange:f=>{f||s()}}}),{id:n,dismiss:s,update:a}}function ehe(){const[e,n]=z.useState(j0);return z.useEffect(()=>(W0.push(n),()=>{const a=W0.indexOf(n);a>-1&&W0.splice(a,1)}),[e]),{...e,toast:$fe,dismiss:a=>Og({type:"DISMISS_TOAST",toastId:a})}}function Yt(e,n,{checkForDefaultPrevented:a=!0}={}){return function(f){if(e==null||e(f),a===!1||!f.defaultPrevented)return n==null?void 0:n(f)}}function b4(e,n){if(typeof e=="function")return e(n);e!=null&&(e.current=n)}function XS(...e){return n=>{let a=!1;const s=e.map(f=>{const h=b4(f,n);return!a&&typeof h=="function"&&(a=!0),h});if(a)return()=>{for(let f=0;f<s.length;f++){const h=s[f];typeof h=="function"?h():b4(e[f],null)}}}}function Cn(...e){return z.useCallback(XS(...e),e)}function the(e,n){const a=z.createContext(n),s=h=>{const{children:_,...y}=h,T=z.useMemo(()=>y,Object.values(y));return w.jsx(a.Provider,{value:T,children:_})};s.displayName=e+"Provider";function f(h){const _=z.useContext(a);if(_)return _;if(n!==void 0)return n;throw new Error(`\`${h}\` must be used within \`${e}\``)}return[s,f]}function Va(e,n=[]){let a=[];function s(h,_){const y=z.createContext(_),T=a.length;a=[...a,_];const I=A=>{var k;const{scope:P,children:R,...E}=A,O=((k=P==null?void 0:P[e])==null?void 0:k[T])||y,L=z.useMemo(()=>E,Object.values(E));return w.jsx(O.Provider,{value:L,children:R})};I.displayName=h+"Provider";function x(A,P){var O;const R=((O=P==null?void 0:P[e])==null?void 0:O[T])||y,E=z.useContext(R);if(E)return E;if(_!==void 0)return _;throw new Error(`\`${A}\` must be used within \`${h}\``)}return[I,x]}const f=()=>{const h=a.map(_=>z.createContext(_));return function(y){const T=(y==null?void 0:y[e])||h;return z.useMemo(()=>({[`__scope${e}`]:{...y,[e]:T}}),[y,T])}};return f.scopeName=e,[s,rhe(f,...n)]}function rhe(...e){const n=e[0];if(e.length===1)return n;const a=()=>{const s=e.map(f=>({useScope:f(),scopeName:f.scopeName}));return function(h){const _=s.reduce((y,{useScope:T,scopeName:I})=>{const A=T(h)[`__scope${I}`];return{...y,...A}},{});return z.useMemo(()=>({[`__scope${n.scopeName}`]:_}),[_])}};return a.scopeName=n.scopeName,a}function hp(e){const n=ihe(e),a=z.forwardRef((s,f)=>{const{children:h,..._}=s,y=z.Children.toArray(h),T=y.find(ahe);if(T){const I=T.props.children,x=y.map(A=>A===T?z.Children.count(I)>1?z.Children.only(null):z.isValidElement(I)?I.props.children:null:A);return w.jsx(n,{..._,ref:f,children:z.isValidElement(I)?z.cloneElement(I,void 0,x):null})}return w.jsx(n,{..._,ref:f,children:h})});return a.displayName=`${e}.Slot`,a}var nhe=hp("Slot");function ihe(e){const n=z.forwardRef((a,s)=>{const{children:f,...h}=a;if(z.isValidElement(f)){const _=uhe(f),y=she(h,f.props);return f.type!==z.Fragment&&(y.ref=s?XS(s,_):_),z.cloneElement(f,y)}return z.Children.count(f)>1?z.Children.only(null):null});return n.displayName=`${e}.SlotClone`,n}var k6=Symbol("radix.slottable");function ohe(e){const n=({children:a})=>w.jsx(w.Fragment,{children:a});return n.displayName=`${e}.Slottable`,n.__radixId=k6,n}function ahe(e){return z.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===k6}function she(e,n){const a={...n};for(const s in n){const f=e[s],h=n[s];/^on[A-Z]/.test(s)?f&&h?a[s]=(...y)=>{const T=h(...y);return f(...y),T}:f&&(a[s]=f):s==="style"?a[s]={...f,...h}:s==="className"&&(a[s]=[f,h].filter(Boolean).join(" "))}return{...e,...a}}function uhe(e){var s,f;let n=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,a=n&&"isReactWarning"in n&&n.isReactWarning;return a?e.ref:(n=(f=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:f.get,a=n&&"isReactWarning"in n&&n.isReactWarning,a?e.props.ref:e.props.ref||e.ref)}function pD(e){const n=e+"CollectionProvider",[a,s]=Va(n),[f,h]=a(n,{collectionRef:{current:null},itemMap:new Map}),_=O=>{const{scope:L,children:k}=O,N=Ct.useRef(null),W=Ct.useRef(new Map).current;return w.jsx(f,{scope:L,itemMap:W,collectionRef:N,children:k})};_.displayName=n;const y=e+"CollectionSlot",T=hp(y),I=Ct.forwardRef((O,L)=>{const{scope:k,children:N}=O,W=h(y,k),G=Cn(L,W.collectionRef);return w.jsx(T,{ref:G,children:N})});I.displayName=y;const x=e+"CollectionItemSlot",A="data-radix-collection-item",P=hp(x),R=Ct.forwardRef((O,L)=>{const{scope:k,children:N,...W}=O,G=Ct.useRef(null),le=Cn(L,G),$=h(x,k);return Ct.useEffect(()=>($.itemMap.set(G,{ref:G,...W}),()=>void $.itemMap.delete(G))),w.jsx(P,{[A]:"",ref:le,children:N})});R.displayName=x;function E(O){const L=h(e+"CollectionConsumer",O);return Ct.useCallback(()=>{const N=L.collectionRef.current;if(!N)return[];const W=Array.from(N.querySelectorAll(`[${A}]`));return Array.from(L.itemMap.values()).sort(($,H)=>W.indexOf($.ref.current)-W.indexOf(H.ref.current))},[L.collectionRef,L.itemMap])}return[{Provider:_,Slot:I,ItemSlot:R},E,s]}var lhe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],yr=lhe.reduce((e,n)=>{const a=hp(`Primitive.${n}`),s=z.forwardRef((f,h)=>{const{asChild:_,...y}=f,T=_?a:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),w.jsx(T,{...y,ref:h})});return s.displayName=`Primitive.${n}`,{...e,[n]:s}},{});function mD(e,n){e&&Cp.flushSync(()=>e.dispatchEvent(n))}function Sa(e){const n=z.useRef(e);return z.useEffect(()=>{n.current=e}),z.useMemo(()=>(...a)=>{var s;return(s=n.current)==null?void 0:s.call(n,...a)},[])}function che(e,n=globalThis==null?void 0:globalThis.document){const a=Sa(e);z.useEffect(()=>{const s=f=>{f.key==="Escape"&&a(f)};return n.addEventListener("keydown",s,{capture:!0}),()=>n.removeEventListener("keydown",s,{capture:!0})},[a,n])}var dhe="DismissableLayer",LA="dismissableLayer.update",fhe="dismissableLayer.pointerDownOutside",hhe="dismissableLayer.focusOutside",C4,N6=z.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),bv=z.forwardRef((e,n)=>{const{disableOutsidePointerEvents:a=!1,onEscapeKeyDown:s,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:_,onDismiss:y,...T}=e,I=z.useContext(N6),[x,A]=z.useState(null),P=(x==null?void 0:x.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,R]=z.useState({}),E=Cn(n,H=>A(H)),O=Array.from(I.layers),[L]=[...I.layersWithOutsidePointerEventsDisabled].slice(-1),k=O.indexOf(L),N=x?O.indexOf(x):-1,W=I.layersWithOutsidePointerEventsDisabled.size>0,G=N>=k,le=mhe(H=>{const ie=H.target,pe=[...I.branches].some(se=>se.contains(ie));!G||pe||(f==null||f(H),_==null||_(H),H.defaultPrevented||y==null||y())},P),$=ghe(H=>{const ie=H.target;[...I.branches].some(se=>se.contains(ie))||(h==null||h(H),_==null||_(H),H.defaultPrevented||y==null||y())},P);return che(H=>{N===I.layers.size-1&&(s==null||s(H),!H.defaultPrevented&&y&&(H.preventDefault(),y()))},P),z.useEffect(()=>{if(x)return a&&(I.layersWithOutsidePointerEventsDisabled.size===0&&(C4=P.body.style.pointerEvents,P.body.style.pointerEvents="none"),I.layersWithOutsidePointerEventsDisabled.add(x)),I.layers.add(x),T4(),()=>{a&&I.layersWithOutsidePointerEventsDisabled.size===1&&(P.body.style.pointerEvents=C4)}},[x,P,a,I]),z.useEffect(()=>()=>{x&&(I.layers.delete(x),I.layersWithOutsidePointerEventsDisabled.delete(x),T4())},[x,I]),z.useEffect(()=>{const H=()=>R({});return document.addEventListener(LA,H),()=>document.removeEventListener(LA,H)},[]),w.jsx(yr.div,{...T,ref:E,style:{pointerEvents:W?G?"auto":"none":void 0,...e.style},onFocusCapture:Yt(e.onFocusCapture,$.onFocusCapture),onBlurCapture:Yt(e.onBlurCapture,$.onBlurCapture),onPointerDownCapture:Yt(e.onPointerDownCapture,le.onPointerDownCapture)})});bv.displayName=dhe;var phe="DismissableLayerBranch",F6=z.forwardRef((e,n)=>{const a=z.useContext(N6),s=z.useRef(null),f=Cn(n,s);return z.useEffect(()=>{const h=s.current;if(h)return a.branches.add(h),()=>{a.branches.delete(h)}},[a.branches]),w.jsx(yr.div,{...e,ref:f})});F6.displayName=phe;function mhe(e,n=globalThis==null?void 0:globalThis.document){const a=Sa(e),s=z.useRef(!1),f=z.useRef(()=>{});return z.useEffect(()=>{const h=y=>{if(y.target&&!s.current){let T=function(){O6(fhe,a,I,{discrete:!0})};const I={originalEvent:y};y.pointerType==="touch"?(n.removeEventListener("click",f.current),f.current=T,n.addEventListener("click",f.current,{once:!0})):T()}else n.removeEventListener("click",f.current);s.current=!1},_=window.setTimeout(()=>{n.addEventListener("pointerdown",h)},0);return()=>{window.clearTimeout(_),n.removeEventListener("pointerdown",h),n.removeEventListener("click",f.current)}},[n,a]),{onPointerDownCapture:()=>s.current=!0}}function ghe(e,n=globalThis==null?void 0:globalThis.document){const a=Sa(e),s=z.useRef(!1);return z.useEffect(()=>{const f=h=>{h.target&&!s.current&&O6(hhe,a,{originalEvent:h},{discrete:!1})};return n.addEventListener("focusin",f),()=>n.removeEventListener("focusin",f)},[n,a]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function T4(){const e=new CustomEvent(LA);document.dispatchEvent(e)}function O6(e,n,a,{discrete:s}){const f=a.originalEvent.target,h=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:a});n&&f.addEventListener(e,n,{once:!0}),s?mD(f,h):f.dispatchEvent(h)}var vhe=bv,yhe=F6,hs=globalThis!=null&&globalThis.document?z.useLayoutEffect:()=>{},_he="Portal",ZS=z.forwardRef((e,n)=>{var y;const{container:a,...s}=e,[f,h]=z.useState(!1);hs(()=>h(!0),[]);const _=a||f&&((y=globalThis==null?void 0:globalThis.document)==null?void 0:y.body);return _?hD.createPortal(w.jsx(yr.div,{...s,ref:n}),_):null});ZS.displayName=_he;function She(e,n){return z.useReducer((a,s)=>n[a][s]??a,e)}var Ga=e=>{const{present:n,children:a}=e,s=bhe(n),f=typeof a=="function"?a({present:s.isPresent}):z.Children.only(a),h=Cn(s.ref,Che(f));return typeof a=="function"||s.isPresent?z.cloneElement(f,{ref:h}):null};Ga.displayName="Presence";function bhe(e){const[n,a]=z.useState(),s=z.useRef(null),f=z.useRef(e),h=z.useRef("none"),_=e?"mounted":"unmounted",[y,T]=She(_,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return z.useEffect(()=>{const I=m0(s.current);h.current=y==="mounted"?I:"none"},[y]),hs(()=>{const I=s.current,x=f.current;if(x!==e){const P=h.current,R=m0(I);e?T("MOUNT"):R==="none"||(I==null?void 0:I.display)==="none"?T("UNMOUNT"):T(x&&P!==R?"ANIMATION_OUT":"UNMOUNT"),f.current=e}},[e,T]),hs(()=>{if(n){let I;const x=n.ownerDocument.defaultView??window,A=R=>{const O=m0(s.current).includes(R.animationName);if(R.target===n&&O&&(T("ANIMATION_END"),!f.current)){const L=n.style.animationFillMode;n.style.animationFillMode="forwards",I=x.setTimeout(()=>{n.style.animationFillMode==="forwards"&&(n.style.animationFillMode=L)})}},P=R=>{R.target===n&&(h.current=m0(s.current))};return n.addEventListener("animationstart",P),n.addEventListener("animationcancel",A),n.addEventListener("animationend",A),()=>{x.clearTimeout(I),n.removeEventListener("animationstart",P),n.removeEventListener("animationcancel",A),n.removeEventListener("animationend",A)}}else T("ANIMATION_END")},[n,T]),{isPresent:["mounted","unmountSuspended"].includes(y),ref:z.useCallback(I=>{s.current=I?getComputedStyle(I):null,a(I)},[])}}function m0(e){return(e==null?void 0:e.animationName)||"none"}function Che(e){var s,f;let n=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,a=n&&"isReactWarning"in n&&n.isReactWarning;return a?e.ref:(n=(f=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:f.get,a=n&&"isReactWarning"in n&&n.isReactWarning,a?e.props.ref:e.props.ref||e.ref)}var The=C1[" useInsertionEffect ".trim().toString()]||hs;function Yc({prop:e,defaultProp:n,onChange:a=()=>{},caller:s}){const[f,h,_]=Ihe({defaultProp:n,onChange:a}),y=e!==void 0,T=y?e:f;{const x=z.useRef(e!==void 0);z.useEffect(()=>{const A=x.current;A!==y&&console.warn(`${s} is changing from ${A?"controlled":"uncontrolled"} to ${y?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),x.current=y},[y,s])}const I=z.useCallback(x=>{var A;if(y){const P=whe(x)?x(e):x;P!==e&&((A=_.current)==null||A.call(_,P))}else h(x)},[y,e,h,_]);return[T,I]}function Ihe({defaultProp:e,onChange:n}){const[a,s]=z.useState(e),f=z.useRef(a),h=z.useRef(n);return The(()=>{h.current=n},[n]),z.useEffect(()=>{var _;f.current!==a&&((_=h.current)==null||_.call(h,a),f.current=a)},[a,f]),[a,s,h]}function whe(e){return typeof e=="function"}var Ehe=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),xhe="VisuallyHidden",$S=z.forwardRef((e,n)=>w.jsx(yr.span,{...e,ref:n,style:{...Ehe,...e.style}}));$S.displayName=xhe;var Ahe=$S,gD="ToastProvider",[vD,Dhe,Phe]=pD("Toast"),[M6,TCe]=Va("Toast",[Phe]),[Rhe,eb]=M6(gD),L6=e=>{const{__scopeToast:n,label:a="Notification",duration:s=5e3,swipeDirection:f="right",swipeThreshold:h=50,children:_}=e,[y,T]=z.useState(null),[I,x]=z.useState(0),A=z.useRef(!1),P=z.useRef(!1);return a.trim()||console.error(`Invalid prop \`label\` supplied to \`${gD}\`. Expected non-empty \`string\`.`),w.jsx(vD.Provider,{scope:n,children:w.jsx(Rhe,{scope:n,label:a,duration:s,swipeDirection:f,swipeThreshold:h,toastCount:I,viewport:y,onViewportChange:T,onToastAdd:z.useCallback(()=>x(R=>R+1),[]),onToastRemove:z.useCallback(()=>x(R=>R-1),[]),isFocusedToastEscapeKeyDownRef:A,isClosePausedRef:P,children:_})})};L6.displayName=gD;var W6="ToastViewport",khe=["F8"],WA="toast.viewportPause",jA="toast.viewportResume",j6=z.forwardRef((e,n)=>{const{__scopeToast:a,hotkey:s=khe,label:f="Notifications ({hotkey})",...h}=e,_=eb(W6,a),y=Dhe(a),T=z.useRef(null),I=z.useRef(null),x=z.useRef(null),A=z.useRef(null),P=Cn(n,A,_.onViewportChange),R=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=_.toastCount>0;z.useEffect(()=>{const L=k=>{var W;s.length!==0&&s.every(G=>k[G]||k.code===G)&&((W=A.current)==null||W.focus())};return document.addEventListener("keydown",L),()=>document.removeEventListener("keydown",L)},[s]),z.useEffect(()=>{const L=T.current,k=A.current;if(E&&L&&k){const N=()=>{if(!_.isClosePausedRef.current){const $=new CustomEvent(WA);k.dispatchEvent($),_.isClosePausedRef.current=!0}},W=()=>{if(_.isClosePausedRef.current){const $=new CustomEvent(jA);k.dispatchEvent($),_.isClosePausedRef.current=!1}},G=$=>{!L.contains($.relatedTarget)&&W()},le=()=>{L.contains(document.activeElement)||W()};return L.addEventListener("focusin",N),L.addEventListener("focusout",G),L.addEventListener("pointermove",N),L.addEventListener("pointerleave",le),window.addEventListener("blur",N),window.addEventListener("focus",W),()=>{L.removeEventListener("focusin",N),L.removeEventListener("focusout",G),L.removeEventListener("pointermove",N),L.removeEventListener("pointerleave",le),window.removeEventListener("blur",N),window.removeEventListener("focus",W)}}},[E,_.isClosePausedRef]);const O=z.useCallback(({tabbingDirection:L})=>{const N=y().map(W=>{const G=W.ref.current,le=[G,...zhe(G)];return L==="forwards"?le:le.reverse()});return(L==="forwards"?N.reverse():N).flat()},[y]);return z.useEffect(()=>{const L=A.current;if(L){const k=N=>{var le,$,H;const W=N.altKey||N.ctrlKey||N.metaKey;if(N.key==="Tab"&&!W){const ie=document.activeElement,pe=N.shiftKey;if(N.target===L&&pe){(le=I.current)==null||le.focus();return}const me=O({tabbingDirection:pe?"backwards":"forwards"}),we=me.findIndex(ge=>ge===ie);Ex(me.slice(we+1))?N.preventDefault():pe?($=I.current)==null||$.focus():(H=x.current)==null||H.focus()}};return L.addEventListener("keydown",k),()=>L.removeEventListener("keydown",k)}},[y,O]),w.jsxs(yhe,{ref:T,role:"region","aria-label":f.replace("{hotkey}",R),tabIndex:-1,style:{pointerEvents:E?void 0:"none"},children:[E&&w.jsx(BA,{ref:I,onFocusFromOutsideViewport:()=>{const L=O({tabbingDirection:"forwards"});Ex(L)}}),w.jsx(vD.Slot,{scope:a,children:w.jsx(yr.ol,{tabIndex:-1,...h,ref:P})}),E&&w.jsx(BA,{ref:x,onFocusFromOutsideViewport:()=>{const L=O({tabbingDirection:"backwards"});Ex(L)}})]})});j6.displayName=W6;var B6="ToastFocusProxy",BA=z.forwardRef((e,n)=>{const{__scopeToast:a,onFocusFromOutsideViewport:s,...f}=e,h=eb(B6,a);return w.jsx($S,{"aria-hidden":!0,tabIndex:0,...f,ref:n,style:{position:"fixed"},onFocus:_=>{var I;const y=_.relatedTarget;!((I=h.viewport)!=null&&I.contains(y))&&s()}})});BA.displayName=B6;var Cv="Toast",Nhe="toast.swipeStart",Fhe="toast.swipeMove",Ohe="toast.swipeCancel",Mhe="toast.swipeEnd",U6=z.forwardRef((e,n)=>{const{forceMount:a,open:s,defaultOpen:f,onOpenChange:h,..._}=e,[y,T]=Yc({prop:s,defaultProp:f??!0,onChange:h,caller:Cv});return w.jsx(Ga,{present:a||y,children:w.jsx(jhe,{open:y,..._,ref:n,onClose:()=>T(!1),onPause:Sa(e.onPause),onResume:Sa(e.onResume),onSwipeStart:Yt(e.onSwipeStart,I=>{I.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Yt(e.onSwipeMove,I=>{const{x,y:A}=I.detail.delta;I.currentTarget.setAttribute("data-swipe","move"),I.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${x}px`),I.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${A}px`)}),onSwipeCancel:Yt(e.onSwipeCancel,I=>{I.currentTarget.setAttribute("data-swipe","cancel"),I.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),I.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),I.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),I.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Yt(e.onSwipeEnd,I=>{const{x,y:A}=I.detail.delta;I.currentTarget.setAttribute("data-swipe","end"),I.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),I.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),I.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${x}px`),I.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${A}px`),T(!1)})})})});U6.displayName=Cv;var[Lhe,Whe]=M6(Cv,{onClose(){}}),jhe=z.forwardRef((e,n)=>{const{__scopeToast:a,type:s="foreground",duration:f,open:h,onClose:_,onEscapeKeyDown:y,onPause:T,onResume:I,onSwipeStart:x,onSwipeMove:A,onSwipeCancel:P,onSwipeEnd:R,...E}=e,O=eb(Cv,a),[L,k]=z.useState(null),N=Cn(n,ge=>k(ge)),W=z.useRef(null),G=z.useRef(null),le=f||O.duration,$=z.useRef(0),H=z.useRef(le),ie=z.useRef(0),{onToastAdd:pe,onToastRemove:se}=O,ce=Sa(()=>{var Ee;(L==null?void 0:L.contains(document.activeElement))&&((Ee=O.viewport)==null||Ee.focus()),_()}),me=z.useCallback(ge=>{!ge||ge===1/0||(window.clearTimeout(ie.current),$.current=new Date().getTime(),ie.current=window.setTimeout(ce,ge))},[ce]);z.useEffect(()=>{const ge=O.viewport;if(ge){const Ee=()=>{me(H.current),I==null||I()},_e=()=>{const Ue=new Date().getTime()-$.current;H.current=H.current-Ue,window.clearTimeout(ie.current),T==null||T()};return ge.addEventListener(WA,_e),ge.addEventListener(jA,Ee),()=>{ge.removeEventListener(WA,_e),ge.removeEventListener(jA,Ee)}}},[O.viewport,le,T,I,me]),z.useEffect(()=>{h&&!O.isClosePausedRef.current&&me(le)},[h,le,O.isClosePausedRef,me]),z.useEffect(()=>(pe(),()=>se()),[pe,se]);const we=z.useMemo(()=>L?Y6(L):null,[L]);return O.viewport?w.jsxs(w.Fragment,{children:[we&&w.jsx(Bhe,{__scopeToast:a,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:we}),w.jsx(Lhe,{scope:a,onClose:ce,children:Cp.createPortal(w.jsx(vD.ItemSlot,{scope:a,children:w.jsx(vhe,{asChild:!0,onEscapeKeyDown:Yt(y,()=>{O.isFocusedToastEscapeKeyDownRef.current||ce(),O.isFocusedToastEscapeKeyDownRef.current=!1}),children:w.jsx(yr.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":h?"open":"closed","data-swipe-direction":O.swipeDirection,...E,ref:N,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Yt(e.onKeyDown,ge=>{ge.key==="Escape"&&(y==null||y(ge.nativeEvent),ge.nativeEvent.defaultPrevented||(O.isFocusedToastEscapeKeyDownRef.current=!0,ce()))}),onPointerDown:Yt(e.onPointerDown,ge=>{ge.button===0&&(W.current={x:ge.clientX,y:ge.clientY})}),onPointerMove:Yt(e.onPointerMove,ge=>{if(!W.current)return;const Ee=ge.clientX-W.current.x,_e=ge.clientY-W.current.y,Ue=!!G.current,xe=["left","right"].includes(O.swipeDirection),Te=["left","up"].includes(O.swipeDirection)?Math.min:Math.max,Be=xe?Te(0,Ee):0,ot=xe?0:Te(0,_e),tt=ge.pointerType==="touch"?10:2,vt={x:Be,y:ot},bt={originalEvent:ge,delta:vt};Ue?(G.current=vt,g0(Fhe,A,bt,{discrete:!1})):I4(vt,O.swipeDirection,tt)?(G.current=vt,g0(Nhe,x,bt,{discrete:!1}),ge.target.setPointerCapture(ge.pointerId)):(Math.abs(Ee)>tt||Math.abs(_e)>tt)&&(W.current=null)}),onPointerUp:Yt(e.onPointerUp,ge=>{const Ee=G.current,_e=ge.target;if(_e.hasPointerCapture(ge.pointerId)&&_e.releasePointerCapture(ge.pointerId),G.current=null,W.current=null,Ee){const Ue=ge.currentTarget,xe={originalEvent:ge,delta:Ee};I4(Ee,O.swipeDirection,O.swipeThreshold)?g0(Mhe,R,xe,{discrete:!0}):g0(Ohe,P,xe,{discrete:!0}),Ue.addEventListener("click",Te=>Te.preventDefault(),{once:!0})}})})})}),O.viewport)})]}):null}),Bhe=e=>{const{__scopeToast:n,children:a,...s}=e,f=eb(Cv,n),[h,_]=z.useState(!1),[y,T]=z.useState(!1);return Ghe(()=>_(!0)),z.useEffect(()=>{const I=window.setTimeout(()=>T(!0),1e3);return()=>window.clearTimeout(I)},[]),y?null:w.jsx(ZS,{asChild:!0,children:w.jsx($S,{...s,children:h&&w.jsxs(w.Fragment,{children:[f.label," ",a]})})})},Uhe="ToastTitle",V6=z.forwardRef((e,n)=>{const{__scopeToast:a,...s}=e;return w.jsx(yr.div,{...s,ref:n})});V6.displayName=Uhe;var Vhe="ToastDescription",G6=z.forwardRef((e,n)=>{const{__scopeToast:a,...s}=e;return w.jsx(yr.div,{...s,ref:n})});G6.displayName=Vhe;var H6="ToastAction",z6=z.forwardRef((e,n)=>{const{altText:a,...s}=e;return a.trim()?w.jsx(Q6,{altText:a,asChild:!0,children:w.jsx(yD,{...s,ref:n})}):(console.error(`Invalid prop \`altText\` supplied to \`${H6}\`. Expected non-empty \`string\`.`),null)});z6.displayName=H6;var K6="ToastClose",yD=z.forwardRef((e,n)=>{const{__scopeToast:a,...s}=e,f=Whe(K6,a);return w.jsx(Q6,{asChild:!0,children:w.jsx(yr.button,{type:"button",...s,ref:n,onClick:Yt(e.onClick,f.onClose)})})});yD.displayName=K6;var Q6=z.forwardRef((e,n)=>{const{__scopeToast:a,altText:s,...f}=e;return w.jsx(yr.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...f,ref:n})});function Y6(e){const n=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&n.push(s.textContent),Hhe(s)){const f=s.ariaHidden||s.hidden||s.style.display==="none",h=s.dataset.radixToastAnnounceExclude==="";if(!f)if(h){const _=s.dataset.radixToastAnnounceAlt;_&&n.push(_)}else n.push(...Y6(s))}}),n}function g0(e,n,a,{discrete:s}){const f=a.originalEvent.currentTarget,h=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:a});n&&f.addEventListener(e,n,{once:!0}),s?mD(f,h):f.dispatchEvent(h)}var I4=(e,n,a=0)=>{const s=Math.abs(e.x),f=Math.abs(e.y),h=s>f;return n==="left"||n==="right"?h&&s>a:!h&&f>a};function Ghe(e=()=>{}){const n=Sa(e);hs(()=>{let a=0,s=0;return a=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(n)),()=>{window.cancelAnimationFrame(a),window.cancelAnimationFrame(s)}},[n])}function Hhe(e){return e.nodeType===e.ELEMENT_NODE}function zhe(e){const n=[],a=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const f=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||f?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;a.nextNode();)n.push(a.currentNode);return n}function Ex(e){const n=document.activeElement;return e.some(a=>a===n?!0:(a.focus(),document.activeElement!==n))}var Khe=L6,J6=j6,q6=U6,X6=V6,Z6=G6,$6=z6,eH=yD;function tH(e){var n,a,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var f=e.length;for(n=0;n<f;n++)e[n]&&(a=tH(e[n]))&&(s&&(s+=" "),s+=a)}else for(a in e)e[a]&&(s&&(s+=" "),s+=a);return s}function rH(){for(var e,n,a=0,s="",f=arguments.length;a<f;a++)(e=arguments[a])&&(n=tH(e))&&(s&&(s+=" "),s+=n);return s}const w4=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,E4=rH,tb=(e,n)=>a=>{var s;if((n==null?void 0:n.variants)==null)return E4(e,a==null?void 0:a.class,a==null?void 0:a.className);const{variants:f,defaultVariants:h}=n,_=Object.keys(f).map(I=>{const x=a==null?void 0:a[I],A=h==null?void 0:h[I];if(x===null)return null;const P=w4(x)||w4(A);return f[I][P]}),y=a&&Object.entries(a).reduce((I,x)=>{let[A,P]=x;return P===void 0||(I[A]=P),I},{}),T=n==null||(s=n.compoundVariants)===null||s===void 0?void 0:s.reduce((I,x)=>{let{class:A,className:P,...R}=x;return Object.entries(R).every(E=>{let[O,L]=E;return Array.isArray(L)?L.includes({...h,...y}[O]):{...h,...y}[O]===L})?[...I,A,P]:I},[]);return E4(e,_,T,a==null?void 0:a.class,a==null?void 0:a.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qhe=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nH=(...e)=>e.filter((n,a,s)=>!!n&&n.trim()!==""&&s.indexOf(n)===a).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Yhe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jhe=z.forwardRef(({color:e="currentColor",size:n=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:f="",children:h,iconNode:_,...y},T)=>z.createElement("svg",{ref:T,...Yhe,width:n,height:n,stroke:e,strokeWidth:s?Number(a)*24/Number(n):a,className:nH("lucide",f),...y},[..._.map(([I,x])=>z.createElement(I,x)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=(e,n)=>{const a=z.forwardRef(({className:s,...f},h)=>z.createElement(Jhe,{ref:h,iconNode:n,className:nH(`lucide-${Qhe(e)}`,s),...f}));return a.displayName=`${e}`,a};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qhe=Qr("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xhe=Qr("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zhe=Qr("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $he=Qr("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iH=Qr("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const epe=Qr("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=Qr("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oH=Qr("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tpe=Qr("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rpe=Qr("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aH=Qr("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const npe=Qr("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sH=Qr("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ipe=Qr("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=Qr("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ope=Qr("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=Qr("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ape=Qr("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uH=Qr("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=Qr("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const spe=Qr("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const upe=Qr("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=Qr("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lH=Qr("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lpe=Qr("ScanLine",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cpe=Qr("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dpe=Qr("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cH=Qr("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dH=Qr("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=Qr("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=Qr("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fH=Qr("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=Qr("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=Qr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),CD="-",fpe=e=>{const n=ppe(e),{conflictingClassGroups:a,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:_=>{const y=_.split(CD);return y[0]===""&&y.length!==1&&y.shift(),hH(y,n)||hpe(_)},getConflictingClassGroupIds:(_,y)=>{const T=a[_]||[];return y&&s[_]?[...T,...s[_]]:T}}},hH=(e,n)=>{var _;if(e.length===0)return n.classGroupId;const a=e[0],s=n.nextPart.get(a),f=s?hH(e.slice(1),s):void 0;if(f)return f;if(n.validators.length===0)return;const h=e.join(CD);return(_=n.validators.find(({validator:y})=>y(h)))==null?void 0:_.classGroupId},D4=/^\[(.+)\]$/,hpe=e=>{if(D4.test(e)){const n=D4.exec(e)[1],a=n==null?void 0:n.substring(0,n.indexOf(":"));if(a)return"arbitrary.."+a}},ppe=e=>{const{theme:n,prefix:a}=e,s={nextPart:new Map,validators:[]};return gpe(Object.entries(e.classGroups),a).forEach(([h,_])=>{UA(_,s,h,n)}),s},UA=(e,n,a,s)=>{e.forEach(f=>{if(typeof f=="string"){const h=f===""?n:P4(n,f);h.classGroupId=a;return}if(typeof f=="function"){if(mpe(f)){UA(f(s),n,a,s);return}n.validators.push({validator:f,classGroupId:a});return}Object.entries(f).forEach(([h,_])=>{UA(_,P4(n,h),a,s)})})},P4=(e,n)=>{let a=e;return n.split(CD).forEach(s=>{a.nextPart.has(s)||a.nextPart.set(s,{nextPart:new Map,validators:[]}),a=a.nextPart.get(s)}),a},mpe=e=>e.isThemeGetter,gpe=(e,n)=>n?e.map(([a,s])=>{const f=s.map(h=>typeof h=="string"?n+h:typeof h=="object"?Object.fromEntries(Object.entries(h).map(([_,y])=>[n+_,y])):h);return[a,f]}):e,vpe=e=>{if(e<1)return{get:()=>{},set:()=>{}};let n=0,a=new Map,s=new Map;const f=(h,_)=>{a.set(h,_),n++,n>e&&(n=0,s=a,a=new Map)};return{get(h){let _=a.get(h);if(_!==void 0)return _;if((_=s.get(h))!==void 0)return f(h,_),_},set(h,_){a.has(h)?a.set(h,_):f(h,_)}}},pH="!",ype=e=>{const{separator:n,experimentalParseClassName:a}=e,s=n.length===1,f=n[0],h=n.length,_=y=>{const T=[];let I=0,x=0,A;for(let L=0;L<y.length;L++){let k=y[L];if(I===0){if(k===f&&(s||y.slice(L,L+h)===n)){T.push(y.slice(x,L)),x=L+h;continue}if(k==="/"){A=L;continue}}k==="["?I++:k==="]"&&I--}const P=T.length===0?y:y.substring(x),R=P.startsWith(pH),E=R?P.substring(1):P,O=A&&A>x?A-x:void 0;return{modifiers:T,hasImportantModifier:R,baseClassName:E,maybePostfixModifierPosition:O}};return a?y=>a({className:y,parseClassName:_}):_},_pe=e=>{if(e.length<=1)return e;const n=[];let a=[];return e.forEach(s=>{s[0]==="["?(n.push(...a.sort(),s),a=[]):a.push(s)}),n.push(...a.sort()),n},Spe=e=>({cache:vpe(e.cacheSize),parseClassName:ype(e),...fpe(e)}),bpe=/\s+/,Cpe=(e,n)=>{const{parseClassName:a,getClassGroupId:s,getConflictingClassGroupIds:f}=n,h=[],_=e.trim().split(bpe);let y="";for(let T=_.length-1;T>=0;T-=1){const I=_[T],{modifiers:x,hasImportantModifier:A,baseClassName:P,maybePostfixModifierPosition:R}=a(I);let E=!!R,O=s(E?P.substring(0,R):P);if(!O){if(!E){y=I+(y.length>0?" "+y:y);continue}if(O=s(P),!O){y=I+(y.length>0?" "+y:y);continue}E=!1}const L=_pe(x).join(":"),k=A?L+pH:L,N=k+O;if(h.includes(N))continue;h.push(N);const W=f(O,E);for(let G=0;G<W.length;++G){const le=W[G];h.push(k+le)}y=I+(y.length>0?" "+y:y)}return y};function Tpe(){let e=0,n,a,s="";for(;e<arguments.length;)(n=arguments[e++])&&(a=mH(n))&&(s&&(s+=" "),s+=a);return s}const mH=e=>{if(typeof e=="string")return e;let n,a="";for(let s=0;s<e.length;s++)e[s]&&(n=mH(e[s]))&&(a&&(a+=" "),a+=n);return a};function Ipe(e,...n){let a,s,f,h=_;function _(T){const I=n.reduce((x,A)=>A(x),e());return a=Spe(I),s=a.cache.get,f=a.cache.set,h=y,y(T)}function y(T){const I=s(T);if(I)return I;const x=Cpe(T,a);return f(T,x),x}return function(){return h(Tpe.apply(null,arguments))}}const An=e=>{const n=a=>a[e]||[];return n.isThemeGetter=!0,n},gH=/^\[(?:([a-z-]+):)?(.+)\]$/i,wpe=/^\d+\/\d+$/,Epe=new Set(["px","full","screen"]),xpe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ape=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Dpe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Ppe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Rpe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,tl=e=>zh(e)||Epe.has(e)||wpe.test(e),ac=e=>Tp(e,"length",jpe),zh=e=>!!e&&!Number.isNaN(Number(e)),xx=e=>Tp(e,"number",zh),dg=e=>!!e&&Number.isInteger(Number(e)),kpe=e=>e.endsWith("%")&&zh(e.slice(0,-1)),Cr=e=>gH.test(e),sc=e=>xpe.test(e),Npe=new Set(["length","size","percentage"]),Fpe=e=>Tp(e,Npe,vH),Ope=e=>Tp(e,"position",vH),Mpe=new Set(["image","url"]),Lpe=e=>Tp(e,Mpe,Upe),Wpe=e=>Tp(e,"",Bpe),fg=()=>!0,Tp=(e,n,a)=>{const s=gH.exec(e);return s?s[1]?typeof n=="string"?s[1]===n:n.has(s[1]):a(s[2]):!1},jpe=e=>Ape.test(e)&&!Dpe.test(e),vH=()=>!1,Bpe=e=>Ppe.test(e),Upe=e=>Rpe.test(e),Vpe=()=>{const e=An("colors"),n=An("spacing"),a=An("blur"),s=An("brightness"),f=An("borderColor"),h=An("borderRadius"),_=An("borderSpacing"),y=An("borderWidth"),T=An("contrast"),I=An("grayscale"),x=An("hueRotate"),A=An("invert"),P=An("gap"),R=An("gradientColorStops"),E=An("gradientColorStopPositions"),O=An("inset"),L=An("margin"),k=An("opacity"),N=An("padding"),W=An("saturate"),G=An("scale"),le=An("sepia"),$=An("skew"),H=An("space"),ie=An("translate"),pe=()=>["auto","contain","none"],se=()=>["auto","hidden","clip","visible","scroll"],ce=()=>["auto",Cr,n],me=()=>[Cr,n],we=()=>["",tl,ac],ge=()=>["auto",zh,Cr],Ee=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],_e=()=>["solid","dashed","dotted","double","none"],Ue=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],xe=()=>["start","end","center","between","around","evenly","stretch"],Te=()=>["","0",Cr],Be=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ot=()=>[zh,Cr];return{cacheSize:500,separator:":",theme:{colors:[fg],spacing:[tl,ac],blur:["none","",sc,Cr],brightness:ot(),borderColor:[e],borderRadius:["none","","full",sc,Cr],borderSpacing:me(),borderWidth:we(),contrast:ot(),grayscale:Te(),hueRotate:ot(),invert:Te(),gap:me(),gradientColorStops:[e],gradientColorStopPositions:[kpe,ac],inset:ce(),margin:ce(),opacity:ot(),padding:me(),saturate:ot(),scale:ot(),sepia:Te(),skew:ot(),space:me(),translate:me()},classGroups:{aspect:[{aspect:["auto","square","video",Cr]}],container:["container"],columns:[{columns:[sc]}],"break-after":[{"break-after":Be()}],"break-before":[{"break-before":Be()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Ee(),Cr]}],overflow:[{overflow:se()}],"overflow-x":[{"overflow-x":se()}],"overflow-y":[{"overflow-y":se()}],overscroll:[{overscroll:pe()}],"overscroll-x":[{"overscroll-x":pe()}],"overscroll-y":[{"overscroll-y":pe()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[O]}],"inset-x":[{"inset-x":[O]}],"inset-y":[{"inset-y":[O]}],start:[{start:[O]}],end:[{end:[O]}],top:[{top:[O]}],right:[{right:[O]}],bottom:[{bottom:[O]}],left:[{left:[O]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",dg,Cr]}],basis:[{basis:ce()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Cr]}],grow:[{grow:Te()}],shrink:[{shrink:Te()}],order:[{order:["first","last","none",dg,Cr]}],"grid-cols":[{"grid-cols":[fg]}],"col-start-end":[{col:["auto",{span:["full",dg,Cr]},Cr]}],"col-start":[{"col-start":ge()}],"col-end":[{"col-end":ge()}],"grid-rows":[{"grid-rows":[fg]}],"row-start-end":[{row:["auto",{span:[dg,Cr]},Cr]}],"row-start":[{"row-start":ge()}],"row-end":[{"row-end":ge()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Cr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Cr]}],gap:[{gap:[P]}],"gap-x":[{"gap-x":[P]}],"gap-y":[{"gap-y":[P]}],"justify-content":[{justify:["normal",...xe()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...xe(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...xe(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[N]}],px:[{px:[N]}],py:[{py:[N]}],ps:[{ps:[N]}],pe:[{pe:[N]}],pt:[{pt:[N]}],pr:[{pr:[N]}],pb:[{pb:[N]}],pl:[{pl:[N]}],m:[{m:[L]}],mx:[{mx:[L]}],my:[{my:[L]}],ms:[{ms:[L]}],me:[{me:[L]}],mt:[{mt:[L]}],mr:[{mr:[L]}],mb:[{mb:[L]}],ml:[{ml:[L]}],"space-x":[{"space-x":[H]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[H]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Cr,n]}],"min-w":[{"min-w":[Cr,n,"min","max","fit"]}],"max-w":[{"max-w":[Cr,n,"none","full","min","max","fit","prose",{screen:[sc]},sc]}],h:[{h:[Cr,n,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Cr,n,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Cr,n,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Cr,n,"auto","min","max","fit"]}],"font-size":[{text:["base",sc,ac]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",xx]}],"font-family":[{font:[fg]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Cr]}],"line-clamp":[{"line-clamp":["none",zh,xx]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",tl,Cr]}],"list-image":[{"list-image":["none",Cr]}],"list-style-type":[{list:["none","disc","decimal",Cr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[k]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[k]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[..._e(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",tl,ac]}],"underline-offset":[{"underline-offset":["auto",tl,Cr]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:me()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Cr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Cr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[k]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Ee(),Ope]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Fpe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Lpe]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[E]}],"gradient-via-pos":[{via:[E]}],"gradient-to-pos":[{to:[E]}],"gradient-from":[{from:[R]}],"gradient-via":[{via:[R]}],"gradient-to":[{to:[R]}],rounded:[{rounded:[h]}],"rounded-s":[{"rounded-s":[h]}],"rounded-e":[{"rounded-e":[h]}],"rounded-t":[{"rounded-t":[h]}],"rounded-r":[{"rounded-r":[h]}],"rounded-b":[{"rounded-b":[h]}],"rounded-l":[{"rounded-l":[h]}],"rounded-ss":[{"rounded-ss":[h]}],"rounded-se":[{"rounded-se":[h]}],"rounded-ee":[{"rounded-ee":[h]}],"rounded-es":[{"rounded-es":[h]}],"rounded-tl":[{"rounded-tl":[h]}],"rounded-tr":[{"rounded-tr":[h]}],"rounded-br":[{"rounded-br":[h]}],"rounded-bl":[{"rounded-bl":[h]}],"border-w":[{border:[y]}],"border-w-x":[{"border-x":[y]}],"border-w-y":[{"border-y":[y]}],"border-w-s":[{"border-s":[y]}],"border-w-e":[{"border-e":[y]}],"border-w-t":[{"border-t":[y]}],"border-w-r":[{"border-r":[y]}],"border-w-b":[{"border-b":[y]}],"border-w-l":[{"border-l":[y]}],"border-opacity":[{"border-opacity":[k]}],"border-style":[{border:[..._e(),"hidden"]}],"divide-x":[{"divide-x":[y]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[y]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[k]}],"divide-style":[{divide:_e()}],"border-color":[{border:[f]}],"border-color-x":[{"border-x":[f]}],"border-color-y":[{"border-y":[f]}],"border-color-s":[{"border-s":[f]}],"border-color-e":[{"border-e":[f]}],"border-color-t":[{"border-t":[f]}],"border-color-r":[{"border-r":[f]}],"border-color-b":[{"border-b":[f]}],"border-color-l":[{"border-l":[f]}],"divide-color":[{divide:[f]}],"outline-style":[{outline:["",..._e()]}],"outline-offset":[{"outline-offset":[tl,Cr]}],"outline-w":[{outline:[tl,ac]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:we()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[k]}],"ring-offset-w":[{"ring-offset":[tl,ac]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",sc,Wpe]}],"shadow-color":[{shadow:[fg]}],opacity:[{opacity:[k]}],"mix-blend":[{"mix-blend":[...Ue(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Ue()}],filter:[{filter:["","none"]}],blur:[{blur:[a]}],brightness:[{brightness:[s]}],contrast:[{contrast:[T]}],"drop-shadow":[{"drop-shadow":["","none",sc,Cr]}],grayscale:[{grayscale:[I]}],"hue-rotate":[{"hue-rotate":[x]}],invert:[{invert:[A]}],saturate:[{saturate:[W]}],sepia:[{sepia:[le]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[a]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[T]}],"backdrop-grayscale":[{"backdrop-grayscale":[I]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[x]}],"backdrop-invert":[{"backdrop-invert":[A]}],"backdrop-opacity":[{"backdrop-opacity":[k]}],"backdrop-saturate":[{"backdrop-saturate":[W]}],"backdrop-sepia":[{"backdrop-sepia":[le]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[_]}],"border-spacing-x":[{"border-spacing-x":[_]}],"border-spacing-y":[{"border-spacing-y":[_]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Cr]}],duration:[{duration:ot()}],ease:[{ease:["linear","in","out","in-out",Cr]}],delay:[{delay:ot()}],animate:[{animate:["none","spin","ping","pulse","bounce",Cr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[G]}],"scale-x":[{"scale-x":[G]}],"scale-y":[{"scale-y":[G]}],rotate:[{rotate:[dg,Cr]}],"translate-x":[{"translate-x":[ie]}],"translate-y":[{"translate-y":[ie]}],"skew-x":[{"skew-x":[$]}],"skew-y":[{"skew-y":[$]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Cr]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Cr]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":me()}],"scroll-mx":[{"scroll-mx":me()}],"scroll-my":[{"scroll-my":me()}],"scroll-ms":[{"scroll-ms":me()}],"scroll-me":[{"scroll-me":me()}],"scroll-mt":[{"scroll-mt":me()}],"scroll-mr":[{"scroll-mr":me()}],"scroll-mb":[{"scroll-mb":me()}],"scroll-ml":[{"scroll-ml":me()}],"scroll-p":[{"scroll-p":me()}],"scroll-px":[{"scroll-px":me()}],"scroll-py":[{"scroll-py":me()}],"scroll-ps":[{"scroll-ps":me()}],"scroll-pe":[{"scroll-pe":me()}],"scroll-pt":[{"scroll-pt":me()}],"scroll-pr":[{"scroll-pr":me()}],"scroll-pb":[{"scroll-pb":me()}],"scroll-pl":[{"scroll-pl":me()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Cr]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[tl,ac,xx]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Gpe=Ipe(Vpe);function pr(...e){return Gpe(rH(e))}const Hpe=Khe,yH=z.forwardRef(({className:e,...n},a)=>w.jsx(J6,{ref:a,className:pr("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...n}));yH.displayName=J6.displayName;const zpe=tb("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),_H=z.forwardRef(({className:e,variant:n,...a},s)=>w.jsx(q6,{ref:s,className:pr(zpe({variant:n}),e),...a}));_H.displayName=q6.displayName;const Kpe=z.forwardRef(({className:e,...n},a)=>w.jsx($6,{ref:a,className:pr("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...n}));Kpe.displayName=$6.displayName;const SH=z.forwardRef(({className:e,...n},a)=>w.jsx(eH,{ref:a,className:pr("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...n,children:w.jsx(Tv,{className:"h-4 w-4"})}));SH.displayName=eH.displayName;const bH=z.forwardRef(({className:e,...n},a)=>w.jsx(X6,{ref:a,className:pr("text-sm font-semibold",e),...n}));bH.displayName=X6.displayName;const CH=z.forwardRef(({className:e,...n},a)=>w.jsx(Z6,{ref:a,className:pr("text-sm opacity-90",e),...n}));CH.displayName=Z6.displayName;function Qpe(){const{toasts:e}=ehe();return w.jsxs(Hpe,{children:[e.map(function({id:n,title:a,description:s,action:f,...h}){return w.jsxs(_H,{...h,children:[w.jsxs("div",{className:"grid gap-1",children:[a&&w.jsx(bH,{children:a}),s&&w.jsx(CH,{children:s})]}),f,w.jsx(SH,{})]},n)}),w.jsx(yH,{})]})}var R4=["light","dark"],Ype="(prefers-color-scheme: dark)",Jpe=z.createContext(void 0),qpe={setTheme:e=>{},themes:[]},Xpe=()=>{var e;return(e=z.useContext(Jpe))!=null?e:qpe};z.memo(({forcedTheme:e,storageKey:n,attribute:a,enableSystem:s,enableColorScheme:f,defaultTheme:h,value:_,attrs:y,nonce:T})=>{let I=h==="system",x=a==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${y.map(E=>`'${E}'`).join(",")})`};`:`var d=document.documentElement,n='${a}',s='setAttribute';`,A=f?R4.includes(h)&&h?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${h}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",P=(E,O=!1,L=!0)=>{let k=_?_[E]:E,N=O?E+"|| ''":`'${k}'`,W="";return f&&L&&!O&&R4.includes(E)&&(W+=`d.style.colorScheme = '${E}';`),a==="class"?O||k?W+=`c.add(${N})`:W+="null":k&&(W+=`d[s](n,${N})`),W},R=e?`!function(){${x}${P(e)}}()`:s?`!function(){try{${x}var e=localStorage.getItem('${n}');if('system'===e||(!e&&${I})){var t='${Ype}',m=window.matchMedia(t);if(m.media!==t||m.matches){${P("dark")}}else{${P("light")}}}else if(e){${_?`var x=${JSON.stringify(_)};`:""}${P(_?"x[e]":"e",!0)}}${I?"":"else{"+P(h,!1,!1)+"}"}${A}}catch(e){}}()`:`!function(){try{${x}var e=localStorage.getItem('${n}');if(e){${_?`var x=${JSON.stringify(_)};`:""}${P(_?"x[e]":"e",!0)}}else{${P(h,!1,!1)};}${A}}catch(t){}}();`;return z.createElement("script",{nonce:T,dangerouslySetInnerHTML:{__html:R}})});var Zpe=e=>{switch(e){case"success":return tme;case"info":return nme;case"warning":return rme;case"error":return ime;default:return null}},$pe=Array(12).fill(0),eme=({visible:e,className:n})=>Ct.createElement("div",{className:["sonner-loading-wrapper",n].filter(Boolean).join(" "),"data-visible":e},Ct.createElement("div",{className:"sonner-spinner"},$pe.map((a,s)=>Ct.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),tme=Ct.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ct.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),rme=Ct.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ct.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),nme=Ct.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ct.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),ime=Ct.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ct.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),ome=Ct.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ct.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ct.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),ame=()=>{let[e,n]=Ct.useState(document.hidden);return Ct.useEffect(()=>{let a=()=>{n(document.hidden)};return document.addEventListener("visibilitychange",a),()=>window.removeEventListener("visibilitychange",a)},[]),e},VA=1,sme=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:a,...s}=e,f=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:VA++,h=this.toasts.find(y=>y.id===f),_=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(f)&&this.dismissedToasts.delete(f),h?this.toasts=this.toasts.map(y=>y.id===f?(this.publish({...y,...e,id:f,title:a}),{...y,...e,id:f,dismissible:_,title:a}):y):this.addToast({title:a,...s,dismissible:_,id:f}),f},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(a=>a({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let a;n.loading!==void 0&&(a=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),f=a!==void 0,h,_=s.then(async T=>{if(h=["resolve",T],Ct.isValidElement(T))f=!1,this.create({id:a,type:"default",message:T});else if(lme(T)&&!T.ok){f=!1;let I=typeof n.error=="function"?await n.error(`HTTP error! status: ${T.status}`):n.error,x=typeof n.description=="function"?await n.description(`HTTP error! status: ${T.status}`):n.description;this.create({id:a,type:"error",message:I,description:x})}else if(n.success!==void 0){f=!1;let I=typeof n.success=="function"?await n.success(T):n.success,x=typeof n.description=="function"?await n.description(T):n.description;this.create({id:a,type:"success",message:I,description:x})}}).catch(async T=>{if(h=["reject",T],n.error!==void 0){f=!1;let I=typeof n.error=="function"?await n.error(T):n.error,x=typeof n.description=="function"?await n.description(T):n.description;this.create({id:a,type:"error",message:I,description:x})}}).finally(()=>{var T;f&&(this.dismiss(a),a=void 0),(T=n.finally)==null||T.call(n)}),y=()=>new Promise((T,I)=>_.then(()=>h[0]==="reject"?I(h[1]):T(h[1])).catch(I));return typeof a!="string"&&typeof a!="number"?{unwrap:y}:Object.assign(a,{unwrap:y})},this.custom=(e,n)=>{let a=(n==null?void 0:n.id)||VA++;return this.create({jsx:e(a),id:a,...n}),a},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},ha=new sme,ume=(e,n)=>{let a=(n==null?void 0:n.id)||VA++;return ha.addToast({title:e,...n,id:a}),a},lme=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",cme=ume,dme=()=>ha.toasts,fme=()=>ha.getActiveToasts(),Er=Object.assign(cme,{success:ha.success,info:ha.info,warning:ha.warning,error:ha.error,custom:ha.custom,message:ha.message,promise:ha.promise,dismiss:ha.dismiss,loading:ha.loading},{getHistory:dme,getToasts:fme});function hme(e,{insertAt:n}={}){if(typeof document>"u")return;let a=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",n==="top"&&a.firstChild?a.insertBefore(s,a.firstChild):a.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}hme(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function v0(e){return e.label!==void 0}var pme=3,mme="32px",gme="16px",k4=4e3,vme=356,yme=14,_me=20,Sme=200;function js(...e){return e.filter(Boolean).join(" ")}function bme(e){let[n,a]=e.split("-"),s=[];return n&&s.push(n),a&&s.push(a),s}var Cme=e=>{var n,a,s,f,h,_,y,T,I,x,A;let{invert:P,toast:R,unstyled:E,interacting:O,setHeights:L,visibleToasts:k,heights:N,index:W,toasts:G,expanded:le,removeToast:$,defaultRichColors:H,closeButton:ie,style:pe,cancelButtonStyle:se,actionButtonStyle:ce,className:me="",descriptionClassName:we="",duration:ge,position:Ee,gap:_e,loadingIcon:Ue,expandByDefault:xe,classNames:Te,icons:Be,closeButtonAriaLabel:ot="Close toast",pauseWhenPageIsHidden:tt}=e,[vt,bt]=Ct.useState(null),[Se,ye]=Ct.useState(null),[Ie,qe]=Ct.useState(!1),[ut,lt]=Ct.useState(!1),[Vt,zt]=Ct.useState(!1),[ur,at]=Ct.useState(!1),[Nt,jt]=Ct.useState(!1),[or,fn]=Ct.useState(0),[Yr,rn]=Ct.useState(0),nn=Ct.useRef(R.duration||ge||k4),et=Ct.useRef(null),_r=Ct.useRef(null),it=W===0,Et=W+1<=k,At=R.type,Gt=R.dismissible!==!1,xt=R.className||"",he=R.descriptionClassName||"",ar=Ct.useMemo(()=>N.findIndex($t=>$t.toastId===R.id)||0,[N,R.id]),ke=Ct.useMemo(()=>{var $t;return($t=R.closeButton)!=null?$t:ie},[R.closeButton,ie]),Le=Ct.useMemo(()=>R.duration||ge||k4,[R.duration,ge]),Ze=Ct.useRef(0),rt=Ct.useRef(0),yt=Ct.useRef(0),Jt=Ct.useRef(null),[fr,qt]=Ee.split("-"),Lr=Ct.useMemo(()=>N.reduce(($t,Wr,xr)=>xr>=ar?$t:$t+Wr.height,0),[N,ar]),on=ame(),Gn=R.invert||P,ni=At==="loading";rt.current=Ct.useMemo(()=>ar*_e+Lr,[ar,Lr]),Ct.useEffect(()=>{nn.current=Le},[Le]),Ct.useEffect(()=>{qe(!0)},[]),Ct.useEffect(()=>{let $t=_r.current;if($t){let Wr=$t.getBoundingClientRect().height;return rn(Wr),L(xr=>[{toastId:R.id,height:Wr,position:R.position},...xr]),()=>L(xr=>xr.filter(hn=>hn.toastId!==R.id))}},[L,R.id]),Ct.useLayoutEffect(()=>{if(!Ie)return;let $t=_r.current,Wr=$t.style.height;$t.style.height="auto";let xr=$t.getBoundingClientRect().height;$t.style.height=Wr,rn(xr),L(hn=>hn.find(mi=>mi.toastId===R.id)?hn.map(mi=>mi.toastId===R.id?{...mi,height:xr}:mi):[{toastId:R.id,height:xr,position:R.position},...hn])},[Ie,R.title,R.description,L,R.id]);let Hi=Ct.useCallback(()=>{lt(!0),fn(rt.current),L($t=>$t.filter(Wr=>Wr.toastId!==R.id)),setTimeout(()=>{$(R)},Sme)},[R,$,L,rt]);Ct.useEffect(()=>{if(R.promise&&At==="loading"||R.duration===1/0||R.type==="loading")return;let $t;return le||O||tt&&on?(()=>{if(yt.current<Ze.current){let Wr=new Date().getTime()-Ze.current;nn.current=nn.current-Wr}yt.current=new Date().getTime()})():nn.current!==1/0&&(Ze.current=new Date().getTime(),$t=setTimeout(()=>{var Wr;(Wr=R.onAutoClose)==null||Wr.call(R,R),Hi()},nn.current)),()=>clearTimeout($t)},[le,O,R,At,tt,on,Hi]),Ct.useEffect(()=>{R.delete&&Hi()},[Hi,R.delete]);function Ao(){var $t,Wr,xr;return Be!=null&&Be.loading?Ct.createElement("div",{className:js(Te==null?void 0:Te.loader,($t=R==null?void 0:R.classNames)==null?void 0:$t.loader,"sonner-loader"),"data-visible":At==="loading"},Be.loading):Ue?Ct.createElement("div",{className:js(Te==null?void 0:Te.loader,(Wr=R==null?void 0:R.classNames)==null?void 0:Wr.loader,"sonner-loader"),"data-visible":At==="loading"},Ue):Ct.createElement(eme,{className:js(Te==null?void 0:Te.loader,(xr=R==null?void 0:R.classNames)==null?void 0:xr.loader),visible:At==="loading"})}return Ct.createElement("li",{tabIndex:0,ref:_r,className:js(me,xt,Te==null?void 0:Te.toast,(n=R==null?void 0:R.classNames)==null?void 0:n.toast,Te==null?void 0:Te.default,Te==null?void 0:Te[At],(a=R==null?void 0:R.classNames)==null?void 0:a[At]),"data-sonner-toast":"","data-rich-colors":(s=R.richColors)!=null?s:H,"data-styled":!(R.jsx||R.unstyled||E),"data-mounted":Ie,"data-promise":!!R.promise,"data-swiped":Nt,"data-removed":ut,"data-visible":Et,"data-y-position":fr,"data-x-position":qt,"data-index":W,"data-front":it,"data-swiping":Vt,"data-dismissible":Gt,"data-type":At,"data-invert":Gn,"data-swipe-out":ur,"data-swipe-direction":Se,"data-expanded":!!(le||xe&&Ie),style:{"--index":W,"--toasts-before":W,"--z-index":G.length-W,"--offset":`${ut?or:rt.current}px`,"--initial-height":xe?"auto":`${Yr}px`,...pe,...R.style},onDragEnd:()=>{zt(!1),bt(null),Jt.current=null},onPointerDown:$t=>{ni||!Gt||(et.current=new Date,fn(rt.current),$t.target.setPointerCapture($t.pointerId),$t.target.tagName!=="BUTTON"&&(zt(!0),Jt.current={x:$t.clientX,y:$t.clientY}))},onPointerUp:()=>{var $t,Wr,xr,hn;if(ur||!Gt)return;Jt.current=null;let mi=Number((($t=_r.current)==null?void 0:$t.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),no=Number(((Wr=_r.current)==null?void 0:Wr.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ae=new Date().getTime()-((xr=et.current)==null?void 0:xr.getTime()),Re=vt==="x"?mi:no,Ve=Math.abs(Re)/Ae;if(Math.abs(Re)>=_me||Ve>.11){fn(rt.current),(hn=R.onDismiss)==null||hn.call(R,R),ye(vt==="x"?mi>0?"right":"left":no>0?"down":"up"),Hi(),at(!0),jt(!1);return}zt(!1),bt(null)},onPointerMove:$t=>{var Wr,xr,hn,mi;if(!Jt.current||!Gt||((Wr=window.getSelection())==null?void 0:Wr.toString().length)>0)return;let no=$t.clientY-Jt.current.y,Ae=$t.clientX-Jt.current.x,Re=(xr=e.swipeDirections)!=null?xr:bme(Ee);!vt&&(Math.abs(Ae)>1||Math.abs(no)>1)&&bt(Math.abs(Ae)>Math.abs(no)?"x":"y");let Ve={x:0,y:0};vt==="y"?(Re.includes("top")||Re.includes("bottom"))&&(Re.includes("top")&&no<0||Re.includes("bottom")&&no>0)&&(Ve.y=no):vt==="x"&&(Re.includes("left")||Re.includes("right"))&&(Re.includes("left")&&Ae<0||Re.includes("right")&&Ae>0)&&(Ve.x=Ae),(Math.abs(Ve.x)>0||Math.abs(Ve.y)>0)&&jt(!0),(hn=_r.current)==null||hn.style.setProperty("--swipe-amount-x",`${Ve.x}px`),(mi=_r.current)==null||mi.style.setProperty("--swipe-amount-y",`${Ve.y}px`)}},ke&&!R.jsx?Ct.createElement("button",{"aria-label":ot,"data-disabled":ni,"data-close-button":!0,onClick:ni||!Gt?()=>{}:()=>{var $t;Hi(),($t=R.onDismiss)==null||$t.call(R,R)},className:js(Te==null?void 0:Te.closeButton,(f=R==null?void 0:R.classNames)==null?void 0:f.closeButton)},(h=Be==null?void 0:Be.close)!=null?h:ome):null,R.jsx||z.isValidElement(R.title)?R.jsx?R.jsx:typeof R.title=="function"?R.title():R.title:Ct.createElement(Ct.Fragment,null,At||R.icon||R.promise?Ct.createElement("div",{"data-icon":"",className:js(Te==null?void 0:Te.icon,(_=R==null?void 0:R.classNames)==null?void 0:_.icon)},R.promise||R.type==="loading"&&!R.icon?R.icon||Ao():null,R.type!=="loading"?R.icon||(Be==null?void 0:Be[At])||Zpe(At):null):null,Ct.createElement("div",{"data-content":"",className:js(Te==null?void 0:Te.content,(y=R==null?void 0:R.classNames)==null?void 0:y.content)},Ct.createElement("div",{"data-title":"",className:js(Te==null?void 0:Te.title,(T=R==null?void 0:R.classNames)==null?void 0:T.title)},typeof R.title=="function"?R.title():R.title),R.description?Ct.createElement("div",{"data-description":"",className:js(we,he,Te==null?void 0:Te.description,(I=R==null?void 0:R.classNames)==null?void 0:I.description)},typeof R.description=="function"?R.description():R.description):null),z.isValidElement(R.cancel)?R.cancel:R.cancel&&v0(R.cancel)?Ct.createElement("button",{"data-button":!0,"data-cancel":!0,style:R.cancelButtonStyle||se,onClick:$t=>{var Wr,xr;v0(R.cancel)&&Gt&&((xr=(Wr=R.cancel).onClick)==null||xr.call(Wr,$t),Hi())},className:js(Te==null?void 0:Te.cancelButton,(x=R==null?void 0:R.classNames)==null?void 0:x.cancelButton)},R.cancel.label):null,z.isValidElement(R.action)?R.action:R.action&&v0(R.action)?Ct.createElement("button",{"data-button":!0,"data-action":!0,style:R.actionButtonStyle||ce,onClick:$t=>{var Wr,xr;v0(R.action)&&((xr=(Wr=R.action).onClick)==null||xr.call(Wr,$t),!$t.defaultPrevented&&Hi())},className:js(Te==null?void 0:Te.actionButton,(A=R==null?void 0:R.classNames)==null?void 0:A.actionButton)},R.action.label):null))};function N4(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function Tme(e,n){let a={};return[e,n].forEach((s,f)=>{let h=f===1,_=h?"--mobile-offset":"--offset",y=h?gme:mme;function T(I){["top","right","bottom","left"].forEach(x=>{a[`${_}-${x}`]=typeof I=="number"?`${I}px`:I})}typeof s=="number"||typeof s=="string"?T(s):typeof s=="object"?["top","right","bottom","left"].forEach(I=>{s[I]===void 0?a[`${_}-${I}`]=y:a[`${_}-${I}`]=typeof s[I]=="number"?`${s[I]}px`:s[I]}):T(y)}),a}var Ime=z.forwardRef(function(e,n){let{invert:a,position:s="bottom-right",hotkey:f=["altKey","KeyT"],expand:h,closeButton:_,className:y,offset:T,mobileOffset:I,theme:x="light",richColors:A,duration:P,style:R,visibleToasts:E=pme,toastOptions:O,dir:L=N4(),gap:k=yme,loadingIcon:N,icons:W,containerAriaLabel:G="Notifications",pauseWhenPageIsHidden:le}=e,[$,H]=Ct.useState([]),ie=Ct.useMemo(()=>Array.from(new Set([s].concat($.filter(tt=>tt.position).map(tt=>tt.position)))),[$,s]),[pe,se]=Ct.useState([]),[ce,me]=Ct.useState(!1),[we,ge]=Ct.useState(!1),[Ee,_e]=Ct.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Ue=Ct.useRef(null),xe=f.join("+").replace(/Key/g,"").replace(/Digit/g,""),Te=Ct.useRef(null),Be=Ct.useRef(!1),ot=Ct.useCallback(tt=>{H(vt=>{var bt;return(bt=vt.find(Se=>Se.id===tt.id))!=null&&bt.delete||ha.dismiss(tt.id),vt.filter(({id:Se})=>Se!==tt.id)})},[]);return Ct.useEffect(()=>ha.subscribe(tt=>{if(tt.dismiss){H(vt=>vt.map(bt=>bt.id===tt.id?{...bt,delete:!0}:bt));return}setTimeout(()=>{hD.flushSync(()=>{H(vt=>{let bt=vt.findIndex(Se=>Se.id===tt.id);return bt!==-1?[...vt.slice(0,bt),{...vt[bt],...tt},...vt.slice(bt+1)]:[tt,...vt]})})})}),[]),Ct.useEffect(()=>{if(x!=="system"){_e(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?_e("dark"):_e("light")),typeof window>"u")return;let tt=window.matchMedia("(prefers-color-scheme: dark)");try{tt.addEventListener("change",({matches:vt})=>{_e(vt?"dark":"light")})}catch{tt.addListener(({matches:bt})=>{try{_e(bt?"dark":"light")}catch(Se){console.error(Se)}})}},[x]),Ct.useEffect(()=>{$.length<=1&&me(!1)},[$]),Ct.useEffect(()=>{let tt=vt=>{var bt,Se;f.every(ye=>vt[ye]||vt.code===ye)&&(me(!0),(bt=Ue.current)==null||bt.focus()),vt.code==="Escape"&&(document.activeElement===Ue.current||(Se=Ue.current)!=null&&Se.contains(document.activeElement))&&me(!1)};return document.addEventListener("keydown",tt),()=>document.removeEventListener("keydown",tt)},[f]),Ct.useEffect(()=>{if(Ue.current)return()=>{Te.current&&(Te.current.focus({preventScroll:!0}),Te.current=null,Be.current=!1)}},[Ue.current]),Ct.createElement("section",{ref:n,"aria-label":`${G} ${xe}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},ie.map((tt,vt)=>{var bt;let[Se,ye]=tt.split("-");return $.length?Ct.createElement("ol",{key:tt,dir:L==="auto"?N4():L,tabIndex:-1,ref:Ue,className:y,"data-sonner-toaster":!0,"data-theme":Ee,"data-y-position":Se,"data-lifted":ce&&$.length>1&&!h,"data-x-position":ye,style:{"--front-toast-height":`${((bt=pe[0])==null?void 0:bt.height)||0}px`,"--width":`${vme}px`,"--gap":`${k}px`,...R,...Tme(T,I)},onBlur:Ie=>{Be.current&&!Ie.currentTarget.contains(Ie.relatedTarget)&&(Be.current=!1,Te.current&&(Te.current.focus({preventScroll:!0}),Te.current=null))},onFocus:Ie=>{Ie.target instanceof HTMLElement&&Ie.target.dataset.dismissible==="false"||Be.current||(Be.current=!0,Te.current=Ie.relatedTarget)},onMouseEnter:()=>me(!0),onMouseMove:()=>me(!0),onMouseLeave:()=>{we||me(!1)},onDragEnd:()=>me(!1),onPointerDown:Ie=>{Ie.target instanceof HTMLElement&&Ie.target.dataset.dismissible==="false"||ge(!0)},onPointerUp:()=>ge(!1)},$.filter(Ie=>!Ie.position&&vt===0||Ie.position===tt).map((Ie,qe)=>{var ut,lt;return Ct.createElement(Cme,{key:Ie.id,icons:W,index:qe,toast:Ie,defaultRichColors:A,duration:(ut=O==null?void 0:O.duration)!=null?ut:P,className:O==null?void 0:O.className,descriptionClassName:O==null?void 0:O.descriptionClassName,invert:a,visibleToasts:E,closeButton:(lt=O==null?void 0:O.closeButton)!=null?lt:_,interacting:we,position:tt,style:O==null?void 0:O.style,unstyled:O==null?void 0:O.unstyled,classNames:O==null?void 0:O.classNames,cancelButtonStyle:O==null?void 0:O.cancelButtonStyle,actionButtonStyle:O==null?void 0:O.actionButtonStyle,removeToast:ot,toasts:$.filter(Vt=>Vt.position==Ie.position),heights:pe.filter(Vt=>Vt.position==Ie.position),setHeights:se,expandByDefault:h,gap:k,loadingIcon:N,expanded:ce,pauseWhenPageIsHidden:le,swipeDirections:e.swipeDirections})})):null}))});const wme=({...e})=>{const{theme:n="system"}=Xpe();return w.jsx(Ime,{theme:n,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var Eme=C1[" useId ".trim().toString()]||(()=>{}),xme=0;function Mc(e){const[n,a]=z.useState(Eme());return hs(()=>{e||a(s=>s??String(xme++))},[e]),e||(n?`radix-${n}`:"")}const Ame=["top","right","bottom","left"],Vc=Math.min,Oa=Math.max,gS=Math.round,y0=Math.floor,Nu=e=>({x:e,y:e}),Dme={left:"right",right:"left",bottom:"top",top:"bottom"},Pme={start:"end",end:"start"};function GA(e,n,a){return Oa(e,Vc(n,a))}function vl(e,n){return typeof e=="function"?e(n):e}function yl(e){return e.split("-")[0]}function Ip(e){return e.split("-")[1]}function TD(e){return e==="x"?"y":"x"}function ID(e){return e==="y"?"height":"width"}const Rme=new Set(["top","bottom"]);function Du(e){return Rme.has(yl(e))?"y":"x"}function wD(e){return TD(Du(e))}function kme(e,n,a){a===void 0&&(a=!1);const s=Ip(e),f=wD(e),h=ID(f);let _=f==="x"?s===(a?"end":"start")?"right":"left":s==="start"?"bottom":"top";return n.reference[h]>n.floating[h]&&(_=vS(_)),[_,vS(_)]}function Nme(e){const n=vS(e);return[HA(e),n,HA(n)]}function HA(e){return e.replace(/start|end/g,n=>Pme[n])}const F4=["left","right"],O4=["right","left"],Fme=["top","bottom"],Ome=["bottom","top"];function Mme(e,n,a){switch(e){case"top":case"bottom":return a?n?O4:F4:n?F4:O4;case"left":case"right":return n?Fme:Ome;default:return[]}}function Lme(e,n,a,s){const f=Ip(e);let h=Mme(yl(e),a==="start",s);return f&&(h=h.map(_=>_+"-"+f),n&&(h=h.concat(h.map(HA)))),h}function vS(e){return e.replace(/left|right|bottom|top/g,n=>Dme[n])}function Wme(e){return{top:0,right:0,bottom:0,left:0,...e}}function TH(e){return typeof e!="number"?Wme(e):{top:e,right:e,bottom:e,left:e}}function yS(e){const{x:n,y:a,width:s,height:f}=e;return{width:s,height:f,top:a,left:n,right:n+s,bottom:a+f,x:n,y:a}}function M4(e,n,a){let{reference:s,floating:f}=e;const h=Du(n),_=wD(n),y=ID(_),T=yl(n),I=h==="y",x=s.x+s.width/2-f.width/2,A=s.y+s.height/2-f.height/2,P=s[y]/2-f[y]/2;let R;switch(T){case"top":R={x,y:s.y-f.height};break;case"bottom":R={x,y:s.y+s.height};break;case"right":R={x:s.x+s.width,y:A};break;case"left":R={x:s.x-f.width,y:A};break;default:R={x:s.x,y:s.y}}switch(Ip(n)){case"start":R[_]-=P*(a&&I?-1:1);break;case"end":R[_]+=P*(a&&I?-1:1);break}return R}const jme=async(e,n,a)=>{const{placement:s="bottom",strategy:f="absolute",middleware:h=[],platform:_}=a,y=h.filter(Boolean),T=await(_.isRTL==null?void 0:_.isRTL(n));let I=await _.getElementRects({reference:e,floating:n,strategy:f}),{x,y:A}=M4(I,s,T),P=s,R={},E=0;for(let O=0;O<y.length;O++){const{name:L,fn:k}=y[O],{x:N,y:W,data:G,reset:le}=await k({x,y:A,initialPlacement:s,placement:P,strategy:f,middlewareData:R,rects:I,platform:_,elements:{reference:e,floating:n}});x=N??x,A=W??A,R={...R,[L]:{...R[L],...G}},le&&E<=50&&(E++,typeof le=="object"&&(le.placement&&(P=le.placement),le.rects&&(I=le.rects===!0?await _.getElementRects({reference:e,floating:n,strategy:f}):le.rects),{x,y:A}=M4(I,P,T)),O=-1)}return{x,y:A,placement:P,strategy:f,middlewareData:R}};async function rv(e,n){var a;n===void 0&&(n={});const{x:s,y:f,platform:h,rects:_,elements:y,strategy:T}=e,{boundary:I="clippingAncestors",rootBoundary:x="viewport",elementContext:A="floating",altBoundary:P=!1,padding:R=0}=vl(n,e),E=TH(R),L=y[P?A==="floating"?"reference":"floating":A],k=yS(await h.getClippingRect({element:(a=await(h.isElement==null?void 0:h.isElement(L)))==null||a?L:L.contextElement||await(h.getDocumentElement==null?void 0:h.getDocumentElement(y.floating)),boundary:I,rootBoundary:x,strategy:T})),N=A==="floating"?{x:s,y:f,width:_.floating.width,height:_.floating.height}:_.reference,W=await(h.getOffsetParent==null?void 0:h.getOffsetParent(y.floating)),G=await(h.isElement==null?void 0:h.isElement(W))?await(h.getScale==null?void 0:h.getScale(W))||{x:1,y:1}:{x:1,y:1},le=yS(h.convertOffsetParentRelativeRectToViewportRelativeRect?await h.convertOffsetParentRelativeRectToViewportRelativeRect({elements:y,rect:N,offsetParent:W,strategy:T}):N);return{top:(k.top-le.top+E.top)/G.y,bottom:(le.bottom-k.bottom+E.bottom)/G.y,left:(k.left-le.left+E.left)/G.x,right:(le.right-k.right+E.right)/G.x}}const Bme=e=>({name:"arrow",options:e,async fn(n){const{x:a,y:s,placement:f,rects:h,platform:_,elements:y,middlewareData:T}=n,{element:I,padding:x=0}=vl(e,n)||{};if(I==null)return{};const A=TH(x),P={x:a,y:s},R=wD(f),E=ID(R),O=await _.getDimensions(I),L=R==="y",k=L?"top":"left",N=L?"bottom":"right",W=L?"clientHeight":"clientWidth",G=h.reference[E]+h.reference[R]-P[R]-h.floating[E],le=P[R]-h.reference[R],$=await(_.getOffsetParent==null?void 0:_.getOffsetParent(I));let H=$?$[W]:0;(!H||!await(_.isElement==null?void 0:_.isElement($)))&&(H=y.floating[W]||h.floating[E]);const ie=G/2-le/2,pe=H/2-O[E]/2-1,se=Vc(A[k],pe),ce=Vc(A[N],pe),me=se,we=H-O[E]-ce,ge=H/2-O[E]/2+ie,Ee=GA(me,ge,we),_e=!T.arrow&&Ip(f)!=null&&ge!==Ee&&h.reference[E]/2-(ge<me?se:ce)-O[E]/2<0,Ue=_e?ge<me?ge-me:ge-we:0;return{[R]:P[R]+Ue,data:{[R]:Ee,centerOffset:ge-Ee-Ue,..._e&&{alignmentOffset:Ue}},reset:_e}}}),Ume=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(n){var a,s;const{placement:f,middlewareData:h,rects:_,initialPlacement:y,platform:T,elements:I}=n,{mainAxis:x=!0,crossAxis:A=!0,fallbackPlacements:P,fallbackStrategy:R="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:O=!0,...L}=vl(e,n);if((a=h.arrow)!=null&&a.alignmentOffset)return{};const k=yl(f),N=Du(y),W=yl(y)===y,G=await(T.isRTL==null?void 0:T.isRTL(I.floating)),le=P||(W||!O?[vS(y)]:Nme(y)),$=E!=="none";!P&&$&&le.push(...Lme(y,O,E,G));const H=[y,...le],ie=await rv(n,L),pe=[];let se=((s=h.flip)==null?void 0:s.overflows)||[];if(x&&pe.push(ie[k]),A){const ge=kme(f,_,G);pe.push(ie[ge[0]],ie[ge[1]])}if(se=[...se,{placement:f,overflows:pe}],!pe.every(ge=>ge<=0)){var ce,me;const ge=(((ce=h.flip)==null?void 0:ce.index)||0)+1,Ee=H[ge];if(Ee&&(!(A==="alignment"?N!==Du(Ee):!1)||se.every(xe=>xe.overflows[0]>0&&Du(xe.placement)===N)))return{data:{index:ge,overflows:se},reset:{placement:Ee}};let _e=(me=se.filter(Ue=>Ue.overflows[0]<=0).sort((Ue,xe)=>Ue.overflows[1]-xe.overflows[1])[0])==null?void 0:me.placement;if(!_e)switch(R){case"bestFit":{var we;const Ue=(we=se.filter(xe=>{if($){const Te=Du(xe.placement);return Te===N||Te==="y"}return!0}).map(xe=>[xe.placement,xe.overflows.filter(Te=>Te>0).reduce((Te,Be)=>Te+Be,0)]).sort((xe,Te)=>xe[1]-Te[1])[0])==null?void 0:we[0];Ue&&(_e=Ue);break}case"initialPlacement":_e=y;break}if(f!==_e)return{reset:{placement:_e}}}return{}}}};function L4(e,n){return{top:e.top-n.height,right:e.right-n.width,bottom:e.bottom-n.height,left:e.left-n.width}}function W4(e){return Ame.some(n=>e[n]>=0)}const Vme=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(n){const{rects:a}=n,{strategy:s="referenceHidden",...f}=vl(e,n);switch(s){case"referenceHidden":{const h=await rv(n,{...f,elementContext:"reference"}),_=L4(h,a.reference);return{data:{referenceHiddenOffsets:_,referenceHidden:W4(_)}}}case"escaped":{const h=await rv(n,{...f,altBoundary:!0}),_=L4(h,a.floating);return{data:{escapedOffsets:_,escaped:W4(_)}}}default:return{}}}}},IH=new Set(["left","top"]);async function Gme(e,n){const{placement:a,platform:s,elements:f}=e,h=await(s.isRTL==null?void 0:s.isRTL(f.floating)),_=yl(a),y=Ip(a),T=Du(a)==="y",I=IH.has(_)?-1:1,x=h&&T?-1:1,A=vl(n,e);let{mainAxis:P,crossAxis:R,alignmentAxis:E}=typeof A=="number"?{mainAxis:A,crossAxis:0,alignmentAxis:null}:{mainAxis:A.mainAxis||0,crossAxis:A.crossAxis||0,alignmentAxis:A.alignmentAxis};return y&&typeof E=="number"&&(R=y==="end"?E*-1:E),T?{x:R*x,y:P*I}:{x:P*I,y:R*x}}const Hme=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(n){var a,s;const{x:f,y:h,placement:_,middlewareData:y}=n,T=await Gme(n,e);return _===((a=y.offset)==null?void 0:a.placement)&&(s=y.arrow)!=null&&s.alignmentOffset?{}:{x:f+T.x,y:h+T.y,data:{...T,placement:_}}}}},zme=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(n){const{x:a,y:s,placement:f}=n,{mainAxis:h=!0,crossAxis:_=!1,limiter:y={fn:L=>{let{x:k,y:N}=L;return{x:k,y:N}}},...T}=vl(e,n),I={x:a,y:s},x=await rv(n,T),A=Du(yl(f)),P=TD(A);let R=I[P],E=I[A];if(h){const L=P==="y"?"top":"left",k=P==="y"?"bottom":"right",N=R+x[L],W=R-x[k];R=GA(N,R,W)}if(_){const L=A==="y"?"top":"left",k=A==="y"?"bottom":"right",N=E+x[L],W=E-x[k];E=GA(N,E,W)}const O=y.fn({...n,[P]:R,[A]:E});return{...O,data:{x:O.x-a,y:O.y-s,enabled:{[P]:h,[A]:_}}}}}},Kme=function(e){return e===void 0&&(e={}),{options:e,fn(n){const{x:a,y:s,placement:f,rects:h,middlewareData:_}=n,{offset:y=0,mainAxis:T=!0,crossAxis:I=!0}=vl(e,n),x={x:a,y:s},A=Du(f),P=TD(A);let R=x[P],E=x[A];const O=vl(y,n),L=typeof O=="number"?{mainAxis:O,crossAxis:0}:{mainAxis:0,crossAxis:0,...O};if(T){const W=P==="y"?"height":"width",G=h.reference[P]-h.floating[W]+L.mainAxis,le=h.reference[P]+h.reference[W]-L.mainAxis;R<G?R=G:R>le&&(R=le)}if(I){var k,N;const W=P==="y"?"width":"height",G=IH.has(yl(f)),le=h.reference[A]-h.floating[W]+(G&&((k=_.offset)==null?void 0:k[A])||0)+(G?0:L.crossAxis),$=h.reference[A]+h.reference[W]+(G?0:((N=_.offset)==null?void 0:N[A])||0)-(G?L.crossAxis:0);E<le?E=le:E>$&&(E=$)}return{[P]:R,[A]:E}}}},Qme=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(n){var a,s;const{placement:f,rects:h,platform:_,elements:y}=n,{apply:T=()=>{},...I}=vl(e,n),x=await rv(n,I),A=yl(f),P=Ip(f),R=Du(f)==="y",{width:E,height:O}=h.floating;let L,k;A==="top"||A==="bottom"?(L=A,k=P===(await(_.isRTL==null?void 0:_.isRTL(y.floating))?"start":"end")?"left":"right"):(k=A,L=P==="end"?"top":"bottom");const N=O-x.top-x.bottom,W=E-x.left-x.right,G=Vc(O-x[L],N),le=Vc(E-x[k],W),$=!n.middlewareData.shift;let H=G,ie=le;if((a=n.middlewareData.shift)!=null&&a.enabled.x&&(ie=W),(s=n.middlewareData.shift)!=null&&s.enabled.y&&(H=N),$&&!P){const se=Oa(x.left,0),ce=Oa(x.right,0),me=Oa(x.top,0),we=Oa(x.bottom,0);R?ie=E-2*(se!==0||ce!==0?se+ce:Oa(x.left,x.right)):H=O-2*(me!==0||we!==0?me+we:Oa(x.top,x.bottom))}await T({...n,availableWidth:ie,availableHeight:H});const pe=await _.getDimensions(y.floating);return E!==pe.width||O!==pe.height?{reset:{rects:!0}}:{}}}};function nb(){return typeof window<"u"}function wp(e){return wH(e)?(e.nodeName||"").toLowerCase():"#document"}function Wa(e){var n;return(e==null||(n=e.ownerDocument)==null?void 0:n.defaultView)||window}function Ou(e){var n;return(n=(wH(e)?e.ownerDocument:e.document)||window.document)==null?void 0:n.documentElement}function wH(e){return nb()?e instanceof Node||e instanceof Wa(e).Node:!1}function qs(e){return nb()?e instanceof Element||e instanceof Wa(e).Element:!1}function Fu(e){return nb()?e instanceof HTMLElement||e instanceof Wa(e).HTMLElement:!1}function j4(e){return!nb()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Wa(e).ShadowRoot}const Yme=new Set(["inline","contents"]);function Iv(e){const{overflow:n,overflowX:a,overflowY:s,display:f}=Xs(e);return/auto|scroll|overlay|hidden|clip/.test(n+s+a)&&!Yme.has(f)}const Jme=new Set(["table","td","th"]);function qme(e){return Jme.has(wp(e))}const Xme=[":popover-open",":modal"];function ib(e){return Xme.some(n=>{try{return e.matches(n)}catch{return!1}})}const Zme=["transform","translate","scale","rotate","perspective"],$me=["transform","translate","scale","rotate","perspective","filter"],ege=["paint","layout","strict","content"];function ED(e){const n=xD(),a=qs(e)?Xs(e):e;return Zme.some(s=>a[s]?a[s]!=="none":!1)||(a.containerType?a.containerType!=="normal":!1)||!n&&(a.backdropFilter?a.backdropFilter!=="none":!1)||!n&&(a.filter?a.filter!=="none":!1)||$me.some(s=>(a.willChange||"").includes(s))||ege.some(s=>(a.contain||"").includes(s))}function tge(e){let n=Gc(e);for(;Fu(n)&&!pp(n);){if(ED(n))return n;if(ib(n))return null;n=Gc(n)}return null}function xD(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const rge=new Set(["html","body","#document"]);function pp(e){return rge.has(wp(e))}function Xs(e){return Wa(e).getComputedStyle(e)}function ob(e){return qs(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Gc(e){if(wp(e)==="html")return e;const n=e.assignedSlot||e.parentNode||j4(e)&&e.host||Ou(e);return j4(n)?n.host:n}function EH(e){const n=Gc(e);return pp(n)?e.ownerDocument?e.ownerDocument.body:e.body:Fu(n)&&Iv(n)?n:EH(n)}function nv(e,n,a){var s;n===void 0&&(n=[]),a===void 0&&(a=!0);const f=EH(e),h=f===((s=e.ownerDocument)==null?void 0:s.body),_=Wa(f);if(h){const y=zA(_);return n.concat(_,_.visualViewport||[],Iv(f)?f:[],y&&a?nv(y):[])}return n.concat(f,nv(f,[],a))}function zA(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function xH(e){const n=Xs(e);let a=parseFloat(n.width)||0,s=parseFloat(n.height)||0;const f=Fu(e),h=f?e.offsetWidth:a,_=f?e.offsetHeight:s,y=gS(a)!==h||gS(s)!==_;return y&&(a=h,s=_),{width:a,height:s,$:y}}function AD(e){return qs(e)?e:e.contextElement}function Kh(e){const n=AD(e);if(!Fu(n))return Nu(1);const a=n.getBoundingClientRect(),{width:s,height:f,$:h}=xH(n);let _=(h?gS(a.width):a.width)/s,y=(h?gS(a.height):a.height)/f;return(!_||!Number.isFinite(_))&&(_=1),(!y||!Number.isFinite(y))&&(y=1),{x:_,y}}const nge=Nu(0);function AH(e){const n=Wa(e);return!xD()||!n.visualViewport?nge:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function ige(e,n,a){return n===void 0&&(n=!1),!a||n&&a!==Wa(e)?!1:n}function rf(e,n,a,s){n===void 0&&(n=!1),a===void 0&&(a=!1);const f=e.getBoundingClientRect(),h=AD(e);let _=Nu(1);n&&(s?qs(s)&&(_=Kh(s)):_=Kh(e));const y=ige(h,a,s)?AH(h):Nu(0);let T=(f.left+y.x)/_.x,I=(f.top+y.y)/_.y,x=f.width/_.x,A=f.height/_.y;if(h){const P=Wa(h),R=s&&qs(s)?Wa(s):s;let E=P,O=zA(E);for(;O&&s&&R!==E;){const L=Kh(O),k=O.getBoundingClientRect(),N=Xs(O),W=k.left+(O.clientLeft+parseFloat(N.paddingLeft))*L.x,G=k.top+(O.clientTop+parseFloat(N.paddingTop))*L.y;T*=L.x,I*=L.y,x*=L.x,A*=L.y,T+=W,I+=G,E=Wa(O),O=zA(E)}}return yS({width:x,height:A,x:T,y:I})}function DD(e,n){const a=ob(e).scrollLeft;return n?n.left+a:rf(Ou(e)).left+a}function DH(e,n,a){a===void 0&&(a=!1);const s=e.getBoundingClientRect(),f=s.left+n.scrollLeft-(a?0:DD(e,s)),h=s.top+n.scrollTop;return{x:f,y:h}}function oge(e){let{elements:n,rect:a,offsetParent:s,strategy:f}=e;const h=f==="fixed",_=Ou(s),y=n?ib(n.floating):!1;if(s===_||y&&h)return a;let T={scrollLeft:0,scrollTop:0},I=Nu(1);const x=Nu(0),A=Fu(s);if((A||!A&&!h)&&((wp(s)!=="body"||Iv(_))&&(T=ob(s)),Fu(s))){const R=rf(s);I=Kh(s),x.x=R.x+s.clientLeft,x.y=R.y+s.clientTop}const P=_&&!A&&!h?DH(_,T,!0):Nu(0);return{width:a.width*I.x,height:a.height*I.y,x:a.x*I.x-T.scrollLeft*I.x+x.x+P.x,y:a.y*I.y-T.scrollTop*I.y+x.y+P.y}}function age(e){return Array.from(e.getClientRects())}function sge(e){const n=Ou(e),a=ob(e),s=e.ownerDocument.body,f=Oa(n.scrollWidth,n.clientWidth,s.scrollWidth,s.clientWidth),h=Oa(n.scrollHeight,n.clientHeight,s.scrollHeight,s.clientHeight);let _=-a.scrollLeft+DD(e);const y=-a.scrollTop;return Xs(s).direction==="rtl"&&(_+=Oa(n.clientWidth,s.clientWidth)-f),{width:f,height:h,x:_,y}}function uge(e,n){const a=Wa(e),s=Ou(e),f=a.visualViewport;let h=s.clientWidth,_=s.clientHeight,y=0,T=0;if(f){h=f.width,_=f.height;const I=xD();(!I||I&&n==="fixed")&&(y=f.offsetLeft,T=f.offsetTop)}return{width:h,height:_,x:y,y:T}}const lge=new Set(["absolute","fixed"]);function cge(e,n){const a=rf(e,!0,n==="fixed"),s=a.top+e.clientTop,f=a.left+e.clientLeft,h=Fu(e)?Kh(e):Nu(1),_=e.clientWidth*h.x,y=e.clientHeight*h.y,T=f*h.x,I=s*h.y;return{width:_,height:y,x:T,y:I}}function B4(e,n,a){let s;if(n==="viewport")s=uge(e,a);else if(n==="document")s=sge(Ou(e));else if(qs(n))s=cge(n,a);else{const f=AH(e);s={x:n.x-f.x,y:n.y-f.y,width:n.width,height:n.height}}return yS(s)}function PH(e,n){const a=Gc(e);return a===n||!qs(a)||pp(a)?!1:Xs(a).position==="fixed"||PH(a,n)}function dge(e,n){const a=n.get(e);if(a)return a;let s=nv(e,[],!1).filter(y=>qs(y)&&wp(y)!=="body"),f=null;const h=Xs(e).position==="fixed";let _=h?Gc(e):e;for(;qs(_)&&!pp(_);){const y=Xs(_),T=ED(_);!T&&y.position==="fixed"&&(f=null),(h?!T&&!f:!T&&y.position==="static"&&!!f&&lge.has(f.position)||Iv(_)&&!T&&PH(e,_))?s=s.filter(x=>x!==_):f=y,_=Gc(_)}return n.set(e,s),s}function fge(e){let{element:n,boundary:a,rootBoundary:s,strategy:f}=e;const _=[...a==="clippingAncestors"?ib(n)?[]:dge(n,this._c):[].concat(a),s],y=_[0],T=_.reduce((I,x)=>{const A=B4(n,x,f);return I.top=Oa(A.top,I.top),I.right=Vc(A.right,I.right),I.bottom=Vc(A.bottom,I.bottom),I.left=Oa(A.left,I.left),I},B4(n,y,f));return{width:T.right-T.left,height:T.bottom-T.top,x:T.left,y:T.top}}function hge(e){const{width:n,height:a}=xH(e);return{width:n,height:a}}function pge(e,n,a){const s=Fu(n),f=Ou(n),h=a==="fixed",_=rf(e,!0,h,n);let y={scrollLeft:0,scrollTop:0};const T=Nu(0);function I(){T.x=DD(f)}if(s||!s&&!h)if((wp(n)!=="body"||Iv(f))&&(y=ob(n)),s){const R=rf(n,!0,h,n);T.x=R.x+n.clientLeft,T.y=R.y+n.clientTop}else f&&I();h&&!s&&f&&I();const x=f&&!s&&!h?DH(f,y):Nu(0),A=_.left+y.scrollLeft-T.x-x.x,P=_.top+y.scrollTop-T.y-x.y;return{x:A,y:P,width:_.width,height:_.height}}function Ax(e){return Xs(e).position==="static"}function U4(e,n){if(!Fu(e)||Xs(e).position==="fixed")return null;if(n)return n(e);let a=e.offsetParent;return Ou(e)===a&&(a=a.ownerDocument.body),a}function RH(e,n){const a=Wa(e);if(ib(e))return a;if(!Fu(e)){let f=Gc(e);for(;f&&!pp(f);){if(qs(f)&&!Ax(f))return f;f=Gc(f)}return a}let s=U4(e,n);for(;s&&qme(s)&&Ax(s);)s=U4(s,n);return s&&pp(s)&&Ax(s)&&!ED(s)?a:s||tge(e)||a}const mge=async function(e){const n=this.getOffsetParent||RH,a=this.getDimensions,s=await a(e.floating);return{reference:pge(e.reference,await n(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function gge(e){return Xs(e).direction==="rtl"}const vge={convertOffsetParentRelativeRectToViewportRelativeRect:oge,getDocumentElement:Ou,getClippingRect:fge,getOffsetParent:RH,getElementRects:mge,getClientRects:age,getDimensions:hge,getScale:Kh,isElement:qs,isRTL:gge};function kH(e,n){return e.x===n.x&&e.y===n.y&&e.width===n.width&&e.height===n.height}function yge(e,n){let a=null,s;const f=Ou(e);function h(){var y;clearTimeout(s),(y=a)==null||y.disconnect(),a=null}function _(y,T){y===void 0&&(y=!1),T===void 0&&(T=1),h();const I=e.getBoundingClientRect(),{left:x,top:A,width:P,height:R}=I;if(y||n(),!P||!R)return;const E=y0(A),O=y0(f.clientWidth-(x+P)),L=y0(f.clientHeight-(A+R)),k=y0(x),W={rootMargin:-E+"px "+-O+"px "+-L+"px "+-k+"px",threshold:Oa(0,Vc(1,T))||1};let G=!0;function le($){const H=$[0].intersectionRatio;if(H!==T){if(!G)return _();H?_(!1,H):s=setTimeout(()=>{_(!1,1e-7)},1e3)}H===1&&!kH(I,e.getBoundingClientRect())&&_(),G=!1}try{a=new IntersectionObserver(le,{...W,root:f.ownerDocument})}catch{a=new IntersectionObserver(le,W)}a.observe(e)}return _(!0),h}function _ge(e,n,a,s){s===void 0&&(s={});const{ancestorScroll:f=!0,ancestorResize:h=!0,elementResize:_=typeof ResizeObserver=="function",layoutShift:y=typeof IntersectionObserver=="function",animationFrame:T=!1}=s,I=AD(e),x=f||h?[...I?nv(I):[],...nv(n)]:[];x.forEach(k=>{f&&k.addEventListener("scroll",a,{passive:!0}),h&&k.addEventListener("resize",a)});const A=I&&y?yge(I,a):null;let P=-1,R=null;_&&(R=new ResizeObserver(k=>{let[N]=k;N&&N.target===I&&R&&(R.unobserve(n),cancelAnimationFrame(P),P=requestAnimationFrame(()=>{var W;(W=R)==null||W.observe(n)})),a()}),I&&!T&&R.observe(I),R.observe(n));let E,O=T?rf(e):null;T&&L();function L(){const k=rf(e);O&&!kH(O,k)&&a(),O=k,E=requestAnimationFrame(L)}return a(),()=>{var k;x.forEach(N=>{f&&N.removeEventListener("scroll",a),h&&N.removeEventListener("resize",a)}),A==null||A(),(k=R)==null||k.disconnect(),R=null,T&&cancelAnimationFrame(E)}}const Sge=Hme,bge=zme,Cge=Ume,Tge=Qme,Ige=Vme,V4=Bme,wge=Kme,Ege=(e,n,a)=>{const s=new Map,f={platform:vge,...a},h={...f.platform,_c:s};return jme(e,n,{...f,platform:h})};var xge=typeof document<"u",Age=function(){},B0=xge?z.useLayoutEffect:Age;function _S(e,n){if(e===n)return!0;if(typeof e!=typeof n)return!1;if(typeof e=="function"&&e.toString()===n.toString())return!0;let a,s,f;if(e&&n&&typeof e=="object"){if(Array.isArray(e)){if(a=e.length,a!==n.length)return!1;for(s=a;s--!==0;)if(!_S(e[s],n[s]))return!1;return!0}if(f=Object.keys(e),a=f.length,a!==Object.keys(n).length)return!1;for(s=a;s--!==0;)if(!{}.hasOwnProperty.call(n,f[s]))return!1;for(s=a;s--!==0;){const h=f[s];if(!(h==="_owner"&&e.$$typeof)&&!_S(e[h],n[h]))return!1}return!0}return e!==e&&n!==n}function NH(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function G4(e,n){const a=NH(e);return Math.round(n*a)/a}function Dx(e){const n=z.useRef(e);return B0(()=>{n.current=e}),n}function Dge(e){e===void 0&&(e={});const{placement:n="bottom",strategy:a="absolute",middleware:s=[],platform:f,elements:{reference:h,floating:_}={},transform:y=!0,whileElementsMounted:T,open:I}=e,[x,A]=z.useState({x:0,y:0,strategy:a,placement:n,middlewareData:{},isPositioned:!1}),[P,R]=z.useState(s);_S(P,s)||R(s);const[E,O]=z.useState(null),[L,k]=z.useState(null),N=z.useCallback(xe=>{xe!==$.current&&($.current=xe,O(xe))},[]),W=z.useCallback(xe=>{xe!==H.current&&(H.current=xe,k(xe))},[]),G=h||E,le=_||L,$=z.useRef(null),H=z.useRef(null),ie=z.useRef(x),pe=T!=null,se=Dx(T),ce=Dx(f),me=Dx(I),we=z.useCallback(()=>{if(!$.current||!H.current)return;const xe={placement:n,strategy:a,middleware:P};ce.current&&(xe.platform=ce.current),Ege($.current,H.current,xe).then(Te=>{const Be={...Te,isPositioned:me.current!==!1};ge.current&&!_S(ie.current,Be)&&(ie.current=Be,Cp.flushSync(()=>{A(Be)}))})},[P,n,a,ce,me]);B0(()=>{I===!1&&ie.current.isPositioned&&(ie.current.isPositioned=!1,A(xe=>({...xe,isPositioned:!1})))},[I]);const ge=z.useRef(!1);B0(()=>(ge.current=!0,()=>{ge.current=!1}),[]),B0(()=>{if(G&&($.current=G),le&&(H.current=le),G&&le){if(se.current)return se.current(G,le,we);we()}},[G,le,we,se,pe]);const Ee=z.useMemo(()=>({reference:$,floating:H,setReference:N,setFloating:W}),[N,W]),_e=z.useMemo(()=>({reference:G,floating:le}),[G,le]),Ue=z.useMemo(()=>{const xe={position:a,left:0,top:0};if(!_e.floating)return xe;const Te=G4(_e.floating,x.x),Be=G4(_e.floating,x.y);return y?{...xe,transform:"translate("+Te+"px, "+Be+"px)",...NH(_e.floating)>=1.5&&{willChange:"transform"}}:{position:a,left:Te,top:Be}},[a,y,_e.floating,x.x,x.y]);return z.useMemo(()=>({...x,update:we,refs:Ee,elements:_e,floatingStyles:Ue}),[x,we,Ee,_e,Ue])}const Pge=e=>{function n(a){return{}.hasOwnProperty.call(a,"current")}return{name:"arrow",options:e,fn(a){const{element:s,padding:f}=typeof e=="function"?e(a):e;return s&&n(s)?s.current!=null?V4({element:s.current,padding:f}).fn(a):{}:s?V4({element:s,padding:f}).fn(a):{}}}},Rge=(e,n)=>({...Sge(e),options:[e,n]}),kge=(e,n)=>({...bge(e),options:[e,n]}),Nge=(e,n)=>({...wge(e),options:[e,n]}),Fge=(e,n)=>({...Cge(e),options:[e,n]}),Oge=(e,n)=>({...Tge(e),options:[e,n]}),Mge=(e,n)=>({...Ige(e),options:[e,n]}),Lge=(e,n)=>({...Pge(e),options:[e,n]});var Wge="Arrow",FH=z.forwardRef((e,n)=>{const{children:a,width:s=10,height:f=5,...h}=e;return w.jsx(yr.svg,{...h,ref:n,width:s,height:f,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?a:w.jsx("polygon",{points:"0,0 30,0 15,10"})})});FH.displayName=Wge;var jge=FH;function PD(e){const[n,a]=z.useState(void 0);return hs(()=>{if(e){a({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(f=>{if(!Array.isArray(f)||!f.length)return;const h=f[0];let _,y;if("borderBoxSize"in h){const T=h.borderBoxSize,I=Array.isArray(T)?T[0]:T;_=I.inlineSize,y=I.blockSize}else _=e.offsetWidth,y=e.offsetHeight;a({width:_,height:y})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else a(void 0)},[e]),n}var RD="Popper",[OH,ab]=Va(RD),[Bge,MH]=OH(RD),LH=e=>{const{__scopePopper:n,children:a}=e,[s,f]=z.useState(null);return w.jsx(Bge,{scope:n,anchor:s,onAnchorChange:f,children:a})};LH.displayName=RD;var WH="PopperAnchor",jH=z.forwardRef((e,n)=>{const{__scopePopper:a,virtualRef:s,...f}=e,h=MH(WH,a),_=z.useRef(null),y=Cn(n,_);return z.useEffect(()=>{h.onAnchorChange((s==null?void 0:s.current)||_.current)}),s?null:w.jsx(yr.div,{...f,ref:y})});jH.displayName=WH;var kD="PopperContent",[Uge,Vge]=OH(kD),BH=z.forwardRef((e,n)=>{var Ie,qe,ut,lt,Vt,zt;const{__scopePopper:a,side:s="bottom",sideOffset:f=0,align:h="center",alignOffset:_=0,arrowPadding:y=0,avoidCollisions:T=!0,collisionBoundary:I=[],collisionPadding:x=0,sticky:A="partial",hideWhenDetached:P=!1,updatePositionStrategy:R="optimized",onPlaced:E,...O}=e,L=MH(kD,a),[k,N]=z.useState(null),W=Cn(n,ur=>N(ur)),[G,le]=z.useState(null),$=PD(G),H=($==null?void 0:$.width)??0,ie=($==null?void 0:$.height)??0,pe=s+(h!=="center"?"-"+h:""),se=typeof x=="number"?x:{top:0,right:0,bottom:0,left:0,...x},ce=Array.isArray(I)?I:[I],me=ce.length>0,we={padding:se,boundary:ce.filter(Hge),altBoundary:me},{refs:ge,floatingStyles:Ee,placement:_e,isPositioned:Ue,middlewareData:xe}=Dge({strategy:"fixed",placement:pe,whileElementsMounted:(...ur)=>_ge(...ur,{animationFrame:R==="always"}),elements:{reference:L.anchor},middleware:[Rge({mainAxis:f+ie,alignmentAxis:_}),T&&kge({mainAxis:!0,crossAxis:!1,limiter:A==="partial"?Nge():void 0,...we}),T&&Fge({...we}),Oge({...we,apply:({elements:ur,rects:at,availableWidth:Nt,availableHeight:jt})=>{const{width:or,height:fn}=at.reference,Yr=ur.floating.style;Yr.setProperty("--radix-popper-available-width",`${Nt}px`),Yr.setProperty("--radix-popper-available-height",`${jt}px`),Yr.setProperty("--radix-popper-anchor-width",`${or}px`),Yr.setProperty("--radix-popper-anchor-height",`${fn}px`)}}),G&&Lge({element:G,padding:y}),zge({arrowWidth:H,arrowHeight:ie}),P&&Mge({strategy:"referenceHidden",...we})]}),[Te,Be]=GH(_e),ot=Sa(E);hs(()=>{Ue&&(ot==null||ot())},[Ue,ot]);const tt=(Ie=xe.arrow)==null?void 0:Ie.x,vt=(qe=xe.arrow)==null?void 0:qe.y,bt=((ut=xe.arrow)==null?void 0:ut.centerOffset)!==0,[Se,ye]=z.useState();return hs(()=>{k&&ye(window.getComputedStyle(k).zIndex)},[k]),w.jsx("div",{ref:ge.setFloating,"data-radix-popper-content-wrapper":"",style:{...Ee,transform:Ue?Ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Se,"--radix-popper-transform-origin":[(lt=xe.transformOrigin)==null?void 0:lt.x,(Vt=xe.transformOrigin)==null?void 0:Vt.y].join(" "),...((zt=xe.hide)==null?void 0:zt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:w.jsx(Uge,{scope:a,placedSide:Te,onArrowChange:le,arrowX:tt,arrowY:vt,shouldHideArrow:bt,children:w.jsx(yr.div,{"data-side":Te,"data-align":Be,...O,ref:W,style:{...O.style,animation:Ue?void 0:"none"}})})})});BH.displayName=kD;var UH="PopperArrow",Gge={top:"bottom",right:"left",bottom:"top",left:"right"},VH=z.forwardRef(function(n,a){const{__scopePopper:s,...f}=n,h=Vge(UH,s),_=Gge[h.placedSide];return w.jsx("span",{ref:h.onArrowChange,style:{position:"absolute",left:h.arrowX,top:h.arrowY,[_]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[h.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[h.placedSide],visibility:h.shouldHideArrow?"hidden":void 0},children:w.jsx(jge,{...f,ref:a,style:{...f.style,display:"block"}})})});VH.displayName=UH;function Hge(e){return e!==null}var zge=e=>({name:"transformOrigin",options:e,fn(n){var L,k,N;const{placement:a,rects:s,middlewareData:f}=n,_=((L=f.arrow)==null?void 0:L.centerOffset)!==0,y=_?0:e.arrowWidth,T=_?0:e.arrowHeight,[I,x]=GH(a),A={start:"0%",center:"50%",end:"100%"}[x],P=(((k=f.arrow)==null?void 0:k.x)??0)+y/2,R=(((N=f.arrow)==null?void 0:N.y)??0)+T/2;let E="",O="";return I==="bottom"?(E=_?A:`${P}px`,O=`${-T}px`):I==="top"?(E=_?A:`${P}px`,O=`${s.floating.height+T}px`):I==="right"?(E=`${-T}px`,O=_?A:`${R}px`):I==="left"&&(E=`${s.floating.width+T}px`,O=_?A:`${R}px`),{data:{x:E,y:O}}}});function GH(e){const[n,a="center"]=e.split("-");return[n,a]}var HH=LH,zH=jH,KH=BH,QH=VH,[sb,ICe]=Va("Tooltip",[ab]),ub=ab(),YH="TooltipProvider",Kge=700,KA="tooltip.open",[Qge,ND]=sb(YH),JH=e=>{const{__scopeTooltip:n,delayDuration:a=Kge,skipDelayDuration:s=300,disableHoverableContent:f=!1,children:h}=e,_=z.useRef(!0),y=z.useRef(!1),T=z.useRef(0);return z.useEffect(()=>{const I=T.current;return()=>window.clearTimeout(I)},[]),w.jsx(Qge,{scope:n,isOpenDelayedRef:_,delayDuration:a,onOpen:z.useCallback(()=>{window.clearTimeout(T.current),_.current=!1},[]),onClose:z.useCallback(()=>{window.clearTimeout(T.current),T.current=window.setTimeout(()=>_.current=!0,s)},[s]),isPointerInTransitRef:y,onPointerInTransitChange:z.useCallback(I=>{y.current=I},[]),disableHoverableContent:f,children:h})};JH.displayName=YH;var iv="Tooltip",[Yge,lb]=sb(iv),qH=e=>{const{__scopeTooltip:n,children:a,open:s,defaultOpen:f,onOpenChange:h,disableHoverableContent:_,delayDuration:y}=e,T=ND(iv,e.__scopeTooltip),I=ub(n),[x,A]=z.useState(null),P=Mc(),R=z.useRef(0),E=_??T.disableHoverableContent,O=y??T.delayDuration,L=z.useRef(!1),[k,N]=Yc({prop:s,defaultProp:f??!1,onChange:H=>{H?(T.onOpen(),document.dispatchEvent(new CustomEvent(KA))):T.onClose(),h==null||h(H)},caller:iv}),W=z.useMemo(()=>k?L.current?"delayed-open":"instant-open":"closed",[k]),G=z.useCallback(()=>{window.clearTimeout(R.current),R.current=0,L.current=!1,N(!0)},[N]),le=z.useCallback(()=>{window.clearTimeout(R.current),R.current=0,N(!1)},[N]),$=z.useCallback(()=>{window.clearTimeout(R.current),R.current=window.setTimeout(()=>{L.current=!0,N(!0),R.current=0},O)},[O,N]);return z.useEffect(()=>()=>{R.current&&(window.clearTimeout(R.current),R.current=0)},[]),w.jsx(HH,{...I,children:w.jsx(Yge,{scope:n,contentId:P,open:k,stateAttribute:W,trigger:x,onTriggerChange:A,onTriggerEnter:z.useCallback(()=>{T.isOpenDelayedRef.current?$():G()},[T.isOpenDelayedRef,$,G]),onTriggerLeave:z.useCallback(()=>{E?le():(window.clearTimeout(R.current),R.current=0)},[le,E]),onOpen:G,onClose:le,disableHoverableContent:E,children:a})})};qH.displayName=iv;var QA="TooltipTrigger",XH=z.forwardRef((e,n)=>{const{__scopeTooltip:a,...s}=e,f=lb(QA,a),h=ND(QA,a),_=ub(a),y=z.useRef(null),T=Cn(n,y,f.onTriggerChange),I=z.useRef(!1),x=z.useRef(!1),A=z.useCallback(()=>I.current=!1,[]);return z.useEffect(()=>()=>document.removeEventListener("pointerup",A),[A]),w.jsx(zH,{asChild:!0,..._,children:w.jsx(yr.button,{"aria-describedby":f.open?f.contentId:void 0,"data-state":f.stateAttribute,...s,ref:T,onPointerMove:Yt(e.onPointerMove,P=>{P.pointerType!=="touch"&&!x.current&&!h.isPointerInTransitRef.current&&(f.onTriggerEnter(),x.current=!0)}),onPointerLeave:Yt(e.onPointerLeave,()=>{f.onTriggerLeave(),x.current=!1}),onPointerDown:Yt(e.onPointerDown,()=>{f.open&&f.onClose(),I.current=!0,document.addEventListener("pointerup",A,{once:!0})}),onFocus:Yt(e.onFocus,()=>{I.current||f.onOpen()}),onBlur:Yt(e.onBlur,f.onClose),onClick:Yt(e.onClick,f.onClose)})})});XH.displayName=QA;var Jge="TooltipPortal",[wCe,qge]=sb(Jge,{forceMount:void 0}),mp="TooltipContent",ZH=z.forwardRef((e,n)=>{const a=qge(mp,e.__scopeTooltip),{forceMount:s=a.forceMount,side:f="top",...h}=e,_=lb(mp,e.__scopeTooltip);return w.jsx(Ga,{present:s||_.open,children:_.disableHoverableContent?w.jsx($H,{side:f,...h,ref:n}):w.jsx(Xge,{side:f,...h,ref:n})})}),Xge=z.forwardRef((e,n)=>{const a=lb(mp,e.__scopeTooltip),s=ND(mp,e.__scopeTooltip),f=z.useRef(null),h=Cn(n,f),[_,y]=z.useState(null),{trigger:T,onClose:I}=a,x=f.current,{onPointerInTransitChange:A}=s,P=z.useCallback(()=>{y(null),A(!1)},[A]),R=z.useCallback((E,O)=>{const L=E.currentTarget,k={x:E.clientX,y:E.clientY},N=rve(k,L.getBoundingClientRect()),W=nve(k,N),G=ive(O.getBoundingClientRect()),le=ave([...W,...G]);y(le),A(!0)},[A]);return z.useEffect(()=>()=>P(),[P]),z.useEffect(()=>{if(T&&x){const E=L=>R(L,x),O=L=>R(L,T);return T.addEventListener("pointerleave",E),x.addEventListener("pointerleave",O),()=>{T.removeEventListener("pointerleave",E),x.removeEventListener("pointerleave",O)}}},[T,x,R,P]),z.useEffect(()=>{if(_){const E=O=>{const L=O.target,k={x:O.clientX,y:O.clientY},N=(T==null?void 0:T.contains(L))||(x==null?void 0:x.contains(L)),W=!ove(k,_);N?P():W&&(P(),I())};return document.addEventListener("pointermove",E),()=>document.removeEventListener("pointermove",E)}},[T,x,_,I,P]),w.jsx($H,{...e,ref:h})}),[Zge,$ge]=sb(iv,{isInside:!1}),eve=ohe("TooltipContent"),$H=z.forwardRef((e,n)=>{const{__scopeTooltip:a,children:s,"aria-label":f,onEscapeKeyDown:h,onPointerDownOutside:_,...y}=e,T=lb(mp,a),I=ub(a),{onClose:x}=T;return z.useEffect(()=>(document.addEventListener(KA,x),()=>document.removeEventListener(KA,x)),[x]),z.useEffect(()=>{if(T.trigger){const A=P=>{const R=P.target;R!=null&&R.contains(T.trigger)&&x()};return window.addEventListener("scroll",A,{capture:!0}),()=>window.removeEventListener("scroll",A,{capture:!0})}},[T.trigger,x]),w.jsx(bv,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:h,onPointerDownOutside:_,onFocusOutside:A=>A.preventDefault(),onDismiss:x,children:w.jsxs(KH,{"data-state":T.stateAttribute,...I,...y,ref:n,style:{...y.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[w.jsx(eve,{children:s}),w.jsx(Zge,{scope:a,isInside:!0,children:w.jsx(Ahe,{id:T.contentId,role:"tooltip",children:f||s})})]})})});ZH.displayName=mp;var ez="TooltipArrow",tve=z.forwardRef((e,n)=>{const{__scopeTooltip:a,...s}=e,f=ub(a);return $ge(ez,a).isInside?null:w.jsx(QH,{...f,...s,ref:n})});tve.displayName=ez;function rve(e,n){const a=Math.abs(n.top-e.y),s=Math.abs(n.bottom-e.y),f=Math.abs(n.right-e.x),h=Math.abs(n.left-e.x);switch(Math.min(a,s,f,h)){case h:return"left";case f:return"right";case a:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function nve(e,n,a=5){const s=[];switch(n){case"top":s.push({x:e.x-a,y:e.y+a},{x:e.x+a,y:e.y+a});break;case"bottom":s.push({x:e.x-a,y:e.y-a},{x:e.x+a,y:e.y-a});break;case"left":s.push({x:e.x+a,y:e.y-a},{x:e.x+a,y:e.y+a});break;case"right":s.push({x:e.x-a,y:e.y-a},{x:e.x-a,y:e.y+a});break}return s}function ive(e){const{top:n,right:a,bottom:s,left:f}=e;return[{x:f,y:n},{x:a,y:n},{x:a,y:s},{x:f,y:s}]}function ove(e,n){const{x:a,y:s}=e;let f=!1;for(let h=0,_=n.length-1;h<n.length;_=h++){const y=n[h],T=n[_],I=y.x,x=y.y,A=T.x,P=T.y;x>s!=P>s&&a<(A-I)*(s-x)/(P-x)+I&&(f=!f)}return f}function ave(e){const n=e.slice();return n.sort((a,s)=>a.x<s.x?-1:a.x>s.x?1:a.y<s.y?-1:a.y>s.y?1:0),sve(n)}function sve(e){if(e.length<=1)return e.slice();const n=[];for(let s=0;s<e.length;s++){const f=e[s];for(;n.length>=2;){const h=n[n.length-1],_=n[n.length-2];if((h.x-_.x)*(f.y-_.y)>=(h.y-_.y)*(f.x-_.x))n.pop();else break}n.push(f)}n.pop();const a=[];for(let s=e.length-1;s>=0;s--){const f=e[s];for(;a.length>=2;){const h=a[a.length-1],_=a[a.length-2];if((h.x-_.x)*(f.y-_.y)>=(h.y-_.y)*(f.x-_.x))a.pop();else break}a.push(f)}return a.pop(),n.length===1&&a.length===1&&n[0].x===a[0].x&&n[0].y===a[0].y?n:n.concat(a)}var uve=JH,lve=qH,cve=XH,tz=ZH;const dve=uve,H4=lve,z4=cve,YA=z.forwardRef(({className:e,sideOffset:n=4,...a},s)=>w.jsx(tz,{ref:s,sideOffset:n,className:pr("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a}));YA.displayName=tz.displayName;var Ep=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},nf=typeof window>"u"||"Deno"in globalThis;function Ho(){}function fve(e,n){return typeof e=="function"?e(n):e}function JA(e){return typeof e=="number"&&e>=0&&e!==1/0}function rz(e,n){return Math.max(e+(n||0)-Date.now(),0)}function Lc(e,n){return typeof e=="function"?e(n):e}function is(e,n){return typeof e=="function"?e(n):e}function K4(e,n){const{type:a="all",exact:s,fetchStatus:f,predicate:h,queryKey:_,stale:y}=e;if(_){if(s){if(n.queryHash!==FD(_,n.options))return!1}else if(!ov(n.queryKey,_))return!1}if(a!=="all"){const T=n.isActive();if(a==="active"&&!T||a==="inactive"&&T)return!1}return!(typeof y=="boolean"&&n.isStale()!==y||f&&f!==n.state.fetchStatus||h&&!h(n))}function Q4(e,n){const{exact:a,status:s,predicate:f,mutationKey:h}=e;if(h){if(!n.options.mutationKey)return!1;if(a){if(of(n.options.mutationKey)!==of(h))return!1}else if(!ov(n.options.mutationKey,h))return!1}return!(s&&n.state.status!==s||f&&!f(n))}function FD(e,n){return((n==null?void 0:n.queryKeyHashFn)||of)(e)}function of(e){return JSON.stringify(e,(n,a)=>qA(a)?Object.keys(a).sort().reduce((s,f)=>(s[f]=a[f],s),{}):a)}function ov(e,n){return e===n?!0:typeof e!=typeof n?!1:e&&n&&typeof e=="object"&&typeof n=="object"?Object.keys(n).every(a=>ov(e[a],n[a])):!1}function nz(e,n){if(e===n)return e;const a=Y4(e)&&Y4(n);if(a||qA(e)&&qA(n)){const s=a?e:Object.keys(e),f=s.length,h=a?n:Object.keys(n),_=h.length,y=a?[]:{},T=new Set(s);let I=0;for(let x=0;x<_;x++){const A=a?x:h[x];(!a&&T.has(A)||a)&&e[A]===void 0&&n[A]===void 0?(y[A]=void 0,I++):(y[A]=nz(e[A],n[A]),y[A]===e[A]&&e[A]!==void 0&&I++)}return f===_&&I===f?e:y}return n}function SS(e,n){if(!n||Object.keys(e).length!==Object.keys(n).length)return!1;for(const a in e)if(e[a]!==n[a])return!1;return!0}function Y4(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function qA(e){if(!J4(e))return!1;const n=e.constructor;if(n===void 0)return!0;const a=n.prototype;return!(!J4(a)||!a.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function J4(e){return Object.prototype.toString.call(e)==="[object Object]"}function hve(e){return new Promise(n=>{setTimeout(n,e)})}function XA(e,n,a){return typeof a.structuralSharing=="function"?a.structuralSharing(e,n):a.structuralSharing!==!1?nz(e,n):n}function pve(e,n,a=0){const s=[...e,n];return a&&s.length>a?s.slice(1):s}function mve(e,n,a=0){const s=[n,...e];return a&&s.length>a?s.slice(0,-1):s}var OD=Symbol();function iz(e,n){return!e.queryFn&&(n!=null&&n.initialPromise)?()=>n.initialPromise:!e.queryFn||e.queryFn===OD?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function oz(e,n){return typeof e=="function"?e(...n):!!e}var Bd,mc,Yh,s5,gve=(s5=class extends Ep{constructor(){super();rr(this,Bd);rr(this,mc);rr(this,Yh);kt(this,Yh,n=>{if(!nf&&window.addEventListener){const a=()=>n();return window.addEventListener("visibilitychange",a,!1),()=>{window.removeEventListener("visibilitychange",a)}}})}onSubscribe(){De(this,mc)||this.setEventListener(De(this,Yh))}onUnsubscribe(){var n;this.hasListeners()||((n=De(this,mc))==null||n.call(this),kt(this,mc,void 0))}setEventListener(n){var a;kt(this,Yh,n),(a=De(this,mc))==null||a.call(this),kt(this,mc,n(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(n){De(this,Bd)!==n&&(kt(this,Bd,n),this.onFocus())}onFocus(){const n=this.isFocused();this.listeners.forEach(a=>{a(n)})}isFocused(){var n;return typeof De(this,Bd)=="boolean"?De(this,Bd):((n=globalThis.document)==null?void 0:n.visibilityState)!=="hidden"}},Bd=new WeakMap,mc=new WeakMap,Yh=new WeakMap,s5),MD=new gve,Jh,gc,qh,u5,vve=(u5=class extends Ep{constructor(){super();rr(this,Jh,!0);rr(this,gc);rr(this,qh);kt(this,qh,n=>{if(!nf&&window.addEventListener){const a=()=>n(!0),s=()=>n(!1);return window.addEventListener("online",a,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",s)}}})}onSubscribe(){De(this,gc)||this.setEventListener(De(this,qh))}onUnsubscribe(){var n;this.hasListeners()||((n=De(this,gc))==null||n.call(this),kt(this,gc,void 0))}setEventListener(n){var a;kt(this,qh,n),(a=De(this,gc))==null||a.call(this),kt(this,gc,n(this.setOnline.bind(this)))}setOnline(n){De(this,Jh)!==n&&(kt(this,Jh,n),this.listeners.forEach(s=>{s(n)}))}isOnline(){return De(this,Jh)}},Jh=new WeakMap,gc=new WeakMap,qh=new WeakMap,u5),bS=new vve;function ZA(){let e,n;const a=new Promise((f,h)=>{e=f,n=h});a.status="pending",a.catch(()=>{});function s(f){Object.assign(a,f),delete a.resolve,delete a.reject}return a.resolve=f=>{s({status:"fulfilled",value:f}),e(f)},a.reject=f=>{s({status:"rejected",reason:f}),n(f)},a}function yve(e){return Math.min(1e3*2**e,3e4)}function az(e){return(e??"online")==="online"?bS.isOnline():!0}var sz=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Px(e){return e instanceof sz}function uz(e){let n=!1,a=0,s=!1,f;const h=ZA(),_=O=>{var L;s||(P(new sz(O)),(L=e.abort)==null||L.call(e))},y=()=>{n=!0},T=()=>{n=!1},I=()=>MD.isFocused()&&(e.networkMode==="always"||bS.isOnline())&&e.canRun(),x=()=>az(e.networkMode)&&e.canRun(),A=O=>{var L;s||(s=!0,(L=e.onSuccess)==null||L.call(e,O),f==null||f(),h.resolve(O))},P=O=>{var L;s||(s=!0,(L=e.onError)==null||L.call(e,O),f==null||f(),h.reject(O))},R=()=>new Promise(O=>{var L;f=k=>{(s||I())&&O(k)},(L=e.onPause)==null||L.call(e)}).then(()=>{var O;f=void 0,s||(O=e.onContinue)==null||O.call(e)}),E=()=>{if(s)return;let O;const L=a===0?e.initialPromise:void 0;try{O=L??e.fn()}catch(k){O=Promise.reject(k)}Promise.resolve(O).then(A).catch(k=>{var $;if(s)return;const N=e.retry??(nf?0:3),W=e.retryDelay??yve,G=typeof W=="function"?W(a,k):W,le=N===!0||typeof N=="number"&&a<N||typeof N=="function"&&N(a,k);if(n||!le){P(k);return}a++,($=e.onFail)==null||$.call(e,a,k),hve(G).then(()=>I()?void 0:R()).then(()=>{n?P(k):E()})})};return{promise:h,cancel:_,continue:()=>(f==null||f(),h),cancelRetry:y,continueRetry:T,canStart:x,start:()=>(x()?E():R().then(E),h)}}var _ve=e=>setTimeout(e,0);function Sve(){let e=[],n=0,a=y=>{y()},s=y=>{y()},f=_ve;const h=y=>{n?e.push(y):f(()=>{a(y)})},_=()=>{const y=e;e=[],y.length&&f(()=>{s(()=>{y.forEach(T=>{a(T)})})})};return{batch:y=>{let T;n++;try{T=y()}finally{n--,n||_()}return T},batchCalls:y=>(...T)=>{h(()=>{y(...T)})},schedule:h,setNotifyFunction:y=>{a=y},setBatchNotifyFunction:y=>{s=y},setScheduler:y=>{f=y}}}var ji=Sve(),Ud,l5,lz=(l5=class{constructor(){rr(this,Ud)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),JA(this.gcTime)&&kt(this,Ud,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(nf?1/0:5*60*1e3))}clearGcTimeout(){De(this,Ud)&&(clearTimeout(De(this,Ud)),kt(this,Ud,void 0))}},Ud=new WeakMap,l5),Xh,Vd,ns,Gd,wo,fv,Hd,Us,rl,c5,bve=(c5=class extends lz{constructor(n){super();rr(this,Us);rr(this,Xh);rr(this,Vd);rr(this,ns);rr(this,Gd);rr(this,wo);rr(this,fv);rr(this,Hd);kt(this,Hd,!1),kt(this,fv,n.defaultOptions),this.setOptions(n.options),this.observers=[],kt(this,Gd,n.client),kt(this,ns,De(this,Gd).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,kt(this,Xh,Cve(this.options)),this.state=n.state??De(this,Xh),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=De(this,wo))==null?void 0:n.promise}setOptions(n){this.options={...De(this,fv),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&De(this,ns).remove(this)}setData(n,a){const s=XA(this.state.data,n,this.options);return wr(this,Us,rl).call(this,{data:s,type:"success",dataUpdatedAt:a==null?void 0:a.updatedAt,manual:a==null?void 0:a.manual}),s}setState(n,a){wr(this,Us,rl).call(this,{type:"setState",state:n,setStateOptions:a})}cancel(n){var s,f;const a=(s=De(this,wo))==null?void 0:s.promise;return(f=De(this,wo))==null||f.cancel(n),a?a.then(Ho).catch(Ho):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(De(this,Xh))}isActive(){return this.observers.some(n=>is(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===OD||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Lc(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!rz(this.state.dataUpdatedAt,n)}onFocus(){var a;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(a=De(this,wo))==null||a.continue()}onOnline(){var a;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(a=De(this,wo))==null||a.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),De(this,ns).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(a=>a!==n),this.observers.length||(De(this,wo)&&(De(this,Hd)?De(this,wo).cancel({revert:!0}):De(this,wo).cancelRetry()),this.scheduleGc()),De(this,ns).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||wr(this,Us,rl).call(this,{type:"invalidate"})}fetch(n,a){var I,x,A;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(a!=null&&a.cancelRefetch))this.cancel({silent:!0});else if(De(this,wo))return De(this,wo).continueRetry(),De(this,wo).promise}if(n&&this.setOptions(n),!this.options.queryFn){const P=this.observers.find(R=>R.options.queryFn);P&&this.setOptions(P.options)}const s=new AbortController,f=P=>{Object.defineProperty(P,"signal",{enumerable:!0,get:()=>(kt(this,Hd,!0),s.signal)})},h=()=>{const P=iz(this.options,a),E=(()=>{const O={client:De(this,Gd),queryKey:this.queryKey,meta:this.meta};return f(O),O})();return kt(this,Hd,!1),this.options.persister?this.options.persister(P,E,this):P(E)},y=(()=>{const P={fetchOptions:a,options:this.options,queryKey:this.queryKey,client:De(this,Gd),state:this.state,fetchFn:h};return f(P),P})();(I=this.options.behavior)==null||I.onFetch(y,this),kt(this,Vd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((x=y.fetchOptions)==null?void 0:x.meta))&&wr(this,Us,rl).call(this,{type:"fetch",meta:(A=y.fetchOptions)==null?void 0:A.meta});const T=P=>{var R,E,O,L;Px(P)&&P.silent||wr(this,Us,rl).call(this,{type:"error",error:P}),Px(P)||((E=(R=De(this,ns).config).onError)==null||E.call(R,P,this),(L=(O=De(this,ns).config).onSettled)==null||L.call(O,this.state.data,P,this)),this.scheduleGc()};return kt(this,wo,uz({initialPromise:a==null?void 0:a.initialPromise,fn:y.fetchFn,abort:s.abort.bind(s),onSuccess:P=>{var R,E,O,L;if(P===void 0){T(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(P)}catch(k){T(k);return}(E=(R=De(this,ns).config).onSuccess)==null||E.call(R,P,this),(L=(O=De(this,ns).config).onSettled)==null||L.call(O,P,this.state.error,this),this.scheduleGc()},onError:T,onFail:(P,R)=>{wr(this,Us,rl).call(this,{type:"failed",failureCount:P,error:R})},onPause:()=>{wr(this,Us,rl).call(this,{type:"pause"})},onContinue:()=>{wr(this,Us,rl).call(this,{type:"continue"})},retry:y.options.retry,retryDelay:y.options.retryDelay,networkMode:y.options.networkMode,canRun:()=>!0})),De(this,wo).start()}},Xh=new WeakMap,Vd=new WeakMap,ns=new WeakMap,Gd=new WeakMap,wo=new WeakMap,fv=new WeakMap,Hd=new WeakMap,Us=new WeakSet,rl=function(n){const a=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...cz(s.data,this.options),fetchMeta:n.meta??null};case"success":return kt(this,Vd,void 0),{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const f=n.error;return Px(f)&&f.revert&&De(this,Vd)?{...De(this,Vd),fetchStatus:"idle"}:{...s,error:f,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:f,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=a(this.state),ji.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),De(this,ns).notify({query:this,type:"updated",action:n})})},c5);function cz(e,n){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:az(n.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Cve(e){const n=typeof e.initialData=="function"?e.initialData():e.initialData,a=n!==void 0,s=a?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:n,dataUpdateCount:0,dataUpdatedAt:a?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:a?"success":"pending",fetchStatus:"idle"}}var Tu,d5,Tve=(d5=class extends Ep{constructor(n={}){super();rr(this,Tu);this.config=n,kt(this,Tu,new Map)}build(n,a,s){const f=a.queryKey,h=a.queryHash??FD(f,a);let _=this.get(h);return _||(_=new bve({client:n,queryKey:f,queryHash:h,options:n.defaultQueryOptions(a),state:s,defaultOptions:n.getQueryDefaults(f)}),this.add(_)),_}add(n){De(this,Tu).has(n.queryHash)||(De(this,Tu).set(n.queryHash,n),this.notify({type:"added",query:n}))}remove(n){const a=De(this,Tu).get(n.queryHash);a&&(n.destroy(),a===n&&De(this,Tu).delete(n.queryHash),this.notify({type:"removed",query:n}))}clear(){ji.batch(()=>{this.getAll().forEach(n=>{this.remove(n)})})}get(n){return De(this,Tu).get(n)}getAll(){return[...De(this,Tu).values()]}find(n){const a={exact:!0,...n};return this.getAll().find(s=>K4(a,s))}findAll(n={}){const a=this.getAll();return Object.keys(n).length>0?a.filter(s=>K4(n,s)):a}notify(n){ji.batch(()=>{this.listeners.forEach(a=>{a(n)})})}onFocus(){ji.batch(()=>{this.getAll().forEach(n=>{n.onFocus()})})}onOnline(){ji.batch(()=>{this.getAll().forEach(n=>{n.onOnline()})})}},Tu=new WeakMap,d5),Iu,Uo,zd,wu,uc,f5,Ive=(f5=class extends lz{constructor(n){super();rr(this,wu);rr(this,Iu);rr(this,Uo);rr(this,zd);this.mutationId=n.mutationId,kt(this,Uo,n.mutationCache),kt(this,Iu,[]),this.state=n.state||dz(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){De(this,Iu).includes(n)||(De(this,Iu).push(n),this.clearGcTimeout(),De(this,Uo).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){kt(this,Iu,De(this,Iu).filter(a=>a!==n)),this.scheduleGc(),De(this,Uo).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){De(this,Iu).length||(this.state.status==="pending"?this.scheduleGc():De(this,Uo).remove(this))}continue(){var n;return((n=De(this,zd))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var h,_,y,T,I,x,A,P,R,E,O,L,k,N,W,G,le,$,H,ie;const a=()=>{wr(this,wu,uc).call(this,{type:"continue"})};kt(this,zd,uz({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(pe,se)=>{wr(this,wu,uc).call(this,{type:"failed",failureCount:pe,error:se})},onPause:()=>{wr(this,wu,uc).call(this,{type:"pause"})},onContinue:a,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>De(this,Uo).canRun(this)}));const s=this.state.status==="pending",f=!De(this,zd).canStart();try{if(s)a();else{wr(this,wu,uc).call(this,{type:"pending",variables:n,isPaused:f}),await((_=(h=De(this,Uo).config).onMutate)==null?void 0:_.call(h,n,this));const se=await((T=(y=this.options).onMutate)==null?void 0:T.call(y,n));se!==this.state.context&&wr(this,wu,uc).call(this,{type:"pending",context:se,variables:n,isPaused:f})}const pe=await De(this,zd).start();return await((x=(I=De(this,Uo).config).onSuccess)==null?void 0:x.call(I,pe,n,this.state.context,this)),await((P=(A=this.options).onSuccess)==null?void 0:P.call(A,pe,n,this.state.context)),await((E=(R=De(this,Uo).config).onSettled)==null?void 0:E.call(R,pe,null,this.state.variables,this.state.context,this)),await((L=(O=this.options).onSettled)==null?void 0:L.call(O,pe,null,n,this.state.context)),wr(this,wu,uc).call(this,{type:"success",data:pe}),pe}catch(pe){try{throw await((N=(k=De(this,Uo).config).onError)==null?void 0:N.call(k,pe,n,this.state.context,this)),await((G=(W=this.options).onError)==null?void 0:G.call(W,pe,n,this.state.context)),await(($=(le=De(this,Uo).config).onSettled)==null?void 0:$.call(le,void 0,pe,this.state.variables,this.state.context,this)),await((ie=(H=this.options).onSettled)==null?void 0:ie.call(H,void 0,pe,n,this.state.context)),pe}finally{wr(this,wu,uc).call(this,{type:"error",error:pe})}}finally{De(this,Uo).runNext(this)}}},Iu=new WeakMap,Uo=new WeakMap,zd=new WeakMap,wu=new WeakSet,uc=function(n){const a=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=a(this.state),ji.batch(()=>{De(this,Iu).forEach(s=>{s.onMutationUpdate(n)}),De(this,Uo).notify({mutation:this,type:"updated",action:n})})},f5);function dz(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ol,Vs,hv,h5,wve=(h5=class extends Ep{constructor(n={}){super();rr(this,ol);rr(this,Vs);rr(this,hv);this.config=n,kt(this,ol,new Set),kt(this,Vs,new Map),kt(this,hv,0)}build(n,a,s){const f=new Ive({mutationCache:this,mutationId:++X_(this,hv)._,options:n.defaultMutationOptions(a),state:s});return this.add(f),f}add(n){De(this,ol).add(n);const a=_0(n);if(typeof a=="string"){const s=De(this,Vs).get(a);s?s.push(n):De(this,Vs).set(a,[n])}this.notify({type:"added",mutation:n})}remove(n){if(De(this,ol).delete(n)){const a=_0(n);if(typeof a=="string"){const s=De(this,Vs).get(a);if(s)if(s.length>1){const f=s.indexOf(n);f!==-1&&s.splice(f,1)}else s[0]===n&&De(this,Vs).delete(a)}}this.notify({type:"removed",mutation:n})}canRun(n){const a=_0(n);if(typeof a=="string"){const s=De(this,Vs).get(a),f=s==null?void 0:s.find(h=>h.state.status==="pending");return!f||f===n}else return!0}runNext(n){var s;const a=_0(n);if(typeof a=="string"){const f=(s=De(this,Vs).get(a))==null?void 0:s.find(h=>h!==n&&h.state.isPaused);return(f==null?void 0:f.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ji.batch(()=>{De(this,ol).forEach(n=>{this.notify({type:"removed",mutation:n})}),De(this,ol).clear(),De(this,Vs).clear()})}getAll(){return Array.from(De(this,ol))}find(n){const a={exact:!0,...n};return this.getAll().find(s=>Q4(a,s))}findAll(n={}){return this.getAll().filter(a=>Q4(n,a))}notify(n){ji.batch(()=>{this.listeners.forEach(a=>{a(n)})})}resumePausedMutations(){const n=this.getAll().filter(a=>a.state.isPaused);return ji.batch(()=>Promise.all(n.map(a=>a.continue().catch(Ho))))}},ol=new WeakMap,Vs=new WeakMap,hv=new WeakMap,h5);function _0(e){var n;return(n=e.options.scope)==null?void 0:n.id}function q4(e){return{onFetch:(n,a)=>{var x,A,P,R,E;const s=n.options,f=(P=(A=(x=n.fetchOptions)==null?void 0:x.meta)==null?void 0:A.fetchMore)==null?void 0:P.direction,h=((R=n.state.data)==null?void 0:R.pages)||[],_=((E=n.state.data)==null?void 0:E.pageParams)||[];let y={pages:[],pageParams:[]},T=0;const I=async()=>{let O=!1;const L=W=>{Object.defineProperty(W,"signal",{enumerable:!0,get:()=>(n.signal.aborted?O=!0:n.signal.addEventListener("abort",()=>{O=!0}),n.signal)})},k=iz(n.options,n.fetchOptions),N=async(W,G,le)=>{if(O)return Promise.reject();if(G==null&&W.pages.length)return Promise.resolve(W);const H=(()=>{const ce={client:n.client,queryKey:n.queryKey,pageParam:G,direction:le?"backward":"forward",meta:n.options.meta};return L(ce),ce})(),ie=await k(H),{maxPages:pe}=n.options,se=le?mve:pve;return{pages:se(W.pages,ie,pe),pageParams:se(W.pageParams,G,pe)}};if(f&&h.length){const W=f==="backward",G=W?Eve:X4,le={pages:h,pageParams:_},$=G(s,le);y=await N(le,$,W)}else{const W=e??h.length;do{const G=T===0?_[0]??s.initialPageParam:X4(s,y);if(T>0&&G==null)break;y=await N(y,G),T++}while(T<W)}return y};n.options.persister?n.fetchFn=()=>{var O,L;return(L=(O=n.options).persister)==null?void 0:L.call(O,I,{client:n.client,queryKey:n.queryKey,meta:n.options.meta,signal:n.signal},a)}:n.fetchFn=I}}}function X4(e,{pages:n,pageParams:a}){const s=n.length-1;return n.length>0?e.getNextPageParam(n[s],n,a[s],a):void 0}function Eve(e,{pages:n,pageParams:a}){var s;return n.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,n[0],n,a[0],a):void 0}var di,vc,yc,Zh,$h,_c,ep,tp,p5,xve=(p5=class{constructor(e={}){rr(this,di);rr(this,vc);rr(this,yc);rr(this,Zh);rr(this,$h);rr(this,_c);rr(this,ep);rr(this,tp);kt(this,di,e.queryCache||new Tve),kt(this,vc,e.mutationCache||new wve),kt(this,yc,e.defaultOptions||{}),kt(this,Zh,new Map),kt(this,$h,new Map),kt(this,_c,0)}mount(){X_(this,_c)._++,De(this,_c)===1&&(kt(this,ep,MD.subscribe(async e=>{e&&(await this.resumePausedMutations(),De(this,di).onFocus())})),kt(this,tp,bS.subscribe(async e=>{e&&(await this.resumePausedMutations(),De(this,di).onOnline())})))}unmount(){var e,n;X_(this,_c)._--,De(this,_c)===0&&((e=De(this,ep))==null||e.call(this),kt(this,ep,void 0),(n=De(this,tp))==null||n.call(this),kt(this,tp,void 0))}isFetching(e){return De(this,di).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return De(this,vc).findAll({...e,status:"pending"}).length}getQueryData(e){var a;const n=this.defaultQueryOptions({queryKey:e});return(a=De(this,di).get(n.queryHash))==null?void 0:a.state.data}ensureQueryData(e){const n=this.defaultQueryOptions(e),a=De(this,di).build(this,n),s=a.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&a.isStaleByTime(Lc(n.staleTime,a))&&this.prefetchQuery(n),Promise.resolve(s))}getQueriesData(e){return De(this,di).findAll(e).map(({queryKey:n,state:a})=>{const s=a.data;return[n,s]})}setQueryData(e,n,a){const s=this.defaultQueryOptions({queryKey:e}),f=De(this,di).get(s.queryHash),h=f==null?void 0:f.state.data,_=fve(n,h);if(_!==void 0)return De(this,di).build(this,s).setData(_,{...a,manual:!0})}setQueriesData(e,n,a){return ji.batch(()=>De(this,di).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,n,a)]))}getQueryState(e){var a;const n=this.defaultQueryOptions({queryKey:e});return(a=De(this,di).get(n.queryHash))==null?void 0:a.state}removeQueries(e){const n=De(this,di);ji.batch(()=>{n.findAll(e).forEach(a=>{n.remove(a)})})}resetQueries(e,n){const a=De(this,di);return ji.batch(()=>(a.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},n)))}cancelQueries(e,n={}){const a={revert:!0,...n},s=ji.batch(()=>De(this,di).findAll(e).map(f=>f.cancel(a)));return Promise.all(s).then(Ho).catch(Ho)}invalidateQueries(e,n={}){return ji.batch(()=>(De(this,di).findAll(e).forEach(a=>{a.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},n)))}refetchQueries(e,n={}){const a={...n,cancelRefetch:n.cancelRefetch??!0},s=ji.batch(()=>De(this,di).findAll(e).filter(f=>!f.isDisabled()&&!f.isStatic()).map(f=>{let h=f.fetch(void 0,a);return a.throwOnError||(h=h.catch(Ho)),f.state.fetchStatus==="paused"?Promise.resolve():h}));return Promise.all(s).then(Ho)}fetchQuery(e){const n=this.defaultQueryOptions(e);n.retry===void 0&&(n.retry=!1);const a=De(this,di).build(this,n);return a.isStaleByTime(Lc(n.staleTime,a))?a.fetch(n):Promise.resolve(a.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ho).catch(Ho)}fetchInfiniteQuery(e){return e.behavior=q4(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ho).catch(Ho)}ensureInfiniteQueryData(e){return e.behavior=q4(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return bS.isOnline()?De(this,vc).resumePausedMutations():Promise.resolve()}getQueryCache(){return De(this,di)}getMutationCache(){return De(this,vc)}getDefaultOptions(){return De(this,yc)}setDefaultOptions(e){kt(this,yc,e)}setQueryDefaults(e,n){De(this,Zh).set(of(e),{queryKey:e,defaultOptions:n})}getQueryDefaults(e){const n=[...De(this,Zh).values()],a={};return n.forEach(s=>{ov(e,s.queryKey)&&Object.assign(a,s.defaultOptions)}),a}setMutationDefaults(e,n){De(this,$h).set(of(e),{mutationKey:e,defaultOptions:n})}getMutationDefaults(e){const n=[...De(this,$h).values()],a={};return n.forEach(s=>{ov(e,s.mutationKey)&&Object.assign(a,s.defaultOptions)}),a}defaultQueryOptions(e){if(e._defaulted)return e;const n={...De(this,yc).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return n.queryHash||(n.queryHash=FD(n.queryKey,n)),n.refetchOnReconnect===void 0&&(n.refetchOnReconnect=n.networkMode!=="always"),n.throwOnError===void 0&&(n.throwOnError=!!n.suspense),!n.networkMode&&n.persister&&(n.networkMode="offlineFirst"),n.queryFn===OD&&(n.enabled=!1),n}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...De(this,yc).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){De(this,di).clear(),De(this,vc).clear()}},di=new WeakMap,vc=new WeakMap,yc=new WeakMap,Zh=new WeakMap,$h=new WeakMap,_c=new WeakMap,ep=new WeakMap,tp=new WeakMap,p5),ca,Hr,pv,Vo,Kd,rp,Sc,bc,mv,np,ip,Qd,Yd,Cc,op,sn,Cg,$A,e1,t1,r1,n1,i1,o1,fz,m5,Ave=(m5=class extends Ep{constructor(n,a){super();rr(this,sn);rr(this,ca);rr(this,Hr);rr(this,pv);rr(this,Vo);rr(this,Kd);rr(this,rp);rr(this,Sc);rr(this,bc);rr(this,mv);rr(this,np);rr(this,ip);rr(this,Qd);rr(this,Yd);rr(this,Cc);rr(this,op,new Set);this.options=a,kt(this,ca,n),kt(this,bc,null),kt(this,Sc,ZA()),this.options.experimental_prefetchInRender||De(this,Sc).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(a)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(De(this,Hr).addObserver(this),Z4(De(this,Hr),this.options)?wr(this,sn,Cg).call(this):this.updateResult(),wr(this,sn,r1).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return a1(De(this,Hr),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return a1(De(this,Hr),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,wr(this,sn,n1).call(this),wr(this,sn,i1).call(this),De(this,Hr).removeObserver(this)}setOptions(n){const a=this.options,s=De(this,Hr);if(this.options=De(this,ca).defaultQueryOptions(n),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof is(this.options.enabled,De(this,Hr))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");wr(this,sn,o1).call(this),De(this,Hr).setOptions(this.options),a._defaulted&&!SS(this.options,a)&&De(this,ca).getQueryCache().notify({type:"observerOptionsUpdated",query:De(this,Hr),observer:this});const f=this.hasListeners();f&&$4(De(this,Hr),s,this.options,a)&&wr(this,sn,Cg).call(this),this.updateResult(),f&&(De(this,Hr)!==s||is(this.options.enabled,De(this,Hr))!==is(a.enabled,De(this,Hr))||Lc(this.options.staleTime,De(this,Hr))!==Lc(a.staleTime,De(this,Hr)))&&wr(this,sn,$A).call(this);const h=wr(this,sn,e1).call(this);f&&(De(this,Hr)!==s||is(this.options.enabled,De(this,Hr))!==is(a.enabled,De(this,Hr))||h!==De(this,Cc))&&wr(this,sn,t1).call(this,h)}getOptimisticResult(n){const a=De(this,ca).getQueryCache().build(De(this,ca),n),s=this.createResult(a,n);return Pve(this,s)&&(kt(this,Vo,s),kt(this,rp,this.options),kt(this,Kd,De(this,Hr).state)),s}getCurrentResult(){return De(this,Vo)}trackResult(n,a){return new Proxy(n,{get:(s,f)=>(this.trackProp(f),a==null||a(f),Reflect.get(s,f))})}trackProp(n){De(this,op).add(n)}getCurrentQuery(){return De(this,Hr)}refetch({...n}={}){return this.fetch({...n})}fetchOptimistic(n){const a=De(this,ca).defaultQueryOptions(n),s=De(this,ca).getQueryCache().build(De(this,ca),a);return s.fetch().then(()=>this.createResult(s,a))}fetch(n){return wr(this,sn,Cg).call(this,{...n,cancelRefetch:n.cancelRefetch??!0}).then(()=>(this.updateResult(),De(this,Vo)))}createResult(n,a){var pe;const s=De(this,Hr),f=this.options,h=De(this,Vo),_=De(this,Kd),y=De(this,rp),I=n!==s?n.state:De(this,pv),{state:x}=n;let A={...x},P=!1,R;if(a._optimisticResults){const se=this.hasListeners(),ce=!se&&Z4(n,a),me=se&&$4(n,s,a,f);(ce||me)&&(A={...A,...cz(x.data,n.options)}),a._optimisticResults==="isRestoring"&&(A.fetchStatus="idle")}let{error:E,errorUpdatedAt:O,status:L}=A;R=A.data;let k=!1;if(a.placeholderData!==void 0&&R===void 0&&L==="pending"){let se;h!=null&&h.isPlaceholderData&&a.placeholderData===(y==null?void 0:y.placeholderData)?(se=h.data,k=!0):se=typeof a.placeholderData=="function"?a.placeholderData((pe=De(this,ip))==null?void 0:pe.state.data,De(this,ip)):a.placeholderData,se!==void 0&&(L="success",R=XA(h==null?void 0:h.data,se,a),P=!0)}if(a.select&&R!==void 0&&!k)if(h&&R===(_==null?void 0:_.data)&&a.select===De(this,mv))R=De(this,np);else try{kt(this,mv,a.select),R=a.select(R),R=XA(h==null?void 0:h.data,R,a),kt(this,np,R),kt(this,bc,null)}catch(se){kt(this,bc,se)}De(this,bc)&&(E=De(this,bc),R=De(this,np),O=Date.now(),L="error");const N=A.fetchStatus==="fetching",W=L==="pending",G=L==="error",le=W&&N,$=R!==void 0,ie={status:L,fetchStatus:A.fetchStatus,isPending:W,isSuccess:L==="success",isError:G,isInitialLoading:le,isLoading:le,data:R,dataUpdatedAt:A.dataUpdatedAt,error:E,errorUpdatedAt:O,failureCount:A.fetchFailureCount,failureReason:A.fetchFailureReason,errorUpdateCount:A.errorUpdateCount,isFetched:A.dataUpdateCount>0||A.errorUpdateCount>0,isFetchedAfterMount:A.dataUpdateCount>I.dataUpdateCount||A.errorUpdateCount>I.errorUpdateCount,isFetching:N,isRefetching:N&&!W,isLoadingError:G&&!$,isPaused:A.fetchStatus==="paused",isPlaceholderData:P,isRefetchError:G&&$,isStale:LD(n,a),refetch:this.refetch,promise:De(this,Sc),isEnabled:is(a.enabled,n)!==!1};if(this.options.experimental_prefetchInRender){const se=we=>{ie.status==="error"?we.reject(ie.error):ie.data!==void 0&&we.resolve(ie.data)},ce=()=>{const we=kt(this,Sc,ie.promise=ZA());se(we)},me=De(this,Sc);switch(me.status){case"pending":n.queryHash===s.queryHash&&se(me);break;case"fulfilled":(ie.status==="error"||ie.data!==me.value)&&ce();break;case"rejected":(ie.status!=="error"||ie.error!==me.reason)&&ce();break}}return ie}updateResult(){const n=De(this,Vo),a=this.createResult(De(this,Hr),this.options);if(kt(this,Kd,De(this,Hr).state),kt(this,rp,this.options),De(this,Kd).data!==void 0&&kt(this,ip,De(this,Hr)),SS(a,n))return;kt(this,Vo,a);const s=()=>{if(!n)return!0;const{notifyOnChangeProps:f}=this.options,h=typeof f=="function"?f():f;if(h==="all"||!h&&!De(this,op).size)return!0;const _=new Set(h??De(this,op));return this.options.throwOnError&&_.add("error"),Object.keys(De(this,Vo)).some(y=>{const T=y;return De(this,Vo)[T]!==n[T]&&_.has(T)})};wr(this,sn,fz).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&wr(this,sn,r1).call(this)}},ca=new WeakMap,Hr=new WeakMap,pv=new WeakMap,Vo=new WeakMap,Kd=new WeakMap,rp=new WeakMap,Sc=new WeakMap,bc=new WeakMap,mv=new WeakMap,np=new WeakMap,ip=new WeakMap,Qd=new WeakMap,Yd=new WeakMap,Cc=new WeakMap,op=new WeakMap,sn=new WeakSet,Cg=function(n){wr(this,sn,o1).call(this);let a=De(this,Hr).fetch(this.options,n);return n!=null&&n.throwOnError||(a=a.catch(Ho)),a},$A=function(){wr(this,sn,n1).call(this);const n=Lc(this.options.staleTime,De(this,Hr));if(nf||De(this,Vo).isStale||!JA(n))return;const s=rz(De(this,Vo).dataUpdatedAt,n)+1;kt(this,Qd,setTimeout(()=>{De(this,Vo).isStale||this.updateResult()},s))},e1=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(De(this,Hr)):this.options.refetchInterval)??!1},t1=function(n){wr(this,sn,i1).call(this),kt(this,Cc,n),!(nf||is(this.options.enabled,De(this,Hr))===!1||!JA(De(this,Cc))||De(this,Cc)===0)&&kt(this,Yd,setInterval(()=>{(this.options.refetchIntervalInBackground||MD.isFocused())&&wr(this,sn,Cg).call(this)},De(this,Cc)))},r1=function(){wr(this,sn,$A).call(this),wr(this,sn,t1).call(this,wr(this,sn,e1).call(this))},n1=function(){De(this,Qd)&&(clearTimeout(De(this,Qd)),kt(this,Qd,void 0))},i1=function(){De(this,Yd)&&(clearInterval(De(this,Yd)),kt(this,Yd,void 0))},o1=function(){const n=De(this,ca).getQueryCache().build(De(this,ca),this.options);if(n===De(this,Hr))return;const a=De(this,Hr);kt(this,Hr,n),kt(this,pv,n.state),this.hasListeners()&&(a==null||a.removeObserver(this),n.addObserver(this))},fz=function(n){ji.batch(()=>{n.listeners&&this.listeners.forEach(a=>{a(De(this,Vo))}),De(this,ca).getQueryCache().notify({query:De(this,Hr),type:"observerResultsUpdated"})})},m5);function Dve(e,n){return is(n.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&n.retryOnMount===!1)}function Z4(e,n){return Dve(e,n)||e.state.data!==void 0&&a1(e,n,n.refetchOnMount)}function a1(e,n,a){if(is(n.enabled,e)!==!1&&Lc(n.staleTime,e)!=="static"){const s=typeof a=="function"?a(e):a;return s==="always"||s!==!1&&LD(e,n)}return!1}function $4(e,n,a,s){return(e!==n||is(s.enabled,e)===!1)&&(!a.suspense||e.state.status!=="error")&&LD(e,a)}function LD(e,n){return is(n.enabled,e)!==!1&&e.isStaleByTime(Lc(n.staleTime,e))}function Pve(e,n){return!SS(e.getCurrentResult(),n)}var Tc,Ic,da,al,fl,U0,s1,g5,Rve=(g5=class extends Ep{constructor(a,s){super();rr(this,fl);rr(this,Tc);rr(this,Ic);rr(this,da);rr(this,al);kt(this,Tc,a),this.setOptions(s),this.bindMethods(),wr(this,fl,U0).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(a){var f;const s=this.options;this.options=De(this,Tc).defaultMutationOptions(a),SS(this.options,s)||De(this,Tc).getMutationCache().notify({type:"observerOptionsUpdated",mutation:De(this,da),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&of(s.mutationKey)!==of(this.options.mutationKey)?this.reset():((f=De(this,da))==null?void 0:f.state.status)==="pending"&&De(this,da).setOptions(this.options)}onUnsubscribe(){var a;this.hasListeners()||(a=De(this,da))==null||a.removeObserver(this)}onMutationUpdate(a){wr(this,fl,U0).call(this),wr(this,fl,s1).call(this,a)}getCurrentResult(){return De(this,Ic)}reset(){var a;(a=De(this,da))==null||a.removeObserver(this),kt(this,da,void 0),wr(this,fl,U0).call(this),wr(this,fl,s1).call(this)}mutate(a,s){var f;return kt(this,al,s),(f=De(this,da))==null||f.removeObserver(this),kt(this,da,De(this,Tc).getMutationCache().build(De(this,Tc),this.options)),De(this,da).addObserver(this),De(this,da).execute(a)}},Tc=new WeakMap,Ic=new WeakMap,da=new WeakMap,al=new WeakMap,fl=new WeakSet,U0=function(){var s;const a=((s=De(this,da))==null?void 0:s.state)??dz();kt(this,Ic,{...a,isPending:a.status==="pending",isSuccess:a.status==="success",isError:a.status==="error",isIdle:a.status==="idle",mutate:this.mutate,reset:this.reset})},s1=function(a){ji.batch(()=>{var s,f,h,_,y,T,I,x;if(De(this,al)&&this.hasListeners()){const A=De(this,Ic).variables,P=De(this,Ic).context;(a==null?void 0:a.type)==="success"?((f=(s=De(this,al)).onSuccess)==null||f.call(s,a.data,A,P),(_=(h=De(this,al)).onSettled)==null||_.call(h,a.data,null,A,P)):(a==null?void 0:a.type)==="error"&&((T=(y=De(this,al)).onError)==null||T.call(y,a.error,A,P),(x=(I=De(this,al)).onSettled)==null||x.call(I,void 0,a.error,A,P))}this.listeners.forEach(A=>{A(De(this,Ic))})})},g5),hz=z.createContext(void 0),Sl=e=>{const n=z.useContext(hz);if(!n)throw new Error("No QueryClient set, use QueryClientProvider to set one");return n},kve=({client:e,children:n})=>(z.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),w.jsx(hz.Provider,{value:e,children:n})),pz=z.createContext(!1),Nve=()=>z.useContext(pz);pz.Provider;function Fve(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Ove=z.createContext(Fve()),Mve=()=>z.useContext(Ove),Lve=(e,n)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(n.isReset()||(e.retryOnMount=!1))},Wve=e=>{z.useEffect(()=>{e.clearReset()},[e])},jve=({result:e,errorResetBoundary:n,throwOnError:a,query:s,suspense:f})=>e.isError&&!n.isReset()&&!e.isFetching&&s&&(f&&e.data===void 0||oz(a,[e.error,s])),Bve=e=>{if(e.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),a=e.staleTime;e.staleTime=typeof a=="function"?(...s)=>n(a(...s)):n(a),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Uve=(e,n)=>e.isLoading&&e.isFetching&&!n,Vve=(e,n)=>(e==null?void 0:e.suspense)&&n.isPending,eV=(e,n,a)=>n.fetchOptimistic(e).catch(()=>{a.clearReset()});function Gve(e,n,a){var A,P,R,E,O;const s=Nve(),f=Mve(),h=Sl(),_=h.defaultQueryOptions(e);(P=(A=h.getDefaultOptions().queries)==null?void 0:A._experimental_beforeQuery)==null||P.call(A,_),_._optimisticResults=s?"isRestoring":"optimistic",Bve(_),Lve(_,f),Wve(f);const y=!h.getQueryCache().get(_.queryHash),[T]=z.useState(()=>new n(h,_)),I=T.getOptimisticResult(_),x=!s&&e.subscribed!==!1;if(z.useSyncExternalStore(z.useCallback(L=>{const k=x?T.subscribe(ji.batchCalls(L)):Ho;return T.updateResult(),k},[T,x]),()=>T.getCurrentResult(),()=>T.getCurrentResult()),z.useEffect(()=>{T.setOptions(_)},[_,T]),Vve(_,I))throw eV(_,T,f);if(jve({result:I,errorResetBoundary:f,throwOnError:_.throwOnError,query:h.getQueryCache().get(_.queryHash),suspense:_.suspense}))throw I.error;if((E=(R=h.getDefaultOptions().queries)==null?void 0:R._experimental_afterQuery)==null||E.call(R,_,I),_.experimental_prefetchInRender&&!nf&&Uve(I,s)){const L=y?eV(_,T,f):(O=h.getQueryCache().get(_.queryHash))==null?void 0:O.promise;L==null||L.catch(Ho).finally(()=>{T.updateResult()})}return _.notifyOnChangeProps?I:T.trackResult(I)}function Kr(e,n){return Gve(e,Ave)}function Pi(e,n){const a=Sl(),[s]=z.useState(()=>new Rve(a,e));z.useEffect(()=>{s.setOptions(e)},[s,e]);const f=z.useSyncExternalStore(z.useCallback(_=>s.subscribe(ji.batchCalls(_)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),h=z.useCallback((_,y)=>{s.mutate(_,y).catch(Ho)},[s]);if(f.error&&oz(s.options.throwOnError,[f.error]))throw f.error;return{...f,mutate:h,mutateAsync:f.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bn(){return Bn=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},Bn.apply(this,arguments)}var Di;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Di||(Di={}));const tV="popstate";function Hve(e){e===void 0&&(e={});function n(s,f){let{pathname:h,search:_,hash:y}=s.location;return av("",{pathname:h,search:_,hash:y},f.state&&f.state.usr||null,f.state&&f.state.key||"default")}function a(s,f){return typeof f=="string"?f:wv(f)}return Kve(n,a,null,e)}function Br(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function gp(e,n){if(!e){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function zve(){return Math.random().toString(36).substr(2,8)}function rV(e,n){return{usr:e.state,key:e.key,idx:n}}function av(e,n,a,s){return a===void 0&&(a=null),Bn({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof n=="string"?Jc(n):n,{state:a,key:n&&n.key||s||zve()})}function wv(e){let{pathname:n="/",search:a="",hash:s=""}=e;return a&&a!=="?"&&(n+=a.charAt(0)==="?"?a:"?"+a),s&&s!=="#"&&(n+=s.charAt(0)==="#"?s:"#"+s),n}function Jc(e){let n={};if(e){let a=e.indexOf("#");a>=0&&(n.hash=e.substr(a),e=e.substr(0,a));let s=e.indexOf("?");s>=0&&(n.search=e.substr(s),e=e.substr(0,s)),e&&(n.pathname=e)}return n}function Kve(e,n,a,s){s===void 0&&(s={});let{window:f=document.defaultView,v5Compat:h=!1}=s,_=f.history,y=Di.Pop,T=null,I=x();I==null&&(I=0,_.replaceState(Bn({},_.state,{idx:I}),""));function x(){return(_.state||{idx:null}).idx}function A(){y=Di.Pop;let L=x(),k=L==null?null:L-I;I=L,T&&T({action:y,location:O.location,delta:k})}function P(L,k){y=Di.Push;let N=av(O.location,L,k);I=x()+1;let W=rV(N,I),G=O.createHref(N);try{_.pushState(W,"",G)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;f.location.assign(G)}h&&T&&T({action:y,location:O.location,delta:1})}function R(L,k){y=Di.Replace;let N=av(O.location,L,k);I=x();let W=rV(N,I),G=O.createHref(N);_.replaceState(W,"",G),h&&T&&T({action:y,location:O.location,delta:0})}function E(L){let k=f.location.origin!=="null"?f.location.origin:f.location.href,N=typeof L=="string"?L:wv(L);return N=N.replace(/ $/,"%20"),Br(k,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,k)}let O={get action(){return y},get location(){return e(f,_)},listen(L){if(T)throw new Error("A history only accepts one active listener");return f.addEventListener(tV,A),T=L,()=>{f.removeEventListener(tV,A),T=null}},createHref(L){return n(f,L)},createURL:E,encodeLocation(L){let k=E(L);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:P,replace:R,go(L){return _.go(L)}};return O}var cn;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(cn||(cn={}));const Qve=new Set(["lazy","caseSensitive","path","id","index","children"]);function Yve(e){return e.index===!0}function CS(e,n,a,s){return a===void 0&&(a=[]),s===void 0&&(s={}),e.map((f,h)=>{let _=[...a,String(h)],y=typeof f.id=="string"?f.id:_.join("-");if(Br(f.index!==!0||!f.children,"Cannot specify children on an index route"),Br(!s[y],'Found a route id collision on id "'+y+`".  Route id's must be globally unique within Data Router usages`),Yve(f)){let T=Bn({},f,n(f),{id:y});return s[y]=T,T}else{let T=Bn({},f,n(f),{id:y,children:void 0});return s[y]=T,f.children&&(T.children=CS(f.children,n,_,s)),T}})}function Nd(e,n,a){return a===void 0&&(a="/"),V0(e,n,a,!1)}function V0(e,n,a,s){let f=typeof n=="string"?Jc(n):n,h=Ev(f.pathname||"/",a);if(h==null)return null;let _=mz(e);qve(_);let y=null;for(let T=0;y==null&&T<_.length;++T){let I=sye(h);y=oye(_[T],I,s)}return y}function Jve(e,n){let{route:a,pathname:s,params:f}=e;return{id:a.id,pathname:s,params:f,data:n[a.id],handle:a.handle}}function mz(e,n,a,s){n===void 0&&(n=[]),a===void 0&&(a=[]),s===void 0&&(s="");let f=(h,_,y)=>{let T={relativePath:y===void 0?h.path||"":y,caseSensitive:h.caseSensitive===!0,childrenIndex:_,route:h};T.relativePath.startsWith("/")&&(Br(T.relativePath.startsWith(s),'Absolute route path "'+T.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),T.relativePath=T.relativePath.slice(s.length));let I=Wc([s,T.relativePath]),x=a.concat(T);h.children&&h.children.length>0&&(Br(h.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+I+'".')),mz(h.children,n,x,I)),!(h.path==null&&!h.index)&&n.push({path:I,score:nye(I,h.index),routesMeta:x})};return e.forEach((h,_)=>{var y;if(h.path===""||!((y=h.path)!=null&&y.includes("?")))f(h,_);else for(let T of gz(h.path))f(h,_,T)}),n}function gz(e){let n=e.split("/");if(n.length===0)return[];let[a,...s]=n,f=a.endsWith("?"),h=a.replace(/\?$/,"");if(s.length===0)return f?[h,""]:[h];let _=gz(s.join("/")),y=[];return y.push(..._.map(T=>T===""?h:[h,T].join("/"))),f&&y.push(..._),y.map(T=>e.startsWith("/")&&T===""?"/":T)}function qve(e){e.sort((n,a)=>n.score!==a.score?a.score-n.score:iye(n.routesMeta.map(s=>s.childrenIndex),a.routesMeta.map(s=>s.childrenIndex)))}const Xve=/^:[\w-]+$/,Zve=3,$ve=2,eye=1,tye=10,rye=-2,nV=e=>e==="*";function nye(e,n){let a=e.split("/"),s=a.length;return a.some(nV)&&(s+=rye),n&&(s+=$ve),a.filter(f=>!nV(f)).reduce((f,h)=>f+(Xve.test(h)?Zve:h===""?eye:tye),s)}function iye(e,n){return e.length===n.length&&e.slice(0,-1).every((s,f)=>s===n[f])?e[e.length-1]-n[n.length-1]:0}function oye(e,n,a){a===void 0&&(a=!1);let{routesMeta:s}=e,f={},h="/",_=[];for(let y=0;y<s.length;++y){let T=s[y],I=y===s.length-1,x=h==="/"?n:n.slice(h.length)||"/",A=iV({path:T.relativePath,caseSensitive:T.caseSensitive,end:I},x),P=T.route;if(!A&&I&&a&&!s[s.length-1].route.index&&(A=iV({path:T.relativePath,caseSensitive:T.caseSensitive,end:!1},x)),!A)return null;Object.assign(f,A.params),_.push({params:f,pathname:Wc([h,A.pathname]),pathnameBase:cye(Wc([h,A.pathnameBase])),route:P}),A.pathnameBase!=="/"&&(h=Wc([h,A.pathnameBase]))}return _}function iV(e,n){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[a,s]=aye(e.path,e.caseSensitive,e.end),f=n.match(a);if(!f)return null;let h=f[0],_=h.replace(/(.)\/+$/,"$1"),y=f.slice(1);return{params:s.reduce((I,x,A)=>{let{paramName:P,isOptional:R}=x;if(P==="*"){let O=y[A]||"";_=h.slice(0,h.length-O.length).replace(/(.)\/+$/,"$1")}const E=y[A];return R&&!E?I[P]=void 0:I[P]=(E||"").replace(/%2F/g,"/"),I},{}),pathname:h,pathnameBase:_,pattern:e}}function aye(e,n,a){n===void 0&&(n=!1),a===void 0&&(a=!0),gp(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],f="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(_,y,T)=>(s.push({paramName:y,isOptional:T!=null}),T?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),f+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?f+="\\/*$":e!==""&&e!=="/"&&(f+="(?:(?=\\/|$))"),[new RegExp(f,n?void 0:"i"),s]}function sye(e){try{return e.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return gp(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),e}}function Ev(e,n){if(n==="/")return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;let a=n.endsWith("/")?n.length-1:n.length,s=e.charAt(a);return s&&s!=="/"?null:e.slice(a)||"/"}function uye(e,n){n===void 0&&(n="/");let{pathname:a,search:s="",hash:f=""}=typeof e=="string"?Jc(e):e;return{pathname:a?a.startsWith("/")?a:lye(a,n):n,search:dye(s),hash:fye(f)}}function lye(e,n){let a=n.replace(/\/+$/,"").split("/");return e.split("/").forEach(f=>{f===".."?a.length>1&&a.pop():f!=="."&&a.push(f)}),a.length>1?a.join("/"):"/"}function Rx(e,n,a,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vz(e){return e.filter((n,a)=>a===0||n.route.path&&n.route.path.length>0)}function WD(e,n){let a=vz(e);return n?a.map((s,f)=>f===a.length-1?s.pathname:s.pathnameBase):a.map(s=>s.pathnameBase)}function jD(e,n,a,s){s===void 0&&(s=!1);let f;typeof e=="string"?f=Jc(e):(f=Bn({},e),Br(!f.pathname||!f.pathname.includes("?"),Rx("?","pathname","search",f)),Br(!f.pathname||!f.pathname.includes("#"),Rx("#","pathname","hash",f)),Br(!f.search||!f.search.includes("#"),Rx("#","search","hash",f)));let h=e===""||f.pathname==="",_=h?"/":f.pathname,y;if(_==null)y=a;else{let A=n.length-1;if(!s&&_.startsWith("..")){let P=_.split("/");for(;P[0]==="..";)P.shift(),A-=1;f.pathname=P.join("/")}y=A>=0?n[A]:"/"}let T=uye(f,y),I=_&&_!=="/"&&_.endsWith("/"),x=(h||_===".")&&a.endsWith("/");return!T.pathname.endsWith("/")&&(I||x)&&(T.pathname+="/"),T}const Wc=e=>e.join("/").replace(/\/\/+/g,"/"),cye=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),dye=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,fye=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class TS{constructor(n,a,s,f){f===void 0&&(f=!1),this.status=n,this.statusText=a||"",this.internal=f,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}}function sv(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const yz=["post","put","patch","delete"],hye=new Set(yz),pye=["get",...yz],mye=new Set(pye),gye=new Set([301,302,303,307,308]),vye=new Set([307,308]),kx={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},yye={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},hg={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},BD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_ye=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),_z="remix-router-transitions";function Sye(e){const n=e.window?e.window:typeof window<"u"?window:void 0,a=typeof n<"u"&&typeof n.document<"u"&&typeof n.document.createElement<"u",s=!a;Br(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let f;if(e.mapRouteProperties)f=e.mapRouteProperties;else if(e.detectErrorBoundary){let Ae=e.detectErrorBoundary;f=Re=>({hasErrorBoundary:Ae(Re)})}else f=_ye;let h={},_=CS(e.routes,f,void 0,h),y,T=e.basename||"/",I=e.dataStrategy||Iye,x=e.patchRoutesOnNavigation,A=Bn({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),P=null,R=new Set,E=null,O=null,L=null,k=e.hydrationData!=null,N=Nd(_,e.history.location,T),W=!1,G=null;if(N==null&&!x){let Ae=fa(404,{pathname:e.history.location.pathname}),{matches:Re,route:Ve}=mV(_);N=Re,G={[Ve.id]:Ae}}N&&!e.hydrationData&&xr(N,_,e.history.location.pathname).active&&(N=null);let le;if(N)if(N.some(Ae=>Ae.route.lazy))le=!1;else if(!N.some(Ae=>Ae.route.loader))le=!0;else if(A.v7_partialHydration){let Ae=e.hydrationData?e.hydrationData.loaderData:null,Re=e.hydrationData?e.hydrationData.errors:null;if(Re){let Ve=N.findIndex(Xe=>Re[Xe.route.id]!==void 0);le=N.slice(0,Ve+1).every(Xe=>!l1(Xe.route,Ae,Re))}else le=N.every(Ve=>!l1(Ve.route,Ae,Re))}else le=e.hydrationData!=null;else if(le=!1,N=[],A.v7_partialHydration){let Ae=xr(null,_,e.history.location.pathname);Ae.active&&Ae.matches&&(W=!0,N=Ae.matches)}let $,H={historyAction:e.history.action,location:e.history.location,matches:N,initialized:le,navigation:kx,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||G,fetchers:new Map,blockers:new Map},ie=Di.Pop,pe=!1,se,ce=!1,me=new Map,we=null,ge=!1,Ee=!1,_e=[],Ue=new Set,xe=new Map,Te=0,Be=-1,ot=new Map,tt=new Set,vt=new Map,bt=new Map,Se=new Set,ye=new Map,Ie=new Map,qe;function ut(){if(P=e.history.listen(Ae=>{let{action:Re,location:Ve,delta:Xe}=Ae;if(qe){qe(),qe=void 0;return}gp(Ie.size===0||Xe!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let wt=on({currentLocation:H.location,nextLocation:Ve,historyAction:Re});if(wt&&Xe!=null){let Xt=new Promise(tr=>{qe=tr});e.history.go(Xe*-1),Lr(wt,{state:"blocked",location:Ve,proceed(){Lr(wt,{state:"proceeding",proceed:void 0,reset:void 0,location:Ve}),Xt.then(()=>e.history.go(Xe))},reset(){let tr=new Map(H.blockers);tr.set(wt,hg),zt({blockers:tr})}});return}return jt(Re,Ve)}),a){Wye(n,me);let Ae=()=>jye(n,me);n.addEventListener("pagehide",Ae),we=()=>n.removeEventListener("pagehide",Ae)}return H.initialized||jt(Di.Pop,H.location,{initialHydration:!0}),$}function lt(){P&&P(),we&&we(),R.clear(),se&&se.abort(),H.fetchers.forEach((Ae,Re)=>ke(Re)),H.blockers.forEach((Ae,Re)=>qt(Re))}function Vt(Ae){return R.add(Ae),()=>R.delete(Ae)}function zt(Ae,Re){Re===void 0&&(Re={}),H=Bn({},H,Ae);let Ve=[],Xe=[];A.v7_fetcherPersist&&H.fetchers.forEach((wt,Xt)=>{wt.state==="idle"&&(Se.has(Xt)?Xe.push(Xt):Ve.push(Xt))}),Se.forEach(wt=>{!H.fetchers.has(wt)&&!xe.has(wt)&&Xe.push(wt)}),[...R].forEach(wt=>wt(H,{deletedFetchers:Xe,viewTransitionOpts:Re.viewTransitionOpts,flushSync:Re.flushSync===!0})),A.v7_fetcherPersist?(Ve.forEach(wt=>H.fetchers.delete(wt)),Xe.forEach(wt=>ke(wt))):Xe.forEach(wt=>Se.delete(wt))}function ur(Ae,Re,Ve){var Xe,wt;let{flushSync:Xt}=Ve===void 0?{}:Ve,tr=H.actionData!=null&&H.navigation.formMethod!=null&&Hs(H.navigation.formMethod)&&H.navigation.state==="loading"&&((Xe=Ae.state)==null?void 0:Xe._isRedirect)!==!0,Mt;Re.actionData?Object.keys(Re.actionData).length>0?Mt=Re.actionData:Mt=null:tr?Mt=H.actionData:Mt=null;let Ht=Re.loaderData?hV(H.loaderData,Re.loaderData,Re.matches||[],Re.errors):H.loaderData,Pt=H.blockers;Pt.size>0&&(Pt=new Map(Pt),Pt.forEach((Ar,kn)=>Pt.set(kn,hg)));let Bt=pe===!0||H.navigation.formMethod!=null&&Hs(H.navigation.formMethod)&&((wt=Ae.state)==null?void 0:wt._isRedirect)!==!0;y&&(_=y,y=void 0),ge||ie===Di.Pop||(ie===Di.Push?e.history.push(Ae,Ae.state):ie===Di.Replace&&e.history.replace(Ae,Ae.state));let hr;if(ie===Di.Pop){let Ar=me.get(H.location.pathname);Ar&&Ar.has(Ae.pathname)?hr={currentLocation:H.location,nextLocation:Ae}:me.has(Ae.pathname)&&(hr={currentLocation:Ae,nextLocation:H.location})}else if(ce){let Ar=me.get(H.location.pathname);Ar?Ar.add(Ae.pathname):(Ar=new Set([Ae.pathname]),me.set(H.location.pathname,Ar)),hr={currentLocation:H.location,nextLocation:Ae}}zt(Bn({},Re,{actionData:Mt,loaderData:Ht,historyAction:ie,location:Ae,initialized:!0,navigation:kx,revalidation:"idle",restoreScrollPosition:Wr(Ae,Re.matches||H.matches),preventScrollReset:Bt,blockers:Pt}),{viewTransitionOpts:hr,flushSync:Xt===!0}),ie=Di.Pop,pe=!1,ce=!1,ge=!1,Ee=!1,_e=[]}async function at(Ae,Re){if(typeof Ae=="number"){e.history.go(Ae);return}let Ve=u1(H.location,H.matches,T,A.v7_prependBasename,Ae,A.v7_relativeSplatPath,Re==null?void 0:Re.fromRouteId,Re==null?void 0:Re.relative),{path:Xe,submission:wt,error:Xt}=oV(A.v7_normalizeFormMethod,!1,Ve,Re),tr=H.location,Mt=av(H.location,Xe,Re&&Re.state);Mt=Bn({},Mt,e.history.encodeLocation(Mt));let Ht=Re&&Re.replace!=null?Re.replace:void 0,Pt=Di.Push;Ht===!0?Pt=Di.Replace:Ht===!1||wt!=null&&Hs(wt.formMethod)&&wt.formAction===H.location.pathname+H.location.search&&(Pt=Di.Replace);let Bt=Re&&"preventScrollReset"in Re?Re.preventScrollReset===!0:void 0,hr=(Re&&Re.flushSync)===!0,Ar=on({currentLocation:tr,nextLocation:Mt,historyAction:Pt});if(Ar){Lr(Ar,{state:"blocked",location:Mt,proceed(){Lr(Ar,{state:"proceeding",proceed:void 0,reset:void 0,location:Mt}),at(Ae,Re)},reset(){let kn=new Map(H.blockers);kn.set(Ar,hg),zt({blockers:kn})}});return}return await jt(Pt,Mt,{submission:wt,pendingError:Xt,preventScrollReset:Bt,replace:Re&&Re.replace,enableViewTransition:Re&&Re.viewTransition,flushSync:hr})}function Nt(){if(Gt(),zt({revalidation:"loading"}),H.navigation.state!=="submitting"){if(H.navigation.state==="idle"){jt(H.historyAction,H.location,{startUninterruptedRevalidation:!0});return}jt(ie||H.historyAction,H.navigation.location,{overrideNavigation:H.navigation,enableViewTransition:ce===!0})}}async function jt(Ae,Re,Ve){se&&se.abort(),se=null,ie=Ae,ge=(Ve&&Ve.startUninterruptedRevalidation)===!0,$t(H.location,H.matches),pe=(Ve&&Ve.preventScrollReset)===!0,ce=(Ve&&Ve.enableViewTransition)===!0;let Xe=y||_,wt=Ve&&Ve.overrideNavigation,Xt=Ve!=null&&Ve.initialHydration&&H.matches&&H.matches.length>0&&!W?H.matches:Nd(Xe,Re,T),tr=(Ve&&Ve.flushSync)===!0;if(Xt&&H.initialized&&!Ee&&Pye(H.location,Re)&&!(Ve&&Ve.submission&&Hs(Ve.submission.formMethod))){ur(Re,{matches:Xt},{flushSync:tr});return}let Mt=xr(Xt,Xe,Re.pathname);if(Mt.active&&Mt.matches&&(Xt=Mt.matches),!Xt){let{error:Jr,notFoundMatches:Vr,route:mn}=Gn(Re.pathname);ur(Re,{matches:Vr,loaderData:{},errors:{[mn.id]:Jr}},{flushSync:tr});return}se=new AbortController;let Ht=Ch(e.history,Re,se.signal,Ve&&Ve.submission),Pt;if(Ve&&Ve.pendingError)Pt=[Fd(Xt).route.id,{type:cn.error,error:Ve.pendingError}];else if(Ve&&Ve.submission&&Hs(Ve.submission.formMethod)){let Jr=await or(Ht,Re,Ve.submission,Xt,Mt.active,{replace:Ve.replace,flushSync:tr});if(Jr.shortCircuited)return;if(Jr.pendingActionResult){let[Vr,mn]=Jr.pendingActionResult;if(Fa(mn)&&sv(mn.error)&&mn.error.status===404){se=null,ur(Re,{matches:Jr.matches,loaderData:{},errors:{[Vr]:mn.error}});return}}Xt=Jr.matches||Xt,Pt=Jr.pendingActionResult,wt=Nx(Re,Ve.submission),tr=!1,Mt.active=!1,Ht=Ch(e.history,Ht.url,Ht.signal)}let{shortCircuited:Bt,matches:hr,loaderData:Ar,errors:kn}=await fn(Ht,Re,Xt,Mt.active,wt,Ve&&Ve.submission,Ve&&Ve.fetcherSubmission,Ve&&Ve.replace,Ve&&Ve.initialHydration===!0,tr,Pt);Bt||(se=null,ur(Re,Bn({matches:hr||Xt},pV(Pt),{loaderData:Ar,errors:kn})))}async function or(Ae,Re,Ve,Xe,wt,Xt){Xt===void 0&&(Xt={}),Gt();let tr=Mye(Re,Ve);if(zt({navigation:tr},{flushSync:Xt.flushSync===!0}),wt){let Pt=await hn(Xe,Re.pathname,Ae.signal);if(Pt.type==="aborted")return{shortCircuited:!0};if(Pt.type==="error"){let Bt=Fd(Pt.partialMatches).route.id;return{matches:Pt.partialMatches,pendingActionResult:[Bt,{type:cn.error,error:Pt.error}]}}else if(Pt.matches)Xe=Pt.matches;else{let{notFoundMatches:Bt,error:hr,route:Ar}=Gn(Re.pathname);return{matches:Bt,pendingActionResult:[Ar.id,{type:cn.error,error:hr}]}}}let Mt,Ht=Tg(Xe,Re);if(!Ht.route.action&&!Ht.route.lazy)Mt={type:cn.error,error:fa(405,{method:Ae.method,pathname:Re.pathname,routeId:Ht.route.id})};else if(Mt=(await Et("action",H,Ae,[Ht],Xe,null))[Ht.route.id],Ae.signal.aborted)return{shortCircuited:!0};if(jd(Mt)){let Pt;return Xt&&Xt.replace!=null?Pt=Xt.replace:Pt=cV(Mt.response.headers.get("Location"),new URL(Ae.url),T)===H.location.pathname+H.location.search,await it(Ae,Mt,!0,{submission:Ve,replace:Pt}),{shortCircuited:!0}}if(xc(Mt))throw fa(400,{type:"defer-action"});if(Fa(Mt)){let Pt=Fd(Xe,Ht.route.id);return(Xt&&Xt.replace)!==!0&&(ie=Di.Push),{matches:Xe,pendingActionResult:[Pt.route.id,Mt]}}return{matches:Xe,pendingActionResult:[Ht.route.id,Mt]}}async function fn(Ae,Re,Ve,Xe,wt,Xt,tr,Mt,Ht,Pt,Bt){let hr=wt||Nx(Re,Xt),Ar=Xt||tr||vV(hr),kn=!ge&&(!A.v7_partialHydration||!Ht);if(Xe){if(kn){let pn=Yr(Bt);zt(Bn({navigation:hr},pn!==void 0?{actionData:pn}:{}),{flushSync:Pt})}let Rr=await hn(Ve,Re.pathname,Ae.signal);if(Rr.type==="aborted")return{shortCircuited:!0};if(Rr.type==="error"){let pn=Fd(Rr.partialMatches).route.id;return{matches:Rr.partialMatches,loaderData:{},errors:{[pn]:Rr.error}}}else if(Rr.matches)Ve=Rr.matches;else{let{error:pn,notFoundMatches:eu,route:vs}=Gn(Re.pathname);return{matches:eu,loaderData:{},errors:{[vs.id]:pn}}}}let Jr=y||_,[Vr,mn]=sV(e.history,H,Ve,Ar,Re,A.v7_partialHydration&&Ht===!0,A.v7_skipActionErrorRevalidation,Ee,_e,Ue,Se,vt,tt,Jr,T,Bt);if(ni(Rr=>!(Ve&&Ve.some(pn=>pn.route.id===Rr))||Vr&&Vr.some(pn=>pn.route.id===Rr)),Be=++Te,Vr.length===0&&mn.length===0){let Rr=yt();return ur(Re,Bn({matches:Ve,loaderData:{},errors:Bt&&Fa(Bt[1])?{[Bt[0]]:Bt[1].error}:null},pV(Bt),Rr?{fetchers:new Map(H.fetchers)}:{}),{flushSync:Pt}),{shortCircuited:!0}}if(kn){let Rr={};if(!Xe){Rr.navigation=hr;let pn=Yr(Bt);pn!==void 0&&(Rr.actionData=pn)}mn.length>0&&(Rr.fetchers=rn(mn)),zt(Rr,{flushSync:Pt})}mn.forEach(Rr=>{Ze(Rr.key),Rr.controller&&xe.set(Rr.key,Rr.controller)});let ms=()=>mn.forEach(Rr=>Ze(Rr.key));se&&se.signal.addEventListener("abort",ms);let{loaderResults:Jo,fetcherResults:ho}=await At(H,Ve,Vr,mn,Ae);if(Ae.signal.aborted)return{shortCircuited:!0};se&&se.signal.removeEventListener("abort",ms),mn.forEach(Rr=>xe.delete(Rr.key));let qo=S0(Jo);if(qo)return await it(Ae,qo.result,!0,{replace:Mt}),{shortCircuited:!0};if(qo=S0(ho),qo)return tt.add(qo.key),await it(Ae,qo.result,!0,{replace:Mt}),{shortCircuited:!0};let{loaderData:bl,errors:Xo}=fV(H,Ve,Jo,Bt,mn,ho,ye);ye.forEach((Rr,pn)=>{Rr.subscribe(eu=>{(eu||Rr.done)&&ye.delete(pn)})}),A.v7_partialHydration&&Ht&&H.errors&&(Xo=Bn({},H.errors,Xo));let gs=yt(),Cl=Jt(Be),$s=gs||Cl||mn.length>0;return Bn({matches:Ve,loaderData:bl,errors:Xo},$s?{fetchers:new Map(H.fetchers)}:{})}function Yr(Ae){if(Ae&&!Fa(Ae[1]))return{[Ae[0]]:Ae[1].data};if(H.actionData)return Object.keys(H.actionData).length===0?null:H.actionData}function rn(Ae){return Ae.forEach(Re=>{let Ve=H.fetchers.get(Re.key),Xe=pg(void 0,Ve?Ve.data:void 0);H.fetchers.set(Re.key,Xe)}),new Map(H.fetchers)}function nn(Ae,Re,Ve,Xe){if(s)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Ze(Ae);let wt=(Xe&&Xe.flushSync)===!0,Xt=y||_,tr=u1(H.location,H.matches,T,A.v7_prependBasename,Ve,A.v7_relativeSplatPath,Re,Xe==null?void 0:Xe.relative),Mt=Nd(Xt,tr,T),Ht=xr(Mt,Xt,tr);if(Ht.active&&Ht.matches&&(Mt=Ht.matches),!Mt){he(Ae,Re,fa(404,{pathname:tr}),{flushSync:wt});return}let{path:Pt,submission:Bt,error:hr}=oV(A.v7_normalizeFormMethod,!0,tr,Xe);if(hr){he(Ae,Re,hr,{flushSync:wt});return}let Ar=Tg(Mt,Pt),kn=(Xe&&Xe.preventScrollReset)===!0;if(Bt&&Hs(Bt.formMethod)){et(Ae,Re,Pt,Ar,Mt,Ht.active,wt,kn,Bt);return}vt.set(Ae,{routeId:Re,path:Pt}),_r(Ae,Re,Pt,Ar,Mt,Ht.active,wt,kn,Bt)}async function et(Ae,Re,Ve,Xe,wt,Xt,tr,Mt,Ht){Gt(),vt.delete(Ae);function Pt(Nn){if(!Nn.route.action&&!Nn.route.lazy){let tu=fa(405,{method:Ht.formMethod,pathname:Ve,routeId:Re});return he(Ae,Re,tu,{flushSync:tr}),!0}return!1}if(!Xt&&Pt(Xe))return;let Bt=H.fetchers.get(Ae);xt(Ae,Lye(Ht,Bt),{flushSync:tr});let hr=new AbortController,Ar=Ch(e.history,Ve,hr.signal,Ht);if(Xt){let Nn=await hn(wt,new URL(Ar.url).pathname,Ar.signal,Ae);if(Nn.type==="aborted")return;if(Nn.type==="error"){he(Ae,Re,Nn.error,{flushSync:tr});return}else if(Nn.matches){if(wt=Nn.matches,Xe=Tg(wt,Ve),Pt(Xe))return}else{he(Ae,Re,fa(404,{pathname:Ve}),{flushSync:tr});return}}xe.set(Ae,hr);let kn=Te,Vr=(await Et("action",H,Ar,[Xe],wt,Ae))[Xe.route.id];if(Ar.signal.aborted){xe.get(Ae)===hr&&xe.delete(Ae);return}if(A.v7_fetcherPersist&&Se.has(Ae)){if(jd(Vr)||Fa(Vr)){xt(Ae,lc(void 0));return}}else{if(jd(Vr))if(xe.delete(Ae),Be>kn){xt(Ae,lc(void 0));return}else return tt.add(Ae),xt(Ae,pg(Ht)),it(Ar,Vr,!1,{fetcherSubmission:Ht,preventScrollReset:Mt});if(Fa(Vr)){he(Ae,Re,Vr.error);return}}if(xc(Vr))throw fa(400,{type:"defer-action"});let mn=H.navigation.location||H.location,ms=Ch(e.history,mn,hr.signal),Jo=y||_,ho=H.navigation.state!=="idle"?Nd(Jo,H.navigation.location,T):H.matches;Br(ho,"Didn't find any matches after fetcher action");let qo=++Te;ot.set(Ae,qo);let bl=pg(Ht,Vr.data);H.fetchers.set(Ae,bl);let[Xo,gs]=sV(e.history,H,ho,Ht,mn,!1,A.v7_skipActionErrorRevalidation,Ee,_e,Ue,Se,vt,tt,Jo,T,[Xe.route.id,Vr]);gs.filter(Nn=>Nn.key!==Ae).forEach(Nn=>{let tu=Nn.key,Xc=H.fetchers.get(tu),Ap=pg(void 0,Xc?Xc.data:void 0);H.fetchers.set(tu,Ap),Ze(tu),Nn.controller&&xe.set(tu,Nn.controller)}),zt({fetchers:new Map(H.fetchers)});let Cl=()=>gs.forEach(Nn=>Ze(Nn.key));hr.signal.addEventListener("abort",Cl);let{loaderResults:$s,fetcherResults:Rr}=await At(H,ho,Xo,gs,ms);if(hr.signal.aborted)return;hr.signal.removeEventListener("abort",Cl),ot.delete(Ae),xe.delete(Ae),gs.forEach(Nn=>xe.delete(Nn.key));let pn=S0($s);if(pn)return it(ms,pn.result,!1,{preventScrollReset:Mt});if(pn=S0(Rr),pn)return tt.add(pn.key),it(ms,pn.result,!1,{preventScrollReset:Mt});let{loaderData:eu,errors:vs}=fV(H,ho,$s,void 0,gs,Rr,ye);if(H.fetchers.has(Ae)){let Nn=lc(Vr.data);H.fetchers.set(Ae,Nn)}Jt(qo),H.navigation.state==="loading"&&qo>Be?(Br(ie,"Expected pending action"),se&&se.abort(),ur(H.navigation.location,{matches:ho,loaderData:eu,errors:vs,fetchers:new Map(H.fetchers)})):(zt({errors:vs,loaderData:hV(H.loaderData,eu,ho,vs),fetchers:new Map(H.fetchers)}),Ee=!1)}async function _r(Ae,Re,Ve,Xe,wt,Xt,tr,Mt,Ht){let Pt=H.fetchers.get(Ae);xt(Ae,pg(Ht,Pt?Pt.data:void 0),{flushSync:tr});let Bt=new AbortController,hr=Ch(e.history,Ve,Bt.signal);if(Xt){let Vr=await hn(wt,new URL(hr.url).pathname,hr.signal,Ae);if(Vr.type==="aborted")return;if(Vr.type==="error"){he(Ae,Re,Vr.error,{flushSync:tr});return}else if(Vr.matches)wt=Vr.matches,Xe=Tg(wt,Ve);else{he(Ae,Re,fa(404,{pathname:Ve}),{flushSync:tr});return}}xe.set(Ae,Bt);let Ar=Te,Jr=(await Et("loader",H,hr,[Xe],wt,Ae))[Xe.route.id];if(xc(Jr)&&(Jr=await UD(Jr,hr.signal,!0)||Jr),xe.get(Ae)===Bt&&xe.delete(Ae),!hr.signal.aborted){if(Se.has(Ae)){xt(Ae,lc(void 0));return}if(jd(Jr))if(Be>Ar){xt(Ae,lc(void 0));return}else{tt.add(Ae),await it(hr,Jr,!1,{preventScrollReset:Mt});return}if(Fa(Jr)){he(Ae,Re,Jr.error);return}Br(!xc(Jr),"Unhandled fetcher deferred data"),xt(Ae,lc(Jr.data))}}async function it(Ae,Re,Ve,Xe){let{submission:wt,fetcherSubmission:Xt,preventScrollReset:tr,replace:Mt}=Xe===void 0?{}:Xe;Re.response.headers.has("X-Remix-Revalidate")&&(Ee=!0);let Ht=Re.response.headers.get("Location");Br(Ht,"Expected a Location header on the redirect Response"),Ht=cV(Ht,new URL(Ae.url),T);let Pt=av(H.location,Ht,{_isRedirect:!0});if(a){let Vr=!1;if(Re.response.headers.has("X-Remix-Reload-Document"))Vr=!0;else if(BD.test(Ht)){const mn=e.history.createURL(Ht);Vr=mn.origin!==n.location.origin||Ev(mn.pathname,T)==null}if(Vr){Mt?n.location.replace(Ht):n.location.assign(Ht);return}}se=null;let Bt=Mt===!0||Re.response.headers.has("X-Remix-Replace")?Di.Replace:Di.Push,{formMethod:hr,formAction:Ar,formEncType:kn}=H.navigation;!wt&&!Xt&&hr&&Ar&&kn&&(wt=vV(H.navigation));let Jr=wt||Xt;if(vye.has(Re.response.status)&&Jr&&Hs(Jr.formMethod))await jt(Bt,Pt,{submission:Bn({},Jr,{formAction:Ht}),preventScrollReset:tr||pe,enableViewTransition:Ve?ce:void 0});else{let Vr=Nx(Pt,wt);await jt(Bt,Pt,{overrideNavigation:Vr,fetcherSubmission:Xt,preventScrollReset:tr||pe,enableViewTransition:Ve?ce:void 0})}}async function Et(Ae,Re,Ve,Xe,wt,Xt){let tr,Mt={};try{tr=await wye(I,Ae,Re,Ve,Xe,wt,Xt,h,f)}catch(Ht){return Xe.forEach(Pt=>{Mt[Pt.route.id]={type:cn.error,error:Ht}}),Mt}for(let[Ht,Pt]of Object.entries(tr))if(Rye(Pt)){let Bt=Pt.result;Mt[Ht]={type:cn.redirect,response:Aye(Bt,Ve,Ht,wt,T,A.v7_relativeSplatPath)}}else Mt[Ht]=await xye(Pt);return Mt}async function At(Ae,Re,Ve,Xe,wt){let Xt=Ae.matches,tr=Et("loader",Ae,wt,Ve,Re,null),Mt=Promise.all(Xe.map(async Bt=>{if(Bt.matches&&Bt.match&&Bt.controller){let Ar=(await Et("loader",Ae,Ch(e.history,Bt.path,Bt.controller.signal),[Bt.match],Bt.matches,Bt.key))[Bt.match.route.id];return{[Bt.key]:Ar}}else return Promise.resolve({[Bt.key]:{type:cn.error,error:fa(404,{pathname:Bt.path})}})})),Ht=await tr,Pt=(await Mt).reduce((Bt,hr)=>Object.assign(Bt,hr),{});return await Promise.all([Fye(Re,Ht,wt.signal,Xt,Ae.loaderData),Oye(Re,Pt,Xe)]),{loaderResults:Ht,fetcherResults:Pt}}function Gt(){Ee=!0,_e.push(...ni()),vt.forEach((Ae,Re)=>{xe.has(Re)&&Ue.add(Re),Ze(Re)})}function xt(Ae,Re,Ve){Ve===void 0&&(Ve={}),H.fetchers.set(Ae,Re),zt({fetchers:new Map(H.fetchers)},{flushSync:(Ve&&Ve.flushSync)===!0})}function he(Ae,Re,Ve,Xe){Xe===void 0&&(Xe={});let wt=Fd(H.matches,Re);ke(Ae),zt({errors:{[wt.route.id]:Ve},fetchers:new Map(H.fetchers)},{flushSync:(Xe&&Xe.flushSync)===!0})}function ar(Ae){return bt.set(Ae,(bt.get(Ae)||0)+1),Se.has(Ae)&&Se.delete(Ae),H.fetchers.get(Ae)||yye}function ke(Ae){let Re=H.fetchers.get(Ae);xe.has(Ae)&&!(Re&&Re.state==="loading"&&ot.has(Ae))&&Ze(Ae),vt.delete(Ae),ot.delete(Ae),tt.delete(Ae),A.v7_fetcherPersist&&Se.delete(Ae),Ue.delete(Ae),H.fetchers.delete(Ae)}function Le(Ae){let Re=(bt.get(Ae)||0)-1;Re<=0?(bt.delete(Ae),Se.add(Ae),A.v7_fetcherPersist||ke(Ae)):bt.set(Ae,Re),zt({fetchers:new Map(H.fetchers)})}function Ze(Ae){let Re=xe.get(Ae);Re&&(Re.abort(),xe.delete(Ae))}function rt(Ae){for(let Re of Ae){let Ve=ar(Re),Xe=lc(Ve.data);H.fetchers.set(Re,Xe)}}function yt(){let Ae=[],Re=!1;for(let Ve of tt){let Xe=H.fetchers.get(Ve);Br(Xe,"Expected fetcher: "+Ve),Xe.state==="loading"&&(tt.delete(Ve),Ae.push(Ve),Re=!0)}return rt(Ae),Re}function Jt(Ae){let Re=[];for(let[Ve,Xe]of ot)if(Xe<Ae){let wt=H.fetchers.get(Ve);Br(wt,"Expected fetcher: "+Ve),wt.state==="loading"&&(Ze(Ve),ot.delete(Ve),Re.push(Ve))}return rt(Re),Re.length>0}function fr(Ae,Re){let Ve=H.blockers.get(Ae)||hg;return Ie.get(Ae)!==Re&&Ie.set(Ae,Re),Ve}function qt(Ae){H.blockers.delete(Ae),Ie.delete(Ae)}function Lr(Ae,Re){let Ve=H.blockers.get(Ae)||hg;Br(Ve.state==="unblocked"&&Re.state==="blocked"||Ve.state==="blocked"&&Re.state==="blocked"||Ve.state==="blocked"&&Re.state==="proceeding"||Ve.state==="blocked"&&Re.state==="unblocked"||Ve.state==="proceeding"&&Re.state==="unblocked","Invalid blocker state transition: "+Ve.state+" -> "+Re.state);let Xe=new Map(H.blockers);Xe.set(Ae,Re),zt({blockers:Xe})}function on(Ae){let{currentLocation:Re,nextLocation:Ve,historyAction:Xe}=Ae;if(Ie.size===0)return;Ie.size>1&&gp(!1,"A router only supports one blocker at a time");let wt=Array.from(Ie.entries()),[Xt,tr]=wt[wt.length-1],Mt=H.blockers.get(Xt);if(!(Mt&&Mt.state==="proceeding")&&tr({currentLocation:Re,nextLocation:Ve,historyAction:Xe}))return Xt}function Gn(Ae){let Re=fa(404,{pathname:Ae}),Ve=y||_,{matches:Xe,route:wt}=mV(Ve);return ni(),{notFoundMatches:Xe,route:wt,error:Re}}function ni(Ae){let Re=[];return ye.forEach((Ve,Xe)=>{(!Ae||Ae(Xe))&&(Ve.cancel(),Re.push(Xe),ye.delete(Xe))}),Re}function Hi(Ae,Re,Ve){if(E=Ae,L=Re,O=Ve||null,!k&&H.navigation===kx){k=!0;let Xe=Wr(H.location,H.matches);Xe!=null&&zt({restoreScrollPosition:Xe})}return()=>{E=null,L=null,O=null}}function Ao(Ae,Re){return O&&O(Ae,Re.map(Xe=>Jve(Xe,H.loaderData)))||Ae.key}function $t(Ae,Re){if(E&&L){let Ve=Ao(Ae,Re);E[Ve]=L()}}function Wr(Ae,Re){if(E){let Ve=Ao(Ae,Re),Xe=E[Ve];if(typeof Xe=="number")return Xe}return null}function xr(Ae,Re,Ve){if(x)if(Ae){if(Object.keys(Ae[0].params).length>0)return{active:!0,matches:V0(Re,Ve,T,!0)}}else return{active:!0,matches:V0(Re,Ve,T,!0)||[]};return{active:!1,matches:null}}async function hn(Ae,Re,Ve,Xe){if(!x)return{type:"success",matches:Ae};let wt=Ae;for(;;){let Xt=y==null,tr=y||_,Mt=h;try{await x({signal:Ve,path:Re,matches:wt,fetcherKey:Xe,patch:(Bt,hr)=>{Ve.aborted||lV(Bt,hr,tr,Mt,f)}})}catch(Bt){return{type:"error",error:Bt,partialMatches:wt}}finally{Xt&&!Ve.aborted&&(_=[..._])}if(Ve.aborted)return{type:"aborted"};let Ht=Nd(tr,Re,T);if(Ht)return{type:"success",matches:Ht};let Pt=V0(tr,Re,T,!0);if(!Pt||wt.length===Pt.length&&wt.every((Bt,hr)=>Bt.route.id===Pt[hr].route.id))return{type:"success",matches:null};wt=Pt}}function mi(Ae){h={},y=CS(Ae,f,void 0,h)}function no(Ae,Re){let Ve=y==null;lV(Ae,Re,y||_,h,f),Ve&&(_=[..._],zt({}))}return $={get basename(){return T},get future(){return A},get state(){return H},get routes(){return _},get window(){return n},initialize:ut,subscribe:Vt,enableScrollRestoration:Hi,navigate:at,fetch:nn,revalidate:Nt,createHref:Ae=>e.history.createHref(Ae),encodeLocation:Ae=>e.history.encodeLocation(Ae),getFetcher:ar,deleteFetcher:Le,dispose:lt,getBlocker:fr,deleteBlocker:qt,patchRoutes:no,_internalFetchControllers:xe,_internalActiveDeferreds:ye,_internalSetRoutes:mi},$}function bye(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function u1(e,n,a,s,f,h,_,y){let T,I;if(_){T=[];for(let A of n)if(T.push(A),A.route.id===_){I=A;break}}else T=n,I=n[n.length-1];let x=jD(f||".",WD(T,h),Ev(e.pathname,a)||e.pathname,y==="path");if(f==null&&(x.search=e.search,x.hash=e.hash),(f==null||f===""||f===".")&&I){let A=VD(x.search);if(I.route.index&&!A)x.search=x.search?x.search.replace(/^\?/,"?index&"):"?index";else if(!I.route.index&&A){let P=new URLSearchParams(x.search),R=P.getAll("index");P.delete("index"),R.filter(O=>O).forEach(O=>P.append("index",O));let E=P.toString();x.search=E?"?"+E:""}}return s&&a!=="/"&&(x.pathname=x.pathname==="/"?a:Wc([a,x.pathname])),wv(x)}function oV(e,n,a,s){if(!s||!bye(s))return{path:a};if(s.formMethod&&!Nye(s.formMethod))return{path:a,error:fa(405,{method:s.formMethod})};let f=()=>({path:a,error:fa(400,{type:"invalid-body"})}),h=s.formMethod||"get",_=e?h.toUpperCase():h.toLowerCase(),y=Cz(a);if(s.body!==void 0){if(s.formEncType==="text/plain"){if(!Hs(_))return f();let P=typeof s.body=="string"?s.body:s.body instanceof FormData||s.body instanceof URLSearchParams?Array.from(s.body.entries()).reduce((R,E)=>{let[O,L]=E;return""+R+O+"="+L+`
`},""):String(s.body);return{path:a,submission:{formMethod:_,formAction:y,formEncType:s.formEncType,formData:void 0,json:void 0,text:P}}}else if(s.formEncType==="application/json"){if(!Hs(_))return f();try{let P=typeof s.body=="string"?JSON.parse(s.body):s.body;return{path:a,submission:{formMethod:_,formAction:y,formEncType:s.formEncType,formData:void 0,json:P,text:void 0}}}catch{return f()}}}Br(typeof FormData=="function","FormData is not available in this environment");let T,I;if(s.formData)T=c1(s.formData),I=s.formData;else if(s.body instanceof FormData)T=c1(s.body),I=s.body;else if(s.body instanceof URLSearchParams)T=s.body,I=dV(T);else if(s.body==null)T=new URLSearchParams,I=new FormData;else try{T=new URLSearchParams(s.body),I=dV(T)}catch{return f()}let x={formMethod:_,formAction:y,formEncType:s&&s.formEncType||"application/x-www-form-urlencoded",formData:I,json:void 0,text:void 0};if(Hs(x.formMethod))return{path:a,submission:x};let A=Jc(a);return n&&A.search&&VD(A.search)&&T.append("index",""),A.search="?"+T,{path:wv(A),submission:x}}function aV(e,n,a){a===void 0&&(a=!1);let s=e.findIndex(f=>f.route.id===n);return s>=0?e.slice(0,a?s+1:s):e}function sV(e,n,a,s,f,h,_,y,T,I,x,A,P,R,E,O){let L=O?Fa(O[1])?O[1].error:O[1].data:void 0,k=e.createURL(n.location),N=e.createURL(f),W=a;h&&n.errors?W=aV(a,Object.keys(n.errors)[0],!0):O&&Fa(O[1])&&(W=aV(a,O[0]));let G=O?O[1].statusCode:void 0,le=_&&G&&G>=400,$=W.filter((ie,pe)=>{let{route:se}=ie;if(se.lazy)return!0;if(se.loader==null)return!1;if(h)return l1(se,n.loaderData,n.errors);if(Cye(n.loaderData,n.matches[pe],ie)||T.some(we=>we===ie.route.id))return!0;let ce=n.matches[pe],me=ie;return uV(ie,Bn({currentUrl:k,currentParams:ce.params,nextUrl:N,nextParams:me.params},s,{actionResult:L,actionStatus:G,defaultShouldRevalidate:le?!1:y||k.pathname+k.search===N.pathname+N.search||k.search!==N.search||Sz(ce,me)}))}),H=[];return A.forEach((ie,pe)=>{if(h||!a.some(ge=>ge.route.id===ie.routeId)||x.has(pe))return;let se=Nd(R,ie.path,E);if(!se){H.push({key:pe,routeId:ie.routeId,path:ie.path,matches:null,match:null,controller:null});return}let ce=n.fetchers.get(pe),me=Tg(se,ie.path),we=!1;P.has(pe)?we=!1:I.has(pe)?(I.delete(pe),we=!0):ce&&ce.state!=="idle"&&ce.data===void 0?we=y:we=uV(me,Bn({currentUrl:k,currentParams:n.matches[n.matches.length-1].params,nextUrl:N,nextParams:a[a.length-1].params},s,{actionResult:L,actionStatus:G,defaultShouldRevalidate:le?!1:y})),we&&H.push({key:pe,routeId:ie.routeId,path:ie.path,matches:se,match:me,controller:new AbortController})}),[$,H]}function l1(e,n,a){if(e.lazy)return!0;if(!e.loader)return!1;let s=n!=null&&n[e.id]!==void 0,f=a!=null&&a[e.id]!==void 0;return!s&&f?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!s&&!f}function Cye(e,n,a){let s=!n||a.route.id!==n.route.id,f=e[a.route.id]===void 0;return s||f}function Sz(e,n){let a=e.route.path;return e.pathname!==n.pathname||a!=null&&a.endsWith("*")&&e.params["*"]!==n.params["*"]}function uV(e,n){if(e.route.shouldRevalidate){let a=e.route.shouldRevalidate(n);if(typeof a=="boolean")return a}return n.defaultShouldRevalidate}function lV(e,n,a,s,f){var h;let _;if(e){let I=s[e];Br(I,"No route found to patch children into: routeId = "+e),I.children||(I.children=[]),_=I.children}else _=a;let y=n.filter(I=>!_.some(x=>bz(I,x))),T=CS(y,f,[e||"_","patch",String(((h=_)==null?void 0:h.length)||"0")],s);_.push(...T)}function bz(e,n){return"id"in e&&"id"in n&&e.id===n.id?!0:e.index===n.index&&e.path===n.path&&e.caseSensitive===n.caseSensitive?(!e.children||e.children.length===0)&&(!n.children||n.children.length===0)?!0:e.children.every((a,s)=>{var f;return(f=n.children)==null?void 0:f.some(h=>bz(a,h))}):!1}async function Tye(e,n,a){if(!e.lazy)return;let s=await e.lazy();if(!e.lazy)return;let f=a[e.id];Br(f,"No route found in manifest");let h={};for(let _ in s){let T=f[_]!==void 0&&_!=="hasErrorBoundary";gp(!T,'Route "'+f.id+'" has a static property "'+_+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+_+'" will be ignored.')),!T&&!Qve.has(_)&&(h[_]=s[_])}Object.assign(f,h),Object.assign(f,Bn({},n(f),{lazy:void 0}))}async function Iye(e){let{matches:n}=e,a=n.filter(f=>f.shouldLoad);return(await Promise.all(a.map(f=>f.resolve()))).reduce((f,h,_)=>Object.assign(f,{[a[_].route.id]:h}),{})}async function wye(e,n,a,s,f,h,_,y,T,I){let x=h.map(R=>R.route.lazy?Tye(R.route,T,y):void 0),A=h.map((R,E)=>{let O=x[E],L=f.some(N=>N.route.id===R.route.id);return Bn({},R,{shouldLoad:L,resolve:async N=>(N&&s.method==="GET"&&(R.route.lazy||R.route.loader)&&(L=!0),L?Eye(n,s,R,O,N,I):Promise.resolve({type:cn.data,result:void 0}))})}),P=await e({matches:A,request:s,params:h[0].params,fetcherKey:_,context:I});try{await Promise.all(x)}catch{}return P}async function Eye(e,n,a,s,f,h){let _,y,T=I=>{let x,A=new Promise((E,O)=>x=O);y=()=>x(),n.signal.addEventListener("abort",y);let P=E=>typeof I!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+a.route.id+"]"))):I({request:n,params:a.params,context:h},...E!==void 0?[E]:[]),R=(async()=>{try{return{type:"data",result:await(f?f(O=>P(O)):P())}}catch(E){return{type:"error",result:E}}})();return Promise.race([R,A])};try{let I=a.route[e];if(s)if(I){let x,[A]=await Promise.all([T(I).catch(P=>{x=P}),s]);if(x!==void 0)throw x;_=A}else if(await s,I=a.route[e],I)_=await T(I);else if(e==="action"){let x=new URL(n.url),A=x.pathname+x.search;throw fa(405,{method:n.method,pathname:A,routeId:a.route.id})}else return{type:cn.data,result:void 0};else if(I)_=await T(I);else{let x=new URL(n.url),A=x.pathname+x.search;throw fa(404,{pathname:A})}Br(_.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+a.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(I){return{type:cn.error,result:I}}finally{y&&n.signal.removeEventListener("abort",y)}return _}async function xye(e){let{result:n,type:a}=e;if(Tz(n)){let A;try{let P=n.headers.get("Content-Type");P&&/\bapplication\/json\b/.test(P)?n.body==null?A=null:A=await n.json():A=await n.text()}catch(P){return{type:cn.error,error:P}}return a===cn.error?{type:cn.error,error:new TS(n.status,n.statusText,A),statusCode:n.status,headers:n.headers}:{type:cn.data,data:A,statusCode:n.status,headers:n.headers}}if(a===cn.error){if(gV(n)){var s,f;if(n.data instanceof Error){var h,_;return{type:cn.error,error:n.data,statusCode:(h=n.init)==null?void 0:h.status,headers:(_=n.init)!=null&&_.headers?new Headers(n.init.headers):void 0}}return{type:cn.error,error:new TS(((s=n.init)==null?void 0:s.status)||500,void 0,n.data),statusCode:sv(n)?n.status:void 0,headers:(f=n.init)!=null&&f.headers?new Headers(n.init.headers):void 0}}return{type:cn.error,error:n,statusCode:sv(n)?n.status:void 0}}if(kye(n)){var y,T;return{type:cn.deferred,deferredData:n,statusCode:(y=n.init)==null?void 0:y.status,headers:((T=n.init)==null?void 0:T.headers)&&new Headers(n.init.headers)}}if(gV(n)){var I,x;return{type:cn.data,data:n.data,statusCode:(I=n.init)==null?void 0:I.status,headers:(x=n.init)!=null&&x.headers?new Headers(n.init.headers):void 0}}return{type:cn.data,data:n}}function Aye(e,n,a,s,f,h){let _=e.headers.get("Location");if(Br(_,"Redirects returned/thrown from loaders/actions must have a Location header"),!BD.test(_)){let y=s.slice(0,s.findIndex(T=>T.route.id===a)+1);_=u1(new URL(n.url),y,f,!0,_,h),e.headers.set("Location",_)}return e}function cV(e,n,a){if(BD.test(e)){let s=e,f=s.startsWith("//")?new URL(n.protocol+s):new URL(s),h=Ev(f.pathname,a)!=null;if(f.origin===n.origin&&h)return f.pathname+f.search+f.hash}return e}function Ch(e,n,a,s){let f=e.createURL(Cz(n)).toString(),h={signal:a};if(s&&Hs(s.formMethod)){let{formMethod:_,formEncType:y}=s;h.method=_.toUpperCase(),y==="application/json"?(h.headers=new Headers({"Content-Type":y}),h.body=JSON.stringify(s.json)):y==="text/plain"?h.body=s.text:y==="application/x-www-form-urlencoded"&&s.formData?h.body=c1(s.formData):h.body=s.formData}return new Request(f,h)}function c1(e){let n=new URLSearchParams;for(let[a,s]of e.entries())n.append(a,typeof s=="string"?s:s.name);return n}function dV(e){let n=new FormData;for(let[a,s]of e.entries())n.append(a,s);return n}function Dye(e,n,a,s,f){let h={},_=null,y,T=!1,I={},x=a&&Fa(a[1])?a[1].error:void 0;return e.forEach(A=>{if(!(A.route.id in n))return;let P=A.route.id,R=n[P];if(Br(!jd(R),"Cannot handle redirect results in processLoaderData"),Fa(R)){let E=R.error;x!==void 0&&(E=x,x=void 0),_=_||{};{let O=Fd(e,P);_[O.route.id]==null&&(_[O.route.id]=E)}h[P]=void 0,T||(T=!0,y=sv(R.error)?R.error.status:500),R.headers&&(I[P]=R.headers)}else xc(R)?(s.set(P,R.deferredData),h[P]=R.deferredData.data,R.statusCode!=null&&R.statusCode!==200&&!T&&(y=R.statusCode),R.headers&&(I[P]=R.headers)):(h[P]=R.data,R.statusCode&&R.statusCode!==200&&!T&&(y=R.statusCode),R.headers&&(I[P]=R.headers))}),x!==void 0&&a&&(_={[a[0]]:x},h[a[0]]=void 0),{loaderData:h,errors:_,statusCode:y||200,loaderHeaders:I}}function fV(e,n,a,s,f,h,_){let{loaderData:y,errors:T}=Dye(n,a,s,_);return f.forEach(I=>{let{key:x,match:A,controller:P}=I,R=h[x];if(Br(R,"Did not find corresponding fetcher result"),!(P&&P.signal.aborted))if(Fa(R)){let E=Fd(e.matches,A==null?void 0:A.route.id);T&&T[E.route.id]||(T=Bn({},T,{[E.route.id]:R.error})),e.fetchers.delete(x)}else if(jd(R))Br(!1,"Unhandled fetcher revalidation redirect");else if(xc(R))Br(!1,"Unhandled fetcher deferred data");else{let E=lc(R.data);e.fetchers.set(x,E)}}),{loaderData:y,errors:T}}function hV(e,n,a,s){let f=Bn({},n);for(let h of a){let _=h.route.id;if(n.hasOwnProperty(_)?n[_]!==void 0&&(f[_]=n[_]):e[_]!==void 0&&h.route.loader&&(f[_]=e[_]),s&&s.hasOwnProperty(_))break}return f}function pV(e){return e?Fa(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Fd(e,n){return(n?e.slice(0,e.findIndex(s=>s.route.id===n)+1):[...e]).reverse().find(s=>s.route.hasErrorBoundary===!0)||e[0]}function mV(e){let n=e.length===1?e[0]:e.find(a=>a.index||!a.path||a.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:n}],route:n}}function fa(e,n){let{pathname:a,routeId:s,method:f,type:h,message:_}=n===void 0?{}:n,y="Unknown Server Error",T="Unknown @remix-run/router error";return e===400?(y="Bad Request",f&&a&&s?T="You made a "+f+' request to "'+a+'" but '+('did not provide a `loader` for route "'+s+'", ')+"so there is no way to handle the request.":h==="defer-action"?T="defer() is not supported in actions":h==="invalid-body"&&(T="Unable to encode submission body")):e===403?(y="Forbidden",T='Route "'+s+'" does not match URL "'+a+'"'):e===404?(y="Not Found",T='No route matches URL "'+a+'"'):e===405&&(y="Method Not Allowed",f&&a&&s?T="You made a "+f.toUpperCase()+' request to "'+a+'" but '+('did not provide an `action` for route "'+s+'", ')+"so there is no way to handle the request.":f&&(T='Invalid request method "'+f.toUpperCase()+'"')),new TS(e||500,y,new Error(T),!0)}function S0(e){let n=Object.entries(e);for(let a=n.length-1;a>=0;a--){let[s,f]=n[a];if(jd(f))return{key:s,result:f}}}function Cz(e){let n=typeof e=="string"?Jc(e):e;return wv(Bn({},n,{hash:""}))}function Pye(e,n){return e.pathname!==n.pathname||e.search!==n.search?!1:e.hash===""?n.hash!=="":e.hash===n.hash?!0:n.hash!==""}function Rye(e){return Tz(e.result)&&gye.has(e.result.status)}function xc(e){return e.type===cn.deferred}function Fa(e){return e.type===cn.error}function jd(e){return(e&&e.type)===cn.redirect}function gV(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function kye(e){let n=e;return n&&typeof n=="object"&&typeof n.data=="object"&&typeof n.subscribe=="function"&&typeof n.cancel=="function"&&typeof n.resolveData=="function"}function Tz(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function Nye(e){return mye.has(e.toLowerCase())}function Hs(e){return hye.has(e.toLowerCase())}async function Fye(e,n,a,s,f){let h=Object.entries(n);for(let _=0;_<h.length;_++){let[y,T]=h[_],I=e.find(P=>(P==null?void 0:P.route.id)===y);if(!I)continue;let x=s.find(P=>P.route.id===I.route.id),A=x!=null&&!Sz(x,I)&&(f&&f[I.route.id])!==void 0;xc(T)&&A&&await UD(T,a,!1).then(P=>{P&&(n[y]=P)})}}async function Oye(e,n,a){for(let s=0;s<a.length;s++){let{key:f,routeId:h,controller:_}=a[s],y=n[f];e.find(I=>(I==null?void 0:I.route.id)===h)&&xc(y)&&(Br(_,"Expected an AbortController for revalidating fetcher deferred result"),await UD(y,_.signal,!0).then(I=>{I&&(n[f]=I)}))}}async function UD(e,n,a){if(a===void 0&&(a=!1),!await e.deferredData.resolveData(n)){if(a)try{return{type:cn.data,data:e.deferredData.unwrappedData}}catch(f){return{type:cn.error,error:f}}return{type:cn.data,data:e.deferredData.data}}}function VD(e){return new URLSearchParams(e).getAll("index").some(n=>n==="")}function Tg(e,n){let a=typeof n=="string"?Jc(n).search:n.search;if(e[e.length-1].route.index&&VD(a||""))return e[e.length-1];let s=vz(e);return s[s.length-1]}function vV(e){let{formMethod:n,formAction:a,formEncType:s,text:f,formData:h,json:_}=e;if(!(!n||!a||!s)){if(f!=null)return{formMethod:n,formAction:a,formEncType:s,formData:void 0,json:void 0,text:f};if(h!=null)return{formMethod:n,formAction:a,formEncType:s,formData:h,json:void 0,text:void 0};if(_!==void 0)return{formMethod:n,formAction:a,formEncType:s,formData:void 0,json:_,text:void 0}}}function Nx(e,n){return n?{state:"loading",location:e,formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Mye(e,n){return{state:"submitting",location:e,formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text}}function pg(e,n){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:n}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function Lye(e,n){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:n?n.data:void 0}}function lc(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Wye(e,n){try{let a=e.sessionStorage.getItem(_z);if(a){let s=JSON.parse(a);for(let[f,h]of Object.entries(s||{}))h&&Array.isArray(h)&&n.set(f,new Set(h||[]))}}catch{}}function jye(e,n){if(n.size>0){let a={};for(let[s,f]of n)a[s]=[...f];try{e.sessionStorage.setItem(_z,JSON.stringify(a))}catch(s){gp(!1,"Failed to save applied view transitions in sessionStorage ("+s+").")}}}/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function IS(){return IS=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},IS.apply(this,arguments)}const cb=z.createContext(null),Iz=z.createContext(null),xv=z.createContext(null),GD=z.createContext(null),qc=z.createContext({outlet:null,matches:[],isDataRoute:!1}),wz=z.createContext(null);function Av(){return z.useContext(GD)!=null}function db(){return Av()||Br(!1),z.useContext(GD).location}function Ez(e){z.useContext(xv).static||z.useLayoutEffect(e)}function Dv(){let{isDataRoute:e}=z.useContext(qc);return e?Zye():Bye()}function Bye(){Av()||Br(!1);let e=z.useContext(cb),{basename:n,future:a,navigator:s}=z.useContext(xv),{matches:f}=z.useContext(qc),{pathname:h}=db(),_=JSON.stringify(WD(f,a.v7_relativeSplatPath)),y=z.useRef(!1);return Ez(()=>{y.current=!0}),z.useCallback(function(I,x){if(x===void 0&&(x={}),!y.current)return;if(typeof I=="number"){s.go(I);return}let A=jD(I,JSON.parse(_),h,x.relative==="path");e==null&&n!=="/"&&(A.pathname=A.pathname==="/"?n:Wc([n,A.pathname])),(x.replace?s.replace:s.push)(A,x.state,x)},[n,s,_,h,e])}function Uye(){let{matches:e}=z.useContext(qc),n=e[e.length-1];return n?n.params:{}}function Vye(e,n,a,s){Av()||Br(!1);let{navigator:f}=z.useContext(xv),{matches:h}=z.useContext(qc),_=h[h.length-1],y=_?_.params:{};_&&_.pathname;let T=_?_.pathnameBase:"/";_&&_.route;let I=db(),x;x=I;let A=x.pathname||"/",P=A;if(T!=="/"){let O=T.replace(/^\//,"").split("/");P="/"+A.replace(/^\//,"").split("/").slice(O.length).join("/")}let R=Nd(e,{pathname:P});return Qye(R&&R.map(O=>Object.assign({},O,{params:Object.assign({},y,O.params),pathname:Wc([T,f.encodeLocation?f.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?T:Wc([T,f.encodeLocation?f.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),h,a,s)}function Gye(){let e=Xye(),n=sv(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),a=e instanceof Error?e.stack:null,f={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},n),a?z.createElement("pre",{style:f},a):null,null)}const Hye=z.createElement(Gye,null);class zye extends z.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,a){return a.location!==n.location||a.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:a.error,location:a.location,revalidation:n.revalidation||a.revalidation}}componentDidCatch(n,a){console.error("React Router caught the following error during render",n,a)}render(){return this.state.error!==void 0?z.createElement(qc.Provider,{value:this.props.routeContext},z.createElement(wz.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Kye(e){let{routeContext:n,match:a,children:s}=e,f=z.useContext(cb);return f&&f.static&&f.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(f.staticContext._deepestRenderedBoundaryId=a.route.id),z.createElement(qc.Provider,{value:n},s)}function Qye(e,n,a,s){var f;if(n===void 0&&(n=[]),a===void 0&&(a=null),s===void 0&&(s=null),e==null){var h;if(!a)return null;if(a.errors)e=a.matches;else if((h=s)!=null&&h.v7_partialHydration&&n.length===0&&!a.initialized&&a.matches.length>0)e=a.matches;else return null}let _=e,y=(f=a)==null?void 0:f.errors;if(y!=null){let x=_.findIndex(A=>A.route.id&&(y==null?void 0:y[A.route.id])!==void 0);x>=0||Br(!1),_=_.slice(0,Math.min(_.length,x+1))}let T=!1,I=-1;if(a&&s&&s.v7_partialHydration)for(let x=0;x<_.length;x++){let A=_[x];if((A.route.HydrateFallback||A.route.hydrateFallbackElement)&&(I=x),A.route.id){let{loaderData:P,errors:R}=a,E=A.route.loader&&P[A.route.id]===void 0&&(!R||R[A.route.id]===void 0);if(A.route.lazy||E){T=!0,I>=0?_=_.slice(0,I+1):_=[_[0]];break}}}return _.reduceRight((x,A,P)=>{let R,E=!1,O=null,L=null;a&&(R=y&&A.route.id?y[A.route.id]:void 0,O=A.route.errorElement||Hye,T&&(I<0&&P===0?(E=!0,L=null):I===P&&(E=!0,L=A.route.hydrateFallbackElement||null)));let k=n.concat(_.slice(0,P+1)),N=()=>{let W;return R?W=O:E?W=L:A.route.Component?W=z.createElement(A.route.Component,null):A.route.element?W=A.route.element:W=x,z.createElement(Kye,{match:A,routeContext:{outlet:x,matches:k,isDataRoute:a!=null},children:W})};return a&&(A.route.ErrorBoundary||A.route.errorElement||P===0)?z.createElement(zye,{location:a.location,revalidation:a.revalidation,component:O,error:R,children:N(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):N()},null)}var xz=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(xz||{}),wS=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(wS||{});function Yye(e){let n=z.useContext(cb);return n||Br(!1),n}function Jye(e){let n=z.useContext(Iz);return n||Br(!1),n}function qye(e){let n=z.useContext(qc);return n||Br(!1),n}function Az(e){let n=qye(),a=n.matches[n.matches.length-1];return a.route.id||Br(!1),a.route.id}function Xye(){var e;let n=z.useContext(wz),a=Jye(wS.UseRouteError),s=Az(wS.UseRouteError);return n!==void 0?n:(e=a.errors)==null?void 0:e[s]}function Zye(){let{router:e}=Yye(xz.UseNavigateStable),n=Az(wS.UseNavigateStable),a=z.useRef(!1);return Ez(()=>{a.current=!0}),z.useCallback(function(f,h){h===void 0&&(h={}),a.current&&(typeof f=="number"?e.navigate(f):e.navigate(f,IS({fromRouteId:n},h)))},[e,n])}function $ye(e,n){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!n||n.v7_relativeSplatPath),n&&(n.v7_fetcherPersist,n.v7_normalizeFormMethod,n.v7_partialHydration,n.v7_skipActionErrorRevalidation)}function d1(e){let{to:n,replace:a,state:s,relative:f}=e;Av()||Br(!1);let{future:h,static:_}=z.useContext(xv),{matches:y}=z.useContext(qc),{pathname:T}=db(),I=Dv(),x=jD(n,WD(y,h.v7_relativeSplatPath),T,f==="path"),A=JSON.stringify(x);return z.useEffect(()=>I(JSON.parse(A),{replace:a,state:s,relative:f}),[I,A,f,a,s]),null}function e_e(e){let{basename:n="/",children:a=null,location:s,navigationType:f=Di.Pop,navigator:h,static:_=!1,future:y}=e;Av()&&Br(!1);let T=n.replace(/^\/*/,"/"),I=z.useMemo(()=>({basename:T,navigator:h,static:_,future:IS({v7_relativeSplatPath:!1},y)}),[T,y,h,_]);typeof s=="string"&&(s=Jc(s));let{pathname:x="/",search:A="",hash:P="",state:R=null,key:E="default"}=s,O=z.useMemo(()=>{let L=Ev(x,T);return L==null?null:{location:{pathname:L,search:A,hash:P,state:R,key:E},navigationType:f}},[T,x,A,P,R,E,f]);return O==null?null:z.createElement(xv.Provider,{value:I},z.createElement(GD.Provider,{children:a,value:O}))}new Promise(()=>{});function t_e(e){let n={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(n,{element:z.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(n,{hydrateFallbackElement:z.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(n,{errorElement:z.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ES(){return ES=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},ES.apply(this,arguments)}const r_e="6";try{window.__reactRouterVersion=r_e}catch{}function n_e(e,n){return Sye({basename:void 0,future:ES({},void 0,{v7_prependBasename:!0}),history:Hve({window:void 0}),hydrationData:i_e(),routes:e,mapRouteProperties:t_e,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function i_e(){var e;let n=(e=window)==null?void 0:e.__staticRouterHydrationData;return n&&n.errors&&(n=ES({},n,{errors:o_e(n.errors)})),n}function o_e(e){if(!e)return null;let n=Object.entries(e),a={};for(let[s,f]of n)if(f&&f.__type==="RouteErrorResponse")a[s]=new TS(f.status,f.statusText,f.data,f.internal===!0);else if(f&&f.__type==="Error"){if(f.__subType){let h=window[f.__subType];if(typeof h=="function")try{let _=new h(f.message);_.stack="",a[s]=_}catch{}}if(a[s]==null){let h=new Error(f.message);h.stack="",a[s]=h}}else a[s]=f;return a}const a_e=z.createContext({isTransitioning:!1}),s_e=z.createContext(new Map),u_e="startTransition",yV=C1[u_e],l_e="flushSync",_V=Yfe[l_e];function c_e(e){yV?yV(e):e()}function mg(e){_V?_V(e):e()}class d_e{constructor(){this.status="pending",this.promise=new Promise((n,a)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",n(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",a(s))}})}}function f_e(e){let{fallbackElement:n,router:a,future:s}=e,[f,h]=z.useState(a.state),[_,y]=z.useState(),[T,I]=z.useState({isTransitioning:!1}),[x,A]=z.useState(),[P,R]=z.useState(),[E,O]=z.useState(),L=z.useRef(new Map),{v7_startTransition:k}=s||{},N=z.useCallback(ie=>{k?c_e(ie):ie()},[k]),W=z.useCallback((ie,pe)=>{let{deletedFetchers:se,flushSync:ce,viewTransitionOpts:me}=pe;ie.fetchers.forEach((ge,Ee)=>{ge.data!==void 0&&L.current.set(Ee,ge.data)}),se.forEach(ge=>L.current.delete(ge));let we=a.window==null||a.window.document==null||typeof a.window.document.startViewTransition!="function";if(!me||we){ce?mg(()=>h(ie)):N(()=>h(ie));return}if(ce){mg(()=>{P&&(x&&x.resolve(),P.skipTransition()),I({isTransitioning:!0,flushSync:!0,currentLocation:me.currentLocation,nextLocation:me.nextLocation})});let ge=a.window.document.startViewTransition(()=>{mg(()=>h(ie))});ge.finished.finally(()=>{mg(()=>{A(void 0),R(void 0),y(void 0),I({isTransitioning:!1})})}),mg(()=>R(ge));return}P?(x&&x.resolve(),P.skipTransition(),O({state:ie,currentLocation:me.currentLocation,nextLocation:me.nextLocation})):(y(ie),I({isTransitioning:!0,flushSync:!1,currentLocation:me.currentLocation,nextLocation:me.nextLocation}))},[a.window,P,x,L,N]);z.useLayoutEffect(()=>a.subscribe(W),[a,W]),z.useEffect(()=>{T.isTransitioning&&!T.flushSync&&A(new d_e)},[T]),z.useEffect(()=>{if(x&&_&&a.window){let ie=_,pe=x.promise,se=a.window.document.startViewTransition(async()=>{N(()=>h(ie)),await pe});se.finished.finally(()=>{A(void 0),R(void 0),y(void 0),I({isTransitioning:!1})}),R(se)}},[N,_,x,a.window]),z.useEffect(()=>{x&&_&&f.location.key===_.location.key&&x.resolve()},[x,P,f.location,_]),z.useEffect(()=>{!T.isTransitioning&&E&&(y(E.state),I({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}),O(void 0))},[T.isTransitioning,E]),z.useEffect(()=>{},[]);let G=z.useMemo(()=>({createHref:a.createHref,encodeLocation:a.encodeLocation,go:ie=>a.navigate(ie),push:(ie,pe,se)=>a.navigate(ie,{state:pe,preventScrollReset:se==null?void 0:se.preventScrollReset}),replace:(ie,pe,se)=>a.navigate(ie,{replace:!0,state:pe,preventScrollReset:se==null?void 0:se.preventScrollReset})}),[a]),le=a.basename||"/",$=z.useMemo(()=>({router:a,navigator:G,static:!1,basename:le}),[a,G,le]),H=z.useMemo(()=>({v7_relativeSplatPath:a.future.v7_relativeSplatPath}),[a.future.v7_relativeSplatPath]);return z.useEffect(()=>$ye(s,a.future),[s,a.future]),z.createElement(z.Fragment,null,z.createElement(cb.Provider,{value:$},z.createElement(Iz.Provider,{value:f},z.createElement(s_e.Provider,{value:L.current},z.createElement(a_e.Provider,{value:T},z.createElement(e_e,{basename:le,location:f.location,navigationType:f.historyAction,navigator:G,future:H},f.initialized||a.future.v7_partialHydration?z.createElement(h_e,{routes:a.routes,future:a.future,state:f}):n))))),null)}const h_e=z.memo(p_e);function p_e(e){let{routes:n,future:a,state:s}=e;return Vye(n,void 0,s,a)}var SV;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(SV||(SV={}));var bV;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(bV||(bV={}));const CV=(()=>{var e;try{const n=(e=import.meta)==null?void 0:e.env;if(!!(n!=null&&n.DEV))return"";const s=(n==null?void 0:n.VITE_API_BASE_URL)||(n==null?void 0:n.VITE_API_URL)||"";return s&&String(s).trim().length>0?String(s).trim():"https://api.archi-drive.ga"}catch{return"https://api.archi-drive.ga"}})();function Dz(e){return!CV||typeof e!="string"||!e.startsWith("/")?e:new URL(e,CV)}function xS(e){const n=Dz(e);return typeof n=="string"?n:n.toString()}async function Tt(e,n={}){var A,P,R,E,O,L,k,N,W,G,le;const a=new Headers(n.headers||{}),s=typeof FormData<"u"&&n.body instanceof FormData;a.has("Accept")||a.set("Accept","application/json"),!a.has("Content-Type")&&n.body&&!s&&a.set("Content-Type","application/json");const f=(n.method||"GET").toUpperCase(),h=f!=="GET",_=((P=(A=n.toast)==null?void 0:A.success)==null?void 0:P.enabled)===!0||((R=n.toast)==null?void 0:R.always)===!0&&!h,y=((O=(E=n.toast)==null?void 0:E.error)==null?void 0:O.enabled)===!0,T=n.timeoutMs,I=T?new AbortController:void 0,x=T?setTimeout(()=>I.abort(),T):void 0;try{const $=Dz(e),H=await fetch($,{...n,headers:a,credentials:"include",signal:I==null?void 0:I.signal}),ie={GET:"Chargement russi",POST:"Cration russie",PUT:"Mise  jour russie",PATCH:"Mise  jour russie",DELETE:"Suppression russie"},pe=((k=(L=n.toast)==null?void 0:L.success)==null?void 0:k.message)||ie[f]||"Action effectue",se=((W=(N=n.toast)==null?void 0:N.error)==null?void 0:W.message)||`Erreur ${H.status}`;if(H.ok)_&&Er.info(pe);else if(y){let ce;try{if((H.headers.get("content-type")||"").includes("application/json")){const ge=await H.clone().json();ce=ge&&(ge.message||ge.error)}else ce=await H.clone().text()}catch{ce=void 0}const me=ce&&ce.trim()?ce:se;Er.error(me)}return H}catch($){const H=$ instanceof DOMException&&$.name==="AbortError";y&&Er.error(((le=(G=n.toast)==null?void 0:G.error)==null?void 0:le.message)||(H?"Dlai dpass":"Erreur rseau"));const ie=H?499:520,pe={message:H?"Dlai dpass":"Erreur rseau"};return new Response(JSON.stringify(pe),{status:ie,statusText:pe.message,headers:{"content-type":"application/json"}})}finally{x&&clearTimeout(x)}}const Pz=z.createContext(void 0),m_e=({children:e})=>{const n=Sl(),a=(()=>{try{const P=sessionStorage.getItem("auth:user");return P?JSON.parse(P):null}catch{return null}})(),[s,f]=z.useState(a),[h,_]=z.useState(!a),y=async(P,R,E)=>{const O=await Tt("/api/auth/login",{method:"POST",body:JSON.stringify({identifier:P,password:R,remember:E}),toast:{success:{message:"Connexion russie"},error:{message:"Identifiants invalides"}}});if(!O.ok)return null;const L=O.headers.get("content-type")||"";if(!L.includes("application/json"))try{const W=await O.text();throw new Error(`Rponse non-JSON reue depuis l'API (url: ${O.url||"inconnue"}, redirected: ${O.redirected?"true":"false"}, status: ${O.status}, content-type: ${L||"inconnu"}). Dbut: ${W.slice(0,200)}`)}catch{throw new Error(`Rponse non-JSON reue depuis l'API (url: ${O.url||"inconnue"}, redirected: ${O.redirected?"true":"false"}, status: ${O.status}, content-type: ${L||"inconnu"}).`)}const k=await O.json(),N=(k==null?void 0:k.user)??null;if(N){f(N);try{sessionStorage.setItem("auth:user",JSON.stringify(N))}catch{}try{n.clear()}catch{}try{const W=await Tt("/api/ui-preferences",{toast:{error:{enabled:!1}}});if(W.ok){const G=await W.json();G.ui_theme&&TV(G.ui_theme),G.ui_accent_color&&IV(G.ui_accent_color)}}catch{}return N}return null},T=async()=>{f(null);try{sessionStorage.removeItem("auth:user")}catch{}try{n.clear()}catch{}try{Tt("/api/auth/logout",{method:"POST",toast:{error:{enabled:!1},success:{enabled:!1}}})}catch{}};z.useEffect(()=>{(async()=>{try{const R=await Tt("/api/auth/me",{toast:{error:{enabled:!1}}});if(R.ok){const E=R.headers.get("content-type")||"";if(!E.includes("application/json"))try{const L=await R.text();throw new Error(`Rponse non-JSON reue depuis l'API (url: ${R.url||"inconnue"}, redirected: ${R.redirected?"true":"false"}, status: ${R.status}, content-type: ${E||"inconnu"}). Dbut: ${L.slice(0,200)}`)}catch{throw new Error(`Rponse non-JSON reue depuis l'API (url: ${R.url||"inconnue"}, redirected: ${R.redirected?"true":"false"}, status: ${R.status}, content-type: ${E||"inconnu"}).`)}const O=await R.json();f(O);try{sessionStorage.setItem("auth:user",JSON.stringify(O))}catch{}try{const L=await Tt("/api/ui-preferences",{toast:{error:{enabled:!1}}});if(L.ok){const k=await L.json();k.ui_theme&&TV(k.ui_theme),k.ui_accent_color&&IV(k.ui_accent_color)}}catch{}}else if(R.status===401){f(null);try{sessionStorage.removeItem("auth:user")}catch{}}}catch{}finally{_(!1)}})()},[]);const I=P=>s?s.role==="super_admin"||s.role==="admin"||s.role==="agent"&&s.service_id===P:!1,x=P=>s?s.role==="super_admin"||s.role==="admin"||s.role==="agent"&&s.service_id===P:!1,A=P=>s?s.role==="super_admin"||s.role==="admin"||s.role==="agent"&&s.service_id===P:!1;return w.jsx(Pz.Provider,{value:{user:s,setUser:f,login:y,logout:T,booting:h,canEdit:I,canDelete:x,canShare:A},children:e})},ps=()=>{const e=z.useContext(Pz);if(!e)throw new Error("useAuth must be used within AuthProvider");return e};function TV(e){const n=document.documentElement,a=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)");(e==="system"?a?a.matches:!1:e==="dark")?n.classList.add("dark"):n.classList.remove("dark")}function IV(e){const n=document.documentElement,s={blue:{"--primary":"217 91% 60%","--primary-foreground":"0 0% 100%","--accent":"217 91% 95%","--accent-foreground":"217 91% 35%","--ring":"217 91% 60%","--sidebar-primary":"217 91% 60%","--sidebar-primary-foreground":"0 0% 100%","--sidebar-accent":"217 91% 95%","--sidebar-accent-foreground":"217 91% 35%","--tab-active":"217 91% 60%","--folder-hover":"217 91% 97%"},green:{"--primary":"142 70% 45%","--primary-foreground":"0 0% 100%","--accent":"142 60% 92%","--accent-foreground":"142 70% 30%","--ring":"142 70% 45%","--sidebar-primary":"142 70% 45%","--sidebar-primary-foreground":"0 0% 100%","--sidebar-accent":"142 60% 20%","--sidebar-accent-foreground":"142 70% 70%","--tab-active":"142 70% 45%","--folder-hover":"142 60% 96%"},purple:{"--primary":"262 83% 58%","--primary-foreground":"0 0% 100%","--accent":"262 70% 94%","--accent-foreground":"262 70% 40%","--ring":"262 83% 58%","--sidebar-primary":"262 83% 58%","--sidebar-primary-foreground":"0 0% 100%","--sidebar-accent":"262 40% 22%","--sidebar-accent-foreground":"262 83% 70%","--tab-active":"262 83% 58%","--folder-hover":"262 70% 96%"}}[e];Object.entries(s).forEach(([f,h])=>{n.style.setProperty(f,h)})}const Rz=({onFolderClick:e,currentFolderId:n,externalCollapseId:a,onCloseTabByFolderId:s})=>{const{user:f}=ps(),{data:h}=Kr({queryKey:["folder-by-id",n??0],enabled:typeof n=="number",queryFn:async()=>{const T=await Tt(`/api/folders/${n}`);return T.ok?T.json():null},staleTime:3e4}),{data:_}=Kr({queryKey:["visible-services",(f==null?void 0:f.id)??0],queryFn:async()=>{const T=await Tt("/api/services/visible");if(!T.ok)throw new Error("Erreur chargement services visibles");return T.json()},staleTime:6e4}),y=({service:T,currentFolderServiceId:I})=>{const[x,A]=z.useState(!1),{data:P}=Kr({queryKey:["service-root",T.id],queryFn:async()=>{const O=await Tt(`/api/folders?service_id=${T.id}`);return O.ok?O.json():[]},staleTime:6e4}),R=(P??[])[0],E=typeof(R==null?void 0:R.id)=="number"&&n===R.id;return z.useEffect(()=>{const O=(I??null)===T.id;A(O)},[I,T.id]),w.jsx("div",{children:w.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg cursor-pointer transition-all group ${E?"bg-blue-100 text-blue-700 font-medium":"text-slate-100 hover:bg-blue-100 hover:text-blue-700"}`,style:{paddingLeft:"12px"},onClick:()=>{if(typeof(R==null?void 0:R.id)=="number"){if(x){A(!1),s&&s(typeof n=="number"?n:R.id);return}A(!0),e(R.id)}},children:[x?w.jsx(ev,{className:"w-4 h-4 flex-shrink-0"}):w.jsx(tv,{className:"w-4 h-4 flex-shrink-0"}),w.jsx("span",{className:"text-sm truncate flex-1",children:T.name})]})})};return w.jsx("div",{className:"space-y-1 py-2",children:(_??[]).map(T=>w.jsx(y,{service:T,currentFolderServiceId:(h==null?void 0:h.service_id)??null},T.id))})},g_e=tb("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),dt=z.forwardRef(({className:e,variant:n,size:a,asChild:s=!1,...f},h)=>{const _=s?nhe:"button";return w.jsx(_,{className:pr(g_e({variant:n,size:a,className:e})),ref:h,...f})});dt.displayName="Button";const HD=[{id:1,name:"TechCorp Solutions"}],v_e=[],y_e=()=>[],__e=e=>v_e.some(n=>n.id===e),uv=e=>y_e().find(n=>n.id===e),wV=e=>{const n=[];let a=e;for(;a!==null;){const s=uv(a);if(s)n.unshift(s),a=s.parent_id;else break}return n};async function S_e(){try{const e=await Tt("/api/services/visible",{toast:{error:{enabled:!1},success:{enabled:!1}}});return e.ok?e.json():[]}catch{return[]}}async function b_e(){try{const e=sessionStorage.getItem("auth:user"),n=e?JSON.parse(e):null;if(!n||n.role!=="admin"||!n.enterprise_id)return[]}catch{}try{const e=await Tt("/api/admin/employees",{toast:{error:{enabled:!1},success:{enabled:!1}}});return e.ok?e.json():[]}catch{return[]}}const C_e=({onFolderClick:e,currentFolderId:n,collapseFolderId:a,onCloseTabByFolderId:s})=>{var L;const[f,h]=z.useState(!1),_=Sl(),{user:y}=ps(),T=y&&y.role!=="super_admin"?y.enterprise_name??(y.enterprise_id?((L=HD.find(k=>k.id===y.enterprise_id))==null?void 0:L.name)??null:null):null;(y==null?void 0:y.role)==="admin"||(y==null||y.role);const{data:I}=Kr({queryKey:["visible-services",(y==null?void 0:y.id)??0],queryFn:async()=>{const k=await Tt("/api/services/visible");if(!k.ok)throw new Error("Erreur chargement services visibles");return k.json()},staleTime:6e4}),{data:x=[]}=Kr({queryKey:["shared-folders",(y==null?void 0:y.id)??0],queryFn:async()=>{const k=await Tt("/api/shared-folders/visible");return k.ok?k.json():[]},staleTime:3e4}),[A,P]=z.useState({});z.useEffect(()=>{if(typeof n!="number")return;const k=(x||[]).find(N=>N.folder_id===n);k&&P(N=>typeof N[k.id]=="boolean"?N:{...N,[k.id]:!0})},[n,x]);const{data:R}=Kr({queryKey:["sidebar-current-folder",n??0],enabled:typeof n=="number",queryFn:async()=>{const k=await Tt(`/api/folders/${n}`);return k.ok?k.json():null},staleTime:3e4}),E=I??[];(I??[]).find(k=>k.id===((y==null?void 0:y.service_id)??-1));const O=async k=>{const N=await _.fetchQuery({queryKey:["service-root",k],queryFn:async()=>{const G=await Tt(`/api/folders?service_id=${k}`);return G.ok?G.json():[]},staleTime:6e4}),W=Array.isArray(N)?N[0]:null;W&&typeof W.id=="number"&&e(W.id)};return w.jsxs("aside",{className:`${f?"w-16":"w-60"} border-r bg-gradient-to-b from-slate-900 via-slate-800 to-slate-900/90 text-slate-100 flex flex-col transition-all duration-300 sticky top-0 self-start h-screen`,children:[w.jsxs("div",{className:"h-16 border-b border-slate-700/60 flex items-center px-4 gap-2",children:[!f&&w.jsx("div",{className:"flex-1 min-w-0",children:w.jsx("p",{className:"text-xs font-semibold truncate",children:T??"Mon entreprise"})}),w.jsx(dt,{variant:"ghost",size:"sm",onClick:()=>h(!f),className:"h-8 w-8 p-0 ml-auto shrink-0",children:w.jsx(rb,{className:"w-4 h-4"})})]}),!f&&w.jsx("div",{className:"flex-1 overflow-y-auto px-2",children:w.jsxs("div",{className:"py-2",children:[x.length>0&&w.jsx("div",{className:"mb-0",children:w.jsx("div",{className:"mt-2 space-y-1",children:x.map(k=>{const N=n===k.folder_id,W=!!A[k.id];return w.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg cursor-pointer transition-all group ${W||N?"bg-blue-100 text-blue-700 font-medium":"text-slate-100 hover:bg-blue-100 hover:text-blue-700"}`,onClick:()=>{W?(P(G=>({...G,[k.id]:!1})),s&&s(k.folder_id)):(P(G=>({...G,[k.id]:!0})),e(k.folder_id))},title:k.name,children:[W?w.jsx(ev,{className:"w-4 h-4 flex-shrink-0"}):w.jsx(tv,{className:"w-4 h-4 flex-shrink-0"}),w.jsx("span",{className:"text-sm truncate flex-1",children:k.name})]},k.id)})})}),w.jsx(Rz,{onFolderClick:e,currentFolderId:n,externalCollapseId:a,onCloseTabByFolderId:s})]})}),f&&w.jsx("div",{className:"flex-1 overflow-y-auto px-2",children:w.jsxs("div",{className:"py-4 flex flex-col items-center gap-3",children:[x.map(k=>{const N=n===k.folder_id,W=!!A[k.id];return w.jsxs(H4,{children:[w.jsx(z4,{asChild:!0,children:w.jsx("button",{onClick:()=>{W?(P(G=>({...G,[k.id]:!1})),s&&s(k.folder_id)):(P(G=>({...G,[k.id]:!0})),e(k.folder_id))},className:`w-10 h-10 rounded-md flex items-center justify-center font-semibold shadow-sm border transition-colors ${W||N?"bg-blue-600/20 text-white border-blue-500":"bg-black text-white border-black/60 hover:bg-blue-600 hover:border-blue-500"}`,"aria-label":k.name,title:k.name,children:W?w.jsx(ev,{className:"w-4 h-4"}):w.jsx(tv,{className:"w-4 h-4"})})}),w.jsx(YA,{side:"right",children:k.name})]},`sf-${k.id}`)}),E.map(k=>{const N=(k.name||"?").trim().charAt(0).toUpperCase(),W=((R==null?void 0:R.service_id)??null)===k.id;return w.jsxs(H4,{children:[w.jsx(z4,{asChild:!0,children:w.jsx("button",{onClick:async()=>{if(W){s&&typeof n=="number"&&s(n);return}await O(k.id)},className:`w-10 h-10 rounded-md flex items-center justify-center font-semibold shadow-sm border transition-colors ${W?"bg-blue-600/20 text-white border-blue-500":"bg-black text-white border-black/60 hover:bg-blue-600 hover:text-white hover:border-blue-500"}`,"aria-label":k.name,title:k.name,children:N})}),w.jsx(YA,{side:"right",children:k.name})]},k.id)})]})})]})};var T_e=z.createContext(void 0);function fb(e){const n=z.useContext(T_e);return e||n||"ltr"}var Fx="rovingFocusGroup.onEntryFocus",I_e={bubbles:!1,cancelable:!0},Pv="RovingFocusGroup",[f1,kz,w_e]=pD(Pv),[E_e,xp]=Va(Pv,[w_e]),[x_e,A_e]=E_e(Pv),Nz=z.forwardRef((e,n)=>w.jsx(f1.Provider,{scope:e.__scopeRovingFocusGroup,children:w.jsx(f1.Slot,{scope:e.__scopeRovingFocusGroup,children:w.jsx(D_e,{...e,ref:n})})}));Nz.displayName=Pv;var D_e=z.forwardRef((e,n)=>{const{__scopeRovingFocusGroup:a,orientation:s,loop:f=!1,dir:h,currentTabStopId:_,defaultCurrentTabStopId:y,onCurrentTabStopIdChange:T,onEntryFocus:I,preventScrollOnEntryFocus:x=!1,...A}=e,P=z.useRef(null),R=Cn(n,P),E=fb(h),[O,L]=Yc({prop:_,defaultProp:y??null,onChange:T,caller:Pv}),[k,N]=z.useState(!1),W=Sa(I),G=kz(a),le=z.useRef(!1),[$,H]=z.useState(0);return z.useEffect(()=>{const ie=P.current;if(ie)return ie.addEventListener(Fx,W),()=>ie.removeEventListener(Fx,W)},[W]),w.jsx(x_e,{scope:a,orientation:s,dir:E,loop:f,currentTabStopId:O,onItemFocus:z.useCallback(ie=>L(ie),[L]),onItemShiftTab:z.useCallback(()=>N(!0),[]),onFocusableItemAdd:z.useCallback(()=>H(ie=>ie+1),[]),onFocusableItemRemove:z.useCallback(()=>H(ie=>ie-1),[]),children:w.jsx(yr.div,{tabIndex:k||$===0?-1:0,"data-orientation":s,...A,ref:R,style:{outline:"none",...e.style},onMouseDown:Yt(e.onMouseDown,()=>{le.current=!0}),onFocus:Yt(e.onFocus,ie=>{const pe=!le.current;if(ie.target===ie.currentTarget&&pe&&!k){const se=new CustomEvent(Fx,I_e);if(ie.currentTarget.dispatchEvent(se),!se.defaultPrevented){const ce=G().filter(_e=>_e.focusable),me=ce.find(_e=>_e.active),we=ce.find(_e=>_e.id===O),Ee=[me,we,...ce].filter(Boolean).map(_e=>_e.ref.current);Mz(Ee,x)}}le.current=!1}),onBlur:Yt(e.onBlur,()=>N(!1))})})}),Fz="RovingFocusGroupItem",Oz=z.forwardRef((e,n)=>{const{__scopeRovingFocusGroup:a,focusable:s=!0,active:f=!1,tabStopId:h,children:_,...y}=e,T=Mc(),I=h||T,x=A_e(Fz,a),A=x.currentTabStopId===I,P=kz(a),{onFocusableItemAdd:R,onFocusableItemRemove:E,currentTabStopId:O}=x;return z.useEffect(()=>{if(s)return R(),()=>E()},[s,R,E]),w.jsx(f1.ItemSlot,{scope:a,id:I,focusable:s,active:f,children:w.jsx(yr.span,{tabIndex:A?0:-1,"data-orientation":x.orientation,...y,ref:n,onMouseDown:Yt(e.onMouseDown,L=>{s?x.onItemFocus(I):L.preventDefault()}),onFocus:Yt(e.onFocus,()=>x.onItemFocus(I)),onKeyDown:Yt(e.onKeyDown,L=>{if(L.key==="Tab"&&L.shiftKey){x.onItemShiftTab();return}if(L.target!==L.currentTarget)return;const k=k_e(L,x.orientation,x.dir);if(k!==void 0){if(L.metaKey||L.ctrlKey||L.altKey||L.shiftKey)return;L.preventDefault();let W=P().filter(G=>G.focusable).map(G=>G.ref.current);if(k==="last")W.reverse();else if(k==="prev"||k==="next"){k==="prev"&&W.reverse();const G=W.indexOf(L.currentTarget);W=x.loop?N_e(W,G+1):W.slice(G+1)}setTimeout(()=>Mz(W))}}),children:typeof _=="function"?_({isCurrentTabStop:A,hasTabStop:O!=null}):_})})});Oz.displayName=Fz;var P_e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function R_e(e,n){return n!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function k_e(e,n,a){const s=R_e(e.key,a);if(!(n==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(n==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return P_e[s]}function Mz(e,n=!1){const a=document.activeElement;for(const s of e)if(s===a||(s.focus({preventScroll:n}),document.activeElement!==a))return}function N_e(e,n){return e.map((a,s)=>e[(n+s)%e.length])}var zD=Nz,KD=Oz,hb="Tabs",[F_e,xCe]=Va(hb,[xp]),Lz=xp(),[O_e,QD]=F_e(hb),Wz=z.forwardRef((e,n)=>{const{__scopeTabs:a,value:s,onValueChange:f,defaultValue:h,orientation:_="horizontal",dir:y,activationMode:T="automatic",...I}=e,x=fb(y),[A,P]=Yc({prop:s,onChange:f,defaultProp:h??"",caller:hb});return w.jsx(O_e,{scope:a,baseId:Mc(),value:A,onValueChange:P,orientation:_,dir:x,activationMode:T,children:w.jsx(yr.div,{dir:x,"data-orientation":_,...I,ref:n})})});Wz.displayName=hb;var jz="TabsList",Bz=z.forwardRef((e,n)=>{const{__scopeTabs:a,loop:s=!0,...f}=e,h=QD(jz,a),_=Lz(a);return w.jsx(zD,{asChild:!0,..._,orientation:h.orientation,dir:h.dir,loop:s,children:w.jsx(yr.div,{role:"tablist","aria-orientation":h.orientation,...f,ref:n})})});Bz.displayName=jz;var Uz="TabsTrigger",Vz=z.forwardRef((e,n)=>{const{__scopeTabs:a,value:s,disabled:f=!1,...h}=e,_=QD(Uz,a),y=Lz(a),T=zz(_.baseId,s),I=Kz(_.baseId,s),x=s===_.value;return w.jsx(KD,{asChild:!0,...y,focusable:!f,active:x,children:w.jsx(yr.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":I,"data-state":x?"active":"inactive","data-disabled":f?"":void 0,disabled:f,id:T,...h,ref:n,onMouseDown:Yt(e.onMouseDown,A=>{!f&&A.button===0&&A.ctrlKey===!1?_.onValueChange(s):A.preventDefault()}),onKeyDown:Yt(e.onKeyDown,A=>{[" ","Enter"].includes(A.key)&&_.onValueChange(s)}),onFocus:Yt(e.onFocus,()=>{const A=_.activationMode!=="manual";!x&&!f&&A&&_.onValueChange(s)})})})});Vz.displayName=Uz;var Gz="TabsContent",Hz=z.forwardRef((e,n)=>{const{__scopeTabs:a,value:s,forceMount:f,children:h,..._}=e,y=QD(Gz,a),T=zz(y.baseId,s),I=Kz(y.baseId,s),x=s===y.value,A=z.useRef(x);return z.useEffect(()=>{const P=requestAnimationFrame(()=>A.current=!1);return()=>cancelAnimationFrame(P)},[]),w.jsx(Ga,{present:f||x,children:({present:P})=>w.jsx(yr.div,{"data-state":x?"active":"inactive","data-orientation":y.orientation,role:"tabpanel","aria-labelledby":T,hidden:!P,id:I,tabIndex:0,..._,ref:n,style:{...e.style,animationDuration:A.current?"0s":void 0},children:P&&h})})});Hz.displayName=Gz;function zz(e,n){return`${e}-trigger-${n}`}function Kz(e,n){return`${e}-content-${n}`}var M_e=Wz,Qz=Bz,Yz=Vz,Jz=Hz;const L_e=M_e,qz=z.forwardRef(({className:e,...n},a)=>w.jsx(Qz,{ref:a,className:pr("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...n}));qz.displayName=Qz.displayName;const Xz=z.forwardRef(({className:e,...n},a)=>w.jsx(Yz,{ref:a,className:pr("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...n}));Xz.displayName=Yz.displayName;const Zz=z.forwardRef(({className:e,...n},a)=>w.jsx(Jz,{ref:a,className:pr("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...n}));Zz.displayName=Jz.displayName;function $z(e){const n=z.useRef({value:e,previous:e});return z.useMemo(()=>(n.current.value!==e&&(n.current.previous=n.current.value,n.current.value=e),n.current.previous),[e])}var pb="Checkbox",[W_e,ACe]=Va(pb),[j_e,YD]=W_e(pb);function B_e(e){const{__scopeCheckbox:n,checked:a,children:s,defaultChecked:f,disabled:h,form:_,name:y,onCheckedChange:T,required:I,value:x="on",internal_do_not_use_render:A}=e,[P,R]=Yc({prop:a,defaultProp:f??!1,onChange:T,caller:pb}),[E,O]=z.useState(null),[L,k]=z.useState(null),N=z.useRef(!1),W=E?!!_||!!E.closest("form"):!0,G={checked:P,disabled:h,setChecked:R,control:E,setControl:O,name:y,form:_,value:x,hasConsumerStoppedPropagationRef:N,required:I,defaultChecked:jc(f)?!1:f,isFormControl:W,bubbleInput:L,setBubbleInput:k};return w.jsx(j_e,{scope:n,...G,children:U_e(A)?A(G):s})}var e8="CheckboxTrigger",t8=z.forwardRef(({__scopeCheckbox:e,onKeyDown:n,onClick:a,...s},f)=>{const{control:h,value:_,disabled:y,checked:T,required:I,setControl:x,setChecked:A,hasConsumerStoppedPropagationRef:P,isFormControl:R,bubbleInput:E}=YD(e8,e),O=Cn(f,x),L=z.useRef(T);return z.useEffect(()=>{const k=h==null?void 0:h.form;if(k){const N=()=>A(L.current);return k.addEventListener("reset",N),()=>k.removeEventListener("reset",N)}},[h,A]),w.jsx(yr.button,{type:"button",role:"checkbox","aria-checked":jc(T)?"mixed":T,"aria-required":I,"data-state":a8(T),"data-disabled":y?"":void 0,disabled:y,value:_,...s,ref:O,onKeyDown:Yt(n,k=>{k.key==="Enter"&&k.preventDefault()}),onClick:Yt(a,k=>{A(N=>jc(N)?!0:!N),E&&R&&(P.current=k.isPropagationStopped(),P.current||k.stopPropagation())})})});t8.displayName=e8;var JD=z.forwardRef((e,n)=>{const{__scopeCheckbox:a,name:s,checked:f,defaultChecked:h,required:_,disabled:y,value:T,onCheckedChange:I,form:x,...A}=e;return w.jsx(B_e,{__scopeCheckbox:a,checked:f,defaultChecked:h,disabled:y,required:_,onCheckedChange:I,name:s,form:x,value:T,internal_do_not_use_render:({isFormControl:P})=>w.jsxs(w.Fragment,{children:[w.jsx(t8,{...A,ref:n,__scopeCheckbox:a}),P&&w.jsx(o8,{__scopeCheckbox:a})]})})});JD.displayName=pb;var r8="CheckboxIndicator",n8=z.forwardRef((e,n)=>{const{__scopeCheckbox:a,forceMount:s,...f}=e,h=YD(r8,a);return w.jsx(Ga,{present:s||jc(h.checked)||h.checked===!0,children:w.jsx(yr.span,{"data-state":a8(h.checked),"data-disabled":h.disabled?"":void 0,...f,ref:n,style:{pointerEvents:"none",...e.style}})})});n8.displayName=r8;var i8="CheckboxBubbleInput",o8=z.forwardRef(({__scopeCheckbox:e,...n},a)=>{const{control:s,hasConsumerStoppedPropagationRef:f,checked:h,defaultChecked:_,required:y,disabled:T,name:I,value:x,form:A,bubbleInput:P,setBubbleInput:R}=YD(i8,e),E=Cn(a,R),O=$z(h),L=PD(s);z.useEffect(()=>{const N=P;if(!N)return;const W=window.HTMLInputElement.prototype,le=Object.getOwnPropertyDescriptor(W,"checked").set,$=!f.current;if(O!==h&&le){const H=new Event("click",{bubbles:$});N.indeterminate=jc(h),le.call(N,jc(h)?!1:h),N.dispatchEvent(H)}},[P,O,h,f]);const k=z.useRef(jc(h)?!1:h);return w.jsx(yr.input,{type:"checkbox","aria-hidden":!0,defaultChecked:_??k.current,required:y,disabled:T,name:I,value:x,form:A,...n,tabIndex:-1,ref:E,style:{...n.style,...L,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});o8.displayName=i8;function U_e(e){return typeof e=="function"}function jc(e){return e==="indeterminate"}function a8(e){return jc(e)?"indeterminate":e?"checked":"unchecked"}const vp=z.forwardRef(({className:e,...n},a)=>w.jsx(JD,{ref:a,className:pr("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...n,children:w.jsx(n8,{className:pr("flex items-center justify-center text-current"),children:w.jsx(iH,{className:"h-4 w-4"})})}));vp.displayName=JD.displayName;const Ur=z.forwardRef(({className:e,type:n,...a},s)=>w.jsx("input",{type:n,className:pr("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...a}));Ur.displayName="Input";var Ox="focusScope.autoFocusOnMount",Mx="focusScope.autoFocusOnUnmount",EV={bubbles:!1,cancelable:!0},V_e="FocusScope",qD=z.forwardRef((e,n)=>{const{loop:a=!1,trapped:s=!1,onMountAutoFocus:f,onUnmountAutoFocus:h,..._}=e,[y,T]=z.useState(null),I=Sa(f),x=Sa(h),A=z.useRef(null),P=Cn(n,O=>T(O)),R=z.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;z.useEffect(()=>{if(s){let O=function(W){if(R.paused||!y)return;const G=W.target;y.contains(G)?A.current=G:cc(A.current,{select:!0})},L=function(W){if(R.paused||!y)return;const G=W.relatedTarget;G!==null&&(y.contains(G)||cc(A.current,{select:!0}))},k=function(W){if(document.activeElement===document.body)for(const le of W)le.removedNodes.length>0&&cc(y)};document.addEventListener("focusin",O),document.addEventListener("focusout",L);const N=new MutationObserver(k);return y&&N.observe(y,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",O),document.removeEventListener("focusout",L),N.disconnect()}}},[s,y,R.paused]),z.useEffect(()=>{if(y){AV.add(R);const O=document.activeElement;if(!y.contains(O)){const k=new CustomEvent(Ox,EV);y.addEventListener(Ox,I),y.dispatchEvent(k),k.defaultPrevented||(G_e(Y_e(s8(y)),{select:!0}),document.activeElement===O&&cc(y))}return()=>{y.removeEventListener(Ox,I),setTimeout(()=>{const k=new CustomEvent(Mx,EV);y.addEventListener(Mx,x),y.dispatchEvent(k),k.defaultPrevented||cc(O??document.body,{select:!0}),y.removeEventListener(Mx,x),AV.remove(R)},0)}}},[y,I,x,R]);const E=z.useCallback(O=>{if(!a&&!s||R.paused)return;const L=O.key==="Tab"&&!O.altKey&&!O.ctrlKey&&!O.metaKey,k=document.activeElement;if(L&&k){const N=O.currentTarget,[W,G]=H_e(N);W&&G?!O.shiftKey&&k===G?(O.preventDefault(),a&&cc(W,{select:!0})):O.shiftKey&&k===W&&(O.preventDefault(),a&&cc(G,{select:!0})):k===N&&O.preventDefault()}},[a,s,R.paused]);return w.jsx(yr.div,{tabIndex:-1,..._,ref:P,onKeyDown:E})});qD.displayName=V_e;function G_e(e,{select:n=!1}={}){const a=document.activeElement;for(const s of e)if(cc(s,{select:n}),document.activeElement!==a)return}function H_e(e){const n=s8(e),a=xV(n,e),s=xV(n.reverse(),e);return[a,s]}function s8(e){const n=[],a=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const f=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||f?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;a.nextNode();)n.push(a.currentNode);return n}function xV(e,n){for(const a of e)if(!z_e(a,{upTo:n}))return a}function z_e(e,{upTo:n}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(n!==void 0&&e===n)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function K_e(e){return e instanceof HTMLInputElement&&"select"in e}function cc(e,{select:n=!1}={}){if(e&&e.focus){const a=document.activeElement;e.focus({preventScroll:!0}),e!==a&&K_e(e)&&n&&e.select()}}var AV=Q_e();function Q_e(){let e=[];return{add(n){const a=e[0];n!==a&&(a==null||a.pause()),e=DV(e,n),e.unshift(n)},remove(n){var a;e=DV(e,n),(a=e[0])==null||a.resume()}}}function DV(e,n){const a=[...e],s=a.indexOf(n);return s!==-1&&a.splice(s,1),a}function Y_e(e){return e.filter(n=>n.tagName!=="A")}var Lx=0;function u8(){z.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??PV()),document.body.insertAdjacentElement("beforeend",e[1]??PV()),Lx++,()=>{Lx===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),Lx--}},[])}function PV(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var xu=function(){return xu=Object.assign||function(n){for(var a,s=1,f=arguments.length;s<f;s++){a=arguments[s];for(var h in a)Object.prototype.hasOwnProperty.call(a,h)&&(n[h]=a[h])}return n},xu.apply(this,arguments)};function l8(e,n){var a={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&n.indexOf(s)<0&&(a[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,s=Object.getOwnPropertySymbols(e);f<s.length;f++)n.indexOf(s[f])<0&&Object.prototype.propertyIsEnumerable.call(e,s[f])&&(a[s[f]]=e[s[f]]);return a}function J_e(e,n,a){if(a||arguments.length===2)for(var s=0,f=n.length,h;s<f;s++)(h||!(s in n))&&(h||(h=Array.prototype.slice.call(n,0,s)),h[s]=n[s]);return e.concat(h||Array.prototype.slice.call(n))}var G0="right-scroll-bar-position",H0="width-before-scroll-bar",q_e="with-scroll-bars-hidden",X_e="--removed-body-scroll-bar-size";function Wx(e,n){return typeof e=="function"?e(n):e&&(e.current=n),e}function Z_e(e,n){var a=z.useState(function(){return{value:e,callback:n,facade:{get current(){return a.value},set current(s){var f=a.value;f!==s&&(a.value=s,a.callback(s,f))}}}})[0];return a.callback=n,a.facade}var $_e=typeof window<"u"?z.useLayoutEffect:z.useEffect,RV=new WeakMap;function e0e(e,n){var a=Z_e(null,function(s){return e.forEach(function(f){return Wx(f,s)})});return $_e(function(){var s=RV.get(a);if(s){var f=new Set(s),h=new Set(e),_=a.current;f.forEach(function(y){h.has(y)||Wx(y,null)}),h.forEach(function(y){f.has(y)||Wx(y,_)})}RV.set(a,e)},[e]),a}function t0e(e){return e}function r0e(e,n){n===void 0&&(n=t0e);var a=[],s=!1,f={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return a.length?a[a.length-1]:e},useMedium:function(h){var _=n(h,s);return a.push(_),function(){a=a.filter(function(y){return y!==_})}},assignSyncMedium:function(h){for(s=!0;a.length;){var _=a;a=[],_.forEach(h)}a={push:function(y){return h(y)},filter:function(){return a}}},assignMedium:function(h){s=!0;var _=[];if(a.length){var y=a;a=[],y.forEach(h),_=a}var T=function(){var x=_;_=[],x.forEach(h)},I=function(){return Promise.resolve().then(T)};I(),a={push:function(x){_.push(x),I()},filter:function(x){return _=_.filter(x),a}}}};return f}function n0e(e){e===void 0&&(e={});var n=r0e(null);return n.options=xu({async:!0,ssr:!1},e),n}var c8=function(e){var n=e.sideCar,a=l8(e,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=n.read();if(!s)throw new Error("Sidecar medium not found");return z.createElement(s,xu({},a))};c8.isSideCarExport=!0;function i0e(e,n){return e.useMedium(n),c8}var d8=n0e(),jx=function(){},mb=z.forwardRef(function(e,n){var a=z.useRef(null),s=z.useState({onScrollCapture:jx,onWheelCapture:jx,onTouchMoveCapture:jx}),f=s[0],h=s[1],_=e.forwardProps,y=e.children,T=e.className,I=e.removeScrollBar,x=e.enabled,A=e.shards,P=e.sideCar,R=e.noRelative,E=e.noIsolation,O=e.inert,L=e.allowPinchZoom,k=e.as,N=k===void 0?"div":k,W=e.gapMode,G=l8(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),le=P,$=e0e([a,n]),H=xu(xu({},G),f);return z.createElement(z.Fragment,null,x&&z.createElement(le,{sideCar:d8,removeScrollBar:I,shards:A,noRelative:R,noIsolation:E,inert:O,setCallbacks:h,allowPinchZoom:!!L,lockRef:a,gapMode:W}),_?z.cloneElement(z.Children.only(y),xu(xu({},H),{ref:$})):z.createElement(N,xu({},H,{className:T,ref:$}),y))});mb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};mb.classNames={fullWidth:H0,zeroRight:G0};var o0e=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function a0e(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var n=o0e();return n&&e.setAttribute("nonce",n),e}function s0e(e,n){e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}function u0e(e){var n=document.head||document.getElementsByTagName("head")[0];n.appendChild(e)}var l0e=function(){var e=0,n=null;return{add:function(a){e==0&&(n=a0e())&&(s0e(n,a),u0e(n)),e++},remove:function(){e--,!e&&n&&(n.parentNode&&n.parentNode.removeChild(n),n=null)}}},c0e=function(){var e=l0e();return function(n,a){z.useEffect(function(){return e.add(n),function(){e.remove()}},[n&&a])}},f8=function(){var e=c0e(),n=function(a){var s=a.styles,f=a.dynamic;return e(s,f),null};return n},d0e={left:0,top:0,right:0,gap:0},Bx=function(e){return parseInt(e||"",10)||0},f0e=function(e){var n=window.getComputedStyle(document.body),a=n[e==="padding"?"paddingLeft":"marginLeft"],s=n[e==="padding"?"paddingTop":"marginTop"],f=n[e==="padding"?"paddingRight":"marginRight"];return[Bx(a),Bx(s),Bx(f)]},h0e=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return d0e;var n=f0e(e),a=document.documentElement.clientWidth,s=window.innerWidth;return{left:n[0],top:n[1],right:n[2],gap:Math.max(0,s-a+n[2]-n[0])}},p0e=f8(),Qh="data-scroll-locked",m0e=function(e,n,a,s){var f=e.left,h=e.top,_=e.right,y=e.gap;return a===void 0&&(a="margin"),`
  .`.concat(q_e,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(y,"px ").concat(s,`;
  }
  body[`).concat(Qh,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([n&&"position: relative ".concat(s,";"),a==="margin"&&`
    padding-left: `.concat(f,`px;
    padding-top: `).concat(h,`px;
    padding-right: `).concat(_,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(y,"px ").concat(s,`;
    `),a==="padding"&&"padding-right: ".concat(y,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(G0,` {
    right: `).concat(y,"px ").concat(s,`;
  }
  
  .`).concat(H0,` {
    margin-right: `).concat(y,"px ").concat(s,`;
  }
  
  .`).concat(G0," .").concat(G0,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(H0," .").concat(H0,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Qh,`] {
    `).concat(X_e,": ").concat(y,`px;
  }
`)},kV=function(){var e=parseInt(document.body.getAttribute(Qh)||"0",10);return isFinite(e)?e:0},g0e=function(){z.useEffect(function(){return document.body.setAttribute(Qh,(kV()+1).toString()),function(){var e=kV()-1;e<=0?document.body.removeAttribute(Qh):document.body.setAttribute(Qh,e.toString())}},[])},v0e=function(e){var n=e.noRelative,a=e.noImportant,s=e.gapMode,f=s===void 0?"margin":s;g0e();var h=z.useMemo(function(){return h0e(f)},[f]);return z.createElement(p0e,{styles:m0e(h,!n,f,a?"":"!important")})},h1=!1;if(typeof window<"u")try{var b0=Object.defineProperty({},"passive",{get:function(){return h1=!0,!0}});window.addEventListener("test",b0,b0),window.removeEventListener("test",b0,b0)}catch{h1=!1}var Th=h1?{passive:!1}:!1,y0e=function(e){return e.tagName==="TEXTAREA"},h8=function(e,n){if(!(e instanceof Element))return!1;var a=window.getComputedStyle(e);return a[n]!=="hidden"&&!(a.overflowY===a.overflowX&&!y0e(e)&&a[n]==="visible")},_0e=function(e){return h8(e,"overflowY")},S0e=function(e){return h8(e,"overflowX")},NV=function(e,n){var a=n.ownerDocument,s=n;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var f=p8(e,s);if(f){var h=m8(e,s),_=h[1],y=h[2];if(_>y)return!0}s=s.parentNode}while(s&&s!==a.body);return!1},b0e=function(e){var n=e.scrollTop,a=e.scrollHeight,s=e.clientHeight;return[n,a,s]},C0e=function(e){var n=e.scrollLeft,a=e.scrollWidth,s=e.clientWidth;return[n,a,s]},p8=function(e,n){return e==="v"?_0e(n):S0e(n)},m8=function(e,n){return e==="v"?b0e(n):C0e(n)},T0e=function(e,n){return e==="h"&&n==="rtl"?-1:1},I0e=function(e,n,a,s,f){var h=T0e(e,window.getComputedStyle(n).direction),_=h*s,y=a.target,T=n.contains(y),I=!1,x=_>0,A=0,P=0;do{if(!y)break;var R=m8(e,y),E=R[0],O=R[1],L=R[2],k=O-L-h*E;(E||k)&&p8(e,y)&&(A+=k,P+=E);var N=y.parentNode;y=N&&N.nodeType===Node.DOCUMENT_FRAGMENT_NODE?N.host:N}while(!T&&y!==document.body||T&&(n.contains(y)||n===y));return(x&&(Math.abs(A)<1||!f)||!x&&(Math.abs(P)<1||!f))&&(I=!0),I},C0=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},FV=function(e){return[e.deltaX,e.deltaY]},OV=function(e){return e&&"current"in e?e.current:e},w0e=function(e,n){return e[0]===n[0]&&e[1]===n[1]},E0e=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},x0e=0,Ih=[];function A0e(e){var n=z.useRef([]),a=z.useRef([0,0]),s=z.useRef(),f=z.useState(x0e++)[0],h=z.useState(f8)[0],_=z.useRef(e);z.useEffect(function(){_.current=e},[e]),z.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(f));var O=J_e([e.lockRef.current],(e.shards||[]).map(OV),!0).filter(Boolean);return O.forEach(function(L){return L.classList.add("allow-interactivity-".concat(f))}),function(){document.body.classList.remove("block-interactivity-".concat(f)),O.forEach(function(L){return L.classList.remove("allow-interactivity-".concat(f))})}}},[e.inert,e.lockRef.current,e.shards]);var y=z.useCallback(function(O,L){if("touches"in O&&O.touches.length===2||O.type==="wheel"&&O.ctrlKey)return!_.current.allowPinchZoom;var k=C0(O),N=a.current,W="deltaX"in O?O.deltaX:N[0]-k[0],G="deltaY"in O?O.deltaY:N[1]-k[1],le,$=O.target,H=Math.abs(W)>Math.abs(G)?"h":"v";if("touches"in O&&H==="h"&&$.type==="range")return!1;var ie=NV(H,$);if(!ie)return!0;if(ie?le=H:(le=H==="v"?"h":"v",ie=NV(H,$)),!ie)return!1;if(!s.current&&"changedTouches"in O&&(W||G)&&(s.current=le),!le)return!0;var pe=s.current||le;return I0e(pe,L,O,pe==="h"?W:G,!0)},[]),T=z.useCallback(function(O){var L=O;if(!(!Ih.length||Ih[Ih.length-1]!==h)){var k="deltaY"in L?FV(L):C0(L),N=n.current.filter(function(le){return le.name===L.type&&(le.target===L.target||L.target===le.shadowParent)&&w0e(le.delta,k)})[0];if(N&&N.should){L.cancelable&&L.preventDefault();return}if(!N){var W=(_.current.shards||[]).map(OV).filter(Boolean).filter(function(le){return le.contains(L.target)}),G=W.length>0?y(L,W[0]):!_.current.noIsolation;G&&L.cancelable&&L.preventDefault()}}},[]),I=z.useCallback(function(O,L,k,N){var W={name:O,delta:L,target:k,should:N,shadowParent:D0e(k)};n.current.push(W),setTimeout(function(){n.current=n.current.filter(function(G){return G!==W})},1)},[]),x=z.useCallback(function(O){a.current=C0(O),s.current=void 0},[]),A=z.useCallback(function(O){I(O.type,FV(O),O.target,y(O,e.lockRef.current))},[]),P=z.useCallback(function(O){I(O.type,C0(O),O.target,y(O,e.lockRef.current))},[]);z.useEffect(function(){return Ih.push(h),e.setCallbacks({onScrollCapture:A,onWheelCapture:A,onTouchMoveCapture:P}),document.addEventListener("wheel",T,Th),document.addEventListener("touchmove",T,Th),document.addEventListener("touchstart",x,Th),function(){Ih=Ih.filter(function(O){return O!==h}),document.removeEventListener("wheel",T,Th),document.removeEventListener("touchmove",T,Th),document.removeEventListener("touchstart",x,Th)}},[]);var R=e.removeScrollBar,E=e.inert;return z.createElement(z.Fragment,null,E?z.createElement(h,{styles:E0e(f)}):null,R?z.createElement(v0e,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function D0e(e){for(var n=null;e!==null;)e instanceof ShadowRoot&&(n=e.host,e=e.host),e=e.parentNode;return n}const P0e=i0e(d8,A0e);var XD=z.forwardRef(function(e,n){return z.createElement(mb,xu({},e,{ref:n,sideCar:P0e}))});XD.classNames=mb.classNames;var R0e=function(e){if(typeof document>"u")return null;var n=Array.isArray(e)?e[0]:e;return n.ownerDocument.body},wh=new WeakMap,T0=new WeakMap,I0={},Ux=0,g8=function(e){return e&&(e.host||g8(e.parentNode))},k0e=function(e,n){return n.map(function(a){if(e.contains(a))return a;var s=g8(a);return s&&e.contains(s)?s:(console.error("aria-hidden",a,"in not contained inside",e,". Doing nothing"),null)}).filter(function(a){return!!a})},N0e=function(e,n,a,s){var f=k0e(n,Array.isArray(e)?e:[e]);I0[a]||(I0[a]=new WeakMap);var h=I0[a],_=[],y=new Set,T=new Set(f),I=function(A){!A||y.has(A)||(y.add(A),I(A.parentNode))};f.forEach(I);var x=function(A){!A||T.has(A)||Array.prototype.forEach.call(A.children,function(P){if(y.has(P))x(P);else try{var R=P.getAttribute(s),E=R!==null&&R!=="false",O=(wh.get(P)||0)+1,L=(h.get(P)||0)+1;wh.set(P,O),h.set(P,L),_.push(P),O===1&&E&&T0.set(P,!0),L===1&&P.setAttribute(a,"true"),E||P.setAttribute(s,"true")}catch(k){console.error("aria-hidden: cannot operate on ",P,k)}})};return x(n),y.clear(),Ux++,function(){_.forEach(function(A){var P=wh.get(A)-1,R=h.get(A)-1;wh.set(A,P),h.set(A,R),P||(T0.has(A)||A.removeAttribute(s),T0.delete(A)),R||A.removeAttribute(a)}),Ux--,Ux||(wh=new WeakMap,wh=new WeakMap,T0=new WeakMap,I0={})}},v8=function(e,n,a){a===void 0&&(a="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),f=R0e(e);return f?(s.push.apply(s,Array.from(f.querySelectorAll("[aria-live]"))),N0e(s,f,a,"aria-hidden")):function(){return null}},gb="Dialog",[y8,DCe]=Va(gb),[F0e,Zs]=y8(gb),_8=e=>{const{__scopeDialog:n,children:a,open:s,defaultOpen:f,onOpenChange:h,modal:_=!0}=e,y=z.useRef(null),T=z.useRef(null),[I,x]=Yc({prop:s,defaultProp:f??!1,onChange:h,caller:gb});return w.jsx(F0e,{scope:n,triggerRef:y,contentRef:T,contentId:Mc(),titleId:Mc(),descriptionId:Mc(),open:I,onOpenChange:x,onOpenToggle:z.useCallback(()=>x(A=>!A),[x]),modal:_,children:a})};_8.displayName=gb;var S8="DialogTrigger",b8=z.forwardRef((e,n)=>{const{__scopeDialog:a,...s}=e,f=Zs(S8,a),h=Cn(n,f.triggerRef);return w.jsx(yr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":f.open,"aria-controls":f.contentId,"data-state":eP(f.open),...s,ref:h,onClick:Yt(e.onClick,f.onOpenToggle)})});b8.displayName=S8;var ZD="DialogPortal",[O0e,C8]=y8(ZD,{forceMount:void 0}),T8=e=>{const{__scopeDialog:n,forceMount:a,children:s,container:f}=e,h=Zs(ZD,n);return w.jsx(O0e,{scope:n,forceMount:a,children:z.Children.map(s,_=>w.jsx(Ga,{present:a||h.open,children:w.jsx(ZS,{asChild:!0,container:f,children:_})}))})};T8.displayName=ZD;var AS="DialogOverlay",I8=z.forwardRef((e,n)=>{const a=C8(AS,e.__scopeDialog),{forceMount:s=a.forceMount,...f}=e,h=Zs(AS,e.__scopeDialog);return h.modal?w.jsx(Ga,{present:s||h.open,children:w.jsx(L0e,{...f,ref:n})}):null});I8.displayName=AS;var M0e=hp("DialogOverlay.RemoveScroll"),L0e=z.forwardRef((e,n)=>{const{__scopeDialog:a,...s}=e,f=Zs(AS,a);return w.jsx(XD,{as:M0e,allowPinchZoom:!0,shards:[f.contentRef],children:w.jsx(yr.div,{"data-state":eP(f.open),...s,ref:n,style:{pointerEvents:"auto",...s.style}})})}),af="DialogContent",w8=z.forwardRef((e,n)=>{const a=C8(af,e.__scopeDialog),{forceMount:s=a.forceMount,...f}=e,h=Zs(af,e.__scopeDialog);return w.jsx(Ga,{present:s||h.open,children:h.modal?w.jsx(W0e,{...f,ref:n}):w.jsx(j0e,{...f,ref:n})})});w8.displayName=af;var W0e=z.forwardRef((e,n)=>{const a=Zs(af,e.__scopeDialog),s=z.useRef(null),f=Cn(n,a.contentRef,s);return z.useEffect(()=>{const h=s.current;if(h)return v8(h)},[]),w.jsx(E8,{...e,ref:f,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Yt(e.onCloseAutoFocus,h=>{var _;h.preventDefault(),(_=a.triggerRef.current)==null||_.focus()}),onPointerDownOutside:Yt(e.onPointerDownOutside,h=>{const _=h.detail.originalEvent,y=_.button===0&&_.ctrlKey===!0;(_.button===2||y)&&h.preventDefault()}),onFocusOutside:Yt(e.onFocusOutside,h=>h.preventDefault())})}),j0e=z.forwardRef((e,n)=>{const a=Zs(af,e.__scopeDialog),s=z.useRef(!1),f=z.useRef(!1);return w.jsx(E8,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:h=>{var _,y;(_=e.onCloseAutoFocus)==null||_.call(e,h),h.defaultPrevented||(s.current||(y=a.triggerRef.current)==null||y.focus(),h.preventDefault()),s.current=!1,f.current=!1},onInteractOutside:h=>{var T,I;(T=e.onInteractOutside)==null||T.call(e,h),h.defaultPrevented||(s.current=!0,h.detail.originalEvent.type==="pointerdown"&&(f.current=!0));const _=h.target;((I=a.triggerRef.current)==null?void 0:I.contains(_))&&h.preventDefault(),h.detail.originalEvent.type==="focusin"&&f.current&&h.preventDefault()}})}),E8=z.forwardRef((e,n)=>{const{__scopeDialog:a,trapFocus:s,onOpenAutoFocus:f,onCloseAutoFocus:h,..._}=e,y=Zs(af,a),T=z.useRef(null),I=Cn(n,T);return u8(),w.jsxs(w.Fragment,{children:[w.jsx(qD,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:f,onUnmountAutoFocus:h,children:w.jsx(bv,{role:"dialog",id:y.contentId,"aria-describedby":y.descriptionId,"aria-labelledby":y.titleId,"data-state":eP(y.open),..._,ref:I,onDismiss:()=>y.onOpenChange(!1)})}),w.jsxs(w.Fragment,{children:[w.jsx(B0e,{titleId:y.titleId}),w.jsx(V0e,{contentRef:T,descriptionId:y.descriptionId})]})]})}),$D="DialogTitle",x8=z.forwardRef((e,n)=>{const{__scopeDialog:a,...s}=e,f=Zs($D,a);return w.jsx(yr.h2,{id:f.titleId,...s,ref:n})});x8.displayName=$D;var A8="DialogDescription",D8=z.forwardRef((e,n)=>{const{__scopeDialog:a,...s}=e,f=Zs(A8,a);return w.jsx(yr.p,{id:f.descriptionId,...s,ref:n})});D8.displayName=A8;var P8="DialogClose",R8=z.forwardRef((e,n)=>{const{__scopeDialog:a,...s}=e,f=Zs(P8,a);return w.jsx(yr.button,{type:"button",...s,ref:n,onClick:Yt(e.onClick,()=>f.onOpenChange(!1))})});R8.displayName=P8;function eP(e){return e?"open":"closed"}var k8="DialogTitleWarning",[PCe,N8]=the(k8,{contentName:af,titleName:$D,docsSlug:"dialog"}),B0e=({titleId:e})=>{const n=N8(k8),a=`\`${n.contentName}\` requires a \`${n.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${n.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${n.docsSlug}`;return z.useEffect(()=>{e&&(document.getElementById(e)||console.error(a))},[a,e]),null},U0e="DialogDescriptionWarning",V0e=({contentRef:e,descriptionId:n})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${N8(U0e).contentName}}.`;return z.useEffect(()=>{var h;const f=(h=e.current)==null?void 0:h.getAttribute("aria-describedby");n&&f&&(document.getElementById(n)||console.warn(s))},[s,e,n]),null},F8=_8,G0e=b8,O8=T8,vb=I8,yb=w8,_b=x8,Sb=D8,M8=R8;const eo=F8,Wh=G0e,H0e=O8,L8=z.forwardRef(({className:e,...n},a)=>w.jsx(vb,{ref:a,className:pr("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...n}));L8.displayName=vb.displayName;const Bi=z.forwardRef(({className:e,children:n,...a},s)=>w.jsxs(H0e,{children:[w.jsx(L8,{}),w.jsxs(yb,{ref:s,className:pr("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a,children:[n,w.jsxs(M8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[w.jsx(Tv,{className:"h-4 w-4"}),w.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Bi.displayName=yb.displayName;const Ui=({className:e,...n})=>w.jsx("div",{className:pr("flex flex-col space-y-1.5 text-center sm:text-left",e),...n});Ui.displayName="DialogHeader";const Au=({className:e,...n})=>w.jsx("div",{className:pr("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...n});Au.displayName="DialogFooter";const Vi=z.forwardRef(({className:e,...n},a)=>w.jsx(_b,{ref:a,className:pr("text-lg font-semibold leading-none tracking-tight",e),...n}));Vi.displayName=_b.displayName;const to=z.forwardRef(({className:e,...n},a)=>w.jsx(Sb,{ref:a,className:pr("text-sm text-muted-foreground",e),...n}));to.displayName=Sb.displayName;var p1=["Enter"," "],z0e=["ArrowDown","PageUp","Home"],W8=["ArrowUp","PageDown","End"],K0e=[...z0e,...W8],Q0e={ltr:[...p1,"ArrowRight"],rtl:[...p1,"ArrowLeft"]},Y0e={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Rv="Menu",[lv,J0e,q0e]=pD(Rv),[lf,j8]=Va(Rv,[q0e,ab,xp]),bb=ab(),B8=xp(),[X0e,cf]=lf(Rv),[Z0e,kv]=lf(Rv),U8=e=>{const{__scopeMenu:n,open:a=!1,children:s,dir:f,onOpenChange:h,modal:_=!0}=e,y=bb(n),[T,I]=z.useState(null),x=z.useRef(!1),A=Sa(h),P=fb(f);return z.useEffect(()=>{const R=()=>{x.current=!0,document.addEventListener("pointerdown",E,{capture:!0,once:!0}),document.addEventListener("pointermove",E,{capture:!0,once:!0})},E=()=>x.current=!1;return document.addEventListener("keydown",R,{capture:!0}),()=>{document.removeEventListener("keydown",R,{capture:!0}),document.removeEventListener("pointerdown",E,{capture:!0}),document.removeEventListener("pointermove",E,{capture:!0})}},[]),w.jsx(HH,{...y,children:w.jsx(X0e,{scope:n,open:a,onOpenChange:A,content:T,onContentChange:I,children:w.jsx(Z0e,{scope:n,onClose:z.useCallback(()=>A(!1),[A]),isUsingKeyboardRef:x,dir:P,modal:_,children:s})})})};U8.displayName=Rv;var $0e="MenuAnchor",tP=z.forwardRef((e,n)=>{const{__scopeMenu:a,...s}=e,f=bb(a);return w.jsx(zH,{...f,...s,ref:n})});tP.displayName=$0e;var rP="MenuPortal",[eSe,V8]=lf(rP,{forceMount:void 0}),G8=e=>{const{__scopeMenu:n,forceMount:a,children:s,container:f}=e,h=cf(rP,n);return w.jsx(eSe,{scope:n,forceMount:a,children:w.jsx(Ga,{present:a||h.open,children:w.jsx(ZS,{asChild:!0,container:f,children:s})})})};G8.displayName=rP;var cs="MenuContent",[tSe,nP]=lf(cs),H8=z.forwardRef((e,n)=>{const a=V8(cs,e.__scopeMenu),{forceMount:s=a.forceMount,...f}=e,h=cf(cs,e.__scopeMenu),_=kv(cs,e.__scopeMenu);return w.jsx(lv.Provider,{scope:e.__scopeMenu,children:w.jsx(Ga,{present:s||h.open,children:w.jsx(lv.Slot,{scope:e.__scopeMenu,children:_.modal?w.jsx(rSe,{...f,ref:n}):w.jsx(nSe,{...f,ref:n})})})})}),rSe=z.forwardRef((e,n)=>{const a=cf(cs,e.__scopeMenu),s=z.useRef(null),f=Cn(n,s);return z.useEffect(()=>{const h=s.current;if(h)return v8(h)},[]),w.jsx(iP,{...e,ref:f,trapFocus:a.open,disableOutsidePointerEvents:a.open,disableOutsideScroll:!0,onFocusOutside:Yt(e.onFocusOutside,h=>h.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>a.onOpenChange(!1)})}),nSe=z.forwardRef((e,n)=>{const a=cf(cs,e.__scopeMenu);return w.jsx(iP,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>a.onOpenChange(!1)})}),iSe=hp("MenuContent.ScrollLock"),iP=z.forwardRef((e,n)=>{const{__scopeMenu:a,loop:s=!1,trapFocus:f,onOpenAutoFocus:h,onCloseAutoFocus:_,disableOutsidePointerEvents:y,onEntryFocus:T,onEscapeKeyDown:I,onPointerDownOutside:x,onFocusOutside:A,onInteractOutside:P,onDismiss:R,disableOutsideScroll:E,...O}=e,L=cf(cs,a),k=kv(cs,a),N=bb(a),W=B8(a),G=J0e(a),[le,$]=z.useState(null),H=z.useRef(null),ie=Cn(n,H,L.onContentChange),pe=z.useRef(0),se=z.useRef(""),ce=z.useRef(0),me=z.useRef(null),we=z.useRef("right"),ge=z.useRef(0),Ee=E?XD:z.Fragment,_e=E?{as:iSe,allowPinchZoom:!0}:void 0,Ue=Te=>{var Ie,qe;const Be=se.current+Te,ot=G().filter(ut=>!ut.disabled),tt=document.activeElement,vt=(Ie=ot.find(ut=>ut.ref.current===tt))==null?void 0:Ie.textValue,bt=ot.map(ut=>ut.textValue),Se=gSe(bt,Be,vt),ye=(qe=ot.find(ut=>ut.textValue===Se))==null?void 0:qe.ref.current;(function ut(lt){se.current=lt,window.clearTimeout(pe.current),lt!==""&&(pe.current=window.setTimeout(()=>ut(""),1e3))})(Be),ye&&setTimeout(()=>ye.focus())};z.useEffect(()=>()=>window.clearTimeout(pe.current),[]),u8();const xe=z.useCallback(Te=>{var ot,tt;return we.current===((ot=me.current)==null?void 0:ot.side)&&ySe(Te,(tt=me.current)==null?void 0:tt.area)},[]);return w.jsx(tSe,{scope:a,searchRef:se,onItemEnter:z.useCallback(Te=>{xe(Te)&&Te.preventDefault()},[xe]),onItemLeave:z.useCallback(Te=>{var Be;xe(Te)||((Be=H.current)==null||Be.focus(),$(null))},[xe]),onTriggerLeave:z.useCallback(Te=>{xe(Te)&&Te.preventDefault()},[xe]),pointerGraceTimerRef:ce,onPointerGraceIntentChange:z.useCallback(Te=>{me.current=Te},[]),children:w.jsx(Ee,{..._e,children:w.jsx(qD,{asChild:!0,trapped:f,onMountAutoFocus:Yt(h,Te=>{var Be;Te.preventDefault(),(Be=H.current)==null||Be.focus({preventScroll:!0})}),onUnmountAutoFocus:_,children:w.jsx(bv,{asChild:!0,disableOutsidePointerEvents:y,onEscapeKeyDown:I,onPointerDownOutside:x,onFocusOutside:A,onInteractOutside:P,onDismiss:R,children:w.jsx(zD,{asChild:!0,...W,dir:k.dir,orientation:"vertical",loop:s,currentTabStopId:le,onCurrentTabStopIdChange:$,onEntryFocus:Yt(T,Te=>{k.isUsingKeyboardRef.current||Te.preventDefault()}),preventScrollOnEntryFocus:!0,children:w.jsx(KH,{role:"menu","aria-orientation":"vertical","data-state":a7(L.open),"data-radix-menu-content":"",dir:k.dir,...N,...O,ref:ie,style:{outline:"none",...O.style},onKeyDown:Yt(O.onKeyDown,Te=>{const ot=Te.target.closest("[data-radix-menu-content]")===Te.currentTarget,tt=Te.ctrlKey||Te.altKey||Te.metaKey,vt=Te.key.length===1;ot&&(Te.key==="Tab"&&Te.preventDefault(),!tt&&vt&&Ue(Te.key));const bt=H.current;if(Te.target!==bt||!K0e.includes(Te.key))return;Te.preventDefault();const ye=G().filter(Ie=>!Ie.disabled).map(Ie=>Ie.ref.current);W8.includes(Te.key)&&ye.reverse(),pSe(ye)}),onBlur:Yt(e.onBlur,Te=>{Te.currentTarget.contains(Te.target)||(window.clearTimeout(pe.current),se.current="")}),onPointerMove:Yt(e.onPointerMove,cv(Te=>{const Be=Te.target,ot=ge.current!==Te.clientX;if(Te.currentTarget.contains(Be)&&ot){const tt=Te.clientX>ge.current?"right":"left";we.current=tt,ge.current=Te.clientX}}))})})})})})})});H8.displayName=cs;var oSe="MenuGroup",oP=z.forwardRef((e,n)=>{const{__scopeMenu:a,...s}=e;return w.jsx(yr.div,{role:"group",...s,ref:n})});oP.displayName=oSe;var aSe="MenuLabel",z8=z.forwardRef((e,n)=>{const{__scopeMenu:a,...s}=e;return w.jsx(yr.div,{...s,ref:n})});z8.displayName=aSe;var DS="MenuItem",MV="menu.itemSelect",Cb=z.forwardRef((e,n)=>{const{disabled:a=!1,onSelect:s,...f}=e,h=z.useRef(null),_=kv(DS,e.__scopeMenu),y=nP(DS,e.__scopeMenu),T=Cn(n,h),I=z.useRef(!1),x=()=>{const A=h.current;if(!a&&A){const P=new CustomEvent(MV,{bubbles:!0,cancelable:!0});A.addEventListener(MV,R=>s==null?void 0:s(R),{once:!0}),mD(A,P),P.defaultPrevented?I.current=!1:_.onClose()}};return w.jsx(K8,{...f,ref:T,disabled:a,onClick:Yt(e.onClick,x),onPointerDown:A=>{var P;(P=e.onPointerDown)==null||P.call(e,A),I.current=!0},onPointerUp:Yt(e.onPointerUp,A=>{var P;I.current||(P=A.currentTarget)==null||P.click()}),onKeyDown:Yt(e.onKeyDown,A=>{const P=y.searchRef.current!=="";a||P&&A.key===" "||p1.includes(A.key)&&(A.currentTarget.click(),A.preventDefault())})})});Cb.displayName=DS;var K8=z.forwardRef((e,n)=>{const{__scopeMenu:a,disabled:s=!1,textValue:f,...h}=e,_=nP(DS,a),y=B8(a),T=z.useRef(null),I=Cn(n,T),[x,A]=z.useState(!1),[P,R]=z.useState("");return z.useEffect(()=>{const E=T.current;E&&R((E.textContent??"").trim())},[h.children]),w.jsx(lv.ItemSlot,{scope:a,disabled:s,textValue:f??P,children:w.jsx(KD,{asChild:!0,...y,focusable:!s,children:w.jsx(yr.div,{role:"menuitem","data-highlighted":x?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...h,ref:I,onPointerMove:Yt(e.onPointerMove,cv(E=>{s?_.onItemLeave(E):(_.onItemEnter(E),E.defaultPrevented||E.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Yt(e.onPointerLeave,cv(E=>_.onItemLeave(E))),onFocus:Yt(e.onFocus,()=>A(!0)),onBlur:Yt(e.onBlur,()=>A(!1))})})})}),sSe="MenuCheckboxItem",Q8=z.forwardRef((e,n)=>{const{checked:a=!1,onCheckedChange:s,...f}=e;return w.jsx(Z8,{scope:e.__scopeMenu,checked:a,children:w.jsx(Cb,{role:"menuitemcheckbox","aria-checked":PS(a)?"mixed":a,...f,ref:n,"data-state":sP(a),onSelect:Yt(f.onSelect,()=>s==null?void 0:s(PS(a)?!0:!a),{checkForDefaultPrevented:!1})})})});Q8.displayName=sSe;var Y8="MenuRadioGroup",[uSe,lSe]=lf(Y8,{value:void 0,onValueChange:()=>{}}),J8=z.forwardRef((e,n)=>{const{value:a,onValueChange:s,...f}=e,h=Sa(s);return w.jsx(uSe,{scope:e.__scopeMenu,value:a,onValueChange:h,children:w.jsx(oP,{...f,ref:n})})});J8.displayName=Y8;var q8="MenuRadioItem",X8=z.forwardRef((e,n)=>{const{value:a,...s}=e,f=lSe(q8,e.__scopeMenu),h=a===f.value;return w.jsx(Z8,{scope:e.__scopeMenu,checked:h,children:w.jsx(Cb,{role:"menuitemradio","aria-checked":h,...s,ref:n,"data-state":sP(h),onSelect:Yt(s.onSelect,()=>{var _;return(_=f.onValueChange)==null?void 0:_.call(f,a)},{checkForDefaultPrevented:!1})})})});X8.displayName=q8;var aP="MenuItemIndicator",[Z8,cSe]=lf(aP,{checked:!1}),$8=z.forwardRef((e,n)=>{const{__scopeMenu:a,forceMount:s,...f}=e,h=cSe(aP,a);return w.jsx(Ga,{present:s||PS(h.checked)||h.checked===!0,children:w.jsx(yr.span,{...f,ref:n,"data-state":sP(h.checked)})})});$8.displayName=aP;var dSe="MenuSeparator",e7=z.forwardRef((e,n)=>{const{__scopeMenu:a,...s}=e;return w.jsx(yr.div,{role:"separator","aria-orientation":"horizontal",...s,ref:n})});e7.displayName=dSe;var fSe="MenuArrow",t7=z.forwardRef((e,n)=>{const{__scopeMenu:a,...s}=e,f=bb(a);return w.jsx(QH,{...f,...s,ref:n})});t7.displayName=fSe;var hSe="MenuSub",[RCe,r7]=lf(hSe),Ig="MenuSubTrigger",n7=z.forwardRef((e,n)=>{const a=cf(Ig,e.__scopeMenu),s=kv(Ig,e.__scopeMenu),f=r7(Ig,e.__scopeMenu),h=nP(Ig,e.__scopeMenu),_=z.useRef(null),{pointerGraceTimerRef:y,onPointerGraceIntentChange:T}=h,I={__scopeMenu:e.__scopeMenu},x=z.useCallback(()=>{_.current&&window.clearTimeout(_.current),_.current=null},[]);return z.useEffect(()=>x,[x]),z.useEffect(()=>{const A=y.current;return()=>{window.clearTimeout(A),T(null)}},[y,T]),w.jsx(tP,{asChild:!0,...I,children:w.jsx(K8,{id:f.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":f.contentId,"data-state":a7(a.open),...e,ref:XS(n,f.onTriggerChange),onClick:A=>{var P;(P=e.onClick)==null||P.call(e,A),!(e.disabled||A.defaultPrevented)&&(A.currentTarget.focus(),a.open||a.onOpenChange(!0))},onPointerMove:Yt(e.onPointerMove,cv(A=>{h.onItemEnter(A),!A.defaultPrevented&&!e.disabled&&!a.open&&!_.current&&(h.onPointerGraceIntentChange(null),_.current=window.setTimeout(()=>{a.onOpenChange(!0),x()},100))})),onPointerLeave:Yt(e.onPointerLeave,cv(A=>{var R,E;x();const P=(R=a.content)==null?void 0:R.getBoundingClientRect();if(P){const O=(E=a.content)==null?void 0:E.dataset.side,L=O==="right",k=L?-5:5,N=P[L?"left":"right"],W=P[L?"right":"left"];h.onPointerGraceIntentChange({area:[{x:A.clientX+k,y:A.clientY},{x:N,y:P.top},{x:W,y:P.top},{x:W,y:P.bottom},{x:N,y:P.bottom}],side:O}),window.clearTimeout(y.current),y.current=window.setTimeout(()=>h.onPointerGraceIntentChange(null),300)}else{if(h.onTriggerLeave(A),A.defaultPrevented)return;h.onPointerGraceIntentChange(null)}})),onKeyDown:Yt(e.onKeyDown,A=>{var R;const P=h.searchRef.current!=="";e.disabled||P&&A.key===" "||Q0e[s.dir].includes(A.key)&&(a.onOpenChange(!0),(R=a.content)==null||R.focus(),A.preventDefault())})})})});n7.displayName=Ig;var i7="MenuSubContent",o7=z.forwardRef((e,n)=>{const a=V8(cs,e.__scopeMenu),{forceMount:s=a.forceMount,...f}=e,h=cf(cs,e.__scopeMenu),_=kv(cs,e.__scopeMenu),y=r7(i7,e.__scopeMenu),T=z.useRef(null),I=Cn(n,T);return w.jsx(lv.Provider,{scope:e.__scopeMenu,children:w.jsx(Ga,{present:s||h.open,children:w.jsx(lv.Slot,{scope:e.__scopeMenu,children:w.jsx(iP,{id:y.contentId,"aria-labelledby":y.triggerId,...f,ref:I,align:"start",side:_.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:x=>{var A;_.isUsingKeyboardRef.current&&((A=T.current)==null||A.focus()),x.preventDefault()},onCloseAutoFocus:x=>x.preventDefault(),onFocusOutside:Yt(e.onFocusOutside,x=>{x.target!==y.trigger&&h.onOpenChange(!1)}),onEscapeKeyDown:Yt(e.onEscapeKeyDown,x=>{_.onClose(),x.preventDefault()}),onKeyDown:Yt(e.onKeyDown,x=>{var R;const A=x.currentTarget.contains(x.target),P=Y0e[_.dir].includes(x.key);A&&P&&(h.onOpenChange(!1),(R=y.trigger)==null||R.focus(),x.preventDefault())})})})})})});o7.displayName=i7;function a7(e){return e?"open":"closed"}function PS(e){return e==="indeterminate"}function sP(e){return PS(e)?"indeterminate":e?"checked":"unchecked"}function pSe(e){const n=document.activeElement;for(const a of e)if(a===n||(a.focus(),document.activeElement!==n))return}function mSe(e,n){return e.map((a,s)=>e[(n+s)%e.length])}function gSe(e,n,a){const f=n.length>1&&Array.from(n).every(I=>I===n[0])?n[0]:n,h=a?e.indexOf(a):-1;let _=mSe(e,Math.max(h,0));f.length===1&&(_=_.filter(I=>I!==a));const T=_.find(I=>I.toLowerCase().startsWith(f.toLowerCase()));return T!==a?T:void 0}function vSe(e,n){const{x:a,y:s}=e;let f=!1;for(let h=0,_=n.length-1;h<n.length;_=h++){const y=n[h],T=n[_],I=y.x,x=y.y,A=T.x,P=T.y;x>s!=P>s&&a<(A-I)*(s-x)/(P-x)+I&&(f=!f)}return f}function ySe(e,n){if(!n)return!1;const a={x:e.clientX,y:e.clientY};return vSe(a,n)}function cv(e){return n=>n.pointerType==="mouse"?e(n):void 0}var _Se=U8,SSe=tP,bSe=G8,CSe=H8,TSe=oP,ISe=z8,wSe=Cb,ESe=Q8,xSe=J8,ASe=X8,DSe=$8,PSe=e7,RSe=t7,kSe=n7,NSe=o7,Tb="DropdownMenu",[FSe,kCe]=Va(Tb,[j8]),Yo=j8(),[OSe,s7]=FSe(Tb),u7=e=>{const{__scopeDropdownMenu:n,children:a,dir:s,open:f,defaultOpen:h,onOpenChange:_,modal:y=!0}=e,T=Yo(n),I=z.useRef(null),[x,A]=Yc({prop:f,defaultProp:h??!1,onChange:_,caller:Tb});return w.jsx(OSe,{scope:n,triggerId:Mc(),triggerRef:I,contentId:Mc(),open:x,onOpenChange:A,onOpenToggle:z.useCallback(()=>A(P=>!P),[A]),modal:y,children:w.jsx(_Se,{...T,open:x,onOpenChange:A,dir:s,modal:y,children:a})})};u7.displayName=Tb;var l7="DropdownMenuTrigger",c7=z.forwardRef((e,n)=>{const{__scopeDropdownMenu:a,disabled:s=!1,...f}=e,h=s7(l7,a),_=Yo(a);return w.jsx(SSe,{asChild:!0,..._,children:w.jsx(yr.button,{type:"button",id:h.triggerId,"aria-haspopup":"menu","aria-expanded":h.open,"aria-controls":h.open?h.contentId:void 0,"data-state":h.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...f,ref:XS(n,h.triggerRef),onPointerDown:Yt(e.onPointerDown,y=>{!s&&y.button===0&&y.ctrlKey===!1&&(h.onOpenToggle(),h.open||y.preventDefault())}),onKeyDown:Yt(e.onKeyDown,y=>{s||(["Enter"," "].includes(y.key)&&h.onOpenToggle(),y.key==="ArrowDown"&&h.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(y.key)&&y.preventDefault())})})})});c7.displayName=l7;var MSe="DropdownMenuPortal",d7=e=>{const{__scopeDropdownMenu:n,...a}=e,s=Yo(n);return w.jsx(bSe,{...s,...a})};d7.displayName=MSe;var f7="DropdownMenuContent",h7=z.forwardRef((e,n)=>{const{__scopeDropdownMenu:a,...s}=e,f=s7(f7,a),h=Yo(a),_=z.useRef(!1);return w.jsx(CSe,{id:f.contentId,"aria-labelledby":f.triggerId,...h,...s,ref:n,onCloseAutoFocus:Yt(e.onCloseAutoFocus,y=>{var T;_.current||(T=f.triggerRef.current)==null||T.focus(),_.current=!1,y.preventDefault()}),onInteractOutside:Yt(e.onInteractOutside,y=>{const T=y.detail.originalEvent,I=T.button===0&&T.ctrlKey===!0,x=T.button===2||I;(!f.modal||x)&&(_.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});h7.displayName=f7;var LSe="DropdownMenuGroup",WSe=z.forwardRef((e,n)=>{const{__scopeDropdownMenu:a,...s}=e,f=Yo(a);return w.jsx(TSe,{...f,...s,ref:n})});WSe.displayName=LSe;var jSe="DropdownMenuLabel",p7=z.forwardRef((e,n)=>{const{__scopeDropdownMenu:a,...s}=e,f=Yo(a);return w.jsx(ISe,{...f,...s,ref:n})});p7.displayName=jSe;var BSe="DropdownMenuItem",m7=z.forwardRef((e,n)=>{const{__scopeDropdownMenu:a,...s}=e,f=Yo(a);return w.jsx(wSe,{...f,...s,ref:n})});m7.displayName=BSe;var USe="DropdownMenuCheckboxItem",g7=z.forwardRef((e,n)=>{const{__scopeDropdownMenu:a,...s}=e,f=Yo(a);return w.jsx(ESe,{...f,...s,ref:n})});g7.displayName=USe;var VSe="DropdownMenuRadioGroup",GSe=z.forwardRef((e,n)=>{const{__scopeDropdownMenu:a,...s}=e,f=Yo(a);return w.jsx(xSe,{...f,...s,ref:n})});GSe.displayName=VSe;var HSe="DropdownMenuRadioItem",v7=z.forwardRef((e,n)=>{const{__scopeDropdownMenu:a,...s}=e,f=Yo(a);return w.jsx(ASe,{...f,...s,ref:n})});v7.displayName=HSe;var zSe="DropdownMenuItemIndicator",y7=z.forwardRef((e,n)=>{const{__scopeDropdownMenu:a,...s}=e,f=Yo(a);return w.jsx(DSe,{...f,...s,ref:n})});y7.displayName=zSe;var KSe="DropdownMenuSeparator",_7=z.forwardRef((e,n)=>{const{__scopeDropdownMenu:a,...s}=e,f=Yo(a);return w.jsx(PSe,{...f,...s,ref:n})});_7.displayName=KSe;var QSe="DropdownMenuArrow",YSe=z.forwardRef((e,n)=>{const{__scopeDropdownMenu:a,...s}=e,f=Yo(a);return w.jsx(RSe,{...f,...s,ref:n})});YSe.displayName=QSe;var JSe="DropdownMenuSubTrigger",S7=z.forwardRef((e,n)=>{const{__scopeDropdownMenu:a,...s}=e,f=Yo(a);return w.jsx(kSe,{...f,...s,ref:n})});S7.displayName=JSe;var qSe="DropdownMenuSubContent",b7=z.forwardRef((e,n)=>{const{__scopeDropdownMenu:a,...s}=e,f=Yo(a);return w.jsx(NSe,{...f,...s,ref:n,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});b7.displayName=qSe;var XSe=u7,ZSe=c7,$Se=d7,C7=h7,T7=p7,I7=m7,w7=g7,E7=v7,x7=y7,A7=_7,D7=S7,P7=b7;const RS=XSe,kS=ZSe,ebe=z.forwardRef(({className:e,inset:n,children:a,...s},f)=>w.jsxs(D7,{ref:f,className:pr("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",n&&"pl-8",e),...s,children:[a,w.jsx(_D,{className:"ml-auto h-4 w-4"})]}));ebe.displayName=D7.displayName;const tbe=z.forwardRef(({className:e,...n},a)=>w.jsx(P7,{ref:a,className:pr("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));tbe.displayName=P7.displayName;const dv=z.forwardRef(({className:e,sideOffset:n=4,...a},s)=>w.jsx($Se,{children:w.jsx(C7,{ref:s,sideOffset:n,className:pr("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})}));dv.displayName=C7.displayName;const ss=z.forwardRef(({className:e,inset:n,...a},s)=>w.jsx(I7,{ref:s,className:pr("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",n&&"pl-8",e),...a}));ss.displayName=I7.displayName;const rbe=z.forwardRef(({className:e,children:n,checked:a,...s},f)=>w.jsxs(w7,{ref:f,className:pr("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:a,...s,children:[w.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:w.jsx(x7,{children:w.jsx(iH,{className:"h-4 w-4"})})}),n]}));rbe.displayName=w7.displayName;const nbe=z.forwardRef(({className:e,children:n,...a},s)=>w.jsxs(E7,{ref:s,className:pr("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...a,children:[w.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:w.jsx(x7,{children:w.jsx(oH,{className:"h-2 w-2 fill-current"})})}),n]}));nbe.displayName=E7.displayName;const m1=z.forwardRef(({className:e,inset:n,...a},s)=>w.jsx(T7,{ref:s,className:pr("px-2 py-1.5 text-sm font-semibold",n&&"pl-8",e),...a}));m1.displayName=T7.displayName;const z0=z.forwardRef(({className:e,...n},a)=>w.jsx(A7,{ref:a,className:pr("-mx-1 my-1 h-px bg-muted",e),...n}));z0.displayName=A7.displayName;const ibe=({folder:e,onClick:n,onRename:a,onDelete:s,selectionMode:f,selected:h,onToggleSelect:_})=>w.jsxs("div",{onClick:f?_??n:n,className:`group relative flex flex-col items-center text-center gap-3 p-4 bg-card rounded-xl border transition-all cursor-pointer ${h?"border-primary bg-primary/5":"border-border hover:border-primary/50 hover:bg-folder-hover"}`,children:[f&&w.jsx("input",{type:"checkbox",checked:!!h,onChange:y=>{y.stopPropagation(),_&&_()},className:"absolute left-2 top-2 w-4 h-4"}),w.jsxs("div",{className:"flex-shrink-0 w-20 h-20 bg-primary/10 rounded-lg flex items-center justify-center group-hover:bg-primary/20 transition-colors",children:[w.jsx(tv,{className:"w-12 h-12 text-primary group-hover:hidden"}),w.jsx(ev,{className:"w-12 h-12 text-primary hidden group-hover:block"})]}),w.jsx("div",{className:"flex-1 min-w-0",children:w.jsx("h3",{className:"font-medium text-sm text-foreground whitespace-normal break-words leading-snug",children:e.name})}),w.jsx("div",{className:"absolute top-2 right-2",onClick:y=>{y.stopPropagation()},children:w.jsxs(RS,{children:[w.jsx(kS,{asChild:!0,children:w.jsx("button",{className:"p-1 rounded-full hover:bg-accent transition-colors",children:w.jsx(aH,{className:"w-4 h-4 text-muted-foreground"})})}),w.jsxs(dv,{align:"end",children:[w.jsxs(ss,{onSelect:y=>{y.preventDefault(),a&&a()},children:[w.jsx(lH,{className:"w-4 h-4 mr-2"}),"Renommer"]}),w.jsxs(ss,{onSelect:y=>{y.preventDefault(),s&&s()},children:[w.jsx(SD,{className:"w-4 h-4 mr-2"}),"Supprimer"]})]})]})}),e.shared&&w.jsx("div",{className:"absolute bottom-2 right-2",children:w.jsx(cH,{className:"w-3.5 h-3.5 text-primary"})})]}),obe=e=>w.jsx(ipe,{className:"w-5 h-5 text-primary"}),abe=({document:e,selectionMode:n,selected:a,onToggleSelect:s,onView:f,onShare:h,onRename:_,onDownload:y,onDelete:T})=>{const I=e.name.replace(/\.[^.]+$/,"");return w.jsxs("div",{className:"flex items-center gap-3 p-3 bg-card rounded-lg border border-border hover:border-primary/30 hover:bg-accent/50 transition-all group",children:[w.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-muted rounded-lg flex items-center justify-center",children:obe(e.type)}),w.jsxs("div",{className:"flex-1 min-w-0",children:[w.jsx("h4",{className:"font-medium text-sm text-foreground truncate",children:I}),w.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[w.jsx("span",{children:e.size}),w.jsx("span",{children:""}),w.jsx("span",{children:e.author?`Par ${e.author}`:"Par "}),w.jsx("span",{children:""}),w.jsx("span",{children:new Date(e.created_at).toLocaleDateString("fr-FR")})]})]}),n?w.jsx(dt,{variant:a?"default":"outline",size:"icon",className:"transition-colors",type:"button",onClick:s,children:w.jsx(dH,{className:"w-4 h-4"})}):w.jsxs(RS,{children:[w.jsx(kS,{asChild:!0,children:w.jsx(dt,{variant:"ghost",size:"icon",className:"group-hover:opacity-100 transition-opacity",type:"button",children:w.jsx(aH,{className:"w-4 h-4"})})}),w.jsxs(dv,{align:"end",children:[w.jsxs(ss,{onSelect:x=>{x.preventDefault(),f&&f()},children:[w.jsx(sH,{className:"w-4 h-4 mr-2"}),"Voir"]}),w.jsxs(ss,{onSelect:x=>{x.preventDefault(),y&&y()},children:[w.jsx(rpe,{className:"w-4 h-4 mr-2"}),"Tlcharger"]}),w.jsxs(ss,{onSelect:x=>{x.preventDefault(),_&&_()},children:[w.jsx(lH,{className:"w-4 h-4 mr-2"}),"Renommer"]}),w.jsxs(ss,{onSelect:x=>{x.preventDefault(),T&&T()},children:[w.jsx(SD,{className:"w-4 h-4 mr-2"}),"Supprimer"]})]})]})]})},sbe=({path:e,onNavigate:n})=>w.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-4",children:[w.jsxs("button",{onClick:()=>n(null),className:"flex items-center gap-1 hover:text-foreground transition-colors",children:[w.jsx(ape,{className:"w-4 h-4"}),w.jsx("span",{children:"Accueil"})]}),e.map((a,s)=>w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(_D,{className:"w-4 h-4"}),w.jsx("button",{onClick:()=>n(a.id),className:`hover:text-foreground transition-colors ${s===e.length-1?"font-medium text-foreground":""}`,children:a.name})]},a.id))]});var ube="Label",R7=z.forwardRef((e,n)=>w.jsx(yr.label,{...e,ref:n,onMouseDown:a=>{var f;a.target.closest("button, input, select, textarea")||((f=e.onMouseDown)==null||f.call(e,a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));R7.displayName=ube;var k7=R7;const lbe=tb("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),sl=z.forwardRef(({className:e,...n},a)=>w.jsx(k7,{ref:a,className:pr(lbe(),e),...n}));sl.displayName=k7.displayName;var uP="Radio",[cbe,N7]=Va(uP),[dbe,fbe]=cbe(uP),F7=z.forwardRef((e,n)=>{const{__scopeRadio:a,name:s,checked:f=!1,required:h,disabled:_,value:y="on",onCheck:T,form:I,...x}=e,[A,P]=z.useState(null),R=Cn(n,L=>P(L)),E=z.useRef(!1),O=A?I||!!A.closest("form"):!0;return w.jsxs(dbe,{scope:a,checked:f,disabled:_,children:[w.jsx(yr.button,{type:"button",role:"radio","aria-checked":f,"data-state":W7(f),"data-disabled":_?"":void 0,disabled:_,value:y,...x,ref:R,onClick:Yt(e.onClick,L=>{f||T==null||T(),O&&(E.current=L.isPropagationStopped(),E.current||L.stopPropagation())})}),O&&w.jsx(L7,{control:A,bubbles:!E.current,name:s,value:y,checked:f,required:h,disabled:_,form:I,style:{transform:"translateX(-100%)"}})]})});F7.displayName=uP;var O7="RadioIndicator",M7=z.forwardRef((e,n)=>{const{__scopeRadio:a,forceMount:s,...f}=e,h=fbe(O7,a);return w.jsx(Ga,{present:s||h.checked,children:w.jsx(yr.span,{"data-state":W7(h.checked),"data-disabled":h.disabled?"":void 0,...f,ref:n})})});M7.displayName=O7;var hbe="RadioBubbleInput",L7=z.forwardRef(({__scopeRadio:e,control:n,checked:a,bubbles:s=!0,...f},h)=>{const _=z.useRef(null),y=Cn(_,h),T=$z(a),I=PD(n);return z.useEffect(()=>{const x=_.current;if(!x)return;const A=window.HTMLInputElement.prototype,R=Object.getOwnPropertyDescriptor(A,"checked").set;if(T!==a&&R){const E=new Event("click",{bubbles:s});R.call(x,a),x.dispatchEvent(E)}},[T,a,s]),w.jsx(yr.input,{type:"radio","aria-hidden":!0,defaultChecked:a,...f,tabIndex:-1,ref:y,style:{...f.style,...I,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});L7.displayName=hbe;function W7(e){return e?"checked":"unchecked"}var pbe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Ib="RadioGroup",[mbe,NCe]=Va(Ib,[xp,N7]),j7=xp(),B7=N7(),[gbe,vbe]=mbe(Ib),U7=z.forwardRef((e,n)=>{const{__scopeRadioGroup:a,name:s,defaultValue:f,value:h,required:_=!1,disabled:y=!1,orientation:T,dir:I,loop:x=!0,onValueChange:A,...P}=e,R=j7(a),E=fb(I),[O,L]=Yc({prop:h,defaultProp:f??null,onChange:A,caller:Ib});return w.jsx(gbe,{scope:a,name:s,required:_,disabled:y,value:O,onValueChange:L,children:w.jsx(zD,{asChild:!0,...R,orientation:T,dir:E,loop:x,children:w.jsx(yr.div,{role:"radiogroup","aria-required":_,"aria-orientation":T,"data-disabled":y?"":void 0,dir:E,...P,ref:n})})})});U7.displayName=Ib;var V7="RadioGroupItem",G7=z.forwardRef((e,n)=>{const{__scopeRadioGroup:a,disabled:s,...f}=e,h=vbe(V7,a),_=h.disabled||s,y=j7(a),T=B7(a),I=z.useRef(null),x=Cn(n,I),A=h.value===f.value,P=z.useRef(!1);return z.useEffect(()=>{const R=O=>{pbe.includes(O.key)&&(P.current=!0)},E=()=>P.current=!1;return document.addEventListener("keydown",R),document.addEventListener("keyup",E),()=>{document.removeEventListener("keydown",R),document.removeEventListener("keyup",E)}},[]),w.jsx(KD,{asChild:!0,...y,focusable:!_,active:A,children:w.jsx(F7,{disabled:_,required:h.required,checked:A,...T,...f,name:h.name,ref:x,onCheck:()=>h.onValueChange(f.value),onKeyDown:Yt(R=>{R.key==="Enter"&&R.preventDefault()}),onFocus:Yt(f.onFocus,()=>{var R;P.current&&((R=I.current)==null||R.click())})})})});G7.displayName=V7;var ybe="RadioGroupIndicator",H7=z.forwardRef((e,n)=>{const{__scopeRadioGroup:a,...s}=e,f=B7(a);return w.jsx(M7,{...f,...s,ref:n})});H7.displayName=ybe;var z7=U7,K7=G7,_be=H7;const Q7=z.forwardRef(({className:e,...n},a)=>w.jsx(z7,{className:pr("grid gap-2",e),...n,ref:a}));Q7.displayName=z7.displayName;const g1=z.forwardRef(({className:e,...n},a)=>w.jsx(K7,{ref:a,className:pr("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...n,children:w.jsx(_be,{className:"flex items-center justify-center",children:w.jsx(oH,{className:"h-2.5 w-2.5 fill-current text-current"})})}));g1.displayName=K7.displayName;const Sbe=({isOpen:e,onClose:n,folderName:a,folderId:s})=>{const[f,h]=z.useState("user"),[_,y]=z.useState([]),[T,I]=z.useState([]),{user:x}=ps(),{data:A}=Kr({queryKey:["visible-services",(x==null?void 0:x.id)??0],queryFn:S_e,staleTime:6e4}),{data:P}=Kr({queryKey:["enterprise-users",(x==null?void 0:x.id)??0],queryFn:b_e,staleTime:6e4}),R=()=>{const E=f==="service"?_.length:0,O=f==="user"?T.length:0;if(E===0&&O===0){Er.error("Slectionnez au moins un service ou un utilisateur.");return}Er.success("Partage effectu avec succs !",{description:f==="service"?`${E} service(s) ont t ajouts au partage de "${a}" (simulation).`:`${O} utilisateur(s) ont t ajouts au partage de "${a}" (simulation).`}),y([]),I([]),n()};return w.jsx(eo,{open:e,onOpenChange:n,children:w.jsxs(Bi,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[w.jsxs(Ui,{children:[w.jsx(Vi,{children:"Partager le document"}),w.jsxs(to,{children:['Choisissez les services ou utilisateurs avec qui partager "',a,'"']})]}),w.jsxs("div",{className:"space-y-6 py-4",children:[w.jsxs("div",{className:"space-y-3",children:[w.jsx(sl,{children:"Partager avec"}),w.jsxs(Q7,{value:f,onValueChange:E=>h(E),children:[w.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg border hover:bg-accent cursor-pointer",children:[w.jsx(g1,{value:"user",id:"user"}),w.jsx(bD,{className:"w-4 h-4 text-muted-foreground"}),w.jsx(sl,{htmlFor:"user",className:"cursor-pointer flex-1",children:"Utilisateur spcifique"})]}),w.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg border hover:bg-accent cursor-pointer",children:[w.jsx(g1,{value:"service",id:"service"}),w.jsx($he,{className:"w-4 h-4 text-muted-foreground"}),w.jsx(sl,{htmlFor:"service",className:"cursor-pointer flex-1",children:"Service"})]})]})]}),f==="service"&&w.jsxs("div",{className:"space-y-2",children:[w.jsx(sl,{children:"Services de l'entreprise"}),w.jsx("div",{className:"max-h-60 overflow-y-auto space-y-1",children:(A??[]).map(E=>{const O=_.includes(E.id);return w.jsx("button",{type:"button",onClick:()=>y(L=>L.includes(E.id)?L.filter(k=>k!==E.id):[...L,E.id]),className:`w-full flex items-center justify-between px-3 py-2 rounded-md border text-left text-sm transition-colors ${O?"bg-primary/10 border-primary text-primary":"border-border hover:bg-accent"}`,children:w.jsx("span",{children:E.name})},E.id)})})]}),f==="user"&&w.jsxs("div",{className:"space-y-2",children:[w.jsx(sl,{children:"Utilisateurs de l'entreprise"}),w.jsx("div",{className:"max-h-60 overflow-y-auto space-y-1",children:(P??[]).map(E=>{const O=T.includes(E.id);return w.jsxs("button",{type:"button",onClick:()=>I(L=>L.includes(E.id)?L.filter(k=>k!==E.id):[...L,E.id]),className:`w-full flex items-center justify-between px-3 py-2 rounded-md border text-left text-sm transition-colors ${O?"bg-primary/10 border-primary text-primary":"border-border hover:bg-accent"}`,children:[w.jsx("span",{children:`${E.first_name} ${E.last_name}`.trim()}),w.jsx("span",{className:"text-xs text-muted-foreground",children:E.email})]},E.id)})})]})]}),w.jsxs("div",{className:"flex justify-end gap-2",children:[w.jsxs(dt,{variant:"outline",onClick:n,"aria-label":"Annuler",children:[w.jsx(Tv,{className:"w-4 h-4 md:mr-2"}),w.jsx("span",{className:"hidden md:inline",children:"Annuler"})]}),w.jsxs(dt,{onClick:R,"aria-label":"Partager",children:[w.jsx(cH,{className:"w-4 h-4 md:mr-2"}),w.jsx("span",{className:"hidden md:inline",children:"Partager"})]})]})]})})};/*!
 * Dynamsoft JavaScript Library
 * @product Dynamsoft Core JS Edition
 * @website https://www.dynamsoft.com
 * @copyright Copyright 2024, Dynamsoft Corporation
 * @author Dynamsoft
 * @version 3.4.31
 * @fileoverview Dynamsoft JavaScript Library for Core
 * More info on Dynamsoft Core JS: https://www.dynamsoft.com/capture-vision/docs/web/programming/javascript/api-reference/core/core-module.html
 */const LV=e=>e&&typeof e=="object"&&typeof e.then=="function",WV=(async()=>{})().constructor;class lP extends WV{get status(){return this._s}get isPending(){return this._s==="pending"}get isFulfilled(){return this._s==="fulfilled"}get isRejected(){return this._s==="rejected"}get task(){return this._task}set task(n){let a;this._task=n,LV(n)?a=n:typeof n=="function"&&(a=new WV(n)),a&&(async()=>{try{const s=await a;n===this._task&&this.resolve(s)}catch(s){n===this._task&&this.reject(s)}})()}get isEmpty(){return this._task==null}constructor(n){let a,s;super((f,h)=>{a=f,s=h}),this._s="pending",this.resolve=f=>{this.isPending&&(LV(f)?this.task=f:(this._s="fulfilled",a(f)))},this.reject=f=>{this.isPending&&(this._s="rejected",s(f))},this.task=n}}var jV,BV,UV;typeof SuppressedError=="function"&&SuppressedError,function(e){e[e.BOPM_BLOCK=0]="BOPM_BLOCK",e[e.BOPM_UPDATE=1]="BOPM_UPDATE"}(jV||(jV={})),function(e){e[e.CCUT_AUTO=0]="CCUT_AUTO",e[e.CCUT_FULL_CHANNEL=1]="CCUT_FULL_CHANNEL",e[e.CCUT_Y_CHANNEL_ONLY=2]="CCUT_Y_CHANNEL_ONLY",e[e.CCUT_RGB_R_CHANNEL_ONLY=3]="CCUT_RGB_R_CHANNEL_ONLY",e[e.CCUT_RGB_G_CHANNEL_ONLY=4]="CCUT_RGB_G_CHANNEL_ONLY",e[e.CCUT_RGB_B_CHANNEL_ONLY=5]="CCUT_RGB_B_CHANNEL_ONLY"}(BV||(BV={})),function(e){e[e.IPF_BINARY=0]="IPF_BINARY",e[e.IPF_BINARYINVERTED=1]="IPF_BINARYINVERTED",e[e.IPF_GRAYSCALED=2]="IPF_GRAYSCALED",e[e.IPF_NV21=3]="IPF_NV21",e[e.IPF_RGB_565=4]="IPF_RGB_565",e[e.IPF_RGB_555=5]="IPF_RGB_555",e[e.IPF_RGB_888=6]="IPF_RGB_888",e[e.IPF_ARGB_8888=7]="IPF_ARGB_8888",e[e.IPF_RGB_161616=8]="IPF_RGB_161616",e[e.IPF_ARGB_16161616=9]="IPF_ARGB_16161616",e[e.IPF_ABGR_8888=10]="IPF_ABGR_8888",e[e.IPF_ABGR_16161616=11]="IPF_ABGR_16161616",e[e.IPF_BGR_888=12]="IPF_BGR_888",e[e.IPF_BINARY_8=13]="IPF_BINARY_8",e[e.IPF_NV12=14]="IPF_NV12",e[e.IPF_BINARY_8_INVERTED=15]="IPF_BINARY_8_INVERTED"}(UV||(UV={}));const NS=typeof self>"u",Y7=typeof importScripts=="function",VV=(()=>{if(!Y7){if(!NS&&document.currentScript){let e=document.currentScript.src,n=e.indexOf("?");if(n!=-1)e=e.substring(0,n);else{let a=e.indexOf("#");a!=-1&&(e=e.substring(0,a))}return e.substring(0,e.lastIndexOf("/")+1)}return"./"}})(),J7=e=>{if(e==null&&(e="./"),!(NS||Y7)){let n=document.createElement("a");n.href=e,e=n.href}return e.endsWith("/")||(e+="/"),e},bbe=e=>{const n={},a={std:"dynamsoft-capture-vision-std",dip:"dynamsoft-image-processing",core:"dynamsoft-core",dnn:"dynamsoft-capture-vision-dnn",license:"dynamsoft-license",utility:"dynamsoft-utility",cvr:"dynamsoft-capture-vision-router",dbr:"dynamsoft-barcode-reader",dlr:"dynamsoft-label-recognizer",ddn:"dynamsoft-document-normalizer",dcp:"dynamsoft-code-parser",dcpd:"dynamsoft-code-parser",dlrData:"dynamsoft-label-recognizer-data",dce:"dynamsoft-camera-enhancer",ddv:"dynamsoft-document-viewer"};for(let s in e){if(s==="rootDirectory")continue;let f=s,h=e[f],_=h&&typeof h=="object"&&h.path?h.path:h,y=e.rootDirectory;if(y&&!y.endsWith("/")&&(y+="/"),typeof h=="object"&&h.isInternal)y&&(_=e[f].version?`${y}${a[f]}@${e[f].version}/dist/${f==="ddv"?"engine":""}`:`${y}${a[f]}/dist/${f==="ddv"?"engine":""}`);else{const T=/^@engineRootDirectory(\/?)/;if(typeof _=="string"&&(_=_.replace(T,y||"")),typeof _=="object"&&f==="dwt"){const I=e[f].resourcesPath,x=e[f].serviceInstallerLocation;n[f]={resourcesPath:I.replace(T,y||""),serviceInstallerLocation:x.replace(T,y||"")};continue}}n[f]=J7(_)}return n};let gg,ul,w0,FS,pa;typeof navigator<"u"&&(gg=navigator,ul=gg.userAgent,w0=gg.platform,FS=gg.mediaDevices),function(){if(!NS){const e={Edge:{search:"Edg",verSearch:"Edg"},OPR:null,Chrome:null,Safari:{str:gg.vendor,search:"Apple",verSearch:["Version","iPhone OS","CPU OS"]},Firefox:null,Explorer:{search:"MSIE",verSearch:"MSIE"}},n={HarmonyOS:null,Android:null,iPhone:null,iPad:null,Windows:{str:w0,search:"Win"},Mac:{str:w0},Linux:{str:w0}};let a="unknownBrowser",s=0,f="unknownOS";for(let h in e){const _=e[h]||{};let y=_.str||ul,T=_.search||h,I=_.verStr||ul,x=_.verSearch||h;if(x instanceof Array||(x=[x]),y.indexOf(T)!=-1){a=h;for(let A of x){let P=I.indexOf(A);if(P!=-1){s=parseFloat(I.substring(P+A.length+1));break}}break}}for(let h in n){const _=n[h]||{};let y=_.str||ul,T=_.search||h;if(y.indexOf(T)!=-1){f=h;break}}f=="Linux"&&ul.indexOf("Windows NT")!=-1&&(f="HarmonyOS"),pa={browser:a,version:s,OS:f}}NS&&(pa={browser:"ssr",version:0,OS:"ssr"})}();const Cbe=typeof WebAssembly<"u"&&ul&&!(/Safari/.test(ul)&&!/Chrome/.test(ul)&&/\(.+\s11_2_([2-6]).*\)/.test(ul)),Tbe=!(typeof Worker>"u"),q7=!(!FS||!FS.getUserMedia),Ibe=async()=>{let e=!1;if(q7)try{(await FS.getUserMedia({video:!0})).getTracks().forEach(n=>{n.stop()}),e=!0}catch{}return e};pa.browser==="Chrome"&&pa.version>66||pa.browser==="Safari"&&pa.version>13||pa.browser==="OPR"&&pa.version>43||pa.browser==="Edge"&&pa.version;const Hc={},GV=async e=>{let n=typeof e=="string"?[e]:e,a=[];for(let s of n)a.push(Hc[s]=Hc[s]||new lP);await Promise.all(a)},wbe=async(e,n)=>{let a,s=typeof e=="string"?[e]:e,f=[];for(let h of s){let _;f.push(_=Hc[h]=Hc[h]||new lP(a=a||n())),_.isEmpty&&(_.task=a=a||n())}await Promise.all(f)};let Pu,X7=0;const HV=()=>X7++,Od={};let Mg;const Ebe=e=>{Mg=e,Pu&&Pu.postMessage({type:"setBLog",body:{value:!!e}})};let cP=!1;const xbe=e=>{cP=e,Pu&&Pu.postMessage({type:"setBDebug",body:{value:!!e}})},wg={},Abe={},Vx={dip:{wasm:!0}},v1={std:{version:"1.4.21",path:J7(VV+"../../dynamsoft-capture-vision-std@1.4.21/dist/"),isInternal:!0},core:{version:"3.4.31",path:VV,isInternal:!0}},Dbe=async e=>{let n;e instanceof Array||(e=e?[e]:[]);let a=Hc.core;n=!a||a.isEmpty;let s=new Map;const f=y=>{if((y=y.toLowerCase())=="std"||y=="core")return;if(!Vx[y])throw Error("The '"+y+"' module cannot be found.");let T=Vx[y].deps;if(T!=null&&T.length)for(let x of T)f(x);let I=Hc[y];s.has(y)||s.set(y,!I||I.isEmpty)};for(let y of e)f(y);let h=[];n&&h.push("core"),h.push(...s.keys());const _=[...s.entries()].filter(y=>!y[1]).map(y=>y[0]);await wbe(h,async()=>{const y=[...s.entries()].filter(R=>R[1]).map(R=>R[0]);await GV(_);const T=bbe(v1),I={};for(let R of y)I[R]=Vx[R];const x={engineResourcePaths:T,autoResources:I,names:y};let A=new lP;if(n){x.needLoadCore=!0;let R=T.core+Ks._workerName;R.startsWith(location.origin)||(R=await fetch(R).then(E=>E.blob()).then(E=>URL.createObjectURL(E))),Pu=new Worker(R),Pu.onerror=E=>{let O=new Error(E.message);A.reject(O)},Pu.addEventListener("message",E=>{let O=E.data?E.data:E,L=O.type,k=O.id,N=O.body;switch(L){case"log":Mg&&Mg(O.message);break;case"task":try{Od[k](N),delete Od[k]}catch(W){throw delete Od[k],W}break;case"event":try{Od[k](N)}catch(W){throw W}break;default:console.log(E)}}),x.bLog=!!Mg,x.bd=cP,x.dm=location.origin.startsWith("http")?location.origin:"https://localhost"}else await GV("core");let P=X7++;Od[P]=R=>{if(R.success)Object.assign(wg,R.versions),JSON.stringify(R.versions)!=="{}"&&(Ks._versions=R.versions),A.resolve(void 0);else{const E=Error(R.message);R.stack&&(E.stack=R.stack),A.reject(E)}},Pu.postMessage({type:"loadWasm",body:x,id:P}),await A})};class Ks{static get engineResourcePaths(){return v1}static set engineResourcePaths(n){Object.assign(v1,n)}static get bSupportDce4Module(){return this._bSupportDce4Module}static get bSupportIRTModule(){return this._bSupportIRTModule}static get versions(){return this._versions}static get _onLog(){return Mg}static set _onLog(n){Ebe(n)}static get _bDebug(){return cP}static set _bDebug(n){xbe(n)}static isModuleLoaded(n){return n=(n=n||"core").toLowerCase(),!!Hc[n]&&Hc[n].isFulfilled}static async loadWasm(n){return await Dbe(n)}static async detectEnvironment(){return await(async()=>({wasm:Cbe,worker:Tbe,getUserMedia:q7,camera:await Ibe(),browser:pa.browser,version:pa.version,OS:pa.OS}))()}static async getModuleVersion(){return await new Promise((n,a)=>{let s=HV();Od[s]=async f=>{if(f.success)return n(f.versions);{let h=new Error(f.message);return h.stack=f.stack+`
`+h.stack,a(h)}},Pu.postMessage({type:"getModuleVersion",id:s})})}static getVersion(){const n=wg.core&&wg.core.worker,a=wg.core&&wg.core.wasm;return`3.4.31(Worker: ${n||"Not Loaded"}, Wasm: ${a||"Not Loaded"})`}static enableLogging(){Ks._onLog=console.log}static disableLogging(){Ks._onLog=null}static async cfd(n){return await new Promise((a,s)=>{let f=HV();Od[f]=async h=>{if(h.success)return a();{let _=new Error(h.message);return _.stack=h.stack+`
`+_.stack,s(_)}},Pu.postMessage({type:"cfd",id:f,body:{count:n}})})}}var zV,KV,QV,YV,JV,qV,XV,ZV,$V;Ks._bSupportDce4Module=-1,Ks._bSupportIRTModule=-1,Ks._versions=null,Ks._workerName="core.worker.js",Ks.browserInfo=pa,function(e){e[e.CRIT_ORIGINAL_IMAGE=1]="CRIT_ORIGINAL_IMAGE",e[e.CRIT_BARCODE=2]="CRIT_BARCODE",e[e.CRIT_TEXT_LINE=4]="CRIT_TEXT_LINE",e[e.CRIT_DETECTED_QUAD=8]="CRIT_DETECTED_QUAD",e[e.CRIT_NORMALIZED_IMAGE=16]="CRIT_NORMALIZED_IMAGE",e[e.CRIT_PARSED_RESULT=32]="CRIT_PARSED_RESULT"}(zV||(zV={})),function(e){e[e.CT_NORMAL_INTERSECTED=0]="CT_NORMAL_INTERSECTED",e[e.CT_T_INTERSECTED=1]="CT_T_INTERSECTED",e[e.CT_CROSS_INTERSECTED=2]="CT_CROSS_INTERSECTED",e[e.CT_NOT_INTERSECTED=3]="CT_NOT_INTERSECTED"}(KV||(KV={})),function(e){e[e.EC_OK=0]="EC_OK",e[e.EC_UNKNOWN=-1e4]="EC_UNKNOWN",e[e.EC_NO_MEMORY=-10001]="EC_NO_MEMORY",e[e.EC_NULL_POINTER=-10002]="EC_NULL_POINTER",e[e.EC_LICENSE_INVALID=-10003]="EC_LICENSE_INVALID",e[e.EC_LICENSE_EXPIRED=-10004]="EC_LICENSE_EXPIRED",e[e.EC_FILE_NOT_FOUND=-10005]="EC_FILE_NOT_FOUND",e[e.EC_FILE_TYPE_NOT_SUPPORTED=-10006]="EC_FILE_TYPE_NOT_SUPPORTED",e[e.EC_BPP_NOT_SUPPORTED=-10007]="EC_BPP_NOT_SUPPORTED",e[e.EC_INDEX_INVALID=-10008]="EC_INDEX_INVALID",e[e.EC_CUSTOM_REGION_INVALID=-10010]="EC_CUSTOM_REGION_INVALID",e[e.EC_IMAGE_READ_FAILED=-10012]="EC_IMAGE_READ_FAILED",e[e.EC_TIFF_READ_FAILED=-10013]="EC_TIFF_READ_FAILED",e[e.EC_DIB_BUFFER_INVALID=-10018]="EC_DIB_BUFFER_INVALID",e[e.EC_PDF_READ_FAILED=-10021]="EC_PDF_READ_FAILED",e[e.EC_PDF_DLL_MISSING=-10022]="EC_PDF_DLL_MISSING",e[e.EC_PAGE_NUMBER_INVALID=-10023]="EC_PAGE_NUMBER_INVALID",e[e.EC_CUSTOM_SIZE_INVALID=-10024]="EC_CUSTOM_SIZE_INVALID",e[e.EC_TIMEOUT=-10026]="EC_TIMEOUT",e[e.EC_JSON_PARSE_FAILED=-10030]="EC_JSON_PARSE_FAILED",e[e.EC_JSON_TYPE_INVALID=-10031]="EC_JSON_TYPE_INVALID",e[e.EC_JSON_KEY_INVALID=-10032]="EC_JSON_KEY_INVALID",e[e.EC_JSON_VALUE_INVALID=-10033]="EC_JSON_VALUE_INVALID",e[e.EC_JSON_NAME_KEY_MISSING=-10034]="EC_JSON_NAME_KEY_MISSING",e[e.EC_JSON_NAME_VALUE_DUPLICATED=-10035]="EC_JSON_NAME_VALUE_DUPLICATED",e[e.EC_TEMPLATE_NAME_INVALID=-10036]="EC_TEMPLATE_NAME_INVALID",e[e.EC_JSON_NAME_REFERENCE_INVALID=-10037]="EC_JSON_NAME_REFERENCE_INVALID",e[e.EC_PARAMETER_VALUE_INVALID=-10038]="EC_PARAMETER_VALUE_INVALID",e[e.EC_DOMAIN_NOT_MATCH=-10039]="EC_DOMAIN_NOT_MATCH",e[e.EC_RESERVED_INFO_NOT_MATCH=-10040]="EC_RESERVED_INFO_NOT_MATCH",e[e.EC_LICENSE_KEY_NOT_MATCH=-10043]="EC_LICENSE_KEY_NOT_MATCH",e[e.EC_REQUEST_FAILED=-10044]="EC_REQUEST_FAILED",e[e.EC_LICENSE_INIT_FAILED=-10045]="EC_LICENSE_INIT_FAILED",e[e.EC_SET_MODE_ARGUMENT_ERROR=-10051]="EC_SET_MODE_ARGUMENT_ERROR",e[e.EC_LICENSE_CONTENT_INVALID=-10052]="EC_LICENSE_CONTENT_INVALID",e[e.EC_LICENSE_KEY_INVALID=-10053]="EC_LICENSE_KEY_INVALID",e[e.EC_LICENSE_DEVICE_RUNS_OUT=-10054]="EC_LICENSE_DEVICE_RUNS_OUT",e[e.EC_GET_MODE_ARGUMENT_ERROR=-10055]="EC_GET_MODE_ARGUMENT_ERROR",e[e.EC_IRT_LICENSE_INVALID=-10056]="EC_IRT_LICENSE_INVALID",e[e.EC_FILE_SAVE_FAILED=-10058]="EC_FILE_SAVE_FAILED",e[e.EC_STAGE_TYPE_INVALID=-10059]="EC_STAGE_TYPE_INVALID",e[e.EC_IMAGE_ORIENTATION_INVALID=-10060]="EC_IMAGE_ORIENTATION_INVALID",e[e.EC_CONVERT_COMPLEX_TEMPLATE_ERROR=-10061]="EC_CONVERT_COMPLEX_TEMPLATE_ERROR",e[e.EC_CALL_REJECTED_WHEN_CAPTURING=-10062]="EC_CALL_REJECTED_WHEN_CAPTURING",e[e.EC_NO_IMAGE_SOURCE=-10063]="EC_NO_IMAGE_SOURCE",e[e.EC_READ_DIRECTORY_FAILED=-10064]="EC_READ_DIRECTORY_FAILED",e[e.EC_MODULE_NOT_FOUND=-10065]="EC_MODULE_NOT_FOUND",e[e.EC_MULTI_PAGES_NOT_SUPPORTED=-10066]="EC_MULTI_PAGES_NOT_SUPPORTED",e[e.EC_FILE_ALREADY_EXISTS=-10067]="EC_FILE_ALREADY_EXISTS",e[e.EC_CREATE_FILE_FAILED=-10068]="EC_CREATE_FILE_FAILED",e[e.EC_IMGAE_DATA_INVALID=-10069]="EC_IMGAE_DATA_INVALID",e[e.EC_IMAGE_SIZE_NOT_MATCH=-10070]="EC_IMAGE_SIZE_NOT_MATCH",e[e.EC_IMAGE_PIXEL_FORMAT_NOT_MATCH=-10071]="EC_IMAGE_PIXEL_FORMAT_NOT_MATCH",e[e.EC_SECTION_LEVEL_RESULT_IRREPLACEABLE=-10072]="EC_SECTION_LEVEL_RESULT_IRREPLACEABLE",e[e.EC_AXIS_DEFINITION_INCORRECT=-10073]="EC_AXIS_DEFINITION_INCORRECT",e[e.EC_RESULT_TYPE_MISMATCH_IRREPLACEABLE=-10074]="EC_RESULT_TYPE_MISMATCH_IRREPLACEABLE",e[e.EC_PDF_LIBRARY_LOAD_FAILED=-10075]="EC_PDF_LIBRARY_LOAD_FAILED",e[e.EC_NO_LICENSE=-2e4]="EC_NO_LICENSE",e[e.EC_HANDSHAKE_CODE_INVALID=-20001]="EC_HANDSHAKE_CODE_INVALID",e[e.EC_LICENSE_BUFFER_FAILED=-20002]="EC_LICENSE_BUFFER_FAILED",e[e.EC_LICENSE_SYNC_FAILED=-20003]="EC_LICENSE_SYNC_FAILED",e[e.EC_DEVICE_NOT_MATCH=-20004]="EC_DEVICE_NOT_MATCH",e[e.EC_BIND_DEVICE_FAILED=-20005]="EC_BIND_DEVICE_FAILED",e[e.EC_INSTANCE_COUNT_OVER_LIMIT=-20008]="EC_INSTANCE_COUNT_OVER_LIMIT",e[e.EC_LICENSE_INIT_SEQUENCE_FAILED=-20009]="EC_LICENSE_INIT_SEQUENCE_FAILED",e[e.EC_TRIAL_LICENSE=-20010]="EC_TRIAL_LICENSE",e[e.EC_FAILED_TO_REACH_DLS=-20200]="EC_FAILED_TO_REACH_DLS",e[e.EC_LICENSE_CACHE_USED=-20012]="EC_LICENSE_CACHE_USED",e[e.EC_BARCODE_FORMAT_INVALID=-30009]="EC_BARCODE_FORMAT_INVALID",e[e.EC_QR_LICENSE_INVALID=-30016]="EC_QR_LICENSE_INVALID",e[e.EC_1D_LICENSE_INVALID=-30017]="EC_1D_LICENSE_INVALID",e[e.EC_PDF417_LICENSE_INVALID=-30019]="EC_PDF417_LICENSE_INVALID",e[e.EC_DATAMATRIX_LICENSE_INVALID=-30020]="EC_DATAMATRIX_LICENSE_INVALID",e[e.EC_CUSTOM_MODULESIZE_INVALID=-30025]="EC_CUSTOM_MODULESIZE_INVALID",e[e.EC_AZTEC_LICENSE_INVALID=-30041]="EC_AZTEC_LICENSE_INVALID",e[e.EC_PATCHCODE_LICENSE_INVALID=-30046]="EC_PATCHCODE_LICENSE_INVALID",e[e.EC_POSTALCODE_LICENSE_INVALID=-30047]="EC_POSTALCODE_LICENSE_INVALID",e[e.EC_DPM_LICENSE_INVALID=-30048]="EC_DPM_LICENSE_INVALID",e[e.EC_FRAME_DECODING_THREAD_EXISTS=-30049]="EC_FRAME_DECODING_THREAD_EXISTS",e[e.EC_STOP_DECODING_THREAD_FAILED=-30050]="EC_STOP_DECODING_THREAD_FAILED",e[e.EC_MAXICODE_LICENSE_INVALID=-30057]="EC_MAXICODE_LICENSE_INVALID",e[e.EC_GS1_DATABAR_LICENSE_INVALID=-30058]="EC_GS1_DATABAR_LICENSE_INVALID",e[e.EC_GS1_COMPOSITE_LICENSE_INVALID=-30059]="EC_GS1_COMPOSITE_LICENSE_INVALID",e[e.EC_DOTCODE_LICENSE_INVALID=-30061]="EC_DOTCODE_LICENSE_INVALID",e[e.EC_PHARMACODE_LICENSE_INVALID=-30062]="EC_PHARMACODE_LICENSE_INVALID",e[e.EC_CHARACTER_MODEL_FILE_NOT_FOUND=-40100]="EC_CHARACTER_MODEL_FILE_NOT_FOUND",e[e.EC_TEXT_LINE_GROUP_LAYOUT_CONFLICT=-40101]="EC_TEXT_LINE_GROUP_LAYOUT_CONFLICT",e[e.EC_TEXT_LINE_GROUP_REGEX_CONFLICT=-40102]="EC_TEXT_LINE_GROUP_REGEX_CONFLICT",e[e.EC_QUADRILATERAL_INVALID=-50057]="EC_QUADRILATERAL_INVALID",e[e.EC_PANORAMA_LICENSE_INVALID=-70060]="EC_PANORAMA_LICENSE_INVALID",e[e.EC_RESOURCE_PATH_NOT_EXIST=-90001]="EC_RESOURCE_PATH_NOT_EXIST",e[e.EC_RESOURCE_LOAD_FAILED=-90002]="EC_RESOURCE_LOAD_FAILED",e[e.EC_CODE_SPECIFICATION_NOT_FOUND=-90003]="EC_CODE_SPECIFICATION_NOT_FOUND",e[e.EC_FULL_CODE_EMPTY=-90004]="EC_FULL_CODE_EMPTY",e[e.EC_FULL_CODE_PREPROCESS_FAILED=-90005]="EC_FULL_CODE_PREPROCESS_FAILED",e[e.EC_ZA_DL_LICENSE_INVALID=-90006]="EC_ZA_DL_LICENSE_INVALID",e[e.EC_AAMVA_DL_ID_LICENSE_INVALID=-90007]="EC_AAMVA_DL_ID_LICENSE_INVALID",e[e.EC_AADHAAR_LICENSE_INVALID=-90008]="EC_AADHAAR_LICENSE_INVALID",e[e.EC_MRTD_LICENSE_INVALID=-90009]="EC_MRTD_LICENSE_INVALID",e[e.EC_VIN_LICENSE_INVALID=-90010]="EC_VIN_LICENSE_INVALID",e[e.EC_CUSTOMIZED_CODE_TYPE_LICENSE_INVALID=-90011]="EC_CUSTOMIZED_CODE_TYPE_LICENSE_INVALID",e[e.EC_LICENSE_WARNING=-10076]="EC_LICENSE_WARNING",e[e.EC_BARCODE_READER_LICENSE_NOT_FOUND=-30063]="EC_BARCODE_READER_LICENSE_NOT_FOUND",e[e.EC_LABEL_RECOGNIZER_LICENSE_NOT_FOUND=-40103]="EC_LABEL_RECOGNIZER_LICENSE_NOT_FOUND",e[e.EC_DOCUMENT_NORMALIZER_LICENSE_NOT_FOUND=-50058]="EC_DOCUMENT_NORMALIZER_LICENSE_NOT_FOUND",e[e.EC_CODE_PARSER_LICENSE_NOT_FOUND=-90012]="EC_CODE_PARSER_LICENSE_NOT_FOUND"}(QV||(QV={})),function(e){e[e.GEM_SKIP=0]="GEM_SKIP",e[e.GEM_AUTO=1]="GEM_AUTO",e[e.GEM_GENERAL=2]="GEM_GENERAL",e[e.GEM_GRAY_EQUALIZE=4]="GEM_GRAY_EQUALIZE",e[e.GEM_GRAY_SMOOTH=8]="GEM_GRAY_SMOOTH",e[e.GEM_SHARPEN_SMOOTH=16]="GEM_SHARPEN_SMOOTH",e[e.GEM_REV=-2147483648]="GEM_REV"}(YV||(YV={})),function(e){e[e.GTM_SKIP=0]="GTM_SKIP",e[e.GTM_INVERTED=1]="GTM_INVERTED",e[e.GTM_ORIGINAL=2]="GTM_ORIGINAL",e[e.GTM_AUTO=4]="GTM_AUTO",e[e.GTM_REV=-2147483648]="GTM_REV"}(JV||(JV={})),function(e){e[e.ITT_FILE_IMAGE=0]="ITT_FILE_IMAGE",e[e.ITT_VIDEO_FRAME=1]="ITT_VIDEO_FRAME"}(qV||(qV={})),function(e){e[e.PDFRM_VECTOR=1]="PDFRM_VECTOR",e[e.PDFRM_RASTER=2]="PDFRM_RASTER",e[e.PDFRM_REV=-2147483648]="PDFRM_REV"}(XV||(XV={})),function(e){e[e.RDS_RASTERIZED_PAGES=0]="RDS_RASTERIZED_PAGES",e[e.RDS_EXTRACTED_IMAGES=1]="RDS_EXTRACTED_IMAGES"}(ZV||(ZV={})),function(e){e[e.CVS_NOT_VERIFIED=0]="CVS_NOT_VERIFIED",e[e.CVS_PASSED=1]="CVS_PASSED",e[e.CVS_FAILED=2]="CVS_FAILED"}($V||($V={}));BigInt(0),BigInt(1),BigInt(2),BigInt(4),BigInt(8),BigInt(16),BigInt(32),BigInt(64),BigInt(128),BigInt(256),BigInt(512),BigInt(1024),BigInt(2048),BigInt(4096),BigInt(8192),BigInt(16384),BigInt(32768),BigInt(65536),BigInt(1<<17),BigInt(1<<18),BigInt(1<<19),BigInt(1<<20),BigInt(1<<21),BigInt(1<<22),BigInt(1<<23),BigInt(1<<24),BigInt(1<<25),BigInt(1<<26),BigInt(1<<27),BigInt(1<<28),BigInt(1<<29),BigInt("0xFFFFFFFFFFFFFFFF");var e5,t5;(function(e){e[e.ROET_PREDETECTED_REGION=0]="ROET_PREDETECTED_REGION",e[e.ROET_LOCALIZED_BARCODE=1]="ROET_LOCALIZED_BARCODE",e[e.ROET_DECODED_BARCODE=2]="ROET_DECODED_BARCODE",e[e.ROET_LOCALIZED_TEXT_LINE=3]="ROET_LOCALIZED_TEXT_LINE",e[e.ROET_RECOGNIZED_TEXT_LINE=4]="ROET_RECOGNIZED_TEXT_LINE",e[e.ROET_DETECTED_QUAD=5]="ROET_DETECTED_QUAD",e[e.ROET_NORMALIZED_IMAGE=6]="ROET_NORMALIZED_IMAGE",e[e.ROET_SOURCE_IMAGE=7]="ROET_SOURCE_IMAGE",e[e.ROET_TARGET_ROI=8]="ROET_TARGET_ROI"})(e5||(e5={})),function(e){e[e.ST_NULL=0]="ST_NULL",e[e.ST_REGION_PREDETECTION=1]="ST_REGION_PREDETECTION",e[e.ST_BARCODE_LOCALIZATION=2]="ST_BARCODE_LOCALIZATION",e[e.ST_BARCODE_DECODING=3]="ST_BARCODE_DECODING",e[e.ST_TEXT_LINE_LOCALIZATION=4]="ST_TEXT_LINE_LOCALIZATION",e[e.ST_TEXT_LINE_RECOGNITION=5]="ST_TEXT_LINE_RECOGNITION",e[e.ST_DOCUMENT_DETECTION=6]="ST_DOCUMENT_DETECTION",e[e.ST_DOCUMENT_NORMALIZATION=7]="ST_DOCUMENT_NORMALIZATION"}(t5||(t5={}));var r5={};/*! 20251210194900 - 20230504
* Dynamsoft JavaScript Library
* Product: Dynamic Web TWAIN
* Web Site: https://www.dynamsoft.com
*
* Copyright 2025, Dynamsoft Corporation
* Author: Dynamsoft Support Team
* Version: 19.3
*/var dP=function(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}}(),J=dP.Dynamsoft||{};(function(e){e.DWT||(e.DWT={}),e.DWT.LTS||(e.DWT.LTS={}),e.Lib||(e.Lib={}),e.Lib.UI||(e.Lib.UI={}),e.Lib.html5||(e.Lib.html5={}),dP.Dynamsoft=e})(J);(function(e){if(!e.WeakSet){let _=function(y){this.name="__st"+(1e9*Math.random()>>>0)+(n+++"__"),y&&y.forEach&&y.forEach(this.add,this)};e.WeakSet=_;var n=Date.now()%1e9,a=_.prototype;a.add=function(y){var T=this.name;return y[T]||Object.defineProperty(y,T,{value:!0,writable:!0}),this},a.delete=function(y){return y[this.name]?(y[this.name]=void 0,!0):!1},a.has=function(y){return!!y[this.name]}}if(!e.WeakMap){let _=function(y){return Object(y)===y};var s=Object.prototype.hasOwnProperty,f=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{value:1}).x===1}catch{}}(),h=function(y,T,I){f?Object.defineProperty(y,T,{configurable:!0,writable:!0,value:I}):y[T]=I};e.WeakMap=function(){function y(){if(this===void 0)throw new TypeError("Constructor WeakMap requires 'new'");if(h(this,"_id",I("_WeakMap")),arguments.length>0)throw new TypeError("WeakMap iterable is not supported")}h(y.prototype,"delete",function(A){if(T(this,"delete"),!_(A))return!1;var P=A[this._id];return P&&P[0]===A?(delete A[this._id],!0):!1}),h(y.prototype,"get",function(A){if(T(this,"get"),!!_(A)){var P=A[this._id];if(P&&P[0]===A)return P[1]}}),h(y.prototype,"has",function(A){if(T(this,"has"),!_(A))return!1;var P=A[this._id];return!!(P&&P[0]===A)}),h(y.prototype,"set",function(A,P){if(T(this,"set"),!_(A))throw new TypeError("Invalid value used as weak map key");var R=A[this._id];return R&&R[0]===A?(R[1]=P,this):(h(A,this._id,[A,P]),this)});function T(A,P){if(!_(A)||!s.call(A,"_id"))throw new TypeError(P+" method called on incompatible receiver "+typeof A)}function I(A){return A+"_"+x()+"."+x()}function x(){return Math.random().toString().substring(2)}return h(y,"_polyfill",!0),y}()}})(dP);if(!J.Lib.jsinited){if(J.Lib.jsinited=1,function(e){if(typeof exports=="object")module.exports=e();else if(typeof define=="function"&&define.amd)define(e);else{var n;try{n=window}catch{n=self}n.SparkMD5=e()}}(function(e){var n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function a(O,L){var k=O[0],N=O[1],W=O[2],G=O[3];k+=(N&W|~N&G)+L[0]-680876936|0,k=(k<<7|k>>>25)+N|0,G+=(k&N|~k&W)+L[1]-389564586|0,G=(G<<12|G>>>20)+k|0,W+=(G&k|~G&N)+L[2]+606105819|0,W=(W<<17|W>>>15)+G|0,N+=(W&G|~W&k)+L[3]-1044525330|0,N=(N<<22|N>>>10)+W|0,k+=(N&W|~N&G)+L[4]-176418897|0,k=(k<<7|k>>>25)+N|0,G+=(k&N|~k&W)+L[5]+1200080426|0,G=(G<<12|G>>>20)+k|0,W+=(G&k|~G&N)+L[6]-1473231341|0,W=(W<<17|W>>>15)+G|0,N+=(W&G|~W&k)+L[7]-45705983|0,N=(N<<22|N>>>10)+W|0,k+=(N&W|~N&G)+L[8]+1770035416|0,k=(k<<7|k>>>25)+N|0,G+=(k&N|~k&W)+L[9]-1958414417|0,G=(G<<12|G>>>20)+k|0,W+=(G&k|~G&N)+L[10]-42063|0,W=(W<<17|W>>>15)+G|0,N+=(W&G|~W&k)+L[11]-1990404162|0,N=(N<<22|N>>>10)+W|0,k+=(N&W|~N&G)+L[12]+1804603682|0,k=(k<<7|k>>>25)+N|0,G+=(k&N|~k&W)+L[13]-40341101|0,G=(G<<12|G>>>20)+k|0,W+=(G&k|~G&N)+L[14]-1502002290|0,W=(W<<17|W>>>15)+G|0,N+=(W&G|~W&k)+L[15]+1236535329|0,N=(N<<22|N>>>10)+W|0,k+=(N&G|W&~G)+L[1]-165796510|0,k=(k<<5|k>>>27)+N|0,G+=(k&W|N&~W)+L[6]-1069501632|0,G=(G<<9|G>>>23)+k|0,W+=(G&N|k&~N)+L[11]+643717713|0,W=(W<<14|W>>>18)+G|0,N+=(W&k|G&~k)+L[0]-373897302|0,N=(N<<20|N>>>12)+W|0,k+=(N&G|W&~G)+L[5]-701558691|0,k=(k<<5|k>>>27)+N|0,G+=(k&W|N&~W)+L[10]+38016083|0,G=(G<<9|G>>>23)+k|0,W+=(G&N|k&~N)+L[15]-660478335|0,W=(W<<14|W>>>18)+G|0,N+=(W&k|G&~k)+L[4]-405537848|0,N=(N<<20|N>>>12)+W|0,k+=(N&G|W&~G)+L[9]+568446438|0,k=(k<<5|k>>>27)+N|0,G+=(k&W|N&~W)+L[14]-1019803690|0,G=(G<<9|G>>>23)+k|0,W+=(G&N|k&~N)+L[3]-187363961|0,W=(W<<14|W>>>18)+G|0,N+=(W&k|G&~k)+L[8]+1163531501|0,N=(N<<20|N>>>12)+W|0,k+=(N&G|W&~G)+L[13]-1444681467|0,k=(k<<5|k>>>27)+N|0,G+=(k&W|N&~W)+L[2]-51403784|0,G=(G<<9|G>>>23)+k|0,W+=(G&N|k&~N)+L[7]+1735328473|0,W=(W<<14|W>>>18)+G|0,N+=(W&k|G&~k)+L[12]-1926607734|0,N=(N<<20|N>>>12)+W|0,k+=(N^W^G)+L[5]-378558|0,k=(k<<4|k>>>28)+N|0,G+=(k^N^W)+L[8]-2022574463|0,G=(G<<11|G>>>21)+k|0,W+=(G^k^N)+L[11]+1839030562|0,W=(W<<16|W>>>16)+G|0,N+=(W^G^k)+L[14]-35309556|0,N=(N<<23|N>>>9)+W|0,k+=(N^W^G)+L[1]-1530992060|0,k=(k<<4|k>>>28)+N|0,G+=(k^N^W)+L[4]+1272893353|0,G=(G<<11|G>>>21)+k|0,W+=(G^k^N)+L[7]-155497632|0,W=(W<<16|W>>>16)+G|0,N+=(W^G^k)+L[10]-1094730640|0,N=(N<<23|N>>>9)+W|0,k+=(N^W^G)+L[13]+681279174|0,k=(k<<4|k>>>28)+N|0,G+=(k^N^W)+L[0]-358537222|0,G=(G<<11|G>>>21)+k|0,W+=(G^k^N)+L[3]-722521979|0,W=(W<<16|W>>>16)+G|0,N+=(W^G^k)+L[6]+76029189|0,N=(N<<23|N>>>9)+W|0,k+=(N^W^G)+L[9]-640364487|0,k=(k<<4|k>>>28)+N|0,G+=(k^N^W)+L[12]-421815835|0,G=(G<<11|G>>>21)+k|0,W+=(G^k^N)+L[15]+530742520|0,W=(W<<16|W>>>16)+G|0,N+=(W^G^k)+L[2]-995338651|0,N=(N<<23|N>>>9)+W|0,k+=(W^(N|~G))+L[0]-198630844|0,k=(k<<6|k>>>26)+N|0,G+=(N^(k|~W))+L[7]+1126891415|0,G=(G<<10|G>>>22)+k|0,W+=(k^(G|~N))+L[14]-1416354905|0,W=(W<<15|W>>>17)+G|0,N+=(G^(W|~k))+L[5]-57434055|0,N=(N<<21|N>>>11)+W|0,k+=(W^(N|~G))+L[12]+1700485571|0,k=(k<<6|k>>>26)+N|0,G+=(N^(k|~W))+L[3]-1894986606|0,G=(G<<10|G>>>22)+k|0,W+=(k^(G|~N))+L[10]-1051523|0,W=(W<<15|W>>>17)+G|0,N+=(G^(W|~k))+L[1]-2054922799|0,N=(N<<21|N>>>11)+W|0,k+=(W^(N|~G))+L[8]+1873313359|0,k=(k<<6|k>>>26)+N|0,G+=(N^(k|~W))+L[15]-30611744|0,G=(G<<10|G>>>22)+k|0,W+=(k^(G|~N))+L[6]-1560198380|0,W=(W<<15|W>>>17)+G|0,N+=(G^(W|~k))+L[13]+1309151649|0,N=(N<<21|N>>>11)+W|0,k+=(W^(N|~G))+L[4]-145523070|0,k=(k<<6|k>>>26)+N|0,G+=(N^(k|~W))+L[11]-1120210379|0,G=(G<<10|G>>>22)+k|0,W+=(k^(G|~N))+L[2]+718787259|0,W=(W<<15|W>>>17)+G|0,N+=(G^(W|~k))+L[9]-343485551|0,N=(N<<21|N>>>11)+W|0,O[0]=k+O[0]|0,O[1]=N+O[1]|0,O[2]=W+O[2]|0,O[3]=G+O[3]|0}function s(O){var L=[],k;for(k=0;k<64;k+=4)L[k>>2]=O.charCodeAt(k)+(O.charCodeAt(k+1)<<8)+(O.charCodeAt(k+2)<<16)+(O.charCodeAt(k+3)<<24);return L}function f(O){var L=[],k;for(k=0;k<64;k+=4)L[k>>2]=O[k]+(O[k+1]<<8)+(O[k+2]<<16)+(O[k+3]<<24);return L}function h(O){var L=O.length,k=[1732584193,-271733879,-1732584194,271733878],N,W,G,le,$,H;for(N=64;N<=L;N+=64)a(k,s(O.substring(N-64,N)));for(O=O.substring(N-64),W=O.length,G=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],N=0;N<W;N+=1)G[N>>2]|=O.charCodeAt(N)<<(N%4<<3);if(G[N>>2]|=128<<(N%4<<3),N>55)for(a(k,G),N=0;N<16;N+=1)G[N]=0;return le=L*8,le=le.toString(16).match(/(.*?)(.{0,8})$/),$=parseInt(le[2],16),H=parseInt(le[1],16)||0,G[14]=$,G[15]=H,a(k,G),k}function _(O){var L=O.length,k=[1732584193,-271733879,-1732584194,271733878],N,W,G,le,$,H;for(N=64;N<=L;N+=64)a(k,f(O.subarray(N-64,N)));for(O=N-64<L?O.subarray(N-64):new Uint8Array(0),W=O.length,G=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],N=0;N<W;N+=1)G[N>>2]|=O[N]<<(N%4<<3);if(G[N>>2]|=128<<(N%4<<3),N>55)for(a(k,G),N=0;N<16;N+=1)G[N]=0;return le=L*8,le=le.toString(16).match(/(.*?)(.{0,8})$/),$=parseInt(le[2],16),H=parseInt(le[1],16)||0,G[14]=$,G[15]=H,a(k,G),k}function y(O){var L="",k;for(k=0;k<4;k+=1)L+=n[O>>k*8+4&15]+n[O>>k*8&15];return L}function T(O){var L;for(L=0;L<O.length;L+=1)O[L]=y(O[L]);return O.join("")}T(h("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function O(L,k){return L=L|0||0,L<0?Math.max(L+k,0):Math.min(L,k)}ArrayBuffer.prototype.slice=function(L,k){var N=this.byteLength,W=O(L,N),G=N,le,$,H,ie;return k!==e&&(G=O(k,N)),W>G?new ArrayBuffer(0):(le=G-W,$=new ArrayBuffer(le),H=new Uint8Array($),ie=new Uint8Array(this,W,le),H.set(ie),$)}}();function I(O){return/[\u0080-\uFFFF]/.test(O)&&(O=unescape(encodeURIComponent(O))),O}function x(O,L){var k=O.length,N=new ArrayBuffer(k),W=new Uint8Array(N),G;for(G=0;G<k;G+=1)W[G]=O.charCodeAt(G);return L?W:N}function A(O){return String.fromCharCode.apply(null,new Uint8Array(O))}function P(O,L,k){var N=new Uint8Array(O.byteLength+L.byteLength);return N.set(new Uint8Array(O)),N.set(new Uint8Array(L),O.byteLength),N}function R(O){var L=[],k=O.length,N;for(N=0;N<k-1;N+=2)L.push(parseInt(O.substr(N,2),16));return String.fromCharCode.apply(String,L)}function E(){this.reset()}return E.prototype.append=function(O){return this.appendBinary(I(O)),this},E.prototype.appendBinary=function(O){this._buff+=O,this._length+=O.length;var L=this._buff.length,k;for(k=64;k<=L;k+=64)a(this._hash,s(this._buff.substring(k-64,k)));return this._buff=this._buff.substring(k-64),this},E.prototype.end=function(O){var L=this._buff,k=L.length,N,W=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],G;for(N=0;N<k;N+=1)W[N>>2]|=L.charCodeAt(N)<<(N%4<<3);return this._finish(W,k),G=T(this._hash),O&&(G=R(G)),this.reset(),G},E.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},E.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},E.prototype.setState=function(O){return this._buff=O.buff,this._length=O.length,this._hash=O.hash,this},E.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},E.prototype._finish=function(O,L){var k=L,N,W,G;if(O[k>>2]|=128<<(k%4<<3),k>55)for(a(this._hash,O),k=0;k<16;k+=1)O[k]=0;N=this._length*8,N=N.toString(16).match(/(.*?)(.{0,8})$/),W=parseInt(N[2],16),G=parseInt(N[1],16)||0,O[14]=W,O[15]=G,a(this._hash,O)},E.hash=function(O,L){return E.hashBinary(I(O),L)},E.hashBinary=function(O,L){var k=h(O),N=T(k);return L?R(N):N},E.ArrayBuffer=function(){this.reset()},E.ArrayBuffer.prototype.append=function(O){var L=P(this._buff.buffer,O),k=L.length,N;for(this._length+=O.byteLength,N=64;N<=k;N+=64)a(this._hash,f(L.subarray(N-64,N)));return this._buff=N-64<k?new Uint8Array(L.buffer.slice(N-64)):new Uint8Array(0),this},E.ArrayBuffer.prototype.end=function(O){var L=this._buff,k=L.length,N=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],W,G;for(W=0;W<k;W+=1)N[W>>2]|=L[W]<<(W%4<<3);return this._finish(N,k),G=T(this._hash),O&&(G=R(G)),this.reset(),G},E.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},E.ArrayBuffer.prototype.getState=function(){var O=E.prototype.getState.call(this);return O.buff=A(O.buff),O},E.ArrayBuffer.prototype.setState=function(O){return O.buff=x(O.buff,!0),E.prototype.setState.call(this,O)},E.ArrayBuffer.prototype.destroy=E.prototype.destroy,E.ArrayBuffer.prototype._finish=E.prototype._finish,E.ArrayBuffer.hash=function(O,L){var k=_(new Uint8Array(O)),N=T(k);return L?R(N):N},E}),window&&!window.Promise){/* @preserve
 * The MIT License (MIT)
 * 
 * Copyright (c) 2013-2018 Petka Antonov
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 * 
 */(function(e){if(typeof exports=="object"&&typeof module<"u")module.exports=e();else if(typeof define=="function"&&define.amd)define([],e);else{var n;typeof window<"u"?n=window:typeof global<"u"?n=global:typeof self<"u"&&(n=self),n.Promise=e()}})(function(){return function e(n,a,s){function f(y,T){if(!a[y]){if(!n[y]){var I=typeof _dereq_=="function"&&_dereq_;if(!T&&I)return I(y,!0);if(h)return h(y,!0);var x=new Error("Cannot find module '"+y+"'");throw x.code="MODULE_NOT_FOUND",x}var A=a[y]={exports:{}};n[y][0].call(A.exports,function(P){var R=n[y][1][P];return f(R||P)},A,A.exports,e,n,a,s)}return a[y].exports}for(var h=typeof _dereq_=="function"&&_dereq_,_=0;_<s.length;_++)f(s[_]);return f}({1:[function(e,n,a){n.exports=function(s){function f(_){var y=new h(_),T=y.promise();return y.setHowMany(1),y.setUnwrap(),y.init(),T}var h=s._SomePromiseArray;s.any=function(_){return f(_)},s.prototype.any=function(){return f(this)}}},{}],2:[function(e,n,a){function s(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new A(16),this._normalQueue=new A(16),this._haveDrainedQueues=!1;var P=this;this.drainQueues=function(){P._drainQueues()},this._schedule=x}function f(P,R,E){this._lateQueue.push(P,R,E),this._queueTick()}function h(P,R,E){this._normalQueue.push(P,R,E),this._queueTick()}function _(P){this._normalQueue._pushOne(P),this._queueTick()}function y(P){for(;P.length()>0;)T(P)}function T(P){var R=P.shift();if(typeof R!="function")R._settlePromises();else{var E=P.shift(),O=P.shift();R.call(E,O)}}var I;try{throw new Error}catch(P){I=P}var x=e("./schedule"),A=e("./queue");s.prototype.setScheduler=function(P){var R=this._schedule;return this._schedule=P,this._customScheduler=!0,R},s.prototype.hasCustomScheduler=function(){return this._customScheduler},s.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},s.prototype.fatalError=function(P,R){R?(process.stderr.write("Fatal "+(P instanceof Error?P.stack:P)+`
`),process.exit(2)):this.throwLater(P)},s.prototype.throwLater=function(P,R){if(arguments.length===1&&(R=P,P=function(){throw R}),typeof setTimeout<"u")setTimeout(function(){P(R)},0);else try{this._schedule(function(){P(R)})}catch{throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}},s.prototype.invokeLater=f,s.prototype.invoke=h,s.prototype.settlePromises=_,s.prototype._drainQueues=function(){y(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,y(this._lateQueue)},s.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},s.prototype._reset=function(){this._isTickUsed=!1},n.exports=s,n.exports.firstLineError=I},{"./queue":26,"./schedule":29}],3:[function(e,n,a){n.exports=function(s,f,h,_){var y=!1,T=function(P,R){this._reject(R)},I=function(P,R){R.promiseRejectionQueued=!0,R.bindingPromise._then(T,T,null,this,P)},x=function(P,R){!(50397184&this._bitField)&&this._resolveCallback(R.target)},A=function(P,R){R.promiseRejectionQueued||this._reject(P)};s.prototype.bind=function(P){y||(y=!0,s.prototype._propagateFrom=_.propagateFromFunction(),s.prototype._boundValue=_.boundValueFunction());var R=h(P),E=new s(f);E._propagateFrom(this,1);var O=this._target();if(E._setBoundTo(R),R instanceof s){var L={promiseRejectionQueued:!1,promise:E,target:O,bindingPromise:R};O._then(f,I,void 0,E,L),R._then(x,A,void 0,E,L),E._setOnCancel(R)}else E._resolveCallback(O);return E},s.prototype._setBoundTo=function(P){P!==void 0?(this._bitField=2097152|this._bitField,this._boundTo=P):this._bitField=-2097153&this._bitField},s.prototype._isBound=function(){return(2097152&this._bitField)===2097152},s.bind=function(P,R){return s.resolve(R).bind(P)}}},{}],4:[function(e,n,a){function s(){try{Promise===h&&(Promise=f)}catch{}return h}var f;typeof Promise<"u"&&(f=Promise);var h=e("./promise")();h.noConflict=s,n.exports=h},{"./promise":22}],5:[function(e,n,a){var s=Object.create;if(s){var f=s(null),h=s(null);f[" size"]=h[" size"]=0}n.exports=function(_){function y(E,O){var L;if(E!=null&&(L=E[O]),typeof L!="function"){var k="Object "+P.classString(E)+" has no method '"+P.toString(O)+"'";throw new _.TypeError(k)}return L}function T(E){var O=this.pop(),L=y(E,O);return L.apply(E,this)}function I(E){return E[this]}function x(E){var O=+this;return 0>O&&(O=Math.max(0,O+E.length)),E[O]}var A,P=e("./util"),R=P.canEvaluate;P.isIdentifier,_.prototype.call=function(E){var O=[].slice.call(arguments,1);return O.push(E),this._then(T,void 0,void 0,O,void 0)},_.prototype.get=function(E){var O,L=typeof E=="number";if(L)O=x;else if(R){var k=A(E);O=k!==null?k:I}else O=I;return this._then(O,void 0,void 0,E,void 0)}}},{"./util":36}],6:[function(e,n,a){n.exports=function(s,f,h,_){var y=e("./util"),T=y.tryCatch,I=y.errorObj,x=s._async;s.prototype.break=s.prototype.cancel=function(){if(!_.cancellation())return this._warn("cancellation is disabled");for(var A=this,P=A;A._isCancellable();){if(!A._cancelBy(P)){P._isFollowing()?P._followee().cancel():P._cancelBranched();break}var R=A._cancellationParent;if(R==null||!R._isCancellable()){A._isFollowing()?A._followee().cancel():A._cancelBranched();break}A._isFollowing()&&A._followee().cancel(),A._setWillBeCancelled(),P=A,A=R}},s.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},s.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},s.prototype._cancelBy=function(A){return A===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),this._enoughBranchesHaveCancelled()?(this._invokeOnCancel(),!0):!1)},s.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},s.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),x.invoke(this._cancelPromises,this,void 0))},s.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},s.prototype._unsetOnCancel=function(){this._onCancelField=void 0},s.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},s.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},s.prototype._doInvokeOnCancel=function(A,P){if(y.isArray(A))for(var R=0;R<A.length;++R)this._doInvokeOnCancel(A[R],P);else if(A!==void 0)if(typeof A=="function"){if(!P){var E=T(A).call(this._boundValue());E===I&&(this._attachExtraTrace(E.e),x.throwLater(E.e))}}else A._resultCancelled(this)},s.prototype._invokeOnCancel=function(){var A=this._onCancel();this._unsetOnCancel(),x.invoke(this._doInvokeOnCancel,this,A)},s.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},s.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(e,n,a){n.exports=function(s){function f(I,x,A){return function(P){var R=A._boundValue();e:for(var E=0;E<I.length;++E){var O=I[E];if(O===Error||O!=null&&O.prototype instanceof Error){if(P instanceof O)return y(x).call(R,P)}else if(typeof O=="function"){var L=y(O).call(R,P);if(L===T)return L;if(L)return y(x).call(R,P)}else if(h.isObject(P)){for(var k=_(O),N=0;N<k.length;++N){var W=k[N];if(O[W]!=P[W])continue e}return y(x).call(R,P)}}return s}}var h=e("./util"),_=e("./es5").keys,y=h.tryCatch,T=h.errorObj;return f}},{"./es5":13,"./util":36}],8:[function(e,n,a){n.exports=function(s){function f(){this._trace=new f.CapturedTrace(_())}function h(){return y?new f:void 0}function _(){var I=T.length-1;return I>=0?T[I]:void 0}var y=!1,T=[];return s.prototype._promiseCreated=function(){},s.prototype._pushContext=function(){},s.prototype._popContext=function(){return null},s._peekContext=s.prototype._peekContext=function(){},f.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,T.push(this._trace))},f.prototype._popContext=function(){if(this._trace!==void 0){var I=T.pop(),x=I._promiseCreated;return I._promiseCreated=null,x}return null},f.CapturedTrace=null,f.create=h,f.deactivateLongStackTraces=function(){},f.activateLongStackTraces=function(){var I=s.prototype._pushContext,x=s.prototype._popContext,A=s._peekContext,P=s.prototype._peekContext,R=s.prototype._promiseCreated;f.deactivateLongStackTraces=function(){s.prototype._pushContext=I,s.prototype._popContext=x,s._peekContext=A,s.prototype._peekContext=P,s.prototype._promiseCreated=R,y=!1},y=!0,s.prototype._pushContext=f.prototype._pushContext,s.prototype._popContext=f.prototype._popContext,s._peekContext=s.prototype._peekContext=_,s.prototype._promiseCreated=function(){var E=this._peekContext();E&&E._promiseCreated==null&&(E._promiseCreated=this)}},f}},{}],9:[function(e,n,a){n.exports=function(s,f,h,_){function y(ke,Le){return{promise:Le}}function T(){return!1}function I(ke,Le,Ze){var rt=this;try{ke(Le,Ze,function(yt){if(typeof yt!="function")throw new TypeError("onCancel must be a function, got: "+Ie.toString(yt));rt._attachCancellationCallback(yt)})}catch(yt){return yt}}function x(ke){if(!this._isCancellable())return this;var Le=this._onCancel();Le!==void 0?Ie.isArray(Le)?Le.push(ke):this._setOnCancel([Le,ke]):this._setOnCancel(ke)}function A(){return this._onCancelField}function P(ke){this._onCancelField=ke}function R(){this._cancellationParent=void 0,this._onCancelField=void 0}function E(ke,Le){if(1&Le){this._cancellationParent=ke;var Ze=ke._branchesRemainingToCancel;Ze===void 0&&(Ze=0),ke._branchesRemainingToCancel=Ze+1}2&Le&&ke._isBound()&&this._setBoundTo(ke._boundTo)}function O(ke,Le){2&Le&&ke._isBound()&&this._setBoundTo(ke._boundTo)}function L(){var ke=this._boundTo;return ke!==void 0&&ke instanceof s?ke.isFulfilled()?ke.value():void 0:ke}function k(){this._trace=new Be(this._peekContext())}function N(ke,Le){if(ut(ke)){var Ze=this._trace;if(Ze!==void 0&&Le&&(Ze=Ze._parent),Ze!==void 0)Ze.attachExtraTrace(ke);else if(!ke.__stackCleaned__){var rt=me(ke);Ie.notEnumerableProp(ke,"stack",rt.message+`
`+rt.stack.join(`
`)),Ie.notEnumerableProp(ke,"__stackCleaned__",!0)}}}function W(){this._trace=void 0}function G(ke,Le,Ze,rt,yt){if(ke===void 0&&Le!==null&&Yr){if(yt!==void 0&&yt._returnedNonUndefined()||!(65535&rt._bitField))return;Ze&&(Ze+=" ");var Jt="",fr="";if(Le._trace){for(var qt=Le._trace.stack.split(`
`),Lr=se(qt),on=Lr.length-1;on>=0;--on){var Gn=Lr[on];if(!Vt.test(Gn)){var ni=Gn.match(zt);ni&&(Jt="at "+ni[1]+":"+ni[2]+":"+ni[3]+" ");break}}if(Lr.length>0){for(var Hi=Lr[0],on=0;on<qt.length;++on)if(qt[on]===Hi){on>0&&(fr=`
`+qt[on-1]);break}}}var Ao="a promise was created in a "+Ze+"handler "+Jt+"but was not returned from it, see http://goo.gl/rRqMUw"+fr;rt._warn(Ao,!0,Le)}}function le(ke,Le){var Ze=ke+" is deprecated and will be removed in a future version.";return Le&&(Ze+=" Use "+Le+" instead."),$(Ze)}function $(ke,Le,Ze){if(ar.warnings){var rt,yt=new ye(ke);if(Le)Ze._attachExtraTrace(yt);else if(ar.longStackTraces&&(rt=s._peekContext()))rt.attachExtraTrace(yt);else{var Jt=me(yt);yt.stack=Jt.message+`
`+Jt.stack.join(`
`)}Et("warning",yt)||we(yt,"",!0)}}function H(ke,Le){for(var Ze=0;Ze<Le.length-1;++Ze)Le[Ze].push("From previous event:"),Le[Ze]=Le[Ze].join(`
`);return Ze<Le.length&&(Le[Ze]=Le[Ze].join(`
`)),ke+`
`+Le.join(`
`)}function ie(ke){for(var Le=0;Le<ke.length;++Le)(ke[Le].length===0||Le+1<ke.length&&ke[Le][0]===ke[Le+1][0])&&(ke.splice(Le,1),Le--)}function pe(ke){for(var Le=ke[0],Ze=1;Ze<ke.length;++Ze){for(var rt=ke[Ze],yt=Le.length-1,Jt=Le[yt],fr=-1,qt=rt.length-1;qt>=0;--qt)if(rt[qt]===Jt){fr=qt;break}for(var qt=fr;qt>=0;--qt){var Lr=rt[qt];if(Le[yt]!==Lr)break;Le.pop(),yt--}Le=rt}}function se(ke){for(var Le=[],Ze=0;Ze<ke.length;++Ze){var rt=ke[Ze],yt=rt==="    (No stack trace)"||ur.test(rt),Jt=yt&&Gt(rt);yt&&!Jt&&(Nt&&rt.charAt(0)!==" "&&(rt="    "+rt),Le.push(rt))}return Le}function ce(ke){for(var Le=ke.stack.replace(/\s+$/g,"").split(`
`),Ze=0;Ze<Le.length;++Ze){var rt=Le[Ze];if(rt==="    (No stack trace)"||ur.test(rt))break}return Ze>0&&ke.name!="SyntaxError"&&(Le=Le.slice(Ze)),Le}function me(ke){var Le=ke.stack,Ze=ke.toString();return Le=typeof Le=="string"&&Le.length>0?ce(ke):["    (No stack trace)"],{message:Ze,stack:ke.name=="SyntaxError"?Le:se(Le)}}function we(ke,Le,Ze){if(typeof console<"u"){var rt;if(Ie.isObject(ke)){var yt=ke.stack;rt=Le+at(yt,ke)}else rt=Le+String(ke);typeof vt=="function"?vt(rt,Ze):(typeof console.log=="function"||typeof console.log=="object")&&console.log(rt)}}function ge(ke,Le,Ze,rt){var yt=!1;try{typeof Le=="function"&&(yt=!0,ke==="rejectionHandled"?Le(rt):Le(Ze,rt))}catch(Jt){Se.throwLater(Jt)}ke==="unhandledRejection"?Et(ke,Ze,rt)||yt||we(Ze,"Unhandled rejection "):Et(ke,rt)}function Ee(ke){var Le;if(typeof ke=="function")Le="[function "+(ke.name||"anonymous")+"]";else{Le=ke&&typeof ke.toString=="function"?ke.toString():Ie.toString(ke);var Ze=/\[object [a-zA-Z0-9$_]+\]/;if(Ze.test(Le))try{var rt=JSON.stringify(ke);Le=rt}catch{}Le.length===0&&(Le="(empty array)")}return"(<"+_e(Le)+">, no stack trace)"}function _e(ke){var Le=41;return ke.length<Le?ke:ke.substr(0,Le-3)+"..."}function Ue(){return typeof he=="function"}function xe(ke){var Le=ke.match(xt);return Le?{fileName:Le[1],line:parseInt(Le[2],10)}:void 0}function Te(ke,Le){if(Ue()){for(var Ze,rt,yt=(ke.stack||"").split(`
`),Jt=(Le.stack||"").split(`
`),fr=-1,qt=-1,Lr=0;Lr<yt.length;++Lr){var on=xe(yt[Lr]);if(on){Ze=on.fileName,fr=on.line;break}}for(var Lr=0;Lr<Jt.length;++Lr){var on=xe(Jt[Lr]);if(on){rt=on.fileName,qt=on.line;break}}0>fr||0>qt||!Ze||!rt||Ze!==rt||fr>=qt||(Gt=function(Gn){if(lt.test(Gn))return!0;var ni=xe(Gn);return!!(ni&&ni.fileName===Ze&&fr<=ni.line&&ni.line<=qt)})}}function Be(ke){this._parent=ke,this._promisesCreated=0;var Le=this._length=1+(ke===void 0?0:ke._length);he(this,Be),Le>32&&this.uncycle()}var ot,tt,vt,bt,Se=s._async,ye=e("./errors").Warning,Ie=e("./util"),qe=e("./es5"),ut=Ie.canAttachTrace,lt=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,Vt=/\((?:timers\.js):\d+:\d+\)/,zt=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,ur=null,at=null,Nt=!1,jt=!(Ie.env("BLUEBIRD_DEBUG")==0||!Ie.env("BLUEBIRD_DEBUG")&&Ie.env("NODE_ENV")!=="development"),or=!(Ie.env("BLUEBIRD_WARNINGS")==0||!jt&&!Ie.env("BLUEBIRD_WARNINGS")),fn=!(Ie.env("BLUEBIRD_LONG_STACK_TRACES")==0||!jt&&!Ie.env("BLUEBIRD_LONG_STACK_TRACES")),Yr=Ie.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(or||!!Ie.env("BLUEBIRD_W_FORGOTTEN_RETURN"));(function(){function ke(){for(var rt=0;rt<Ze.length;++rt)Ze[rt]._notifyUnhandledRejection();Le()}function Le(){Ze.length=0}var Ze=[];bt=function(rt){Ze.push(rt),setTimeout(ke,1)},qe.defineProperty(s,"_unhandledRejectionCheck",{value:ke}),qe.defineProperty(s,"_unhandledRejectionClear",{value:Le})})(),s.prototype.suppressUnhandledRejections=function(){var ke=this._target();ke._bitField=-1048577&ke._bitField|524288},s.prototype._ensurePossibleRejectionHandled=function(){!(524288&this._bitField)&&(this._setRejectionIsUnhandled(),bt(this))},s.prototype._notifyUnhandledRejectionIsHandled=function(){ge("rejectionHandled",ot,void 0,this)},s.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},s.prototype._returnedNonUndefined=function(){return(268435456&this._bitField)!==0},s.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var ke=this._settledValue();this._setUnhandledRejectionIsNotified(),ge("unhandledRejection",tt,ke,this)}},s.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},s.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},s.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},s.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},s.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},s.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},s.prototype._warn=function(ke,Le,Ze){return $(ke,Le,Ze||this)},s.onPossiblyUnhandledRejection=function(ke){var Le=s._getContext();tt=Ie.contextBind(Le,ke)},s.onUnhandledRejectionHandled=function(ke){var Le=s._getContext();ot=Ie.contextBind(Le,ke)};var rn=function(){};s.longStackTraces=function(){if(Se.haveItemsQueued()&&!ar.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!ar.longStackTraces&&Ue()){var ke=s.prototype._captureStackTrace,Le=s.prototype._attachExtraTrace,Ze=s.prototype._dereferenceTrace;ar.longStackTraces=!0,rn=function(){if(Se.haveItemsQueued()&&!ar.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);s.prototype._captureStackTrace=ke,s.prototype._attachExtraTrace=Le,s.prototype._dereferenceTrace=Ze,f.deactivateLongStackTraces(),ar.longStackTraces=!1},s.prototype._captureStackTrace=k,s.prototype._attachExtraTrace=N,s.prototype._dereferenceTrace=W,f.activateLongStackTraces()}},s.hasLongStackTraces=function(){return ar.longStackTraces&&Ue()};var nn={unhandledrejection:{before:function(){var ke=Ie.global.onunhandledrejection;return Ie.global.onunhandledrejection=null,ke},after:function(ke){Ie.global.onunhandledrejection=ke}},rejectionhandled:{before:function(){var ke=Ie.global.onrejectionhandled;return Ie.global.onrejectionhandled=null,ke},after:function(ke){Ie.global.onrejectionhandled=ke}}},et=function(){var ke=function(Ze,rt){if(!Ze)return!Ie.global.dispatchEvent(rt);var yt;try{return yt=Ze.before(),!Ie.global.dispatchEvent(rt)}finally{Ze.after(yt)}};try{if(typeof CustomEvent=="function"){var Le=new CustomEvent("CustomEvent");return Ie.global.dispatchEvent(Le),function(rt,yt){rt=rt.toLowerCase();var Jt={detail:yt,cancelable:!0},fr=new CustomEvent(rt,Jt);return qe.defineProperty(fr,"promise",{value:yt.promise}),qe.defineProperty(fr,"reason",{value:yt.reason}),ke(nn[rt],fr)}}if(typeof Event=="function"){var Le=new Event("CustomEvent");return Ie.global.dispatchEvent(Le),function(rt,yt){rt=rt.toLowerCase();var Jt=new Event(rt,{cancelable:!0});return Jt.detail=yt,qe.defineProperty(Jt,"promise",{value:yt.promise}),qe.defineProperty(Jt,"reason",{value:yt.reason}),ke(nn[rt],Jt)}}var Le=document.createEvent("CustomEvent");return Le.initCustomEvent("testingtheevent",!1,!0,{}),Ie.global.dispatchEvent(Le),function(Ze,rt){Ze=Ze.toLowerCase();var yt=document.createEvent("CustomEvent");return yt.initCustomEvent(Ze,!1,!0,rt),ke(nn[Ze],yt)}}catch{}return function(){return!1}}(),_r=function(){return Ie.isNode?function(){return process.emit.apply(process,arguments)}:Ie.global?function(ke){var Le="on"+ke.toLowerCase(),Ze=Ie.global[Le];return Ze?(Ze.apply(Ie.global,[].slice.call(arguments,1)),!0):!1}:function(){return!1}}(),it={promiseCreated:y,promiseFulfilled:y,promiseRejected:y,promiseResolved:y,promiseCancelled:y,promiseChained:function(ke,Le,Ze){return{promise:Le,child:Ze}},warning:function(ke,Le){return{warning:Le}},unhandledRejection:function(ke,Le,Ze){return{reason:Le,promise:Ze}},rejectionHandled:y},Et=function(ke){var Le=!1;try{Le=_r.apply(null,arguments)}catch(rt){Se.throwLater(rt),Le=!0}var Ze=!1;try{Ze=et(ke,it[ke].apply(null,arguments))}catch(rt){Se.throwLater(rt),Ze=!0}return Ze||Le};s.config=function(ke){if(ke=Object(ke),"longStackTraces"in ke&&(ke.longStackTraces?s.longStackTraces():!ke.longStackTraces&&s.hasLongStackTraces()&&rn()),"warnings"in ke){var Le=ke.warnings;ar.warnings=!!Le,Yr=ar.warnings,Ie.isObject(Le)&&"wForgottenReturn"in Le&&(Yr=!!Le.wForgottenReturn)}if("cancellation"in ke&&ke.cancellation&&!ar.cancellation){if(Se.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");s.prototype._clearCancellationData=R,s.prototype._propagateFrom=E,s.prototype._onCancel=A,s.prototype._setOnCancel=P,s.prototype._attachCancellationCallback=x,s.prototype._execute=I,At=E,ar.cancellation=!0}if("monitoring"in ke&&(ke.monitoring&&!ar.monitoring?(ar.monitoring=!0,s.prototype._fireEvent=Et):!ke.monitoring&&ar.monitoring&&(ar.monitoring=!1,s.prototype._fireEvent=T)),"asyncHooks"in ke&&Ie.nodeSupportsAsyncResource){var Ze=ar.asyncHooks,rt=!!ke.asyncHooks;Ze!==rt&&(ar.asyncHooks=rt,rt?h():_())}return s},s.prototype._fireEvent=T,s.prototype._execute=function(ke,Le,Ze){try{ke(Le,Ze)}catch(rt){return rt}},s.prototype._onCancel=function(){},s.prototype._setOnCancel=function(ke){},s.prototype._attachCancellationCallback=function(ke){},s.prototype._captureStackTrace=function(){},s.prototype._attachExtraTrace=function(){},s.prototype._dereferenceTrace=function(){},s.prototype._clearCancellationData=function(){},s.prototype._propagateFrom=function(ke,Le){};var At=O,Gt=function(){return!1},xt=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;Ie.inherits(Be,Error),f.CapturedTrace=Be,Be.prototype.uncycle=function(){var ke=this._length;if(!(2>ke)){for(var Le=[],Ze={},rt=0,yt=this;yt!==void 0;++rt)Le.push(yt),yt=yt._parent;ke=this._length=rt;for(var rt=ke-1;rt>=0;--rt){var Jt=Le[rt].stack;Ze[Jt]===void 0&&(Ze[Jt]=rt)}for(var rt=0;ke>rt;++rt){var fr=Le[rt].stack,qt=Ze[fr];if(qt!==void 0&&qt!==rt){qt>0&&(Le[qt-1]._parent=void 0,Le[qt-1]._length=1),Le[rt]._parent=void 0,Le[rt]._length=1;var Lr=rt>0?Le[rt-1]:this;ke-1>qt?(Lr._parent=Le[qt+1],Lr._parent.uncycle(),Lr._length=Lr._parent._length+1):(Lr._parent=void 0,Lr._length=1);for(var on=Lr._length+1,Gn=rt-2;Gn>=0;--Gn)Le[Gn]._length=on,on++;return}}}},Be.prototype.attachExtraTrace=function(ke){if(!ke.__stackCleaned__){this.uncycle();for(var Le=me(ke),Ze=Le.message,rt=[Le.stack],yt=this;yt!==void 0;)rt.push(se(yt.stack.split(`
`))),yt=yt._parent;pe(rt),ie(rt),Ie.notEnumerableProp(ke,"stack",H(Ze,rt)),Ie.notEnumerableProp(ke,"__stackCleaned__",!0)}};var he=function(){var ke=/^\s*at\s*/,Le=function(Jt,fr){return typeof Jt=="string"?Jt:fr.name!==void 0&&fr.message!==void 0?fr.toString():Ee(fr)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,ur=ke,at=Le;var Ze=Error.captureStackTrace;return Gt=function(Jt){return lt.test(Jt)},function(Jt,fr){Error.stackTraceLimit+=6,Ze(Jt,fr),Error.stackTraceLimit-=6}}var rt=new Error;if(typeof rt.stack=="string"&&rt.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return ur=/@/,at=Le,Nt=!0,function(Jt){Jt.stack=new Error().stack};var yt;try{throw new Error}catch(Jt){yt="stack"in Jt}return"stack"in rt||!yt||typeof Error.stackTraceLimit!="number"?(at=function(Jt,fr){return typeof Jt=="string"?Jt:typeof fr!="object"&&typeof fr!="function"||fr.name===void 0||fr.message===void 0?Ee(fr):fr.toString()},null):(ur=ke,at=Le,function(Jt){Error.stackTraceLimit+=6;try{throw new Error}catch(fr){Jt.stack=fr.stack}Error.stackTraceLimit-=6})}();typeof console<"u"&&typeof console.warn<"u"&&(vt=function(ke){console.warn(ke)},Ie.isNode&&process.stderr.isTTY?vt=function(ke,Le){var Ze=Le?"\x1B[33m":"\x1B[31m";console.warn(Ze+ke+`\x1B[0m
`)}:Ie.isNode||typeof new Error().stack!="string"||(vt=function(ke,Le){console.warn("%c"+ke,Le?"color: darkorange":"color: red")}));var ar={warnings:or,longStackTraces:!1,cancellation:!1,monitoring:!1,asyncHooks:!1};return fn&&s.longStackTraces(),{asyncHooks:function(){return ar.asyncHooks},longStackTraces:function(){return ar.longStackTraces},warnings:function(){return ar.warnings},cancellation:function(){return ar.cancellation},monitoring:function(){return ar.monitoring},propagateFromFunction:function(){return At},boundValueFunction:function(){return L},checkForgottenReturns:G,setBounds:Te,warn:$,deprecated:le,CapturedTrace:Be,fireDomEvent:et,fireGlobalEvent:_r}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(e,n,a){n.exports=function(s){function f(){return this.value}function h(){throw this.reason}s.prototype.return=s.prototype.thenReturn=function(_){return _ instanceof s&&_.suppressUnhandledRejections(),this._then(f,void 0,void 0,{value:_},void 0)},s.prototype.throw=s.prototype.thenThrow=function(_){return this._then(h,void 0,void 0,{reason:_},void 0)},s.prototype.catchThrow=function(_){if(arguments.length<=1)return this._then(void 0,h,void 0,{reason:_},void 0);var y=arguments[1],T=function(){throw y};return this.caught(_,T)},s.prototype.catchReturn=function(_){if(arguments.length<=1)return _ instanceof s&&_.suppressUnhandledRejections(),this._then(void 0,f,void 0,{value:_},void 0);var y=arguments[1];y instanceof s&&y.suppressUnhandledRejections();var T=function(){return y};return this.caught(_,T)}}},{}],11:[function(e,n,a){n.exports=function(s,f){function h(){return T(this)}function _(I,x){return y(I,x,f,f)}var y=s.reduce,T=s.all;s.prototype.each=function(I){return y(this,I,f,0)._then(h,void 0,void 0,this,void 0)},s.prototype.mapSeries=function(I){return y(this,I,f,f)},s.each=function(I,x){return y(I,x,f,0)._then(h,void 0,void 0,I,void 0)},s.mapSeries=_}},{}],12:[function(e,n,a){function s(G,le){function $(H){return this instanceof $?(A(this,"message",typeof H=="string"?H:le),A(this,"name",G),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new $(H)}return x($,Error),$}function f(G){return this instanceof f?(A(this,"name","OperationalError"),A(this,"message",G),this.cause=G,this.isOperational=!0,void(G instanceof Error?(A(this,"message",G.message),A(this,"stack",G.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new f(G)}var h,_,y=e("./es5"),T=y.freeze,I=e("./util"),x=I.inherits,A=I.notEnumerableProp,P=s("Warning","warning"),R=s("CancellationError","cancellation error"),E=s("TimeoutError","timeout error"),O=s("AggregateError","aggregate error");try{h=TypeError,_=RangeError}catch{h=s("TypeError","type error"),_=s("RangeError","range error")}for(var L="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),k=0;k<L.length;++k)typeof Array.prototype[L[k]]=="function"&&(O.prototype[L[k]]=Array.prototype[L[k]]);y.defineProperty(O.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),O.prototype.isOperational=!0;var N=0;O.prototype.toString=function(){var G=Array(4*N+1).join(" "),le=`
`+G+`AggregateError of:
`;N++,G=Array(4*N+1).join(" ");for(var $=0;$<this.length;++$){for(var H=this[$]===this?"[Circular AggregateError]":this[$]+"",ie=H.split(`
`),pe=0;pe<ie.length;++pe)ie[pe]=G+ie[pe];H=ie.join(`
`),le+=H+`
`}return N--,le},x(f,Error);var W=Error.__BluebirdErrorTypes__;W||(W=T({CancellationError:R,TimeoutError:E,OperationalError:f,RejectionError:f,AggregateError:O}),y.defineProperty(Error,"__BluebirdErrorTypes__",{value:W,writable:!1,enumerable:!1,configurable:!1})),n.exports={Error,TypeError:h,RangeError:_,CancellationError:W.CancellationError,OperationalError:W.OperationalError,TimeoutError:W.TimeoutError,AggregateError:W.AggregateError,Warning:P}},{"./es5":13,"./util":36}],13:[function(e,n,a){var s=function(){return this===void 0}();if(s)n.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:s,propertyIsWritable:function(R,E){var O=Object.getOwnPropertyDescriptor(R,E);return!(O&&!O.writable&&!O.set)}};else{var f={}.hasOwnProperty,h={}.toString,_={}.constructor.prototype,y=function(R){var E=[];for(var O in R)f.call(R,O)&&E.push(O);return E},T=function(R,E){return{value:R[E]}},I=function(R,E,O){return R[E]=O.value,R},x=function(R){return R},A=function(R){try{return Object(R).constructor.prototype}catch{return _}},P=function(R){try{return h.call(R)==="[object Array]"}catch{return!1}};n.exports={isArray:P,keys:y,names:y,defineProperty:I,getDescriptor:T,freeze:x,getPrototypeOf:A,isES5:s,propertyIsWritable:function(){return!0}}}},{}],14:[function(e,n,a){n.exports=function(s,f){var h=s.map;s.prototype.filter=function(_,y){return h(this,_,y,f)},s.filter=function(_,y,T){return h(_,y,T,f)}}},{}],15:[function(e,n,a){n.exports=function(s,f,h){function _(L,k,N){this.promise=L,this.type=k,this.handler=N,this.called=!1,this.cancelPromise=null}function y(L){this.finallyHandler=L}function T(L,k){return L.cancelPromise!=null?(arguments.length>1?L.cancelPromise._reject(k):L.cancelPromise._cancel(),L.cancelPromise=null,!0):!1}function I(){return A.call(this,this.promise._target()._settledValue())}function x(L){return T(this,L)?void 0:(E.e=L,E)}function A(L){var k=this.promise,N=this.handler;if(!this.called){this.called=!0;var W=this.isFinallyHandler()?N.call(k._boundValue()):N.call(k._boundValue(),L);if(W===h)return W;if(W!==void 0){k._setReturnedNonUndefined();var G=f(W,k);if(G instanceof s){if(this.cancelPromise!=null){if(G._isCancelled()){var le=new R("late cancellation observer");return k._attachExtraTrace(le),E.e=le,E}G.isPending()&&G._attachCancellationCallback(new y(this))}return G._then(I,x,void 0,this,void 0)}}}return k.isRejected()?(T(this),E.e=L,E):(T(this),L)}var P=e("./util"),R=s.CancellationError,E=P.errorObj,O=e("./catch_filter")(h);return _.prototype.isFinallyHandler=function(){return this.type===0},y.prototype._resultCancelled=function(){T(this.finallyHandler)},s.prototype._passThrough=function(L,k,N,W){return typeof L!="function"?this.then():this._then(N,W,void 0,new _(this,k,L),void 0)},s.prototype.lastly=s.prototype.finally=function(L){return this._passThrough(L,0,A,A)},s.prototype.tap=function(L){return this._passThrough(L,1,A)},s.prototype.tapCatch=function(L){var k=arguments.length;if(k===1)return this._passThrough(L,1,void 0,A);var N,W=new Array(k-1),G=0;for(N=0;k-1>N;++N){var le=arguments[N];if(!P.isObject(le))return s.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+P.classString(le)));W[G++]=le}W.length=G;var $=arguments[N];return this._passThrough(O(W,$,this),1,void 0,A)},_}},{"./catch_filter":7,"./util":36}],16:[function(e,n,a){n.exports=function(s,f,h,_,y,T){function I(k,N,W){for(var G=0;G<N.length;++G){W._pushContext();var le=O(N[G])(k);if(W._popContext(),le===E){W._pushContext();var $=s.reject(E.e);return W._popContext(),$}var H=_(le,W);if(H instanceof s)return H}return null}function x(k,N,W,G){if(T.cancellation()){var le=new s(h),$=this._finallyPromise=new s(h);this._promise=le.lastly(function(){return $}),le._captureStackTrace(),le._setOnCancel(this)}else{var H=this._promise=new s(h);H._captureStackTrace()}this._stack=G,this._generatorFunction=k,this._receiver=N,this._generator=void 0,this._yieldHandlers=typeof W=="function"?[W].concat(L):L,this._yieldedPromise=null,this._cancellationPhase=!1}var A=e("./errors"),P=A.TypeError,R=e("./util"),E=R.errorObj,O=R.tryCatch,L=[];R.inherits(x,y),x.prototype._isResolved=function(){return this._promise===null},x.prototype._cleanup=function(){this._promise=this._generator=null,T.cancellation()&&this._finallyPromise!==null&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},x.prototype._promiseCancelled=function(){if(!this._isResolved()){var k,N=typeof this._generator.return<"u";if(N)this._promise._pushContext(),k=O(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var W=new s.CancellationError("generator .return() sentinel");s.coroutine.returnSentinel=W,this._promise._attachExtraTrace(W),this._promise._pushContext(),k=O(this._generator.throw).call(this._generator,W),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(k)}},x.prototype._promiseFulfilled=function(k){this._yieldedPromise=null,this._promise._pushContext();var N=O(this._generator.next).call(this._generator,k);this._promise._popContext(),this._continue(N)},x.prototype._promiseRejected=function(k){this._yieldedPromise=null,this._promise._attachExtraTrace(k),this._promise._pushContext();var N=O(this._generator.throw).call(this._generator,k);this._promise._popContext(),this._continue(N)},x.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof s){var k=this._yieldedPromise;this._yieldedPromise=null,k.cancel()}},x.prototype.promise=function(){return this._promise},x.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},x.prototype._continue=function(k){var N=this._promise;if(k===E)return this._cleanup(),this._cancellationPhase?N.cancel():N._rejectCallback(k.e,!1);var W=k.value;if(k.done===!0)return this._cleanup(),this._cancellationPhase?N.cancel():N._resolveCallback(W);var G=_(W,this._promise);if(!(G instanceof s)&&(G=I(G,this._yieldHandlers,this._promise),G===null))return void this._promiseRejected(new P(`A value %s was yielded that could not be treated as a promise

    See http://goo.gl/MqrFmX

`.replace("%s",String(W))+`From coroutine:
`+this._stack.split(`
`).slice(1,-7).join(`
`)));G=G._target();var le=G._bitField;50397184&le?33554432&le?s._async.invoke(this._promiseFulfilled,this,G._value()):16777216&le?s._async.invoke(this._promiseRejected,this,G._reason()):this._promiseCancelled():(this._yieldedPromise=G,G._proxy(this,null))},s.coroutine=function(k,N){if(typeof k!="function")throw new P(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var W=Object(N).yieldHandler,G=x,le=new Error().stack;return function(){var $=k.apply(this,arguments),H=new G(void 0,void 0,W,le),ie=H.promise();return H._generator=$,H._promiseFulfilled(void 0),ie}},s.coroutine.addYieldHandler=function(k){if(typeof k!="function")throw new P("expecting a function but got "+R.classString(k));L.push(k)},s.spawn=function(k){if(T.deprecated("Promise.spawn()","Promise.coroutine()"),typeof k!="function")return f(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var N=new x(k,this),W=N.promise();return N._run(s.spawn),W}}},{"./errors":12,"./util":36}],17:[function(e,n,a){n.exports=function(s,f,h,_,y){var T=e("./util");T.canEvaluate,T.tryCatch,T.errorObj,s.join=function(){var I,x=arguments.length-1;if(x>0&&typeof arguments[x]=="function"){I=arguments[x];var P}var A=[].slice.call(arguments);I&&A.pop();var P=new f(A).promise();return I!==void 0?P.spread(I):P}}},{"./util":36}],18:[function(e,n,a){n.exports=function(s,f,h,_,y,T){function I(O,L,k,N){this.constructor$(O),this._promise._captureStackTrace();var W=s._getContext();if(this._callback=A.contextBind(W,L),this._preservedValues=N===y?new Array(this.length()):null,this._limit=k,this._inFlight=0,this._queue=[],E.invoke(this._asyncInit,this,void 0),A.isArray(O))for(var G=0;G<O.length;++G){var le=O[G];le instanceof s&&le.suppressUnhandledRejections()}}function x(O,L,k,N){if(typeof L!="function")return h("expecting a function but got "+A.classString(L));var W=0;if(k!==void 0){if(typeof k!="object"||k===null)return s.reject(new TypeError("options argument must be an object but it is "+A.classString(k)));if(typeof k.concurrency!="number")return s.reject(new TypeError("'concurrency' must be a number but it is "+A.classString(k.concurrency)));W=k.concurrency}return W=typeof W=="number"&&isFinite(W)&&W>=1?W:0,new I(O,L,W,N).promise()}var A=e("./util"),P=A.tryCatch,R=A.errorObj,E=s._async;A.inherits(I,f),I.prototype._asyncInit=function(){this._init$(void 0,-2)},I.prototype._init=function(){},I.prototype._promiseFulfilled=function(O,L){var k=this._values,N=this.length(),W=this._preservedValues,G=this._limit;if(0>L){if(L=-1*L-1,k[L]=O,G>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(G>=1&&this._inFlight>=G)return k[L]=O,this._queue.push(L),!1;W!==null&&(W[L]=O);var le=this._promise,$=this._callback,H=le._boundValue();le._pushContext();var ie=P($).call(H,O,L,N),pe=le._popContext();if(T.checkForgottenReturns(ie,pe,W!==null?"Promise.filter":"Promise.map",le),ie===R)return this._reject(ie.e),!0;var se=_(ie,this._promise);if(se instanceof s){se=se._target();var ce=se._bitField;if(!(50397184&ce))return G>=1&&this._inFlight++,k[L]=se,se._proxy(this,-1*(L+1)),!1;if(!(33554432&ce))return 16777216&ce?(this._reject(se._reason()),!0):(this._cancel(),!0);ie=se._value()}k[L]=ie}var me=++this._totalResolved;return me>=N?(W!==null?this._filter(k,W):this._resolve(k),!0):!1},I.prototype._drainQueue=function(){for(var O=this._queue,L=this._limit,k=this._values;O.length>0&&this._inFlight<L;){if(this._isResolved())return;var N=O.pop();this._promiseFulfilled(k[N],N)}},I.prototype._filter=function(O,L){for(var k=L.length,N=new Array(k),W=0,G=0;k>G;++G)O[G]&&(N[W++]=L[G]);N.length=W,this._resolve(N)},I.prototype.preservedValues=function(){return this._preservedValues},s.prototype.map=function(O,L){return x(this,O,L,null)},s.map=function(O,L,k,N){return x(O,L,k,N)}}},{"./util":36}],19:[function(e,n,a){n.exports=function(s,f,h,_,y){var T=e("./util"),I=T.tryCatch;s.method=function(x){if(typeof x!="function")throw new s.TypeError("expecting a function but got "+T.classString(x));return function(){var A=new s(f);A._captureStackTrace(),A._pushContext();var P=I(x).apply(this,arguments),R=A._popContext();return y.checkForgottenReturns(P,R,"Promise.method",A),A._resolveFromSyncValue(P),A}},s.attempt=s.try=function(x){if(typeof x!="function")return _("expecting a function but got "+T.classString(x));var A=new s(f);A._captureStackTrace(),A._pushContext();var P;if(arguments.length>1){y.deprecated("calling Promise.try with more than 1 argument");var R=arguments[1],E=arguments[2];P=T.isArray(R)?I(x).apply(E,R):I(x).call(E,R)}else P=I(x)();var O=A._popContext();return y.checkForgottenReturns(P,O,"Promise.try",A),A._resolveFromSyncValue(P),A},s.prototype._resolveFromSyncValue=function(x){x===T.errorObj?this._rejectCallback(x.e,!1):this._resolveCallback(x,!0)}}},{"./util":36}],20:[function(e,n,a){function s(P){return P instanceof Error&&x.getPrototypeOf(P)===Error.prototype}function f(P){var R;if(s(P)){R=new I(P),R.name=P.name,R.message=P.message,R.stack=P.stack;for(var E=x.keys(P),O=0;O<E.length;++O){var L=E[O];A.test(L)||(R[L]=P[L])}return R}return _.markAsOriginatingFromRejection(P),P}function h(P,R){return function(E,O){if(P!==null){if(E){var L=f(y(E));P._attachExtraTrace(L),P._reject(L)}else if(R){var k=[].slice.call(arguments,1);P._fulfill(k)}else P._fulfill(O);P=null}}}var _=e("./util"),y=_.maybeWrapAsError,T=e("./errors"),I=T.OperationalError,x=e("./es5"),A=/^(?:name|message|stack|cause)$/;n.exports=h},{"./errors":12,"./es5":13,"./util":36}],21:[function(e,n,a){n.exports=function(s){function f(A,P){var R=this;if(!y.isArray(A))return h.call(R,A,P);var E=I(P).apply(R._boundValue(),[null].concat(A));E===x&&T.throwLater(E.e)}function h(A,P){var R=this,E=R._boundValue(),O=A===void 0?I(P).call(E,null):I(P).call(E,null,A);O===x&&T.throwLater(O.e)}function _(A,P){var R=this;if(!A){var E=new Error(A+"");E.cause=A,A=E}var O=I(P).call(R._boundValue(),A);O===x&&T.throwLater(O.e)}var y=e("./util"),T=s._async,I=y.tryCatch,x=y.errorObj;s.prototype.asCallback=s.prototype.nodeify=function(A,P){if(typeof A=="function"){var R=h;P!==void 0&&Object(P).spread&&(R=f),this._then(R,_,void 0,this,A)}return this}}},{"./util":36}],22:[function(e,n,a){n.exports=function(){function s(){}function f(Se,ye){if(Se==null||Se.constructor!==h&&typeof Promise<"u"&&Se.constructor!==Promise)throw new se(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`);if(typeof ye!="function")throw new se("expecting a function but got "+R.classString(ye))}function h(Se){Se!==me&&f(this,Se),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(Se),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function _(Se){this.promise._resolveCallback(Se)}function y(Se){this.promise._rejectCallback(Se,!1)}function T(Se){var ye=new h(me);ye._fulfillmentHandler0=Se,ye._rejectionHandler0=Se,ye._promise0=Se,ye._receiver0=Se}var I=function(){return new se(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},x=function(){return new h.PromiseInspection(this._target())},A=function(Se){return h.reject(new se(Se))},P={},R=e("./util");R.setReflectHandler(x);var E=function(){var Se=process.domain;return Se===void 0?null:Se},O=function(){return null},L=function(){return{domain:E(),async:null}},k=R.isNode&&R.nodeSupportsAsyncResource?e("async_hooks").AsyncResource:null,N=function(){return{domain:E(),async:new k("Bluebird::Promise")}},W=R.isNode?L:O;R.notEnumerableProp(h,"_getContext",W);var G=function(){W=N,R.notEnumerableProp(h,"_getContext",N)},le=function(){W=L,R.notEnumerableProp(h,"_getContext",L)},$=e("./es5"),H=e("./async"),ie=new H;$.defineProperty(h,"_async",{value:ie});var pe=e("./errors"),se=h.TypeError=pe.TypeError;h.RangeError=pe.RangeError;var ce=h.CancellationError=pe.CancellationError;h.TimeoutError=pe.TimeoutError,h.OperationalError=pe.OperationalError,h.RejectionError=pe.OperationalError,h.AggregateError=pe.AggregateError;var me=function(){},we={},ge={},Ee=e("./thenables")(h,me),_e=e("./promise_array")(h,me,Ee,A,s),Ue=e("./context")(h),xe=Ue.create,Te=e("./debuggability")(h,Ue,G,le),Be=(Te.CapturedTrace,e("./finally")(h,Ee,ge)),ot=e("./catch_filter")(ge),tt=e("./nodeback"),vt=R.errorObj,bt=R.tryCatch;return h.prototype.toString=function(){return"[object Promise]"},h.prototype.caught=h.prototype.catch=function(Se){var ye=arguments.length;if(ye>1){var Ie,qe=new Array(ye-1),ut=0;for(Ie=0;ye-1>Ie;++Ie){var lt=arguments[Ie];if(!R.isObject(lt))return A("Catch statement predicate: expecting an object but got "+R.classString(lt));qe[ut++]=lt}if(qe.length=ut,Se=arguments[Ie],typeof Se!="function")throw new se("The last argument to .catch() must be a function, got "+R.toString(Se));return this.then(void 0,ot(qe,Se,this))}return this.then(void 0,Se)},h.prototype.reflect=function(){return this._then(x,x,void 0,this,void 0)},h.prototype.then=function(Se,ye){if(Te.warnings()&&arguments.length>0&&typeof Se!="function"&&typeof ye!="function"){var Ie=".then() only accepts functions but was passed: "+R.classString(Se);arguments.length>1&&(Ie+=", "+R.classString(ye)),this._warn(Ie)}return this._then(Se,ye,void 0,void 0,void 0)},h.prototype.done=function(Se,ye){var Ie=this._then(Se,ye,void 0,void 0,void 0);Ie._setIsFinal()},h.prototype.spread=function(Se){return typeof Se!="function"?A("expecting a function but got "+R.classString(Se)):this.all()._then(Se,void 0,void 0,we,void 0)},h.prototype.toJSON=function(){var Se={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(Se.fulfillmentValue=this.value(),Se.isFulfilled=!0):this.isRejected()&&(Se.rejectionReason=this.reason(),Se.isRejected=!0),Se},h.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new _e(this).promise()},h.prototype.error=function(Se){return this.caught(R.originatesFromRejection,Se)},h.getNewLibraryCopy=n.exports,h.is=function(Se){return Se instanceof h},h.fromNode=h.fromCallback=function(Se){var ye=new h(me);ye._captureStackTrace();var Ie=arguments.length>1?!!Object(arguments[1]).multiArgs:!1,qe=bt(Se)(tt(ye,Ie));return qe===vt&&ye._rejectCallback(qe.e,!0),ye._isFateSealed()||ye._setAsyncGuaranteed(),ye},h.all=function(Se){return new _e(Se).promise()},h.cast=function(Se){var ye=Ee(Se);return ye instanceof h||(ye=new h(me),ye._captureStackTrace(),ye._setFulfilled(),ye._rejectionHandler0=Se),ye},h.resolve=h.fulfilled=h.cast,h.reject=h.rejected=function(Se){var ye=new h(me);return ye._captureStackTrace(),ye._rejectCallback(Se,!0),ye},h.setScheduler=function(Se){if(typeof Se!="function")throw new se("expecting a function but got "+R.classString(Se));return ie.setScheduler(Se)},h.prototype._then=function(Se,ye,Ie,qe,ut){var lt=ut!==void 0,Vt=lt?ut:new h(me),zt=this._target(),ur=zt._bitField;lt||(Vt._propagateFrom(this,3),Vt._captureStackTrace(),qe===void 0&&2097152&this._bitField&&(qe=50397184&ur?this._boundValue():zt===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,Vt));var at=W();if(50397184&ur){var Nt,jt,or=zt._settlePromiseCtx;33554432&ur?(jt=zt._rejectionHandler0,Nt=Se):16777216&ur?(jt=zt._fulfillmentHandler0,Nt=ye,zt._unsetRejectionIsUnhandled()):(or=zt._settlePromiseLateCancellationObserver,jt=new ce("late cancellation observer"),zt._attachExtraTrace(jt),Nt=ye),ie.invoke(or,zt,{handler:R.contextBind(at,Nt),promise:Vt,receiver:qe,value:jt})}else zt._addCallbacks(Se,ye,Vt,qe,at);return Vt},h.prototype._length=function(){return 65535&this._bitField},h.prototype._isFateSealed=function(){return(117506048&this._bitField)!==0},h.prototype._isFollowing=function(){return(67108864&this._bitField)===67108864},h.prototype._setLength=function(Se){this._bitField=-65536&this._bitField|65535&Se},h.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},h.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},h.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},h.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},h.prototype._isFinal=function(){return(4194304&this._bitField)>0},h.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},h.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},h.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},h.prototype._setAsyncGuaranteed=function(){if(!ie.hasCustomScheduler()){var Se=this._bitField;this._bitField=Se|(536870912&Se)>>2^134217728}},h.prototype._setNoAsyncGuarantee=function(){this._bitField=-134217729&(536870912|this._bitField)},h.prototype._receiverAt=function(Se){var ye=Se===0?this._receiver0:this[4*Se-4+3];return ye===P?void 0:ye===void 0&&this._isBound()?this._boundValue():ye},h.prototype._promiseAt=function(Se){return this[4*Se-4+2]},h.prototype._fulfillmentHandlerAt=function(Se){return this[4*Se-4+0]},h.prototype._rejectionHandlerAt=function(Se){return this[4*Se-4+1]},h.prototype._boundValue=function(){},h.prototype._migrateCallback0=function(Se){var ye=(Se._bitField,Se._fulfillmentHandler0),Ie=Se._rejectionHandler0,qe=Se._promise0,ut=Se._receiverAt(0);ut===void 0&&(ut=P),this._addCallbacks(ye,Ie,qe,ut,null)},h.prototype._migrateCallbackAt=function(Se,ye){var Ie=Se._fulfillmentHandlerAt(ye),qe=Se._rejectionHandlerAt(ye),ut=Se._promiseAt(ye),lt=Se._receiverAt(ye);lt===void 0&&(lt=P),this._addCallbacks(Ie,qe,ut,lt,null)},h.prototype._addCallbacks=function(Se,ye,Ie,qe,ut){var lt=this._length();if(lt>=65531&&(lt=0,this._setLength(0)),lt===0)this._promise0=Ie,this._receiver0=qe,typeof Se=="function"&&(this._fulfillmentHandler0=R.contextBind(ut,Se)),typeof ye=="function"&&(this._rejectionHandler0=R.contextBind(ut,ye));else{var Vt=4*lt-4;this[Vt+2]=Ie,this[Vt+3]=qe,typeof Se=="function"&&(this[Vt+0]=R.contextBind(ut,Se)),typeof ye=="function"&&(this[Vt+1]=R.contextBind(ut,ye))}return this._setLength(lt+1),lt},h.prototype._proxy=function(Se,ye){this._addCallbacks(void 0,void 0,ye,Se,null)},h.prototype._resolveCallback=function(Se,ye){if(!(117506048&this._bitField)){if(Se===this)return this._rejectCallback(I(),!1);var Ie=Ee(Se,this);if(!(Ie instanceof h))return this._fulfill(Se);ye&&this._propagateFrom(Ie,2);var qe=Ie._target();if(qe===this)return void this._reject(I());var ut=qe._bitField;if(50397184&ut)if(33554432&ut)this._fulfill(qe._value());else if(16777216&ut)this._reject(qe._reason());else{var zt=new ce("late cancellation observer");qe._attachExtraTrace(zt),this._reject(zt)}else{var lt=this._length();lt>0&&qe._migrateCallback0(this);for(var Vt=1;lt>Vt;++Vt)qe._migrateCallbackAt(this,Vt);this._setFollowing(),this._setLength(0),this._setFollowee(Ie)}}},h.prototype._rejectCallback=function(Se,ye,Ie){var qe=R.ensureErrorObject(Se),ut=qe===Se;if(!ut&&!Ie&&Te.warnings()){var lt="a promise was rejected with a non-error: "+R.classString(Se);this._warn(lt,!0)}this._attachExtraTrace(qe,ye?ut:!1),this._reject(Se)},h.prototype._resolveFromExecutor=function(Se){if(Se!==me){var ye=this;this._captureStackTrace(),this._pushContext();var Ie=!0,qe=this._execute(Se,function(ut){ye._resolveCallback(ut)},function(ut){ye._rejectCallback(ut,Ie)});Ie=!1,this._popContext(),qe!==void 0&&ye._rejectCallback(qe,!0)}},h.prototype._settlePromiseFromHandler=function(Se,ye,Ie,qe){var ut=qe._bitField;if(!(65536&ut)){qe._pushContext();var lt;ye===we?Ie&&typeof Ie.length=="number"?lt=bt(Se).apply(this._boundValue(),Ie):(lt=vt,lt.e=new se("cannot .spread() a non-array: "+R.classString(Ie))):lt=bt(Se).call(ye,Ie);var Vt=qe._popContext();ut=qe._bitField,!(65536&ut)&&(lt===ge?qe._reject(Ie):lt===vt?qe._rejectCallback(lt.e,!1):(Te.checkForgottenReturns(lt,Vt,"",qe,this),qe._resolveCallback(lt)))}},h.prototype._target=function(){for(var Se=this;Se._isFollowing();)Se=Se._followee();return Se},h.prototype._followee=function(){return this._rejectionHandler0},h.prototype._setFollowee=function(Se){this._rejectionHandler0=Se},h.prototype._settlePromise=function(Se,ye,Ie,qe){var ut=Se instanceof h,lt=this._bitField,Vt=(134217728&lt)!==0;65536&lt?(ut&&Se._invokeInternalOnCancel(),Ie instanceof Be&&Ie.isFinallyHandler()?(Ie.cancelPromise=Se,bt(ye).call(Ie,qe)===vt&&Se._reject(vt.e)):ye===x?Se._fulfill(x.call(Ie)):Ie instanceof s?Ie._promiseCancelled(Se):ut||Se instanceof _e?Se._cancel():Ie.cancel()):typeof ye=="function"?ut?(Vt&&Se._setAsyncGuaranteed(),this._settlePromiseFromHandler(ye,Ie,qe,Se)):ye.call(Ie,qe,Se):Ie instanceof s?Ie._isResolved()||(33554432&lt?Ie._promiseFulfilled(qe,Se):Ie._promiseRejected(qe,Se)):ut&&(Vt&&Se._setAsyncGuaranteed(),33554432&lt?Se._fulfill(qe):Se._reject(qe))},h.prototype._settlePromiseLateCancellationObserver=function(Se){var ye=Se.handler,Ie=Se.promise,qe=Se.receiver,ut=Se.value;typeof ye=="function"?Ie instanceof h?this._settlePromiseFromHandler(ye,qe,ut,Ie):ye.call(qe,ut,Ie):Ie instanceof h&&Ie._reject(ut)},h.prototype._settlePromiseCtx=function(Se){this._settlePromise(Se.promise,Se.handler,Se.receiver,Se.value)},h.prototype._settlePromise0=function(Se,ye,Ie){var qe=this._promise0,ut=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(qe,Se,ut,ye)},h.prototype._clearCallbackDataAtIndex=function(Se){var ye=4*Se-4;this[ye+2]=this[ye+3]=this[ye+0]=this[ye+1]=void 0},h.prototype._fulfill=function(Se){var ye=this._bitField;if(!((117506048&ye)>>>16)){if(Se===this){var Ie=I();return this._attachExtraTrace(Ie),this._reject(Ie)}this._setFulfilled(),this._rejectionHandler0=Se,(65535&ye)>0&&(134217728&ye?this._settlePromises():ie.settlePromises(this),this._dereferenceTrace())}},h.prototype._reject=function(Se){var ye=this._bitField;if(!((117506048&ye)>>>16))return this._setRejected(),this._fulfillmentHandler0=Se,this._isFinal()?ie.fatalError(Se,R.isNode):void((65535&ye)>0?ie.settlePromises(this):this._ensurePossibleRejectionHandled())},h.prototype._fulfillPromises=function(Se,ye){for(var Ie=1;Se>Ie;Ie++){var qe=this._fulfillmentHandlerAt(Ie),ut=this._promiseAt(Ie),lt=this._receiverAt(Ie);this._clearCallbackDataAtIndex(Ie),this._settlePromise(ut,qe,lt,ye)}},h.prototype._rejectPromises=function(Se,ye){for(var Ie=1;Se>Ie;Ie++){var qe=this._rejectionHandlerAt(Ie),ut=this._promiseAt(Ie),lt=this._receiverAt(Ie);this._clearCallbackDataAtIndex(Ie),this._settlePromise(ut,qe,lt,ye)}},h.prototype._settlePromises=function(){var Se=this._bitField,ye=65535&Se;if(ye>0){if(16842752&Se){var Ie=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,Ie,Se),this._rejectPromises(ye,Ie)}else{var qe=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,qe,Se),this._fulfillPromises(ye,qe)}this._setLength(0)}this._clearCancellationData()},h.prototype._settledValue=function(){var Se=this._bitField;return 33554432&Se?this._rejectionHandler0:16777216&Se?this._fulfillmentHandler0:void 0},typeof Symbol<"u"&&Symbol.toStringTag&&$.defineProperty(h.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),h.defer=h.pending=function(){Te.deprecated("Promise.defer","new Promise");var Se=new h(me);return{promise:Se,resolve:_,reject:y}},R.notEnumerableProp(h,"_makeSelfResolutionError",I),e("./method")(h,me,Ee,A,Te),e("./bind")(h,me,Ee,Te),e("./cancel")(h,_e,A,Te),e("./direct_resolve")(h),e("./synchronous_inspection")(h),e("./join")(h,_e,Ee,me,ie),h.Promise=h,h.version="3.7.2",e("./call_get.js")(h),e("./generators.js")(h,A,me,Ee,s,Te),e("./map.js")(h,_e,A,Ee,me,Te),e("./nodeify.js")(h),e("./promisify.js")(h,me),e("./props.js")(h,_e,Ee,A),e("./race.js")(h,me,Ee,A),e("./reduce.js")(h,_e,A,Ee,me,Te),e("./settle.js")(h,_e,Te),e("./some.js")(h,_e,A),e("./timers.js")(h,me,Te),e("./using.js")(h,A,Ee,xe,me,Te),e("./any.js")(h),e("./each.js")(h,me),e("./filter.js")(h,me),R.toFastProperties(h),R.toFastProperties(h.prototype),T({a:1}),T({b:2}),T({c:3}),T(1),T(function(){}),T(void 0),T(!1),T(new h(me)),Te.setBounds(H.firstLineError,R.lastLineError),h}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36,async_hooks:void 0}],23:[function(e,n,a){n.exports=function(s,f,h,_,y){function T(A){switch(A){case-2:return[];case-3:return{};case-6:return new Map}}function I(A){var P=this._promise=new s(f);A instanceof s&&(P._propagateFrom(A,3),A.suppressUnhandledRejections()),P._setOnCancel(this),this._values=A,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var x=e("./util");return x.isArray,x.inherits(I,y),I.prototype.length=function(){return this._length},I.prototype.promise=function(){return this._promise},I.prototype._init=function A(P,R){var E=h(this._values,this._promise);if(E instanceof s){E=E._target();var O=E._bitField;if(this._values=E,(50397184&O)===0)return this._promise._setAsyncGuaranteed(),E._then(A,this._reject,void 0,this,R);if(!(33554432&O))return 16777216&O?this._reject(E._reason()):this._cancel();E=E._value()}if(E=x.asArray(E),E===null){var L=_("expecting an array or an iterable object but got "+x.classString(E)).reason();return void this._promise._rejectCallback(L,!1)}return E.length===0?void(R===-5?this._resolveEmptyArray():this._resolve(T(R))):void this._iterate(E)},I.prototype._iterate=function(A){var P=this.getActualLength(A.length);this._length=P,this._values=this.shouldCopyValues()?new Array(P):this._values;for(var R=this._promise,E=!1,O=null,L=0;P>L;++L){var k=h(A[L],R);k instanceof s?(k=k._target(),O=k._bitField):O=null,E?O!==null&&k.suppressUnhandledRejections():O!==null?50397184&O?E=33554432&O?this._promiseFulfilled(k._value(),L):16777216&O?this._promiseRejected(k._reason(),L):this._promiseCancelled(L):(k._proxy(this,L),this._values[L]=k):E=this._promiseFulfilled(k,L)}E||R._setAsyncGuaranteed()},I.prototype._isResolved=function(){return this._values===null},I.prototype._resolve=function(A){this._values=null,this._promise._fulfill(A)},I.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},I.prototype._reject=function(A){this._values=null,this._promise._rejectCallback(A,!1)},I.prototype._promiseFulfilled=function(A,P){this._values[P]=A;var R=++this._totalResolved;return R>=this._length?(this._resolve(this._values),!0):!1},I.prototype._promiseCancelled=function(){return this._cancel(),!0},I.prototype._promiseRejected=function(A){return this._totalResolved++,this._reject(A),!0},I.prototype._resultCancelled=function(){if(!this._isResolved()){var A=this._values;if(this._cancel(),A instanceof s)A.cancel();else for(var P=0;P<A.length;++P)A[P]instanceof s&&A[P].cancel()}},I.prototype.shouldCopyValues=function(){return!0},I.prototype.getActualLength=function(A){return A},I}},{"./util":36}],24:[function(e,n,a){n.exports=function(s,f){function h(me){return!ie.test(me)}function _(me){try{return me.__isPromisified__===!0}catch{return!1}}function y(me,we,ge){var Ee=O.getDataPropertyOrDefault(me,we+ge,$);return Ee?_(Ee):!1}function T(me,we,ge){for(var Ee=0;Ee<me.length;Ee+=2){var _e=me[Ee];if(ge.test(_e)){for(var Ue=_e.replace(ge,""),xe=0;xe<me.length;xe+=2)if(me[xe]===Ue)throw new G(`Cannot promisify an API that has normal methods with '%s'-suffix

    See http://goo.gl/MqrFmX
`.replace("%s",we))}}}function I(me,we,ge,Ee){for(var _e=O.inheritedDataKeys(me),Ue=[],xe=0;xe<_e.length;++xe){var Te=_e[xe],Be=me[Te],ot=Ee===pe?!0:pe(Te);typeof Be!="function"||_(Be)||y(me,Te,we)||!Ee(Te,Be,me,ot)||Ue.push(Te,Be)}return T(Ue,we,ge),Ue}function x(me,we,ge,Ee,_e,Ue){function xe(){var ot=we;we===E&&(ot=this);var tt=new s(f);tt._captureStackTrace();var vt=typeof Be=="string"&&this!==Te?this[Be]:me,bt=L(tt,Ue);try{vt.apply(ot,k(arguments,bt))}catch(Se){tt._rejectCallback(N(Se),!0,!0)}return tt._isFateSealed()||tt._setAsyncGuaranteed(),tt}var Te=function(){return this}(),Be=me;return typeof Be=="string"&&(me=Ee),O.notEnumerableProp(xe,"__isPromisified__",!0),xe}function A(me,we,ge,Ee,_e){for(var Ue=new RegExp(se(we)+"$"),xe=I(me,we,Ue,ge),Te=0,Be=xe.length;Be>Te;Te+=2){var ot=xe[Te],tt=xe[Te+1],vt=ot+we;if(Ee===ce)me[vt]=ce(ot,E,ot,tt,we,_e);else{var bt=Ee(tt,function(){return ce(ot,E,ot,tt,we,_e)});O.notEnumerableProp(bt,"__isPromisified__",!0),me[vt]=bt}}return O.toFastProperties(me),me}function P(me,we,ge){return ce(me,we,void 0,me,null,ge)}var R,E={},O=e("./util"),L=e("./nodeback"),k=O.withAppended,N=O.maybeWrapAsError,W=O.canEvaluate,G=e("./errors").TypeError,le="Async",$={__isPromisified__:!0},H=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],ie=new RegExp("^(?:"+H.join("|")+")$"),pe=function(me){return O.isIdentifier(me)&&me.charAt(0)!=="_"&&me!=="constructor"},se=function(me){return me.replace(new RegExp(/\$/,"g"),"\\$")},ce=W?R:x;s.promisify=function(me,we){if(typeof me!="function")throw new G("expecting a function but got "+O.classString(me));if(_(me))return me;we=Object(we);var ge=we.context===void 0?E:we.context,Ee=!!we.multiArgs,_e=P(me,ge,Ee);return O.copyDescriptors(me,_e,h),_e},s.promisifyAll=function(me,we){if(typeof me!="function"&&typeof me!="object")throw new G(`the target of promisifyAll must be an object or a function

    See http://goo.gl/MqrFmX
`);we=Object(we);var ge=!!we.multiArgs,Ee=we.suffix;typeof Ee!="string"&&(Ee=le);var _e=we.filter;typeof _e!="function"&&(_e=pe);var Ue=we.promisifier;if(typeof Ue!="function"&&(Ue=ce),!O.isIdentifier(Ee))throw new RangeError(`suffix must be a valid identifier

    See http://goo.gl/MqrFmX
`);for(var xe=O.inheritedDataKeys(me),Te=0;Te<xe.length;++Te){var Be=me[xe[Te]];xe[Te]!=="constructor"&&O.isClass(Be)&&(A(Be.prototype,Ee,_e,Ue,ge),A(Be,Ee,_e,Ue,ge))}return A(me,Ee,_e,Ue,ge)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(e,n,a){n.exports=function(s,f,h,_){function y(O){var L,k=!1;if(I!==void 0&&O instanceof I)L=R(O),k=!0;else{var N=P.keys(O),W=N.length;L=new Array(2*W);for(var G=0;W>G;++G){var le=N[G];L[G]=O[le],L[G+W]=le}}this.constructor$(L),this._isMap=k,this._init$(void 0,k?-6:-3)}function T(O){var L,k=h(O);return A(k)?(L=k instanceof s?k._then(s.props,void 0,void 0,void 0,void 0):new y(k).promise(),k instanceof s&&L._propagateFrom(k,2),L):_(`cannot await properties of a non-object

    See http://goo.gl/MqrFmX
`)}var I,x=e("./util"),A=x.isObject,P=e("./es5");typeof Map=="function"&&(I=Map);var R=function(){function O(N,W){this[L]=N,this[L+k]=W,L++}var L=0,k=0;return function(N){k=N.size,L=0;var W=new Array(2*N.size);return N.forEach(O,W),W}}(),E=function(O){for(var L=new I,k=O.length/2|0,N=0;k>N;++N){var W=O[k+N],G=O[N];L.set(W,G)}return L};x.inherits(y,f),y.prototype._init=function(){},y.prototype._promiseFulfilled=function(O,L){this._values[L]=O;var k=++this._totalResolved;if(k>=this._length){var N;if(this._isMap)N=E(this._values);else{N={};for(var W=this.length(),G=0,le=this.length();le>G;++G)N[this._values[G+W]]=this._values[G]}return this._resolve(N),!0}return!1},y.prototype.shouldCopyValues=function(){return!1},y.prototype.getActualLength=function(O){return O>>1},s.prototype.props=function(){return T(this)},s.props=function(O){return T(O)}}},{"./es5":13,"./util":36}],26:[function(e,n,a){function s(h,_,y,T,I){for(var x=0;I>x;++x)y[x+T]=h[x+_],h[x+_]=void 0}function f(h){this._capacity=h,this._length=0,this._front=0}f.prototype._willBeOverCapacity=function(h){return this._capacity<h},f.prototype._pushOne=function(h){var _=this.length();this._checkCapacity(_+1);var y=this._front+_&this._capacity-1;this[y]=h,this._length=_+1},f.prototype.push=function(h,_,y){var T=this.length()+3;if(this._willBeOverCapacity(T))return this._pushOne(h),this._pushOne(_),void this._pushOne(y);var I=this._front+T-3;this._checkCapacity(T);var x=this._capacity-1;this[I+0&x]=h,this[I+1&x]=_,this[I+2&x]=y,this._length=T},f.prototype.shift=function(){var h=this._front,_=this[h];return this[h]=void 0,this._front=h+1&this._capacity-1,this._length--,_},f.prototype.length=function(){return this._length},f.prototype._checkCapacity=function(h){this._capacity<h&&this._resizeTo(this._capacity<<1)},f.prototype._resizeTo=function(h){var _=this._capacity;this._capacity=h;var y=this._front,T=this._length,I=y+T&_-1;s(this,0,this,_,I)},n.exports=f},{}],27:[function(e,n,a){n.exports=function(s,f,h,_){function y(x,A){var P=h(x);if(P instanceof s)return I(P);if(x=T.asArray(x),x===null)return _("expecting an array or an iterable object but got "+T.classString(x));var R=new s(f);A!==void 0&&R._propagateFrom(A,3);for(var E=R._fulfill,O=R._reject,L=0,k=x.length;k>L;++L){var N=x[L];(N!==void 0||L in x)&&s.cast(N)._then(E,O,void 0,R,null)}return R}var T=e("./util"),I=function(x){return x.then(function(A){return y(A,x)})};s.race=function(x){return y(x,void 0)},s.prototype.race=function(){return y(this,void 0)}}},{"./util":36}],28:[function(e,n,a){n.exports=function(s,f,h,_,y,T){function I(L,k,N,W){this.constructor$(L);var G=s._getContext();this._fn=E.contextBind(G,k),N!==void 0&&(N=s.resolve(N),N._attachCancellationCallback(this)),this._initialValue=N,this._currentCancellable=null,W===y?this._eachValues=Array(this._length):W===0?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function x(L,k){this.isFulfilled()?k._resolve(L):k._reject(L)}function A(L,k,N,W){if(typeof k!="function")return h("expecting a function but got "+E.classString(k));var G=new I(L,k,N,W);return G.promise()}function P(L){this.accum=L,this.array._gotAccum(L);var k=_(this.value,this.array._promise);return k instanceof s?(this.array._currentCancellable=k,k._then(R,void 0,void 0,this,void 0)):R.call(this,k)}function R(L){var k=this.array,N=k._promise,W=O(k._fn);N._pushContext();var G;G=k._eachValues!==void 0?W.call(N._boundValue(),L,this.index,this.length):W.call(N._boundValue(),this.accum,L,this.index,this.length),G instanceof s&&(k._currentCancellable=G);var le=N._popContext();return T.checkForgottenReturns(G,le,k._eachValues!==void 0?"Promise.each":"Promise.reduce",N),G}var E=e("./util"),O=E.tryCatch;E.inherits(I,f),I.prototype._gotAccum=function(L){this._eachValues!==void 0&&this._eachValues!==null&&L!==y&&this._eachValues.push(L)},I.prototype._eachComplete=function(L){return this._eachValues!==null&&this._eachValues.push(L),this._eachValues},I.prototype._init=function(){},I.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==void 0?this._eachValues:this._initialValue)},I.prototype.shouldCopyValues=function(){return!1},I.prototype._resolve=function(L){this._promise._resolveCallback(L),this._values=null},I.prototype._resultCancelled=function(L){return L===this._initialValue?this._cancel():void(this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof s&&this._currentCancellable.cancel(),this._initialValue instanceof s&&this._initialValue.cancel()))},I.prototype._iterate=function(L){this._values=L;var k,N,W=L.length;this._initialValue!==void 0?(k=this._initialValue,N=0):(k=s.resolve(L[0]),N=1),this._currentCancellable=k;for(var G=N;W>G;++G){var le=L[G];le instanceof s&&le.suppressUnhandledRejections()}if(!k.isRejected())for(;W>N;++N){var $={accum:null,value:L[N],index:N,length:W,array:this};k=k._then(P,void 0,void 0,$,void 0),!(127&N)&&k._setNoAsyncGuarantee()}this._eachValues!==void 0&&(k=k._then(this._eachComplete,void 0,void 0,this,void 0)),k._then(x,x,void 0,k,this)},s.prototype.reduce=function(L,k){return A(this,L,k,null)},s.reduce=function(L,k,N,W){return A(L,k,N,W)}}},{"./util":36}],29:[function(e,n,a){var s,f=e("./util"),h=function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)},_=f.getNativePromise();if(f.isNode&&typeof MutationObserver>"u"){var y=global.setImmediate,T=process.nextTick;s=f.isRecentNode?function(x){y.call(global,x)}:function(x){T.call(process,x)}}else if(typeof _=="function"&&typeof _.resolve=="function"){var I=_.resolve();s=function(x){I.then(x)}}else s=typeof MutationObserver<"u"&&(typeof window>"u"||!window.navigator||!window.navigator.standalone&&!window.cordova)&&"classList"in document.documentElement?function(){var x=document.createElement("div"),A={attributes:!0},P=!1,R=document.createElement("div"),E=new MutationObserver(function(){x.classList.toggle("foo"),P=!1});E.observe(R,A);var O=function(){P||(P=!0,R.classList.toggle("foo"))};return function(L){var k=new MutationObserver(function(){k.disconnect(),L()});k.observe(x,A),O()}}():typeof setImmediate<"u"?function(x){setImmediate(x)}:typeof setTimeout<"u"?function(x){setTimeout(x,0)}:h;n.exports=s},{"./util":36}],30:[function(e,n,a){n.exports=function(s,f,h){function _(I){this.constructor$(I)}var y=s.PromiseInspection,T=e("./util");T.inherits(_,f),_.prototype._promiseResolved=function(I,x){this._values[I]=x;var A=++this._totalResolved;return A>=this._length?(this._resolve(this._values),!0):!1},_.prototype._promiseFulfilled=function(I,x){var A=new y;return A._bitField=33554432,A._settledValueField=I,this._promiseResolved(x,A)},_.prototype._promiseRejected=function(I,x){var A=new y;return A._bitField=16777216,A._settledValueField=I,this._promiseResolved(x,A)},s.settle=function(I){return h.deprecated(".settle()",".reflect()"),new _(I).promise()},s.allSettled=function(I){return new _(I).promise()},s.prototype.settle=function(){return s.settle(this)}}},{"./util":36}],31:[function(e,n,a){n.exports=function(s,f,h){function _(R){this.constructor$(R),this._howMany=0,this._unwrap=!1,this._initialized=!1}function y(R,E){if((0|E)!==E||0>E)return h(`expecting a positive integer

    See http://goo.gl/MqrFmX
`);var O=new _(R),L=O.promise();return O.setHowMany(E),O.init(),L}var T=e("./util"),I=e("./errors").RangeError,x=e("./errors").AggregateError,A=T.isArray,P={};T.inherits(_,f),_.prototype._init=function(){if(this._initialized){if(this._howMany===0)return void this._resolve([]);this._init$(void 0,-5);var R=A(this._values);!this._isResolved()&&R&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},_.prototype.init=function(){this._initialized=!0,this._init()},_.prototype.setUnwrap=function(){this._unwrap=!0},_.prototype.howMany=function(){return this._howMany},_.prototype.setHowMany=function(R){this._howMany=R},_.prototype._promiseFulfilled=function(R){return this._addFulfilled(R),this._fulfilled()===this.howMany()?(this._values.length=this.howMany(),this.howMany()===1&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0):!1},_.prototype._promiseRejected=function(R){return this._addRejected(R),this._checkOutcome()},_.prototype._promiseCancelled=function(){return this._values instanceof s||this._values==null?this._cancel():(this._addRejected(P),this._checkOutcome())},_.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var R=new x,E=this.length();E<this._values.length;++E)this._values[E]!==P&&R.push(this._values[E]);return R.length>0?this._reject(R):this._cancel(),!0}return!1},_.prototype._fulfilled=function(){return this._totalResolved},_.prototype._rejected=function(){return this._values.length-this.length()},_.prototype._addRejected=function(R){this._values.push(R)},_.prototype._addFulfilled=function(R){this._values[this._totalResolved++]=R},_.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},_.prototype._getRangeError=function(R){var E="Input array must contain at least "+this._howMany+" items but contains only "+R+" items";return new I(E)},_.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},s.some=function(R,E){return y(R,E)},s.prototype.some=function(R){return y(this,R)},s._SomePromiseArray=_}},{"./errors":12,"./util":36}],32:[function(e,n,a){n.exports=function(s){function f(A){A!==void 0?(A=A._target(),this._bitField=A._bitField,this._settledValueField=A._isFateSealed()?A._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}f.prototype._settledValue=function(){return this._settledValueField};var h=f.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},_=f.prototype.error=f.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},y=f.prototype.isFulfilled=function(){return(33554432&this._bitField)!==0},T=f.prototype.isRejected=function(){return(16777216&this._bitField)!==0},I=f.prototype.isPending=function(){return(50397184&this._bitField)===0},x=f.prototype.isResolved=function(){return(50331648&this._bitField)!==0};f.prototype.isCancelled=function(){return(8454144&this._bitField)!==0},s.prototype.__isCancelled=function(){return(65536&this._bitField)===65536},s.prototype._isCancelled=function(){return this._target().__isCancelled()},s.prototype.isCancelled=function(){return(8454144&this._target()._bitField)!==0},s.prototype.isPending=function(){return I.call(this._target())},s.prototype.isRejected=function(){return T.call(this._target())},s.prototype.isFulfilled=function(){return y.call(this._target())},s.prototype.isResolved=function(){return x.call(this._target())},s.prototype.value=function(){return h.call(this._target())},s.prototype.reason=function(){var A=this._target();return A._unsetRejectionIsUnhandled(),_.call(A)},s.prototype._value=function(){return this._settledValue()},s.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},s.PromiseInspection=f}},{}],33:[function(e,n,a){n.exports=function(s,f){function h(E,O){if(P(E)){if(E instanceof s)return E;var L=y(E);if(L===A){O&&O._pushContext();var k=s.reject(L.e);return O&&O._popContext(),k}if(typeof L=="function"){if(T(E)){var k=new s(f);return E._then(k._fulfill,k._reject,void 0,k,null),k}return I(E,L,O)}}return E}function _(E){return E.then}function y(E){try{return _(E)}catch(O){return A.e=O,A}}function T(E){try{return R.call(E,"_promise0")}catch{return!1}}function I(E,O,L){function k(H){W&&(W._resolveCallback(H),W=null)}function N(H){W&&(W._rejectCallback(H,le,!0),W=null)}var W=new s(f),G=W;L&&L._pushContext(),W._captureStackTrace(),L&&L._popContext();var le=!0,$=x.tryCatch(O).call(E,k,N);return le=!1,W&&$===A&&(W._rejectCallback($.e,!0,!0),W=null),G}var x=e("./util"),A=x.errorObj,P=x.isObject,R={}.hasOwnProperty;return h}},{"./util":36}],34:[function(e,n,a){n.exports=function(s,f,h){function _(E){this.handle=E}function y(E){return clearTimeout(this.handle),E}function T(E){throw clearTimeout(this.handle),E}var I=e("./util"),x=s.TimeoutError;_.prototype._resultCancelled=function(){clearTimeout(this.handle)};var A=function(E){return P(+this).thenReturn(E)},P=s.delay=function(E,O){var L,k;return O!==void 0?(L=s.resolve(O)._then(A,null,null,E,void 0),h.cancellation()&&O instanceof s&&L._setOnCancel(O)):(L=new s(f),k=setTimeout(function(){L._fulfill()},+E),h.cancellation()&&L._setOnCancel(new _(k)),L._captureStackTrace()),L._setAsyncGuaranteed(),L};s.prototype.delay=function(E){return P(E,this)};var R=function(E,O,L){var k;k=typeof O!="string"?O instanceof Error?O:new x("operation timed out"):new x(O),I.markAsOriginatingFromRejection(k),E._attachExtraTrace(k),E._reject(k),L!=null&&L.cancel()};s.prototype.timeout=function(E,O){E=+E;var L,k,N=new _(setTimeout(function(){L.isPending()&&R(L,O,k)},E));return h.cancellation()?(k=this.then(),L=k._then(y,T,void 0,N,void 0),L._setOnCancel(N)):L=this._then(y,T,void 0,N,void 0),L}}},{"./util":36}],35:[function(e,n,a){n.exports=function(s,f,h,_,y,T){function I($){setTimeout(function(){throw $},0)}function x($){var H=h($);return H!==$&&typeof $._isDisposable=="function"&&typeof $._getDisposer=="function"&&$._isDisposable()&&H._setDisposable($._getDisposer()),H}function A($,H){function ie(){if(pe>=se)return ce._fulfill();var me=x($[pe++]);if(me instanceof s&&me._isDisposable()){try{me=h(me._getDisposer().tryDispose(H),$.promise)}catch(we){return I(we)}if(me instanceof s)return me._then(ie,I,null,null,null)}ie()}var pe=0,se=$.length,ce=new s(y);return ie(),ce}function P($,H,ie){this._data=$,this._promise=H,this._context=ie}function R($,H,ie){this.constructor$($,H,ie)}function E($){return P.isDisposer($)?(this.resources[this.index]._setDisposable($),$.promise()):$}function O($){this.length=$,this.promise=null,this[$-1]=null}var L=e("./util"),k=e("./errors").TypeError,N=e("./util").inherits,W=L.errorObj,G=L.tryCatch,le={};P.prototype.data=function(){return this._data},P.prototype.promise=function(){return this._promise},P.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():le},P.prototype.tryDispose=function($){var H=this.resource(),ie=this._context;ie!==void 0&&ie._pushContext();var pe=H!==le?this.doDispose(H,$):null;return ie!==void 0&&ie._popContext(),this._promise._unsetDisposable(),this._data=null,pe},P.isDisposer=function($){return $!=null&&typeof $.resource=="function"&&typeof $.tryDispose=="function"},N(R,P),R.prototype.doDispose=function($,H){var ie=this.data();return ie.call($,$,H)},O.prototype._resultCancelled=function(){for(var $=this.length,H=0;$>H;++H){var ie=this[H];ie instanceof s&&ie.cancel()}},s.using=function(){var $=arguments.length;if(2>$)return f("you must pass at least 2 arguments to Promise.using");var H=arguments[$-1];if(typeof H!="function")return f("expecting a function but got "+L.classString(H));var ie,pe=!0;$===2&&Array.isArray(arguments[0])?(ie=arguments[0],$=ie.length,pe=!1):(ie=arguments,$--);for(var se=new O($),ce=0;$>ce;++ce){var me=ie[ce];if(P.isDisposer(me)){var we=me;me=me.promise(),me._setDisposable(we)}else{var ge=h(me);ge instanceof s&&(me=ge._then(E,null,null,{resources:se,index:ce},void 0))}se[ce]=me}for(var Ee=new Array(se.length),ce=0;ce<Ee.length;++ce)Ee[ce]=s.resolve(se[ce]).reflect();var _e=s.all(Ee).then(function(xe){for(var Te=0;Te<xe.length;++Te){var Be=xe[Te];if(Be.isRejected())return W.e=Be.error(),W;if(!Be.isFulfilled())return void _e.cancel();xe[Te]=Be.value()}Ue._pushContext(),H=G(H);var ot=pe?H.apply(void 0,xe):H(xe),tt=Ue._popContext();return T.checkForgottenReturns(ot,tt,"Promise.using",Ue),ot}),Ue=_e.lastly(function(){var xe=new s.PromiseInspection(_e);return A(se,xe)});return se.promise=Ue,Ue._setOnCancel(se),Ue},s.prototype._setDisposable=function($){this._bitField=131072|this._bitField,this._disposer=$},s.prototype._isDisposable=function(){return(131072&this._bitField)>0},s.prototype._getDisposer=function(){return this._disposer},s.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},s.prototype.disposer=function($){if(typeof $=="function")return new R($,this,_());throw new k}}},{"./errors":12,"./util":36}],36:[function(e,n,a){function s(){try{var ye=we;return we=null,ye.apply(this,arguments)}catch(Ie){return me.e=Ie,me}}function f(ye){return we=ye,s}function h(ye){return ye==null||ye===!0||ye===!1||typeof ye=="string"||typeof ye=="number"}function _(ye){return typeof ye=="function"||typeof ye=="object"&&ye!==null}function y(ye){return h(ye)?new Error(L(ye)):ye}function T(ye,Ie){var qe,ut=ye.length,lt=new Array(ut+1);for(qe=0;ut>qe;++qe)lt[qe]=ye[qe];return lt[qe]=Ie,lt}function I(ye,Ie,qe){if(!se.isES5)return{}.hasOwnProperty.call(ye,Ie)?ye[Ie]:void 0;var ut=Object.getOwnPropertyDescriptor(ye,Ie);return ut!=null?ut.get==null&&ut.set==null?ut.value:qe:void 0}function x(ye,Ie,qe){if(h(ye))return ye;var ut={value:qe,configurable:!0,enumerable:!1,writable:!0};return se.defineProperty(ye,Ie,ut),ye}function A(ye){throw ye}function P(ye){try{if(typeof ye=="function"){var Ie=se.names(ye.prototype),qe=se.isES5&&Ie.length>1,ut=Ie.length>0&&!(Ie.length===1&&Ie[0]==="constructor"),lt=Ue.test(ye+"")&&se.names(ye).length>0;if(qe||ut||lt)return!0}return!1}catch{return!1}}function R(ye){function Ie(){}function qe(){return typeof ut.foo}Ie.prototype=ye;var ut=new Ie;return qe(),qe(),ye}function E(ye){return xe.test(ye)}function O(ye,Ie,qe){for(var ut=new Array(ye),lt=0;ye>lt;++lt)ut[lt]=Ie+lt+qe;return ut}function L(ye){try{return ye+""}catch{return"[no string representation]"}}function k(ye){return ye instanceof Error||ye!==null&&typeof ye=="object"&&typeof ye.message=="string"&&typeof ye.name=="string"}function N(ye){try{x(ye,"isOperational",!0)}catch{}}function W(ye){return ye==null?!1:ye instanceof Error.__BluebirdErrorTypes__.OperationalError||ye.isOperational===!0}function G(ye){return k(ye)&&se.propertyIsWritable(ye,"stack")}function le(ye){return{}.toString.call(ye)}function $(ye,Ie,qe){for(var ut=se.names(ye),lt=0;lt<ut.length;++lt){var Vt=ut[lt];if(qe(Vt))try{se.defineProperty(Ie,Vt,se.getDescriptor(ye,Vt))}catch{}}}function H(ye){return vt?r5[ye]:void 0}function ie(){if(typeof Promise=="function")try{var ye=new Promise(function(){});if(le(ye)==="[object Promise]")return Promise}catch{}}function pe(ye,Ie){if(ye===null||typeof Ie!="function"||Ie===bt)return Ie;ye.domain!==null&&(Ie=ye.domain.bind(Ie));var qe=ye.async;if(qe!==null){var ut=Ie;Ie=function(){var lt=new Array(2).concat([].slice.call(arguments));return lt[0]=ut,lt[1]=this,qe.runInAsyncScope.apply(qe,lt)}}return Ie}var se=e("./es5"),ce=typeof navigator>"u",me={e:{}},we,ge=typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:this!==void 0?this:null,Ee=function(ye,Ie){function qe(){this.constructor=ye,this.constructor$=Ie;for(var lt in Ie.prototype)ut.call(Ie.prototype,lt)&&lt.charAt(lt.length-1)!=="$"&&(this[lt+"$"]=Ie.prototype[lt])}var ut={}.hasOwnProperty;return qe.prototype=Ie.prototype,ye.prototype=new qe,ye.prototype},_e=function(){var ye=[Array.prototype,Object.prototype,Function.prototype],Ie=function(lt){for(var Vt=0;Vt<ye.length;++Vt)if(ye[Vt]===lt)return!0;return!1};if(se.isES5){var qe=Object.getOwnPropertyNames;return function(lt){for(var Vt=[],zt=Object.create(null);lt!=null&&!Ie(lt);){var ur;try{ur=qe(lt)}catch{return Vt}for(var at=0;at<ur.length;++at){var Nt=ur[at];if(!zt[Nt]){zt[Nt]=!0;var jt=Object.getOwnPropertyDescriptor(lt,Nt);jt!=null&&jt.get==null&&jt.set==null&&Vt.push(Nt)}}lt=se.getPrototypeOf(lt)}return Vt}}var ut={}.hasOwnProperty;return function(lt){if(Ie(lt))return[];var Vt=[];e:for(var zt in lt)if(ut.call(lt,zt))Vt.push(zt);else{for(var ur=0;ur<ye.length;++ur)if(ut.call(ye[ur],zt))continue e;Vt.push(zt)}return Vt}}(),Ue=/this\s*\.\s*\S+\s*=/,xe=/^[a-z$_][a-z$_0-9]*$/i,Te=function(){return"stack"in new Error?function(ye){return G(ye)?ye:new Error(L(ye))}:function(ye){if(G(ye))return ye;try{throw new Error(L(ye))}catch(Ie){return Ie}}}(),Be=function(ye){return se.isArray(ye)?ye:null};if(typeof Symbol<"u"&&Symbol.iterator){var ot=typeof Array.from=="function"?function(ye){return Array.from(ye)}:function(ye){for(var Ie,qe=[],ut=ye[Symbol.iterator]();!(Ie=ut.next()).done;)qe.push(Ie.value);return qe};Be=function(ye){return se.isArray(ye)?ye:ye!=null&&typeof ye[Symbol.iterator]=="function"?ot(ye):null}}var tt=typeof process<"u"&&le(process).toLowerCase()==="[object process]",vt=typeof process<"u"&&typeof r5<"u",bt,Se={setReflectHandler:function(ye){bt=ye},isClass:P,isIdentifier:E,inheritedDataKeys:_e,getDataPropertyOrDefault:I,thrower:A,isArray:se.isArray,asArray:Be,notEnumerableProp:x,isPrimitive:h,isObject:_,isError:k,canEvaluate:ce,errorObj:me,tryCatch:f,inherits:Ee,withAppended:T,maybeWrapAsError:y,toFastProperties:R,filledRange:O,toString:L,canAttachTrace:G,ensureErrorObject:Te,originatesFromRejection:W,markAsOriginatingFromRejection:N,classString:le,copyDescriptors:$,isNode:tt,hasEnvVariables:vt,env:H,global:ge,getNativePromise:ie,contextBind:pe};Se.isRecentNode=Se.isNode&&function(){var ye;return process.versions&&process.versions.node?ye=process.versions.node.split(".").map(Number):process.version&&(ye=process.version.split(".").map(Number)),ye[0]===0&&ye[1]>10||ye[0]>0}(),Se.nodeSupportsAsyncResource=Se.isNode&&function(){var ye=!1;try{var Ie=e("async_hooks").AsyncResource;ye=typeof Ie.prototype.runInAsyncScope=="function"}catch{ye=!1}return ye}(),Se.isNode&&Se.toFastProperties(process);try{throw new Error}catch(ye){Se.lastLineError=ye}n.exports=Se},{"./es5":13,async_hooks:void 0}]},{},[4])(4)}),typeof window<"u"&&window!==null?window.P=window.Promise:typeof self<"u"&&self!==null&&(self.P=self.Promise)}(function(e){function n(t,r){(r==null||r>t.length)&&(r=t.length);for(var i=0,o=Array(r);i<r;i++)o[i]=t[i];return o}function a(t,r,i,o,u,d,l){try{var c=t[d](l),p=c.value}catch(g){return void i(g)}c.done?r(p):Promise.resolve(p).then(o,u)}function s(t){return function(){var r=this,i=arguments;return new Promise(function(o,u){var d=t.apply(r,i);function l(p){a(d,o,u,l,c,"next",p)}function c(p){a(d,o,u,l,c,"throw",p)}l(void 0)})}}function f(t,r,i){return r=A(r),function(o,u){if(u&&(typeof u=="object"||typeof u=="function"))return u;if(u!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}(o)}(t,R()?Reflect.construct(r,i||[],A(t).constructor):r.apply(t,i))}function h(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _(t,r){for(var i=0;i<r.length;i++){var o=r[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,k(o.key),o)}}function y(t,r,i){return r&&_(t.prototype,r),i&&_(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function T(t,r){var i=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=W(t))||r){i&&(t=i);var o=0,u=function(){};return{s:u,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(p){throw p},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var d,l=!0,c=!1;return{s:function(){i=i.call(t)},n:function(){var p=i.next();return l=p.done,p},e:function(p){c=!0,d=p},f:function(){try{l||i.return==null||i.return()}finally{if(c)throw d}}}}function I(t,r,i){return(r=k(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t}function x(){return x=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(t,r,i){var o=function(d,l){for(;!{}.hasOwnProperty.call(d,l)&&(d=A(d))!==null;);return d}(t,r);if(o){var u=Object.getOwnPropertyDescriptor(o,r);return u.get?u.get.call(arguments.length<3?t:i):u.value}},x.apply(null,arguments)}function A(t){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},A(t)}function P(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&O(t,r)}function R(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R=function(){return!!t})()}function E(){E=function(){return r};var t,r={},i=Object.prototype,o=i.hasOwnProperty,u=Object.defineProperty||function(ae,ue,ve){ae[ue]=ve.value},d=typeof Symbol=="function"?Symbol:{},l=d.iterator||"@@iterator",c=d.asyncIterator||"@@asyncIterator",p=d.toStringTag||"@@toStringTag";function g(ae,ue,ve){return Object.defineProperty(ae,ue,{value:ve,enumerable:!0,configurable:!0,writable:!0}),ae[ue]}try{g({},"")}catch{g=function(ue,ve,be){return ue[ve]=be}}function S(ae,ue,ve,be){var Ce=ue&&ue.prototype instanceof Y?ue:Y,je=Object.create(Ce.prototype),Ye=new oe(be||[]);return u(je,"_invoke",{value:U(ae,ve,Ye)}),je}function v(ae,ue,ve){try{return{type:"normal",arg:ae.call(ue,ve)}}catch(be){return{type:"throw",arg:be}}}r.wrap=S;var b="suspendedStart",C="suspendedYield",D="executing",M="completed",j={};function Y(){}function ee(){}function te(){}var de={};g(de,l,function(){return this});var Z=Object.getPrototypeOf,ne=Z&&Z(Z(fe([])));ne&&ne!==i&&o.call(ne,l)&&(de=ne);var X=te.prototype=Y.prototype=Object.create(de);function F(ae){["next","throw","return"].forEach(function(ue){g(ae,ue,function(ve){return this._invoke(ue,ve)})})}function B(ae,ue){function ve(Ce,je,Ye,He){var St=v(ae[Ce],ae,je);if(St.type!=="throw"){var ct=St.arg,gt=ct.value;return gt&&typeof gt=="object"&&o.call(gt,"__await")?ue.resolve(gt.__await).then(function($e){ve("next",$e,Ye,He)},function($e){ve("throw",$e,Ye,He)}):ue.resolve(gt).then(function($e){ct.value=$e,Ye(ct)},function($e){return ve("throw",$e,Ye,He)})}He(St.arg)}var be;u(this,"_invoke",{value:function(Ce,je){function Ye(){return new ue(function(He,St){ve(Ce,je,He,St)})}return be=be?be.then(Ye,Ye):Ye()}})}function U(ae,ue,ve){var be=b;return function(Ce,je){if(be===D)throw Error("Generator is already running");if(be===M){if(Ce==="throw")throw je;return{value:t,done:!0}}for(ve.method=Ce,ve.arg=je;;){var Ye=ve.delegate;if(Ye){var He=K(Ye,ve);if(He){if(He===j)continue;return He}}if(ve.method==="next")ve.sent=ve._sent=ve.arg;else if(ve.method==="throw"){if(be===b)throw be=M,ve.arg;ve.dispatchException(ve.arg)}else ve.method==="return"&&ve.abrupt("return",ve.arg);be=D;var St=v(ae,ue,ve);if(St.type==="normal"){if(be=ve.done?M:C,St.arg===j)continue;return{value:St.arg,done:ve.done}}St.type==="throw"&&(be=M,ve.method="throw",ve.arg=St.arg)}}}function K(ae,ue){var ve=ue.method,be=ae.iterator[ve];if(be===t)return ue.delegate=null,ve==="throw"&&ae.iterator.return&&(ue.method="return",ue.arg=t,K(ae,ue),ue.method==="throw")||ve!=="return"&&(ue.method="throw",ue.arg=new TypeError("The iterator does not provide a '"+ve+"' method")),j;var Ce=v(be,ae.iterator,ue.arg);if(Ce.type==="throw")return ue.method="throw",ue.arg=Ce.arg,ue.delegate=null,j;var je=Ce.arg;return je?je.done?(ue[ae.resultName]=je.value,ue.next=ae.nextLoc,ue.method!=="return"&&(ue.method="next",ue.arg=t),ue.delegate=null,j):je:(ue.method="throw",ue.arg=new TypeError("iterator result is not an object"),ue.delegate=null,j)}function q(ae){var ue={tryLoc:ae[0]};1 in ae&&(ue.catchLoc=ae[1]),2 in ae&&(ue.finallyLoc=ae[2],ue.afterLoc=ae[3]),this.tryEntries.push(ue)}function re(ae){var ue=ae.completion||{};ue.type="normal",delete ue.arg,ae.completion=ue}function oe(ae){this.tryEntries=[{tryLoc:"root"}],ae.forEach(q,this),this.reset(!0)}function fe(ae){if(ae||ae===""){var ue=ae[l];if(ue)return ue.call(ae);if(typeof ae.next=="function")return ae;if(!isNaN(ae.length)){var ve=-1,be=function Ce(){for(;++ve<ae.length;)if(o.call(ae,ve))return Ce.value=ae[ve],Ce.done=!1,Ce;return Ce.value=t,Ce.done=!0,Ce};return be.next=be}}throw new TypeError(typeof ae+" is not iterable")}return ee.prototype=te,u(X,"constructor",{value:te,configurable:!0}),u(te,"constructor",{value:ee,configurable:!0}),ee.displayName=g(te,p,"GeneratorFunction"),r.isGeneratorFunction=function(ae){var ue=typeof ae=="function"&&ae.constructor;return!!ue&&(ue===ee||(ue.displayName||ue.name)==="GeneratorFunction")},r.mark=function(ae){return Object.setPrototypeOf?Object.setPrototypeOf(ae,te):(ae.__proto__=te,g(ae,p,"GeneratorFunction")),ae.prototype=Object.create(X),ae},r.awrap=function(ae){return{__await:ae}},F(B.prototype),g(B.prototype,c,function(){return this}),r.AsyncIterator=B,r.async=function(ae,ue,ve,be,Ce){Ce===void 0&&(Ce=Promise);var je=new B(S(ae,ue,ve,be),Ce);return r.isGeneratorFunction(ue)?je:je.next().then(function(Ye){return Ye.done?Ye.value:je.next()})},F(X),g(X,p,"Generator"),g(X,l,function(){return this}),g(X,"toString",function(){return"[object Generator]"}),r.keys=function(ae){var ue=Object(ae),ve=[];for(var be in ue)ve.push(be);return ve.reverse(),function Ce(){for(;ve.length;){var je=ve.pop();if(je in ue)return Ce.value=je,Ce.done=!1,Ce}return Ce.done=!0,Ce}},r.values=fe,oe.prototype={constructor:oe,reset:function(ae){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(re),!ae)for(var ue in this)ue.charAt(0)==="t"&&o.call(this,ue)&&!isNaN(+ue.slice(1))&&(this[ue]=t)},stop:function(){this.done=!0;var ae=this.tryEntries[0].completion;if(ae.type==="throw")throw ae.arg;return this.rval},dispatchException:function(ae){if(this.done)throw ae;var ue=this;function ve(St,ct){return je.type="throw",je.arg=ae,ue.next=St,ct&&(ue.method="next",ue.arg=t),!!ct}for(var be=this.tryEntries.length-1;be>=0;--be){var Ce=this.tryEntries[be],je=Ce.completion;if(Ce.tryLoc==="root")return ve("end");if(Ce.tryLoc<=this.prev){var Ye=o.call(Ce,"catchLoc"),He=o.call(Ce,"finallyLoc");if(Ye&&He){if(this.prev<Ce.catchLoc)return ve(Ce.catchLoc,!0);if(this.prev<Ce.finallyLoc)return ve(Ce.finallyLoc)}else if(Ye){if(this.prev<Ce.catchLoc)return ve(Ce.catchLoc,!0)}else{if(!He)throw Error("try statement without catch or finally");if(this.prev<Ce.finallyLoc)return ve(Ce.finallyLoc)}}}},abrupt:function(ae,ue){for(var ve=this.tryEntries.length-1;ve>=0;--ve){var be=this.tryEntries[ve];if(be.tryLoc<=this.prev&&o.call(be,"finallyLoc")&&this.prev<be.finallyLoc){var Ce=be;break}}Ce&&(ae==="break"||ae==="continue")&&Ce.tryLoc<=ue&&ue<=Ce.finallyLoc&&(Ce=null);var je=Ce?Ce.completion:{};return je.type=ae,je.arg=ue,Ce?(this.method="next",this.next=Ce.finallyLoc,j):this.complete(je)},complete:function(ae,ue){if(ae.type==="throw")throw ae.arg;return ae.type==="break"||ae.type==="continue"?this.next=ae.arg:ae.type==="return"?(this.rval=this.arg=ae.arg,this.method="return",this.next="end"):ae.type==="normal"&&ue&&(this.next=ue),j},finish:function(ae){for(var ue=this.tryEntries.length-1;ue>=0;--ue){var ve=this.tryEntries[ue];if(ve.finallyLoc===ae)return this.complete(ve.completion,ve.afterLoc),re(ve),j}},catch:function(ae){for(var ue=this.tryEntries.length-1;ue>=0;--ue){var ve=this.tryEntries[ue];if(ve.tryLoc===ae){var be=ve.completion;if(be.type==="throw"){var Ce=be.arg;re(ve)}return Ce}}throw Error("illegal catch attempt")},delegateYield:function(ae,ue,ve){return this.delegate={iterator:fe(ae),resultName:ue,nextLoc:ve},this.method==="next"&&(this.arg=t),j}},r}function O(t,r){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i},O(t,r)}function L(t,r){return function(i){if(Array.isArray(i))return i}(t)||function(i,o){var u=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(u!=null){var d,l,c,p,g=[],S=!0,v=!1;try{if(c=(u=u.call(i)).next,o!==0)for(;!(S=(d=c.call(u)).done)&&(g.push(d.value),g.length!==o);S=!0);}catch(b){v=!0,l=b}finally{try{if(!S&&u.return!=null&&(p=u.return(),Object(p)!==p))return}finally{if(v)throw l}}return g}}(t,r)||W(t,r)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function k(t){var r=function(i,o){if(typeof i!="object"||!i)return i;var u=i[Symbol.toPrimitive];if(u!==void 0){var d=u.call(i,o||"default");if(typeof d!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}(t,"string");return typeof r=="symbol"?r:r+""}function N(t){return N=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},N(t)}function W(t,r){if(t){if(typeof t=="string")return n(t,r);var i={}.toString.call(t).slice(8,-1);return i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set"?Array.from(t):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(t,r):void 0}}var G;function le(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function $(t){return $=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},$(t)}function H(t){var r=function(i,o){if($(i)!="object"||!i)return i;var u=i[Symbol.toPrimitive];if(u!==void 0){var d=u.call(i,o||"default");if($(d)!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}(t,"string");return $(r)=="symbol"?r:r+""}function ie(t,r){for(var i=0;i<r.length;i++){var o=r[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,H(o.key),o)}}function pe(t,r,i){return r&&ie(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}var se=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ce(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var me={exports:{}},we={exports:{}};(function(t){function r(i){return t.exports=r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},t.exports.__esModule=!0,t.exports.default=t.exports,r(i)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(we);var ge=we.exports;(function(t){var r=ge.default;function i(){t.exports=i=function(){return u},t.exports.__esModule=!0,t.exports.default=t.exports;var o,u={},d=Object.prototype,l=d.hasOwnProperty,c=Object.defineProperty||function(be,Ce,je){be[Ce]=je.value},p=typeof Symbol=="function"?Symbol:{},g=p.iterator||"@@iterator",S=p.asyncIterator||"@@asyncIterator",v=p.toStringTag||"@@toStringTag";function b(be,Ce,je){return Object.defineProperty(be,Ce,{value:je,enumerable:!0,configurable:!0,writable:!0}),be[Ce]}try{b({},"")}catch{b=function(Ce,je,Ye){return Ce[je]=Ye}}function C(be,Ce,je,Ye){var He=Ce&&Ce.prototype instanceof de?Ce:de,St=Object.create(He.prototype),ct=new ue(Ye||[]);return c(St,"_invoke",{value:re(be,je,ct)}),St}function D(be,Ce,je){try{return{type:"normal",arg:be.call(Ce,je)}}catch(Ye){return{type:"throw",arg:Ye}}}u.wrap=C;var M="suspendedStart",j="suspendedYield",Y="executing",ee="completed",te={};function de(){}function Z(){}function ne(){}var X={};b(X,g,function(){return this});var F=Object.getPrototypeOf,B=F&&F(F(ve([])));B&&B!==d&&l.call(B,g)&&(X=B);var U=ne.prototype=de.prototype=Object.create(X);function K(be){["next","throw","return"].forEach(function(Ce){b(be,Ce,function(je){return this._invoke(Ce,je)})})}function q(be,Ce){function je(He,St,ct,gt){var $e=D(be[He],be,St);if($e.type!=="throw"){var Je=$e.arg,We=Je.value;return We&&r(We)=="object"&&l.call(We,"__await")?Ce.resolve(We.__await).then(function(Ke){je("next",Ke,ct,gt)},function(Ke){je("throw",Ke,ct,gt)}):Ce.resolve(We).then(function(Ke){Je.value=Ke,ct(Je)},function(Ke){return je("throw",Ke,ct,gt)})}gt($e.arg)}var Ye;c(this,"_invoke",{value:function(He,St){function ct(){return new Ce(function(gt,$e){je(He,St,gt,$e)})}return Ye=Ye?Ye.then(ct,ct):ct()}})}function re(be,Ce,je){var Ye=M;return function(He,St){if(Ye===Y)throw Error("Generator is already running");if(Ye===ee){if(He==="throw")throw St;return{value:o,done:!0}}for(je.method=He,je.arg=St;;){var ct=je.delegate;if(ct){var gt=oe(ct,je);if(gt){if(gt===te)continue;return gt}}if(je.method==="next")je.sent=je._sent=je.arg;else if(je.method==="throw"){if(Ye===M)throw Ye=ee,je.arg;je.dispatchException(je.arg)}else je.method==="return"&&je.abrupt("return",je.arg);Ye=Y;var $e=D(be,Ce,je);if($e.type==="normal"){if(Ye=je.done?ee:j,$e.arg===te)continue;return{value:$e.arg,done:je.done}}$e.type==="throw"&&(Ye=ee,je.method="throw",je.arg=$e.arg)}}}function oe(be,Ce){var je=Ce.method,Ye=be.iterator[je];if(Ye===o)return Ce.delegate=null,je==="throw"&&be.iterator.return&&(Ce.method="return",Ce.arg=o,oe(be,Ce),Ce.method==="throw")||je!=="return"&&(Ce.method="throw",Ce.arg=new TypeError("The iterator does not provide a '"+je+"' method")),te;var He=D(Ye,be.iterator,Ce.arg);if(He.type==="throw")return Ce.method="throw",Ce.arg=He.arg,Ce.delegate=null,te;var St=He.arg;return St?St.done?(Ce[be.resultName]=St.value,Ce.next=be.nextLoc,Ce.method!=="return"&&(Ce.method="next",Ce.arg=o),Ce.delegate=null,te):St:(Ce.method="throw",Ce.arg=new TypeError("iterator result is not an object"),Ce.delegate=null,te)}function fe(be){var Ce={tryLoc:be[0]};1 in be&&(Ce.catchLoc=be[1]),2 in be&&(Ce.finallyLoc=be[2],Ce.afterLoc=be[3]),this.tryEntries.push(Ce)}function ae(be){var Ce=be.completion||{};Ce.type="normal",delete Ce.arg,be.completion=Ce}function ue(be){this.tryEntries=[{tryLoc:"root"}],be.forEach(fe,this),this.reset(!0)}function ve(be){if(be||be===""){var Ce=be[g];if(Ce)return Ce.call(be);if(typeof be.next=="function")return be;if(!isNaN(be.length)){var je=-1,Ye=function He(){for(;++je<be.length;)if(l.call(be,je))return He.value=be[je],He.done=!1,He;return He.value=o,He.done=!0,He};return Ye.next=Ye}}throw new TypeError(r(be)+" is not iterable")}return Z.prototype=ne,c(U,"constructor",{value:ne,configurable:!0}),c(ne,"constructor",{value:Z,configurable:!0}),Z.displayName=b(ne,v,"GeneratorFunction"),u.isGeneratorFunction=function(be){var Ce=typeof be=="function"&&be.constructor;return!!Ce&&(Ce===Z||(Ce.displayName||Ce.name)==="GeneratorFunction")},u.mark=function(be){return Object.setPrototypeOf?Object.setPrototypeOf(be,ne):(be.__proto__=ne,b(be,v,"GeneratorFunction")),be.prototype=Object.create(U),be},u.awrap=function(be){return{__await:be}},K(q.prototype),b(q.prototype,S,function(){return this}),u.AsyncIterator=q,u.async=function(be,Ce,je,Ye,He){He===void 0&&(He=Promise);var St=new q(C(be,Ce,je,Ye),He);return u.isGeneratorFunction(Ce)?St:St.next().then(function(ct){return ct.done?ct.value:St.next()})},K(U),b(U,v,"Generator"),b(U,g,function(){return this}),b(U,"toString",function(){return"[object Generator]"}),u.keys=function(be){var Ce=Object(be),je=[];for(var Ye in Ce)je.push(Ye);return je.reverse(),function He(){for(;je.length;){var St=je.pop();if(St in Ce)return He.value=St,He.done=!1,He}return He.done=!0,He}},u.values=ve,ue.prototype={constructor:ue,reset:function(be){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(ae),!be)for(var Ce in this)Ce.charAt(0)==="t"&&l.call(this,Ce)&&!isNaN(+Ce.slice(1))&&(this[Ce]=o)},stop:function(){this.done=!0;var be=this.tryEntries[0].completion;if(be.type==="throw")throw be.arg;return this.rval},dispatchException:function(be){if(this.done)throw be;var Ce=this;function je($e,Je){return St.type="throw",St.arg=be,Ce.next=$e,Je&&(Ce.method="next",Ce.arg=o),!!Je}for(var Ye=this.tryEntries.length-1;Ye>=0;--Ye){var He=this.tryEntries[Ye],St=He.completion;if(He.tryLoc==="root")return je("end");if(He.tryLoc<=this.prev){var ct=l.call(He,"catchLoc"),gt=l.call(He,"finallyLoc");if(ct&&gt){if(this.prev<He.catchLoc)return je(He.catchLoc,!0);if(this.prev<He.finallyLoc)return je(He.finallyLoc)}else if(ct){if(this.prev<He.catchLoc)return je(He.catchLoc,!0)}else{if(!gt)throw Error("try statement without catch or finally");if(this.prev<He.finallyLoc)return je(He.finallyLoc)}}}},abrupt:function(be,Ce){for(var je=this.tryEntries.length-1;je>=0;--je){var Ye=this.tryEntries[je];if(Ye.tryLoc<=this.prev&&l.call(Ye,"finallyLoc")&&this.prev<Ye.finallyLoc){var He=Ye;break}}He&&(be==="break"||be==="continue")&&He.tryLoc<=Ce&&Ce<=He.finallyLoc&&(He=null);var St=He?He.completion:{};return St.type=be,St.arg=Ce,He?(this.method="next",this.next=He.finallyLoc,te):this.complete(St)},complete:function(be,Ce){if(be.type==="throw")throw be.arg;return be.type==="break"||be.type==="continue"?this.next=be.arg:be.type==="return"?(this.rval=this.arg=be.arg,this.method="return",this.next="end"):be.type==="normal"&&Ce&&(this.next=Ce),te},finish:function(be){for(var Ce=this.tryEntries.length-1;Ce>=0;--Ce){var je=this.tryEntries[Ce];if(je.finallyLoc===be)return this.complete(je.completion,je.afterLoc),ae(je),te}},catch:function(be){for(var Ce=this.tryEntries.length-1;Ce>=0;--Ce){var je=this.tryEntries[Ce];if(je.tryLoc===be){var Ye=je.completion;if(Ye.type==="throw"){var He=Ye.arg;ae(je)}return He}}throw Error("illegal catch attempt")},delegateYield:function(be,Ce,je){return this.delegate={iterator:ve(be),resultName:Ce,nextLoc:je},this.method==="next"&&(this.arg=o),te}},u}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports})(me);var Ee=(0,me.exports)(),_e=Ee;try{regeneratorRuntime=Ee}catch{(typeof globalThis>"u"?"undefined":N(globalThis))==="object"?globalThis.regeneratorRuntime=Ee:Function("r","regeneratorRuntime = r")(Ee)}var Ue,xe,Te=ce(_e);function Be(t){var r=t?new Date(t):new Date,i="yyyy-MM-dd HH:mm:ss.SSSZ",o={"M+":r.getUTCMonth()+1,"d+":r.getUTCDate(),"H+":r.getUTCHours(),"h+":r.getUTCHours()%12||12,"m+":r.getUTCMinutes(),"s+":r.getUTCSeconds(),"q+":Math.floor((r.getUTCMonth()+3)/3),"S+":r.getUTCMilliseconds()};for(var u in/(y+)/.test(i)&&(i=i.replace(RegExp.$1,(r.getUTCFullYear()+"").substr(4-RegExp.$1.length))),o)new RegExp("("+u+")").test(i)&&(i=i.replace(RegExp.$1,RegExp.$1.length==1?o[u]:("000"+o[u]).substr(("000"+o[u]).length-RegExp.$1.length)));return i}function ot(t){return t===xe}function tt(t){return t!==xe}function vt(t){return t===null}Ue=(typeof window>"u"?"undefined":$(window))==="object"?window:{};var bt={"[object Function]":"function","[object AsyncFunction]":"function","[object String]":"string","[object Object]":"object","[object Boolean]":"boolean","[object Number]":"number","[object Array]":"array"};function Se(t){return vt(t)||ot(t)?String(t):bt[{}.toString.call(t)]||"object"}function ye(t){return Se(t)==="function"}function Ie(t){return Se(t)==="string"}function qe(t){return Se(t)==="object"}function ut(t){return Se(t)==="boolean"}function lt(t){return Se(t)==="number"}function Vt(t){return Array.isArray?Array.isArray(t):Se(t)==="array"}function zt(t){if(t==null)return[];if(Vt(t))return t;var r=$(t.length),i=$(t);if(r!=="number"||t.alert||i==="string"||i==="function"&&(!("item"in t)||r!=="number"))return[t];for(var o=[],u=0,d=t.length;u<d;u++)o[u]=t[u];return o}var ur,at,Nt={debug:!1,showConsoleError:!1};function jt(){return ur}function or(t){ur=t}function fn(t,r,i,o){if(Nt.debug&&at&&ye(at.log)){var u=Be(new Date().getTime()),d=zt(arguments);at.log(["[",u,"] ",d].join(""))}}function Yr(t,r,i,o){if((Nt.debug||Nt.showConsoleError)&&at&&ye(at.error)){var u=Be(new Date().getTime()),d=zt(arguments);at.error(["[",u,"] ",d].join(""))}}function rn(t,r,i,o){if(Nt.debug&&at&&ye(at.warn)){var u=Be(new Date().getTime()),d=zt(arguments);at.warn(["[",u,"] ",d].join(""))}}function nn(t,r,i,o){if(Nt.debug&&at&&ye(at.info)){var u=Be(new Date().getTime()),d=zt(arguments);at.info(["[",u,"] ",d].join(""))}}Ue&&tt(Ue.console)&&(ye((at=Ue.console).log)&&ye(at.error)?ur={log:fn,error:Yr,info:nn,warn:rn,debug:function(t,r,i,o){if(Nt.debug&&at&&ye(at.debug)){var u=Be(new Date().getTime()),d=zt(arguments);at.debug(["[",u,"] ",d].join(""))}}}:(at=!1,ur=!1));var et={queue:[],doNextStarted:!1,timer:null,pushToDo:function(t,r,i){et.queue.push({obj:t,method:r,args:i})},doNext:function(){if(et.doNextStarted)if(et.queue.length!=0){var t=et.queue[0],r=t.obj,i=t.method,o=t.args;if(et.queue.splice(0,1),r&&ye(r[i])){var u=!1;if(o.length>2){var d=o[o.length-2],l=o[o.length-1];ye(d)&&ye(l)&&(o[o.length-2]=function(){try{d.apply(r,arguments)}catch{}et.timer=setTimeout(et.doNext,0)},o[o.length-1]=function(){try{l.apply(r,arguments)}catch{}et.timer=setTimeout(et.doNext,0)},u=!0)}try{r[i].apply(r,o)}catch{}u||(et.timer=setTimeout(et.doNext,0))}else if(r===null&&ye(i)){try{i.apply(null,o)}catch{}et.timer=setTimeout(et.doNext,0)}else fn("not invoke a function: "+i),et.timer=setTimeout(et.doNext,0)}else et.stop();else et.stop()},start:function(){et.doNextStarted||(et.doNextStarted=!0,et.timer=setTimeout(et.doNext,0))},stop:function(){clearTimeout(et.timer),et.timer=null,et.doNextStarted=!1,et.queue=[]}},_r=!0,it=!1;function Et(t,r,i){if(t){var o,u,d,l=0,c=t.length;if(i=i||null,ot(c)||ye(t))for(d=Object.keys(t);l<d.length&&(o=d[l],r.call(i,t[o],o,t)!==it);l++);else for(u=t[0];l<c&&r.call(i,u,l,t)!==it;u=t[++l]);}return t}var At,Gt={fire:function(t){var r,i=this;i.exec=i.exec||{},t=t.toLowerCase(),r=Array.prototype.slice.call(arguments,1),Et(i.exec[t]||[],function(o){var u=o.f,d=o.c||i;try{u.apply(d,r)}catch(l){fn(l)}})},on:function(t,r,i){var o=this;o.exec=o.exec||{},t=t.toLowerCase(),o.exec[t]=o.exec[t]||[],o.exec[t].push({f:r,c:i})},off:function(t,r,i){var o=this.exec;if(o)if(t)if(t=t.toLowerCase(),r)for(var u=o[t]||[],d=u.length-1;d>=0;d--)u[d]===r&&u.splice(d,1);else o[t]=null;else this.exec=null}},xt="",he,ar,ke,Le,Ze=navigator,rt=!0;if("userAgentData"in Ze){var yt=Ze.userAgentData,Jt=[];yt.platform&&yt.platform!=""&&("brands"in yt&&Array.isArray(yt.brands)&&yt.brands.length>0?Jt=yt.brands:"uaList"in yt&&Array.isArray(yt.uaList)&&yt.uaList.length>0&&(Jt=yt.uaList),Jt.length>0&&(rt=!1,ar=yt.platform.toLowerCase(),he=function(t,r,i){var o,u,d,l,c,p,g,S,v,b=!1,C=!1,D=!1,M=t.mobile,j=!1,Y=xt,ee=navigator.maxTouchPoints||0;for(u=r.length,o=0;o<u;o++){var te=r[o].brand.toLowerCase();if(te.indexOf("chrome")>=0){D=!0,Y=r[o].version;break}if(te.indexOf("edge")>=0){b=!0,Y=r[o].version;break}if(te.indexOf("opera")>=0){C=!0,Y=r[o].version;break}}return D||b||C||(D=!0,Y="100"),d=/windows/g.test(i),l=/mac/g.test(i),c=/linux/g.test(i),p=/android/g.test(i),g=/harmony/g.test(i),S=/(chromeos|chrome\sos)/g.test(i),v=/iphone/g.test(i),d||p||c||v||(j=/macintel/g.test(i)&&ee>1),(p||g||v||j)&&(M=!0),{bUseUserAgent:!1,bWin:d,bMac:l,bLinux:c,bAndroid:p,bHarmonyOS:g,bChromeOS:S,bIE:!1,bEdge:b,bUC:!1,bPlaybook:!1,bBlackBerry:!1,bHuaWeiBrowser:!1,bOpera:C,bFirefox:!1,bChrome:D,bJSDom:!1,biPhone:v,biPad:j,bPad:p&&!t.mobile,bSafari:!1,bMobile:M,strBrowserVersion:Y,bHTML5Edition:!0,IEVersion:0,IEMode:0}}(yt,Jt,ar)))}rt&&(ke||(ke=Ze.userAgent.toLowerCase()),Le||(Le=Ze.platform.toLowerCase()),he=function(t,r){var i,o=t.toLowerCase(),u=r.toLowerCase(),d=/harmonyos/g.test(o);u=="linux"&&o.indexOf("windows nt")>=0&&(u="harmonyos",d=!0);var l=!d&&/cros/.test(o),c=!d&&/android/g.test(o)||/android/g.test(u),p=/iphone/g.test(o)||/iphone/g.test(u),g=/macintosh/.test(o),S=navigator.maxTouchPoints||0,v=/ipad/g.test(o)||(g||u=="macintel")&&S>1,b=/ucweb|ucbrowser/g.test(o),C=!b&&/nexus/g.test(o)&&/version\/[\d.]+.*safari\//g.test(o),D=/playbook/g.test(o),M=/hp-tablet/g.test(o),j=/blackberry|bb10/g.test(o),Y=/symbian/g.test(o),ee=/windows phone/g.test(o),te=/mobile/g.test(o),de=/arm64|aarch64/g.test(o),Z=/mips64/g.test(o),ne=/huaweibrowser/g.test(o),X=/jsdom/g.test(o),F=D||v||M,B=!F&&!l&&(p||C||j||Y||ee||c||d||te),U=!B&&!F&&!l,K=U&&/win32|win64|windows/.test(u),q=K&&/win64|x64/.test(o),re=U&&/mac68k|macppc|macintosh|macintel/.test(o),oe=U&&/linux/.test(u),fe=u=="win64"||/wow64|x86_64|win64|x64/.test(o)||de||Z,ae=/wow64/g.test(o),ue=it,ve=/opera|opr/g.test(o),be=/360se/g.test(o),Ce=/maxthon/g.test(o),je=/tencenttraveler|qqbrowser/g.test(o),Ye=/the world/g.test(o),He=/metasr/g.test(o),St=/avant/g.test(o),ct=/firefox|fxios/g.test(o),gt=/gecko/g.test(o),$e=!(ct||ne)&&/edge\/|edga\/|edgios\/|edg\//g.test(o),Je=!(j||D||b||ve||$e||ne||X)&&/chrome|crios/g.test(o),We=!1,Ke=xt,Qt=0,Lt=0,ze=xt;if(K&&!$e&&!ct&&!Je){var cr=o.indexOf("msie "),Dr=o.indexOf("trident"),ln=o.indexOf("rv:");We=cr!=-1||Dr!=-1||ln!=-1}if(!(re||p||v||K||j||D||C)||b||ve||$e||We||ct||(i=o.match(/version\/([\d.]+).*safari\//))&&(j||D||C||(ue=_r,Je=it),ze=i[1]),$e){var xn=o.indexOf("edge/");xn>-1?xn+=5:(xn=o.indexOf("edg/"))>-1?xn+=4:(xn=o.indexOf("edga/"))>-1?xn+=5:(xn=o.indexOf("edgios/"))>-1&&(xn+=7),xn>-1&&(i=(ze=o.slice(xn)).indexOf(" "))>-1&&(ze=ze.slice(0,i))}else if(ct)if((i=o.indexOf("firefox/"))>-1){var Ir=(i=o.slice(i+8)).indexOf(" ");Ir>-1&&(i=i.slice(0,Ir)),ze=i,(Ir=i.indexOf("."))>-1&&(i=ze.slice(0,Ir))}else(p||v)&&(i=o.indexOf("fxios/"))>-1&&(ze=i=(i=o.slice(i+6)).slice(0,i.indexOf(" ")));else if(We){var $r=o.indexOf("msie "),ci=o.indexOf("trident"),tc=o.indexOf("rv:");$r!=-1?Ke=i=(i=o.slice($r+5)).slice(0,i.indexOf(";")):tc!=-1?Ke=i=(i=(i=o.slice(tc+3)).slice(0,i.indexOf(";"))).slice(0,i.indexOf(")")):ci!=-1&&(Ke=i=(i=o.slice(ci+7)).slice(0,i.indexOf(";"))),ze=i}else if(ue)(i=ze.indexOf("."))>-1&&(i=ze.slice(0,i));else if(b)(i=o.indexOf("ucweb"))>-1?ze=o.slice(i+5):(i=o.indexOf("ucbrowser/"))>-1&&(i=(ze=o.slice(i+10)).indexOf(" "))>-1&&(ze=ze.slice(0,i));else if(ve)(i=o.indexOf("version/"))>-1?ze=o.slice(i+8):(i=o.indexOf("opr/"))>-1&&(ze=o.slice(i+4));else if(Y)(i=o.indexOf("browserng/"))>-1&&(ze=o.slice(i+10));else if(ee)(i=o.indexOf("iemobile/"))>-1&&(ze=o.slice(i+9));else if(Je){var Mi=o.indexOf("chrome/");Mi>-1?(i=(ze=o.slice(Mi+7)).indexOf(" "))>-1&&(ze=ze.slice(0,i)):(Mi=o.indexOf("crios/"))>-1&&(i=(ze=o.slice(Mi+6)).indexOf(" "))>-1&&(ze=ze.slice(0,i)),(i=ze.indexOf("."))>-1&&(i=ze.slice(0,i))}else if(ne){var So=o.indexOf("huaweibrowser");So>-1&&(i=(ze=o.slice(So+14)).indexOf(" "))>-1&&(ze=ze.slice(0,i))}else if(X){var bo=o.indexOf("jsdom");bo>-1&&(i=(ze=o.slice(bo+6)).indexOf(" "))>-1&&(ze=ze.slice(0,i))}if($e||We){var Wo=window.document;Wo&&Wo.documentMode?Qt=Wo.documentMode:(Qt=5,Wo.compatMode&&Wo.compatMode=="CSS1Compat"&&(Qt=7)),We&&(Lt=parseInt(ze))}(re||oe)&&(fe=!0,re&&(i=o.match(/mac os x (\d+)(_|\.)(\d+)/))&&i.length>3&&(i[1]==10&&i[3]<14||i[1]<10)&&(fe=!1)),K||re||oe||de||Z||(B=!0);var Zn=!0;if(We)if(Ke===""||parseInt(Ke)>=10){var Co=Ue.Dynamsoft;Co&&Co.DWT&&Co.DWT.IfUseActiveXForIE10Plus&&(Zn=it)}else Zn=it;return{bUseUserAgent:!0,bWin:K,bMac:re,bLinux:oe,bMobile:B,bPad:F,bChromeOS:l,bHarmonyOS:d,bArm64:de,bMips64:Z,bEmbed:de||Z,bAndroid:c,biPhone:p,biPad:v,bWin64:q,bWOW64:ae,bOSx64:fe,bIE:We,bEdge:$e,bChrome:Je,bFirefox:ct,bSafari:ue,bOpera:ve,bNexus:C,bUC:b,b360SE:be,bMaxthon:Ce,bTencentTraveler:je,bTheWorld:Ye,bMetaSr:He,bAvant:St,bHuaWeiBrowser:ne,bJSDom:X,bGecko:gt,bHTML5Edition:Zn,strBrowserVersion:ze,IEVersion:Lt,IEMode:Qt}}(ke,Le));var fr=(At=document==null?void 0:document.location)===null||At===void 0?void 0:At.protocol;function qt(t){return he.bGecko&&t==="mousewheel"?"DOMMouseScroll":t}function Lr(t,r,i){var o=qt(r);t&&t.addEventListener(o,i,!1)}function on(t,r,i){var o=qt(r);t&&t.removeEventListener(o,i,!1)}function Gn(t){var r=t||Ue.event;r.preventDefault&&r.preventDefault(),r.stopPropagation&&r.stopPropagation(),r.returnValue=!1,r.cancelBubble=!0}function ni(t,r){var i=Ue.document.createEvent("HTMLEvents");i.initEvent(t,_r,_r),r.dispatchEvent&&r.dispatchEvent(i)}fr||(fr="https:"),he.protocol=fr,he.bSSL=fr==="https:",he.bFileSystem=fr!=="https:"&&fr!=="http:";var Hi,Ao,$t,Wr,xr=Ue.document,hn=[],mi=hn.push,no=hn.slice,Ae=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Re=function(){Ao()};function Ve(t,r,i,o){var u,d,l,c=r&&r.ownerDocument,p=r?r.nodeType:9;if(i=i||[],typeof t!="string"||!t||p!==1&&p!==9&&p!==11)return i;if(!o&&((r?r.ownerDocument||r:xr)!==$t&&Ao(r),r=r||$t,p!==11&&(l=Ae.exec(t))))if(u=l[1]){if(p===9){if(!(d=r.getElementById(u)))return i;if(d.id===u)return i.push(d),i}else if(c&&(d=c.getElementById(u))&&Wr(r,d)&&d.id===u)return i.push(d),i}else{if(l[2])return mi.apply(i,r.getElementsByTagName(t)),i;if((u=l[3])&&r.getElementsByClassName)return mi.apply(i,r.getElementsByClassName(u)),i}return i}mi.apply(no.call(xr.childNodes),xr.childNodes),Ao=Ve.setDocument=function(t){var r,i=t?t.ownerDocument||t:xr;return i!==$t&&i.nodeType===9&&i.documentElement&&(xr!==($t=i)&&(r=$t.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",Re,!1):r.attachEvent&&r.attachEvent("onunload",Re)),Wr=function(o,u){if(u){for(;u=u.parentNode;)if(u===o)return!0}return!1}),$t},Ve.contains=function(t,r){return(t.ownerDocument||t)!==$t&&Ao(t),Wr(t,r)},Ve.error=function(t){throw new Error("Syntax error: "+t)},Hi=Ve.getText=function(t){var r,i="",o=0,u=t.nodeType;if(u){if(u===1||u===9||u===11){if(typeof t.textContent=="string")return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=Hi(t)}else if(u===3||u===4)return t.nodeValue}else for(;r=t[o++];)i+=Hi(r);return i},Ao();var Xe={encodeChars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",decodeChars:[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1]},wt={UTF16ToUTF8:function(t){for(var r,i,o=[],u=t.length,d=0;d<u;d++){var l=t.charCodeAt(d);if(l>0&&l<=127)o.push(t.charAt(d));else if(l>=128&&l<=2047)r=192|l>>6&31,i=128|63&l,o.push(String.fromCharCode(r),String.fromCharCode(i));else if(l>=2048&&l<=65535){r=224|l>>12&15,i=128|l>>6&63;var c=128|63&l;o.push(String.fromCharCode(r),String.fromCharCode(i),String.fromCharCode(c))}}return o.join("")},UTF8ToUTF16:function(t){var r,i,o,u,d=[],l=t.length;for(r=0;r<l;r++)(i=t.charCodeAt(r))>>7&255?(i>>5&255)==6?(u=(31&i)<<6|63&(o=t.charCodeAt(++r)),d.push(String.fromCharCode(u))):(i>>4&255)==14&&(u=(255&(i<<4|(o=t.charCodeAt(++r))>>2&15))<<8|((3&o)<<6|63&t.charCodeAt(++r)),d.push(String.fromCharCode(u))):d.push(t.charAt(r));return d.join("")},encode:function(t){for(var r,i,o,u=this.UTF16ToUTF8(t),d=[],l=0,c=u.length;l<c;){if(r=255&u.charCodeAt(l++),l==c){d.push(Xe.encodeChars.charAt(r>>2)),d.push(Xe.encodeChars.charAt((3&r)<<4)),d.push("==");break}if(i=u.charCodeAt(l++),l==c){d.push(Xe.encodeChars.charAt(r>>2)),d.push(Xe.encodeChars.charAt((3&r)<<4|(240&i)>>4)),d.push(Xe.encodeChars.charAt((15&i)<<2)),d.push("=");break}o=u.charCodeAt(l++),d.push(Xe.encodeChars.charAt(r>>2)),d.push(Xe.encodeChars.charAt((3&r)<<4|(240&i)>>4)),d.push(Xe.encodeChars.charAt((15&i)<<2|(192&o)>>6)),d.push(Xe.encodeChars.charAt(63&o))}return d.join("")},encodeArray:function(t){if(window.ArrayBuffer&&window.Uint8Array&&t instanceof window.ArrayBuffer){var r=new window.Uint8Array(t);return this.encodeArray(r)}for(var i,o,u,d=[],l=0,c=t.length;l<c;){if(i=255&t[l++],l==c){d.push(Xe.encodeChars.charAt(i>>2)),d.push(Xe.encodeChars.charAt((3&i)<<4)),d.push("==");break}if(o=255&t[l++],l==c){d.push(Xe.encodeChars.charAt(i>>2)),d.push(Xe.encodeChars.charAt((3&i)<<4|(240&o)>>4)),d.push(Xe.encodeChars.charAt((15&o)<<2)),d.push("=");break}u=255&t[l++],d.push(Xe.encodeChars.charAt(i>>2)),d.push(Xe.encodeChars.charAt((3&i)<<4|(240&o)>>4)),d.push(Xe.encodeChars.charAt((15&o)<<2|(192&u)>>6)),d.push(Xe.encodeChars.charAt(63&u))}return d.join("")},decode:function(t,r){for(var i,o,u,d,l=this,c=[],p=0,g=t.length;p<g;){do i=Xe.decodeChars[255&t.charCodeAt(p++)];while(p<g&&i==-1);if(i==-1)break;do o=Xe.decodeChars[255&t.charCodeAt(p++)];while(p<g&&o==-1);if(o==-1)break;r?c.push(i<<2|(48&o)>>4):c.push(String.fromCharCode(i<<2|(48&o)>>4));do{if((u=255&t.charCodeAt(p++))==61)return r?c:l.UTF8ToUTF16(c.join(""));u=Xe.decodeChars[u]}while(p<g&&u==-1);if(u==-1)break;r?c.push((15&o)<<4|(60&u)>>2):c.push(String.fromCharCode((15&o)<<4|(60&u)>>2));do{if((d=255&t.charCodeAt(p++))==61)return r?c:l.UTF8ToUTF16(c.join(""));d=Xe.decodeChars[d]}while(p<g&&d==-1);if(d==-1)break;r?c.push((3&u)<<6|d):c.push(String.fromCharCode((3&u)<<6|d))}return r?c:l.UTF8ToUTF16(c.join(""))}},Xt={fromUTF16:function(t){for(var r,i=[],o=0,u=t.length;o<u;)(r=t.charCodeAt(o))>=1&&r<=127?i.push(t.charAt(o)):r>2047?(i.push(String.fromCharCode(224|r>>12&15)),i.push(String.fromCharCode(128|r>>6&63)),i.push(String.fromCharCode(128|63&r))):(i.push(String.fromCharCode(192|r>>6&31)),i.push(String.fromCharCode(128|63&r))),o++;return i.join("")},toUTF16:function(t){for(var r,i,o,u=[],d=0,l=t.length;d<l;)switch((r=t.charCodeAt(d++))>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:u.push(t.charAt(d-1));break;case 12:case 13:i=t.charCodeAt(d++),u.push(String.fromCharCode((31&r)<<6|63&i));break;case 14:i=t.charCodeAt(d++),o=t.charCodeAt(d++),u.push(String.fromCharCode((15&r)<<12|(63&i)<<6|63&o))}return u.join("")}},tr=typeof self<"u"?self:global,Mt=tr.btoa?function(t){return tr.btoa(t)}:function(t){for(var r,i,o=String(t),u=0,d=Xe.encodeChars,l="";o.charAt(0|u)||(d="=",u%1);l+=d.charAt(63&r>>8-u%1*8)){if((i=o.charCodeAt(u+=3/4))>255)throw new Error("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");r=r<<8|i}return l},Ht=tr.atob?function(t){return tr.atob(t)}:function(t){var r=String(t).replace(/[=]+$/,"");if(r.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var i,o,u=0,d=0,l="";o=r.charAt(d++);~o&&(i=u%4?64*i+o:o,u++%4)?l+=String.fromCharCode(255&i>>(-2*u&6)):0)o=Xe.encodeChars.indexOf(o);return l};function Pt(t){if(t==null||$(t)!="object")return t;var r,i,o;if(t instanceof Date)return(r=new Date).setTime(t.getTime()),r;if(t instanceof Array){for(r=[],o=t.length,i=0;i<o;i++)r[i]=Pt(t[i]);return r}if(t instanceof Object){for(i in r={},t)t.hasOwnProperty(i)&&(r[i]=Pt(t[i]));return r}return 0}function Bt(t){return Math.random().toString(16).substring(2,2+t)}function hr(t){var r=[Bt(8),"-",Bt(4),"-",Bt(4),"-",Bt(4),"-",Bt(8)];return t&&r.unshift(t),r.join("")}var Ar=Date.now||function(){return+new Date},kn=function(){return""+Ar()};function Jr(){for(var t,r=Ar()%1e4,i=[],o=0;o<5;o++)t=Math.floor(10*Math.random()),o!=0||t!=0?i.push(t):o=-1;return r<10?i.push("000"):r<100?i.push("00"):r<1e3&&i.push("0"),i.push(r),i.join("")}function Vr(t,r){var i;for(i in r)if(r.hasOwnProperty(i)){if(i==="__proto__"||i==="constructor")continue;t[i]=r[i]}return t}function mn(t,r,i,o){return new(i||(i=Promise))(function(u,d){function l(g){try{p(o.next(g))}catch(S){d(S)}}function c(g){try{p(o.throw(g))}catch(S){d(S)}}function p(g){var S;g.done?u(g.value):(S=g.value,S instanceof i?S:new i(function(v){v(S)})).then(l,c)}p((o=o.apply(t,[])).next())})}typeof SuppressedError=="function"&&SuppressedError;var ms=!1;"wakeLock"in navigator&&(ms=!0);var Jo=null;function ho(){ms&&(Jo==null?function(){mn(this,void 0,void 0,Te.mark(function t(){return Te.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,navigator.wakeLock.request("screen");case 3:Jo=r.sent,r.next=9;break;case 6:r.prev=6,r.t0=r.catch(0),Jo=null;case 9:case"end":return r.stop()}},t,null,[[0,6]])}))}():Jo.release().then(function(){Jo=null}))}function qo(){return Jo}var bl=Array.prototype;function Xo(t,r,i){return bl.filter.call(t,r,i||this)}function gs(t,r){return bl.indexOf.call(r,t)}function Cl(t){var r,i,o=[],u=t.length;for(r=0;r<u;r++){for(i=r+1;i<u;i++)t[r]===t[i]&&(i=++r);o.push(t[r])}return o}var $s=/^(\/?)([\s\S]+\/(?!$)|\/)?((?:\.{1,2}$|[\s\S]+?)?(\.[^.\/]*)?)$/;function Rr(t,r){var i,o=[];for(i=0;i<t.length;i++){var u=t[i];u&&u!=="."&&(u===".."?o.length&&o[o.length-1]!==".."?o.pop():r&&o.push(".."):o.push(u))}return o}function pn(t){var r=t.charAt(0)==="/",i=t.slice(-1)==="/";return(t=Rr(Xo(t.split("/"),function(o){return!!o}),!r).join("/"))||r||(t="."),t&&i&&(t+="/"),(r?"/":"")+t}var eu=function(){return pe(function t(){le(this,t)},[{key:"resolve",value:function(){var t,r,i="",o=arguments,u=!1;for(t=o.length-1;t>=0&&!u;t--)Ie(r=o[t])&&r&&(i=r+"/"+i,u=r.charAt(0)==="/");return(u?"/":"")+Rr(Xo(i.split("/"),function(d){return!!d}),!u).join("/")||"."}},{key:"join",value:function(){return pn(Xo(zt(arguments),function(t){return t&&Ie(t)}).join("/"))}},{key:"relative",value:function(t,r){t=pn(t),r=pn(r);var i,o,u=Xo(t.split("/"),function(p){return!!p}),d=[],l=Xo(r.split("/"),function(p){return!!p}),c=Math.min(u.length,l.length);for(i=0;i<c&&u[i]===l[i];i++);for(o=i;i<u.length;)d.push(".."),i++;return(d=d.concat(l.slice(o))).join("/")}},{key:"basename",value:function(t,r){var i;return i=(t.match($s)||[])[3]||"",r&&i&&i.slice(-1*r.length)===r&&(i=i.slice(0,-1*r.length)),i}},{key:"dirname",value:function(t){var r=t.match($s)||[],i=r[1]||"",o=r[2]||"";return i||o?(o&&(o=o.substring(0,o.length-1)),i+o):"."}},{key:"extname",value:function(t){return(t.match($s)||[])[4]||""}}])}(),vs={}.hasOwnProperty;function Nn(t){if(!t||Se(t)!=="object"||t.nodeType||t.window==t)return it;var r,i;try{if((i=t.constructor)&&!vs(t,"constructor")&&!vs(i.prototype,"isPrototypeOf"))return it}catch{return it}for(r in t);return ot(r)||vs(t,r)}var tu=(typeof HTMLElement>"u"?"undefined":$(HTMLElement))==="object";function Xc(t){return tu?t instanceof HTMLElement:t&&$(t)==="object"&&(t.nodeType===1||t.nodeType===9)&&typeof t.nodeName=="string"}function Ap(t){var r=t;if(Xc(t))for(;!r&&r!=document.body;)r=r.parentNode;else r=0;return!!r}function Eb(t,r){return t.lastIndexOf(r,0)===0}function Nv(t,r){var i=t.length-r.length;return i>=0&&t.indexOf(r,i)===i}function Fv(t){return t==null?xt:String.prototype.trim.call(t)}function Ov(t){var r;if(t){for(r in t)if(!ot(r))return!1}return!0}function Mv(t){return Ie(t)?t.replace(/[^\x20-\x7E]/g,""):t}function Oe(t,r,i){return t.replace(new RegExp(r,"gi"),i)}function Ot(t){return t.charAt(0).toUpperCase()+t.substr(1)}var Dt,ir="none",dr={getOffset:function(t,r,i){var o,u;t=t||Ue.event;for(var d,l,c=i||t.target,p=0,g=0,S=0,v=0,b=!1,C=Ue.document;c&&!isNaN(c.offsetLeft)&&!isNaN(c.offsetTop);)l=c.scrollLeft,d=c.scrollTop,c.tagName==="BODY"?b?(l=0,d=0):(l|=(o=C.documentElement)===null||o===void 0?void 0:o.scrollLeft,d|=(u=C.documentElement)===null||u===void 0?void 0:u.scrollTop):c.style.position==="fixed"&&(b=!0),p+=c.offsetLeft-l,g+=c.offsetTop-d,c=c.offsetParent;return r&&(S=r.Left,v=r.Top),{x:p=t.clientX-p-S,y:g=t.clientY-g-v}},getElDimensions:function(t,r){var i,o;return t?(i=t.style.display,t.style.display="",o=r?{offsetTop:t.offsetTop,offsetLeft:t.offsetLeft,offsetWidth:t.offsetWidth,offsetHeight:t.offsetHeight}:{clientTop:t.clientTop,clientLeft:t.clientLeft,clientWidth:t.clientWidth?t.clientWidth:parseInt(t.style.width)?parseInt(t.style.width):0,clientHeight:t.clientHeight?t.clientHeight:parseInt(t.style.height)?parseInt(t.style.height):0},t.style.display=i,o):{offsetTop:0,offsetLeft:0,offsetWidth:0,offsetHeight:0}}};function en(t){return document.getElementById(t)}function an(t){var r=Ie(t)?en(t):t;r&&(r.length>0&&(r=r[0]),r.style.display=ir)}function zi(t){var r=Ie(t)?en(t):t;r&&(r.length>0&&(r=r[0]),r.style.display=xt)}function Ki(t){var r=Ie(t)?en(t):t;r&&(r.length>0&&(r=r[0]),r.style.display===ir?r.style.display=xt:r.style.display=ir)}function Ha(t){if(t)for(;t.firstChild;)t.removeChild(t.firstChild)}function Fn(t){return encodeURIComponent(String(t))}function Zc(t){return decodeURIComponent(t.replace(/\+/g," "))}if(window.trustedTypes)try{Dt=window.trustedTypes.createPolicy("d-create-script",{createScriptURL:function(t){return t}})}catch{}function $c(t){return Dt?Dt.createScriptURL(t):t}var Zo=!0,ys=document,Lv=ys&&ys.documentElement,Tl=ys.getElementsByTagName("head")[0]||Lv,xb=ys.createElement("script").readyState?function(t,r){var i=t.onreadystatechange;t.onreadystatechange=function(){var o=t.readyState;o==="loaded"||o==="complete"?(t.onreadystatechange=null,i&&i(),r.call(this,{type:"load",path:[t]})):o==="loading"||r.call(this,{type:"error",path:[t]})}}:function(t,r){t.addEventListener("load",r,it),t.addEventListener("error",r,it)};function v9(t,r,i){return Ab(t,r,!1,i)}function Ab(t,r,i,o){var u,d,l=o;if(ye(l)||(l=function(){}),Ie(t)&&t!=xt)return u=ys.createElement("script"),d=["",t].join(xt),u.src=$c(d),r&&(u.async=Zo),u.charset="utf-8",xb(u,l),i?Tl.appendChild(u):Tl.insertBefore(u,Tl.firstChild),u;l()}function y9(t,r,i){return hP(t,r,!1,i)}function hP(t,r,i,o){var u=o;if(ye(u)||(u=function(){}),he.bJSDom)u("ok");else if(Vt(t)){var d=t.length,l=function(c){c&&c.type=="load"?d--:(c&&c.type=="error"&&Yr(["Failed to load resource: ",c.target.src,"."].join("")),u()),d<=0&&u("ok")};d<=0?u("ok"):Et(t,function(c){Ab(c,r,i,l)})}else u()}function _9(t,r){return Db(t,!1,r)}function Db(t,r,i){var o,u=i;if(ye(u)||(u=!1),Ie(t)&&t!=xt){if(!he.bJSDom)return(o=ys.createElement("link")).href=$c(t),o.rel="stylesheet",o.async=Zo,u&&xb(o,u),r?Tl.appendChild(o):Tl.insertBefore(o,Tl.firstChild),o;u&&u()}else u&&u()}function S9(t,r){return pP(t,!1,r)}function pP(t,r,i){if(he.bJSDom)i&&i("ok");else if(Vt(t)){var o=t.length,u=function(d){d&&d.type=="load"&&o--,d&&d.type!="load"&&(d&&d.type=="error"&&Yr(["Failed to load resource: ",d.target.href,"."].join("")),i()),o<=0&&i("ok")};Et(t,function(d){Db(d,r,u)})}else i&&i()}function mP(t){var r,i;if(!he.bJSDom){var o=document;if(o&&Ie(i=t.body)&&i!=xt){(r=o.createElement("script")).charset="utf-8",he.bIE?r.text=i:r.appendChild(o.createTextNode(i)),t.language?r.language=t.language:r.language="javascript",t.type?r.type=t.type:r.type="text/javascript";var u=o&&o.documentElement,d=o.getElementsByTagName("head")[0]||u;d.insertBefore(r,d.firstChild)}}}function b9(t){mP({body:t})}function C9(t){mP({body:t,language:"vbscript",type:"text/vbscript"})}function T9(t){return t!=null&&t==t.window}var Q,gP,I9=function(){return pe(function t(){le(this,t),this.nil=void 0,this.bNode=!1,this.noop=function(){},this.mix=Vr,this.clone=Pt,this.keys=Object.keys,this.now=kn,this.getFormatedNow=Be,this.getRandom=Jr,this.guid=hr,this.get=en,this.show=zi,this.hide=an,this.toggle=Ki,this.empty=Ha,this.stringify=Ue.JSON.stringify,this.parse=Ue.JSON.parse,this.isDef=tt,this.isUndef=ot,this.isUndefined=ot,this.isNull=vt,this.isNaN=isNaN,this.isFunction=ye,this.isString=Ie,this.isObject=qe,this.isBoolean=ut,this.isNumber=lt,this.isArray=Vt,this.type=Se,this.isPlainObject=Nn,this.isDOM=Xc,this.isDOMInBody=Ap,this.each=Et,this.getLogger=jt,this.setLogger=or,this.log=fn,this.error=Yr,this.warn=rn,this.info=nn,this.filter=Xo,this.indexOf=gs,this.uniq=Cl,this.startsWith=Eb,this.endsWith=Nv,this.replaceAll=Oe,this.upperCaseFirst=Ot,this.removeNonPrintableChar=Mv,this.trim=Fv,this.makeArray=zt,this.isEmptyObject=Ov,this.Path=new eu,this.DOM=dr,this.isWindow=T9,this.obj={customEvent:Gt},this.addEventListener=Lr,this.removeEventListener=on,this.stopPropagation=Gn,this.fireEvent=ni,this.base64=wt,this.utf8=Xt,this.btoa=Mt,this.atob=Ht,this.asyncQueue=et,this.sizzle=Ve,this.toggleWakeLock=ho,this.getWakeLock=qo,this.urlEncode=Fn,this.urlDecode=Zc,this.scriptOnload=xb,this.addAllCss=pP,this.getAllCss=S9,this.addCss=Db,this.getCss=_9,this.addScripts=hP,this.getScripts=y9,this.addScript=Ab,this.getScript=v9,this.addJS=b9,this.addVBS=C9},[{key:"debug",get:function(){return Nt.debug},set:function(t){Nt.debug=t}},{key:"showConsoleError",get:function(){return Nt.debug},set:function(t){Nt.showConsoleError=t}}])}(),m=new I9,vP=20241120,yP=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{},w9=!!((typeof global>"u"?"undefined":N(global))=="object"&&global.process&&global.process.release&&global.process.release.name&&typeof HTMLCanvasElement>"u"),V=yP.Dynamsoft;function Ti(t){return Math.floor(t)}function Ft(t,r,i){return(r=H(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t}function _P(t,r){(function(i,o){if(o.has(i))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,r),r.add(t)}function ii(t,r,i){if(typeof t=="function"?t===r:t.has(r))return arguments.length<3?r:i;throw new TypeError("Private element is not present on this object")}function E9(t){var r,i,o="0x";if(/^(rgb|RGB)/.test(t)){var u=t.replace(/[^\d,.]/g,"").split(",");for(i=0;i<3;++i)(r=Number(u[i]).toString(16)).length==1&&(r="0"+r),o+=r;u.length==4?((r=Math.round(255*Number(u[i])).toString(16)).length==1&&(r="0"+r),o+=r):o+="ff"}else if(t=="transparent")o+="00000000";else if(/^#[0-9a-fA-F]{6}$/.test(t))o+=t.replace(/#/,"")+"ff";else if(/^#[0-9a-fA-F]{3}$/.test(t)){for(i=0;i<3;++i)o+=t[i]+t[i];o+="ff"}else o="-1";return Number(o)}function x9(t){if(t>4294967295||t<0)return null;var r;if(he.bHTML5Edition)r="rgba("+Math.floor(t/16777216)+","+Math.floor(t/65536)%256+","+Math.floor(t/256)%256+","+t%256/255+")";else if(t%256==0)r="transparent";else{for(r=Math.floor(t/256).toString(16);r.length!=6;)r="0"+r;r="#"+r}return r}function A9(t){var r,i=(t=t||window.event).wheelDelta,o=t.detail;return i&&(r=i/120),o&&(r=-(o%3==0?o/3:o)),r}V?V.Lib||(V.Lib={}):(V={Lib:{},DWT:{}},yP.Dynamsoft=V),V.navInfoSync=he,Q=m.mix(V.Lib,m),function(t){t.DWT||(t.DWT={}),t.DWT.LTS||(t.DWT.LTS={}),t.Lib.UI||(t.Lib.UI={}),t.Lib.html5||(t.Lib.html5={})}(V),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,xt)}),gP={registedClass:[],registedObjs:[]};var ed={LEFT:0,MIDDLE:1,RIGHT:2};function D9(t){var r=t||window.event;return r.which==null?r.button<2?ed.LEFT:r.button==4?ed.MIDDLE:ed.RIGHT:r.which<2?ed.LEFT:r.which==2?ed.MIDDLE:ed.RIGHT}var Pb,Rb,P9=/[\-#$\^*()+\[\]{}|\\,.?\s]/g,kb={"&amp;":"&","&gt;":">","&lt;":"<","&nbsp;":" ","&#x60;":"`","&#x2F;":"/","&quot;":'"',"&#x27;":"'"},Nb={};function R9(t){return t.replace(/\\u([a-f\d]{4})/gi,function(r,i){return String.fromCharCode(parseInt(i,16))})}function k9(t){return(t+"").replace(function(){if(Pb)return Pb;var r=xt;return m.each(kb,function(i){r+=i+"|"}),r=r.slice(0,-1),Pb=new RegExp(r,"g")}(),function(r){return Nb[r]})}function N9(t){return t.replace(P9,"\\$&")}function SP(t){return t.replace(function(){if(Rb)return Rb;var r=xt;return m.each(Nb,function(i){r+=i+"|"}),r+="&#(\\d{1,5});",Rb=new RegExp(r,"g")}(),function(r,i){return kb[r]||String.fromCharCode(+i)})}m.each(kb,function(t,r){Nb[t]=r});var Fb,Wv,df=window;df&&m.isFunction(df.__zone_symbol__Promise)&&(Wv=df.__zone_symbol__Promise);var F9=pe(function t(){le(this,t)});function O9(t){return(t=t||window.event).which==null?t.which=t.button<2?1:t.button==4?2:3:t.which=t.which<2?1:t.which==2?2:3,t}function M9(t,r){return t.currentStyle?t.currentStyle[r]:window.getComputedStyle?document.defaultView.getComputedStyle(t,null)[r]:null}Fb=self&&self.Promise?self.Promise:df&&df.Promise?df.Promise:F9,Wv||(Wv=Fb);function bP(t){var r=$(t);return t==null||r!=="object"&&r!=="function"}function L9(t,r,i,o){r=r||"&",i=i||"=",m.isUndefined(o)&&(o=_r);var u=[];return m.each(t,function(d,l){var c=m.urlEncode(l);bP(d)?(u.push(c),m.isDef(d)&&u.push(i,m.urlEncode(d+xt)),u.push(r)):m.isArray(d)&&d.length&&m.each(d,function(p){bP(p)&&(u.push(c,o?m.urlEncode("[]"):xt),m.isDef(p)&&u.push(i,m.urlEncode(p+xt)),u.push(r))})}),u.pop(),u.join(xt)}function W9(t,r,i){if(!m.isString(t)||!(t=m.trim(t)))return{};r=r||"&",i=i||"=";for(var o,u,d,l={},c=m.urlDecode,p=t.split(r),g=0,S=p.length;g<S;++g){if((o=m.indexOf(i,p[g]))===-1)u=c(p[g]),d=void 0;else{u=c(p[g].substring(0,o)),d=p[g].substring(o+1);try{d=c(d)}catch(v){m.error("decodeURIComponent error : "+d),m.error(v)}m.endsWith(u,"[]")&&(u=u.substring(0,u.length-2))}u in l?m.isArray(l[u])?l[u].push(d):l[u]=[l[u],d]:l[u]=d}return l}m.each({"&amp;":"&","&gt;":">","&lt;":"<","&#x60;":"`","&#x2F;":"/","&quot;":'"',"&#x27;":"'"},function(t,r){});var Nr,CP=pe(function t(r){le(this,t),Ft(this,"tagName",void 0),Ft(this,"attr",void 0),Ft(this,"childNodes",void 0),this.tagName=r,this.attr={},this.childNodes=[]}),Ob=pe(function t(r){le(this,t),Ft(this,"value",void 0),this.value=r||""}),ff=new WeakSet,j9=function(){return pe(function t(){le(this,t),_P(this,ff),Ft(this,"stack",void 0),Ft(this,"stacks",void 0),this.stack=[],this.stacks=[]},[{key:"getStacks",value:function(){return this.stacks}},{key:"receiveInput",value:function(t){var r=this.stack;if(t.type==="startTag")r.push(new CP(t.value));else if(t.type==="attr"){var i,o,u=t.value,d=u.indexOf("=");d>-1?(i=u.substring(0,d),o=u.charAt(d+1)==='"'||u.charAt(d+1)==="'"?u.substring(d+2,u.length-1):u.substring(d+1),r[r.length-1].attr[i]=o):u!=="readonly"&&u!=="disabled"&&u!=="checked"||(r[r.length-1].attr[u]=u)}else if(t.type==="text")r.length?r[r.length-1].childNodes.push(new Ob(t.value)):this.stacks.push(new Ob(t.value));else if(t.type==="endTag"){var l=r.pop();r.length?r[r.length-1].childNodes.push(l):this.stacks.push(l)}}},{key:"getOutPutHtml",value:function(){var t,r=document.createDocumentFragment(),i=this.stacks;for(t=0;t<i.length;t++){var o=i[t],u=ii(ff,this,TP).call(this,o);u&&r.appendChild(u)}return r}}])}();function B9(t){return t.replace(/-([a-z])/g,function(r,i){return i.toUpperCase()})}function U9(t){var r={};if(!t)return r;var i,o=t.split(";");for(i=0;i<o.length;i++){var u=o[i].split(":");if(u.length===2){var d=u[0].trim(),l=u[1].trim();l!==""&&(r[d=ii(ff,this,B9).call(this,d)]=l)}}return r}function V9(t,r){var i=ii(ff,this,U9).call(this,r);for(var o in i)t.style[o]=i[o]}function TP(t){if(t instanceof CP){var r=document.createElement(t.tagName);for(var i in t.attr)i!==""&&t.attr[i]!==""&&(i==="style"?ii(ff,this,V9).call(this,r,t.attr[i]):r.setAttribute(i,t.attr[i]));if(t.childNodes.length)for(var o=0;o<t.childNodes.length;o++){var u=t.childNodes[o];r.appendChild(ii(ff,this,TP).call(this,u))}return r}if(t instanceof Ob)return document.createTextNode(SP(t.value))}(function(t){t[t.None=0]="None",t[t.AttrKey=1]="AttrKey",t[t.AttrKeyQuoteStart=2]="AttrKeyQuoteStart",t[t.AttrKeyQuoteEnd=3]="AttrKeyQuoteEnd",t[t.AttrValueQuoteStart=4]="AttrValueQuoteStart",t[t.AttrSpace=5]="AttrSpace",t[t.AttrSplite=6]="AttrSplite"})(Nr||(Nr={}));var Mb,G9=pe(function t(r,i){le(this,t),Ft(this,"allChars",void 0),Ft(this,"curIndex",void 0),Ft(this,"state",void 0),Ft(this,"attrStatus",void 0),Ft(this,"attrQuoteChar",void 0),this.allChars=r,this.curIndex=0,this.state=i,this.attrStatus=Nr.None,this.attrQuoteChar=""}),Qi=new WeakSet,H9=function(){return pe(function t(r,i){le(this,t),_P(this,Qi),Ft(this,"token",void 0),Ft(this,"tokens",void 0),Ft(this,"htmlString",void 0),Ft(this,"tokenHandler",void 0),Ft(this,"thisStartTagName",void 0),Ft(this,"attrStatus",void 0),this.token=[],this.tokens=[],this.attrStatus=Nr.None,this.thisStartTagName=null,m.isString(r)?this.htmlString=r:r&&(this.htmlString=r.toString()),this.tokenHandler=i},[{key:"start",value:function(t){var r=t.allChars[t.curIndex];return r==="<"?(this.token.push(r),t.state=this.tagState,t):this.textState(t)}},{key:"textState",value:function(t){var r=t.allChars[t.curIndex];return r==="<"?(ii(Qi,this,$o).call(this,"text",this.token.join("")),this.token=[],this.start(t)):(this.token.push(r),t.state=this.textState,t)}},{key:"tagState",value:function(t){var r=t.allChars[t.curIndex];return this.token.push(r),r==="/"?(t.state=this.endTagState,t):(t.state=this.startTagState,t)}},{key:"startTagState",value:function(t){var r=t.curIndex,i=t.allChars,o=i[r];if(o.match(/[a-zA-Z]/))return this.token.push(o),t.state=this.startTagState,t;if(o===" "){if(this.thisStartTagName=this.token.join("").substring(1),ii(Qi,this,$o).call(this,"startTag",this.thisStartTagName.toLowerCase()),this.token=[],r<i.length-2){var u=i[r+1],d=i[r+2];if(u==="/"&&d===">")return ii(Qi,this,$o).call(this,"endTag",this.thisStartTagName),this.token=[],t.state=this.start,t.curIndex+=2,t}return t.attrQuoteChar="",t.attrStatus=Nr.None,t.state=this.attrState,t}return o===">"?(this.thisStartTagName=this.token.join("").substring(1),ii(Qi,this,$o).call(this,"startTag",this.thisStartTagName.toLowerCase()),this.token=[],t.state=this.start,ii(Qi,this,Lb).call(this)&&t.curIndex++,t):void 0}},{key:"attrState",value:function(t){var r=t.curIndex,i=t.allChars,o=i[r],u=!1,d=!1;if(t.attrStatus==Nr.AttrSplite?o.match(/[0-9|^<&;#]/)&&(u=!0):t.attrStatus!=Nr.AttrKey&&t.attrStatus!=Nr.AttrKeyQuoteStart||(o.match(/[0-9]/)||o==="."||o==="-")&&(d=!0),o.match(/[:|a-z|A-Z|_]/)||u||d){if(t.attrStatus==Nr.None||t.attrStatus==Nr.AttrKey||t.attrStatus==Nr.AttrKeyQuoteStart)return this.token.push(o),t.state=this.attrState,t.attrStatus==Nr.None&&(t.attrStatus=Nr.AttrKey),t;if(t.attrStatus==Nr.AttrSpace){var l=this.token.join("");return l!=="readonly"&&l!=="disabled"&&l!=="checked"||ii(Qi,this,$o).call(this,"attr",l),this.token=[o],t.state=this.attrState,t.attrStatus=Nr.AttrKey,t}var c;if(t.attrStatus==Nr.AttrSplite){for(c=r;c<i.length;c++)if(this.token.push(i[c]),c+1<i.length){var p=i[c+1],g=!1,S=!1;if(p===" "||p===">"?g=!0:p==="/"&&c+2<i.length&&i[c+2]===">"&&(g=!0,S=!0),g)return t.curIndex=c,t.attrStatus=Nr.None,t.attrQuoteChar="",ii(Qi,this,$o).call(this,"attr",this.token.join("")),this.token=[],t.state=this.attrState,p===">"&&ii(Qi,this,Lb).call(this)&&(this.token=[],t.curIndex++,t.state=this.start),S&&(ii(Qi,this,$o).call(this,"endTag",this.thisStartTagName),this.token=[],t.curIndex+=2,t.state=this.start),t}}}if(o==="="&&(t.attrStatus==Nr.AttrKey||t.attrStatus==Nr.AttrKeyQuoteEnd||t.attrStatus==Nr.AttrSpace))return this.token.push(o),t.state=this.attrState,t.attrStatus=Nr.AttrSplite,t;if(o.match(/['"]/)){if(t.attrStatus==Nr.AttrValueQuoteStart||t.attrStatus==Nr.AttrKeyQuoteStart){if(o===t.attrQuoteChar)return t.attrStatus==Nr.AttrValueQuoteStart?(this.token.push(o),ii(Qi,this,$o).call(this,"attr",this.token.join("")),this.token=[],t.attrStatus=Nr.None):t.attrStatus=Nr.AttrKeyQuoteEnd,t.attrQuoteChar="",t.state=this.attrState,t;this.token.push(o)}else t.attrStatus==Nr.None?t.attrStatus=Nr.AttrKeyQuoteStart:t.attrStatus==Nr.AttrSplite&&(t.attrStatus=Nr.AttrValueQuoteStart,this.token.push(o)),t.attrQuoteChar=o;return t.state=this.attrState,t}if(t.attrStatus==Nr.AttrValueQuoteStart){if(this.token.push(o),o==="\\"&&r<i.length-1){var v=i[r+1];this.token.push(v),t.curIndex++}return t.state=this.attrState,t}if(o===" "){if(t.attrStatus==Nr.AttrKey||t.attrStatus==Nr.AttrKeyQuoteEnd)return t.attrStatus=Nr.AttrSpace,t.state=this.attrState,t;if(t.attrStatus==Nr.None||t.attrStatus==Nr.AttrSplite||t.attrStatus==Nr.AttrSpace)return t.state=this.attrState,t}return o==="/"?r<i.length-1&&i[r+1]===">"?(ii(Qi,this,$o).call(this,"attr",this.token.join("")),ii(Qi,this,$o).call(this,"endTag",this.thisStartTagName),this.token=[],t.state=this.start,t.curIndex++,t):(this.token.push(o),t.state=this.attrState,t):o===">"?(ii(Qi,this,$o).call(this,"attr",this.token.join("")),this.token=[],ii(Qi,this,Lb).call(this),t.state=this.start,t):(t.state=this.attrState,t)}},{key:"endTagState",value:function(t){var r=t.allChars[t.curIndex];if(r.match(/[a-zA-Z]/))return this.token.push(r.toLowerCase()),t.state=this.endTagState,t;if(r===">"){var i=this.token.join("").toLowerCase();return i=i.replace("</",""),ii(Qi,this,$o).call(this,"endTag",i),this.token=[],t.state=this.start,t}}},{key:"doParse",value:function(){if(this.htmlString){var t=this.htmlString.split(""),r=new G9(t,this.start);do r.state.bind(this)(r),r.curIndex++;while(r.curIndex<t.length)}}},{key:"getTokens",value:function(){return this.tokens}}])}();function $o(t,r){var i={type:t,value:r};t=="attr"&&r===""||(this.tokens.push(i),this.tokenHandler&&this.tokenHandler(i))}function Lb(){if(this.thisStartTagName){if(this.thisStartTagName=="img")return ii(Qi,this,$o).call(this,"endTag","img"),!0;if(this.thisStartTagName=="input")return ii(Qi,this,$o).call(this,"endTag","input"),!0}return!1}function Wb(t,r){if(document.body)if(he.bIE)t.innerHTML=r;else{var i=new j9;new H9(r,i.receiveInput.bind(i)).doParse();var o=i.getOutPutHtml();o.children.length>0&&function(u,d){for(;u.firstChild;)u.removeChild(u.firstChild);for(;d.firstChild;){var l=d.firstChild;d.removeChild(l),u.appendChild(l)}}(t,o)}}var IP="ds-dwt-loaderBar",jb="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjAiIHdpZHRoPSIxMDBweCIgaGVpZ2h0PSIxMDBweCIgdmlld0JveD0iMCAwIDEyOCAxMjgiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxnPjxjaXJjbGUgY3g9IjE2IiBjeT0iNjQiIHI9IjE2IiBmaWxsPSIjZmU4ZTE0Ii8+PGNpcmNsZSBjeD0iMTYiIGN5PSI2NCIgcj0iMTQuMzQ0IiBmaWxsPSIjZmU4ZTE0IiB0cmFuc2Zvcm09InJvdGF0ZSg0NSA2NCA2NCkiLz48Y2lyY2xlIGN4PSIxNiIgY3k9IjY0IiByPSIxMi41MzEiIGZpbGw9IiNmZThlMTQiIHRyYW5zZm9ybT0icm90YXRlKDkwIDY0IDY0KSIvPjxjaXJjbGUgY3g9IjE2IiBjeT0iNjQiIHI9IjEwLjc1IiBmaWxsPSIjZmU4ZTE0IiB0cmFuc2Zvcm09InJvdGF0ZSgxMzUgNjQgNjQpIi8+PGNpcmNsZSBjeD0iMTYiIGN5PSI2NCIgcj0iMTAuMDYzIiBmaWxsPSIjZmU4ZTE0IiB0cmFuc2Zvcm09InJvdGF0ZSgxODAgNjQgNjQpIi8+PGNpcmNsZSBjeD0iMTYiIGN5PSI2NCIgcj0iOC4wNjMiIGZpbGw9IiNmZThlMTQiIHRyYW5zZm9ybT0icm90YXRlKDIyNSA2NCA2NCkiLz48Y2lyY2xlIGN4PSIxNiIgY3k9IjY0IiByPSI2LjQzOCIgZmlsbD0iI2ZlOGUxNCIgdHJhbnNmb3JtPSJyb3RhdGUoMjcwIDY0IDY0KSIvPjxjaXJjbGUgY3g9IjE2IiBjeT0iNjQiIHI9IjUuMzc1IiBmaWxsPSIjZmU4ZTE0IiB0cmFuc2Zvcm09InJvdGF0ZSgzMTUgNjQgNjQpIi8+PGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJyb3RhdGUiIHZhbHVlcz0iNDUgNjQgNjQ7OTAgNjQgNjQ7MTM1IDY0IDY0OzE4MCA2NCA2NDsyMjUgNjQgNjQ7MjcwIDY0IDY0OzMxNSA2NCA2NDswIDY0IDY0IiBjYWxjTW9kZT0iZGlzY3JldGUiIGR1cj0iNzIwbXMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIj48L2FuaW1hdGVUcmFuc2Zvcm0+PC9nPjwvc3ZnPg==";function wP(t){var r,i="",o="230px",u="240px",d=0,l="",c=0,p="",g="px";return t&&(t.unix&&(g=t.unix)==="rem"&&(o="14.375rem",u="15rem"),t.background&&(i=";background:"+t.background),t.width&&(o=t.width),t.height&&(u=t.height),t.imageSource&&(r=t.imageSource)),r||(r=jb),g==="px"?(c=parseInt(o)/2,m.isNumber(c)&&c>0&&(p=";width:"+c+"px"),d=parseInt(u)/2,m.isNumber(d)&&d>0&&(l=";height:"+d+"px")):(p=";width:"+o,l=";height:"+u),['<div align="center" ','class="',IP,'" ','style="margin:0 auto;max-width:',o,";max-height:",u,";line-height:",u,i,'"><img style="user-select:none',l,p,";max-width:",o,";max-height:",u,';vertical-align:middle" src="',r,'" draggable="false" /></div>'].join("")}var ba,Dp=window,Hn=document,EP=5e5;function z9(t,r){for(var i=0;i<t.length;++i)if(t[i]==r)return _r;return it}function K9(t){var r;return Dp.getComputedStyle?r=Dp.getComputedStyle(t):t.currentStyle&&(r=t.currentStyle),r&&r.position!="absolute"||t.style.top!="auto"&&t.style.top!=""||t.style.bottom!="auto"&&t.style.bottom!=""?it:!function(i){for(var o=0;o<Hn.styleSheets.length;++o){var u=Hn.styleSheets[o],d=void 0,l=void 0,c=void 0,p=void 0;try{d=u.cssRules,l=Hn.querySelectorAll}catch{}if(d&&l)for(var g=0;g<d.length;++g){c=d[g],p=it;try{p=l(c.selectorText)}catch{}if(p&&z9(p,i)){var S=c.style.getPropertyValue("top"),v=c.style.getPropertyValue("bottom");if(S&&S!="auto"||v&&v!="auto")return _r}}}return it}(t)}function xP(t){var r=Hn.createEvent("MouseEvents");return r==null||r.initMouseEvent(t.type,t.bubbles,t.cancelable,Dp,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget),r}function AP(t){var r;(r=Hn.body)===null||r===void 0||r.dispatchEvent(xP(t))}function DP(t,r){if(ba){var i=ba.style;i.backgroundColor=["rgba(",r,",",r,",",r,",",t,")"].join(""),i.filter=["alpha(opacity=",100*t,")"].join(""),i.opacity=i.MozOpacity=t}}function Q9(t,r){ba===Mb?function(i,o){if(ba=Hn.createElement("div")){var u=ba.style;if(u.position="fixed",u.display="block",u.left=u.top=u.margin=u.padding=0,DP(i,o),u.zIndex=EP,u.width=u.height="100%",he.bIE&&he.IEVersion<10){var d=Hn.createElement("iframe");d.style.background="none",d.style.margin="0px auto",d.style.border="0",d.style.width="100%",d.style.height="100%",d.style.position="relative",d.style.zIndex="9999",d.src="javascript:''",ba.appendChild(d)}Hn.createEvent&&m.addEventListener(ba,"click",AP)}}(t,r):DP(t,r),Hn.body&&!Hn.body.contains(ba)&&Hn.body.appendChild(ba)}var Bb,po,Il={pendingDialogStack:[],pendingDialogTopmostStack:[],opacity:.1,grayHex:128,_updateStacking:function(t){var r,i;(r=this.pendingDialogStack).length!=0?(t!=1&&Q9(Il.opacity,Il.grayHex),i=EP,m.each(r,function(o){i++,o._dlgInfo.mask&&(o._dlgInfo.mask.style.zIndex=i++),o.style.zIndex=i})):ba!==Mb&&(m.removeEventListener(ba,"click",AP),Hn&&Hn.body&&Hn.body.removeChild(ba),ba=Mb)},pushDialog:function(t,r){var i,o,u=this;if(t.getBoundingClientRect(),(o=t.bTopmost?u.pendingDialogTopmostStack:u.pendingDialogStack).length>=1e3)m.error("Too many modal dialogs.");else{if((i=Hn.createElement("div")).style.zIndex="10000",i.className="dynamsoft-backdrop",r==1?(i.style.left=0,i.style.top=0,i.style.position="absolute"):(i.style.left=0,i.style.top=0,i.style.width="100%",i.style.height="100%",i.style.position="fixed"),Hn.createEvent&&m.addEventListener(i,"click",function(l){if(t.dispatchEvent){var c=xP(l);t.dispatchEvent(c)}}),t.parentNode.insertBefore(i,t.nextSibling),t._dlgInfo.mask=i,t.bTopmost){var d=501e3;t._dlgInfo.mask&&(t._dlgInfo.mask.style.zIndex=d),t.style.zIndex=501001}o.push(t),u._updateStacking(r)}},removeDialog:function(t){var r,i,o,u=this;o=t.bTopmost?u.pendingDialogTopmostStack:u.pendingDialogStack,(r=m.isArray(o)?m.indexOf(t,o):-1)!=-1&&(o.splice(r,1),(i=t._dlgInfo.mask).parentNode&&i.parentNode.removeChild(i),t._dlgInfo.mask=null,u._updateStacking())}};function PP(t,r){var i,o,u,d,l,c,p=this,g=!0,S=r==1?"absolute":"fixed",v="50%",b="50%",C="",D="",M=null;if(p._dlgInfo&&p._dlgInfo.styleConfig){var j=p._dlgInfo.styleConfig;m.isString(j.position)&&(S=j.position,g=!1),(m.isString(j.left)||m.isNumber(j.left))&&(b=j.left,g=!1),(m.isString(j.top)||m.isNumber(j.top))&&(v=j.top,g=!1),(m.isString(j.width)||m.isNumber(j.width))&&(C=j.width,g=!1),(m.isString(j.height)||m.isNumber(j.height))&&(D=j.height,g=!1),m.isString(j.transform)&&(M=j.transform,g=!1)}p.opened?m.error("showDialog called on open dialog."):(p.opened=_r,p.removeAttribute("closed"),p.setAttribute("opened","true"),g?i=he.bIE&&S=="fixed"?{display:"block",position:"fixed",top:"35%",margin:"0 auto",left:0,right:0}:{display:"block",position:S,left:"50%",top:"50%",transform:"translate(-50%,-50%)"}:(i={display:"block",position:S,left:b,top:v,width:C,height:D},M&&(i.transform=M)),p.tagName=="DIALOG"?(he.bIE?i.margin="0 auto":i.margin="0",i.broderRadius="6px",i.boxShadow="2px 2px 0 0 rgba(0,0,0,.05)",i.webkitBoxSizing="border-box",i.boxSizing="border-box"):(i.border="0",he.bIE?i.margin="0 auto":i.margin="0",i.webkitBoxSizing="border-box",i.boxSizing="border-box"),m.mix(p.style,i),K9(p)&&(o=p,c=(((u=Hn.body)===null||u===void 0?void 0:u.scrollTop)||((d=Hn.documentElement)===null||d===void 0?void 0:d.scrollTop)||0)+((Dp.innerHeight?Dp.innerHeight:(l=Hn.documentElement)===null||l===void 0?void 0:l.clientHeight)-o.offsetHeight)/2,o.style.top=c+"px",o._dlgInfo.isTopOverridden=_r),t&&(p._dlgInfo.modal=_r,Il.pushDialog(p,r)))}function Y9(t){var r=this;return r.opened||m.error("closeDialog called on closed dialog."),r.opened=it,r.removeAttribute("opened"),r.setAttribute("closed","closed"),r.style.display="none",t!==void 0&&(r.returnValue=t),r._dlgInfo.isTopOverridden&&(r.style.top="auto"),r._dlgInfo.modal&&Il.removeDialog(r),r.returnValue}function RP(t){m.isNumber(t.opacity)?Il.opacity=t.opacity:Il.opacity=.1,m.isNumber(t.grayHex)?Il.grayHex=t.grayHex:Il.grayHex=128}function J9(t){var r,i,o,u;if(!po.dlgMask){var d,l,c,p,g=!1;if(t&&(p={},(m.isString(t.top)||m.isNumber(t.top))&&(p.top=t.top),(m.isString(t.left)||m.isNumber(t.left))&&(p.left=t.left),m.isString(t.position)&&(p.position=t.position),t.confined&&(document.getElementsByClassName("dwt-viewer-imageEditor-fullScreen")[0]||(g=t.confined)),(m.isString(t.width)||m.isNumber(t.width))&&(r=t.width),(m.isString(t.height)||m.isNumber(t.height))&&(i=t.height),m.isString(t.background)&&(o=t.background),m.isString(t.imageSource)&&(u=t.imageSource),RP(t),g&&t.wrapperEl&&(l=t.wrapperEl,m.isString(l)&&(l=Hn.getElementById(l)))),!u){var S;if(window&&window.Dynamsoft){var v=window.Dynamsoft.DWT;v&&v.CustomizableDisplayInfo&&(S=v.CustomizableDisplayInfo)}S?(he.bIE&&m.isString(S.loaderBarSourceIE)&&S.loaderBarSourceIE!=""&&(u=S.loaderBarSourceIE),!u&&m.isString(S.loaderBarSource)&&S.loaderBarSource!=""&&(u=S.loaderBarSource)):u=jb}if(l&&(c=l.getBoundingClientRect(),l.style.position="relative"),d=Hn.createElement("div")){var b;d.className="dynamsoft-dialog-wrap",Wb(d,wP({width:r,height:i,backgroundColor:o,imageSource:u})),l?(l.appendChild(d),d.style.position="absolute",d.style.top="50%",d.style.left="50%",d.style.transform="translate(-50%, -50%)"):(b=Hn.body)===null||b===void 0||b.appendChild(d),g&&c&&(window.onresize?po.preOnresize=window.onresize:po.preOnresize=!1,window.onscroll?po.preOnscroll=window.onscroll:po.preOnscroll=!1),po.dlgMask=d,Bb.setup(d,g),p&&(d._dlgInfo.styleConfig=p),l&&(d._dlgInfo.wrapperEl=l),d.showModal()}}}function q9(){var t=po.dlgMask;if(t){var r;t.close(),t._dlgInfo&&t._dlgInfo.wrapperEl?(t._dlgInfo.wrapperEl.removeChild(t),t._dlgInfo.wrapperEl=null):(r=Hn.body)===null||r===void 0||r.removeChild(t),po.dlgMask=!1}po.preOnresize?window.onresize=po.preOnresize:window.onresize=null,po.preOnresize=!1,po.preOnscroll?window.onscroll=po.preOnscroll:window.onscroll=null,po.preOnscroll=!1}Bb={setup:function(t,r){t.show=PP.bind(t,it,r),t.showModal=PP.bind(t,_r,r),t.close=Y9.bind(t),t._dlgInfo={}}},po={dlgMask:!1,preOnresize:!1,preOnscroll:!1};var X9=function(){return pe(function t(r){le(this,t),Ft(this,"div",void 0),Ft(this,"container",void 0),Ft(this,"docElem",void 0),Ft(this,"opacity",void 0),Ft(this,"cssFloat",void 0),Ft(this,"clearCloneStyle",void 0),Ft(this,"boxSizing",void 0),Ft(this,"pixelPositionVal",void 0),Ft(this,"pixelMarginRightVal",void 0),Ft(this,"boxSizingReliableVal",void 0),Ft(this,"pixelBoxStylesVal",void 0),Ft(this,"reliableHiddenOffsetsVal",void 0),Ft(this,"reliableMarginRightVal",void 0),Ft(this,"reliableMarginLeftVal",void 0),Ft(this,"leadingWhitespace",void 0),Ft(this,"tbody",void 0),Ft(this,"htmlSerialize",void 0);var i=r.createElement("div"),o=r.createElement("div");if(o.style){this.div=o,this.container=i,this.docElem=r.documentElement,o.textContent=" ";var u=document.createElement("link");o.appendChild(u);var d=document.createElement("table");o.appendChild(d);var l=document.createElement("a");l.href="/a",o.appendChild(l);var c=document.createElement("input");for(c.type="checkbox",o.appendChild(c),this.leadingWhitespace=o.firstChild.nodeType===3,this.tbody=!o.getElementsByTagName("tbody").length,this.htmlSerialize=!!o.getElementsByTagName("link").length,o.style.cssText="float:left;opacity:.5",this.opacity=o.style.opacity==="0.5",this.cssFloat=!!o.style.cssFloat,o.style.backgroundClip="content-box",o.cloneNode(!0).style.backgroundClip="",this.clearCloneStyle=o.style.backgroundClip==="content-box",(i=document.createElement("div")).style.cssText="border:0;width:60px;height:0;top:0;left:-11111px;padding:0;margin-top:1px;position:absolute";o.firstChild;)o.removeChild(o.firstChild);i.appendChild(o),this.boxSizing=o.style.boxSizing===""||o.style.MozBoxSizing===""||o.style.WebkitBoxSizing===""}},[{key:"reliableHiddenOffsets",value:function(){return this.pixelPositionVal==null&&this.computeStyleTests(),this.reliableHiddenOffsetsVal}},{key:"boxSizingReliable",value:function(){return this.pixelPositionVal==null&&this.computeStyleTests(),this.boxSizingReliableVal}},{key:"pixelBoxStyles",value:function(){return this.pixelPositionVal==null&&this.computeStyleTests(),this.pixelBoxStylesVal}},{key:"pixelMarginRight",value:function(){return this.pixelPositionVal==null&&this.computeStyleTests(),this.pixelMarginRightVal}},{key:"pixelPosition",value:function(){return this.pixelPositionVal==null&&this.computeStyleTests(),this.pixelPositionVal}},{key:"reliableMarginRight",value:function(){return this.pixelPositionVal==null&&this.computeStyleTests(),this.reliableMarginRightVal}},{key:"reliableMarginLeft",value:function(){return this.pixelPositionVal==null&&this.computeStyleTests(),this.reliableMarginLeftVal}},{key:"roundPixelMeasures",value:function(t){return Math.round(parseFloat(t))}},{key:"computeStyleTests",value:function(){var t,r,i=this.div;if(this.docElem&&this.docElem.appendChild(this.container),i.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;overflow:scroll;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:60%",this.pixelPositionVal=this.boxSizingReliableVal=this.reliableMarginLeftVal=this.pixelBoxStylesVal=!1,this.pixelMarginRightVal=this.reliableMarginRightVal=!0,window.getComputedStyle)return r=window.getComputedStyle(i),this.pixelPositionVal=(r||{}).top!=="1%",this.reliableMarginLeftVal=(r||{}).marginLeft==="2px",this.boxSizingReliableVal=(r||{width:"4px"}).width==="4px",i.style.marginRight="50%",this.pixelMarginRightVal=(r||{marginRight:"4px"}).marginRight==="4px",(t=i.appendChild(document.createElement("div"))).style.cssText=i.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",i.style.width="1px",this.reliableMarginRightVal=!parseFloat((window.getComputedStyle(t)||{}).marginRight),i.style.right="60%",this.pixelBoxStylesVal=this.roundPixelMeasures(r.right)===36,i&&i.removeChild(t),void(i=null);if(i.style.display="none",this.reliableHiddenOffsetsVal=i.getClientRects().length===0,this.reliableHiddenOffsetsVal){i.style.display="";var o=document.createElement("table"),u=document.createElement("tr"),d=document.createElement("td");u.appendChild(d);var l=document.createElement("td");l.textContent="t",u.appendChild(l),o.appendChild(u),i.appendChild(u),i.childNodes[0].style.borderCollapse="separate",(t=i.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",this.reliableHiddenOffsetsVal=t[0].offsetHeight===0,this.reliableHiddenOffsetsVal&&(t[0].style.display="",t[1].style.display="none",this.reliableHiddenOffsetsVal=t[0].offsetHeight===0)}this.docElem&&this.docElem.removeChild(this.container)}},{key:"createHTMLDocument",get:function(){if(document.implementation){var t=document.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",t.childNodes.length===2}return!1}}])}(),_s=new X9(document),jv=_s.docElem;m.sizzle;var hf,Bv,Z9=/^(top|right|bottom|left)$/,Ub=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Vb=new RegExp("^("+Ub+")(?!px)[a-z%]+$","i"),$9=new RegExp("^("+Ub+")(.*)$","i");window.getComputedStyle?hf=function(t){var r,i;return(i=(r=m.isFunction(t.getEL)?t.getEL():t).ownerDocument.defaultView)&&i.opener||(i=window),i.getComputedStyle(r)}:jv&&jv.currentStyle&&(hf=function(t){return t.currentStyle});var Gb=/^--/,kP="[\\x20\\t\\r\\n\\f]",eK=new RegExp("^"+kP+"+|((?:^|[^\\\\])(?:\\\\.)*)"+kP+"+$","g"),pf=["Top","Right","Bottom","Left"],tK=new RegExp(pf.join("|"),"i");window.getComputedStyle?Bv=function(t,r,i){var o,u,d,l,c=Gb.test(r),p=t.style;return(i=i||hf(t))&&(l=i.getPropertyValue(r)||i[r],c&&l&&(l=l.replace(eK,"$1")||void 0),l!==""||function(g){return mo.contains(g.ownerDocument,g)}(t)||(l=Pp(t,r)),!_s.pixelBoxStyles()&&Vb.test(l)&&tK.test(r)&&(o=p.width,u=p.minWidth,d=p.maxWidth,p.minWidth=p.maxWidth=p.width=l,l=i.width,p.width=o,p.minWidth=u,p.maxWidth=d)),l===void 0?l:l+""}:jv&&jv.currentStyle&&(Bv=function(t,r,i){var o,u,d,l,c=t.style;return(l=(i=i||hf(t))?i[r]:void 0)==null&&c&&c[r]&&(l=c[r]),Vb.test(l)&&!Z9.test(r)&&(o=c.left,(d=(u=t.runtimeStyle)&&u.left)&&(u.left=t.currentStyle.left),c.left=r==="fontSize"?"1em":l,l=c.pixelLeft+"px",c.left=o,d&&(u.left=d)),l===void 0?l:l+""||"auto"});var Uv,rK=/<([\w:-]+)/,nK=/<|&#?\w+;/,iK=/^-ms-/,oK=/-([\da-z])/gi,aK=/^(none|table(?!-c[ea]).+)/,sK=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,uK={position:"absolute",visibility:"hidden",display:"block"},NP={letterSpacing:"0",fontWeight:"400"},FP={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:_s.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},OP=document.createElement("div");Uv=OP.style,_s.cssFloat=!!OP.style.cssFloat;var lK=function(t,r){return r.toUpperCase()},MP=["Webkit","Moz","ms"],LP={};function WP(t){var r=mo.cssProps[t]||LP[t];return r||(t in Uv?t:LP[t]=function(i){if(i in Uv)return i;for(var o=i.charAt(0).toUpperCase()+i.slice(1),u=MP.length;u--;)if((i=MP[u]+o)in Uv)return i}(t)||t)}var mo={cssHooks:{},contains:function(t,r){var i=r&&r.parentNode;return t===i||!(!i||i.nodeType!==1||!(t.contains?t.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))},merge:function(t,r){for(var i=+r.length,o=0,u=t.length;o<i;)t[u++]=r[o++];if(i!=i)for(;r[o]!==void 0;)t[u++]=r[o++];return t.length=u,t},camelCase:function(t){return t.replace(iK,"ms-").replace(oK,lK)},cssProps:{},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0}},cK=["flo","at"].join("");mo.cssProps[cK]=_s.cssFloat?"cssFloat":"styleFloat";function jP(t,r,i,o,u){for(var d=i===(o?"border":"content")?4:r==="width"?1:0,l=0;d<4;d+=2)i==="margin"&&(l+=Ss(t,i+pf[d],!0,u)),o?(i==="content"&&(l-=Ss(t,"padding"+pf[d],!0,u)),i!=="margin"&&(l-=Ss(t,"border"+pf[d]+"Width",!0,u))):(l+=Ss(t,"padding"+pf[d],!0,u),i!=="padding"&&(l+=Ss(t,"border"+pf[d]+"Width",!0,u)));return l}function BP(t,r,i){var o=!0,u=r==="width"?t.offsetWidth:t.offsetHeight,d=hf(t),l=_s.boxSizing&&Ss(t,"boxSizing",!1,d)==="border-box";if(u<=0||u==null){if(((u=Bv(t,r,d))<0||u==null)&&(u=t.style[r]),Vb.test(u))return u;o=l&&(_s.boxSizingReliable()||u===t.style[r]),u=parseFloat(u)||0}return u+jP(t,r,i||(l?"border":"content"),o,d)}function UP(t){return new RegExp("^(?:([+-])=|)("+Ub+")([a-z%]*)$","i").exec(t)}function Pp(t,r,i,o){if(t&&t.nodeType!==3&&t.nodeType!==8&&t.style){var u,d,l,c=mo.camelCase(r),p=Gb.test(r),g=t.style;if(p||(r=WP(c)),l=mo.cssHooks[r]||mo.cssHooks[c],i===void 0)return l&&"get"in l&&(u=l.get(t,!1,o))!==void 0?u:g[r];(d=$(i))==="string"&&(u=UP(i))&&u[1]&&(i=function(S,v,b,C){var D,M=1,j=20,Y=function(){return Ss(S,v,"")},ee=Y(),te=b&&b[3]||(mo.cssNumber[v]?"":"px"),de=(mo.cssNumber[v]||te!=="px"&&+ee)&&UP(Ss(S,v));if(de&&de[3]!==te){te=te||de[3],b=b||[],de=+ee||1;do Pp(S,v,(de/=M=M||".5")+te);while(M!==(M=Y()/ee)&&M!==1&&--j)}return b&&(de=+de||+ee||0,D=b[1]?de+(b[1]+1)*b[2]:+b[2]),D}(t,r,u),d="number"),i!=null&&i==i&&(d!=="number"||p||(i+=u&&u[3]||(mo.cssNumber[c]?"":"px")),_s.clearCloneStyle||i!==""||r.indexOf("background")!==0||(g[r]="inherit"),l&&"set"in l&&(i=l.set(t,i,o))===void 0||(p?g.setProperty(r,i):g[r]=i))}}function Ss(t,r,i,o){var u,d,l,c=mo.camelCase(r);return Gb.test(r)||(r=WP(c)),(l=mo.cssHooks[r]||mo.cssHooks[c])&&"get"in l&&(u=l.get(t,!0,i)),u===void 0&&(u=Bv(t,r,o)),u==="normal"&&r in NP&&(u=NP[r]),i===""||i?(d=parseFloat(u),i===!0||isFinite(d)?d||0:u):u}function Vv(t,r){if(!t||typeof t!="string")return[];if(typeof r=="boolean"&&(r=!1),!r)if(_s.createHTMLDocument){var i=(r=document.implementation.createHTMLDocument("")).createElement("base");i.href=document.location.href,r.head.appendChild(i)}else r=document;var o=sK.exec(t);return o?[r.createElement(o[1])]:(o=function(u,d){for(var l,c,p,g,S,v=d.createDocumentFragment(),b=[],C=0,D=u.length;C<D;C++)if((l=u[C])||l===0)if(m.type(l)==="object")mo.merge(b,l.nodeType?[l]:l);else if(nK.test(l)){for(c=c||v.appendChild(d.createElement("div")),p=(rK.exec(l)||["",""])[1].toLowerCase(),Wb(c,(g=FP[p]||FP._default)[1]+l+g[2]),S=g[0];S--;)c=c.lastChild;mo.merge(b,c.childNodes),(c=v.firstChild).textContent=""}else b.push(d.createTextNode(l));for(v.textContent="",C=0;l=b[C++];)v.appendChild(l);return c=null,v}([t],r),mo.merge([],o.childNodes))}m.each(["height","width"],function(t,r){mo.cssHooks[t]={get:function(i,o,u){if(o)return aK.test(Ss(i,"display"))&&i.offsetWidth===0?function(d,l,c,p){var g,S={};return m.each(l,function(v,b){S[b]=d.style[b],d.style[b]=l[b]}),g=c.apply(d,[]),m.each(l,function(v,b){d.style[b]=S[b]}),g}(i,uK,function(){return BP(i,t,u)}):BP(i,t,u)},set:function(i,o,u){var d=u&&hf(i);return function(l,c,p){var g=$9.exec(c);return g?Math.max(0,parseInt(g[1])-(p||0))+(g[2]||"px"):c}(0,o,u?jP(i,t,u,_s.boxSizing&&Ss(i,"boxSizing",!1,d)==="border-box",d):0)}}});var VP,GP=Array.prototype.slice,ea=" ",dK=he.bIE&&he.IEMode<10,HP=/[\n\t\r\.]/g,Hb=function(){function t(r,i,o){le(this,t),Ft(this,"isNodeList",!0),Ft(this,"length",0);var u=this;return!r||m.isString(r)?u:m.isArray(r)||r.isNodeList?(Array.prototype.push.apply(u,m.makeArray(r)),u):(u[0]=r,u.length=1,u)}return pe(t,[{key:"item",value:function(r){return m.isNumber(r)?r>=this.length?null:new t(this[r]):new t(r)}},{key:"slice",value:function(){return new t(GP.apply(this,arguments))}},{key:"getDOMNodes",value:function(){return GP.call(this)}},{key:"each",value:function(r,i){var o=this;return m.each(o,function(u,d){return u=new t(u),r.call(i||u,u,d,o)}),o}},{key:"getEL",value:function(){return this.length>0?this[0]:void 0}},{key:"all",value:function(r){return this.length>0?Yb(r,this):new t}},{key:"one",value:function(r){var i=this.all(r);return i.length?i.slice(0,1):i}},{key:"attr",value:function(r,i){var o=this.getEL();if(o){if(m.isUndefined(i))return r==="readonly"?o.readOnly?"readonly":"":(r!=="style"&&dK?o=o[r]:(o=o.attributes[r])&&(o=o.value),o);r=="class"?o.className=i:o[r]=i}}},{key:"addClass",value:function(r){var i=this.getEL();i&&function(o,u){var d,l,c,p,g=o.className,S=u.length;if(g){for(d=Kb(g),l=g,c=0;c<S;c++)p=Qb(u[c]),d.indexOf(ea+p+ea)<0&&(l+=ea+p);l=m.trim(l)}else l=u.join(" ");o.className=l}(i,r.split(ea))}},{key:"removeClass",value:function(r){var i=this.getEL();i&&function(o,u){var d,l,c,p=o.className,g=u.length;if(p&&g){for(d=Kb(p),l=0;l<g;l++)for(c=ea+Qb(u[l])+ea;d.indexOf(c)>=0;)d=d.replace(c,ea);o.className=m.trim(d)}}(i,r.split(ea))}},{key:"hasClass",value:function(r){var i=this.getEL();if(i)return function(o,u){var d,l,c,p=o.className,g=u.length;if(p&&g){for(d=Kb(p),l=0;l<g;l++)if(c=ea+Qb(u[l])+ea,d.indexOf(c)<0)return it;return _r}return it}(i,r.split(ea))}},{key:"parent",value:function(){var r=this.getEL();return r&&(r=r.parentNode),new t(r)}},{key:"remove",value:function(){var r=this.getEL();r&&r.parentNode&&r.parentNode.removeChild(r)}},{key:"offset",value:function(){var r=this.getEL();return m.DOM.getElDimensions(r,_r)}},{key:"before",value:function(r){var i=this.getEL(),o=[r];i&&(zb(r)&&(o=Vv(r)),m.each(o,function(u){i.insertBefore(u,i.childNodes[0])}))}},{key:"append",value:function(r){var i=this.getEL(),o=[r];i&&(zb(r)&&(o=Vv(r)),m.each(o,function(u){i.appendChild(u)}))}},{key:"html",value:function(r){var i=this.getEL();if(i){if(m.isUndefined(r))return function(o){var u=o.innerHTML;if(!document.all)return u;var d=/(\s+\w+)\s*=\s*([^<>"\s]+)(?=[^<>]*\/>)/gi,l=/"'([^'"]*)'"/gi;return(u=u.replace(d,'$1="$2"').replace(l,'"$1"')).replace(/<(\/?)(\w+)([^>]*)>/g,function(c,p,g,S){return p?"</"+g.toLowerCase()+">":("<"+g.toLowerCase()+S+">").replace(/=(("[^"]*?")|('[^']*?')|([\w\-\.]+))([\s>])/g,function(v,b,C,D,M,j,Y,ee){return M?'="'+M+'"'+j:v})}).replace(/<\/?([^>]+)>/g,function(c){return c})}(i);for(;i.firstChild;)i.removeChild(i.firstChild);m.each(Vv(r),function(o){i.appendChild(o)})}}},{key:"style",value:function(r,i){var o=this.getEL();if(o)return Pp(o,r,i)}},{key:"css",value:function(r){m.each(this,function(i){m.each(r,function(o,u){Pp(i,u,o)})})}},{key:"show",value:function(){m.each(this,function(r){r.style.display=""})}},{key:"hide",value:function(){m.each(this,function(r){r.style.display="none"})}}])}();function zb(t){return m.isString(t)&&(t=m.trim(t))&&t.length>=3&&m.startsWith(t,"<")&&m.endsWith(t,">")}function Kb(t){return(ea+t+ea).replace(HP,ea)}function Qb(t){return t.replace(HP,"")}function Yb(t,r){var i=r;return i&&i.isNodeList&&(i=i.getEL()),m.isString(t)?(zb(t)&&m.error("Err 4002."),new Hb(m.sizzle(t,i))):t.isNodeList?t:new Hb(t)}function fK(t,r){var i=Yb(t,r);return i.length?i.slice(0,1):i}function hK(t){return t instanceof Hb}(VP=self||{}).Map||(VP.Map=function(){this.keys=[],this.data={},this.set=function(t,r){this.data[t]==null&&this.keys.indexOf(t)==-1&&this.keys.push(t),this.data[t]=r},this.get=function(t){return this.data[t]}});var Pe=new(pe(function t(){le(this,t),Ft(this,"__ver",20230516),Ft(this,"Events",gP),Ft(this,"EnumMouseButton",ed),Ft(this,"detectButton",D9),Ft(this,"getWheelDelta",A9),Ft(this,"fromUnicode",R9),Ft(this,"escapeHtml",k9),Ft(this,"escapeRegExp",N9),Ft(this,"unEscapeHtml",SP),Ft(this,"param",L9),Ft(this,"unparam",W9),Ft(this,"colorStrToInt",E9),Ft(this,"IntToColorStr",x9),Ft(this,"currentStyle",M9),Ft(this,"parseHTML",Vv),Ft(this,"setHtml",Wb),Ft(this,"css",Ss),Ft(this,"style",Pp),Ft(this,"support",_s),Ft(this,"all",Yb),Ft(this,"one",fK),Ft(this,"isNodeList",hK),Ft(this,"Promise",Fb),Ft(this,"nativePromise",Wv),Ft(this,"loaderBarClassName",IP),Ft(this,"loaderBarSource",jb),Ft(this,"createShowMaskContent",wP),Ft(this,"switchEvent",O9),Ft(this,"setBackOpacity",RP),Ft(this,"showMask",J9),Ft(this,"hideMask",q9),Ft(this,"dialog",Bb),Ft(this,"mask",po)})),za={getHex:function(t){var r=Number(t).toString(16).toUpperCase();return r.length==1&&(r=["0",r].join("")),r},getColor:function(t){var r,i,o;return o=t>>16,i=(65280&t)>>8,r=255&t,["#",za.getHex(o),za.getHex(i),za.getHex(r)].join("")},RGB2BGR:function(t){return(255&t)<<16|65280&t|t>>16}};za.BGR2RGB=za.RGB2BGR;var Fe=!1,st=!0,zP=/[#\/\?@]/g,pK=/[#\?]/g,KP={scheme:1,userInfo:2,hostname:3,port:4,path:5},mK=new RegExp("^(?:([\\w\\d+.-]+):)?(?://(?:([^/?#@]*)@)?([\\w\\d\\-\\u0100-\\uffff.+%]*|\\[[^\\]]+\\])(?::([0-9]+))?)?(.+)?$");function Jb(t,r){return m.isString(t)&&m.isString(r)?t.toLowerCase()===r.toLowerCase():t===r}function qb(t,r){return encodeURI(t).replace(r,function(i){return"%"+function(o){return o.length===1?"0"+o:o}(i.charCodeAt(0).toString(16))})}var QP,Gv=function(){function t(r){if(h(this,t),I(this,"scheme",""),I(this,"userInfo",""),I(this,"hostname",""),I(this,"port",""),I(this,"path",""),r instanceof t)return m.clone(r);t.getComponents(r,this)}return y(t,[{key:"clone",value:function(){var r=new t,i=this;return m.each(KP,function(o,u){r[u]=i[u]}),r}},{key:"getScheme",value:function(){return this.scheme}},{key:"setScheme",value:function(r){return this.scheme=r,this}},{key:"getHostname",value:function(){return this.hostname}},{key:"setHostname",value:function(r){return this.hostname=r,this}},{key:"setUserInfo",value:function(r){return this.userInfo=r,this}},{key:"getUserInfo",value:function(){return this.userInfo}},{key:"setPort",value:function(r){return this.port=r,this}},{key:"getPort",value:function(){return this.port}},{key:"setPath",value:function(r){return this.path=r,this}},{key:"getPath",value:function(){return this.path}},{key:"isSameOriginAs",value:function(r){var i=this;return Jb(i.hostname,r.hostname)&&Jb(i.scheme,r.scheme)&&Jb(i.port,r.port)}},{key:"toString",value:function(r){var i,o,u,d,l,c=[],p=this;return(i=p.scheme)&&(c.push(qb(i,zP)),c.push(":")),(o=p.hostname)&&(c.push("//"),(l=p.userInfo)&&(c.push(qb(l,zP)),c.push("@")),c.push(encodeURIComponent(o)),(d=p.port)&&(c.push(":"),c.push(d))),(u=p.path)&&(o&&!m.startsWith(u,"/")&&(u="/"+u),c.push(qb(u,pK))),c.join("")}}],[{key:"getComponents",value:function(r,i){var o=(r=r||xt).match(mK)||[],u=i||{};return m.each(KP,function(d,l){u[l]=o[d]}),u}}])}(),Hv=m.each,ru=m.error,Xb=m.isFunction,Zb=m.isString,$b=he.bIE&&he.IEVersion<=9,gK=he.bIE&&he.IEVersion<=10,wl=window,eC=new Gv(location.href),YP=eC&&/^(?:about|app|app\-storage|.+\-extension|file|widget)$/.test(eC.getScheme()),vK=!1,tC=function(){try{return new wl.XMLHttpRequest}catch{}},JP=function(){try{var t=Fe;return Hv(["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.3.0","Msxml3.XMLHTTP"],function(r){try{if(!t)return t=new wl.ActiveXObject(r),Fe}catch(i){ru("new xhr error: "+i.message)}}),t}catch{}},yK=!(YP||!wl.XMLHttpRequest)&&"withCredentials"in(tC()||[]),_K=wl.ActiveXObject?function(t){return $b?JP():!YP&&tC()||JP()}:tC,qP=function(t){return vK},SK=/^(?:GET|HEAD)$/,bK=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,rC={xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":"*/*"},nC=QP;gK&&(nC=m.noop);var CK=function(){function t(){h(this,t),I(this,"url",!1),I(this,"onSuccess",!1),I(this,"onError",!1),I(this,"onComplete",!1),I(this,"method","GET"),I(this,"async",!0),I(this,"xhrFields",!1),I(this,"mimeType",!1),I(this,"username",!1),I(this,"password",!1),I(this,"data",!1),I(this,"dataType","text"),I(this,"headers",!1),I(this,"contentType","application/x-www-form-urlencoded; charset=UTF-8"),I(this,"beforeSend",!1),I(this,"afterSend",!1),I(this,"timeout",0),I(this,"cache",!0),I(this,"crossDomain",!1),I(this,"retry",0)}return y(t,[{key:"setRequestHeader",value:function(r,i){this.headers[r]=i}},{key:"getAllResponseHeaders",value:function(){return this.state===2?this.responseHeadersString:null}},{key:"getNativeXhr",value:function(){return this.nativeXhr}},{key:"getResponseHeader",value:function(r){var i,o;if(r=r.toLowerCase(),this.state===2){if(!(o=this.responseHeaders))for(o=this.responseHeaders={};i=bK.exec(this.responseHeadersString);)o[i[1].toLowerCase()]=i[2];i=o[r]}return i===void 0?null:i}},{key:"overrideMimeType",value:function(r){return this.state||(this.mimeType=r),this}},{key:"abort",value:function(r){return this.state=3,this.status=0,this.statusText=r??"abort",this.nativeXhr&&this.nativeXhr.abort(),this._callback(),this}},{key:"_ioReady",value:function(r,i){var o=!1,u=this;if(this.state!==2&&this.state!==3){this.state===1&&(this.state=2),this.readyState=4,r>=200&&r<300||r===304?r===304?(i="not modified",o=!0):(i="success",o=!0):r<0&&(r=0);try{r>=200&&this.handleResponseData()}catch(d){ru(d,"error"),i=d.message||"parser error"}return(r<200||!o)&&this.retry>0?(this.retry=this.retry-1,void setTimeout(function(){u.sendInternal()},200)):(this.status=r,this.statusText=i,this._callback(o),o)}}},{key:"_callback",value:function(r){var i=this,o=this.timeoutTimer;o&&(clearTimeout(o),this.timeoutTimer=0),Hv([r?this.onSuccess:this.onError,this.onComplete],function(u){Xb(u)&&u.apply(i.context,[i.responseData,i.statusText,i])}),this.responseData=null}},{key:"handleResponseData",value:function(){var r,i=this.dataType,o=this.nativeXhr;if(i==="blob"||i==="arraybuffer")if($b){var u,d,l;if("responseBody"in o)u=o.responseBody,d=wl.dsVbsBinGetLength(u),r=new wl.VBArray(wl.dsVbsBinGetBytes(u,0,d)).toArray();else for(r=[],d=(u=o.responseText).length,l=0;l<d;++l)r.push(255&u.charCodeAt(l));u=null}else r=wl.Blob?o.response:"responseBody"in o?o.responseBody:o.responseText;else if(i=="json")r=o.responseType&&o.responseType.toLowerCase()=="json"?o.response:o.responseText?m.parse(o.responseText):m.parse(o.response);else if(i==="user-defined")r=o.response!==void 0?o.response:o.responseText;else{this.responseText=r=o.responseText||"";try{var c=o.responseXML;c&&c.documentElement&&(this.responseXML=c)}catch{}}this.responseData=r}},{key:"sendInternal",value:function(r){var i,o,u,d,l,c,p,g,S,v,b,C=this;if(o=(i=this._setup(r)).method,Zb(o)&&(o=o.toUpperCase()),l=i.contentType,u=i.url,d=i.dataType,g=i.mimeType,Zb(u)&&(this.nativeXhr=c=_K(i.crossDomain),c)){try{if(this.state=1,i.username?c.open(o,u,i.async,i.username,i.password):c.open(o,u,i.async),(i.async||he.bIE)&&d&&d!="user-defined"&&"responseType"in c)try{c.responseType=d}catch{}}catch(D){return void(this.state<2?(ru(D,"error"),this._ioReady(-1,"open error: "+(m.isNumber(D.number)?"("+D.number+")":"")+(D.message||""))):ru(D))}"withCredentials"in(p=i.xhrFields||{})&&(yK||delete p.withCredentials),Hv(p,function(D,M){try{c[M]=D}catch(j){ru(j)}}),g&&c.overrideMimeType&&c.overrideMimeType(g),(S=i.headers||{})["X-Requested-With"]===!1&&delete S["X-Requested-With"],"setRequestHeader"in c&&(l&&c.setRequestHeader("Content-Type",i.contentType),c.setRequestHeader("Accept",d&&rC[d]?rC[d]+(d==="*"?"":", */*; q=0.01"):rC["*"]),Hv(S,function(D,M){c.setRequestHeader(M,D)})),o!="GET"||i.cache||(c.setRequestHeader("If-Modified-Since","0"),c.setRequestHeader("Cache-Control","no-cache")),b=(v=!SK.test(i.method))&&i.data||null,v&&$b&&(b=i.data),i.async&&i.timeout>0&&(i.timeout<300&&(i.timeout=300),this.timeoutTimer=setTimeout(function(){C.abort("timeout")},i.timeout));try{if(this.state=1,Xb(this.beforeSend)&&this.beforeSend(c,C)===!1)return void this.abort("cancel");c.send(b),b=null,i.data=null,Xb(this.afterSend)&&this.afterSend(C)}catch(D){this.state<2?(ru(D,"error"),this._ioReady(-1,"send error: "+(D.message||""))):ru(D)}if(!i.async||c.readyState===4)return C._xhrCallback();c.onreadystatechange=function(){C._xhrCallback()}}}},{key:"_xhrCallback",value:function(r,i){var o,u=this.nativeXhr;try{if(u.readyState===4||i)if(qP()||(u.onreadystatechange=nC),i)u.readyState!==4&&u.abort();else{qP()||(this.responseHeadersString=u.getAllResponseHeaders());var d,l=u.status;try{d=u.statusText}catch(c){ru("xhr statusText error: "),ru(c),d=""}o=this._ioReady(l,d)}}catch(c){ru(c,"error"),u.onreadystatechange=nC,i||this._ioReady(-1,c.message||"process error")}return o}},{key:"_setup",value:function(r){var i,o,u,d,l;if(r){for(o in this.context=r.context,delete r.context,r instanceof t&&(r=r.config),this.config=r,d=r.url,m.startsWith(d,"//")&&(r.url=d="http:"+d),(m.startsWith(d,"http://")||m.startsWith(d,"https://"))&&(l=new Gv(d)),i=r.dataType?r.dataType.toLowerCase():"text",r.dataType=i,r.method?r.method=r.method.toUpperCase():r.method="GET",l&&!("crossDomain"in r)&&(r.crossDomain=!l.isSameOriginAs(eC)),u=r.headers)TK(u[o])&&delete u[o];m.mix(this,r)}return this.state=1,this}},{key:"dispose",value:function(){this.responseHeaders=null,this.responseHeadersString=null,this.responseData=null,this.responseText=null,this.responseXML=null,this.context=null,this.config=null,this.onSuccess=null,this.onError=null,this.onComplete=null,this.xhrFields=null,this.data=null,this.headers=null,this.beforeSend=null,this.afterSend=null}}])}();function Ca(t){if(t&&Zb(t.url)){var r=new CK;return t.async?(t.async=!0,r.sendInternal(t),r):(t.async=!1,r.sendInternal(t))}m.log("the url is error.")}function TK(t){return t===QP}var IK="Please make sure the Dynamic Web TWAIN Service has been installed.",XP="Error: This browser is currently not supported.",wK="Error: Duplicate ContainerId detected while creating a Dynamic Web TWAIN object.",EK="Error: Duplicate WebTwainId detected while creating a Dynamic Web TWAIN object.",xK="Error: The ID of the target DIV for the new DWT object is invalid.",ta="19",Rp="3",kp="0",El="1028",iC="3",oC="0",zv="".concat(ta,",").concat(Rp,",").concat(kp,",").concat(El),AK="".concat(ta,",").concat(iC,",").concat(oC,",").concat("1028"),aC=parseInt(ta),sC=parseInt(Rp),uC=parseInt(kp),ZP=[aC,sC,uC,El],$P=[aC,sC,uC,El],eR=[aC,sC,uC,El],tR=[1,9,2,El],rR=[1,9,2,El],nR=[1,9,2,El];function iR(){if(!he.bWin){if(he.bMac)return $P;if(he.bLinux)return eR}return ZP}function lC(){if(!he.bWin){if(he.bMac)return rR;if(he.bLinux)return nR}return tR}function Kv(){return"dcp/dwasm2_"+mf()}function mf(){return iR().join("")}var bs=function(t){return t.NONE=0,t.TRACE=1,t.DEBUG=2,t.INFO=4,t.WARN=8,t.ERROR=16,t}({}),Np=m.getLogger(),Qv=(G=function(){return y(function t(){h(this,t)},null,[{key:"LogLevel",get:function(){return this._logLevel},set:function(t){this._logLevel=t}},{key:"LogFunc",set:function(t){this._logFunc=t}},{key:"all",value:function(t,r){if((this._logLevel&t)==t)if(this._logFunc)this._logFunc(r,t);else switch(t){case bs.DEBUG:Np.debug(r);break;case bs.ERROR:Np.error(r);break;case bs.INFO:Np.info(r);break;case bs.WARN:Np.warn(r);break;case bs.TRACE:Np.trace(r)}}},{key:"trace",value:function(t){this.all(bs.TRACE,t)}},{key:"debug",value:function(t){this.all(bs.DEBUG,t)}},{key:"info",value:function(t){this.all(bs.INFO,t)}},{key:"warn",value:function(t){this.all(bs.WARN,t)}},{key:"error",value:function(t){this.all(bs.ERROR,t)}}])}(),I(G,"_logLevel",bs.ERROR),I(G,"_logFunc",void 0),G);function qr(t){var r;window.console&&(t instanceof Error||m.isString(t)?(r=t,V.navInfoSync.bIE&&(r=m.stringify(t))):r=m.stringify(t),window.console.error(r))}var oR,gf="127.0.0.1";he.bAndroid&&he.bSSL&&(gf="local.dynamsoft.com"),oR=oC.toLowerCase()=="0"?"Dynamic Web TWAIN "+[ta,iC].join("."):"Dynamic Web TWAIN "+[ta,iC,oC].join(".");var xl={JSVersion:AK,ServerVersionInfo:zv,ServerLinuxVersionInfo:zv,ServerMacVersionInfo:zv,ServerAndroidVersionInfo:zv,ActiveXVersion:"18,0,0,1025",ActiveXPdfVersion:"11.5.2.0312",PdfVersion:"11.5.2.0312",PdfLinuxVersion:"11.5.2.0312",PdfMacVersion:"11.5.2.0312"},DK={ProductName:oR,Containers:void 0,ContainerMap:{},WebTwainIdMap:{},RemoteScanIdMap:{},Trial:!1,ResourcesPath:"Resources",Debug:!1,IfUpdateService:!1,AutoLoad:!0,ReConnectToService:!0,OnWebTwainReady:!1,OnWebTwainError:function(t){qr(t)},OnWebTwainNotFound:!1,OnWebTwainOldPluginNotAllowed:!1,OnWebTwainNeedUpgrade:!1,OnWebTwainNeedUpgradeWebJavascript:!1,OnWebTwainInitMessage:!1,ViewerJSIntegerited:!0,ActiveXInstallWithCAB:!1,IfUseActiveXForIE10Plus:!1,IfUseEmbeddedDownloadNoticeForActiveX:!1,IfCheckDCP:!1,IfDisableDefaultSettings:!1,OnWebTwainWillInit:!1,IfAddMD5InUploadHeader:!1,IfAlwaysFocusOnPopupWindow:!0,IfConfineMaskWithinTheViewer:!1,fetchOptions:{mode:"cors",credentials:"same-origin"},HideTrialMessage:!1,CheckCertExpired:!0,ConnectWithSocket:!1,SSLPort:18623,Port:18622,showLoadingMsgDialog:!0,licenseServer:void 0,sessionPassword:void 0,organizationID:void 0,handshakeCode:void 0,UseDefaultViewer:!0,Host:gf,DeviceFriendlyName:"",LocalHosts:["127.0.0.1","localhost","local.dynamsoft.com"],IfCheckCORS:!1,IfCheckCert:!0,IfChromeExtension:!1,IfLoadResources:!0,IfResourcesAddTimestamp:!0,IfCheckCssFiles:!0,EnableLocalNetworkMixedContent:!1};function Yi(){var t=V.DWT.Host;return m.isString(t)&&t!=""||(V.DWT.Host=t=gf),t}function PK(){var t=300,r=V.DWT.RemoteScanConfig;return r&&m.isNumber(r.sessionTimeout)&&r.sessionTimeout>0&&(t=r.sessionTimeout),t}var cC={URL:"",UpdateDaysBeforeExpired:30},aR=he.bWin,RK=he.bMac,kK=he.bLinux,NK=he.bSafari,FK=he.bFirefox,OK=he.bChrome,MK=location.hostname,Cs=location.pathname,dC=0,Yv=he.bMobile,sR=parseFloat(he.strBrowserVersion);if(he.bWin||he.bMac||he.bLinux||he.bChromeOS){if(V.navInfo){var Jv=V.navInfo;Yv=Yv||Jv.bAndroid||Jv.bPad||Jv.biPhone||Jv.biPad}}else Yv=!0;MK===""?aR&&Cs.lastIndexOf("\\")>1?Cs=Cs.substring(1,Cs.lastIndexOf("\\")).replace(/%20/g," "):(dC=1,Cs=Cs.substring(1,Cs.lastIndexOf("/")).replace(/%20/g," ")):(dC=1,Cs=Cs.substring(0,Cs.lastIndexOf("/")));var Tn={bChrome:OK,bFirefox:FK,bSafari:NK,bIE:he.bIE,bEdge:he.bEdge,bWin:aR,bMac:RK,bLinux:kK,iPluginLength:0,bFileSystem:he.bFileSystem,bMobile:Yv,strIEVersion:he.IEVersion,strChromeVersion:he.bChrome?sR:"",strFirefoxVersion:he.bFirefox?sR:"",basePath:Cs,pathType:dC,isDesktopViewer:function(){return he.bWin||he.bLinux||he.bChromeOS||he.bMac},isPadViewer:function(){return he.bPad||he.biPad},isMobileViewer:function(){return he.bMobile||he.biPhone||he.bAndroid||he.bHarmonyOS},WSVersion:"18.5.0",WSSession:new Date().getTime(),bDiscardBlankImage:Fe},qv=!0,fC=!1,Al=he.bHTML5Edition,hC=0,Xv=fC;he.bIE&&((hC=he.IEVersion)===""||hC>=10?V.DWT.IfUseActiveXForIE10Plus?(Al=fC,Xv=qv,he.bHTML5Edition=Al):Al=qv:(Al=fC,hC>=9&&(Xv=qv))),Xv||Al||(Al=qv);var Zt={SSLPort:18626,Port:18625,bEnhancedMode:!1,oldDWASMVerStr:"dwasm_13000404",oldDWASMVer:[13,0,0,"0404"],wsProtocol:"dwt_command",managerVersion:ZP,managerVersionMac:$P,managerVersionLinux:eR,serviceVersion:tR,serviceVersionMac:rR,serviceVersionLinux:nR,detect:{dcpStatus:0,ddmPort:0,dwtPort:0,dwtSSLPort:0,bConnected:!1,connectedResult:"",MaxManagerModuleConnectCount:1,EnumDCP_DetectStatus:{Init:0,Connected:1,CheckingManagerVer:15,CheckingServiceVer:16,NotInstalled:17,CheckedService:5,VerifyingZip:6,VerifiedZip:7,UpdatingService:8,UpdateSucceed:9,UpdateFailed:10,UpdateSkipped:11}},strSID:"",b64bit:!0,objEnhancedPorts:{}};function Zv(t){var r=Fp(),i=t;return i||(i=he.bWin?".msi":he.bMac?".pkg":V.navInfo.bArm64?"-arm64.deb":V.navInfo.bMips64?"-mips64el.deb":V.navInfo.bAndroid?".apk":he.bLinux||he.bChromeOS||he.bHarmonyOS?".deb":".msi"),[r,"DynamicWebTWAINServiceSetup",i].join("")}function Fp(){var t,r,i=Ne.refServiceInstallerLocation||null;if(!i){var o;if(e.CoreModule&&e.CoreModule.engineResourcePaths?(t=e.CoreModule.engineResourcePaths.dwt,r=e.CoreModule.engineResourcePaths.rootDirectory):(o=window)!==null&&o!==void 0&&(o=o.Dynamsoft)!==null&&o!==void 0&&(o=o.Core)!==null&&o!==void 0&&(o=o.CoreModule)!==null&&o!==void 0&&(o=o.engineResourcePaths)!==null&&o!==void 0&&o.dwt&&(t=window.Dynamsoft.Core.CoreModule.engineResourcePaths.dwt,window.Dynamsoft.Core.CoreModule.engineResourcePaths.rootDirectory&&(r=window.Dynamsoft.Core.CoreModule.engineResourcePaths.rootDirectory)),t&&(m.isString(t)||m.isString(t.serviceInstallerLocation)&&(i=t.serviceInstallerLocation),m.isString(i))&&!(m.startsWith(i,"https://")||m.startsWith(i,"http://"))){if(r&&m.isString(r)&&r.length>0){var u="";r.charAt(r.length-1)=="/"||(u="/"),i=[r,u,i].join("")}}if(m.isString(i)||(i=V.DWT.ServiceInstallerLocation||""),m.isString(i)&&i.length>0)i[i.length-1]!="/"&&(i+="/");else{var d=uR();if(m.isString(d)&&d.length>0){var l="";d.charAt(d.length-1)=="/"||(l="/"),i=[d,l,"dist/"].join("")}else i="Resources/dist/"}Ne.refServiceInstallerLocation=i}return i}function uR(){var t=Ne.refResourcesPath||null;if(!t){var r,i,o;if(e.CoreModule&&e.CoreModule.engineResourcePaths?(r=e.CoreModule.engineResourcePaths.dwt,i=e.CoreModule.engineResourcePaths.rootDirectory):(o=window)!==null&&o!==void 0&&(o=o.Dynamsoft)!==null&&o!==void 0&&(o=o.Core)!==null&&o!==void 0&&(o=o.CoreModule)!==null&&o!==void 0&&(o=o.engineResourcePaths)!==null&&o!==void 0&&o.dwt&&(r=window.Dynamsoft.Core.CoreModule.engineResourcePaths.dwt,window.Dynamsoft.Core.CoreModule.engineResourcePaths.rootDirectory&&(i=window.Dynamsoft.Core.CoreModule.engineResourcePaths.rootDirectory)),r&&(m.isString(r)?t=r:m.isString(r.resourcesPath)&&(t=r.resourcesPath),m.isString(t))&&!(m.startsWith(t,"https://")||m.startsWith(t,"http://"))){if(i&&m.isString(i)&&i.length>0){var u="";i.charAt(i.length-1)=="/"||(u="/"),t=[i,u,t].join("")}}m.isString(t)||(t=V.DWT.ResourcesPath||""),!he.bFileSystem&&(t!==void 0&&t!=""||(t=Tn.basePath||""),t.length>0&&t.charAt(t.length-1)=="/"&&(t=t.substr(0,t.length-1)),Ne.refResourcesPath=t)}return t}var Ne={name:"Dynamic Web TWAIN",bHTML5Edition:Al,bActiveXEdition:Xv,_iImageCaptureDriverType:3,_iBrokerProcessType:1,getChromeEditionPath:Zv,getPKGPath:function(){return Fp()+"DynamicWebTWAINMacEdition.pkg"},getMSIPath:function(){return Fp()+"DynamicWebTWAINPlugIn.msi"},getActiveXCABx86Path:function(){return Fp()+"DynamicWebTWAIN.cab"},getActiveXCABx64Path:function(){return Fp()+"DynamicWebTWAINx64.cab"},onlineResources:"https://demo.dynamsoft.com/DWT/Resources/",strMIMEType:"Application/DynamicWebTwain-Plugin",strFullClassID:"E7DA7F8D-27AB-4EE9-8FC0-3FEC9ECFE758",scripts:{},dwtConfigLoaded:!1,dwtConfigLoading:!1,getServerVersionInfo:function(t){var r=xl.ServerVersionInfo;return he.bWin||(he.bMac?r=xl.ServerMacVersionInfo:he.bAndroid?r=xl.ServerAndroidVersionInfo:(he.bLinux||he.bChromeOS||he.bHarmonyOS)&&(r=xl.ServerLinuxVersionInfo)),t?r:m.replaceAll(r,",","")},getDWTPrefix:function(){return V.DWT.CustomMode===!0?"dwtc_":"dwt_"},loadResourcePath:!1,loadingResourcePath:!1,handshakeCode:void 0,organizationID:void 0,licenseServer:void 0,sessionPassword:"",bPublicLTS:!0,refProductKey:void 0,ltsDebug:!1,bDWTLoading:!1,bDWTUnloading:!1,bAndroidConnected:!1,unloadQueue:[],appendBrowserLicenseWhenServiceMode:function(){},bDCPChecked:!1,bDWTChecked:!1,bUseDynamsoftLicenseManager:!1,bChromeEdition:Al,bIgnoreHttpsMixedContent:!1,bPortChanged:!1},vn={bFullEdition:!1,getVersionStrForCheck:function(){return"".concat(ta,"000000")},versionInfoFromServer:"",hostForCheckCert:gf,RemoteReconnectMaxTimes:200,RemoteReconnectTimeSpan:5e3,LocalReconnectMaxTimes:60,LocaleReconnectTimeSpan:3e3,HttpConnectTimeout:he.bSSL?3e3:1e3,WebSocketConnectTimeout:he.bSSL?1e3:600};function vf(){return vn.HttpConnectTimeout}function Op(){return vn.WebSocketConnectTimeout}function td(t){return function(r){return r=="localhost"||r=="127.0.0.1"}(t)?(Ne.bIgnoreHttpsMixedContent||!he.bSSL||!V.DWT.EnableLocalNetworkMixedContent)&&he.bSSL:he.bSSL}function In(){return td(V.DWT.Host)}function Ji(){return Ne.bUseDynamsoftLicenseManager?m.isString(Ne.refProductKey)&&(m.startsWith(Ne.refProductKey,"DLS2")||Ne.refProductKey===""):m.isString(Ne.handshakeCode)||m.isString(Ne.organizationID)||Ne.bPublicLTS||m.isString(V.DWT.ProductKey)&&m.startsWith(V.DWT.ProductKey,"DLS2")}function Do(t){if(t===void 0)return!0;var r;if(t){for(r=0;r<V.DWT.LocalHosts.length;r++)if(t===V.DWT.LocalHosts[r])return!0}return!1}function lR(t){return t.indexOf("text/json")!=-1||t.indexOf("application/json")!=-1}function rd(t){return t==="text/json"||t==="application/json"}var qi=function(t){return t.LicenseInvalid=-2325,t.LicenseExpired=-2326,t.LicenseParseFailed=-2546,t.LicenseExpiredForDLS=-2808,t.LicenseNoCoreForDLS=-2809,t.LicenseNoCore=-2810,t.LicenseIsFuture=-2396,t.LicenseVersionNotCurrent=-2539,t}({});function Me(t,r,i){t._errorCode=r,t._errorString=i}function yn(t){var r=V.DWT.licenseException;r.code=t._errorCode,r.message=t._errorString,r.fromLTS=!1}function gi(){return V.DWT.IfChromeExtension?"":"Please contact the site administrator."}V.DWT.EnumDWT_LicenseErrorCode=qi;var er=function(t){return t.UserCancelled=-1032,t.CORSErrorFromService=-2137,t.CommonError=-2201,t.ModuleNotExists=-2371,t.MustUpgrade=-2207,t.RemoteDynamsoftServiceStopped=-2613,t.ResponseDataTypeError=-2801,t.HTSTError=-2817,t.SSLCertExpired=-2818,t.SSLCertInvalid=-2819,t.CORSError=-2820,t.DWTPortNotReady=-2821,t.HTTPRedirected=-2823,t.BboError=-2827,t.HTTPServerError=-2842,t.ChromeLNADenied=-2909,t}({});function nr(t){Me(t,-1033,"Invalid index.")}function ki(t){Me(t,-1034,"Invalid value.")}function Ii(t){Me(t,-1035,"There is no image.")}function cR(t){Me(t,-1110,"Unrecognized file extension.")}function dR(t){Me(t,-2007,"The system is busy, some operations are not completed. Please try later.")}function yf(t,r){var i=r?["[",r,"]"].join(""):"your device";Me(t,er.MustUpgrade,"The Dynamic Web TWAIN Service installed on "+i+" is outdated and no longer works with the JavaScript code on the website.")}function Mp(t){Me(t,-2209,"The HTML5 edition does not support this method or property.")}function pC(t){Me(t,-2300,"Http upload error: the HTTP Server name/ip cannot be empty.")}function $v(t){Me(t,-2301,"Network error.")}function mC(t){Me(t,-2302,"The result format is invalid.")}function gC(t,r,i,o){if(r)Ia(t);else if(t._errorCode=-2003,o&&o>0||i){var u;u=o&&o>=200&&o<300?["HTTP process: "]:["HTTP process error: "],i&&(i.indexOf("HTTP process error: ")>=0&&(u=[""]),u.push(i)),o&&o>0&&(u.push(" ("+o+")"),o>=300&&(t._errorCode=er.HTTPServerError));var d=u.toString().lastIndexOf(".");d>=0&&d==u.toString().length-1?t._errorString=u.join(""):t._errorString=u.join("")+"."}else t._errorString="HTTP process error."}function fR(t){Me(t,-2304,"Http download error: the url is invalid.")}function hR(t,r,i,o){if(r)Me(t,-2305,"User cancelled the operation.");else if(t._errorCode=-2003,o&&o>0||i){var u=["HTTP put error: "];i&&(i.indexOf("HTTP put error: ")>=0&&(u=[""]),u.push(i)),o&&o>=300&&(t._errorCode=er.HTTPServerError);var d=u.toString().lastIndexOf(".");d>=0&&d==u.toString().length-1?t._errorString=u.join(""):t._errorString=u.join("")+"."}else t._errorString="HTTP put error."}function vC(t,r,i,o){if(r)Me(t,-2305,"User cancelled the operation.");else if(t._errorCode=-2003,o&&o>0||i){var u=["HTTP process error: "];i&&(i.indexOf("HTTP process error: ")>=0&&(u=[""]),u.push(i));var d=u.toString().lastIndexOf(".");d>=0&&d==u.toString().length-1?t._errorString=u.join(""):t._errorString=u.join("")+"."}else t._errorString="HTTP process error."}function zn(t){Me(t,-2306,"Upload Error: the upload file cannot be empty.")}function pR(t){Me(t,-2307,"The width or height you entered is invalid.")}function nu(t){Me(t,-2313,"The size of the images you are about to upload has exceeded the limit.")}function io(t){Me(t,-2314,"The parameter cannot be empty.")}function nd(t){Me(t,-2320,"Invalid file.")}function Ta(t){Me(t,qi.LicenseInvalid,Ji()?"The license is invalid.":"The current product key is empty or invalid."),yn(t)}var yC,Lp,LK=["January","February","March","April","May","June","July","August","September","October","November","December"];function _C(t){if(V.DWT&&m.isFunction(V.DWT.GetFormatedDate))return V.DWT.GetFormatedDate(t);var r,i,o=t;o=o.replace(/-/g,"/"),r=Date.parse(o),isNaN(r)&&(r=0);var u=(i=new Date(r)).getFullYear(),d=LK[i.getMonth()],l=i.getDate();return"".concat(d," ").concat(l,", ").concat(u)}function mR(t,r,i){t._errorCode=qi.LicenseExpired;var o="",u=i?"Dynamic Web TWAIN":"document scanning SDK";if(r&&r!=""&&(r.indexOf("on")==-1&&(o=" on "+_C(r)),t.__licenseInfo&&(t.__licenseInfo.ExpireDate=r)),Ji()){var d,l,c,p;d=V.DWT.lgdt(),t._bRemoteMode?l=(c=(p=t._dmService)===null||p===void 0||(p=p.attrs)===null||p===void 0?void 0:p.UUID)!==null&&c!==void 0?c:"":l="",t._errorString="The "+u+" license expired"+o+". Please contact the website developer for further assistance.",V.DWT.lcexp(d,l).then(function(){t._errorString=V.DWT.licenseException.message})}else t._errorString="The "+u+" product key expired"+o+". Please contact the website developer for further assistance.",yn(t)}function Wp(t,r){Ji()?r==111?(t._errorCode=qi.LicenseExpiredForDLS,t._errorString="The license for v"+ta+" Service Core Module has expired."):(t._errorCode=qi.LicenseNoCoreForDLS,t._errorString="The license for v"+ta+" Service Core Module is not found."):(t._errorCode=qi.LicenseNoCore,t._errorString="The product key for the current operating system is missing the Service Core license. "+gi()),yn(t)}function _f(t){t._errorCode=-2339,Ji()?t._errorString="The license for the module pdf rasterizer is not found or has expired.":t._errorString="The current product key does not support pdf rasterizer. "+gi(),yn(t)}function gR(t){Me(t,-2350,"The indices cannot be empty.")}function Sf(t){Me(t,-2351,"You cannot upload more than one image when the format is BMP, JPG or PNG")}function SC(t){Me(t,-2352,"The indices are out of range.")}function WK(t){Me(t,-2353,"The header name being used is a protected keyword and is not allowed.")}function id(t){Me(t,-2358,"The type of the parameter indices must be an Array.")}function nt(t){Me(t,-2359,"The index is out of range.")}function bC(t){Me(t,-2360,"The index is null or undefined.")}function go(t){Me(t,-2362,"The image type is not supported.")}function vR(t){Me(t,-2363,"The data format is not supported.")}function jp(t){Me(t,-2365,"The url is invalid.")}function jK(t){Me(t,-2366,"Converting images to a base64 string failed.")}function CC(t){Me(t,-2376,"The generate url failed.")}function ey(t){Me(t,-2377,"Failed to set Image Capture Driver Type.")}function yR(t){Me(t,-2391,"Invalid event name.")}function _R(t){Me(t,-2393,"Failed to convert the data to blob.")}function SR(t){Me(t,-2399,"Invalid imageId.")}function BK(t,r){Me(t,-2401,"Failed to load image: "+function(i){return m.isString(i)?i:("errorMessage"in i&&(o=i.errorMessage),"message"in i&&(o=i.message),m.isString(o)||(o="message"in o?o.message:""),"errorCode"in i&&o.indexOf("(")==-1&&(o+="("+i.errorCode+")"),"code"in i&&o.indexOf("(")==-1&&(o+="("+i.code+")"),o);var o}(r))}function mr(t){Me(t,-2416,"Invalid parameter.")}function UK(t){Me(t,-2426,"You have used a full license with a trial license which is not permitted. Please check and update Dynamsoft.DWT.ProductKey.")}function bR(t){Me(t,-2510,"The callback is not a function.")}function CR(t){Me(t,-2513,"The WebTwain instance has been destroyed and can not be used anymore.")}function TC(t){Me(t,-2530,"Document name cannot be empty.")}function Bp(t){Me(t,-2531,"Document name is not a string.")}function ty(t){Me(t,-2548,"You cannot call this function when Dynamsoft.DWT.UseDefaultViewer is set to false.")}function IC(t){Me(t,-2549,"You cannot call this function when there is no ui binding.")}function Kn(t){Me(t,0,"")}function TR(t){var r=t;return r||(r="[]"),{code:-2601,message:"Failed to connect to the Dynamic Web TWAIN Service on "+r+". Please make sure Dynamic Web TWAIN Service is running or the certificate is valid."}}function VK(){return{code:-2602,message:'The parameter "SendTo" is invalid.'}}function IR(){return{code:-2604,message:"Failed to connect to the Proxy Service. Please make sure the Proxy Service is configured successfully, Dynamic Web TWAIN Service is running, or the certificate is valid."}}function wR(t){var r;return t._bRemoteMode?TR((r=t._dmService)===null||r===void 0||(r=r.attrs)===null||r===void 0?void 0:r.name).message:"The Dynamic Web TWAIN Service has been stopped."}function ER(t){Me(t,-2607,"The device selected was not found under the current service object.")}function wC(t){Me(t,-2608,"IfShowFileDialog cannot be set to true when Object is created by CreateRemoteScanObjectAsync.")}function GK(){return{code:-2612,message:"The devices must be an Array."}}function od(t,r){m.isString(r)&&r!=""?Me(t,er.RemoteDynamsoftServiceStopped,"The Dynamic Web TWAIN Service on ["+r+"] has been stopped."):Me(t,-2308,"The Dynamic Web TWAIN Service has been stopped.")}function HK(t){Me(t,-2614,"The Dynamic Web TWAIN Service has been restarted.")}function Ia(t){Me(t,-2615,"User cancelled the operation.")}function xR(t){Me(t,-2616,"Invalid image format type.")}function zK(t){Me(t,-2617,"ShareImages is only supported on Android devices.")}function KK(t){Me(t,-2618,"Only single index selection is allowed when enumImageType is set to BMP, JPG or PNG.")}function QK(t){Me(t,-2619,"Only single index selection is allowed when enumImageFormatType is set to url.")}function ra(t){Me(t,-2620,"The RemoteScan object has been disposed.")}function AR(t){Me(t,-2621,"Dynamsoft.DWT.Containers was not set.")}function DR(t){Me(t,-2622,'Please do not set enumImageType to "IT_MULTIPAGE_PDF", "IT_MULTIPAGE_TIF" or "IT_ALL".')}function YK(t){Me(t,-2623,"Saving multiple images is not allowable when the selected output format is BMP, JPG or PNG.")}function JK(t){Me(t,-2624,"The element within Dynamsoft.DWT.Containers should be a valid object.")}function bf(t){Me(t,-2800,IK)}function Po(t){Me(t,er.ResponseDataTypeError,"Invalid response data was returned from the Dynamic Web TWAIN Service.")}function qK(){return{code:-2806,message:'Error: The argument passed to the parameter "conatinerId" is not a string.'}}function PR(t){return{code:-2807,message:'Error: The element specified by the id "'+t+`" doesn't exist.`}}function XK(t,r){Me(t,-2811,r)}function RR(t){Me(t,-2812,EK)}function kR(t){Me(t,-2815,wK)}function NR(t,r,i){Me(t,-2816,["HTTP process error: ",i," (",r,")."].join(""))}function FR(){return{code:er.HTSTError,message:"The Connection from the insecure (HTTP) web page failed for HTST."}}function ZK(){return{code:er.SSLCertExpired,message:"The Dynamic Web TWAIN Service SSL certificate has expired."}}function $K(){return{code:er.SSLCertInvalid,message:"The Dynamic Web TWAIN Service SSL certificate is invalid."}}function eQ(){return{code:er.CORSError,message:'The Connection from the insecure (HTTP) web page to the local "Dynamic Web TWAIN Service" failed!'}}function EC(){return{code:er.DWTPortNotReady,message:"The Dynamic Web TWAIN Service is not ready, please try again later."}}function Cf(){return{code:-2825,message:"Failed to setup the Default Dynamic Web TWAIN Service."}}function tQ(t){return{code:-2826,message:"Failed to connect the Dynamic Web TWAIN Service on ["+t+"]."}}function rQ(){return{code:-2827,message:"Failed to get Machine ID."}}function xC(t){Me(t,-2828,"Invalid PDF Convert Mode Value.")}function nQ(t){Me(t,-2844,"Only Blob of JPEG, PNG, BMP, TIFF and PDF image types can be saved.")}function iQ(t){Me(t,-2848,"The capability value is out of range.")}function oQ(t){Me(t,-2853,"The imageId cannot be empty.")}function OR(t){Me(t,-2854,"The imageId does not exist.")}function aQ(t){Me(t,-2855,"The blob cannot be empty.")}function sQ(t){Me(t,-2857,"Invalid blob value.")}function ry(t){Me(t,-2901,"Source document does not exist. Please check the document name or create the document before performing this operation.")}function ny(t){Me(t,-2902,"Target document does not exist. Please check the document name or create the document before performing this operation.")}function AC(t){Me(t,-2906,"After initialization, the product key cannot be changed.")}function uQ(t){Me(t,-2909,"Local network access is blocked.")}var MR=he.bIE&&he.IEVersion<=9;yC=self&&self.fetch?self.fetch:window.fetch;var iy=0;function DC(t,r){var i,o=!1;return iy=r,yC?i=function(u,d){var l=!1,c="text",p=!1;if(d&&(d.dataType&&(c=d.dataType),d.fetchRaw&&(p=!0),d.timeout)){var g=d.timeout;g<300&&(g=300);var S=new AbortController;d.signal=S.signal,setTimeout(function(){l||S.abort("timeout")},g)}o=!1;var v=yC(u,d).then(function(b){if(b.ok){var C,D;if(l=!0,!t)return b;if(t.__clickCancel)return t.__clickCancel=!1,t.__cancelBeforObjectCreated=!1,o=!0,b;t.IfShowCancelDialogWhenImageTransfer?(Mu(!0),D=t.on("cancel",function(){o=!0})):Mu(!1);var M=b.headers.get("Content-Length"),j=0;t._onPercent&&iy==r&&t._onPercent({loaded:j,total:M});var Y=b==null||(C=b.body)===null||C===void 0?void 0:C.getReader(),ee=new ReadableStream({start:function(Z){var ne=function(){return Y.read().then(function(X){if(X.done||o)return o?Y.cancel():D&&t.off("cancel",D),Z.close(),void(D=null);var F=X.value;j+=F.length,t._onPercent&&iy==r&&t._onPercent({loaded:j,total:M});try{return Z.enqueue(F),ne()}catch(B){m.error(B)}})};Y?setTimeout(ne,0):Z.close()}}),te=b.headers.get("Content-Type");return te&&te!=""||(te="application/octet-stream"),new Response(ee,{headers:{"Content-Type":te}})}if(b.type=="opaqueredirect")throw{code:er.HTTPRedirected,message:"The http url redirected."};var de;throw NR(de={},b.status,b.statusText),{code:de._errorCode,message:de._errorString,httpCode:b.status}});return p?v:(v=c=="blob"?v.then(function(b){var C=b.headers.get("content-type");return rd(C)?b.json():he.bLinux?b.arrayBuffer().then(function(D){return new Blob([D],{type:C})}):b.blob()}):c=="json"?v.then(function(b){return b.json()}):c=="arraybuffer"?v.then(function(b){return rd(b.headers.get("content-type"))?b.json():b.arrayBuffer()}):v.then(function(b){return b.text()})).then(function(b){var C;if(o)throw Ia(C={}),{code:C._errorCode,message:C._errorString};return b})}:(MR&&m.addVBS([`Function dsVbsBinGetAt(strBinary,iOffset)\r
`,` dsVbsBinGetAt=AscB(MidB(strBinary,iOffset+1,1))\r
`,`End Function\r
`,`Function dsVbsBinGetBytes(strBinary,iOffset,iLength)\r
`,` Dim aBytes()\r
`,` ReDim aBytes(iLength-1)\r
`,` For i=0 To iLength-1\r
`,`  aBytes(i)=dsVbsBinGetAt(strBinary,iOffset+i)\r
`,` Next\r
`,` dsVbsBinGetBytes=aBytes\r
`,`End Function\r
`,`Function dsVbsBinGetLength(strBinary)\r
`,` dsVbsBinGetLength=LenB(strBinary)\r
`,"End Function"].join("")),i=function(u,d){return new(Q.nativePromise||window.Promise)(function(l,c){var p,g=!1;p={url:u,async:!0,onSuccess:function(v,b,C){var D=!1;if(C.responseHeadersString&&lR(C.responseHeadersString)&&(m.isArray(v)||v instanceof ArrayBuffer)&&(D=!0),D){var M=v;v instanceof ArrayBuffer&&(M=new Uint8Array(v));var j=String.fromCharCode.apply(null,M);l(j)}else l(v)},onError:function(v,b,C){var D;NR(D={},C.status,b),c({code:D._errorCode,message:D._errorString,httpCode:C.status})},dataType:"text",method:Lp,data:Lp,headers:Lp,contentType:Lp,mimeType:Lp},d&&(d.method&&(p.method=d.method),d.body&&(p.data=d.body),d.headers&&(p.headers||(p.headers={}),m.each(d.headers,function(v,b){b.toLowerCase()=="content-type"&&(g=!0),p.headers[b]=v})),d.dataType&&(p.dataType=d.dataType),d.contentType&&(p.contentType=d.contentType),m.isNumber(d.timeout)&&d.timeout>0&&(p.timeout=d.timeout)),g&&(p.contentType=!1),p.dataType=="blob"&&MR&&(p.mimeType="text/plain; charset=x-user-defined"),t&&(t._onPercent&&(p.beforeSend=function(v,b,C){v.upload.addEventListener("progress",function(D){t._onPercent&&iy==r&&t._onPercent(D)},!1)}),t.IfShowCancelDialogWhenImageTransfer?Mu(!0):Mu(!1));var S=Ca(p);t&&t.IfShowCancelDialogWhenImageTransfer&&t.on("cancel",function(){S.abort()})})}),i}var Tf=DC(null,0);function Mu(t){var r=m.sizzle(".dynamsoft-btnCancel");if(r.length>0){var i=r[0];i.style.display=t?"":"none"}}String.prototype.startsWith||(String.prototype.startsWith=function(t){return this.indexOf(t)==0});var LR=function(t){var r,i=t,o=i._license||"",u=JSON.parse(JSON.stringify(i._licenseServer)),d=i._sessionPassword,l=0;if(o.startsWith("t")||o.startsWith("f"))l=0;else if(o.length===0||o.startsWith("P")||o.startsWith("L")||o.startsWith("Y")||o.startsWith("A"))l=1;else{l=2;var c=o.indexOf(":");if(c!=-1&&(o=o.substring(c+1)),o.startsWith("DLS2")){var p;try{var g=o.substring(4);g=J.Lib.atob(g),p=JSON.parse(g)}catch{throw new Error("Format Error: The license string you specified is invalid, please check to make sure it is correct.")}if(typeof(o=p.handshakeCode?p.handshakeCode:p.organizationID?p.organizationID:"")=="number"&&(o=JSON.stringify(o)),u.length===0){var S=[];p.mainServerURL&&(S[0]=p.mainServerURL),p.standbyServerURL&&(S[1]=p.standbyServerURL),u=function(v){if(v==null)v=[];else{v instanceof Array||(v=[v]);for(var b=0;b<v.length;++b){if(document&&document.createElement){var C=document.createElement("a");C.href=v[b],v[b]=C.href}v[b].lastIndexOf("/")!=v[b].length-1&&(v[b]+="/")}}return v}(S)}!d&&p.sessionPassword&&(d=p.sessionPassword),r=p.remark}o&&o!=="200001"&&!o.startsWith("200001-")||(l=1)}return l===1&&(o=""),{lt:l,l:o,ls:u,sp:d,rmk:r}},ad=y(function t(r,i,o,u,d){h(this,t),this.server=r,this.port=i,this.ssl=o,this.useWS=u,this.protocol=d});function WR(t,r){return(t==null?void 0:t.port)==(r==null?void 0:r.port)&&(t==null?void 0:t.protocol)==(r==null?void 0:r.protocol)&&(t==null?void 0:t.server)==(r==null?void 0:r.server)&&(t==null?void 0:t.ssl)==(r==null?void 0:r.ssl)&&(t==null?void 0:t.useWS)==(r==null?void 0:r.useWS)}var Ts=function(t){return t.OK=0,t.Custom=-1,t.NWB=-4200,t.WS_DISCONN=-4201,t.CB=-5e3,t.JSON_REQUIRED=-5001,t.OBJECT_DISPOSED=-5002,t.INVALID_TASK=-5003,t.OBJECT_DISPOSING=-5004,t}({}),Up=function(t){return t.WS_DISCONN="The Web Socket connection failed.",t.JSON_REQUIRED="The input is not a JSON object or JSON styled string.",t.OBJECT_DISPOSED="The object has been disposed.",t.INVALID_TASK="The task is invalid.",t.OBJECT_DISPOSING="The object need to be disposed.",t}({}),PC=function(){return y(function t(){h(this,t)},null,[{key:"message",value:function(t){return this._errorMessage[t]}},{key:"init",value:function(){this._errorMessage[Ts.OK]="Successful.",this._errorMessage[Ts.WS_DISCONN]=Up.WS_DISCONN,this._errorMessage[Ts.JSON_REQUIRED]=Up.JSON_REQUIRED,this._errorMessage[Ts.OBJECT_DISPOSED]=Up.OBJECT_DISPOSED,this._errorMessage[Ts.INVALID_TASK]=Up.INVALID_TASK,this._errorMessage[Ts.OBJECT_DISPOSING]=Up.OBJECT_DISPOSING}}])}();I(PC,"_errorMessage",Object.create(null)),PC.init();var wa=function(){return y(function t(r,i){h(this,t),I(this,"_code",Ts.OK),this.name="DSError",this.message=i??(typeof r=="string"?r:PC.message(r)),this._code=typeof r=="string"?Ts.Custom:r},[{key:"code",get:function(){return this._code}}])}();function kr(t){return{code:t._errorCode,message:t._errorString}}function na(t){return"exception"in t&&"description"in t&&t.exception!=0&&t.description!=""}function vo(t){return t&&"cause"in t?t.cause:null}function jR(t){return t==-1416}var _n=function(t){return t.GET_TASKID=0,t.GET_EVENT_TASKID=1,t.ONMESSAGE_PROCESS_DATA=2,t.ONMESSAGE_GET_TASKID=3,t.ONMESSAGE_GET_EVENT_TASKID=4,t.HANDLE_RAW_MESSAGE=5,t.HANDLE_PROCESSED_MESSAGE=6,t}({}),BR=function(){return y(function o(u){h(this,o),I(this,"_serverInfo",void 0),I(this,"_disposed",!1),this._serverInfo=u,this._ref=1},[{key:"serverInfo",get:function(){return this._serverInfo}},{key:"requestSync",value:function(o,u){return Qv.error("requestSync should be implemented in child class"),void 0}},{key:"request",value:function(o,u,d,l){return Qv.error("request should be implemented in child class"),Promise.resolve(null)}},{key:"send",value:(i=s(E().mark(function o(u,d,l){return E().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:Qv.error("reqsenduestSync should be implemented in child class");case 1:case"end":return c.stop()}},o)})),function(o,u,d){return i.apply(this,arguments)})},{key:"testConnection",value:function(o,u,d,l){return Qv.error("testConnection should be implemented in child class"),Promise.resolve(null)}},{key:"disposed",get:function(){return this._disposed}},{key:"dispose",value:(r=s(E().mark(function o(){return E().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(this._ref--,!(this._ref>0)){u.next=3;break}return u.abrupt("return",!1);case 3:return this._disposed=!0,u.next=6,this._terminate();case 6:case"end":return u.stop()}},o,this)})),function(){return r.apply(this,arguments)})},{key:"_terminate",value:(t=s(E().mark(function o(){return E().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:case"end":return u.stop()}},o)})),function(){return t.apply(this,arguments)})},{key:"addRef",value:function(){this._ref++}}]);var t,r,i}();function lQ(t,r){(function(i,o){if(o.has(i))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,r),r.add(t)}function RC(t,r,i){if(typeof t=="function"?t===r:t.has(r))return arguments.length<3?r:i;throw new TypeError("Private element is not present on this object")}var oy,UR=m.getLogger(),ay=new WeakSet,cQ=function(t){function r(){var o;h(this,r);for(var u=arguments.length,d=new Array(u),l=0;l<u;l++)d[l]=arguments[l];return lQ(o=f(this,r,[].concat(d)),ay),o}return P(r,t),y(r,[{key:"send",value:(i=s(E().mark(function o(u,d,l){return E().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:UR.error("HTTP Client send not supported");case 1:case"end":return c.stop()}},o)})),function(o,u,d){return i.apply(this,arguments)})},{key:"requestSync",value:function(o,u,d){}},{key:"request",value:function(o,u,d,l){return RC(ay,this,VR).call(this,o,u,d,void 0,void 0,l)}},{key:"testConnection",value:function(o,u,d,l){return RC(ay,this,VR).call(this,void 0,void 0,o,u,d,l)}}]);var i}(BR);function dQ(t){var r=this.serverInfo,i="";return i=r.ssl?"https://":"http://",i+=r.server,r.port&&(i+=":",i+=r.port),t&&(m.startsWith(t,"/")||m.endsWith(i,"/")||(i+="/"),m.endsWith(t,"/")?i+=t.slice(0,-1):i+=t),i}function VR(t,r,i,o,u,d){return kC.apply(this,arguments)}function kC(){return kC=s(E().mark(function t(r,i,o,u,d,l){var c,p;return E().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.prev=0,c=o??{},r&&(c.body=r),c.method||(c.method="POST"),l&&(c.timeout=l),p=RC(ay,this,dQ).call(this,i),UR.debug("HTTP URL: "+p),g.next=9,Tf(p,c);case 9:return g.abrupt("return",g.sent);case 12:if(g.prev=12,g.t0=g.catch(0),!(g.t0 instanceof wa||g.t0&&g.t0.code&&g.t0.message)){g.next=18;break}throw g.t0;case 18:if(!g.t0.message){g.next=20;break}throw new wa(g.t0.message);case 20:case"end":return g.stop()}},t,this,[[0,12]])})),kC.apply(this,arguments)}function fQ(t){try{return N(t)==="object"?t:(t=typeof t!="string"?m.stringify(t):t,m.parse(t))}catch(r){throw r instanceof wa?r:new wa(Ts.JSON_REQUIRED)}}function Vp(t){return Math.random().toString(16).substring(2,2+t)}function hQ(t){var r=[Vp(8),"-",Vp(4),"-",Vp(4),"-",Vp(4),"-",Vp(8)];return r.join("")}function pQ(t,r){(function(i,o){if(o.has(i))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,r),r.add(t)}function Gp(t,r,i){return(r=function(o){var u=function(d,l){if(N(d)!="object"||!d)return d;var c=d[Symbol.toPrimitive];if(c!==void 0){var p=c.call(d,l||"default");if(N(p)!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(d)}(o,"string");return N(u)=="symbol"?u:u+""}(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t}function iu(t,r,i){if(typeof t=="function"?t===r:t.has(r))return arguments.length<3?r:i;throw new TypeError("Private element is not present on this object")}var sy,GR,oo=m.getLogger(),Is=new WeakSet,NC=function(t){function r(d){var l;return h(this,r),pQ(l=f(this,r,[d]),Is),Gp(l,"_defaultRetries",1),Gp(l,"_ws",sy),Gp(l,"_events",{}),Gp(l,"_bHeartBeatStarted",!1),Gp(l,"_heartBeatTicks",6e4),l._ws=sy,l.bUseParentWS=!1,l._tasks=Object.create(null),l.bReady=!1,l._blob_callbacks=[],l._processing_blob=!1,l}return P(r,t),y(r,[{key:"ws",get:function(){return this._ws}},{key:"requestSync",value:function(d,l,c){return oo.error("WebSocket Client requestSync not supported"),void 0}},{key:"send",value:(u=s(E().mark(function d(l,c,p){var g,S,v,b;return E().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(g=p.client,C.prev=1,(S=p.taskId)!==void 0){C.next=7;break}return C.next=6,c(l,_n.GET_TASKID,g._requestTaskId,p);case 6:S=C.sent;case 7:if(v=g._tasks[S]){C.next=11;break}throw oo.error("invalid task id: "+S),new wa(Ts.INVALID_TASK);case 11:return C.next=13,iu(Is,g,MC).call(g,!1);case 13:return C.next=15,iu(Is,g,HR).call(g,l,c,p,v);case 15:oo.debug("begin to send data "+S),g.disposed||g._ws.send(l),l=null,oo.debug("end to send data "+S),C.next=27;break;case 21:C.prev=21,C.t0=C.catch(1),oo.debug("failed to send data."),oo.error(C.t0),delete g._tasks[S],(b=v)===null||b===void 0||(b=b.resolver)===null||b===void 0||b.reject(C.t0.message);case 27:case"end":return C.stop()}},d,null,[[1,21]])})),function(d,l,c){return u.apply(this,arguments)})},{key:"request",value:function(d,l,c,p){var g=this._defaultRetries,S=l??iu(Is,this,yQ),v=c??{client:this,userData:this};return iu(Is,this,_Q).call(this,d,S,v,g,!1,void 0,p)}},{key:"connected",get:function(){var d;return((d=this._ws)===null||d===void 0?void 0:d.readyState)==WebSocket.OPEN}},{key:"testConnection",value:function(d,l,c,p){return iu(Is,this,MC).call(this,!0,l??0,c,p)}},{key:"_terminate",value:(o=s(E().mark(function d(){var l,c;return E().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:for(c in oo.debug("terminate WSClient"),this.fireEvent("disposed"),l=!1,this._tasks)this._tasks[c]!==void 0&&this._tasks[c].resolver&&(l=!0);if(this._lic_callback=sy,this._blob_callbacks=[],this._processing_blob=!1,this._ws&&(this._ws.onopen=null,this._ws.onerror=null,this._ws.onmessage=null,this._ws.onclose=null,this._ws.close()),this._ws=sy,this._tasks=Object.create(null),!l){p.next=12;break}throw new wa(Ts.OBJECT_DISPOSING);case 12:case"end":return p.stop()}},d,this)})),function(){return o.apply(this,arguments)})},{key:"setRetry",value:function(d){this._defaultRetries=d??1}},{key:"addEvent",value:function(d,l,c){var p=this._events[d];p||(this._events[d]={},p=this._events[d]),m.isString(l)&&m.isFunction(c)&&(p[l]=c)}},{key:"removeEvent",value:function(d,l){var c=this._events[d];c&&m.isString(l)&&delete c[l]}},{key:"clearEvent",value:function(d){this._events[d]&&(this._events[d]={})}},{key:"fireEvent",value:function(d){var l,c=this._events[d];if(c){var p=Object.keys(c);for(l=0;l<p.length;l++)m.isFunction(c[p[l]])&&c[p[l]]()}}},{key:"getRequestTaskId",value:function(){return this._requestTaskId?this._requestTaskId:0}}],[{key:"_waitForPreBlob",value:(i=s(E().mark(function d(l){return E().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!l._processing_blob){c.next=3;break}return setTimeout(function(){r._waitForPreBlob(l)},500),c.abrupt("return");case 3:r._preBlobResolv&&r._preBlobResolv();case 4:case"end":return c.stop()}},d)})),function(d){return i.apply(this,arguments)})}]);var i,o,u}(BR);function mQ(t){var r="";return r=t.ssl?"wss://":"ws://",r+=t.server,t.port&&(r+=":",r+=t.port),r}function gQ(t,r,i,o){var u=this;return new Q.Promise(function(d,l){try{var c,p,g=l,S=d;if(o&&(p=setTimeout(function(){var D=new wa("createWebSocket timed out.");oo.debug(D.message),g&&(g(D),g=null,S=null),p&&clearTimeout(p),c&&c.close()},o)),t.bUseParentWS){var v=window,b=parent,C=v.WebSocket;try{for(;v!=b&&b&&b.WebSocket;)C=b.WebSocket,v=b.window,b=b.parent}catch{C=window.WebSocket}c=i?new C(r,i):new C(r)}else c=i?new WebSocket(r,i):new WebSocket(r);c.onopen=function(){p&&clearTimeout(p),t._ws=c,S&&(S(c),g=null,S=null)},c.onerror=function(D){c.close(),t.bReady=!1,p&&clearTimeout(p),u.fireEvent("error"),g&&(g(new wa("websocket error")),g=null,S=null)},c.onmessage=function(D){iu(Is,t,vQ).call(t,t,D.data)},c.onclose=function(D){t.bReady=!1,p&&clearTimeout(p),u.fireEvent("close"),g&&(D&&D.code==1006?g(new wa("websocket error")):g(D),g=null,S=null)}}catch(D){if(D instanceof wa||D&&D.code&&D.message)throw D;if(D.message)throw new wa(D.message)}})}function vQ(t,r){return FC.apply(this,arguments)}function FC(){return FC=s(E().mark(function t(r,i){var o,u,d,l,c,p,g,S,v,b;return E().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(o=r,C.prev=1,l={client:o,userData:void 0},N(i)!=="object"){C.next=17;break}if(!(o._blob_callbacks.length>0)){C.next=17;break}if(!o._processing_blob){C.next=9;break}return C.next=8,new Q.Promise(function(D){oy._preBlobResolv=D,oy._waitForPreBlob(o)});case 8:oy._preBlobResolv=null;case 9:return o._processing_blob=!0,c=o._blob_callbacks.shift(),C.next=13,c(i);case 13:return C.sent,o._processing_blob=!1,C.abrupt("return");case 17:if(!(o.bReady&&m.isString(i)&&(i.indexOf("Function not found")>0||i.indexOf("Version not found")>0))){C.next=19;break}return C.abrupt("return");case 19:if(o._cbToGetTaskId){C.next=21;break}return C.abrupt("return");case 21:return C.next=23,o._cbToGetTaskId(i,_n.ONMESSAGE_PROCESS_DATA,o._requestTaskId,l);case 23:return p=C.sent,g=!1,C.next=27,o._cbToGetTaskId(p,_n.ONMESSAGE_GET_TASKID,o._requestTaskId,l);case 27:if(d=C.sent){C.next=36;break}if(!p.Detail||!p.Domain){C.next=32;break}return o._lic_callback&&o._lic_callback(p),C.abrupt("return");case 32:return C.next=34,o._cbToGetTaskId(p,_n.ONMESSAGE_GET_EVENT_TASKID,o._requestTaskId,l);case 34:(d=C.sent)&&(g=!0);case 36:if(u=o._tasks[d]){C.next=46;break}if(!g){C.next=42;break}u={},C.next=44;break;case 42:return d!=""&&oo.log("invalid task id: "+d),C.abrupt("return");case 44:C.next=48;break;case 46:if(!u.timedout){C.next=48;break}return C.abrupt("return");case 48:return v=u.cb?u.cb:o._cbToGetTaskId,C.next=51,v({rawData:i,jsonData:p},_n.HANDLE_RAW_MESSAGE,o._requestTaskId,u.ctx);case 51:if((S=C.sent)!==void 0){C.next=56;break}return C.next=55,v(p,_n.HANDLE_PROCESSED_MESSAGE,o._requestTaskId,u.ctx);case 55:S=C.sent;case 56:S&&!g&&(u.tmid&&clearTimeout(u.tmid),delete o._tasks[d],u.resolver&&u.resolver.resolve(S)),C.next=65;break;case 59:C.prev=59,C.t0=C.catch(1),oo.debug("failed to handle message."),C.t0 instanceof Error?oo.error(C.t0):oo.error(m.stringify(C.t0)),delete o._tasks[d],(b=u)===null||b===void 0||(b=b.resolver)===null||b===void 0||b.reject(C.t0.message);case 65:case"end":return C.stop()}},t,null,[[1,59]])})),FC.apply(this,arguments)}function yQ(t,r,i){return OC.apply(this,arguments)}function OC(){return OC=s(E().mark(function t(r,i,o){var u,d;return E().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:l.t0=i,l.next=l.t0===_n.GET_TASKID?3:l.t0===_n.HANDLE_RAW_MESSAGE?7:9;break;case 3:return(d=fQ(r)).cmdId=(u=d.cmdId)!==null&&u!==void 0?u:hQ(),Q.Promise.resolve(["cmdId"]),l.abrupt("break",9);case 7:return Q.Promise.resolve(r),l.abrupt("break",9);case 9:case"end":return l.stop()}},t)})),OC.apply(this,arguments)}function MC(t,r,i,o){return LC.apply(this,arguments)}function LC(){return LC=s(E().mark(function t(r,i,o,u){var d,l;return E().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!this.connected&&!this.disposed){c.next=2;break}return c.abrupt("return");case 2:if(!(d=this)._connectPromise){c.next=7;break}return c.next=6,d._connectPromise;case 6:return c.abrupt("return");case 7:return i=i??this._defaultRetries,o=o??100,l=iu(Is,d,mQ).call(d,d.serverInfo),oo.debug("WebSocket URL: "+l+", try to create websocket "+i+"/"+o),d._connectPromise=new Q.Promise(function(p,g){var S=function(b){iu(Is,d,gQ).call(d,d,l,d.serverInfo.protocol,u).then(function(C){p(C)}).catch(function(C){oo.debug("create websocket failed: "+C.message),b<i?v(b):g(C)})};function v(b,C,D){setTimeout(function(){S(++b)},o)}S(0)}),c.prev=12,c.next=15,d._connectPromise;case 15:c.next=20;break;case 17:throw c.prev=17,c.t0=c.catch(12),c.t0;case 20:return c.prev=20,d._connectPromise=null,c.finish(20);case 23:case"end":return c.stop()}},t,this,[[12,17,20,23]])})),LC.apply(this,arguments)}function HR(t,r,i,o){return WC.apply(this,arguments)}function WC(){return WC=s(E().mark(function t(r,i,o,u){var d,l,c,p;return E().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(d=this,l=o.eventTaskId,c=o.lastEventTaskId,l!==void 0){g.next=7;break}return g.next=6,i(r,_n.GET_EVENT_TASKID,d._requestTaskId,o);case 6:l=g.sent;case 7:l&&(d._tasks[l]?o&&o.userData&&o.userData.command&&((p=d._tasks[l]).ctx=o,c&&((p=d._tasks[c]).ctx=o)):(p={id:u.id,resolver:null,ctx:o,timedout:!1},d._tasks[l]=p,c&&(d._tasks[c]=p)));case 8:case"end":return g.stop()}},t,this)})),WC.apply(this,arguments)}function _Q(t,r,i,o,u,d,l){return jC.apply(this,arguments)}function jC(){return jC=s(E().mark(function t(r,i,o,u,d,l,c){var p,g,S,v;return E().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return p=this,b.prev=1,o.client=p,b.next=5,iu(Is,p,MC).call(p,d,u,l,c);case 5:if((g=o.taskId)!="0"){b.next=12;break}return p.disposed||p._ws.send(r),r=null,b.abrupt("return");case 12:if(g!==void 0){b.next=16;break}return b.next=15,i(r,_n.GET_TASKID,null,o);case 15:g=b.sent;case 16:return g===void 0&&oo.debug("websocket send: task id is invalid."),(S={}).promise=new Q.Promise(function(C,D){S.resolve=C,S.reject=D}),v={id:g,resolver:S,ctx:o,timedout:!1,cb:i},p._tasks[g]=v,p._requestTaskId=g,b.next=24,iu(Is,p,HR).call(p,r,i,o,v);case 24:return p._cbToGetTaskId=i,c&&(v.tmid=setTimeout(function(){oo.debug("ws request time out."),v.timedout=!0,v.resolver.reject("request timed out.")},c)),p.disposed||p._ws.send(r),oo.debug("end to send task "+g),r=null,b.abrupt("return",S.promise);case 32:if(b.prev=32,b.t0=b.catch(1),g&&delete p._tasks[g],!(b.t0 instanceof wa||b.t0&&b.t0.code&&b.t0.message)){b.next=39;break}throw b.t0;case 39:if(!b.t0.message){b.next=41;break}throw new wa(b.t0.message);case 41:return b.prev=41,r=null,b.finish(41);case 44:case"end":return b.stop()}},t,this,[[1,32,41,44]])})),jC.apply(this,arguments)}function SQ(t,r){(function(i,o){if(o.has(i))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,r),r.add(t)}function BC(t,r,i){return(r=function(o){var u=function(d,l){if(N(d)!="object"||!d)return d;var c=d[Symbol.toPrimitive];if(c!==void 0){var p=c.call(d,l||"default");if(N(p)!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(d)}(o,"string");return N(u)=="symbol"?u:u+""}(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t}function zR(t,r,i){if(typeof t=="function"?t===r:t.has(r))return arguments.length<3?r:i;throw new TypeError("Private element is not present on this object")}oy=NC;var UC=new WeakSet,ou=function(){function t(){h(this,t),SQ(this,UC),BC(this,"_maxWebSocketCon",10),BC(this,"_wsClients",[])}return y(t,[{key:"removeTerminatedWSClient",value:function(){this._wsClients=this._wsClients.filter(function(i){return!i.disposed})}},{key:"getClient",value:function(i,o){return i.useWS?zR(UC,this,CQ).call(this,i,o):new cQ(i)}},{key:"closeClient",value:(r=s(E().mark(function i(o){var u,d,l,c;return E().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:u=this._wsClients,d=T(u),p.prev=2,d.s();case 4:if((l=d.n()).done){p.next=12;break}if(!WR((c=l.value).serverInfo,o)){p.next=10;break}if(c.disposed){p.next=10;break}return p.next=10,c.dispose();case 10:p.next=4;break;case 12:p.next=17;break;case 14:p.prev=14,p.t0=p.catch(2),d.e(p.t0);case 17:return p.prev=17,d.f(),p.finish(17);case 20:this.removeTerminatedWSClient();case 21:case"end":return p.stop()}},i,this,[[2,14,17,20]])})),function(i){return r.apply(this,arguments)})},{key:"terminate",value:function(){var i=this._wsClients.slice();this._wsClients=[],i.forEach(function(o){try{o.dispose()}catch{}})}}],[{key:"Instance",get:function(){return this._gClientPool||(this._gClientPool=new t),this._gClientPool}}]);var r}();function bQ(t){this.removeTerminatedWSClient();var r,i=T(this._wsClients);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(WR(o.serverInfo,t)&&!o.disposed)return o.addRef(),o}}catch(u){i.e(u)}finally{i.f()}return null}function CQ(t,r){var i;return r||(i=zR(UC,this,bQ).call(this,t)),i||(this._wsClients.length<this._maxWebSocketCon?((i=new NC(t)).addEvent("disposed","1",function(){GR.Instance.removeTerminatedWSClient()}),this._wsClients.push(i),i):null)}GR=ou,BC(ou,"_gClientPool",null);var Lu=function(){function t(){h(this,t)}return y(t,null,[{key:"getHttpClientForDcp",value:function(r,i){var o,u=V.dcp,d=In();if(i||!d?(o=u.Port,d=!1):(o=u.SSLPort,d=!0),m.isString(r)){var l=new ad;return m.startsWith(r,"https://")?(l.ssl=!0,l.server=r.substring(8)):m.startsWith(r,"http://")?(l.ssl=!1,l.server=r.substring(7)):(l.ssl=In(),l.server=r),ou.Instance.getClient(l)}return t.getHttpClient(null,o,d)}},{key:"getHttpClient",value:function(r,i,o){var u=o?"https":"http",d=new ad(r||Yi(),i,o,!1,u);return ou.Instance.getClient(d)}},{key:"getWsClient",value:function(r,i,o,u){var d=new ad(r||Yi(),i,o,!0,Zt.wsProtocol);return ou.Instance.getClient(d,u)}},{key:"closeWsClient",value:function(r,i,o){var u=new ad(r||Yi(),i,o,!0,Zt.wsProtocol);return ou.Instance.closeClient(u)}}])}();Q.ClientPool=ou;var TQ=parseInt(ta),IQ=parseInt(Rp),wQ=parseInt(kp),KR="ddm/",Wu="ddm_"+[TQ,IQ,wQ,El].join("");function QR(){return KR+Wu}function EQ(t){return YR.apply(this,arguments)}function YR(){return(YR=s(E().mark(function t(r){var i,o,u,d;return E().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return i=vf(),o=[QR(),"/VersionInfo?","ts=",m.now()].join(""),u=['{"id":"',m.guid(),'","method":"VersionInfo"}'].join(""),d=Lu.getHttpClientForDcp(r),l.abrupt("return",d.request(u,o,{dataType:"json"},i));case 4:case"end":return l.stop()}},t)}))).apply(this,arguments)}function wn(t){m.log(t)}var Kt=function(t){return t.enumUnknown=-1,t.enumWindow=0,t.enumMac=1,t.enumLinux=2,t.enumEmbed=3,t.enumChromeOS=4,t.enumHarmonyOS=5,t.enumAndroid=6,t.enumiOS=7,t}({}),Hp=function(t){return Zv(t)},JR=function(){return Zv(".deb")},qR=function(){return Zv(".rpm")},XR=function(){return he.bAndroid?Kt.enumAndroid:he.bMac?Kt.enumMac:he.bChromeOS?Kt.enumChromeOS:he.bHarmonyOS?Kt.enumHarmonyOS:V.navInfo.bEmbed?Kt.enumEmbed:he.bLinux?Kt.enumLinux:he.biPhone||he.biPad?Kt.enumiOS:Kt.enumWindow},ZR="Getting the WebTwain port...",$R="The WebTwain version not compatible.",ek="Decoding the license...",tk="Checking the license...",zr=function(t){return t.CM_RENDERALL=1,t.CM_IMAGEONLY=2,t.CM_AUTO=3,t.CM_RENDERALLWITHANNOTATION=4,t}({});function xQ(t,r){(function(i,o){if(o.has(i))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,r),r.add(t)}function AQ(t,r,i){return(r=function(o){var u=function(d,l){if(N(d)!="object"||!d)return d;var c=d[Symbol.toPrimitive];if(c!==void 0){var p=c.call(d,l||"default");if(N(p)!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(d)}(o,"string");return N(u)=="symbol"?u:u+""}(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t}function ia(t,r,i){if(typeof t=="function"?t===r:t.has(r))return arguments.length<3?r:i;throw new TypeError("Private element is not present on this object")}var rk=ta+".",DQ=parseInt(ta),PQ=0,RQ=1,kQ=2,NQ=3,FQ=4,OQ=7,MQ=8,LQ=9,WQ=10,jQ=50,BQ=51,UQ=52;function If(t){return m.isString(t)?m.trim(t):t}var Ro=new WeakSet,VQ=function(){return y(function r(){h(this,r),xQ(this,Ro),AQ(this,"isLTS",Ji)},[{key:"isLongKey",value:function(r){if(m.isString(r)&&r.length>0){var i=r.charAt(0);if(i=="f"||i=="t")return!0;if(m.startsWith(r,"DLS")||m.isNumber(r))return!1;var o=parseInt(r)+"-";return!m.startsWith(r,o)}return!1}},{key:"isLicenseMixed",value:function(r,i){var o,u=!1,d=r||V.DWT.ProductKey;if(V.DWT.lclex(),i&&(If(V.DWT.organizationID)||If(V.DWT.handshakeCode))&&d&&(u=!0,Me(o={},-2444,"A license can only be specified once and has already been set using the ProductKey API.")),!u&&m.isString(d)&&(d=m.trim(d),!(m.startsWith(d,"f")||m.startsWith(d,"t")))){if(d!="")if(m.startsWith(d,"DLS2"))try{ia(Ro,this,GQ).call(this,d)}catch(c){u=!0,Me(o={},-2440,""),o._errorString=c.message}else ia(Ro,this,nk).call(this,d).LTS||(u=!0,function(c){Me(c,qi.LicenseParseFailed,"The license is invalid.")}(o={}))}if(u&&o){yn(o);var l=V.DWT.licenseException;m.error(l.message)}return u}},{key:"getLicenseFromDynamsoftCore",value:function(){var r,i,o=null;if(e.mapPackageRegister&&e.mapPackageRegister.license)o=(i=e.mapPackageRegister.license.LicenseManager)===null||i===void 0?void 0:i.license;else if((r=window)!==null&&r!==void 0&&(r=r.Dynamsoft)!==null&&r!==void 0&&(r=r.Core)!==null&&r!==void 0&&(r=r.mapPackageRegister)!==null&&r!==void 0&&r.license){var u;o=(u=window.Dynamsoft.Core.mapPackageRegister.license.LicenseManager)===null||u===void 0?void 0:u.license}if(o!==null){if(o==="")return"";if(m.isString(o))return o=m.trim(o)}return null}},{key:"_initAR",value:function(r){var i,o;r&&(r.pk||(i=r.ar,o=r.u,i&&o&&(Ne.bUseDynamsoftLicenseManager=!0,V.DWT.lsdt(V.DWT.EnumInstance.dwt_browser),V.DWT.lsmid(o,""),V.DWT.lsar(i,""))))}},{key:"preParseProductKey",value:(t=s(E().mark(function r(i){var o,u,d,l;return E().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(o=null,u=!1,o=this.getLicenseFromDynamsoftCore(),!m.isString(o)){c.next=32;break}if(o===""||!this.isLongKey(o)){c.next=8;break}return this.isLicenseMixed(o,!1)||(this._innerResetLicense(),Ne.bPublicLTS=!1,Ne.refProductKey=o),c.abrupt("return");case 8:if(!e.mapPackageRegister||!e.mapPackageRegister.license){c.next=14;break}return c.next=11,e.mapPackageRegister.license.getAR();case 11:l=c.sent,c.next=18;break;case 14:if((d=window)===null||d===void 0||(d=d.Dynamsoft)===null||d===void 0||(d=d.Core)===null||d===void 0||(d=d.mapPackageRegister)===null||d===void 0||!d.license){c.next=18;break}return c.next=17,window.Dynamsoft.Core.mapPackageRegister.license.getAR();case 17:l=c.sent;case 18:if(!l){c.next=32;break}if(this._initAR(l),o!==""){c.next=26;break}return this._innerResetLicense(),Ne.refProductKey="",Ne.bPublicLTS=!0,Ne.handshakeCode="200001",c.abrupt("return");case 26:if(!l.pk){c.next=31;break}return this.isLicenseMixed(l.pk,!1)||(this._innerResetLicense(),Ne.bPublicLTS=!1,Ne.refProductKey=l.pk),c.abrupt("return");case 31:Ne.refProductKey!==o&&(u=!0);case 32:!u&&this.isLicenseMixed(null,!0)||this.reparseProductKey(i);case 33:case"end":return c.stop()}},r,this)})),function(r){return t.apply(this,arguments)})},{key:"reparseProductKey",value:function(r){r&&wn("Parsing Product Key...");var i=this.getLicenseFromDynamsoftCore(),o=!1;if(i===null||i===""){var u=If(V.DWT.organizationID),d=If(V.DWT.handshakeCode),l=u||d;if(i=m.trim(V.DWT.ProductKey),!l){var c=ia(Ro,this,nk).call(this,i);c.LTS&&(d=If(c.handshakeCode),l=(u=If(c.organizationID))||d)}if(l)return this._innerResetLicense(),m.isNumber(i)&&(u=i),Ne.handshakeCode=d,Ne.organizationID=u,Ne.licenseServer=V.DWT.licenseServer,Ne.sessionPassword=V.DWT.sessionPassword,void(Ne.bPublicLTS=ia(Ro,this,ik).call(this,Ne.licenseServer,l))}if(Ne.refProductKey!==i&&(this._innerResetLicense(),m.isString(i)&&i.length>0&&(Ne.refProductKey=i,o=!0)),o)if(this.isLongKey(Ne.refProductKey))Ne.bPublicLTS=!1;else{var p,g={_pLoad:{isEmpty:st},_license:Ne.refProductKey,_licenseServer:[]};try{p=LR(g)}catch(v){m.error(v),p=!1}if(p&&m.isString(p.l)){var S=m.trim(p.l);S==""?(S="200001",Ne.organizationID=S,Ne.handshakeCode=S):(S.indexOf("-")!=-1||(Ne.organizationID=S),Ne.handshakeCode=S),m.isArray(p.ls)&&p.ls.length>0&&(Ne.licenseServer=p.ls),Ne.bPublicLTS=ia(Ro,this,ik).call(this,Ne.licenseServer,S),Ne.sessionPassword=p.sp}else Ne.bPublicLTS=!1,p&&m.isNumber(p.l)&&(Ne.handshakeCode=""+p.l)}}},{key:"_innerResetLicense",value:function(){Ne.refProductKey="",Ne.handshakeCode=void 0,Ne.organizationID=void 0,Ne.licenseServer=void 0,Ne.sessionPassword="",Ne.bPublicLTS=!0}},{key:"checkOSForAllowCore",value:function(r,i,o){if(Ne.bHTML5Edition){if(r)return ia(Ro,this,ok).call(this,i);var u=o._bRemoteMode,d=o.__serverPlatform;return this.isOSOK(i,u,d)}return st}},{key:"checkLocalPlatformForRemoteService",value:function(r){var i,o,u,d=r.__licenseInfo,l=XR(),c=!1;for(i=0;i<d.Detail.length&&(o=d.Detail[i],!((u=ia(Ro,this,VC).call(this,o.EnumLicenseType,o.LicenseType)).Core&&m.isString(o.Version)&&o.Version.indexOf(rk)==0&&((c=ia(Ro,this,ok).call(this,o.OS))||(c=this.isOSOK(o.OS,!0,l))||!r._blts&&r._bScanForProxyRemote&&u.RemoteScan)));i++);return c||(l==Kt.enumWindow?function(p){Me(p,-2344,"The current product key does not support Windows OS. "+gi()),yn(p)}(r):l==Kt.enumLinux?function(p){Me(p,-2346,"The current product key does not support Linux OS. "+gi()),yn(p)}(r):l==Kt.enumMac?function(p){Me(p,-2345,"The current product key does not support MAC OS. "+gi()),yn(p)}(r):function(p){Me(p,-2347,"The current product key does not support your OS. "+gi()),yn(p)}(r)),c}},{key:"checkProductKey",value:function(r,i,o){var u,d=V.DWT.licenseException;return!i.Camera&&(r.__licenseInfo||(r.__licenseInfo={}),(u=ia(Ro,this,zQ).call(this,r,r.__licenseInfo,Fe,i,o))||(d.code=r._errorCode,d.message=r._getErrorString(),d.fromLTS=!1),u)}},{key:"isBindDomainOK",value:function(r){if(m.isUndefined(r)||r==null||r==""||r=="*"||r=="*.*")return st;var i=location.hostname,o=Fe;if(i=="")return st;for(var u=i.toLowerCase().split("."),d=u.length,l=r.toLowerCase().split(";"),c=0;c<l.length;c++){var p=l[c];if(p=="*.*"){o=st;break}var g=p.split("."),S=g.length;if(S>0&&S-1<=d){for(var v=st,b=S-1;b>0;b--){if(g[b].indexOf("*")>-1){o=st;break}if(b+d-S>=0){if(u[b+d-S]!=g[b]){v=Fe;break}}else if(g[b]!="*"){v=Fe;break}}if(v&&(g[0]=="*"||d>=S&&u[d-S]==g[0])){o=st;break}}}return o}},{key:"isExpiredOrFuture",value:function(r,i){if(r=="")return Fe;if(!i){var o=r.length;if(o>2&&r[o-2]=="/"&&r[o-1]=="0")return Fe}var u=wf(r),d=new Date().getTime(),l=d+5184e6;return u.getTime()<d||i&&u.getTime()>l?st:Fe}},{key:"willTrialExpire",value:function(r){if(r=="")return Fe;var i=wf(r),o=new Date().getTime();return i.getTime()<o+432e6&&i.getTime()>o?st:Fe}},{key:"isOSOK",value:function(r,i,o){var u=!1,d=!1,l=!1,c=!1,p=!1,g=!1,S=!1,v=!1;return r==""||r=="0"?st:(i?o==Kt.enumWindow?l=!0:o==Kt.enumLinux?d=!0:o==Kt.enumMac?u=!0:o==Kt.enumEmbed?p=!0:o==Kt.enumChromeOS?g=!0:o==Kt.enumAndroid?S=!0:o==Kt.enumHarmonyOS?v=!0:o==Kt.enumiOS&&(c=!0):(u=he.bMac,d=he.bLinux,l=he.bWin,c=he.biPhone||he.biPad,g=he.bChromeOS,p=V.navInfo.bEmbed,S=he.bAndroid,v=he.bHarmonyOS),(r=r.toLowerCase()).indexOf("windows")>-1&&l||r.indexOf("mac")>-1&&u||r.indexOf("linux")>-1&&(d||g||v)||r.indexOf("android")>-1&&S||r.indexOf("ios")>-1&&c||r.indexOf("embed")>-1&&p?st:Fe)}},{key:"isBrowserOK",value:function(r){if(m.isString(r)){if(r==""||r=="0")return st;var i=(r=r.toLowerCase()).split(";"),o=Fe;return m.each(i,function(u){(m.trim(u)=="chrome"&&(he.bChrome||he.bSafari||he.bOpera||he.bEdge)||m.trim(u)=="ie"&&he.bIE||m.trim(u)=="firefox"&&he.bFirefox)&&(o=st)}),o}return Fe}},{key:"isAllowLicenseType",value:function(r,i){return i.Core?r.Core:i.PDFRasterizer?r.PDFRasterizer:i.Webcam||i.Camera?r.Webcam:i.barcode1D?r.barcode1D:i.QR?r.QR:i.PDF417?r.PDF417:i.DataMatrix?r.DataMatrix:i.OCRKit?r.OCRKit:i.OCRPro?r.OCRPro:i.OCR?r.OCR:r.Core}},{key:"setNoAllowedLicenseTypeError",value:function(r,i,o){o.Core?Wp(r):o.Webcam||o.Camera?i||o.Camera?function(u){u._errorCode=-2431,Ji()?u._errorString="The license for the Camera Addon is not found or has expired.":Me(u,-2431,"The current product key does not support Camera Addon. "+gi()),yn(u)}(r):function(u){u._errorCode=-2338,Ji()?u._errorString="The license for the module direct show is not found or has expired.":u._errorString="The current product key does not support Webcam. "+gi(),yn(u)}(r):o.PDFRasterizer?i?function(u){u._errorCode=-2370,Ji()?u._errorString="The license for the module pdf rasterizer is not found or has expired.":u._errorString="The current product key does not support Pdf Rasterizer Wasm. "+gi(),yn(u)}(r):_f(r):o.OCRKit?function(u){u._errorCode=-2340,Ji()?u._errorString="The license for the module OCR Kit is not found or has expired.":u._errorString="The current product key does not support OCR Kit. "+gi(),yn(u)}(r):o.OCRPro?function(u){u._errorCode=-2341,Ji()?u._errorString="The license for the module OCR pro is not found or has expired.":u._errorString="The current product key does not support OCR pro. "+gi(),yn(u)}(r):o.OCR?function(u){u._errorCode=-2340,Ji()?u._errorString="The license for the module OCR is not found or has expired.":u._errorString="The current product key does not support OCR. "+gi(),yn(u)}(r):Ta(r)}},{key:"getLicenseDateString",value:function(r){var i,o=r.getFullYear();return[(i=r.getMonth()+1)>=10?""+i:"0"+i,"/",r.getDate()>=10?""+r.getDate():"0"+r.getDate(),"/",o].join("")}},{key:"hasPDFRProductKey",value:function(r){return!!this.checkProductKey(r,{PDFRasterizer:!0},!0)||(r._resetErr(),!1)}},{key:"checkPDFProductKeyWhenNeeds",value:function(r,i){var o;return(i==V.DWT.EnumDWT_ImageType.IT_PDF||i==V.DWT.EnumDWT_ImageType.IT_MULTIPAGE_PDF)&&(Ne.bHTML5Edition?r.__addon&&r.__addon.PDF&&(o=r._getConvertMode()):r.Addon&&r.Addon.PDF&&(o=r._getConvertMode()),o==zr.CM_RENDERALL||o==zr.CM_RENDERALLWITHANNOTATION)?this.checkProductKey(r,{PDFRasterizer:!0},!0):st}},{key:"getPublicLicenseContent",value:function(r){var i=[],o=r;if(!m.isString(o)){if(m.isUndefined(o))return"";o=o instanceof Error||"message"in o?o.message:""+o}var u=o.indexOf("["),d=o.indexOf("]",u),l=o.indexOf("(",d),c=o.indexOf(")",l);if(u==-1||d==-1||l==-1||c==-1)return o;u>0&&i.push(o.substring(0,u));var p=o.substring(u+1,d),g=o.substring(l+1,c);return i.push(['<a href="',g,'" target="_blank" class="dynamsoft-major-color">',p,"</a>"].join("")),i.push(o.substring(c+1)),i.join("")}},{key:"getLTSLicense",value:function(){return Ne.bPublicLTS?"":Ne.handshakeCode||Ne.organizationID}}]);var t}();function nk(t){var r,i,o=t,u=t.indexOf("-"),d=u!=-1;return i={},d&&(o=t.substring(0,u)),r=Number(o),isNaN(r)||String(Number(r))!==o||(d?i.handshakeCode=t:i.organizationID=t,i.LTS=st),i}function GQ(t){LR({_pLoad:{isEmpty:st},_license:t,_licenseServer:[]})}function ik(t,r){var i=!0;if(m.isArray(t)&&t.length>0){var o=t[0];m.isString(o)&&o!=""&&new Gv(o).getHostname()!=="mlts.dynamsoft.com"&&(i=!1)}return i&&(!r||r==="200001"||m.startsWith(r,"200001-"))}function HQ(t,r,i){return this.checkOSForAllowCore(t,r,i)}function zQ(t,r,i,o,u){var d,l=!1;if(Ne.bHTML5Edition&&m.isFunction(t._needCheckProxyRemoteScanLicense)&&(l=t._needCheckProxyRemoteScanLicense()),r&&r.LTS){if(!r||!m.isArray(r.Detail)||r.Detail.length==0)return this.isLTS()?Wp(t):Ta(t),Fe}else if(!r||!m.isArray(r.Detail)||r.Detail.length==0)return this.isLTS()?Wp(t):Ta(t),Fe;var c,p,g,S,v=0,b=0,C=[],D=[],M=Fe,j=Fe,Y=Fe,ee=Fe,te=Fe,de=Fe,Z=Fe,ne=Fe;if(!this.isBindDomainOK(r.Domain))return function(ve){Me(ve,-2342,"The domain of your current site does not match the domain bound in the current product key. "+gi()),yn(ve)}(t),Fe;for(r.Detail.length>0&&(d=(g=r.Detail[0]).Trial!="FALSE"),p=1;p<r.Detail.length;p++)if((g=r.Detail[p]).Trial=="FALSE"&&d||g.Trial=="TRUE"&&!d)return UK(t),Fe;if(r.bTrial=d,o.Core||o.Webcam){var X=[],F=!1;for(p=0;p<r.Detail.length;p++)if(g=r.Detail[p],S=ia(Ro,this,VC).call(this,g.EnumLicenseType,g.LicenseType),o.Core&&S.Core&&this.checkOSForAllowCore(i,g.OS,t)||o.Core&&S.Core&&Ne.bActiveXEdition&&S.ActiveX||o.Webcam&&S.Webcam&&!i){if(!r.LTS){if(!m.isString(g.Version)||g.Version.indexOf(rk)!=0){X.push(g);continue}}if(Ne.bHTML5Edition){if(S.ActiveX&&!S.Html5||l&&!S.RemoteScan)continue;D.push(g)}else{if(!S.ActiveX&&S.Html5)continue;D.push(g)}F=!0}if(!F&&X.length>0)return X.splice(0),function(ve,be){var Ce=gi();Me(ve,qi.LicenseVersionNotCurrent,"The current product key is not for version ".concat(be,". ").concat(Ce)),yn(ve)}(t,kp.toString()=="0"?[ta,Rp].join("."):[ta,Rp,kp].join(".")),!1;X.splice(0)}else D=r.Detail;for(p=0;p<D.length;p++){var B=st;if(g=D[p],S=ia(Ro,this,VC).call(this,g.EnumLicenseType,g.LicenseType),o.Core&&S.Core||this.isAllowLicenseType(S,o)){c=g.ExpireDate.replace(/-/g,"/");var U=g.Trial!="FALSE";if(this.isExpiredOrFuture(c,U))C.push(c);else if(U&&S.Core&&this.willTrialExpire(c)&&(r.ExpireDate=c),r.LTS||S.Core&&Ne.bHTML5Edition&&parseInt(g.Version)>=DQ||S.Core&&Ne.bActiveXEdition||!S.Core){var K=!1;if(S.Core)(this.checkOSForAllowCore(i,g.OS,t)||Ne.bActiveXEdition&&S.ActiveX)&&(K=!0);else{var q=i;o.Camera&&(q=!0),ia(Ro,this,HQ).call(this,q,g.OS,t)&&(K=!0)}K?this.isBrowserOK(g.Browser)||u?(v++,B=Fe):j=st:o.Core?M=st:o.PDFRasterizer?ee=st:o.Webcam||o.Camera?te=st:o.OCRKit?Z=st:o.OCRPro?ne=st:o.OCR&&(de=st)}else Y=st;B&&b++}}if(v>0)return st;if(b==0)return this.setNoAllowedLicenseTypeError(t,i,o),Fe;if(C.length>0){var re,oe=0,fe=1e20,ae="",ue=new Date().getTime();for(c="",p=0;p<C.length;p++)(re=wf(C[p])).getTime()<ue&&re.getTime()>oe?(oe=re.getTime(),c=C[p]):re.getTime()>ue&&re.getTime()<fe&&(fe=re.getTime(),ae=C[p]);return c!=""?(re=wf(c),mR(t,c=this.getLicenseDateString(re),d)):ae!=""?(re=wf(ae),ae=this.getLicenseDateString(re),function(ve){Me(ve,qi.LicenseIsFuture,"The current product key is invalid. "+gi()),yn(ve)}(t)):mR(t,"",d),Fe}return Y?(function(ve){Me(ve,-2348,"The current product key is invalid because it's generated with the licenses of a different major version."),yn(ve)}(t),Fe):j?(he.bEdge?function(ve){Me(ve,-2330,"The current product key does not support Edge. "+gi()),yn(ve)}(t):he.bChrome?function(ve){Me(ve,-2327,"The current product key does not support Chrome. "+gi()),yn(ve)}(t):he.bFirefox?function(ve){Me(ve,-2328,"The current product key does not support Firefox. "+gi()),yn(ve)}(t):he.bIE?function(ve){Me(ve,-2329,"The current product key does not support IE. "+gi()),yn(ve)}(t):he.bSafari?function(ve){Me(ve,-2392,"The current product key does not support Safari. "+gi()),yn(ve)}(t):function(ve){Me(ve,-2343,"The current product key does not support your browser. "+gi()),yn(ve)}(t),Fe):M?(this.setNoAllowedLicenseTypeError(t,i,{Core:!0}),Fe):ee?(this.setNoAllowedLicenseTypeError(t,i,{PDFRasterizer:!0}),Fe):te?(this.setNoAllowedLicenseTypeError(t,i,{Webcam:!0}),Fe):Z?(this.setNoAllowedLicenseTypeError(t,i,{OCRKit:!0}),Fe):ne?(this.setNoAllowedLicenseTypeError(t,i,{OCRPro:!0}),Fe):de?(this.setNoAllowedLicenseTypeError(t,i,{OCR:!0}),Fe):(Ta(t),Fe)}function KQ(t){var r=Fe,i=Fe,o=Fe,u=Fe,d=Fe,l=Fe,c=Fe,p=Fe,g=Fe;return m.isString(t)&&t!=""&&m.each(t.split(";"),function(S){var v=1*S;v==kQ||v==NQ||v==PQ||v==RQ?r=st:v==FQ?i=st:v==jQ?o=st:v==BQ?u=st:v==UQ?d=st:v==OQ?l=st:v==MQ?c=st:v==LQ?p=st:v==WQ&&(g=st)}),{Core:r,PDFRasterizer:p,Webcam:c,barcode1D:i,QR:o,PDF417:u,DataMatrix:d,OCR:l,OCRPro:g,OCRKit:!1}}function VC(t,r){var i=ia(Ro,this,KQ).call(this,t),o=ia(Ro,this,QQ).call(this,r);return m.each(["Core","Html5","RemoteScan","LocalScan","ActiveX","PDFRasterizer","Webcam","barcode1D","QR","PDF417","DataMatrix","OCR","OCRPro","OCRKit"],function(u){i[u]=i[u]||o[u]}),i}function QQ(t){var r=Fe,i=Fe,o=Fe,u=Fe,d=Fe,l=Fe,c=Fe,p=Fe,g=Fe,S=Fe,v=Fe,b=Fe,C=Fe,D=Fe;return t&&t!=""&&((t=t.toLowerCase()).indexOf("html5")>-1||t=="win=(aph) or mac=(ph) or linux(h)"?(r=st,t.indexOf("html5;activex;oldie")>-1?u=st:t.indexOf("html5;activex")>-1?(i=st,C=st,u=st):(i=st,C=st),t.indexOf(";remotescan")>-1&&(i=st,b=st,t.indexOf(";onlyremote")>-1&&(C=Fe))):t=="1d barcode reader"?o=st:t=="2d barcode reader(qrcode)"?d=st:t=="2d barcode reader(pdf417)"?l=st:t=="2d barcode reader(data matrix)"?c=st:t=="webcam"?g=st:t=="pdf rasterizer"?S=st:t=="proocr"?v=st:t.indexOf("ocr")>-1&&(t.indexOf("ocr kit")>-1&&(D=st),p=st)),{Core:r,Html5:i,RemoteScan:b,LocalScan:C,ActiveX:u,PDFRasterizer:S,Webcam:g,barcode1D:o,QR:d,PDF417:l,DataMatrix:c,OCR:p,OCRPro:v,OCRKit:D}}function ok(t){var r=t.toLowerCase();return r.indexOf("wasm")>-1||r.indexOf("mobile")>-1}var It=new VQ;function ak(t,r){return sk.apply(this,arguments)}function sk(){return(sk=s(E().mark(function t(r,i){var o;return E().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(Ji()){u.next=2;break}return u.abrupt("return");case 2:if(u.prev=2,V.DWT.li({instanceMode:V.DWT.lgdt()},"")){u.next=17;break}return i&&wn("Getting Machine ID."),u.prev=6,u.next=9,EQ();case 9:return o=u.sent,u.next=12,YQ(o);case 12:u.next=17;break;case 14:u.prev=14,u.t0=u.catch(6),m.log(u.t0);case 17:u.next=22;break;case 19:u.prev=19,u.t1=u.catch(2),m.log(u.t1);case 22:case"end":return u.stop()}},t,null,[[2,19],[6,14]])}))).apply(this,arguments)}function YQ(t){return uk.apply(this,arguments)}function uk(){return(uk=s(E().mark(function t(r){var i;return E().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!r){o.next=7;break}if(!(m.isArray(r.result)&&r.result.length>3)){o.next=5;break}i=r.result[3],o.next=7;break;case 5:if(!r.description){o.next=7;break}return o.abrupt("return",{code:r.exception,message:r.description});case 7:m.isString(i)&&i!=""&&(V.DWT.lsmid(i,""),V.DWT.lsmid2b(i));case 8:case"end":return o.stop()}},t)}))).apply(this,arguments)}function wf(t){var r,i=t;return i=i.replace(/-/g,"/"),r=Date.parse(i),isNaN(r)&&(r=0),(r=new Date(r)).setHours(23,59,59,999),r}function lk(t){if(t=="")return 65536;var r=wf(t),i=new Date().getTime(),o=(r.getTime()-i)/864e5;return r.getTime()<i?0:Math.ceil(o)}V.DWT.isPublicLicense=function(){return Ne.bPublicLTS};var yo,GC=function(){return y(function t(){h(this,t),I(this,"_exec",{})},[{key:"fire",value:function(t,r){var i,o=this;t=t.toLowerCase(),i=Array.prototype.slice.call(arguments,1),m.each(o._exec[t]||[],function(u){var d=u.f,l=u.c||o;try{d.apply(l,i)}catch(c){m.error(c)}})}},{key:"on",value:function(t,r,i){t=t.toLowerCase(),this._exec[t]=this._exec[t]||[],this._exec[t].push({f:r,c:i})}},{key:"off",value:function(t,r,i){if(t&&r){t=t.toLowerCase();for(var o=this._exec[t]||[],u=o.length-1;u>=0;u--)o[u]===r&&o.splice(u,1)}else this._exec={}}}])}();function JQ(t,r){(function(i,o){if(o.has(i))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,r),r.add(t)}function uy(t,r,i){return(r=function(o){var u=function(d,l){if(N(d)!="object"||!d)return d;var c=d[Symbol.toPrimitive];if(c!==void 0){var p=c.call(d,l||"default");if(N(p)!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(d)}(o,"string");return N(u)=="symbol"?u:u+""}(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t}function au(t,r,i){if(typeof t=="function"?t===r:t.has(r))return arguments.length<3?r:i;throw new TypeError("Private element is not present on this object")}var Ka,ly="[bio]: ",ck=window,cy=ck&&ck.FormData,ws=new WeakSet,ju=function(t){function r(i){var o;return h(this,r),JQ(o=f(this,r),ws),uy(o,"_attrs",{}),m.mix(o._attrs,{action:"",data:{},bChunkedSendData:st,ajaxConfig:{value:{},type:"post",processData:Fe,cache:Fe,dataType:"text",async:st,contentType:Fe,retry:0,headers:{"X-Requested-With":Fe}},ajax:"",formData:"",CORS:Fe,bOnlyResponseEmptyIsOK:st}),m.mix(o._attrs,i),au(ws,o,qQ).call(o),o}return P(r,t),y(r,[{key:"get",value:function(i){return i in this._attrs?this._attrs[i]:""}},{key:"set",value:function(i,o){i in this._attrs&&(this._attrs[i]=o)}},{key:"uploadFilesToServer",value:function(i){return au(ws,this,XQ).call(this,i)}},{key:"uploadToServer",value:function(i){var o=this,u=o.get("ajaxConfig");au(ws,o,dk).call(o),i&&i.size>0&&(au(ws,o,fk).call(o,i),m.isString(i.name)&&i.name!=""?o.name=i.name:o.name=i.fileName,i=null),m.mix(u,{data:o.get(r.PROP.formData),url:o.get(r.PROP.action),beforeSend:function(c,p,g){c.upload.addEventListener("progress",function(S){o.fire(r.event.PROGRESS,{loaded:S.loaded,total:S.total,name:o.name})},!1)}});var d=o.get("async");if(m.mix(u,{method:"POST",async:d,onSuccess:function(c,p,g){dy(o.get(r.PROP.data)),dy(o.get(r.PROP.formData));var S=o.get(r.PROP.ajax);m.isFunction(S.dispose)&&S.dispose(),o.set(r.PROP.data,null),o.set(r.PROP.formData,null),o.set(r.PROP.ajax,null);var v=au(ws,o,pk).call(o,c,g);o.fire(r.event.SUCCESS,v)},onError:function(c,p,g){var S;dy(o.get(r.PROP.data)),dy(o.get(r.PROP.formData));var v,b,C=o.get(r.PROP.ajax);m.isFunction(C.dispose)&&C.dispose(),o.set(r.PROP.data,null),o.set(r.PROP.formData,null),o.set(r.PROP.ajax,null),c&&m.isArray(c)&&c.length>2?(S=c[0],v=c[1],b=c[2]):(S=c,v=p,b=g),au(ws,o,hk).call(o,b,v,S)}}),d){var l=Ca(u);return o.set(r.PROP.ajax,l),!0}return Ca(u)}},{key:"abort",value:function(){var i=this,o=i.get("ajax");return m.isObject(o)?(o.abort(),i.set("ajax",!1),i):(m.log(ly+"abort(), the value of io invalid!"),i)}},{key:"setRequestHeader",value:function(i,o){var u=this.get("ajaxConfig");return u.headers[i]=o,this.set("ajaxConfig",u),u=null,o}}])}(GC);function qQ(){this.get("CORS");var t=this.get("ajaxConfig");return m.mix(t,{xhrFields:{withCredentials:!1}}),t}function XQ(t){var r=this,i=r.get(yo.PROP.ajaxConfig),o=[];if(au(ws,r,dk).call(r),m.each(t,function(l){l&&l.size>0?(au(ws,r,fk).call(r,l),m.isString(l.name)&&l.name!=""?o.push(l.name):o.push(l.fileName)):o.push("")}),m.mix(i,{data:r.get(yo.PROP.formData),url:r.get(yo.PROP.action),beforeSend:function(l,c,p){l.upload.addEventListener("progress",function(g){r.fire(yo.event.PROGRESS,{loaded:g.loaded,total:g.total,name:""})},!1)}}),m.mix(i,{method:"POST",async:r.get("async"),onSuccess:function(l,c,p){var g="";o=[],l&&(l&&m.isArray(l)&&l.length>1?g=l[0]:m.isString(l)&&(g=l)),g=au(ws,r,pk).call(r,g,p),r.fire(yo.event.SUCCESS,g)},onError:function(l,c,p){var g,S;o=[],l&&m.isArray(l)&&l.length>2?(g=l[1],S=l[2]):(g=c,S=p),au(ws,r,hk).call(r,S,g)}}),r.name="",r.get("async")){var u=Ca(i);return r.set(yo.PROP.formData,null),r.set(yo.PROP.ajax,u),!0}var d=Ca(i);return r.set(yo.PROP.formData,null),d}function dk(){var t,r=this,i=r.get("data");if(cy)if(i instanceof cy)r.set(yo.PROP.formData,i);else{t=new cy;try{m.each(i,function(o,u){t.append(u,o)}),r.set(yo.PROP.formData,t)}catch{m.log(ly+"something error when reset FormData.")}}else m.log(ly+"the browser does not support ajax.")}function fk(t){if(!m.isObject(t))return m.log(ly+"_addFileData(), file parameter invalid!"),!1;var r=this.get(yo.PROP.formData),i=t.name,o=t.remoteFilename;return o||(o="RemoteFile"),r.append(o,t,i),this.set(yo.PROP.formData,r),t=null,r}function hk(t,r,i){var o=yo.status.ERROR,u={status:o,msg:r,response:!1,name:this.name};t&&(u.httpStatus=t.status,u.response=i||t.responseText),this.fire(o,u)}function pk(t,r){var i,o,u,d=!1,l=this.name,c=yo.status.SUCCESS,p=yo.event.ERROR,g=r?r.status:0;if(m.log("Response from server: "+t),!this.get("bOnlyResponseEmptyIsOK"))return{status:c,msg:!1,json:!1,response:t,name:l,httpStatus:g};if(m.isUndefined(t)||t==="")i={status:c,msg:!1,json:!1,response:"",name:l,httpStatus:g};else if(m.isString(t)){try{for(o=0;o<t.length&&!(o>10);o++){if((u=t[o])=="{"){d=!0;break}if(u!=" "&&u!="\r"&&u!=`
`&&u!="	")break}if(d){var S=m.parse(t);i=S.status==1?{status:c,msg:!1,json:S,response:t,name:l,httpStatus:g}:{status:p,msg:!1,json:S,response:t,name:l,httpStatus:g}}}catch(b){d=!1,m.log(b)}if(!d){var v=String(t);i=(v=v.replace(/( |\t|\r|\n)/g,""))==""?{status:c,msg:!1,json:!1,response:t,name:l,httpStatus:g}:{status:p,msg:!1,json:!1,response:t,name:l,httpStatus:g}}}else i={status:c,msg:!1,json:!1,response:"",name:l,httpStatus:g};return i}function dy(t){t&&t instanceof cy&&t.forEach&&t.forEach(function(r,i){i&&t.delete(i)})}function ZQ(t,r){(function(i,o){if(o.has(i))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,r),r.add(t)}function mk(t,r,i){return(r=function(o){var u=function(d,l){if(N(d)!="object"||!d)return d;var c=d[Symbol.toPrimitive];if(c!==void 0){var p=c.call(d,l||"default");if(N(p)!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(d)}(o,"string");return N(u)=="symbol"?u:u+""}(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t}function zp(t,r,i){if(typeof t=="function"?t===r:t.has(r))return arguments.length<3?r:i;throw new TypeError("Private element is not present on this object")}yo=ju,uy(ju,"event",{SUCCESS:"success",ERROR:"error",PROGRESS:"progress"}),uy(ju,"status",{SUCCESS:"success",ERROR:"error"}),uy(ju,"PROP",{action:"action",data:"data",bChunkedSendData:"bChunkedSendData",ajaxConfig:"ajaxConfig",ajax:"ajax",formData:"formData",CORS:"CORS",bOnlyResponseEmptyIsOK:"bOnlyResponseEmptyIsOK"});var Ef=new WeakSet,Dl=function(t){function r(i){var o;return h(this,r),ZQ(o=f(this,r),Ef),o._attrs={action:"",retry:0,timeout:0,CORS:Fe,async:st,dataType:"text",fileStatus:"",data:{},bOnlyResponseEmptyIsOK:st},m.mix(o._attrs,i),zp(Ef,o,eY).call(o),o}return P(r,t),y(r,[{key:"get",value:function(i){return i in this._attrs?this._attrs[i]:""}},{key:"set",value:function(i,o){i in this._attrs&&(this._attrs[i]=o)}},{key:"upload",value:function(i){var o;if(i){if(m.isArray(i))return o=this._uploadType.uploadFilesToServer(i),i=null,o;if(m.isObject(i)){var u=i;return u.size?(u.id||(u.id=m.guid("file-")),u.size&&(u.textSize=zp(Ef,this,$Q).call(this,u.size))):u.size=0,o=this._uploadType.uploadToServer(u),u=null,i=null,o}}return o=this._uploadType.uploadToServer(i),i=null,o}},{key:"abort",value:function(i){return this._uploadType&&this._uploadType.abort(),!0}},{key:"setRequestHeader",value:function(i,o){this._uploadType.setRequestHeader(i,o)}}])}(GC);function $Q(t){var r=-1;do t/=1024,r++;while(t>99&&r<4);return Math.max(t,.1).toFixed(1)+["KB","MB","GB","TB"][r]}function eY(){var t=this,r={async:t.get(Ka.PROP.async),action:t.get(Ka.PROP.action),data:t.get(Ka.PROP.data),CORS:t.get(Ka.PROP.CORS),bOnlyResponseEmptyIsOK:t.get(Ka.PROP.bOnlyResponseEmptyIsOK)};this._uploadType=new ju(r);var i=this._uploadType.get(ju.PROP.ajaxConfig);return i&&(i.dataType=t.get(Ka.PROP.dataType),i.async=t.get(Ka.PROP.async),i.retry=t.get(Ka.PROP.retry)),this._uploadType.on(ju.event.SUCCESS,zp(Ef,t,gk),t),this._uploadType.on(ju.event.ERROR,zp(Ef,t,gk),t),this._uploadType.on(ju.event.PROGRESS,zp(Ef,t,tY),t),this._uploadType}function tY(t){this.fire(Ka.event.PROGRESS,t)}function gk(t){var r=this,i=t.status,o=t.msg,u=r.get("file");if(m.mix(t,{file:u}),i==="success")r.fire(Ka.event.SUCCESS,t);else{if(o===!1||(o==="abort"?m.mix(t,{canceled:!0}):o==="timeout"&&m.mix(t,{timeout:!0})),!o){var d=t.httpStatus;d&&d>=200&&d<300&&(d==200?o="OK":d==201?o="Created":d==202?o="Accepted":d==203?o="Non-Authoritative":d==204?o="No Content":d==205?o="Reset Content":d==206?o="Partial Content":d==207&&(o="Multi-Status"),t.msg=o)}r.fire(Ka.event.ERROR,t)}}Ka=Dl,mk(Dl,"event",{SUCCESS:"success",ERROR:"error",PROGRESS:"progress"}),mk(Dl,"PROP",{action:"action",retry:"retry",timeout:"timeout",CORS:"CORS",async:"async",dataType:"dataType",fileStatus:"fileStatus",data:"data",bOnlyResponseEmptyIsOK:"bOnlyResponseEmptyIsOK"});var tn={Loading:"Processing...",LoadingTiff:"Processing tiff...",LoadingPdf:"Processing pdf...",Encoding:"Processing...",ConvertingToBlob:"Converting to blob...",ConvertingToBase64:"Converting to base64...",SavingPdf:"Saving pdf...",SavingTiff:"Saving tiff...",Downloading:"Downloading...",Uploading:"Uploading...",Transfer:"Transferring...",CanvasLoading:"Loading ...",Err_ServiceModeNotSupportMobile:"Service Mode does not support your Operating System. Please contact the site administrator."};function HC(t,r){Q.detect.bMaskShow=!0,V.DWT.ScanDirectly||m.isFunction(V.DWT.OnWebTwainPreExecute)&&V.DWT.OnWebTwainPreExecute(t,r)}function zC(){Q.detect.bMaskShow=!1,V.DWT.ScanDirectly||m.isFunction(V.DWT.OnWebTwainPostExecute)&&V.DWT.OnWebTwainPostExecute()}function rY(t){var r=t||{};r.basePath&&(Tn.basePath=r.basePath),r.pathType&&(Tn.pathType=r.pathType),m.isUndefined(r.bDiscardBlankImage)||(Tn.bDiscardBlankImage=r.bDiscardBlankImage),r.msgPrefix&&r.msgPrefix,r.msgSuffix&&r.msgSuffix,r.detectType&&(Q.detect.detectType=r.detectType),r.tryTimes&&(Q.detect.tryTimes=r.tryTimes);var i=V.DWT.RemoteScanConfig;i||(i={sessionTimeout:300,keepAwake:!0},V.DWT.RemoteScanConfig=i),i.keepAwake===void 0&&(i.keepAwake=!0)}function vk(){return!!m.getWakeLock()}function fy(t){return yk.apply(this,arguments)}function yk(){return(yk=s(E().mark(function t(r){var i;return E().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(i=m.getWakeLock(),!r){o.next=7;break}if(i!=null){o.next=5;break}return o.next=5,m.toggleWakeLock();case 5:o.next=10;break;case 7:if(!i){o.next=10;break}return o.next=10,m.toggleWakeLock();case 10:case"end":return o.stop()}},t)}))).apply(this,arguments)}function nY(t){return t&&!m.isString(t)?st:Fe}function _k(t){return Sk.apply(this,arguments)}function Sk(){return(Sk=s(E().mark(function t(r){var i;return E().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:r&&((i=document.createElement("style")).innerHTML=['@import url("',Bu(),"/src/dynamsoft.webtwain.viewer.css",Q.timestamp,'")'].join(""),r.appendChild(i));case 1:case"end":return o.stop()}},t)}))).apply(this,arguments)}function bk(t,r){var i;for(i=0;i<t.length;i++)if(t[i]==r)return!0;return!1}function Bu(){return uR()}var Ck=function(){return y(function t(r){h(this,t),this._funIsLoading=r,this._resolveJSLoads=[],this._bFirstWaitForLoaded=!0},[{key:"_loopForCheckingJSLoaded",value:function(){var t=this;t._funIsLoading()?setTimeout(function(){t._loopForCheckingJSLoaded()},100):(m.each(this._resolveJSLoads,function(r){r()}),this._resolveJSLoads=[])}},{key:"asyncWaitingJSLoaded",value:function(){var t=this;return new Q.Promise(function(r){t._funIsLoading()?(t._resolveJSLoads.push(r),t._bFirstWaitForLoaded&&(t._bFirstWaitForLoaded=!1,setTimeout(function(){t._loopForCheckingJSLoaded()},100))):r()})}}])}(),iY=function(){return y(function t(){h(this,t),this.queue=[],this.doNextStarted=!1,this.timer=null},[{key:"stop",value:function(){clearTimeout(this.timer),this.timer=null,this.doNextStarted=!1,this.queue=[]}},{key:"start",value:function(){var t=this;this.doNextStarted||(this.doNextStarted=!0,this.timer=setTimeout(function(){t.doNext()},0))}},{key:"pushToDo",value:function(t,r,i){return this.queue.push({obj:t,method:r,args:i}),!0}},{key:"doNext",value:function(){var t=this;if(this.doNextStarted)if(this.queue.length!=0){var r=this.queue[0],i=r.obj,o=r.method,u=r.args;if(this.queue.splice(0,1),i&&m.isFunction(i[o])){var d=!1;if(u.length>2){var l=u[u.length-2],c=u[u.length-1];m.isFunction(l)&&m.isFunction(c)&&(u[u.length-2]=function(){try{l.apply(i,arguments)}catch{}t.timer=setTimeout(function(){t.doNext()},0)},u[u.length-1]=function(){try{c.apply(i,arguments)}catch{}t.timer=setTimeout(function(){t.doNext()},0)},d=!0)}try{i[o].apply(i,u)}catch{}d||(t.timer=setTimeout(function(){t.doNext()},0))}else if(i===null&&m.isFunction(o)){try{o.apply(null,u)}catch{}this.timer=setTimeout(function(){t.doNext()},0)}else this.timer=setTimeout(function(){t.doNext()},0)}else this.stop();else this.stop()}}])}(),su=new iY,Fr={getImageUrl:function(t,r,i,o,u){var d,l=[t];if(m.isNumber(r)&&r<0)return"";if(r!=null&&(l.push("&index="),l.push(r)),l.push("&width="),l.push(i),l.push("&height="),l.push(o),Tn.bMobile&&l.push("&type=1&quality=85"),l.push("&ticks="),u?l.push(u):l.push(Date.now()),d=l.join(""),he.bFileSystem&&d.indexOf("dwt://")<0){var c=new Image;c.crossOrigin="anonymous",c.src=d,c=null}return d},getUrlByAct:function(t,r,i){var o=[t];return r!=null&&(o.push("&index="),o.push(r)),i&&(o.push("&act="),o.push(i)),o.push("&ticks="),o.push(Date.now()),o.join("")},output:function(t,r){m.debug&&m.log(r)},print:function(t){var r,i=0,o="";for(i=0;i<t.length;i++)o=o+'<div class="image-container"><img src="'+t[i].Url+'" /></div>';var u,d=Bu()+"/src/dynamsoft.webtwain.css",l=["alwaysRaised=yes,z-look=yes,top=0,left=0,toolbar=no,menubar=no,location=no,status=no,width=",0,",height=",0].join(""),c=window.open("about:blank","_blank",l);r=["<html>",'<head><link rel="stylesheet" type="text/css" href="',d,'"></head>','<body id="D_body">',o,"</body></html>"].join(""),c&&(c.document.write(r),c.document.close(),c.focus(),(u=c.document.body)?u.onload=function(){c&&c.print(),m.log("print image...ok")}:m.log("cannot find image"))}};Q.html5.Funs2=Fr;var oY=m.isString,aY=m.isArray,sY=m.each;function Kp(t,r){if(oY(r))t.push('"'),t.push(r),t.push('"');else if(aY(r)){var i=st;t.push("["),sY(r,function(o){i?i=Fe:t.push(","),Kp(t,o)}),t.push("]")}else r===void 0?t.push('""'):t.push(r)}function Ge(){for(var t=[],r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];if(i.length>0)if(i.length===1){var u=i[0];t.push("["),Kp(t,u),t.push("]")}else if(i.length===2){var d=i[0],l=i[1];t.push("["),Kp(t,d),t.push(","),Kp(t,l),t.push("]")}else Kp(t,Array.prototype.slice.call(i));return t.join("")}function Uu(t){return t instanceof ArrayBuffer||t instanceof Uint8Array||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||window.Uint8ClampedArray&&t instanceof window.Uint8ClampedArray||t instanceof Float32Array||t instanceof Float64Array}var _t=function(t){return t.TWAINSCANNER=16,t.WIASCANNER=32,t.TWAINX64SCANNER=64,t.ICASCANNER=128,t.SANESCANNER=256,t.ESCLSCANNER=512,t.WIFIDIRECTSCANNER=1024,t.WIATWAINSCANNER=2048,t}(_t||{}),Tk=_t.TWAINSCANNER|_t.WIASCANNER|_t.TWAINX64SCANNER|_t.ICASCANNER|_t.SANESCANNER|_t.ESCLSCANNER|_t.WIFIDIRECTSCANNER|_t.WIATWAINSCANNER,Qp=_t.TWAINSCANNER|_t.WIASCANNER|_t.TWAINX64SCANNER|_t.ICASCANNER|_t.SANESCANNER,uY=_t.TWAINSCANNER|_t.WIATWAINSCANNER|_t.TWAINX64SCANNER|_t.ICASCANNER|_t.SANESCANNER;_t.TWAINSCANNER,_t.WIASCANNER,_t.WIATWAINSCANNER;var KC=_t.ESCLSCANNER|_t.WIFIDIRECTSCANNER,xf=_t.TWAINSCANNER|_t.WIATWAINSCANNER,lY=1;function Yp(){return(++lY).toString()}function Ik(){return["dwt_",m.getRandom()].join("")}var uu=0;function On(t,r,i){if(m.log("showMask:"+t+"--"+uu),uu==0)if(r){HC(r);var o=Q.mask.dlgMask;if(o){o.style.zIndex="10000";var u=m.sizzle(".dynamsoft-backdrop",o.parentNode);u&&u.length>0&&(u[0].style.zIndex="10000")}}else HC(i||{});uu++}function un(t){m.log("hideMask:"+t+"--"+uu),uu>1?uu--:uu<=1&&(zC(),uu=0)}var wk=function(){return y(function t(r,i){h(this,t),I(this,"m_server",""),I(this,"m_iUsingTime",0),I(this,"m_countMap",{}),I(this,"m_newConsum",!1),I(this,"m_mapSavedToDb",!1),this.clearData(),this.m_enumInstance=r,r==V.DWT.EnumInstance.dwt_desktop?(this.m_deploymentType="desktop",this.m_server=i):r==V.DWT.EnumInstance.dwt_browser?(this.m_deploymentType="browser",this.m_server=i):r==V.DWT.EnumInstance.dbr&&(this.m_deploymentType="browser",this.m_server="")},[{key:"clearData",value:function(){this.m_iUsingTime=0,this.m_jvUsingTime=m.nil,this.m_countMap={},this.m_newConsum=!1,this.m_mapSavedToDb=!1,this.m_minExpiredTime=m.nil,this.m_maxExpiredTime=m.nil,this.m_cu=m.nil,this.m_ar=m.nil,this.m_ltsInstance=m.nil}},{key:"set_cu",value:function(t){this.m_cu=t}},{key:"get_cu",value:function(){return this.m_cu}},{key:"set_ar",value:function(t){this.m_ar=t}},{key:"get_ar",value:function(){return this.m_ar}},{key:"get_ltsInstance",value:function(t){return this.m_ltsInstance||(this.m_ltsInstance=t(this.m_enumInstance)),this.m_ltsInstance}},{key:"inited_ltsInstance",value:function(){return!!this.m_ltsInstance}},{key:"set_maxExpiredTime",value:function(t){this.m_maxExpiredTime=t}},{key:"get_maxExpiredTime",value:function(){return this.m_maxExpiredTime}},{key:"set_minExpiredTime",value:function(t){this.m_minExpiredTime=t}},{key:"get_minExpiredTime",value:function(){return this.m_minExpiredTime}},{key:"get_deploymentType",value:function(){return this.m_deploymentType}},{key:"get_enumDeploymentType",value:function(){return this.m_enumInstance}}])}(),Qe=V.DWT;Qe.LTS=Qe.LTS||{},Qe.licenseException={code:0,message:"",fromLTS:!1},Qe.bLTSOnline=!0,Qe.axInstance=void 0,Qe.lOnUpdateDWObj=[],Qe.EnumInstance={dwt_desktop:0,dwt_browser:1,dbr:2};var Vu,_o=0,Es={},Jp=!1,Af=!1,Df=!1,QC=!1,qp=!1;function Ek(){var t=Ne.handshakeCode;return m.isString(t)||(t=""),t}function xk(){var t=Ne.organizationID;return m.isNumber(t)?t=""+t:m.isString(t)||(t=""),t}function YC(){return m.replaceAll(xl.JSVersion,",",".")}function Qn(t,r){var i=t;return i===m.nil&&(i=V.DWT.lgdt()),i==Qe.EnumInstance.dbr?(Qe._dbrLicense||(Qe._dbrLicense=new wk(i,"")),Qe._dbrLicense):(Qe._dwtDLicense||(Qe._dwtDLicense=new wk(i,"")),Qe._dwtDLicense)}Qe.lupverfy=function(){Qn(Qe.lgdt()).get_ltsInstance(xs),Qn(Qe.EnumInstance.dbr).get_ltsInstance(xs)};var Ak=Qe.EnumInstance.dwt_desktop;Qe.lsdt=function(t,r){Ak=t},Qe.lgdt=function(t){return Ak},Qe.lsmid=function(t,r){Qn(Qe.lgdt()).set_cu(t)},Qe.lsar=function(t,r){Qn(Qe.lgdt()).set_ar(t)},Qe.lsmid2b=function(t){Qn(Qe.lgdt("")).set_cu(t)},Qe.lgar=function(t,r){return Qn(t).get_ar()},Qe.laddDWTObj=function(t){var r=!1;m.each(Qe.lOnUpdateDWObj,function(i){if(i==t)return r=!0,!1}),r||Qe.lOnUpdateDWObj.push(t)},Qe.lremoveDWTObj=function(t){m.each(Qe.lOnUpdateDWObj,function(r,i){if(r==t)return Qe.lOnUpdateDWObj.splice(i,1),!1})},Qe.lsendUpdateEvt=function(t,r){var i=[];if(m.each(Qe.lOnUpdateDWObj,function(d){t==Qe.EnumInstance.dwt_desktop&&i.push(d)}),i.length==0)return Q.Promise.resolve();var o,u=i[0];return u._bAx?(m.each(i,function(d){d.SetLTSInfo(Qn(t).get_ar(),Qn(t).get_cu())}),u.GetLicenseInfo().then(function(d){d&&m.isArray(d.Detail)&&d.Detail.length>0&&Qe.lsexp(t,d.Detail[0].ExpireDate,r)})):(o=u.SetLTSLicenseAsync(Qn(t).get_ar()).then(function(d){d&&m.isArray(d.Detail)&&d.Detail.length>0&&Qe.lsexp(t,d.Detail[0].ExpireDate,r)}),m.each(i,function(d,l){l!=0&&d.SetLTSLicenseAsync(Qn(t).get_ar())}),o)},Qe.lgcb=function(){var t=[];return he.bChrome?t.push("Chrome"):he.bFirefox?t.push("Firefox"):he.bEdge?t.push("Edge"):he.bIE?t.push("IE"):he.bSafari?t.push("Safari"):he.bOpera?t.push("Opera"):he.b360SE?t.push("360SE"):he.bTencentTraveler?t.push("TencentTraveler"):he.bMaxthon?t.push("Maxthon"):he.bMetaSr?t.push("MetaSr"):he.bTheWorld?t.push("TheWorld"):he.bUC?t.push("UC"):he.bHuaWeiBrowser&&t.push("HuaWeiBrowser"),t.push(he.strBrowserVersion),he.bWin?t.push("Windows"):he.bMac?t.push("Mac"):he.bLinux?t.push("Linux"):he.bAndroid?t.push("Android"):he.bChromeOS?t.push("ChromeOS"):he.bHarmonyOS?t.push("HarmonyOS"):Tn.bMobile?t.push("Mobile OS"):V.navInfo.bEmbed&&t.push("Embed OS"),t.join(" ")};var sd={NetworkError:-2440,Timedout:-2441,JsonError:-2442,CorsError:-2443,Expired:-2445,LtsJsLoadError:-2446,UUIDError:-2447};function xs(t){var r,i,o=Ne.licenseServer;if(o&&o.length>0)for(r=0;r<o.length;r++)i=o[r],m.endsWith(i,"/")||(o[r]=i+"/");var u=Qn(t),d={bd:Q.ltsDebug,dm:location.origin?m.startsWith(location.origin,"http")?location.origin:"https://localhost":m.startsWith(location.href,"http")?location.href:"https://localhost",hs:Q.product.handshakeCode||"",pd:Qe.lgpd(t),vm:ta,dt:u.get_enumDeploymentType(),btoa:m.btoa,atob:m.atob,fol:Qe.OnFirstOffline,sutlcb:function(){m.isFunction(Qe.lonsend)&&Qe.lonsend()},lf:Q.localforage,updl:function(p){u.set_ar(p.ar),u.get_cu()||u.set_cu(p.cu),Qe.lsendUpdateEvt(t,"")},mnet:function(){return u.get_maxExpiredTime()},mxet:function(){return u.get_minExpiredTime()},dwt:!0};if(t==Qe.EnumInstance.dwt_browser||t==Qe.EnumInstance.dbr?d.feab=Qe.lfeab_wasm:d.feab=Qe.lfeab_ax,!he.bIE&&Ne.ltsDebug&&(d.log=console.log),V.LTS&&V.LTS._)return V.LTS._.createLtsInstance(d);var l={},c=function(){return Q.Promise.reject({code:sd.LtsJsLoadError,message:"The dynamsoft.lts.js load failed."})};return l.i=c,l.s=c,l.u=c,l.caret=c,l}Qe.lgpd=function(t){return t==Qe.EnumInstance.dwt_desktop?"dwt|dbr|ddv":"dwt|ddv"};var Dk=!1;function hy(t,r){return JC.apply(this,arguments)}function JC(){return JC=s(E().mark(function t(r,i){var o,u,d,l,c,p,g,S,v,b;return E().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(o=i??"",d=Qn(r),l=d.get_enumDeploymentType(),Qe.lclex(),!d.get_ar()||!d.get_cu()){C.next=10;break}if(Dk){C.next=9;break}return u=d.get_ltsInstance(xs),C.next=8,u.ih();case 8:Dk=!0;case 9:return C.abrupt("return",Q.Promise.resolve({ar:d.get_ar(),cu:d.get_cu()}));case 10:if((c={pd:Qe.lgpd(r),v:YC(),os:Qe.lgcb(),fn:Qe.DeviceFriendlyName||"",ls:Ne.licenseServer,sp:Ne.sessionPassword,l:It.getLTSLicense(),mnet:function(){return d.get_maxExpiredTime()},mxet:function(){return d.get_minExpiredTime()},fol:Qe.OnFirstOffline}).dt=d.get_deploymentType(),l!=Qe.EnumInstance.dwt_desktop){C.next=20;break}if(d.get_cu()!=""){C.next=17;break}return Ta(p={}),C.abrupt("return",Q.Promise.reject({code:p._errorCode,message:p._errorString}));case 17:c.lsu=d.get_cu(),C.next=21;break;case 20:l==Qe.EnumInstance.dbr||(c.dwt=!0,d.get_cu()!=""&&(c.lsu=d.get_cu()),c.updl=function(D){d.set_ar(D.ar),d.get_cu()||d.set_cu(D.cu),Qe.lsendUpdateEvt(l,o)});case 21:return C.prev=21,u=d.get_ltsInstance(xs),C.next=25,u.i(c);case 25:return g=C.sent,d.get_ar()||d.set_ar(g.ar),d.get_cu()||d.set_cu(g.cu),C.abrupt("return",g);case 31:throw C.prev=31,C.t0=C.catch(21),d.clearData(),m.isString(C.t0)?(v=Pk(C.t0),Qe.lsetException(v,C.t0,!0),S=Qe.licenseException):(qC(b={},C.t0),S={code:b._errorCode,message:b._errorString}),S;case 36:case"end":return C.stop()}},t,null,[[21,31]])})),JC.apply(this,arguments)}function Pl(){return Date.now()}function ud(t){var r=t?new Date(t):new Date,i="yyyy-MM-ddTHH:mm:ss.SSSZ",o={"M+":r.getUTCMonth()+1,"d+":r.getUTCDate(),"H+":r.getUTCHours(),"h+":r.getUTCHours()%12||12,"m+":r.getUTCMinutes(),"s+":r.getUTCSeconds(),"q+":Math.floor((r.getUTCMonth()+3)/3),"S+":r.getUTCMilliseconds()};for(var u in/(y+)/.test(i)&&(i=i.replace(RegExp.$1,(r.getUTCFullYear()+"").substr(4-RegExp.$1.length))),o)new RegExp("("+u+")").test(i)&&(i=i.replace(RegExp.$1,RegExp.$1.length==1?o[u]:("000"+o[u]).substr(("000"+o[u]).length-RegExp.$1.length)));return i}function Pk(t){var r=sd.NetworkError;return t.indexOf("timed out")>-1||t.indexOf("timeout")>-1?r=sd.Timedout:(t.indexOf("access-control-allow-origin")>-1||t.indexOf("cors")>-1)&&(r=sd.CorsError),r}function qC(t,r){if(r){var i=r.code||r.ltsErrorCode,o=r.message;i==111||i==106||i==108?(Wp(t,i),t._errorString=o):(t._errorCode=i,t._errorString=o),V.DWT.lsetException(t._errorCode,t._errorString,!0)}}function XC(t,r){t.__licenseInfo=r,function(i){i.__calic||(i.__calic=i.__licenseInfo)}(t)}function py(t){var r=V.DWT.licenseException;r.code=t.code,r.message=t.message,t&&(ZC(t),t instanceof Error?m.error(t):m.error(m.stringify(t)))}function ZC(t){m.isFunction(V.DWT.OnWebTwainError)?V.DWT.OnWebTwainError(t):m.isFunction(window.Dynamsoft_OnError)&&window.Dynamsoft_OnError(t)}function my(t){return t==qi.LicenseExpiredForDLS||t==qi.LicenseNoCoreForDLS||t==qi.LicenseNoCore||t==qi.LicenseInvalid||t==qi.LicenseExpired||t==qi.LicenseParseFailed||t==qi.LicenseIsFuture||t==qi.LicenseVersionNotCurrent}function Rk(t){return t==qi.LicenseExpired}function $C(t){var r=0,i=t.message;m.isNumber(t.code)?r=t.code:m.isString(i)&&(r=-1),r!=0&&function(o,u){m.isFunction(V.OnLicenseError)&&V.OnLicenseError(u,o)}(r,i)}function kk(t){$C(kr(t))}Qe.lglic=hy,Qe.lgbuuid=function(){return""},Qe.lshow=function(){return{t:Vu,t2:_o,m:m.stringify(Es)}},Qe.lgct=function(t){switch(t){case 0:return"3011";case 1:return"3012";case 2:return"3014";case 3:return"3013";case 4:return"3015";case 14:return"3016";case 3001:return"3001";case 3002:return"3002";case 3003:return"3003";case 3004:return"3004";case 3005:return"3005";case 3006:return"3006";case 3007:return"3007";case 3008:return"3008";case 3009:return"3009";case 5001:return"5001";case 4001:return"4001";case 4002:return"4002";case 4003:return"4003"}return""},Qe.lcvrf=function(t){t&&(t._canConsume&&!t._canConsume()||setTimeout(function(){Qe.lcvrf_(t)},1))},Qe.lcvrf_=function(t){var r;r=Qe.lgdt();var i,o=Qe.DeviceFriendlyName||"",u=Qe.lgcb(),d=Qn(r),l={hs:Ek(),og:xk(),cu:d.get_cu(),fn:o,cw:"",os:u,v:YC(),dt:d.get_deploymentType(),ed:"js"},c=function(v,b){var C,D,M=0;if(m.isString(v)&&v!=""&&v!="{}"&&b&&m.isArray(b)&&!(b.length<1)){if(D=Qn(b[0]),C=m.parse(v),Qe.lclex(),_o==0){var j=Pl(),Y="";_o=j,Vu=ud(j),Es={},M=0,m.each(C,function(ee,te){(te<M||M==0)&&(M=te,Y=ee)}),M>0&&D.get_ltsInstance(xs).s(Ne.licenseServer,Y,M,!0).then(function(){},function(ee){})}m.each(C,function(ee,te){var de=!1,Z=parseInt(te);Z>0&&Z!=M&&(Z+18e4<Pl()&&(de=!0),D.get_ltsInstance(xs).s(Ne.licenseServer,ee,te,de).then(function(){},function(ne){}))})}};if(l.pd=Qe.lgpd(r),i=m.stringify(l),!t._bAx){var p="GetBuffer",g=Ge(m.replaceAll(i,'"','\\"')),S={cmd:p,cmdId:Yp(),sFun:c,fFun:function(){},params:[r]};return t._innerSendByWS(p,g,S,null,!0)}c(t.GetBuffer(i),[r,""])},Qe.lavrf=function(t,r,i,o){var u=1;if(t!=""){r>1&&(u=r);var d=Pl();if(_o>0&&_o+18e4<d){Af?(Es={},Qe.lavrf__unload()):Qe.lavrf__(!0,i,o);var l=Pl()+1;_o=l,Vu=ud(l),Es={}}Jp=!0,Af=!1,Es[t]?Es[t]+=u:Es[t]=u,_o==0&&Qe.lavrf__(!0,i,o)}},Qe.lavrf_=function(t,r,i){if(Jp){var o=1;t&&(o=t),setTimeout(function(){Qe.lavrf__(!1,r,i)},o)}},Qe.lavrf__=function(t,r,i){var o,u,d,l=Pl(),c=!1,p=!!t,g=0,S=r;m.isUndefined(S)&&(S=Qe.lgdt()),d=Qn(S),Jp=!1,_o==0&&(c=!0,_o=l,Vu=ud(l)),o=_o,u=Vu;var v={};v.ut=u;var b={};if(m.each(Es,function(ee,te){b[te]=ee,ee>0&&g++}),v.cts=b,p||o+18e4<l){p=!0;var C=Pl()+1;if(_o=C,Vu=ud(C),Es={},Af=!1,g==0)return}else{if(g==0)return;Af=!0}v.dur=c?1:180;var D,M=Qe.DeviceFriendlyName||"",j=Qe.lgcb(),Y={hs:Ek(),og:xk(),cu:d.get_cu(),fn:M,cw:"",os:j,v:YC(),dt:d.get_deploymentType(),ed:"js",rcs:[v]};Y.product=Qe.lgpd(r),D=m.stringify(Y),Ne.ltsDebug&&ud(),Qe.lclex(),d.get_ltsInstance(xs).s(Ne.licenseServer,D,""+o,p).then(function(){},function(ee){})},Qe.lavrf__unload=s(E().mark(function t(){var r,i,o,u,d,l,c;return E().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(r=Pl(),i=!0,u=!1,d=Qn(Qe.lgdt()),l=Qn(Qe.EnumInstance.dbr),Jp=!1,_o==0&&(_o=r,Vu=ud(r)),o=_o,c=Pl()+1,_o=c,Vu=ud(c),Es={},Af=!1,o+=1,Qe.lclex(),!d.inited_ltsInstance()){p.next=20;break}return p.prev=13,p.next=16,d.get_ltsInstance(xs).s(Ne.licenseServer,u,""+o,i);case 16:p.next=20;break;case 18:p.prev=18,p.t0=p.catch(13);case 20:if(!l.inited_ltsInstance()){p.next=28;break}return p.prev=21,p.next=24,l.get_ltsInstance(xs).s(Ne.licenseServer,u,""+o,i);case 24:p.next=28;break;case 26:p.prev=26,p.t1=p.catch(21);case 28:case"end":return p.stop()}},t,null,[[13,18],[21,26]])})),Qe.lclex=function(){var t=Qe.licenseException;t.code=0,t.message="",t.httpResponse="",t.fromLTS=!1},Qe.li=function(t,r){var i;return t.axInstance&&(Qe.axInstance=t.axInstance,Qe.axInstance)?(i=Qe.axInstance.GetUUID(),Ne.ltsDebug&&m.log("ActiveX cu: "+i),Qn(t.instanceMode).set_cu(i),i):Qn(t.instanceMode).get_cu()},Qe.lfeab_ax=function(t){return new Q.Promise(function(r,i){var o="";if(Qe.axInstance)try{o=Qe.axInstance.Encrypt(t,0)}catch{}r(o)})},Qe.lfeab_wasm=function(t){return Q.Promise.resolve("")},Qe.lwsproc=function(t,r){t.method=="GetBuffer"?r.sFun&&t.result.length>0?r.sFun(t.result[0],r.params):r.sFun("",r.params):r.sFun&&r.sFun(t)},Qe.lsexp=function(t,r,i){var o,u=r;if((o=(u=m.replaceAll(u,"/","-")).split("-")).length==3){var d=o[0],l=o[1],c=o[2];l.length<2&&(l=(l="00"+l).substr(l.length-2)),c.length<2&&(c=(c="00"+c).substr(c.length-2)),u=[d,l,c].join("-")}var p=[u,"T23:59:59.999Z"].join("");Qn(t).set_minExpiredTime(p),Qn(t).set_maxExpiredTime(p)},Qe.lunload=s(E().mark(function t(){return E().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Qe.lavrf__unload();case 2:_o=0,Vu=m.nil,Es={},Af=!1,Jp=!1,Df=!1,QC=!1,qp=!1,Qe.lclex(),Qe.bLTSOnline=!0,Qe.axInstance=m.nil,Qe.lOnUpdateDWObj=[];case 14:case"end":return r.stop()}},t)})),Qe.lcexp=function(t,r){return Qn(t).get_ltsInstance(xs).caret().then(function(){return!1},function(i){var o=Qe.licenseException,u="";return i instanceof Error||"message"in i?u=i.message:m.isString(i)&&(u=i),Qe.lsetException(sd.Expired,u,!1),QC||(QC=!0,m.error(u),V.OnLTSLicenseError&&V.OnLTSLicenseError(It.getPublicLicenseContent(o.message),o.code)),!0})},Qe.OnLicenseException=function(){var t=Qe.licenseException,r=t.message;if(m.isString(r)&&(r.indexOf("Error Code")>-1?r=m.replaceAll(r,"Error Code","error code"):r.indexOf("Error code")>-1&&(r=m.replaceAll(r,"Error code","error code"))),r.indexOf("(https://www.dynamsoft.com/purchase-center/)")>-1&&(r=r.replace("(https://www.dynamsoft.com/purchase-center/)","(https://www.dynamsoft.com/store/dynamic-web-twain/)"),t.message=r),r.indexOf("error code:")>-1){var i=r.substr(0,r.indexOf("message")),o=r.substr(r.indexOf("message"));i.indexOf("{")>-1&&(i=i.substr(i.indexOf("{")+1)),o.indexOf("}")>-1&&(o=o.substr(0,o.indexOf("}"))),i=m.replaceAll(i,"error code:",""),o=m.replaceAll(o,"message: ",""),Qe.lsetException(parseInt(i),o,!0),m.error(o),V.OnLTSLicenseError&&V.OnLTSLicenseError(It.getPublicLicenseContent(r),t.code)}else{if(!t.code){var u=Pk(r);Qe.lsetException(u,r,!0)}if(m.error(t.message),t.code==sd.LtsJsLoadError)return;V.OnLTSLicenseError&&V.OnLTSLicenseError(It.getPublicLicenseContent(t.message),t.code)}},Qe.lol=function(){return Qe.bLTSOnline},Qe.OnFirstOffline=function(t){Qe.bLTSOnline=!1},Qe.lpubdlg=function(t,r){if(m.isString(t)&&t!=""){if(t=m.atob(t),console&&console.warn&&!Df&&Ne.bUseDynamsoftLicenseManager,r==1)return Df||Ne.bUseDynamsoftLicenseManager||(Df=!0,V.OnLTSPublicLicenseWarning&&V.OnLTSPublicLicenseWarning(It.getPublicLicenseContent(t))),!0;r==2&&(Df||(Df=!0))}return!1},Qe.lcheckLic=function(t,r,i){var o=!1;if(r){if(m.isArray(r.Detail)&&r.Detail.length>0){var u=r.Detail[0].ExpireDate;return Qe.lsexp(t,u,i),Qe.lcexp(t,i).then(function(d){var l=!1;d?l=!0:r.Trial!=1&&r.Trial!=2||(l=Qe.lpubdlg(r.Message,r.Trial)),l||Qe.bLTSOnline||qp||(qp=!0,V.OnLTSConnectionWarning&&V.OnLTSConnectionWarning())})}r.Trial!=1&&r.Trial!=2||(o=Qe.lpubdlg(r.Message,r.Trial))}return o||Qe.bLTSOnline||qp||(qp=!0,V.OnLTSConnectionWarning&&V.OnLTSConnectionWarning()),Q.Promise.resolve()},Qe.lisValidID=function(t){if(m.isString(t)&&t!="")return!0;var r,i=Qe.licenseException;return Qe.lsetException(sd.UUIDError,"Failed to generate an ID for your device to license it: not enough permission.",!0),m.error(i.message),r=i.message,V.OnLTSLicenseError&&V.OnLTSLicenseError(r,i.code),!1},Qe.lsetException=function(t,r,i){var o=Qe.licenseException;o.code=t,o.message=r,i?o.fromLTS=!0:i in o&&delete o.fromLTS},Qe.lgcuid=function(t){var r=V.DWT.li({instanceMode:t},"");return r?Q.Promise.resolve(r):Qn(t).get_ltsInstance(xs).u().then(function(i){return V.DWT.lsmid(i,""),V.DWT.lsmid2b(i),i})},Qe.lts_unload=function(){V.DWT._dbrLicense.clearData(),V.DWT._dbrLicense=null,V.DWT._dwtDLicense.clearData(),V.DWT._dwtDLicense=null};var eT=y(function t(){h(this,t)});function tT(t){var r=new eT;return r.server=t.server,r.normal=!0,t.attrs&&(r.attrs=m.clone(t.attrs)),r}var lu=function(t){return t.CONNECTING=0,t.OPEN=1,t.CLOSING=2,t.CLOSED=3,t}({});function rT(t,r,i){if(m.isString(t)&&(t.indexOf("Function not found")>0||t.indexOf("Version not found")>0))r&&r(t);else{var o=t.data;if(N(o)==="object")return o=null,t=null,void(i&&i());var u=o.replace(/\0/g,"");try{r&&r(u)}catch{m.log(o),i&&i()}o=null,t=null}}function nT(t,r){t&&t.readyState!=lu.CLOSING&&t.readyState!=lu.CLOSED?t.readyState==lu.CONNECTING?(t.onerror=function(i){i&&m.log("websocket error: "+i),t._reject&&(t._reject(i),t._reject=null),t.close()},t.onclose=function(i){t.onclose=null,t.onerror=null,t.onmessage=null,t.onopen=null,t._reject=null},t.onopen=function(){t.readyState==lu.OPEN?(t.onopen=null,t.send(r)):t.readyState==lu.CONNECTING&&(t.onopen?setTimeout(t.onopen,100):t._reject&&(t._reject(),t._reject=null))}):t.readyState==lu.OPEN&&(t.onopen=null,t.send(r)):t._reject&&(t._reject({closed:!0}),t._reject=null)}function iT(t,r,i,o){var u,d=o;return d||(V.DWT.ConnectWithSocket?m.startsWith(t,"wss://")||m.startsWith(t,"ws://")||(d=i?"wss://":"ws://"):m.startsWith(t,"https://")||m.startsWith(t,"http://")||(d=i?"https://":"http://")),r?(m.endsWith(t,"/")&&(t=t.substring(0,t.length-1)),u=":"+r+"/"):m.endsWith(t,"/")||(u="/"),[d,t,u].join("")}var Gu=function(){function t(){h(this,t)}return y(t,null,[{key:"postStringDataByWS",value:function(r,i){return new Q.Promise(function(o,u){r.onmessage=function(d){rT(d,function(l){o(l),r.close(),r=null},function(){u(),r.close(),r=null})},r._reject=u,nT(r,i)})}},{key:"postStringDataByWSUrl",value:function(r,i){var o=new Q.Promise(function(u,d){var l=t.newWebsocket(r,!1);l.onmessage=function(c){rT(c,function(p){u(p),l.close(),l=null},function(p){d(p),l.close(),l=null})},l._reject=d,nT(l,i)});return he.bEdge&&o.catch(function(){return new Q.Promise(function(u,d){var l=t.newWebsocket(r,!0);l.onmessage=function(c){rT(c,function(p){u(p),l.close(),l=null},function(p){d(p),l.close(),l=null})},l._reject=d,nT(l,i)})}),o}},{key:"newWebsocket",value:function(r,i){var o,u=Zt.wsProtocol,d=window.MozWebSocket;if(d!==void 0)o=u?new d(r,u):new d(r);else{var l=window.WebSocket;if(i){var c=window,p=parent;try{for(;c!=p&&p.WebSocket;)l=p.WebSocket,c=p.window,p=p.parent}catch{l=window.WebSocket}}o=u?new l(r,u):new l(r)}return o}},{key:"getWsUrl",value:function(r,i,o){var u=o;return u===void 0&&(u=td(r)),iT(r,i,u,u?"wss://":"ws://")}},{key:"getDDMUrl",value:function(r,i,o){var u,d,l="/";return m.startsWith(r,"https://")?u=!0:m.startsWith(r,"http://")?u=!1:r=(u=In())?"https://"+r:"http://"+r,d=u?V.dcp.SSLPort+"/":V.dcp.Port+"/",m.endsWith(r,"/")&&(l=""),i?[r,l,"ddm/",d,o].join(""):[r,l,o].join("")}},{key:"getModuleUrl",value:function(r){var i,o=Yi(),u=td(o);return i=iT(o,u?Zt.SSLPort:Zt.Port,u),r?i+r:i}},{key:"getModuleUrlForRemoteScan",value:function(r){var i,o=he.bSSL;return i=iT(Yi(),o?Zt.SSLPort:Zt.Port,o),r?i+r:i}}])}();V.DWT.NetManager=Gu;var ko=function(t){return t.ST_UNKNOWN=0,t.ST_TWAIN_DIRECT=1,t.ST_DYNAMSOFT_SERVICE=2,t.ST_ESCL=3,t.ST_WIFI_DIRECT=4,t}({}),cY=function(){return y(function i(o){h(this,i);var u=this;if(u._id=o.id,u._clientId=m.getRandom(),u._uuidForActiveUI=null,u._bReady=Fe,u._destroy=Fe,u._bMustUpgradeService=Fe,u._wsClient=null,u._wsRetry=0,u._wsFailedTimes=0,u._bConnecting=Fe,u._bNoMask=Fe,u._bNotShowMessage=Fe,u.__serverPlatform=Kt.enumWindow,u.__productKey="",u.__licenseInfo=null,u._reconnectTimeSpan=vn.RemoteReconnectTimeSpan,u._reconnectShortSpan=300,u._reconnectShortSpanTimes=5,u._bIfShowProgressBar=st,u.__IfShowCancelDialogWhenImageTransfer=st,u._bLicenseErrorDispose=!0,u.__bServerOnPostLoadFired=!1,o.dmService){var d,l,c,p,g,S,v=tT(o.dmService),b="/",C="";l=v.server;var D=new Gv(o.dmService.server),M=D.scheme;M&&(M=M.toLowerCase()),M=="https"?(d=!0,c=l.substring(8)):M=="http"?(d=!1,c=l.substring(7)):M=="wss"?(d=!0,c=l,l=m.replaceAll(l,"wss://","")):M=="ws"?(d=!1,c=l,l=m.replaceAll(l,"ws://","")):(c=l,l=(d=In())?"https://"+l:"http://"+l),Do(D.hostname||D.scheme)?u._bRemoteMode=Fe:u._bRemoteMode=st,m.endsWith(l,"/")&&(b="");var j=v.attrs;if(j){var Y,ee;p=((Y=j)===null||Y===void 0?void 0:Y.UUID)||"";var te=((ee=j.modules)===null||ee===void 0?void 0:ee.length)||0;if(p!=""&&te>0){var de;d?te>1&&te>1+(de=j.modules[1])+2&&(g=j.modules[1+de+2]):te>2&&(g=j.modules[2]),m.endsWith(g,"/")&&(b=""),C=[p,"/",g,"/"].join(""),te>=12&&(u._dmServiceDWTVersion=j.modules[11])}}else j={UUID:"",service_type:ko.ST_DYNAMSOFT_SERVICE};S=[l,b,C].join(""),j.url=S,u._serverInfo=new ad([c,b,C].join(""),null,d,!0,Zt.wsProtocol),u._httpUrl=S,u._dmService=v}else{var Z,ne=In(),X=o.port,F=o.sslPort;Do(Z=o.host?o.host:Yi())?u._bRemoteMode=!1:u._bRemoteMode=!0,X||(X=V.DWT.Port),F||(F=V.DWT.SSLPort),u._serverInfo=new ad(Z,ne?F:X,ne,!0,Zt.wsProtocol),u._httpUrl=function(B){var U=B.server;if(U){if(m.startsWith(U,"wss://")||m.startsWith(U,"ws://"))return U}else U=Yi();return B.ssl?["https://",U,":",B.port,"/"].join(""):["http://",U,":",B.port,"/"].join("")}(u._serverInfo),u._dmService={server:u._httpUrl,attrs:{url:u._httpUrl,UUID:"",service_type:ko.ST_DYNAMSOFT_SERVICE},normal:!0}}u._dmServiceDWTVersion||(u._dmServiceDWTVersion=[Ne.getDWTPrefix(),Ne.getServerVersionInfo()].join(""))},[{key:"_resetErr",value:function(){var i=this;i._errorCode=0,i._errorString="",i._errorCause=null,i.__bServerOnPostLoadFired=!1;var o=V.DWT.licenseException;o.code=0,o.message=""}},{key:"dispose",value:(r=s(E().mark(function i(){return E().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:this.__unload();case 1:case"end":return o.stop()}},i,this)})),function(){return r.apply(this,arguments)})},{key:"__unload",value:(t=s(E().mark(function i(){return E().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:this._bReady=Fe,this._destroy=st;case 2:case"end":return o.stop()}},i,this)})),function(){return t.apply(this,arguments)})},{key:"isDestroy",get:function(){return this._destroy}}]);var t,r}(),Qa=y(function t(){h(this,t)});function Nk(t,r){var i,o=[],u=r;if(m.isString(u)&&(u=m.parse(u)),m.isArray(u))for(i=0;i<u.length;i++){var d=fY(u[i]);o.push(d)}for(i=0;i<o.length;i++){var l=o[i],c=l.deviceType;l.name&&(l.name=m.base64.decode(l.name)),c&Tk&&l.deviceInfo&&Fk(l.deviceInfo),l.serviceInfo=t==null?void 0:t._dmService,oT(l,t==null?void 0:t._dmService),m.isBoolean(l.isSystemDefaultPrinter)||(l.isSystemDefaultPrinter=!1)}return o}function dY(t,r){return function(i,o){var u=o.deviceType;return o.name&&(o.name=m.base64.decode(o.name)),u&Tk&&o.deviceInfo&&Fk(o.deviceInfo),o.serviceInfo=i==null?void 0:i._dmService,oT(o,i==null?void 0:i._dmService),m.isBoolean(o.isSystemDefaultPrinter)||(o.isSystemDefaultPrinter=!1),o}(t,m.parse(r))}function oT(t,r){var i,o=t.name,u="",d=t.deviceType;d==_t.TWAINSCANNER?i="":d==_t.TWAINX64SCANNER?i="Twain64-":d==_t.WIASCANNER?i="WIA-":d==_t.WIATWAINSCANNER?(o=m.replaceAll(o,"WIA-",""),i="WIATWAIN-"):i=d==_t.ICASCANNER?"ICA-":d==_t.SANESCANNER?"Sane-":d==_t.ESCLSCANNER?"eSCL-":(_t.WIFIDIRECTSCANNER,""),r&&r.attrs&&r.attrs.ty&&(u=" on ["+r.attrs.ty+"]"),t.displayName=[i,o,u].join("")}function Fk(t){if(t.ProductName){var r=t.ProductName;t.ProductName=m.base64.decode(r)}if(t.ProductFamily){var i=t.ProductFamily;t.ProductFamily=m.base64.decode(i)}if(t.Manufacturer){var o=t.Manufacturer;t.Manufacturer=m.base64.decode(o)}if(t.Version&&t.Version.Info){var u=t.Version.Info;t.Version.Info=m.base64.decode(u)}}function fY(t){var r=new Qa;return r.strDevice=m.stringify(t),t.deviceInfo&&(r.deviceInfo=m.clone(t.deviceInfo)),t.deviceType&&(r.deviceType=m.clone(t.deviceType)),t.displayName&&(r.displayName=m.clone(t.displayName)),t.name&&(r.name=m.clone(t.name)),t.serviceInfo&&(r.serviceInfo=tT(t.serviceInfo)),m.isBoolean(t.isSystemDefaultPrinter)?r.isSystemDefaultPrinter=t.isSystemDefaultPrinter:r.isSystemDefaultPrinter=!1,r}Q.removeNonPrintableChar;var Xp=function(t){return t.SMF_NAME=1,t.SMF_TWAINVERSION=2,t.SMF_TWAINPROTOCOL=4,t.SMF_ICAUUID=8,t.SMF_ICAMODULEVERSION=16,t.SMF_ICALOCATIONTYPE=32,t}({}),vr=function(t){return t.IT_BMP=0,t.IT_JPG=1,t.IT_TIF=2,t.IT_PNG=3,t.IT_PDF=4,t.IT_ALL=5,t.IT_MULTIPAGE_PDF=7,t.IT_MULTIPAGE_TIF=8,t.IT_J2K=14,t}({}),gy=function(t){return t.RGBA=15,t.Auto=16,t}({});function aT(t){var r="application/octet-stream";switch(t){case vr.IT_BMP:r="image/bmp";break;case vr.IT_JPG:r="image/jpeg";break;case vr.IT_TIF:r="image/tiff";break;case vr.IT_PNG:r="image/png";break;case vr.IT_PDF:r="application/pdf";break;case vr.IT_J2K:r="image/jp2"}return r}var cu={isSupportLS:function(){var t=!1;if(!(he.bEdge&&he.bFileSystem))try{t=!!window.localStorage}catch{}return t},item:function(t,r,i){var o=null;return this.isSupportLS()?(r?(localStorage.setItem(t,r),o=r):o=localStorage.getItem(t),o===null?i:o):i},removeItem:function(t){return!!this.isSupportLS()&&(localStorage.removeItem(t),!0)}},Ok=!0,Mk=!1;function hY(t){if(m.isUndefined(t))return Mk;var r,i,o,u=t.toString().toLowerCase(),d=(o=u.toLowerCase().replace(Ne.name.toLowerCase()+" ",""),(o=m.replaceAll(o,"[.]",",")).split(","));r=Ne.bActiveXEdition?xl.ActiveXVersion:Ne.getServerVersionInfo(!0),i=(r=m.replaceAll(String(r),"[.]",",")).split(",");for(var l=d.length>i.length?d.length:i.length,c=0;c<l;c++){if(d[c]==null&&(d[c]=0),i[c]==null&&(i[c]=0),parseInt(d[c])<parseInt(i[c]))return Mk;if(parseInt(d[c])>parseInt(i[c]))return Ok}return Ok}function pY(t,r){var i=t.split(","),o=r.split(",");return i.length>1&&m.trim(i[0])==o[0]}function mY(t,r){var i=t.split(","),o=r.split(",");return i.length>3&&m.trim(i[0])==o[0]&&(m.trim(i[1])>o[1]||m.trim(i[1])==o[1]&&m.trim(i[2])>o[2]||m.trim(i[1])==o[1]&&m.trim(i[2])==o[2]&&parseInt(m.trim(i[3]))>=parseInt(o[3]))}function Lk(t,r){var i=In();Q.detect.urls.splice(0),Q.detect.urls.push({port:i?r:t,ssl:i}),Q.detect.ports=[{port:i?r:t,ssl:i}],Q.detect.cUrlIndex=0,Zt.detect.dwtPort=t,Zt.detect.dwtSSLPort=r,V.DWT.Port=t,V.DWT.SSLPort=r}function sT(t,r,i){return Wk.apply(this,arguments)}function Wk(){return(Wk=s(E().mark(function t(r,i,o){var u,d,l;return E().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!Ne.bDCPChecked){c.next=2;break}return c.abrupt("return",{host:r,port:V.DWT.Port,sslPort:V.DWT.SSLPort});case 2:return wn("Initializing the service..."),c.prev=3,c.next=6,jk(r);case 6:u=c.sent,c.next=13;break;case 9:throw c.prev=9,c.t0=c.catch(3),m.log(c.t0),EC();case 13:if(!Zt.bEnhancedMode){c.next=29;break}if(wn("Checking the service enhanced module..."),d=Q.install._dlgInstall,l=500,d||(l=0),d.getAttribute("opened")=="true"||(l=0),!(u.port<=0||u.sslPort<=0)){c.next=27;break}if(!(l>0)){c.next=23;break}return c.next=23,new Q.Promise(function(p,g){setTimeout(function(){p()},l)});case 23:return wn(ZR),c.next=26,gY(r);case 26:u=c.sent;case 27:c.next=30;break;case 29:u={host:r,port:i,sslPort:o};case 30:return Ne.bDCPChecked=!0,c.abrupt("return",u);case 32:case"end":return c.stop()}},t,null,[[3,9]])}))).apply(this,arguments)}function gY(t){return uT.apply(this,arguments)}function uT(){return uT=s(E().mark(function t(r){var i,o,u,d;return E().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:o=5,u=1500,d={host:r,port:0,sslPort:0},i=0;case 3:if(!(i<o)){l.next=22;break}return i>2&&(u=3e3),wn(ZR),l.prev=6,l.next=9,vY(r);case 9:d=l.sent,l.next=14;break;case 12:l.prev=12,l.t0=l.catch(6);case 14:if(!(m.isNumber(d.port)&&d.port>0&&m.isNumber(d.sslPort)&&d.sslPort>0)){l.next=17;break}return Lk(d.port,d.sslPort),l.abrupt("return",d);case 17:return l.next=19,new Q.Promise(function(c,p){setTimeout(function(){c()},u)});case 19:i++,l.next=3;break;case 22:throw Q.detect.dcpStatus=3,EC();case 25:case"end":return l.stop()}},t,null,[[6,12]])})),uT.apply(this,arguments)}function vY(t){return lT.apply(this,arguments)}function lT(){return lT=s(E().mark(function t(r){var i,o,u,d,l,c,p,g,S,v;return E().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return i=In(),o=Ne.refProductKey,m.startsWith(r,"wss://")||m.startsWith(r,"ws://")?d=r:(l=i?Zt.SSLPort:Zt.Port,d=Gu.getWsUrl(r,l,i)),c={id:m.guid(),method:"GetPorts",version:"dwasm2_"+mf(),parameter:[Zt.strSID]},It.isLongKey(o)&&(c.productKey=o),b.next=7,Gu.postStringDataByWSUrl(d,m.stringify(c));case 7:if(p=b.sent,!m.isString(p)){b.next=20;break}if(b.prev=9,(g=m.parse(p))&&"result"in g&&(u=g.result),!(m.isArray(u)&&u.length>1&&u[1])){b.next=16;break}if(!(S=u[1]).dwt){b.next=16;break}return b.abrupt("return",{host:r,port:S.dwt.port,sslPort:S.dwt.sslPort});case 16:b.next=20;break;case 18:b.prev=18,b.t0=b.catch(9);case 20:throw Po(v={}),kr(v);case 23:case"end":return b.stop()}},t,null,[[9,18]])})),lT.apply(this,arguments)}function jk(t){return Bk.apply(this,arguments)}function Bk(){return(Bk=s(E().mark(function t(r){var i,o;return E().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return Zt.detect.bConnected=!1,u.prev=1,u.next=4,yY(r);case 4:return _Y(u.sent),Zt.detect.bConnected=!0,u.abrupt("return",{host:r,port:Zt.detect.dwtPort,sslPort:Zt.detect.dwtSSLPort});case 10:if(u.prev=10,u.t0=u.catch(1),!u.t0){u.next=21;break}if(i=u.t0.code,!m.isNumber(i)){u.next=21;break}if(i!=er.ResponseDataTypeError&&i!=er.HTSTError&&i!=er.CORSError&&i!=er.CORSErrorFromService&&i!=er.SSLCertExpired&&i!=er.SSLCertInvalid){u.next=19;break}throw u.t0;case 19:if(i!=er.MustUpgrade){u.next=21;break}throw u.t0;case 21:throw Zt.detect.dcpStatus=Zt.detect.EnumDCP_DetectStatus.NotInstalled,V.dcp._sendStatusEvent(),bf(o={}),{code:o._errorCode,message:o._errorString};case 26:case"end":return u.stop()}},t,null,[[1,10]])}))).apply(this,arguments)}function yY(t){return Uk.apply(this,arguments)}function Uk(){return(Uk=s(E().mark(function t(r){var i,o,u,d,l,c,p,g,S,v;return E().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return i=In(),o=Ne.refProductKey,m.startsWith(r,"wss://")||m.startsWith(r,"ws://")?d=r:(l=i?Zt.SSLPort:Zt.Port,d=Gu.getWsUrl(r,l,i)),c={id:m.guid(),method:"VersionInfo",version:"dwasm2_"+vn.getVersionStrForCheck(),parameter:[]},It.isLongKey(o)&&(c.productKey=o),b.next=7,Gu.postStringDataByWSUrl(d,m.stringify(c));case 7:if(p=b.sent,m.isString(p))try{(g=m.parse(p))&&"result"in g&&(u=g.result)}catch{}if(S={},!(m.isArray(u)&&u.length>0&&u[0])){b.next=22;break}if(v=u[0],!m.isString(v)||v==""){b.next=22;break}if(!pY(v,Ne.getServerVersionInfo(!0))){b.next=19;break}return Zt.detect.dcpStatus=Zt.detect.EnumDCP_DetectStatus.UpdateSkipped,V.dcp._sendStatusEvent(),b.abrupt("return",u);case 19:throw wn($R),yf(S),kr(S);case 22:throw Po(S),kr(S);case 24:case"end":return b.stop()}},t)}))).apply(this,arguments)}function _Y(t){var r="",i=!1,o=!1,u={};if(t.length>4&&(r=m.isString(t[2])?t[2]:"",i=m.isString(t[3])&&t[3]==="true",o=m.isString(t[4])&&t[4]==="64"),t.length>5&&(u=t[5]),Zt.detect.connectedResult=t,Zt.strSID=r,Zt.bEnhancedMode=i,Zt.b64bit=o,Zt.objEnhancedPorts=u,i&&u){if(u.dcp){var d=u.dcp;Zt.SSLPort=d.sslPort,Zt.Port=d.port}if(u.ddm){var l=u.ddm;if(l){var c=In();Zt.detect.ddmPort=c?l.sslPort:l.port}else Zt.detect.ddmPort=0}if(V.DWT.Port=0,V.DWT.SSLPort=0,u.dwt){var p=u.dwt;p&&p.port>0&&p.sslPort>0&&Lk(p.port,p.sslPort)}}}function Vk(){return Gk.apply(this,arguments)}function Gk(){return(Gk=s(E().mark(function t(){return E().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!navigator.permissions||!navigator.permissions.query){r.next=9;break}return r.prev=1,r.next=4,navigator.permissions.query({name:"local-network-access"});case 4:return r.abrupt("return",r.sent);case 7:r.prev=7,r.t0=r.catch(1);case 9:return r.abrupt("return",{state:"other"});case 10:case"end":return r.stop()}},t,null,[[1,7]])}))).apply(this,arguments)}function Hk(t){if(m.isString(t)){if(t=="localhost"||t=="127.0.0.1")return!0;var r=t.split(".");if(r.length==4&&/^(([1-9]?\d|1\d{2}|2[0-4]\d|25[0-5])\.){3}([1-9]?\d|1\d{2}|2[0-4]\d|25[0-5])$/.test(t)){var i=parseInt(r[0]),o=parseInt(r[1]);if(i==127||i==10||i==169&&o==254||i==172&&o>=16&&o<=31||i==192&&o==168)return!0}}return!1}function SY(){return zk.apply(this,arguments)}function zk(){return(zk=s(E().mark(function t(){return E().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!navigator.permissions||!navigator.permissions.query){r.next=9;break}return r.prev=1,r.next=4,navigator.permissions.query({name:"local-network-access"});case 4:return r.abrupt("return",!0);case 7:r.prev=7,r.t0=r.catch(1);case 9:return r.abrupt("return",!1);case 10:case"end":return r.stop()}},t,null,[[1,7]])}))).apply(this,arguments)}function bY(){return cT.apply(this,arguments)}function cT(){return cT=s(E().mark(function t(){var r;return E().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return r=location.hostname,i.next=3,SY();case 3:if(i.t1=i.sent,!i.t1){i.next=6;break}i.t1=!Hk(r);case 6:if(i.t0=i.t1,!i.t0){i.next=9;break}i.t0=!he.bFileSystem;case 9:return i.abrupt("return",i.t0);case 10:case"end":return i.stop()}},t)})),cT.apply(this,arguments)}function dT(){var t=location.hostname;return!(!((he.bChrome||he.bEdge)&&parseInt(he.strBrowserVersion)>=94)||Hk(t)||he.bSSL||he.bFileSystem)}function Kk(t,r,i,o){return fT.apply(this,arguments)}function fT(){return fT=s(E().mark(function t(r,i,o,u){var d,l;return E().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(i!=_n.GET_TASKID){c.next=4;break}return c.abrupt("return",u.taskId);case 4:if(i!=_n.ONMESSAGE_PROCESS_DATA){c.next=8;break}return c.abrupt("return",m.parse(r));case 8:if(i!=_n.ONMESSAGE_GET_TASKID){c.next=15;break}if(!r||!r.cmdId){c.next=11;break}return c.abrupt("return",r.cmdId);case 11:if(!u||!u.client){c.next=13;break}return c.abrupt("return",u.client.getRequestTaskId());case 13:c.next=23;break;case 15:if(i!=_n.HANDLE_RAW_MESSAGE){c.next=23;break}if(l=r.rawData,r.jsonData,d=u==null?void 0:u.userData){c.next=21;break}return c.abrupt("return",!1);case 21:return l.indexOf("Version not found")>=0||l.indexOf("Function not found")>=0?m.isFunction(d.fFun)&&d.fFun():m.isFunction(d.sFun)&&d.sFun(l),c.abrupt("return",l);case 23:case"end":return c.stop()}},t)})),fT.apply(this,arguments)}function Qk(t){var r,i,o=t.WebTwainId,u=t.Host,d=t.Port,l=t.SSLPort;return i={},m.isString(o)&&o!==""?i.id=o:i.id=o=Ik(),m.isDOM(t.Container)?(r=t.Container,m.isString(r.id)&&r.id!==""||(r.id=["dwt_node_",m.getRandom()].join("")),i.container=r,i.bNoViewer=!1):i.bNoViewer=!0,i.bNoViewer?(i.width=0,i.height=0):(m.isUndefined(t.Width)?r.style.width?i.width=r.style.width:i.width=300:i.width=t.Width,m.isUndefined(t.Height)?r.style.height?i.height=r.style.height:i.height=300:i.height=t.Height),i.dmService=t.dmService,m.isString(u)&&u!=""||(u=Yi()),i.host=u,d||(d=V.DWT.Port),i.port=d,l||(l=V.DWT.SSLPort),i.sslPort=l,i}V.DWT.NetManager.checkModuleManager=function(t,r){jk(Yi()).then(t,r)},V.DWT.NeedCheckWebTwainBySocket=dT,V.DWT.CheckWebTwainBySocket=function(t,r,i){var o,u,d,l=Q.detect.urls;if(l&&l.length>0){var c=l[0];o=c.host||Yi(),u=c.port,d=c.ssl}else d=td(o=Yi()),Do(o)&&(d=!(!d||!he.bSafari),o=vn.hostForCheckCert),u=d?V.DWT.SSLPort:V.DWT.Port;(function(p,g,S,v){var b,C=m.now(),D=C,M={id:C,cmdId:C,method:"VersionInfo",version:[Ne.getDWTPrefix(),vn.getVersionStrForCheck()].join("")},j=Kk,Y={cmdId:D,cmd:null,sFun:g,fFun:S,rawData:!0},ee=Op();b={client:p,userData:Y,taskId:C},p.setRetry(0),p.request(m.stringify(M),j,b,ee).then(function(te){return p.dispose(),te},function(){m.isFunction(v)&&v(),p.dispose()})})(Lu.getWsClient(o,u,d,!0),t,r,i)},V.DWT.IsLocalServiceConnected=function(){return new Q.Promise(function(t,r){var i,o=Yi(),u=td(o);m.each(Q.detect.ports,function(d){u?d.ssl&&(i=d.port):d.ssl||(i=d.port)}),V.DWT.CheckConnectToTheService(o,i,u,function(d,l,c){t(!0)},function(){r(!1)})})};var Rl=function(t){return t.Info=1,t.Error=2,t.NotInstalledError=3,t}({});function Yk(t){var r=Date.parse(t+"T00:00:00");return t!=""&&!isNaN(r)&&!!V.DWT.CheckCertExpired&&new Date().getTime()>=r-864e5*V.DWT.CertificateConfig.UpdateDaysBeforeExpired}function Jk(t,r,i){if(t){var o=r??270,u=i??350;o<=0&&(o=270),u<=0&&(u=350),Pe.one(t).before(Q.install._strNonInstallDIV);var d=m.get(Q.install._divDWTNonInstallContainerID);d&&(d.style.width=o,d.style.height=u),m.show(Q.install._divDWTNonInstallContainerID)}}function Hu(t){var r=Hp(),i=In();if(Q.install._divDWTemessageContainer!=""&&m.hide(Q.install._divDWTemessageContainer),he.bMac)t?m.isFunction(V.OnWebTwainNeedUpgradeCallback)&&V.OnWebTwainNeedUpgradeCallback(Ne.name,{default:r},Ne.bHTML5Edition,Kt.enumMac,he.bIE,he.bSafari,i,Tn.strIEVersion):m.isFunction(V.OnWebTwainNotFoundOnMacCallback)&&V.OnWebTwainNotFoundOnMacCallback(Ne.name,r,Ne.bHTML5Edition,he.bIE,he.bSafari,i,Tn.strIEVersion);else if(he.bLinux||V.navInfo.bEmbed||he.bChromeOS||Tn.bMobile){var o,u,d=XR();if(V.navInfo.bEmbed||he.bAndroid||he.bChromeOS||he.bHarmonyOS?o=r:(o=JR(),u=qR()),t){if(he.bAndroid)m.isFunction(V.OnWebTwainNeedUpgradeOnAndroidCallback)&&V.OnWebTwainNeedUpgradeOnAndroidCallback(Ne.name,r,i);else if(m.isFunction(V.OnWebTwainNeedUpgradeCallback)){var l={default:o};he.bLinux&&(l.deb=o,l.rpm=u),V.OnWebTwainNeedUpgradeCallback(Ne.name,l,Ne.bHTML5Edition,d,he.bIE,he.bSafari,i,Tn.strIEVersion)}}else he.bAndroid?m.isFunction(V.OnWebTwainNotFoundOnAndroidCallback)&&V.OnWebTwainNotFoundOnAndroidCallback(Ne.name,r,i,!1):!vn.bFullEdition&&Tn.bMobile?m.isFunction(V.OnMobileNotSupportCallback)&&V.OnMobileNotSupportCallback():m.isFunction(V.OnWebTwainNotFoundOnLinuxCallback)&&V.OnWebTwainNotFoundOnLinuxCallback(Ne.name,o,u,Ne.bHTML5Edition,he.bIE,he.bSafari,i,Tn.strIEVersion,d)}else if(he.bChrome||he.bSafari||he.bFirefox||he.bOpera||V.DWT.IfUseActiveXForIE10Plus==it||!V.DWT.ActiveXInstallWithCAB&&he.bIE)if(t){if(m.isFunction(V.OnWebTwainNeedUpgradeCallback)){var c={default:r};V.OnWebTwainNeedUpgradeCallback(Ne.name,c,Ne.bHTML5Edition,Kt.enumWindow,he.bIE,he.bSafari,i,Tn.strIEVersion)}}else m.isFunction(V.OnWebTwainNotFoundOnWindowsCallback)&&V.OnWebTwainNotFoundOnWindowsCallback(Ne.name,r,Ne.bHTML5Edition,he.bIE,he.bSafari,i,Tn.strIEVersion)}var qk=!1;function CY(t,r,i){Do(t)&&(cu.item("DWT_port",r),cu.item("DWT_ssl",i?"true":"false"))}function Pf(t,r,i,o,u){return Xk.apply(this,arguments)}function Xk(){return(Xk=s(E().mark(function t(r,i,o,u,d){var l,c,p,g,S,v,b,C,D,M,j,Y,ee,te,de,Z,ne,X,F,B,U,K,q,re,oe,fe,ae,ue,ve,be,Ce,je,Ye,He,St,ct,gt;return E().wrap(function($e){for(;;)switch($e.prev=$e.next){case 0:if(p=!1,g=!1,S=!1,v=V.DWT.ConnectWithSocket,b=!0,d&&(d.bRemoteServer&&(S=!0),d.bConnectWithSocket&&(v=!0),d.bCheckCert&&(g=!0),d.bShowInitMessage===!1&&(b=!1)),b&&V.DWT.OnWebTwainInitMessage&&V.DWT.OnWebTwainInitMessage("Checking WebTwain version ...",Rl.Info),C=m.now(),M=['{"id":"',D=C,'","cmdId":"',D,'","method":"VersionInfo","version":"',Ne.getDWTPrefix(),vn.getVersionStrForCheck(),'"}'].join(""),j=!v&&!he.bSSL,$e.prev=7,!v){$e.next=23;break}return Y=Kk,ee={client:l,userData:{cmdId:D,cmd:null,sFun:null,fFun:null,rawData:!0},taskId:D},(l=Lu.getWsClient(r,i,o,!0)).setRetry(0),$e.next=15,l.request(M,Y,ee,u);case 15:if(c=$e.sent,!l){$e.next=20;break}return $e.next=19,l.dispose();case 19:l=null;case 20:p=!0,$e.next=31;break;case 23:return te="fa/VersionInfo?v=1&ts="+C,de=Lu.getHttpClient(r,i,o),Z={},Do(r)&&(Z.targetAddressSpace="loopback"),j&&(Z.redirect="manual"),$e.next=30,de.request(M,te,Z,u);case 30:c=$e.sent;case 31:$e.next=52;break;case 33:if($e.prev=33,$e.t0=$e.catch(7),m.log(["check DWT Version failed",m.stringify($e.t0)]),!l){$e.next=40;break}return $e.next=39,l.dispose();case 39:l=null;case 40:if(!p){$e.next=44;break}$e.next=52;break;case 44:if(!j){$e.next=48;break}if(($e.t0&&$e.t0.code)!=er.HTTPRedirected){$e.next=48;break}throw FR();case 48:throw bf(ne={}),b&&V.DWT.OnWebTwainInitMessage&&V.DWT.OnWebTwainInitMessage(ne._errorString,Rl.Error),{code:ne._errorCode,message:ne._errorString};case 52:if(X="",F="",B={},U=!1,c&&(K=m.parse(c)),!K||!("exception"in K)){$e.next=59;break}na(K)?(B._errorCode=K.exception,B._errorString=K.description,B._errorCause=vo(K)):B._errorCode=er.CommonError,$e.next=138;break;case 59:if(!K||!("result"in K)){$e.next=100;break}if(K=K.result,!(m.isArray(K)&&K.length>0)){$e.next=97;break}if(q=K[0],X=K.length>1?K[1]:"",re=K.length>2?K[2]:0,oe=K.length>3?K[3]:"",F=K.length>4?K[4]:"",X!==""){$e.next=94;break}if(fe="The WebTwain version is: "+q,b&&V.DWT.OnWebTwainInitMessage&&V.DWT.OnWebTwainInitMessage(fe,Rl.Info),re=="32"&&Do(r)&&(Zt.b64bit=!1),Do(r)&&(V.DWT.li({instanceMode:V.DWT.lgdt()},"")||oe!=""&&(V.DWT.lsmid(oe,""),V.DWT.lsmid2b(oe))),(m.isFunction(V.DWT.OnSSLCertInfo)||m.isFunction(V.OnSSLCertInfo))&&(F!=""&&(ae=Date.parse(F+"T00:00:00"),ae=isNaN(ae)?null:new Date(ae)),qk||(m.isFunction(V.DWT.OnSSLCertInfo)?V.DWT.OnSSLCertInfo(ae):m.isFunction(V.OnSSLCertInfo)&&V.OnSSLCertInfo(ae)),qk=!0),!g){$e.next=81;break}if(F!=""){$e.next=78;break}throw $K();case 78:if(!Yk(F)){$e.next=81;break}throw ZK();case 81:if(!m.isString(q)||q==""){$e.next=91;break}if(wn("Checking the WebTwain version..."),!S&&!mY(q,Ne.getServerVersionInfo(!0))){$e.next=87;break}return $e.abrupt("return",{host:r,port:i,bSSL:o,version:q,certExpiredDate:ae});case 87:wn($R),yf(B);case 89:$e.next=92;break;case 91:U=!0;case 92:$e.next=95;break;case 94:X==="Version not found"?yf(B):XK(B,X);case 95:$e.next=98;break;case 97:U=!0;case 98:$e.next=138;break;case 100:if(!K||!("ports"in K)){$e.next=137;break}if(ue=K.ports,ve=[],!(m.isArray(ue)&&ue.length>0)){$e.next=134;break}if(m.each(ue,function(Je){m.isArray(Je)&&Je.length===3&&Je[0]&&ve.push(Je)}),ve.length!=1){$e.next=110;break}je=ve[0],Ce=je[2],be=je[1],$e.next=132;break;case 110:if(!(ve.length>1)){$e.next=132;break}d.bShowInitMessage=!1,d.bConnectWithSocket=!0,Ye=0;case 114:if(!(Ye<ve.length)){$e.next=132;break}if(He=ve[Ye],!m.isArray(He)||He.length!==3){$e.next=129;break}if(!He[0]){$e.next=129;break}return St=He[2],ct=He[1],gt=o?St:ct,$e.prev=119,$e.next=122,Pf(r,gt,o,u,d);case 122:return be=ct,Ce=St,$e.abrupt("break",132);case 127:$e.prev=127,$e.t1=$e.catch(119);case 129:Ye++,$e.next=114;break;case 132:if(!be||!Ce){$e.next=134;break}return $e.abrupt("return",{bPortsChanged:!0,port:be,sslPort:Ce});case 134:bf(B),$e.next=138;break;case 137:U=!0;case 138:throw U&&Po(B),b&&V.DWT.OnWebTwainInitMessage&&V.DWT.OnWebTwainInitMessage(B._errorString,Rl.Error),{code:B._errorCode,message:B._errorString};case 141:case"end":return $e.stop()}},t,null,[[7,33],[119,127]])}))).apply(this,arguments)}var Zp=!1,TY=new Ck(function(){return Zp});function hT(t){return Zk.apply(this,arguments)}function Zk(){return(Zk=s(E().mark(function t(r){var i;return E().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,r();case 3:case 14:i=o.sent,o.next=18;break;case 6:if(o.prev=6,o.t0=o.catch(0),o.t0.code!=er.MustUpgrade){o.next=10;break}throw o.t0;case 10:if(!he.bSSL||!V.DWT.EnableLocalNetworkMixedContent){o.next=17;break}return V.DWT.EnableLocalNetworkMixedContent=!1,o.next=14,r();case 17:throw o.t0;case 18:return o.abrupt("return",i);case 19:case"end":return o.stop()}},t,null,[[0,6]])}))).apply(this,arguments)}function $k(t){return eN.apply(this,arguments)}function eN(){return(eN=s(E().mark(function t(r){var i,o,u,d,l;return E().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!(V.DWT.EnableLocalNetworkMixedContent&&he.bSSL||Ne.bPortChanged)){c.next=4;break}c.next=6;break;case 4:if(!Ne.bDWTChecked||!r.bFromLoadInit){c.next=6;break}return c.abrupt("return");case 6:if(Zp){c.next=10;break}Zp=!0,c.next=13;break;case 10:return c.next=12,TY.asyncWaitingJSLoaded();case 12:return c.abrupt("return",c.sent);case 13:return i=r.host,o=V.DWT.EnableLocalNetworkMixedContent,c.prev=14,c.prev=15,c.next=19,hT(s(E().mark(function p(){var g;return E().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,pT(r,!0);case 2:return _T(g=S.sent,r),S.abrupt("return",g);case 5:case"end":return S.stop()}},p)})));case 19:return u=c.sent,c.next=22,Vk();case 22:if(!(d=c.sent)){c.next=41;break}if(l=!0,d.state!="denied"){c.next=28;break}c.next=38;break;case 28:if(d.state!="prompt"){c.next=37;break}return c.next=31,bY();case 31:if(!c.sent){c.next=34;break}c.next=35;break;case 34:l=!1;case 35:c.next=38;break;case 37:l=!1;case 38:if(!l){c.next=41;break}return c.next=41,xY(r);case 41:c.next=51;break;case 43:if(c.prev=43,c.t0=c.catch(15),c.t0.code!=er.MustUpgrade){c.next=48;break}throw Hu(!0),c.t0;case 48:return c.next=50,hT(s(E().mark(function p(){var g;return E().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,wY(r);case 2:return _T(g=S.sent,r),S.abrupt("return",g);case 5:case"end":return S.stop()}},p)})));case 50:u=c.sent;case 51:if(he.bSSL||!dT()||V.DWT.ConnectWithSocket){c.next=55;break}return c.next=54,hT(s(E().mark(function p(){var g;return E().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,EY(r);case 2:return _T(g=S.sent,r),S.abrupt("return",g);case 5:case"end":return S.stop()}},p)})));case 54:u=c.sent;case 55:return o&&V.DWT.EnableLocalNetworkMixedContent===!1&&(Ne.bIgnoreHttpsMixedContent=!0,V.DWT.EnableLocalNetworkMixedContent=o),Q.detect.dcpStatus=2,CY(r.host,u.port,u.bSSL),c.next=60,ak(!1,!0);case 60:if(!Ji()||!Do(i)){c.next=64;break}if(V.DWT.li({instanceMode:V.DWT.lgdt()},"")){c.next=64;break}throw rQ();case 64:c.next=70;break;case 66:throw c.prev=66,c.t1=c.catch(14),Zp=!1,c.t1;case 70:Ne.bDWTChecked=!0,Zp=!1;case 72:case"end":return c.stop()}},t,null,[[14,66],[15,43]])}))).apply(this,arguments)}function pT(t,r,i){return mT.apply(this,arguments)}function mT(){return mT=s(E().mark(function t(r,i,o){var u,d,l,c,p,g,S,v,b;return E().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return wn("Checking the WebTwain module..."),u=r.host,d=r.port,l=r.sslPort,c=In(),(p=c?l:d)||m.each(Q.detect.ports,function(D){c?D.ssl&&(p=D.port):D.ssl||(p=D.port)}),S=!0,o!==!1&&o!==Fe||(S=!1),C.prev=5,C.next=8,Pf(u,p,c,i?Op():vf(),{bConnectWithSocket:i,bShowInitMessage:S});case 8:if(!(g=C.sent).bPortsChanged){C.next=19;break}return v=g.port,b=g.sslPort,p=c?b:v,r.port=v,r.sslPort=b,C.next=17,Pf(u,p,c,i?Op():vf(),{bConnectWithSocket:i,bShowInitMessage:S});case 17:(g=C.sent).bPortsChanged=!0;case 19:C.next=25;break;case 21:throw C.prev=21,C.t0=C.catch(5),Q.detect.dcpStatus=3,C.t0;case 25:return wn("Check the WebTwain version successfully."),!vn.versionInfoFromServer&&Do(g.host)&&(vn.versionInfoFromServer=g.version),C.abrupt("return",g);case 28:case"end":return C.stop()}},t,null,[[5,21]])})),mT.apply(this,arguments)}function IY(t,r,i,o,u,d){gT(t,r,i,{bRemoteServer:!0,bConnectWithSocket:o},u,d)}function tN(t,r,i,o,u){if(m.isString(t)&&m.isString(r))gT(t,r,i,null,o,u);else{var d=t,l=r,c=V.DWT.Host,p=td(c);gT(c,p?V.DWT.SSLPort:V.DWT.Port,p,null,d,l)}}function gT(t,r,i,o,u,d){var l=0,c=t,p=r,g=i,S=u,v=d;if(m.isFunction(c)&&m.isFunction(p)){for(S=c,v=p,c=Yi(),l=0;l<Q.detect.ports.length;l++)if(g&&Q.detect.ports[l].ssl||!g&&!Q.detect.ports[l].ssl){p=Q.detect.ports[l].port;break}}c||(c=Yi()),Pf(c,p,g,vf(),o).then(function(b){var C=b.host,D=b.port,M=b.version;m.isFunction(S)&&S(C,D,M)},function(b){m.isFunction(v)&&v(b)})}function wY(t){return rN.apply(this,arguments)}function rN(){return(rN=s(E().mark(function t(r){var i,o,u,d,l,c,p,g,S,v,b;return E().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(i=r.port,o=r.sslPort,u=In(),d=u?o:i,!u||he.bSafari||he.bMobile||he.bAndroid){C.next=56;break}if(C.prev=2,!V.DWT.ConnectWithSocket&&V.DWT.IfCheckCORS==1){C.next=7;break}throw bf(l={}),{code:l._errorCode,message:l._errorString};case 7:return C.next=9,vT(r,!1);case 9:C.next=54;break;case 11:if(C.prev=11,C.t0=C.catch(2),(c=C.t0.code)!=er.CORSErrorFromService&&c!=er.SSLCertExpired&&c!=er.SSLCertInvalid){C.next=18;break}throw C.t0;case 18:if(c!=er.MustUpgrade){C.next=23;break}throw Hu(!0),C.t0;case 23:if(!he.bSSL||!V.DWT.EnableLocalNetworkMixedContent){C.next=25;break}throw C.t0;case 25:if(C.prev=25,V.DWT.IfCheckCert==1){C.next=30;break}throw bf(p={}),{code:p._errorCode,message:p._errorString};case 30:return C.next=32,Pf(gf,i,!1,Op(),{bConnectWithSocket:!0,bCheckCert:!0});case 32:if(!(g=C.sent).bPortsChanged){C.next=40;break}return i=g.port,o=g.sslPort,d=u?o:i,C.next=39,Pf(gf,d,!1,Op(),{bConnectWithSocket:!0,bCheckCert:!0});case 39:g=C.sent;case 40:C.next=54;break;case 42:if(C.prev=42,C.t1=C.catch(25),(S=C.t1.code)!=er.CORSErrorFromService&&S!=er.SSLCertExpired&&S!=er.SSLCertInvalid){C.next=49;break}throw C.t1;case 49:if(S!=er.MustUpgrade){C.next=52;break}throw Hu(!0),C.t1;case 52:throw Do(r.host)?Hu(!1):m.isFunction(V.OnRemoteWebTwainNotFoundCallback)&&V.OnRemoteWebTwainNotFoundCallback(Ne.name,r.host,d,u,Tn.bMobile),C.t1;case 54:C.next=81;break;case 56:if(C.prev=56,!V.DWT.ConnectWithSocket&&V.DWT.IfCheckCORS!=0){C.next=61;break}throw bf(v={}),{code:v._errorCode,message:v._errorString};case 61:return C.next=63,vT(r,!1);case 63:C.next=81;break;case 65:if(C.prev=65,C.t2=C.catch(56),(b=C.t2.code)!=er.CORSErrorFromService&&b!=er.SSLCertExpired&&b!=er.SSLCertInvalid){C.next=72;break}throw C.t2;case 72:if(b!=er.MustUpgrade){C.next=77;break}throw Hu(!0),C.t2;case 77:if(!he.bSSL||!V.DWT.EnableLocalNetworkMixedContent){C.next=79;break}throw C.t2;case 79:throw Do(r.host)?Hu(!1):m.isFunction(V.OnRemoteWebTwainNotFoundCallback)&&V.OnRemoteWebTwainNotFoundCallback(Ne.name,r.host,d,u,Tn.bMobile),C.t2;case 81:throw EC();case 82:case"end":return C.stop()}},t,null,[[2,11],[25,42],[56,65]])}))).apply(this,arguments)}function EY(t){return nN.apply(this,arguments)}function nN(){return(nN=s(E().mark(function t(r){return E().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",vT(r,!0));case 1:case"end":return i.stop()}},t)}))).apply(this,arguments)}function vT(t,r){return iN.apply(this,arguments)}function iN(){return(iN=s(E().mark(function t(r,i){var o,u,d;return E().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(l.prev=0,V.DWT.ConnectWithSocket){l.next=5;break}return l.next=4,pT(r,Fe);case 4:o=l.sent;case 5:l.next=14;break;case 7:throw l.prev=7,l.t0=l.catch(0),u=l.t0,(d=l.t0.code)==er.ResponseDataTypeError||d==er.HTSTError||d==er.CORSError||d==er.SSLCertExpired||d==er.SSLCertInvalid||d==er.MustUpgrade||(d==er.CORSErrorFromService?m.isFunction(V.OnCorsConfigError)&&V.OnCorsConfigError(l.t0.message):Do(r.host)&&i&&dT()&&(u=eQ(),d=u.code)),d==er.CORSError&&m.isFunction(V.OnHTTPCorsError)&&V.OnHTTPCorsError(u.message),u;case 14:return l.abrupt("return",o);case 15:case"end":return l.stop()}},t,null,[[0,7]])}))).apply(this,arguments)}var vy,yT=Fe;function oN(t){return aN.apply(this,arguments)}function aN(){return(aN=s(E().mark(function t(r){var i,o,u,d;return E().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,Vk();case 2:if(!(i=l.sent)){l.next=26;break}if((o=i.state)!="denied"&&o!="prompt"){l.next=24;break}return l.prev=6,l.next=9,pT(r,Fe,Fe);case 9:(u=l.sent)&&u.port&&(r.Port=u.port),yT&&V.DWT.CloseDialog(),vy(),l.next=22;break;case 15:l.prev=15,l.t0=l.catch(6),uQ(d={}),V.DWT.OnWebTwainInitMessage&&V.DWT.OnWebTwainInitMessage(d._errorString,Rl.Error),o=="denied"&&V.OnBrowserLNADenied&&(V.OnBrowserLNADenied(d._errorString),yT=!0),setTimeout(function(){oN(r)},2e3);case 22:l.next=26;break;case 24:yT&&V.DWT.CloseDialog(),vy();case 26:case"end":return l.stop()}},t,null,[[6,15]])}))).apply(this,arguments)}function xY(t){return vy=null,new Q.Promise(function(r,i){vy=r,oN(t)})}function _T(t,r){t&&t.bPortsChanged&&(V.dcp.Port=r.port,V.dcp.SSLPort=r.sslPort,V.DWT.Port=r.port,V.DWT.SSLPort=r.sslPort,Ne.bPortChanged=!0)}function AY(t,r){(function(i,o){if(o.has(i))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,r),r.add(t)}function ST(t,r,i){if(typeof t=="function"?t===r:t.has(r))return arguments.length<3?r:i;throw new TypeError("Private element is not present on this object")}var yy=new WeakSet,No=function(t){function r(X){var F;return h(this,r),AY(F=f(this,r,[X]),yy),F._acquireDivEL=null,F.__serverId="",F.__bAcquireImageNow=Fe,F._blts=Ji(),F._bltsCopyImage=!1,F._b64bit=Zt.b64bit,F._logLevel=0,F._bServerAlwaysFocusOnPopupWindow=st,F._bPageFocus=st,F.__bOpenFileNow=Fe,F._bScanForProxyRemote=Fe,F._loadImageBytesFileCount=0,F._evt_ids=[],F}return P(r,t),y(r,[{key:"_isValid",value:function(){return!this._destroy||(CR(this),!1)}},{key:"_connnect",value:(ne=s(E().mark(function X(){var F;return E().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return F=this,B.abrupt("return",new Q.Promise(function(U,K){tN(F._serverInfo.server,F._serverInfo.port,F._serverInfo.ssl,U,K)}));case 2:case"end":return B.stop()}},X,this)})),function(){return ne.apply(this,arguments)})},{key:"_waitForConnect",value:function(){var X=this;return X._wsRetry=0,X._bReady?Q.Promise.resolve():new Q.Promise(function(F,B){X._wsCheckResolve=F,X._wsCheckReject=B,lN(X)})}},{key:"_getWSCallback",value:function(){return PY}},{key:"_getWSContextData",value:function(){return{}}},{key:"_additionalWSCallback",value:function(X,F,B,U){X=="ConvertToBlob"&&F._blob_callbacks.push(function(K){return B(K,_n.HANDLE_RAW_MESSAGE,"0",U)})}},{key:"_innerSendBlobByWS",value:function(X,F,B,U,K){var q={cmd:X,cmdId:Yp(),sFun:function(re){m.isFunction(U)&&U(re)},fFun:K,contextData:{document:B.currentFileName,tag:B.currentTagName,bNeedClearTag:B.bNeedClearCurrentTagName,index:B.index,bNeedRefresh:X=="UpdateImage"},rawData:!0};return this._innerSendByWS(X,F,q,B,!0)}},{key:"_innerSendByWS",value:function(X,F,B,U,K){var q,re,oe,fe,ae=this,ue=this._getWSCallback();B&&B.cmdId?(q=B.cmdId,oe=_y(ae._clientId,q),fe=_y(ae._clientId,""),this._evt_ids.push(oe)):(q=0,oe=0,fe=0);var ve=ld(ae._clientId,X,F,q,ae._bScanForProxyRemote?ae._dmServiceDWTVersion:""),be=ae._wsClient;re={client:be,userData:{stwain:ae,command:B},taskId:q,eventTaskId:oe,lastEventTaskId:fe};var Ce,je,Ye,He,St,ct,gt,$e,Je=0;if(!K){var We;try{We=be.request(ve,ue,re)}catch(Qt){m.log(Qt),We=Q.Promise.reject(Qt)}return We}if(Ye=new ArrayBuffer(12),U)if(U instanceof Blob)Je=U.size;else if(U instanceof ArrayBuffer||U instanceof Uint8Array)Je=U.byteLength;else if(U instanceof Array)Je=U.length;else{var Ke=U;Je=Ke.size||Ke.byteLength||Ke.length}for(je=(Ce=(gt=new Blob([ve])).size)+Je,He=new DataView(Ye),ct=0;ct<8&&je;ct++)He.setUint8(ct,je%256),je=Math.floor(je/256);for(ct=0;ct<4&&Ce;ct++)He.setUint8(8+ct,Ce%256),Ce=Math.floor(Ce/256);return St=new Blob([Ye,gt]),$e=be.request(St,ue,re),this._additionalWSCallback(X,be,ue,re),Je>0&&($e=be.request(U,ue,re)),Ye=null,gt=null,St=null,He=null,U=null,$e}},{key:"_sendDataConnectWithSocket",value:function(X,F,B,U){var K=this;return new Q.Promise(function(q,re){K._sendData(X,F,!0,function(oe){var fe=!1;try{fe=m.isString(oe)?m.parse(oe):oe}catch{}if(K._resetErr(),fe){if(fe instanceof Blob||Uu(fe))return void q(fe);na(fe)&&(K._errorCode=fe.exception,K._errorString=fe.description,K._errorCause=vo(fe))}q(U?fe:fe.result)},function(oe){re({code:K._errorCode,message:K._getErrorString()})})})}},{key:"_sendDataByHttpAsync",value:function(X,F,B,U,K){var q,re=this;if(X!="SendEventToScannerUI"&&re._resetErr(),!re._isValid())return Q.Promise.reject({code:re._errorCode,message:re._getErrorString()});if(r.isServerInvalid(re))return K?Q.Promise.reject({code:re._errorCode,message:re._getErrorString()}):re._waitForConnect().then(function(){return re._sendDataByHttpAsync(X,F,B)});if(V.DWT.ConnectWithSocket)return re._sendDataConnectWithSocket(X,F,B,U);q={method:"post",async:!0,body:ld(re._clientId,X,F,0,re._bScanForProxyRemote?re._dmServiceDWTVersion:""),dataType:B??"text"};var oe=null,fe=m.guid();return re._bIfShowProgressBar&&(oe=Q.progressContext),DC(oe,fe)([re._httpUrl,"fa/",X].join(""),q).then(function(ae){var ue=!1;try{ue=m.isString(ae)?m.parse(ae):ae}catch{}if(ue){if(ue instanceof Blob||Uu(ue))return ue;if(!na(ue))return X!="SendEventToScannerUI"&&re._resetErr(),U?ue:ue.result;re._errorCode=ue.exception,re._errorString=ue.description,re._errorCause=vo(ue)}else mC(re),re._errorCause=null;throw{code:re._errorCode,message:re._getErrorString()}},function(ae){if(re._errorCode=ae.code,re._errorString=ae.message,!Q.page.bUnload)throw ae})}},{key:"_sendData",value:function(X,F,B,U,K){var q=this,re=null,oe=null,fe=!1,ae=!0;if(!q._destroy){if(X=="ActiveUI"?ae=!1:fe=r.isServerInvalid(q),fe)return q._waitForConnect().then(function(){q._sendData(X,F,B,U,K)}).catch(function(Ce){m.isFunction(K)&&K(Ce.code,Ce.message)});var ue;m.isFunction(U)&&(oe=U),m.isFunction(K)&&(re=K),ue=X=="ConvertToBlob"||X=="Heartbeat"?0:Yp();var ve=this._getWSContextData(),be={cmd:X,cmdId:ue,sFun:oe,fFun:re,contextData:ve,rawData:B!=null&&B};return q._innerSendByWS(X,F,be,null,ae)}}},{key:"_innerFunV2",value:(Z=s(E().mark(function X(F,B,U){var K,q,re;return E().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:if(K=this,!(re=U)&&!m.isUndefined(re)){oe.next=7;break}return oe.next=4,K._sendDataConnectWithSocket(F,B,"json",!0);case 4:q=oe.sent,oe.next=10;break;case 7:return oe.next=9,K._sendDataByHttpAsync(F,B,"json",!0);case 9:q=oe.sent;case 10:if(!(q&&m.isArray(q)&&q.length>0)){oe.next=12;break}return oe.abrupt("return",q[0]);case 12:if(!(q&&m.isArray(q.result)&&q.result.length>0)){oe.next=14;break}return oe.abrupt("return",q.result[0]);case 14:return oe.abrupt("return",q);case 15:case"end":return oe.stop()}},X,this)})),function(X,F,B){return Z.apply(this,arguments)})},{key:"_OnReady",value:(de=s(E().mark(function X(){var F,B,U;return E().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:if((F=this)._wsRetry=0,F._wsFailedTimes=0,Q.detect.starting=!1,F._bRemoteMode||(Q.detect.bOK=!0),F._bReady=!0,(B=F._wsClient.ws)!==null){K.next=9;break}return K.abrupt("return");case 9:B.onopen=null,U=_y(F._clientId,""),this._evt_ids.push(U),F._wsClient.addEvent("close",F._clientId,function(q){q&&m.log("websocket close: "+q),F.__bAcquireImageNow=!1,F._OnWSClose(q)}),F._wsClient.addEvent("error",F._clientId,function(q){q&&m.log("websocket error: "+q),F.__bAcquireImageNow=!1,F._OnWSError(q)}),F._wsClient.addEvent("timeout",F._clientId,function(q){q&&m.log("websocket timeout: "+q),F._OnWSTimeout(q)});case 15:case"end":return K.stop()}},X,this)})),function(){return de.apply(this,arguments)})},{key:"getServiceInfo",value:function(){return this._dmService}},{key:"_OnWSClose",value:function(X){var F,B,U,K=this;K._bReady=!1,K._wsRetry=0,K._bRemoteMode&&(F=(B=(U=K.getServiceInfo())===null||U===void 0||(U=U.attrs)===null||U===void 0?void 0:U.name)!==null&&B!==void 0?B:""),od(K,F),K.__closeRemoteScanUI(!0),K._heartBeatTimer&&(clearTimeout(K._heartBeatTimer),K._heartBeatTimer=null),K._bNoMask||function(oe){m.log("hideMask:"+oe+"--"+uu),zC(),uu=0}("websocket close"),K.__OnWSClose&&K.__OnWSClose();var q=K._bRemoteMode?vn.RemoteReconnectMaxTimes:vn.LocalReconnectMaxTimes;if(K._wsFailedTimes<q){var re=K._reconnectTimeSpan;K._wsFailedTimes<K._reconnectShortSpanTimes&&(re=K._reconnectShortSpan),K._heartBeatTimer=setTimeout(function(){r.startDWTReconnect(K)},re)}}},{key:"_OnWSError",value:function(X){var F=this;F._bReady=!1,F.__OnWSError&&F.__OnWSError()}},{key:"_OnWSTimeout",value:function(X){var F,B,U,K=this;K._bReady=!1,K._wsRetry=0,K._bRemoteMode&&(F=(B=(U=K.getServiceInfo())===null||U===void 0||(U=U.attrs)===null||U===void 0?void 0:U.name)!==null&&B!==void 0?B:""),od(K,F),K.__closeRemoteScanUI(!0),K._heartBeatTimer&&(clearTimeout(K._heartBeatTimer),K._heartBeatTimer=null);var q=K._bRemoteMode?vn.RemoteReconnectMaxTimes:vn.LocalReconnectMaxTimes;if(K._wsFailedTimes<q){var re=K._reconnectTimeSpan;K._wsFailedTimes<K._reconnectShortSpanTimes&&(re=K._reconnectShortSpan),K._heartBeatTimer=setTimeout(function(){r.startDWTReconnect(K)},re)}}},{key:"__OnRecieveMsg",value:function(X,F){var B=this;if(X.event)return B._handleEvent(X,F.contextData);if(na(X)?(B._errorCode=X.exception,B._errorString=X.description,B._errorCause=vo(X)):(B._errorCode=0,B._errorString="",B._errorCause=null),V.DWT.ConnectWithSocket){var U=X,K=F==null?void 0:F.cmd;return K=="ActiveUI"||K=="VersionInfo"||K=="ConvertToBase64"||K=="SaveSelectedImagesToBase64Binary"||K=="ConvertToBlob"?F.sFun&&m.isArray(X.result)&&X.result.length>0?(F.sFun(X.result),!0):(F.fFun&&F.fFun(X.result),!1):(B._errorCode!=0&&F.fFun&&F.fFun(B._errorString),K=="BeginSaveMem"||K=="CreateLocalStorage"||K=="LocalStorageExist"||K=="SaveToLocalStorage"||K=="LoadFromLocalStorage"||K=="RemoveLocalStorage"?F.sFun&&m.isArray(X.result)&&X.result.length>0?(F.sFun(X.result),!0):(F.fFun&&F.fFun(X.result),!1):(U=F.rawData?X:m.isArray(X.result)&&X.result.length>0?X.result[0]:X.result,F.sFun?F.sFun(U):F.fFun&&F.fFun(U),X=null,!0))}if(B._errorCode==0)return F.sFun&&m.isArray(X.result)&&X.result.length>0?(F.sFun(X.result),!0):(F.fFun(X.result),!0);var q=!1;F.fFun&&(q=F.fFun(B._errorString)),!q&&X.exception&&X.exception<0&&X.exception!=-2115&&m.isFunction(B.__OnPrintMsg)&&B.__OnPrintMsg(B._errorString)}},{key:"_handleOnBitmapChangedEvent",value:function(X,F){try{var B,U,K,q,re,oe,fe,ae,ue,ve,be,Ce,je,Ye,He,St,ct=X.result[0],gt=X.result[1];if(m.isString(gt)){var $e=JSON.parse(gt);B=m.isArray($e)?$e:[$e]}else m.isArray(gt)&&(B=gt);if(m.isArray(B)){for(St=F||{},Ye=0;Ye<B.length;Ye++)if(He=B[Ye],m.isArray(He.images))if(U=He.consumeType,K=He.curImageId,q=He.type,re=He.images.length,q!=oi.enumBCAppend&&q!=oi.enumBCInsert||(!St.document&&He.document&&(St.document=He.document),!St.tag&&He.tag&&(St.tag=He.tag)),q==oi.enumBCRemove){var Je=[];for(oe=0;oe<re;oe++)Je.push(He.images[oe].id);var We=[ct,Je.join(","),q,K,re,null,null,null,null,null,null,ae];this._OnBitmapChanged(We,X,St)}else for(oe=0;oe<re;oe++){fe=He.images[oe].id,ve=He.images[oe].width,be=He.images[oe].height,ue=He.images[oe].depth,Ce=He.images[oe].xdpi,je=He.images[oe].ydpi,ae=He.images[oe].uid;var Ke=[ct,fe.toString(),q,K,re,ve,be,ue,Ce,je,U,ae];this._OnBitmapChanged(Ke,X,St)}}}catch(Qt){qr(Qt)}return st}},{key:"_handleEvent",value:function(X,F){var B=this,U=X.result[0],K=Fe;return X.event=="OnBitmapChanged"?B._handleOnBitmapChangedEvent(X,F):(m.each(RY,function(q,re){if(X.event===q){var oe=["_",q].join("");return K=st,m.isFunction(B[oe])&&B[oe](X.result,X),Fe}}),K?(m.log("handled event:"+X.event),m.each(kY,function(q,re){if(X.event===q)return m.log("sendback event:"+X.event),B._innerSendByWS(X.event,Ge(U),null,null,st),Fe})):(m.each(Q.Addon_Events,function(q,re){if(X.event===q){var oe=["_",q].join("");return K=st,m.isFunction(B[oe])&&B[oe](X.result),Fe}}),K&&(m.log("handled addon event:"+X.event),m.each(Q.Addon_Sendback_Events,function(q,re){if(X.event===q)return m.log("sendback addon event:"+X.event),B._innerSendByWS(X.event,Ge(U),null,null,st),Fe}))),K)}},{key:"_setProductKeyAsync",value:function(X){var F=this,B=X;return F._resetErr(),F._isValid()?Ne.bUseDynamsoftLicenseManager||F._blts?(AC(F),Q.Promise.reject({code:F._errorCode,message:F._getErrorString()})):m.isString(B)?It.isLicenseMixed(B,!1)?Q.Promise.reject(V.DWT.licenseException):It.isLongKey(B)?ST(yy,F,DY).call(F,B).then(function(U){var K=U;if(!K||K.message)throw Ta(F),K&&K.message&&(F._errorString=K.message),{code:F._errorCode,message:F._getErrorString()};return XC(F,K),K}):(Ta(F),Q.Promise.reject({code:F._errorCode,message:F._getErrorString()})):(Ta(F),Q.Promise.reject({code:F._errorCode,message:F._getErrorString()})):Q.Promise.reject({code:F._errorCode,message:F._getErrorString()})}},{key:"_setLTSLic",value:function(X){var F=this,B=X;return F._resetErr(),!!F._isValid()&&(m.isString(B)?F._sendDataByHttpAsync("LTSLicense",Ge(B),null,!0).then(function(U){if(U){if(na(U))throw F._errorCode=U.exception,F._errorString=U.description,F._errorCause=vo(U),{code:F._errorCode,message:F._getErrorString(),ErrorCause:F._errorCause};return F._innerFunV2("GetLicenseInfo",Ge(0))}throw Ta(F),{code:F._errorCode,message:F._getErrorString()}}):(Ta(F),Q.Promise.reject({code:F._errorCode,message:F._getErrorString()})))}},{key:"_setLTSLicenseAsync",value:function(X){var F=this;return F._resetErr(),F._isValid()?m.isString(X)?F._setLTSLic(X).then(function(B){var U=B;if(!U||U.message)throw Ta(F),U&&U.message&&(F._errorString=U.message),{code:F._errorCode,message:F._getErrorString()};return XC(F,U),F.__licenseInfo&&(F.__licenseInfo.LTS=!0),U}):(Ta(F),Q.Promise.reject({code:F._errorCode,message:F._getErrorString()})):Q.Promise.reject({code:F._errorCode,message:F._getErrorString()})}},{key:"_innerActiveUI",value:(te=s(E().mark(function X(F){var B,U,K,q,re;return E().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:return B=this,U=In(),K=PK(),B._bRemoteMode||(K=5),q="",B._blts&&(q=F??""),oe.next=6,new Q.Promise(function(fe,ae){B._sendData("ActiveUI",Ge(Tn.WSVersion,Tn.WSSession,1,q,U,1,K),!1,fe,ae)});case 6:return re=oe.sent,B=null,oe.abrupt("return",re);case 9:case"end":return oe.stop()}},X,this)})),function(X){return te.apply(this,arguments)})},{key:"_reconnected",value:(ee=s(E().mark(function X(F){var B,U,K,q,re,oe,fe,ae;return E().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return(B=this)._wsFailedTimes=0,ue.next=4,B._innerActiveUI(B._uuidForActiveUI);case 4:if(U=ue.sent,K=!1,U&&(U.length>12?(B.__serverId=U[1],K=U[12]):U.length>8?(B.__serverId=U[1],K=U[8]):U.length>=2&&(B.__serverId=U[1])),B._bReady=!0,B._bRemoteMode||(Q.detect.bOK=!0),Q.detect.starting=!1,K){try{B._OnActiveUIClearBuffer()}catch{B._resetErr()}HK(B)}if(ue.prev=11,!B._blts){ue.next=21;break}return q=B._bRemoteMode&&(re=(oe=B._dmService)===null||oe===void 0||(oe=oe.attrs)===null||oe===void 0?void 0:oe.UUID)!==null&&re!==void 0?re:"",ue.next=16,hy(V.DWT.lgdt(),q);case 16:return fe=ue.sent,ue.next=19,B._setLTSLicenseAsync(fe.ar);case 19:ue.next=24;break;case 21:return ae=Ne.refProductKey,ue.next=24,B._setProductKeyAsync(ae);case 24:return ue.next=26,B._OnReconnected();case 26:ue.next=32;break;case 28:throw ue.prev=28,ue.t0=ue.catch(11),B._bRemoteMode&&Wp(B),{code:B._errorCode,message:B._errorString};case 32:return ue.prev=32,B._bRemoteMode&&r.startHeartBeat(B),ue.finish(32);case 35:case"end":return ue.stop()}},X,this,[[11,28,32,35]])})),function(X){return ee.apply(this,arguments)})},{key:"_OnReconnected",value:(Y=s(E().mark(function X(){return E().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:case"end":return F.stop()}},X)})),function(){return Y.apply(this,arguments)})},{key:"_initRemoteDiv",value:function(){if(!this._acquireDivEL){var X=document.createElement("div");X.style.position="fixed",X.style.zIndex="510000",X.style.left="0",X.style.top="0";var F=document.createElement("img");F.className="ds-img-screen",X.appendChild(F),document.body.appendChild(X),this._acquireDivEL=X}}},{key:"getHeartBeatData",value:function(X){var F,B=this,U=ld(B._clientId,X.cmd,null,X.cmdId,B._bScanForProxyRemote?B._dmServiceDWTVersion:""),K=U.length,q=K,re=new ArrayBuffer(12+q),oe=new DataView(re);for(F=0;F<8&&q;F++)oe.setUint8(F,q%256),q=Math.floor(q/256);for(F=0;F<4&&K;F++)oe.setUint8(8+F,K%256),K=Math.floor(K/256);for(F=0;F<U.length;F++)oe.setUint8(12+F,U.charCodeAt(F));return re}},{key:"__closeRemoteScanUI",value:function(X){var F=this;if(F._acquireDivEL){var B=m.sizzle(".ds-img-screen");F._acquireDivEL.evtFun?(B&&B.length>0&&m.removeEventListener(B[0],"mouseup",F._acquireDivEL.evtFun),F._acquireDivEL.evtFun=null):B&&B.length>0&&m.removeEventListener(B[0],"mouseup"),B&&B.length>0&&(B[0].src=""),X&&(document.body.removeChild(F._acquireDivEL),F._acquireDivEL=null)}}},{key:"_removeImageByIdAsync",value:(j=s(E().mark(function X(F){var B;return E().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if((B=this)._resetErr(),B._isValid()){U.next=4;break}throw{code:B._errorCode,message:B._errorString};case 4:return U.next=6,B._innerFunV2("RemoveAllImages",Ge(F));case 6:return U.abrupt("return",U.sent);case 7:case"end":return U.stop()}},X,this)})),function(X){return j.apply(this,arguments)})},{key:"_removeAllImagesAsync",value:(M=s(E().mark(function X(F,B){var U;return E().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:if((U=this)._resetErr(),U._isValid()){K.next=4;break}throw{code:U._errorCode,message:U._getErrorString()};case 4:return K.next=6,U._innerFunV2("RemoveAllImages");case 6:return K.abrupt("return",K.sent);case 7:case"end":return K.stop()}},X,this)})),function(X,F){return M.apply(this,arguments)})},{key:"_LicensePromptExpired",value:function(){}},{key:"_OnActiveUI",value:(D=s(E().mark(function X(F){var B,U,K,q,re,oe,fe,ae,ue,ve,be,Ce,je,Ye,He,St,ct;return E().wrap(function(gt){for(;;)switch(gt.prev=gt.next){case 0:if(B=this,K=!1,F&&F.length>=6?(F[2],U=F[5],q=!1,re=!1,oe=0,F.length>12?(F[6],B._b64bit=F[7]=="64",F[8],q=F[9],re=F[10],oe=F[11],F[12]):F.length>8&&(q=F[6],re=F[7],oe=F[8]),q?re&&oe&&(B._bRemoteMode=!0):B._bRemoteMode=!0,m.isString(U)&&(U=="win"?B.__serverPlatform=Kt.enumWindow:U=="linux"?B.__serverPlatform=Kt.enumLinux:U=="mac"?B.__serverPlatform=Kt.enumMac:U=="embed"?B.__serverPlatform=Kt.enumEmbed:U=="chromeos"&&(B.__serverPlatform=Kt.enumChromeOS))):K=!0,B._bMustUpgradeService=K,K){gt.next=67;break}if(wn("Activating the WebTwain instance..."),fe=!1,!B._blts){gt.next=44;break}return ue=B._bRemoteMode&&(ve=(be=B._dmService)===null||be===void 0||(be=be.attrs)===null||be===void 0?void 0:be.UUID)!==null&&ve!==void 0?ve:"",gt.prev=10,gt.next=13,hy(V.DWT.lgdt(),ue);case 13:ae=gt.sent,gt.next=27;break;case 16:if(gt.prev=16,gt.t0=gt.catch(10),qC(B,gt.t0),Ce=Rk(B._errorCode),!B._bLicenseErrorDispose){gt.next=25;break}throw B._bRemoteMode||(Ce?this._LicensePromptExpired():kk(B)),{code:B._errorCode,message:B._errorString};case 25:Ce||m.warn(B._errorString),ae=null;case 27:if(wn(ek),!ae){gt.next=41;break}return gt.next=31,B._setLTSLicenseAsync(ae.ar);case 31:return je=gt.sent,V.DWT.laddDWTObj(B),ue="",B._bRemoteMode&&(ue=(Ye=(He=B._dmService)===null||He===void 0||(He=He.attrs)===null||He===void 0?void 0:He.UUID)!==null&&Ye!==void 0?Ye:""),wn(tk),gt.next=38,V.DWT.lcheckLic(V.DWT.lgdt(),je,ue);case 38:fe=V.DWT.licenseException.code==0,gt.next=42;break;case 41:fe=!1;case 42:gt.next=62;break;case 44:return wn(ek),St=Ne.refProductKey,gt.prev=46,gt.next=49,B._setProductKeyAsync(St);case 49:gt.sent&&(fe=!0),gt.next=62;break;case 53:if(gt.prev=53,gt.t1=gt.catch(46),!B._bLicenseErrorDispose){gt.next=60;break}throw B._bRemoteMode||my(gt.t1.code)&&$C(gt.t1),gt.t1;case 60:m.warn(gt.t1.message);case 61:fe=!1;case 62:if(fe&&(wn(tk),It.checkProductKey(B,{Core:!0})||(ct={code:B._errorCode,message:B._getErrorString()},B._resetErr(),V.DWT.lclex(),he.bWin&&It.checkProductKey(B,{Webcam:!0},!0)||(B._errorCode=ct.code,B._errorString=ct.message))),B._errorCode==0){gt.next=67;break}if(B._bRemoteMode||(Rk(B._errorCode)?this._LicensePromptExpired():kk(B)),!B._bLicenseErrorDispose){gt.next=67;break}throw{code:B._errorCode,message:B._getErrorString()};case 67:B._bRemoteMode&&r.startHeartBeat(B);case 68:case"end":return gt.stop()}},X,this,[[10,16],[46,53]])})),function(X){return D.apply(this,arguments)})},{key:"_innerConvertToArrayBufferAsync",value:(C=s(E().mark(function X(F,B,U,K){var q,re,oe,fe,ae;return E().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return q=this,re=U,oe=K??"arraybuffer",fe=",",m.isString(re)&&re!=""||(re="",fe=""),ae=["[",F,',"',B.join(","),'"',fe,re,"]"].join(""),ue.next=6,q._sendDataByHttpAsync("ConvertToBlob",ae,oe,!0);case 6:return ue.abrupt("return",ue.sent);case 7:case"end":return ue.stop()}},X,this)})),function(X,F,B,U){return C.apply(this,arguments)})},{key:"_getImageByServerId",value:(b=s(E().mark(function X(F){var B,U,K;return E().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return B=vr.IT_PNG,q.next=3,this._innerConvertToArrayBufferAsync(B,[F],void 0,void 0);case 3:return U=q.sent,K=aT(B),q.abrupt("return",new Blob([U],{type:K}));case 6:case"end":return q.stop()}},X,this)})),function(X){return b.apply(this,arguments)})},{key:"_getSourcesAsync",value:(v=s(E().mark(function X(F,B,U){var K,q;return E().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return K=this,re.next=3,K._innerFunV2("GetSources",Ge(F,B!=null&&B,U!=null&&U));case 3:return q=re.sent,re.abrupt("return",Nk(this,q));case 5:case"end":return re.stop()}},X,this)})),function(X,F,B){return v.apply(this,arguments)})},{key:"_getDevices",value:(S=s(E().mark(function X(F,B,U){var K,q,re,oe,fe,ae;return E().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:if(q=[],re="getDevices",oe=(K=this)._bRemoteMode?Qp:he.bAndroid?KC:Qp,fe=F??oe,K._resetErr(),K._isValid()){ue.next=5;break}return ue.abrupt("return",Q.Promise.reject({code:K._errorCode,message:K._getErrorString()}));case 5:return K._bNoMask||On(re,K),ue.prev=6,ue.next=9,K._getSourcesAsync(fe,B,U);case 9:ae=ue.sent,m.isArray(ae)&&ae.length>0&&(q=q.concat(ae)),ue.next=16;break;case 13:throw ue.prev=13,ue.t0=ue.catch(6),ue.t0;case 16:return ue.prev=16,K._bNoMask||un(re),ue.finish(16);case 19:return ue.abrupt("return",q);case 20:case"end":return ue.stop()}},X,this,[[6,13,16,19]])})),function(X,F,B){return S.apply(this,arguments)})},{key:"_innerAcquireImageFromService",value:function(X,F,B){var U,K,q=this;if(K=m.clone(X),!It.checkProductKey(q,{Core:!0}))return m.isFunction(B)&&B(q._errorCode,q._getErrorString()),!1;var re=q._bRemoteMode?st:Fe;K.RemoteScan=re?1:0,q._bRemoteMode&&(m.isFunction(q.__OnRemoteScanStatusAsync)||(q.__OnRemoteScanStatusAsync=function(){}),m.isFunction(q.__OnSourceUIClose)||(q.__OnSourceUIClose=function(){}));for(var oe=0,fe=0;fe<Sy.length;fe++){var ae=["__",Sy[fe]].join("");m.isFunction(q[ae])&&(oe|=1<<fe)}return K.EnableEvents=oe,re&&q._isBindViewer()&&q._initRemoteDiv(),q._bRemoteMode||(q._bPageFocus&&V.DWT.IfAlwaysFocusOnPopupWindow?q._bServerAlwaysFocusOnPopupWindow||q._OnPageFocus(!0):q._bServerAlwaysFocusOnPopupWindow&&q._OnPageBlur(!0)),U=["[",m.stringify(K),"]"].join(""),q._sendData("AcquireImage",U,!0,function(ue){F(ue)},function(ue){B(q._errorCode,q._getErrorString())}),!0}},{key:"_canConsume",value:function(){return this._blts&&!this._bltsCopyImage}},{key:"_acquireImageFromServiceAsync",value:function(X){var F=this;return new Q.Promise(function(B,U){return F._innerAcquireImageFromService(X,function(){F._canConsume()&&V.DWT.lcvrf(F),B(!0)},function(K,q){U({code:K,message:q})})})}},{key:"_acquireImage",value:(g=s(E().mark(function X(F,B){var U,K,q,re,oe;return E().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:if(U=this,K=B?m.clone(B):{},q="acuqireImage",U._resetErr(),U._isValid()){fe.next=4;break}throw{code:U._errorCode,message:U._getErrorString()};case 4:if(It.checkProductKey(U,{Core:!0})&&U._isValid()){fe.next=6;break}throw{code:U._errorCode,message:U._getErrorString()};case 6:if(!U.__bAcquireImageNow){fe.next=9;break}throw dR(U),{code:U._errorCode,message:U._getErrorString()};case 9:return U.__bAcquireImageNow=!0,U._bNoMask||On(q,U),re=V.DWT.RemoteScanConfig,oe=vk(),fe.prev=12,cN(K),re&&fy(re.keepAwake),F!=null&&(K.Device=F.strDevice,K.DeviceMatchField=Xp.SMF_NAME),fe.next=18,U._acquireImageFromServiceAsync(K);case 18:fe.next=23;break;case 20:throw fe.prev=20,fe.t0=fe.catch(12),fe.t0;case 23:return fe.prev=23,U.__bAcquireImageNow=!1,U._bNoMask||un(q),fy(oe),fe.finish(23);case 28:return fe.abrupt("return",!0);case 29:case"end":return fe.stop()}},X,this,[[12,20,23,28]])})),function(X,F){return g.apply(this,arguments)})},{key:"_getCapabilities",value:(p=s(E().mark(function X(F,B,U){var K,q,re,oe,fe;return E().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return q=null,ST(yy,K=this,sN).call(K,F),K._initRemoteDiv(),ae.next=5,K._innerSelectDeviceAsync(F);case 5:return m.isArray(U)&&(q=Ge(U)),ae.next=8,K._sendDataByHttpAsync("GetCapabilities",q);case 8:if(re=ae.sent,ae.prev=9,re.length>0&&(fe=re[0]),!m.isString(fe)){ae.next=23;break}if(fe=Q.removeNonPrintableChar(fe),(oe=JSON.parse(fe)).errorCode!=0){ae.next=16;break}return ae.abrupt("return",oe.response);case 16:throw K._errorCode=oe.errorCode,K._errorString=oe.errorString,K._errorCause=vo(oe),{code:K._errorCode,message:K._getErrorString()};case 23:throw Po(K),{code:K._errorCode,message:K._getErrorString()};case 25:ae.next=32;break;case 27:throw ae.prev=27,ae.t0=ae.catch(9),K._errorCode=-2302,K._errorString=ae.t0,{code:K._errorCode,message:K._getErrorString()};case 32:case"end":return ae.stop()}},X,this,[[9,27]])})),function(X,F,B){return p.apply(this,arguments)})},{key:"_setCapabilities",value:(c=s(E().mark(function X(F,B,U){var K,q;return E().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:if(ST(yy,K=this,sN).call(K,F),m.isObject(B)&&!m.isArray(B)){re.next=5;break}throw mr(K),{code:K._errorCode,message:K._getErrorString()};case 5:return K._initRemoteDiv(),re.next=8,K._innerSelectDeviceAsync(F);case 8:return q=["[",m.stringify(B),"]"].join(""),re.next=11,K._sendDataByHttpAsync("SetCapabilities",q);case 11:return re.abrupt("return",re.sent);case 12:case"end":return re.stop()}},X,this)})),function(X,F,B){return c.apply(this,arguments)})},{key:"_closeSource",value:(l=s(E().mark(function X(){var F;return E().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return F=this,B.next=3,F._innerFunV2("CloseSource");case 3:case"end":return B.stop()}},X,this)})),function(){return l.apply(this,arguments)})},{key:"_innerSelectDeviceAsync",value:(d=s(E().mark(function X(F,B){var U,K,q,re,oe,fe,ae,ue;return E().wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:if(K=this,F&&F instanceof Qa){ve.next=4;break}throw mr(K),{code:K._errorCode,message:K._errorString};case 4:if(!(q=(U=this._dmService.attrs)===null||U===void 0?void 0:U.UUID)){ve.next=17;break}if(((re=F.serviceInfo.attrs)===null||re===void 0?void 0:re.UUID)!=q){ve.next=10;break}ve.next=17;break;case 10:if(!((fe=((oe=F.serviceInfo.attrs)===null||oe===void 0?void 0:oe.url)||F.serviceInfo.server)&&fe.indexOf(q)>-1)){ve.next=15;break}ve.next=17;break;case 15:throw ER(K),{code:K._errorCode,message:K._errorString};case 17:return ae=B??Xp.SMF_NAME,ue=["[",F.strDevice,",",ae,"]"].join(""),ve.next=20,K._innerFunV2("SelectSourceEx",ue);case 20:return ve.abrupt("return",ve.sent);case 21:case"end":return ve.stop()}},X,this)})),function(X,F){return d.apply(this,arguments)})},{key:"registerEvent",value:function(X,F){return m.isUndefined(X)?(io(this),!1):!m.isString(X)||m.isString(X)&&X.trim().length==0||m.isUndefined(F)||!m.isFunction(F)?(mr(this),!1):!!this._registerEvent(X,F)}},{key:"unregisterEvent",value:function(X,F){return this._unregisterEvent(X,F)}},{key:"_registerEvent",value:function(X,F){var B=this;return B._resetErr(),!!B._isValid()&&(B[["__",X].join("")]=F,!0)}},{key:"_unregisterEvent",value:function(X,F){var B=this;return B._resetErr(),!!B._isValid()&&(B[["__",X].join("")]=null,st)}},{key:"_OnPageFocus",value:function(X){var F=this;if(F._bPageFocus=!0,F._bReady&&he.bWin&&V.DWT.IfAlwaysFocusOnPopupWindow){var B=m.stringify({sequence:0,wnds:0,wnd:"0",type:3,x:0,y:0});if(F.__bAcquireImageNow||X||F.__bOpenFileNow){F._bServerAlwaysFocusOnPopupWindow=!0;try{F._isValid()&&F._sendDataByHttpAsync("SendEventToScannerUI",["[",B,"]"].join(""))}catch{}}}}},{key:"_OnPageBlur",value:function(X){var F=this;if(he.bWin&&F._bReady){var B=m.stringify({sequence:0,wnds:0,wnd:"0",type:4,x:0,y:0});if((F._bPageFocus!=0||X)&&(F._bPageFocus=!1,F.__bAcquireImageNow||X||F.__bOpenFileNow)){F._bServerAlwaysFocusOnPopupWindow=!1;try{F._isValid()&&F._sendDataByHttpAsync("SendEventToScannerUI",["[",B,"]"].join(""))}catch{}}}}},{key:"_OnRemoteScanStatusAsync",value:function(X){var F,B,U,K,q,re,oe,fe=this;if(X&&X.length>=2){try{var ae=new String(X[1]);F=m.parse(ae)}catch(ve){m.error(ve.message),m.log("parse json failed: "+X[1])}F||(F={sequence:0,screen:[]})}if(F&&F.sequence)if(F.sequence>0&&F.screen&&F.screen.length>0){if(B=F.screen,K=F.sequence,re=F.wnds,oe=(U=B[0]).img,m.isString(oe)&&oe!=""&&(q=U.wnd),K&&q){var ue=m.sizzle(".ds-img-screen");ue&&ue.length>0&&fe._acquireDivEL&&(fe._acquireDivEL.evtFun&&(m.removeEventListener(ue[0],"mouseup",fe._acquireDivEL.evtFun),fe._acquireDivEL.evtFun=null),ue[0].src=oe,fe._acquireDivEL.evtFun=function(ve){re||(re="0");var be=m.stringify({sequence:K,wnds:re,wnd:q+"",type:2,x:ve.offsetX,y:ve.offsetY});fe._sendDataByHttpAsync("SendEventToScannerUI",["[",be,"]"].join(""))},m.addEventListener(ue[0],"mouseup",fe._acquireDivEL.evtFun))}}else fe.__closeRemoteScanUI(!1);return m.isFunction(fe.__OnRemoteScanStatusAsync)&&fe.__OnRemoteScanStatusAsync(F),!0}},{key:"_OnBitmapChanged",value:function(X,F,B){var U=this,K=X[0]=="m1",q=X[0]=="c1",re=X[0]=="c2",oe=q||re||K,fe=X[2],ae=X[3],ue=-1;if(!oe){if(X.length>10&&(ue=X[10]),ue>-1&&U._canConsume()&&(fe==oi.enumBCAppend||fe==oi.enumBCInsert)){var ve=V.DWT.lgct(ue);m.isFunction(U.__OnLtsverify)&&U.__OnLtsverify(ve,1)}if((fe==oi.enumBCAppend||fe==oi.enumBCInsert)&&m.isFunction(U.__OnBufferChanged)){var be={action:"add",currentId:ae,imageIds:[],selectedIds:[]};U.__OnBufferChanged(be)}}}},{key:"_OnPostTransferAsync",value:function(X,F,B){var U,K=this;if(X&&X.length>=2)try{var q=String(X[1]).replace(/\\/g,"\\\\");U=m.parse(q)}catch(oe){m.error(oe)}U||(U={imageId:""});var re=!1;if(m.isFunction(K.__OnPostTransferAsync))try{re=K.__OnPostTransferAsync(U)}catch(oe){qr(oe)}if(m.isFunction(K.__OnPostTransferAsync2))try{K.__OnPostTransferAsync2(U)}catch(oe){qr(oe)}return re}},{key:"_OnCurrentDeviceSelected",value:function(X,F){}},{key:"_getErrorCode",value:function(){return this._errorCode}},{key:"_getErrorString",value:function(){return this._errorCode!=0?this._errorString:"Successful."}},{key:"_isBindViewer",value:function(){return!1}},{key:"_isNoViewer",value:function(){return!0}},{key:"_isMobileMode",value:function(){return!1}},{key:"_needCheckProxyRemoteScanLicense",value:function(){if(!this._blts&&this._bScanForProxyRemote){if(this._strRemoteServiceVer=="")return!0;var X=function(F){var B=F.split(","),U=[18,3];return m.trim(B[0])>U[0]||B.length>1&&m.trim(B[0])==U[0]&&m.trim(B[1])>=U[1]}(this._strRemoteServiceVer);if(X)return!0}return!1}},{key:"_OnActiveUIClearBuffer",value:function(){}}],[{key:"isServerInvalid",value:function(X){var F,B;if(F=!X._bReady||X._wsClient===null,B=X._bMustUpgradeService,F){var U,K,q;X._bRemoteMode&&(U=(K=(q=X._dmService)===null||q===void 0||(q=q.attrs)===null||q===void 0?void 0:q.name)!==null&&K!==void 0?K:""),od(X,U)}else B?yf(X):X.isDestroy&&CR(X);return F||B||X._errorCode==-2208||X.isDestroy}},{key:"STwainConnectToServer",value:(u=s(E().mark(function X(F){var B,U;return E().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:if(B=F._id,!V.DWT.WebTwainIdMap[B]){K.next=5;break}return K.next=4,F._OnReady();case 4:return K.abrupt("return");case 5:if(!F._bReady&&!F._destroy){K.next=7;break}return K.abrupt("return");case 7:return F._bConnecting=!0,(U=ou.Instance.getClient(F._serverInfo)).setRetry(0),F._bNoMask||On("",F),K.prev=11,K.next=14,ak(F._bRemoteMode);case 14:return K.next=17,U.testConnection(void 0,0,void 0,1e4);case 17:if(F._wsClient=U,F._wsClient.bReady=!0,Q.detect.bFirst&&(Q.detect.bFirst=!1),F._bReady){K.next=24;break}return F._bReady=!0,K.next=24,F._OnReady();case 24:K.next=30;break;case 26:throw K.prev=26,K.t0=K.catch(11),F._bReady=!1,{code:F._errorCode,message:F._getErrorString()};case 30:return K.prev=30,F._bConnecting=!1,F._bNoMask||un(""),K.finish(30);case 34:case"end":return K.stop()}},X,null,[[11,26,30,34]])})),function(X){return u.apply(this,arguments)})},{key:"_innerSendHeartBeat",value:(o=s(E().mark(function X(F,B){var U,K,q,re;return E().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:if(oe.prev=0,!F.__bAcquireImageNow){oe.next=4;break}oe.next=14;break;case 4:if(U={client:null,userData:null,taskId:"0",eventTaskId:"0",lastEventTaskId:"0"},K=Yp(),q={cmd:"Heartbeat",cmdId:K,sFun:null,fFun:null,contextData:null,rawData:!0},re=F.getHeartBeatData(q),!F._wsClient){oe.next=12;break}return F._wsClient.setRetry(0),oe.next=12,F._wsClient.request(re,null,U);case 12:q=null,re=null;case 14:oe.next=18;break;case 16:oe.prev=16,oe.t0=oe.catch(0);case 18:F._wsClient&&F._wsClient.connected&&B&&setTimeout(function(){r._innerSendHeartBeat(F,B)},F._wsClient._heartBeatTicks);case 19:case"end":return oe.stop()}},X,null,[[0,16]])})),function(X,F){return o.apply(this,arguments)})},{key:"startDWTReconnect",value:(i=s(E().mark(function X(F){var B,U,K,q,re,oe;return E().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:if(fe.prev=0,!F._destroy){fe.next=3;break}return fe.abrupt("return");case 3:if(B=F._serverInfo,!(Zt.bEnhancedMode&&B&&B.port)){fe.next=25;break}return Ne.bDCPChecked=!1,fe.prev=6,fe.next=9,sT(Yi(),V.DWT.Port,V.DWT.SSLPort);case 9:if(!(U=fe.sent)){fe.next=15;break}K=In(),F._serverInfo.port=K?U.sslPort:U.port,fe.next=17;break;case 15:throw Po(F),kr(F);case 17:fe.next=25;break;case 19:return fe.prev=19,fe.t0=fe.catch(6),F._wsFailedTimes++,q=F._bRemoteMode?vn.RemoteReconnectMaxTimes:vn.LocalReconnectMaxTimes,F._wsFailedTimes<q&&(re=F._reconnectTimeSpan,F._wsFailedTimes<F._reconnectShortSpanTimes&&(re=F._reconnectShortSpan),F._heartBeatTimer=setTimeout(function(){r.startDWTReconnect(F)},re)),fe.abrupt("return");case 25:return F._bConnecting=!0,(oe=ou.Instance.getClient(F._serverInfo)).setRetry(0),fe.next=31,oe.testConnection(void 0,0,void 0,3e4);case 31:return F._wsClient=oe,F._wsClient.bReady=!0,F._wsRetry=0,fe.next=36,F._reconnected(oe);case 36:fe.next=41;break;case 38:fe.prev=38,fe.t1=fe.catch(0),F._wsFailedTimes++;case 41:return fe.prev=41,F._bConnecting=!1,fe.finish(41);case 44:case"end":return fe.stop()}},X,null,[[0,38,41,44],[6,19]])})),function(X){return i.apply(this,arguments)})},{key:"startHeartBeat",value:function(X){var F=X._wsClient;F&&F.connected&&!F._bHeartBeatStarted&&(F._bHeartBeatStarted=!0,setTimeout(function(){r._innerSendHeartBeat(X,!0)},F._heartBeatTicks))}},{key:"getServerImageUrlPrefix",value:function(X){return[X._httpUrl,"dwt/",X._bScanForProxyRemote?X._dmServiceDWTVersion:[Ne.getDWTPrefix(),Ne.getServerVersionInfo()].join(""),"/img?id=",X._clientId].join("")}}]);var i,o,u,d,l,c,p,g,S,v,b,C,D,M,j,Y,ee,te,de,Z,ne}(cY);function DY(t){var r,i=this,o=t;return i._resetErr(),i._isValid()?Ne.bUseDynamsoftLicenseManager||i._blts?(AC(i),Q.Promise.reject({code:i._errorCode,message:i._getErrorString()})):(o=m.isString(o)?m.trim(o):"",r=i._sendDataConnectWithSocket("ProductKey",Ge(o),"json",!0),i.__productKey=o,r=r.then(function(u){if(m.isArray(u)&&u.length>0){if(i._errorCode!=0)throw i.__productKey="",{code:i._errorCode,message:i._getErrorString()};return V.DWT.ProductKey=i.__productKey,It.reparseProductKey(),i._innerFunV2("GetLicenseInfo",Ge(0))}throw Ta(i),r.context=null,{code:i._errorCode,message:i._getErrorString()}})):Q.Promise.reject({code:i._errorCode,message:i._getErrorString()})}function sN(t){return uN.apply(this,arguments)}function uN(){return(uN=s(E().mark(function t(r){var i;return E().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if((i=this)._resetErr(),i._isValid()){o.next=4;break}return o.abrupt("return",Q.Promise.reject({code:i._errorCode,message:i._errorString}));case 4:if(r&&r instanceof Qa){o.next=7;break}throw mr(i),{code:i._errorCode,message:i._errorString};case 7:case"end":return o.stop()}},t,this)}))).apply(this,arguments)}function ld(t,r,i,o,u){var d,l=[];return l.push("{"),l.push('"id":"'),l.push(t),l.push('"'),o&&(l.push(',"cmdId":"'),l.push(o),l.push('"')),l.push(',"method":"'),l.push(r),l.push('"'),l.push(',"module":"dwt","version":"'),d=u||[Ne.getDWTPrefix(),Ne.getServerVersionInfo()].join(""),l.push(d),l.push('"'),i!=null&&(l.push(',"parameter":'),m.isArray(i)?l.push(m.stringify(i)):l.push(i)),l.push("}"),l.join("")}function _y(t,r){return["evt",t,r].join("_")}function lN(t){if(t._bReady)t._wsCheckResolve();else{if(V.DWT.bConnectCanceled)return m.asyncQueue.stop(),su.stop(),Ia(t),void t._wsCheckReject({code:t._errorCode,message:t._getErrorString()});if(t._wsRetry>10)return wR(t),void t._wsCheckReject({code:t._errorCode,message:t._getErrorString()});t._wsRetry++,setTimeout(function(){lN(t)},1100)}}function PY(t,r,i,o){return bT.apply(this,arguments)}function bT(){return bT=s(E().mark(function t(r,i,o,u){var d,l,c,p,g,S,v,b;return E().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(i!=_n.GET_TASKID){C.next=4;break}return C.abrupt("return",u.taskId);case 4:if(i!=_n.GET_EVENT_TASKID){C.next=8;break}return C.abrupt("return",u.eventTaskId);case 8:if(i!=_n.ONMESSAGE_PROCESS_DATA){C.next=17;break}if(N(r)!=="object"){C.next=11;break}return C.abrupt("return",r);case 11:if(!((p=r).indexOf("Version not found")>=0||p.indexOf("Function not found")>=0)){C.next=14;break}return C.abrupt("return",{cmdId:o??0});case 14:return C.abrupt("return",m.parse(r));case 17:if(i!=_n.ONMESSAGE_GET_TASKID){C.next=25;break}if(!r){C.next=22;break}if(!r.event){C.next=21;break}return C.abrupt("return",0);case 21:return C.abrupt("return",r.cmdId);case 22:return C.abrupt("return",r);case 25:if(i!=_n.ONMESSAGE_GET_EVENT_TASKID){C.next=31;break}if(!r||!r.event){C.next=28;break}return C.abrupt("return",_y(r.id,r.cmdId));case 28:return C.abrupt("return",0);case 31:if(i!=_n.HANDLE_RAW_MESSAGE){C.next=59;break}if(g=r.rawData,S=r.jsonData,d=u==null?void 0:u.userData){C.next=36;break}return C.abrupt("return",!1);case 36:if(l=d.stwain,c=d.command){C.next=40;break}return C.abrupt("return",!1);case 40:if(l&&m.isFunction(l.__OnWSMessage)&&l.__OnWSMessage(r),N(r)!=="object"){C.next=45;break}if(!V.DWT.ConnectWithSocket){C.next=45;break}return c.cmd!="ConvertToBlob"&&c.cmd!="GetImageByIndex"||c.sFun(r),C.abrupt("return",!0);case 45:if(S.method!="Heartbeat"){C.next=47;break}return C.abrupt("return",!0);case 47:if(S.method!="EnableBuffer"&&S.method!="GetBuffer"){C.next=50;break}return V.DWT.lwsproc(S,c),C.abrupt("return",!0);case 50:if(m.isString(g)&&(v=g.replace(/\0/g,"")),!(v&&v.indexOf("Exception:")>=0||v.indexOf("Error")==0)){C.next=57;break}return b=!1,m.log(v+"@"+c.cmd),c.fFun&&(b=c.fFun(v)),!b&&l&&m.isFunction(l.__OnPrintMsg)&&l.__OnPrintMsg(v),C.abrupt("return",!0);case 57:C.next=70;break;case 59:if(i!=_n.HANDLE_PROCESSED_MESSAGE){C.next=70;break}if(d=u==null?void 0:u.userData){C.next=63;break}return C.abrupt("return",!1);case 63:if(l=d.stwain){C.next=66;break}return C.abrupt("return",!1);case 66:if(c=d.command){C.next=69;break}return C.abrupt("return",!1);case 69:return C.abrupt("return",l.__OnRecieveMsg(r,c));case 70:case"end":return C.stop()}},t)})),bT.apply(this,arguments)}function cN(t){t.Resolution!==void 0&&(t.Resolution=parseInt(t.Resolution)),t.PixelType!==void 0&&(t.PixelType=parseInt(t.PixelType)),t.SelectSourceByIndex!==void 0&&(t.SelectSourceByIndex=parseInt(t.SelectSourceByIndex))}var Sy=["OnPreAllTransfers","OnPreTransfer","OnPostTransfer","OnPostTransferAsync"],oi=function(t){return t.enumBCAppend=1,t.enumBCInsert=2,t.enumBCRemove=3,t.enumBCEdit=4,t.enumBCIndexChange=5,t.enumBCUpdate=6,t}({}),RY=["OnPostAllTransfers","OnPostTransfer","OnPostLoad","OnPreTransfer","OnPreAllTransfers","OnResult","OnTransferCancelled","OnTransferError","OnSourceUIClose","OnGetFilePath","OnPercentDone","OnPostTransferAsync","OnPreAllTransfersAsync","OnRemoteScanStatusAsync","OnConsumed","OnDiskExceedLimit","OnCurrentDeviceSelected"],kY=["OnPreAllTransfers","OnPreTransfer","OnPostTransfer","OnGetFilePath","OnPostLoad"];m.each;var Tr=function(t){return t.TWAIN=0,t.ICA=3,t.SANE=3,t.TWAIN_AND_ICA=4,t.TWAIN_AND_TWAIN64=4,t.TWAIN64=5,t}({}),Rt={notSupportProperty:function(t){},notSupportMethod:function(t){},refreshImageAfterInvokeFun:function(t,r,i){return i==1},loadHttpBlob:function(t,r,i,o,u,d,l,c){var p,g,S=Fe;if(g={method:r,dataType:"blob"},c&&(g.headers=c),t.HTTPUserName!=""&&(g.username=t.HTTPUserName,g.password=t.HTTPPassword),t.__HTTPPostResponseString="",o){if(r=="get"){var v=m.guid();return Q.progressContext&&(Q.progressContext._onPercent=l),void DC(Q.progressContext,v)(i,g).then(function(M){var j=M.type;if(j=="text/plain"||j=="text/html"||rd(j)){var Y=new FileReader;Y.readAsText(M),Y.onload=function(){t.__HTTPPostResponseString=Y.result,u(M)},Y.onerror=function(){u(M)}}else u(M)},function(M){M&&M.code?(t._errorCode=M.code,t._errorString=M.message):M&&M.httpCode?vC(t,!1,M.message,M.httpCode):fR(t),m.isFunction(d)&&d({code:t._errorCode,message:t._errorString})})}g.onSuccess=function(M,j,Y){var ee=Y?Y.getResponseHeader("content-type"):"";if(ee.indexOf("text/")>=0||rd(ee)){var te=new FileReader;te.readAsText(M),te.onload=function(){t.__HTTPPostResponseString=te.result,u(M)},te.onerror=function(){u(M)}}else u(M)},m.isFunction(l)&&(g.beforeSend=function(M){M.addEventListener("progress",function(j){!he.bSafari&&j&&(delete j.totalSize,delete j.position),l(j)},Fe)})}else he.bIE?(g.dataType="arraybuffer",g.onSuccess=function(M,j,Y){var ee,te;(ee=M||Y.responseData)&&(te=new Uint8Array(ee)),t.__HTTPPostResponseString=Y.responseText,t._errorCode=0,t._errorString="",u(te),te=null,S=st}):(g.dataType="text",g.contentType="text/plain; charset=x-user-defined",g.mimeType="text/plain; charset=x-user-defined",g.onSuccess=function(M,j,Y){var ee,te,de;ee=Y.responseText,t.__HTTPPostResponseString=ee,te=ee.length,de=new Uint8Array(te);for(var Z=0;Z<te;Z++)de[Z]=ee.charCodeAt(Z);t._errorCode=0,t._errorString="",u(de),de=null,S=st}),g.headers?m.mix(g.headers,{"X-Requested-With":Fe}):g.headers={"X-Requested-With":Fe};if(r=="post"){var b,C=t.httpFormFields;if(C)try{b=new FormData,m.each(C,function(M,j){if(M instanceof Blob){var Y=M.name;b.append(j,M,Y)}else b.append(j,M)}),m.mix(g,{data:b,processData:Fe,contentType:Fe})}catch{}}p=function(M,j,Y){var ee,te;M&&m.isArray(M)&&M.length>2?(ee=M[1],te=M[2]):(ee=j,te=Y),te.state!=2&&te.state!=3||te.status!=0?vC(t,Fe,ee,te.status):te.statusText==="abort"?vC(t,!0):fR(t),m.isFunction(d)&&d()},g.url=i,g.async=o,g.onError=p,g.onComplete=function(){t._cancelableObj=null};var D=Ca(g);if(!o)return S;Q.progressContext&&(Q.progressContext._onPercent=l,t.IfShowCancelDialogWhenImageTransfer&&Q.progressContext.on("cancel",function(){D.abort()}))},combineUrl:function(t,r,i){var o=[],u=r;if(!(u===void 0||i===void 0)){if(m.isString(u)||(u=String(r)),u.indexOf("http://")==0?(u=u.replace("http://",""),o.push("http://")):u.indexOf("https://")==0?(u=u.replace("https://",""),o.push("https://")):(u.indexOf("//")==0&&(u=u.replace("//","")),t.IfSSL?o.push("https://"):o.push("http://")),o.push(u),u.indexOf(":")<0){var d=In();t.HTTPPort||(t.HTTPPort=d?443:80),(!d&&t.HTTPPort!=80||d&&t.HTTPPort!=443)&&(o.push(":"),o.push(t.HTTPPort))}return i.indexOf("/")!==0&&o.push("/"),o.push(i),o.join("")}},httpPutImage:function(t,r,i,o,u,d,l){var c=st,p={method:"PUT",url:r,hasContent:st,processData:Fe,async:o,data:i,onSuccess:u,onError:function(S,v,b){var C,D;c=Fe,S&&m.isArray(S)&&S.length>2?(C=S[1],D=S[2]):(C=v,D=b),D.state!=2&&D.state!=3||D.status!=0?hR(t,Fe,C,D.status):D.statusText==="abort"?hR(t,!0):function(M){Me(M,-2304,"Http put error: the url is invalid.")}(t),m.isFunction(d)&&d()},onComplete:function(){t._cancelableObj=null},beforeSend:function(S){m.isFunction(l)&&S.upload.addEventListener("progress",function(v){!he.bSafari&&v&&(delete v.totalSize,delete v.position),l(v)},Fe)}};t.HTTPUserName!=""&&(p.username=t.HTTPUserName,p.password=t.HTTPPassword),o||m.mix(p,{headers:{"X-Requested-With":Fe}});var g=Ca(p);return Q.progressContext&&(Q.progressContext._onPercent=l,Q.progressContext._onCancel=function(){g.abort()}),c},GetImageInfo:function(t,r){var i=t._ImgManager.convertClientIndexToServerId(r);return i==-1?(nt(t),!1):t._innerFun("GetImageInfo",Ge(i))},getBlobTypeByImageType:aT,callbacks:[],pushCallback:function(t,r,i){var o={method:t,callback:r,ticks:i};Rt.callbacks.push(o)},refreshUIRef:0,isServerInvalid:function(t){No.isServerInvalid(t)},replaceLocalFilename:function(t){var r;return t===void 0?"":(r=(t=String(t)).replace(/\\/g,"\\\\"),he.bFileSystem&&(r=decodeURI(r)),r)},getImageType:function(t){if(t===void 0||t.length<4)return-1;var r=t.lastIndexOf(".");if(r===-1)return-1;var i=t.slice(r).toLowerCase();return i===".bmp"||i===".dib"?V.DWT.EnumDWT_ImageType.IT_BMP:i===".jpg"||i===".jpe"||i===".jpeg"||i===".jfif"?V.DWT.EnumDWT_ImageType.IT_JPG:i===".tif"||i===".tiff"?V.DWT.EnumDWT_ImageType.IT_TIF:i===".png"?V.DWT.EnumDWT_ImageType.IT_PNG:i===".pdf"?V.DWT.EnumDWT_ImageType.IT_PDF:i===".jp2"||i===".j2k"||i===".j2c"?V.DWT.EnumDWT_ImageType.IT_J2K:-1},makeParams:Ge,showMask:On,hideMask:un,getFileName:function(t){var r=t,i=r.lastIndexOf("/");return(i>-1||he.bWin&&(i=r.lastIndexOf("\\"))>-1)&&(r=r.substring(i+1)),r},getFilePath:function(t){var r=t,i=r.lastIndexOf("/");return(i>-1||he.bWin&&(i=r.lastIndexOf("\\"))>-1)&&(r=r.substring(0,i)),r}};function by(t,r,i,o,u){var d=0;return t==Tr.TWAIN&&(d=xf),t==Tr.TWAIN64?d=_t.TWAINX64SCANNER:t==Tr.ICA?i?d=_t.SANESCANNER:o?d=_t.ICASCANNER:(r||u)&&(d=xf):t==Tr.TWAIN_AND_TWAIN64&&(i?d=xf|_t.SANESCANNER:o?d=xf|_t.ICASCANNER:r?d=xf|_t.TWAINX64SCANNER:u&&(d=xf)),d}function Cy(t,r){for(var i=t.HowManyImagesInBuffer,o=0;o<i;o++)r.push(t._ImgManager.convertClientIndexToServerId(o))}function CT(t,r){return t._ImgManager.count()!=0||(Ii(t),m.isFunction(r)&&r(t._errorCode,t._getErrorString()),!1)}function kl(t,r,i){return!!CT(t,i)&&(!(isNaN(r)||!m.isNumber(r)||r<0||r>=t._ImgManager.count())||(nt(t),m.isFunction(i)&&i(t._errorCode,t._getErrorString()),!1))}function Rf(t){var r,i,o,u=[];return t._ImgManager.count()<=0||((i=t._ImgManager.getCurrentImageIndex())>=0&&(r=t._ImgManager.convertClientIndexToServerId(i)),o=t._ImgManager.getSelectedClientIndexArray(),m.isArray(o)&&m.each(o,function(d){var l=t._ImgManager.convertClientIndexToServerId(d);l!=-1&&u.push(l)}),r!=-1&&u.length==0&&u.push(r)),u}function dN(t){var r,i=[];return t._ImgManager.count()<=0||(r=t._ImgManager.getCurrentImageIndex(),i=t._ImgManager.getSelectedClientIndexArray(),r!=-1&&i.length==0&&i.push(r)),i}function wi(t,r,i){return t._resetErr(),!!t._isValid()&&(isNaN(r)?(nr(t),m.isFunction(i)&&i(t._errorCode,t.ErrorString),Fe):r<0||r>=t._ImgManager.count()?(nt(t),m.isFunction(i)&&i(t._errorCode,t.ErrorString),Fe):st)}function NY(t){return t==_t.TWAINSCANNER||t==_t.WIATWAINSCANNER||t==_t.TWAINX64SCANNER}function FY(t){var r,i=[],o=t.HowManyImagesInBuffer;for(r=0;r<o;r++)i.push(r);return t._imageBufferWrapper.convertIndicesToServerIds(i)}function Nl(t,r){return t._imageBufferWrapper.convertIndicesToServerIds(r)}function ai(t,r,i,o,u){try{t(r,i,o,u)}catch{}r=i=o=u=null}function pt(t,r,i){try{t(r._errorCode,r._getErrorString(),i)}catch{}r=i=null}function Ni(t,r,i,o,u,d){try{t(r._errorCode,r._getErrorString(),i,o,u,d)}catch{}r=i=o=u=d=null}Q.html5.Funs=Rt;var Ty=function(){return y(function t(){h(this,t),I(this,"bIsDirty",!1),I(this,"imageWidth",0),I(this,"imageHeight",0),I(this,"iImageControlWidth",0),I(this,"iImageControlHeight",0),I(this,"imageUrl",""),I(this,"minImageUrl",""),I(this,"uuid",-1),I(this,"serverId",-1),I(this,"uidFromServer",""),I(this,"aryOverlayRectangleData",[]),I(this,"ticks",Date.now())},[{key:"Clear",value:function(){this.imageUrl="",this.minImageUrl="",this.serverId=-1,this.uuid=-1,this.uidFromServer="",this.aryOverlayRectangleData=[]}}])}(),$p=function(t){return t&&t.Math===Math&&t},gn=$p((typeof globalThis>"u"?"undefined":N(globalThis))=="object"&&globalThis)||$p((typeof window>"u"?"undefined":N(window))=="object"&&window)||$p((typeof self>"u"?"undefined":N(self))=="object"&&self)||$p(N(se)=="object"&&se)||$p(N(se)=="object"&&se)||function(){return this}()||Function("return this")(),Gr=function(t){try{return!!t()}catch{return!0}},em=!Gr(function(){var t=(function(){}).bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),OY=em,fN=Function.prototype,hN=fN.apply,pN=fN.call,tm=(typeof Reflect>"u"?"undefined":N(Reflect))=="object"&&Reflect.apply||(OY?pN.bind(hN):function(){return pN.apply(hN,arguments)}),mN=em,gN=Function.prototype,TT=gN.call,MY=mN&&gN.bind.bind(TT,TT),Zr=mN?MY:function(t){return function(){return TT.apply(t,arguments)}},vN=Zr,LY=vN({}.toString),WY=vN("".slice),zu=function(t){return WY(LY(t),8,-1)},jY=zu,BY=Zr,Iy=function(t){if(jY(t)==="Function")return BY(t)},IT=(typeof document>"u"?"undefined":N(document))=="object"&&document.all,Ei=IT===void 0&&IT!==void 0?function(t){return typeof t=="function"||t===IT}:function(t){return typeof t=="function"},cd={},Yn=!Gr(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),UY=em,wy=Function.prototype.call,vi=UY?wy.bind(wy):function(){return wy.apply(wy,arguments)},rm={},yN={}.propertyIsEnumerable,_N=Object.getOwnPropertyDescriptor,VY=_N&&!yN.call({1:2},1);rm.f=VY?function(t){var r=_N(this,t);return!!r&&r.enumerable}:yN;var Fl,Ey,Ol=function(t,r){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:r}},GY=Gr,HY=zu,wT=Object,zY=Zr("".split),ET=GY(function(){return!wT("z").propertyIsEnumerable(0)})?function(t){return HY(t)==="String"?zY(t,""):wT(t)}:wT,kf=function(t){return t==null},KY=kf,QY=TypeError,Nf=function(t){if(KY(t))throw new QY("Can't call method on "+t);return t},YY=ET,JY=Nf,As=function(t){return YY(JY(t))},qY=Ei,Jn=function(t){return N(t)=="object"?t!==null:qY(t)},En={},xT=En,AT=gn,XY=Ei,SN=function(t){return XY(t)?t:void 0},Fi=function(t,r){return arguments.length<2?SN(xT[t])||SN(AT[t]):xT[t]&&xT[t][r]||AT[t]&&AT[t][r]},Oi=Zr({}.isPrototypeOf),bN=gn.navigator,CN=bN&&bN.userAgent,nm=CN?String(CN):"",TN=gn,DT=nm,IN=TN.process,wN=TN.Deno,EN=IN&&IN.versions||wN&&wN.version,xN=EN&&EN.v8;xN&&(Ey=(Fl=xN.split("."))[0]>0&&Fl[0]<4?1:+(Fl[0]+Fl[1])),!Ey&&DT&&(!(Fl=DT.match(/Edge\/(\d+)/))||Fl[1]>=74)&&(Fl=DT.match(/Chrome\/(\d+)/))&&(Ey=+Fl[1]);var xy=Ey,AN=xy,ZY=Gr,$Y=gn.String,Ff=!!Object.getOwnPropertySymbols&&!ZY(function(){var t=Symbol("symbol detection");return!$Y(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&AN&&AN<41}),DN=Ff&&!Symbol.sham&&N(Symbol.iterator)=="symbol",eJ=Fi,tJ=Ei,rJ=Oi,nJ=Object,im=DN?function(t){return N(t)=="symbol"}:function(t){var r=eJ("Symbol");return tJ(r)&&rJ(r.prototype,nJ(t))},iJ=String,dd=function(t){try{return iJ(t)}catch{return"Object"}},oJ=Ei,aJ=dd,sJ=TypeError,Ea=function(t){if(oJ(t))return t;throw new sJ(aJ(t)+" is not a function")},uJ=Ea,lJ=kf,PT=function(t,r){var i=t[r];return lJ(i)?void 0:uJ(i)},PN=vi,RN=Ei,kN=Jn,cJ=TypeError,NN={exports:{}},dJ=!0,FN=gn,fJ=Object.defineProperty,hJ=gn,pJ=function(t,r){try{fJ(FN,t,{value:r,configurable:!0,writable:!0})}catch{FN[t]=r}return r},ON="__core-js_shared__",MN=NN.exports=hJ[ON]||pJ(ON,{});(MN.versions||(MN.versions=[])).push({version:"3.47.0",mode:"pure",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru), 2025 CoreJS Company (core-js.io)",license:"https://github.com/zloirock/core-js/blob/v3.47.0/LICENSE",source:"https://github.com/zloirock/core-js"});var RT=NN.exports,LN=RT,Of=function(t,r){return LN[t]||(LN[t]=r||{})},mJ=Nf,gJ=Object,Ds=function(t){return gJ(mJ(t))},vJ=Ds,yJ=Zr({}.hasOwnProperty),si=Object.hasOwn||function(t,r){return yJ(vJ(t),r)},_J=Zr,SJ=0,bJ=Math.random(),CJ=_J(1.1.toString),om=function(t){return"Symbol("+(t===void 0?"":t)+")_"+CJ(++SJ+bJ,36)},TJ=Of,WN=si,IJ=om,wJ=Ff,EJ=DN,Mf=gn.Symbol,kT=TJ("wks"),xJ=EJ?Mf.for||Mf:Mf&&Mf.withoutSetter||IJ,Sn=function(t){return WN(kT,t)||(kT[t]=wJ&&WN(Mf,t)?Mf[t]:xJ("Symbol."+t)),kT[t]},AJ=vi,jN=Jn,BN=im,DJ=PT,PJ=function(t,r){var i,o;if(RN(i=t.toString)&&!kN(o=PN(i,t))||RN(i=t.valueOf)&&!kN(o=PN(i,t)))return o;throw new cJ("Can't convert object to primitive value")},RJ=TypeError,kJ=Sn("toPrimitive"),NJ=function(t,r){if(!jN(t)||BN(t))return t;var i,o=DJ(t,kJ);if(o){if(i=AJ(o,t,r),!jN(i)||BN(i))return i;throw new RJ("Can't convert object to primitive value")}return PJ(t)},FJ=im,NT=function(t){var r=NJ(t,"string");return FJ(r)?r:r+""},UN=Jn,FT=gn.document,OJ=UN(FT)&&UN(FT.createElement),OT=function(t){return OJ?FT.createElement(t):{}},MJ=OT,VN=!Yn&&!Gr(function(){return Object.defineProperty(MJ("div"),"a",{get:function(){return 7}}).a!==7}),LJ=Yn,WJ=vi,jJ=rm,BJ=Ol,UJ=As,VJ=NT,GJ=si,HJ=VN,GN=Object.getOwnPropertyDescriptor;cd.f=LJ?GN:function(t,r){if(t=UJ(t),r=VJ(r),HJ)try{return GN(t,r)}catch{}if(GJ(t,r))return BJ(!WJ(jJ.f,t,r),t[r])};var zJ=Gr,KJ=Ei,QJ=/#|\.prototype\./,am=function(t,r){var i=JJ[YJ(t)];return i===XJ||i!==qJ&&(KJ(r)?zJ(r):!!r)},YJ=am.normalize=function(t){return String(t).replace(QJ,".").toLowerCase()},JJ=am.data={},qJ=am.NATIVE="N",XJ=am.POLYFILL="P",HN=am,ZJ=Ea,$J=em,eq=Iy(Iy.bind),Ku=function(t,r){return ZJ(t),r===void 0?t:$J?eq(t,r):function(){return t.apply(r,arguments)}},oa={},zN=Yn&&Gr(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),tq=Jn,rq=String,nq=TypeError,Fo=function(t){if(tq(t))return t;throw new nq(rq(t)+" is not an object")},iq=Yn,oq=VN,aq=zN,Ay=Fo,KN=NT,sq=TypeError,MT=Object.defineProperty,uq=Object.getOwnPropertyDescriptor,LT="enumerable",WT="configurable",jT="writable";oa.f=iq?aq?function(t,r,i){if(Ay(t),r=KN(r),Ay(i),typeof t=="function"&&r==="prototype"&&"value"in i&&jT in i&&!i[jT]){var o=uq(t,r);o&&o[jT]&&(t[r]=i.value,i={configurable:WT in i?i[WT]:o[WT],enumerable:LT in i?i[LT]:o[LT],writable:!1})}return MT(t,r,i)}:MT:function(t,r,i){if(Ay(t),r=KN(r),Ay(i),oq)try{return MT(t,r,i)}catch{}if("get"in i||"set"in i)throw new sq("Accessors not supported");return"value"in i&&(t[r]=i.value),t};var lq=oa,cq=Ol,Ml=Yn?function(t,r,i){return lq.f(t,r,cq(1,i))}:function(t,r,i){return t[r]=i,t},sm=gn,dq=tm,fq=Iy,hq=Ei,pq=cd.f,mq=HN,Lf=En,gq=Ku,Wf=Ml,QN=si,vq=function(t){var r=function(i,o,u){if(this instanceof r){switch(arguments.length){case 0:return new t;case 1:return new t(i);case 2:return new t(i,o)}return new t(i,o,u)}return dq(t,this,arguments)};return r.prototype=t.prototype,r},Ut=function(t,r){var i,o,u,d,l,c,p,g,S,v=t.target,b=t.global,C=t.stat,D=t.proto,M=b?sm:C?sm[v]:sm[v]&&sm[v].prototype,j=b?Lf:Lf[v]||Wf(Lf,v,{})[v],Y=j.prototype;for(d in r)o=!(i=mq(b?d:v+(C?".":"#")+d,t.forced))&&M&&QN(M,d),c=j[d],o&&(p=t.dontCallGetSet?(S=pq(M,d))&&S.value:M[d]),l=o&&p?p:r[d],(i||D||N(c)!=N(l))&&(g=t.bind&&o?gq(l,sm):t.wrap&&o?vq(l):D&&hq(l)?fq(l):l,(t.sham||l&&l.sham||c&&c.sham)&&Wf(g,"sham",!0),Wf(j,d,g),D&&(QN(Lf,u=v+"Prototype")||Wf(Lf,u,{}),Wf(Lf[u],d,l),t.real&&Y&&(i||!Y[d])&&Wf(Y,d,l)))},Ll=Zr([].slice),YN=Zr,yq=Ea,_q=Jn,Sq=si,JN=Ll,bq=em,qN=Function,Cq=YN([].concat),Tq=YN([].join),BT={},XN=bq?qN.bind:function(t){var r=yq(this),i=r.prototype,o=JN(arguments,1),u=function(){var d=Cq(o,JN(arguments));return this instanceof u?function(l,c,p){if(!Sq(BT,c)){for(var g=[],S=0;S<c;S++)g[S]="a["+S+"]";BT[c]=qN("C,a","return new C("+Tq(g,",")+")")}return BT[c](l,p)}(r,d.length,d):r.apply(t,d)};return _q(i)&&(u.prototype=i),u},ZN={};ZN[Sn("toStringTag")]="z";var UT=String(ZN)==="[object z]",Iq=UT,wq=Ei,Dy=zu,Eq=Sn("toStringTag"),xq=Object,Aq=Dy(function(){return arguments}())==="Arguments",fd=Iq?Dy:function(t){var r,i,o;return t===void 0?"Undefined":t===null?"Null":typeof(i=function(u,d){try{return u[d]}catch{}}(r=xq(t),Eq))=="string"?i:Aq?Dy(r):(o=Dy(r))==="Object"&&wq(r.callee)?"Arguments":o},Dq=Ei,VT=RT,Pq=Zr(Function.toString);Dq(VT.inspectSource)||(VT.inspectSource=function(t){return Pq(t)});var $N=VT.inspectSource,Rq=Zr,kq=Gr,eF=Ei,Nq=fd,Fq=$N,tF=function(){},rF=Fi("Reflect","construct"),GT=/^\s*(?:class|function)\b/,Oq=Rq(GT.exec),Mq=!GT.test(tF),um=function(t){if(!eF(t))return!1;try{return rF(tF,[],t),!0}catch{return!1}},nF=function(t){if(!eF(t))return!1;switch(Nq(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Mq||!!Oq(GT,Fq(t))}catch{return!0}};nF.sham=!0;var Py=!rF||kq(function(){var t;return um(um.call)||!um(Object)||!um(function(){t=!0})||t})?nF:um,Lq=Py,Wq=dd,jq=TypeError,iF=function(t){if(Lq(t))return t;throw new jq(Wq(t)+" is not a constructor")},Ry={},Bq=Math.ceil,Uq=Math.floor,Vq=Math.trunc||function(t){var r=+t;return(r>0?Uq:Bq)(r)},lm=function(t){var r=+t;return r!=r||r===0?0:Vq(r)},Gq=lm,Hq=Math.max,zq=Math.min,ky=function(t,r){var i=Gq(t);return i<0?Hq(i+r,0):zq(i,r)},Kq=lm,Qq=Math.min,Yq=function(t){var r=Kq(t);return r>0?Qq(r,9007199254740991):0},Wl=function(t){return Yq(t.length)},Jq=As,qq=ky,Xq=Wl,oF=function(t){return function(r,i,o){var u=Jq(r),d=Xq(u);if(d===0)return!t&&-1;var l,c=qq(o,d);if(t&&i!=i){for(;d>c;)if((l=u[c++])!=l)return!0}else for(;d>c;c++)if((t||c in u)&&u[c]===i)return t||c||0;return!t&&-1}},HT={includes:oF(!0),indexOf:oF(!1)},cm={},zT=si,Zq=As,$q=HT.indexOf,eX=cm,aF=Zr([].push),sF=function(t,r){var i,o=Zq(t),u=0,d=[];for(i in o)!zT(eX,i)&&zT(o,i)&&aF(d,i);for(;r.length>u;)zT(o,i=r[u++])&&(~$q(d,i)||aF(d,i));return d},KT=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],tX=sF,rX=KT,dm=Object.keys||function(t){return tX(t,rX)},nX=Yn,iX=zN,oX=oa,aX=Fo,sX=As,uX=dm;Ry.f=nX&&!iX?Object.defineProperties:function(t,r){aX(t);for(var i,o=sX(r),u=uX(r),d=u.length,l=0;d>l;)oX.f(t,i=u[l++],o[i]);return t};var Ny,uF=Fi("document","documentElement"),lX=om,lF=Of("keys"),Fy=function(t){return lF[t]||(lF[t]=lX(t))},cX=Fo,dX=Ry,cF=KT,fX=cm,hX=uF,pX=OT,QT="prototype",YT="script",dF=Fy("IE_PROTO"),JT=function(){},fF=function(t){return"<"+YT+">"+t+"</"+YT+">"},hF=function(t){t.write(fF("")),t.close();var r=t.parentWindow.Object;return t=null,r},Oy=function(){try{Ny=new ActiveXObject("htmlfile")}catch{}var t,r,i;Oy=typeof document<"u"?document.domain&&Ny?hF(Ny):(r=pX("iframe"),i="java"+YT+":",r.style.display="none",hX.appendChild(r),r.src=String(i),(t=r.contentWindow.document).open(),t.write(fF("document.F=Object")),t.close(),t.F):hF(Ny);for(var o=cF.length;o--;)delete Oy[QT][cF[o]];return Oy()};fX[dF]=!0;var jl=Object.create||function(t,r){var i;return t!==null?(JT[QT]=cX(t),i=new JT,JT[QT]=null,i[dF]=t):i=Oy(),r===void 0?i:dX.f(i,r)},mX=Ut,qT=tm,gX=XN,pF=iF,vX=Fo,mF=Jn,yX=jl,gF=Gr,XT=Fi("Reflect","construct"),_X=Object.prototype,SX=[].push,vF=gF(function(){function t(){}return!(XT(function(){},[],t)instanceof t)}),yF=!gF(function(){XT(function(){})}),_F=vF||yF;mX({target:"Reflect",stat:!0,forced:_F,sham:_F},{construct:function(t,r){pF(t),vX(r);var i=arguments.length<3?t:pF(arguments[2]);if(yF&&!vF)return XT(t,r,i);if(t===i){switch(r.length){case 0:return new t;case 1:return new t(r[0]);case 2:return new t(r[0],r[1]);case 3:return new t(r[0],r[1],r[2]);case 4:return new t(r[0],r[1],r[2],r[3])}var o=[null];return qT(SX,o,r),new(qT(gX,t,o))}var u=i.prototype,d=yX(mF(u)?u:_X),l=qT(t,d,r);return mF(l)?l:d}});var My=ce(En.Reflect.construct),bX=fd,CX=String,xa=function(t){if(bX(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return CX(t)},fm={},TX=sF,IX=KT.concat("length","prototype");fm.f=Object.getOwnPropertyNames||function(t){return TX(t,IX)};var ZT={},wX=zu,EX=As,SF=fm.f,xX=Ll,bF=(typeof window>"u"?"undefined":N(window))=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];ZT.f=function(t){return bF&&wX(t)==="Window"?function(r){try{return SF(r)}catch{return xX(bF)}}(t):SF(EX(t))};var hm={};hm.f=Object.getOwnPropertySymbols;var AX=Ml,Bl=function(t,r,i,o){return o&&o.enumerable?t[r]=i:AX(t,r,i),t},DX=oa,pm=function(t,r,i){return DX.f(t,r,i)},mm={},PX=Sn;mm.f=PX;var Ly,gm,Wy,CF=En,RX=si,kX=mm,NX=oa.f,qn=function(t){var r=CF.Symbol||(CF.Symbol={});RX(r,t)||NX(r,t,{value:kX.f(t)})},FX=vi,OX=Fi,MX=Sn,LX=Bl,TF=function(){var t=OX("Symbol"),r=t&&t.prototype,i=r&&r.valueOf,o=MX("toPrimitive");r&&!r[o]&&LX(r,o,function(u){return FX(i,this)},{arity:1})},WX=fd,jX=UT?{}.toString:function(){return"[object "+WX(this)+"]"},BX=UT,UX=oa.f,VX=Ml,GX=si,HX=jX,IF=Sn("toStringTag"),du=function(t,r,i,o){var u=i?t:t&&t.prototype;u&&(GX(u,IF)||UX(u,IF,{configurable:!0,value:r}),o&&!BX&&VX(u,"toString",HX))},zX=Ei,wF=gn.WeakMap,KX=zX(wF)&&/native code/.test(String(wF)),EF=gn,QX=Jn,YX=Ml,$T=si,eI=RT,JX=Fy,qX=cm,xF="Object already initialized",tI=EF.TypeError,XX=EF.WeakMap;if(KX||eI.state){var fu=eI.state||(eI.state=new XX);fu.get=fu.get,fu.has=fu.has,fu.set=fu.set,Ly=function(t,r){if(fu.has(t))throw new tI(xF);return r.facade=t,fu.set(t,r),r},gm=function(t){return fu.get(t)||{}},Wy=function(t){return fu.has(t)}}else{var jf=JX("state");qX[jf]=!0,Ly=function(t,r){if($T(t,jf))throw new tI(xF);return r.facade=t,YX(t,jf,r),r},gm=function(t){return $T(t,jf)?t[jf]:{}},Wy=function(t){return $T(t,jf)}}var Ps={set:Ly,get:gm,has:Wy,enforce:function(t){return Wy(t)?gm(t):Ly(t,{})},getterFor:function(t){return function(r){var i;if(!QX(r)||(i=gm(r)).type!==t)throw new tI("Incompatible receiver, "+t+" required");return i}}},ZX=zu,hd=Array.isArray||function(t){return ZX(t)==="Array"},AF=hd,$X=Py,eZ=Jn,tZ=Sn("species"),DF=Array,rZ=function(t){var r;return AF(t)&&(r=t.constructor,($X(r)&&(r===DF||AF(r.prototype))||eZ(r)&&(r=r[tZ])===null)&&(r=void 0)),r===void 0?DF:r},rI=function(t,r){return new(rZ(t))(r===0?0:r)},nZ=Ku,iZ=ET,oZ=Ds,aZ=Wl,sZ=rI,PF=Zr([].push),Ul=function(t){var r=t===1,i=t===2,o=t===3,u=t===4,d=t===6,l=t===7,c=t===5||d;return function(p,g,S,v){for(var b,C,D=oZ(p),M=iZ(D),j=aZ(M),Y=nZ(g,S),ee=0,te=v||sZ,de=r?te(p,j):i||l?te(p,0):void 0;j>ee;ee++)if((c||ee in M)&&(C=Y(b=M[ee],ee,D),t))if(r)de[ee]=C;else if(C)switch(t){case 3:return!0;case 5:return b;case 6:return ee;case 2:PF(de,b)}else switch(t){case 4:return!1;case 7:PF(de,b)}return d?-1:o||u?u:de}},pd={forEach:Ul(0),map:Ul(1),filter:Ul(2),some:Ul(3),every:Ul(4),find:Ul(5),findIndex:Ul(6),filterReject:Ul(7)},jy=Ut,vm=gn,nI=vi,uZ=Zr,Bf=Yn,Uf=Ff,lZ=Gr,Xi=si,cZ=Oi,iI=Fo,By=As,oI=NT,dZ=xa,aI=Ol,Vf=jl,RF=dm,fZ=fm,kF=ZT,hZ=hm,NF=cd,FF=oa,pZ=Ry,OF=rm,MF=Bl,mZ=pm,sI=Of,LF=cm,WF=om,gZ=Sn,vZ=mm,yZ=qn,_Z=TF,SZ=du,jF=Ps,Uy=pd.forEach,aa=Fy("hidden"),Vy="Symbol",ym="prototype",bZ=jF.set,BF=jF.getterFor(Vy),Rs=Object[ym],md=vm.Symbol,Gy=md&&md[ym],CZ=vm.RangeError,TZ=vm.TypeError,uI=vm.QObject,UF=NF.f,gd=FF.f,VF=kF.f,IZ=OF.f,GF=uZ([].push),Qu=sI("symbols"),_m=sI("op-symbols"),wZ=sI("wks"),lI=!uI||!uI[ym]||!uI[ym].findChild,HF=function(t,r,i){var o=UF(Rs,r);o&&delete Rs[r],gd(t,r,i),o&&t!==Rs&&gd(Rs,r,o)},cI=Bf&&lZ(function(){return Vf(gd({},"a",{get:function(){return gd(this,"a",{value:7}).a}})).a!==7})?HF:gd,dI=function(t,r){var i=Qu[t]=Vf(Gy);return bZ(i,{type:Vy,tag:t,description:r}),Bf||(i.description=r),i},Hy=function(t,r,i){t===Rs&&Hy(_m,r,i),iI(t);var o=oI(r);return iI(i),Xi(Qu,o)?(i.enumerable?(Xi(t,aa)&&t[aa][o]&&(t[aa][o]=!1),i=Vf(i,{enumerable:aI(0,!1)})):(Xi(t,aa)||gd(t,aa,aI(1,Vf(null))),t[aa][o]=!0),cI(t,o,i)):gd(t,o,i)},fI=function(t,r){iI(t);var i=By(r),o=RF(i).concat(YF(i));return Uy(o,function(u){Bf&&!nI(zF,i,u)||Hy(t,u,i[u])}),t},zF=function(t){var r=oI(t),i=nI(IZ,this,r);return!(this===Rs&&Xi(Qu,r)&&!Xi(_m,r))&&(!(i||!Xi(this,r)||!Xi(Qu,r)||Xi(this,aa)&&this[aa][r])||i)},KF=function(t,r){var i=By(t),o=oI(r);if(i!==Rs||!Xi(Qu,o)||Xi(_m,o)){var u=UF(i,o);return!u||!Xi(Qu,o)||Xi(i,aa)&&i[aa][o]||(u.enumerable=!0),u}},QF=function(t){var r=VF(By(t)),i=[];return Uy(r,function(o){Xi(Qu,o)||Xi(LF,o)||GF(i,o)}),i},YF=function(t){var r=t===Rs,i=VF(r?_m:By(t)),o=[];return Uy(i,function(u){!Xi(Qu,u)||r&&!Xi(Rs,u)||GF(o,Qu[u])}),o};Uf||(md=function(){if(cZ(Gy,this))throw new TZ("Symbol is not a constructor");var t=arguments.length&&arguments[0]!==void 0?dZ(arguments[0]):void 0,r=WF(t),i=function(o){var u=this===void 0?vm:this;u===Rs&&nI(i,_m,o),Xi(u,aa)&&Xi(u[aa],r)&&(u[aa][r]=!1);var d=aI(1,o);try{cI(u,r,d)}catch(l){if(!(l instanceof CZ))throw l;HF(u,r,d)}};return Bf&&lI&&cI(Rs,r,{configurable:!0,set:i}),dI(r,t)},MF(Gy=md[ym],"toString",function(){return BF(this).tag}),MF(md,"withoutSetter",function(t){return dI(WF(t),t)}),OF.f=zF,FF.f=Hy,pZ.f=fI,NF.f=KF,fZ.f=kF.f=QF,hZ.f=YF,vZ.f=function(t){return dI(gZ(t),t)},Bf&&mZ(Gy,"description",{configurable:!0,get:function(){return BF(this).description}})),jy({global:!0,constructor:!0,wrap:!0,forced:!Uf,sham:!Uf},{Symbol:md}),Uy(RF(wZ),function(t){yZ(t)}),jy({target:Vy,stat:!0,forced:!Uf},{useSetter:function(){lI=!0},useSimple:function(){lI=!1}}),jy({target:"Object",stat:!0,forced:!Uf,sham:!Bf},{create:function(t,r){return r===void 0?Vf(t):fI(Vf(t),r)},defineProperty:Hy,defineProperties:fI,getOwnPropertyDescriptor:KF}),jy({target:"Object",stat:!0,forced:!Uf},{getOwnPropertyNames:QF}),_Z(),SZ(md,Vy),LF[aa]=!0;var JF=Ff&&!!Symbol.for&&!!Symbol.keyFor,EZ=Ut,xZ=Fi,AZ=si,DZ=xa,qF=Of,PZ=JF,hI=qF("string-to-symbol-registry"),RZ=qF("symbol-to-string-registry");EZ({target:"Symbol",stat:!0,forced:!PZ},{for:function(t){var r=DZ(t);if(AZ(hI,r))return hI[r];var i=xZ("Symbol")(r);return hI[r]=i,RZ[i]=r,i}});var kZ=Ut,NZ=si,FZ=im,OZ=dd,MZ=JF,XF=Of("symbol-to-string-registry");kZ({target:"Symbol",stat:!0,forced:!MZ},{keyFor:function(t){if(!FZ(t))throw new TypeError(OZ(t)+" is not a symbol");if(NZ(XF,t))return XF[t]}});var LZ=Jn,WZ=Ps.get,pI=Zr,jZ=si,zy=SyntaxError,BZ=parseInt,UZ=String.fromCharCode,VZ=pI("".charAt),ZF=pI("".slice),$F=pI(/./.exec),eO={'\\"':'"',"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":`
`,"\\r":"\r","\\t":"	"},GZ=/^[\da-f]{4}$/i,HZ=/^[\u0000-\u001F]$/,zZ=!Gr(function(){var t="9007199254740993",r=JSON.rawJSON(t);return!JSON.isRawJSON(r)||JSON.stringify(r)!==t}),KZ=Ut,tO=Fi,QZ=tm,rO=vi,vd=Zr,nO=Gr,iO=hd,Ky=Ei,YZ=function(t){if(!LZ(t))return!1;var r=WZ(t);return!!r&&r.type==="RawJSON"},oO=im,aO=zu,JZ=xa,qZ=Ll,XZ=function(t,r){for(var i=!0,o="";r<t.length;){var u=VZ(t,r);if(u==="\\"){var d=ZF(t,r,r+2);if(jZ(eO,d))o+=eO[d],r+=2;else{if(d!=="\\u")throw new zy('Unknown escape sequence: "'+d+'"');var l=ZF(t,r+=2,r+4);if(!$F(GZ,l))throw new zy("Bad Unicode escape at: "+r);o+=UZ(BZ(l,16)),r+=4}}else{if(u==='"'){i=!1,r++;break}if($F(HZ,u))throw new zy("Bad control character in string literal at: "+r);o+=u,r++}}if(i)throw new zy("Unterminated string at: "+r);return{value:o,end:r}},ZZ=om,$Z=Ff,mI=zZ,sO=String,Vl=tO("JSON","stringify"),Qy=vd(/./.exec),gI=vd("".charAt),e2=vd("".charCodeAt),t2=vd("".replace),vI=vd("".slice),yI=vd([].push),r2=vd(1.1.toString),n2=/[\uD800-\uDFFF]/g,uO=/^[\uD800-\uDBFF]$/,lO=/^[\uDC00-\uDFFF]$/,_I=ZZ(),cO=_I.length,dO=!$Z||nO(function(){var t=tO("Symbol")("stringify detection");return Vl([t])!=="[null]"||Vl({a:t})!=="{}"||Vl(Object(t))!=="{}"}),fO=nO(function(){return Vl("\uDF06\uD834")!=='"\\udf06\\ud834"'||Vl("\uDEAD")!=='"\\udead"'}),i2=dO?function(t,r){var i=qZ(arguments),o=hO(r);if(Ky(o)||t!==void 0&&!oO(t))return i[1]=function(u,d){if(Ky(o)&&(d=rO(o,this,sO(u),d)),!oO(d))return d},QZ(Vl,null,i)}:Vl,o2=function(t,r,i){var o=gI(i,r-1),u=gI(i,r+1);return Qy(uO,t)&&!Qy(lO,u)||Qy(lO,t)&&!Qy(uO,o)?"\\u"+r2(e2(t,0),16):t},hO=function(t){if(Ky(t))return t;if(iO(t)){for(var r=t.length,i=[],o=0;o<r;o++){var u=t[o];typeof u=="string"?yI(i,u):typeof u!="number"&&aO(u)!=="Number"&&aO(u)!=="String"||yI(i,JZ(u))}var d=i.length,l=!0;return function(c,p){if(l)return l=!1,p;if(iO(this))return p;for(var g=0;g<d;g++)if(i[g]===c)return p}}};Vl&&KZ({target:"JSON",stat:!0,arity:3,forced:dO||fO||!mI},{stringify:function(t,r,i){var o=hO(r),u=[],d=i2(t,function(b,C){var D=Ky(o)?rO(o,this,sO(b),C):C;return!mI&&YZ(D)?_I+(yI(u,D.rawJSON)-1):D},i);if(typeof d!="string"||(fO&&(d=t2(d,n2,o2)),mI))return d;for(var l="",c=d.length,p=0;p<c;p++){var g=gI(d,p);if(g==='"'){var S=XZ(d,++p).end-1,v=vI(d,p,S);l+=vI(v,0,cO)===_I?u[vI(v,cO)]:'"'+v+'"',p=S}else l+=g}return l}});var pO=hm,a2=Ds;Ut({target:"Object",stat:!0,forced:!Ff||Gr(function(){pO.f(1)})},{getOwnPropertySymbols:function(t){var r=pO.f;return r?r(a2(t)):[]}});var mO=ce(En.Object.getOwnPropertySymbols),gO={exports:{}},s2=Ut,u2=Gr,l2=As,vO=cd.f,yO=Yn;s2({target:"Object",stat:!0,forced:!yO||u2(function(){vO(1)}),sham:!yO},{getOwnPropertyDescriptor:function(t,r){return vO(l2(t),r)}});var _O=En.Object,c2=gO.exports=function(t,r){return _O.getOwnPropertyDescriptor(t,r)};_O.getOwnPropertyDescriptor.sham&&(c2.sham=!0);var SO=gO.exports,bO=ce(SO),d2=Fi,f2=fm,h2=hm,p2=Fo,m2=Zr([].concat),CO=d2("Reflect","ownKeys")||function(t){var r=f2.f(p2(t)),i=h2.f;return i?m2(r,i(t)):r},g2=Yn,v2=oa,y2=Ol,Sm=function(t,r,i){g2?v2.f(t,r,y2(0,i)):t[r]=i},_2=CO,S2=As,b2=cd,C2=Sm;Ut({target:"Object",stat:!0,sham:!Yn},{getOwnPropertyDescriptors:function(t){for(var r,i,o=S2(t),u=b2.f,d=_2(o),l={},c=0;d.length>c;)(i=u(o,r=d[c++]))!==void 0&&C2(l,r,i);return l}});var TO=ce(En.Object.getOwnPropertyDescriptors),IO={exports:{}},T2=Ut,I2=Yn,wO=Ry.f;T2({target:"Object",stat:!0,forced:Object.defineProperties!==wO,sham:!I2},{defineProperties:wO});var EO=En.Object,w2=IO.exports=function(t,r){return EO.defineProperties(t,r)};EO.defineProperties.sham&&(w2.sham=!0);var E2=ce(IO.exports),xO=!Gr(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),x2=si,A2=Ei,D2=Ds,P2=xO,AO=Fy("IE_PROTO"),SI=Object,R2=SI.prototype,Gf=P2?SI.getPrototypeOf:function(t){var r=D2(t);if(x2(r,AO))return r[AO];var i=r.constructor;return A2(i)&&r instanceof i?i.prototype:r instanceof SI?R2:null},k2=Zr,N2=Ea,F2=Jn,O2=function(t){return F2(t)||t===null},M2=String,L2=TypeError,W2=function(t,r,i){try{return k2(N2(Object.getOwnPropertyDescriptor(t,r)[i]))}catch{}},j2=Jn,B2=Nf,U2=function(t){if(O2(t))return t;throw new L2("Can't set "+M2(t)+" as a prototype")},DO=Object.setPrototypeOf||("__proto__"in{}?function(){var t,r=!1,i={};try{(t=W2(Object.prototype,"__proto__","set"))(i,[]),r=i instanceof Array}catch{}return function(o,u){return B2(o),U2(u),j2(o)&&(r?t(o,u):o.__proto__=u),o}}():void 0),PO=si,V2=CO,G2=cd,H2=oa,z2=Jn,K2=Ml,RO=Error,Q2=Zr("".replace),Y2=String(new RO("zxcasd").stack),kO=/\n\s*at [^:]*:[^\n]*/,J2=kO.test(Y2),q2=Ol,X2=!Gr(function(){var t=new Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",q2(1,7)),t.stack!==7)}),Z2=Ml,$2=function(t,r){if(J2&&typeof t=="string"&&!RO.prepareStackTrace)for(;r--;)t=Q2(t,kO,"");return t},e$=X2,NO=Error.captureStackTrace,Hf={},t$=Hf,r$=Sn("iterator"),n$=Array.prototype,FO=function(t){return t!==void 0&&(t$.Array===t||n$[r$]===t)},i$=fd,OO=PT,o$=kf,a$=Hf,s$=Sn("iterator"),bm=function(t){if(!o$(t))return OO(t,s$)||OO(t,"@@iterator")||a$[i$(t)]},u$=vi,l$=Ea,c$=Fo,d$=dd,f$=bm,h$=TypeError,bI=function(t,r){var i=arguments.length<2?f$(t):r;if(l$(i))return c$(u$(i,t));throw new h$(d$(t)+" is not iterable")},p$=vi,MO=Fo,m$=PT,Yy=function(t,r,i){var o,u;MO(t);try{if(!(o=m$(t,"return"))){if(r==="throw")throw i;return i}o=p$(o,t)}catch(d){u=!0,o=d}if(r==="throw")throw i;if(u)throw o;return MO(o),i},g$=Ku,v$=vi,y$=Fo,_$=dd,S$=FO,b$=Wl,LO=Oi,C$=bI,T$=bm,WO=Yy,I$=TypeError,Jy=function(t,r){this.stopped=t,this.result=r},jO=Jy.prototype,yd=function(t,r,i){var o,u,d,l,c,p,g,S=i&&i.that,v=!(!i||!i.AS_ENTRIES),b=!(!i||!i.IS_RECORD),C=!(!i||!i.IS_ITERATOR),D=!(!i||!i.INTERRUPTED),M=g$(r,S),j=function(ee){return o&&WO(o,"normal"),new Jy(!0,ee)},Y=function(ee){return v?(y$(ee),D?M(ee[0],ee[1],j):M(ee[0],ee[1])):D?M(ee,j):M(ee)};if(b)o=t.iterator;else if(C)o=t;else{if(!(u=T$(t)))throw new I$(_$(t)+" is not iterable");if(S$(u)){for(d=0,l=b$(t);l>d;d++)if((c=Y(t[d]))&&LO(jO,c))return c;return new Jy(!1)}o=C$(t,u)}for(p=b?t.next:o.next;!(g=v$(p,o)).done;){try{c=Y(g.value)}catch(ee){WO(o,"throw",ee)}if(N(c)=="object"&&c&&LO(jO,c))return c}return new Jy(!1)},w$=xa,E$=Ut,x$=Oi,A$=Gf,qy=DO,D$=function(t,r,i){for(var o=V2(r),u=H2.f,d=G2.f,l=0;l<o.length;l++){var c=o[l];PO(t,c)||i&&PO(i,c)||u(t,c,d(r,c))}},BO=jl,CI=Ml,TI=Ol,P$=function(t,r){z2(r)&&"cause"in r&&K2(t,"cause",r.cause)},R$=function(t,r,i,o){e$&&(NO?NO(t,r):Z2(t,"stack",$2(i,o)))},k$=yd,N$=function(t,r){return t===void 0?arguments.length<2?"":r:w$(t)},F$=Sn("toStringTag"),Xy=Error,O$=[].push,zf=function(t,r){var i,o=x$(II,this);qy?i=qy(new Xy,o?A$(this):II):(i=o?this:BO(II),CI(i,F$,"Error")),r!==void 0&&CI(i,"message",N$(r)),R$(i,zf,i.stack,1),arguments.length>2&&P$(i,arguments[2]);var u=[];return k$(t,O$,{that:u}),CI(i,"errors",u),i};qy?qy(zf,Xy):D$(zf,Xy,{name:!0});var II=zf.prototype=BO(Xy.prototype,{constructor:TI(1,zf),message:TI(1,""),name:TI(1,"AggregateError")});E$({global:!0,constructor:!0,arity:2},{AggregateError:zf});var _d,UO,VO,wI=Yn,M$=si,GO=Function.prototype,L$=wI&&Object.getOwnPropertyDescriptor,EI=M$(GO,"name"),W$={EXISTS:EI,PROPER:EI&&(function(){}).name==="something",CONFIGURABLE:EI&&(!wI||wI&&L$(GO,"name").configurable)},j$=Gr,B$=Ei,U$=Jn,V$=jl,HO=Gf,G$=Bl,xI=Sn("iterator"),zO=!1;[].keys&&("next"in(VO=[].keys())?(UO=HO(HO(VO)))!==Object.prototype&&(_d=UO):zO=!0);var H$=!U$(_d)||j$(function(){var t={};return _d[xI].call(t)!==t});B$((_d=H$?{}:V$(_d))[xI])||G$(_d,xI,function(){return this});var KO={IteratorPrototype:_d,BUGGY_SAFARI_ITERATORS:zO},z$=KO.IteratorPrototype,K$=jl,Q$=Ol,Y$=du,J$=Hf,q$=function(){return this},QO=function(t,r,i,o){var u=r+" Iterator";return t.prototype=K$(z$,{next:Q$(+!o,i)}),Y$(t,u,!1,!0),J$[u]=q$,t},X$=Ut,Z$=vi,$$=QO,e3=Gf,t3=du,YO=Bl,JO=Hf,r3=W$.PROPER,Zy=KO.BUGGY_SAFARI_ITERATORS,AI=Sn("iterator"),qO="keys",$y="values",XO="entries",n3=function(){return this},DI=function(t,r,i,o,u,d,l){$$(i,r,o);var c,p,g,S=function(Y){if(Y===u&&M)return M;if(!Zy&&Y&&Y in C)return C[Y];switch(Y){case qO:case $y:case XO:return function(){return new i(this,Y)}}return function(){return new i(this)}},v=r+" Iterator",b=!1,C=t.prototype,D=C[AI]||C["@@iterator"]||u&&C[u],M=!Zy&&D||S(u),j=r==="Array"&&C.entries||D;if(j&&(c=e3(j.call(new t)))!==Object.prototype&&c.next&&(t3(c,v,!0,!0),JO[v]=n3),r3&&u===$y&&D&&D.name!==$y&&(b=!0,M=function(){return Z$(D,this)}),u)if(p={values:S($y),keys:d?M:S(qO),entries:S(XO)},l)for(g in p)(Zy||b||!(g in C))&&YO(C,g,p[g]);else X$({target:r,proto:!0,forced:Zy||b},p);return l&&C[AI]!==M&&YO(C,AI,M,{name:u}),JO[r]=M,p},e_=function(t,r){return{value:t,done:r}},i3=As,ZO=Hf,$O=Ps;oa.f;var o3=DI,t_=e_,eM="Array Iterator",a3=$O.set,s3=$O.getterFor(eM);o3(Array,"Array",function(t,r){a3(this,{type:eM,target:i3(t),index:0,kind:r})},function(){var t=s3(this),r=t.target,i=t.index++;if(!r||i>=r.length)return t.target=null,t_(void 0,!0);switch(t.kind){case"keys":return t_(i,!1);case"values":return t_(r[i],!1)}return t_([i,r[i]],!1)},"values"),ZO.Arguments=ZO.Array;var Cm,Kf,tM,PI,Tm=gn,u3=nm,l3=zu,r_=function(t){return u3.slice(0,t.length)===t},rM=r_("Bun/")?"BUN":r_("Cloudflare-Workers")?"CLOUDFLARE":r_("Deno/")?"DENO":r_("Node.js/")?"NODE":Tm.Bun&&typeof Bun.version=="string"?"BUN":Tm.Deno&&N(Deno.version)=="object"?"DENO":l3(Tm.process)==="process"?"NODE":Tm.window&&Tm.document?"BROWSER":"REST",RI=rM==="NODE",c3=Fi,d3=pm,f3=Yn,nM=Sn("species"),iM=function(t){var r=c3(t);f3&&r&&!r[nM]&&d3(r,nM,{configurable:!0,get:function(){return this}})},h3=Oi,p3=TypeError,Im=function(t,r){if(h3(r,t))return t;throw new p3("Incorrect invocation")},oM=Fo,m3=iF,g3=kf,v3=Sn("species"),aM=function(t,r){var i,o=oM(t).constructor;return o===void 0||g3(i=oM(o)[v3])?r:m3(i)},y3=TypeError,wm=function(t,r){if(t<r)throw new y3("Not enough arguments");return t},sM=/(?:ipad|iphone|ipod).*applewebkit/i.test(nm),Aa=gn,_3=tm,S3=Ku,uM=Ei,b3=si,lM=Gr,cM=uF,C3=Ll,dM=OT,T3=wm,I3=sM,w3=RI,kI=Aa.setImmediate,NI=Aa.clearImmediate,E3=Aa.process,FI=Aa.Dispatch,x3=Aa.Function,fM=Aa.MessageChannel,A3=Aa.String,OI=0,Em={},hM="onreadystatechange";lM(function(){Cm=Aa.location});var MI=function(t){if(b3(Em,t)){var r=Em[t];delete Em[t],r()}},LI=function(t){return function(){MI(t)}},pM=function(t){MI(t.data)},mM=function(t){Aa.postMessage(A3(t),Cm.protocol+"//"+Cm.host)};kI&&NI||(kI=function(t){T3(arguments.length,1);var r=uM(t)?t:x3(t),i=C3(arguments,1);return Em[++OI]=function(){_3(r,void 0,i)},Kf(OI),OI},NI=function(t){delete Em[t]},w3?Kf=function(t){E3.nextTick(LI(t))}:FI&&FI.now?Kf=function(t){FI.now(LI(t))}:fM&&!I3?(PI=(tM=new fM).port2,tM.port1.onmessage=pM,Kf=S3(PI.postMessage,PI)):Aa.addEventListener&&uM(Aa.postMessage)&&!Aa.importScripts&&Cm&&Cm.protocol!=="file:"&&!lM(mM)?(Kf=mM,Aa.addEventListener("message",pM,!1)):Kf=hM in dM("script")?function(t){cM.appendChild(dM("script"))[hM]=function(){cM.removeChild(this),MI(t)}}:function(t){setTimeout(LI(t),0)});var gM={set:kI,clear:NI},vM=gn,D3=Yn,P3=Object.getOwnPropertyDescriptor,yM=function(t){if(!D3)return vM[t];var r=P3(vM,t);return r&&r.value},_M=function(){this.head=null,this.tail=null};_M.prototype={add:function(t){var r={item:t,next:null},i=this.tail;i?i.next=r:this.head=r,this.tail=r},get:function(){var t=this.head;if(t)return(this.head=t.next)===null&&(this.tail=null),t.item}};var Qf,WI,jI,BI,SM,bM=_M,R3=/ipad|iphone|ipod/i.test(nm)&&typeof Pebble<"u",k3=/web0s(?!.*chrome)/i.test(nm),Yf=gn,N3=yM,CM=Ku,UI=gM.set,F3=bM,O3=sM,M3=R3,L3=k3,VI=RI,TM=Yf.MutationObserver||Yf.WebKitMutationObserver,IM=Yf.document,wM=Yf.process,n_=Yf.Promise,GI=N3("queueMicrotask");if(!GI){var i_=new F3,o_=function(){var t,r;for(VI&&(t=wM.domain)&&t.exit();r=i_.get();)try{r()}catch(i){throw i_.head&&Qf(),i}t&&t.enter()};O3||VI||L3||!TM||!IM?!M3&&n_&&n_.resolve?((BI=n_.resolve(void 0)).constructor=n_,SM=CM(BI.then,BI),Qf=function(){SM(o_)}):VI?Qf=function(){wM.nextTick(o_)}:(UI=CM(UI,Yf),Qf=function(){UI(o_)}):(WI=!0,jI=IM.createTextNode(""),new TM(o_).observe(jI,{characterData:!0}),Qf=function(){jI.data=WI=!WI}),GI=function(t){i_.head||Qf(),i_.add(t)}}var W3=GI,Jf=function(t){try{return{error:!1,value:t()}}catch(r){return{error:!0,value:r}}},Sd=gn.Promise,j3=gn,xm=Sd,B3=Ei,U3=HN,V3=$N,G3=Sn,EM=rM,HI=xy,xM=xm&&xm.prototype,H3=G3("species"),AM=!1,DM=B3(j3.PromiseRejectionEvent),z3=U3("Promise",function(){var t=V3(xm),r=t!==String(xm);if(!r&&HI===66||!xM.catch||!xM.finally)return!0;if(!HI||HI<51||!/native code/.test(t)){var i=new xm(function(u){u(1)}),o=function(u){u(function(){},function(){})};if((i.constructor={})[H3]=o,!(AM=i.then(function(){})instanceof o))return!0}return!(r||EM!=="BROWSER"&&EM!=="DENO"||DM)}),qf={CONSTRUCTOR:z3,REJECTION_EVENT:DM,SUBCLASSING:AM},hu={},PM=Ea,K3=TypeError,Q3=function(t){var r,i;this.promise=new t(function(o,u){if(r!==void 0||i!==void 0)throw new K3("Bad Promise constructor");r=o,i=u}),this.resolve=PM(r),this.reject=PM(i)};hu.f=function(t){return new Q3(t)};var zI,RM,kM,Y3=Ut,a_=RI,Gl=gn,J3=En,Am=vi,q3=Bl,X3=du,Z3=iM,$3=Ea,KI=Ei,eee=Jn,tee=Im,ree=aM,NM=gM.set,QI=W3,nee=function(t,r){},iee=Jf,oee=bM,FM=Ps,YI=Sd,OM=hu,s_="Promise",MM=qf.CONSTRUCTOR,aee=qf.REJECTION_EVENT,JI=FM.getterFor(s_),see=FM.set,uee=YI&&YI.prototype,Dm=YI,qI=uee,LM=Gl.TypeError,XI=Gl.document,ZI=Gl.process,$I=OM.f,lee=$I,cee=!!(XI&&XI.createEvent&&Gl.dispatchEvent),WM="unhandledrejection",jM=function(t){var r;return!(!eee(t)||!KI(r=t.then))&&r},BM=function(t,r){var i,o,u,d=r.value,l=r.state===1,c=l?t.ok:t.fail,p=t.resolve,g=t.reject,S=t.domain;try{c?(l||(r.rejection===2&&fee(r),r.rejection=1),c===!0?i=d:(S&&S.enter(),i=c(d),S&&(S.exit(),u=!0)),i===t.promise?g(new LM("Promise-chain cycle")):(o=jM(i))?Am(o,i,p,g):p(i)):g(d)}catch(v){S&&!u&&S.exit(),g(v)}},UM=function(t,r){t.notified||(t.notified=!0,QI(function(){for(var i,o=t.reactions;i=o.get();)BM(i,t);t.notified=!1,r&&!t.rejection&&dee(t)}))},VM=function(t,r,i){var o,u;cee?((o=XI.createEvent("Event")).promise=r,o.reason=i,o.initEvent(t,!1,!0),Gl.dispatchEvent(o)):o={promise:r,reason:i},!aee&&(u=Gl["on"+t])?u(o):t===WM&&nee()},dee=function(t){Am(NM,Gl,function(){var r,i=t.facade,o=t.value;if(GM(t)&&(r=iee(function(){a_?ZI.emit("unhandledRejection",o,i):VM(WM,i,o)}),t.rejection=a_||GM(t)?2:1,r.error))throw r.value})},GM=function(t){return t.rejection!==1&&!t.parent},fee=function(t){Am(NM,Gl,function(){var r=t.facade;a_?ZI.emit("rejectionHandled",r):VM("rejectionhandled",r,t.value)})},Xf=function(t,r,i){return function(o){t(r,o,i)}},Zf=function(t,r,i){t.done||(t.done=!0,i&&(t=i),t.value=r,t.state=2,UM(t,!0))},ew=function(t,r,i){if(!t.done){t.done=!0,i&&(t=i);try{if(t.facade===r)throw new LM("Promise can't be resolved itself");var o=jM(r);o?QI(function(){var u={done:!1};try{Am(o,r,Xf(ew,u,t),Xf(Zf,u,t))}catch(d){Zf(u,d,t)}}):(t.value=r,t.state=1,UM(t,!1))}catch(u){Zf({done:!1},u,t)}}};MM&&(qI=(Dm=function(t){tee(this,qI),$3(t),Am(zI,this);var r=JI(this);try{t(Xf(ew,r),Xf(Zf,r))}catch(i){Zf(r,i)}}).prototype,(zI=function(t){see(this,{type:s_,done:!1,notified:!1,parent:!1,reactions:new oee,rejection:!1,state:0,value:null})}).prototype=q3(qI,"then",function(t,r){var i=JI(this),o=$I(ree(this,Dm));return i.parent=!0,o.ok=!KI(t)||t,o.fail=KI(r)&&r,o.domain=a_?ZI.domain:void 0,i.state===0?i.reactions.add(o):QI(function(){BM(o,i)}),o.promise}),RM=function(){var t=new zI,r=JI(t);this.promise=t,this.resolve=Xf(ew,r),this.reject=Xf(Zf,r)},OM.f=$I=function(t){return t===Dm||t===kM?new RM(t):lee(t)}),Y3({global:!0,constructor:!0,wrap:!0,forced:MM},{Promise:Dm}),kM=J3.Promise,X3(Dm,s_,!1,!0),Z3(s_);var HM=Sn("iterator"),zM=!1;try{var hee=0,KM={next:function(){return{done:!!hee++}},return:function(){zM=!0}};KM[HM]=function(){return this},Array.from(KM,function(){throw 2})}catch{}var QM=function(t,r){try{if(!r&&!zM)return!1}catch{return!1}var i=!1;try{var o={};o[HM]=function(){return{next:function(){return{done:i=!0}}}},t(o)}catch{}return i},pee=Sd,u_=qf.CONSTRUCTOR||!QM(function(t){pee.all(t).then(void 0,function(){})}),mee=vi,gee=Ea,vee=hu,yee=Jf,_ee=yd;Ut({target:"Promise",stat:!0,forced:u_},{all:function(t){var r=this,i=vee.f(r),o=i.resolve,u=i.reject,d=yee(function(){var l=gee(r.resolve),c=[],p=0,g=1;_ee(t,function(S){var v=p++,b=!1;g++,mee(l,r,S).then(function(C){b||(b=!0,c[v]=C,--g||o(c))},u)}),--g||o(c)});return d.error&&u(d.value),i.promise}});var See=Ut,bee=qf.CONSTRUCTOR;Sd&&Sd.prototype,See({target:"Promise",proto:!0,forced:bee,real:!0},{catch:function(t){return this.then(void 0,t)}});var Cee=vi,Tee=Ea,Iee=hu,wee=Jf,Eee=yd;Ut({target:"Promise",stat:!0,forced:u_},{race:function(t){var r=this,i=Iee.f(r),o=i.reject,u=wee(function(){var d=Tee(r.resolve);Eee(t,function(l){Cee(d,r,l).then(i.resolve,o)})});return u.error&&o(u.value),i.promise}});var xee=hu;Ut({target:"Promise",stat:!0,forced:qf.CONSTRUCTOR},{reject:function(t){var r=xee.f(this);return(0,r.reject)(t),r.promise}});var Aee=Fo,Dee=Jn,Pee=hu,YM=function(t,r){if(Aee(t),Dee(r)&&r.constructor===t)return r;var i=Pee.f(t);return(0,i.resolve)(r),i.promise},Ree=Ut,kee=Sd,Nee=qf.CONSTRUCTOR,Fee=YM,Oee=Fi("Promise"),Mee=!Nee;Ree({target:"Promise",stat:!0,forced:!0},{resolve:function(t){return Fee(Mee&&this===Oee?kee:this,t)}});var Lee=vi,Wee=Ea,jee=hu,Bee=Jf,Uee=yd;Ut({target:"Promise",stat:!0,forced:u_},{allSettled:function(t){var r=this,i=jee.f(r),o=i.resolve,u=i.reject,d=Bee(function(){var l=Wee(r.resolve),c=[],p=0,g=1;Uee(t,function(S){var v=p++,b=!1;g++,Lee(l,r,S).then(function(C){b||(b=!0,c[v]={status:"fulfilled",value:C},--g||o(c))},function(C){b||(b=!0,c[v]={status:"rejected",reason:C},--g||o(c))})}),--g||o(c)});return d.error&&u(d.value),i.promise}});var Vee=vi,Gee=Ea,Hee=Fi,zee=hu,Kee=Jf,Qee=yd,JM="No one promise resolved";Ut({target:"Promise",stat:!0,forced:u_},{any:function(t){var r=this,i=Hee("AggregateError"),o=zee.f(r),u=o.resolve,d=o.reject,l=Kee(function(){var c=Gee(r.resolve),p=[],g=0,S=1,v=!1;Qee(t,function(b){var C=g++,D=!1;S++,Vee(c,r,b).then(function(M){D||v||(v=!0,u(M))},function(M){D||v||(D=!0,p[C]=M,--S||d(new i(p,JM)))})}),--S||d(new i(p,JM))});return l.error&&d(l.value),o.promise}});var Yee=Ut,Jee=tm,qee=Ll,Xee=hu,Zee=Ea,qM=Jf,tw=gn.Promise,XM=!1;Yee({target:"Promise",stat:!0,forced:!tw||!tw.try||qM(function(){tw.try(function(t){XM=t===8},8)}).error||!XM},{try:function(t){var r=arguments.length>1?qee(arguments,1):[],i=Xee.f(this),o=qM(function(){return Jee(Zee(t),void 0,r)});return(o.error?i.reject:i.resolve)(o.value),i.promise}});var $ee=hu;Ut({target:"Promise",stat:!0},{withResolvers:function(){var t=$ee.f(this);return{promise:t.promise,resolve:t.resolve,reject:t.reject}}});var ete=Ut,rw=Sd,tte=Gr,rte=Fi,nte=Ei,ite=aM,ZM=YM,ote=rw&&rw.prototype;ete({target:"Promise",proto:!0,real:!0,forced:!!rw&&tte(function(){ote.finally.call({then:function(){}},function(){})})},{finally:function(t){var r=ite(this,rte("Promise")),i=nte(t);return this.then(i?function(o){return ZM(r,t()).then(function(){return o})}:t,i?function(o){return ZM(r,t()).then(function(){throw o})}:t)}});var nw=Zr,ate=lm,ste=xa,ute=Nf,lte=nw("".charAt),$M=nw("".charCodeAt),cte=nw("".slice),eL=function(t){return function(r,i){var o,u,d=ste(ute(r)),l=ate(i),c=d.length;return l<0||l>=c?t?"":void 0:(o=$M(d,l))<55296||o>56319||l+1===c||(u=$M(d,l+1))<56320||u>57343?t?lte(d,l):o:t?cte(d,l,l+2):u-56320+(o-55296<<10)+65536}},tL={codeAt:eL(!1),charAt:eL(!0)},dte=tL.charAt,fte=xa,rL=Ps,hte=DI,nL=e_,iL="String Iterator",pte=rL.set,mte=rL.getterFor(iL);hte(String,"String",function(t){pte(this,{type:iL,string:fte(t),index:0})},function(){var t,r=mte(this),i=r.string,o=r.index;return o>=i.length?nL(void 0,!0):(t=dte(i,o),r.index+=t.length,nL(t,!1))});var gte=En.Promise,vte={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},yte=gn,_te=du,oL=Hf;for(var iw in vte)_te(yte[iw],iw),oL[iw]=oL.Array;var aL=gte,sL=aL,uL=ce(sL);function lL(t,r,i,o,u,d,l){try{var c=t[d](l),p=c.value}catch(g){return void i(g)}c.done?r(p):uL.resolve(p).then(o,u)}function cL(t){return function(){var r=this,i=arguments;return new uL(function(o,u){var d=t.apply(r,i);function l(p){lL(d,o,u,l,c,"next",p)}function c(p){lL(d,o,u,l,c,"throw",p)}l(void 0)})}}function Mn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var dL=si,Ste=vi,bte=Jn,Cte=Fo,Tte=function(t){return t!==void 0&&(dL(t,"value")||dL(t,"writable"))},Ite=cd,wte=Gf;Ut({target:"Reflect",stat:!0},{get:function t(r,i){var o,u,d=arguments.length<3?r:arguments[2];return Cte(r)===d?r[i]:(o=Ite.f(r,i))?Tte(o)?o.value:o.get===void 0?void 0:Ste(o.get,d):bte(u=wte(r))?t(u,i,d):void 0}});var fL=ce(En.Reflect.get),hL=XN;Ut({target:"Function",proto:!0,forced:Function.bind!==hL},{bind:hL});var Ete=gn,xte=En,Oo=function(t,r){var i=xte[t+"Prototype"],o=i&&i[r];if(o)return o;var u=Ete[t],d=u&&u.prototype;return d&&d[r]},Ate=Oo("Function","bind"),Dte=Oi,Pte=Ate,ow=Function.prototype,Rte=function(t){var r=t.bind;return t===ow||Dte(ow,t)&&r===ow.bind?Pte:r},aw=ce(Rte),kte=ce(SO);Ut({target:"Object",stat:!0},{setPrototypeOf:DO});var pL=En.Object.setPrototypeOf,sw=ce(pL),Nte=Ds,mL=Gf,Fte=xO;Ut({target:"Object",stat:!0,forced:Gr(function(){mL(1)}),sham:!Fte},{getPrototypeOf:function(t){return mL(Nte(t))}});var gL=En.Object.getPrototypeOf,vL=ce(gL);function $f(t){var r;return $f=sw?aw(r=vL).call(r):function(i){return i.__proto__||vL(i)},$f(t)}function uw(){var t;return uw=typeof Reflect<"u"&&fL?aw(t=fL).call(t):function(r,i,o){var u=function(l,c){for(;!{}.hasOwnProperty.call(l,c)&&(l=$f(l))!==null;);return l}(r,i);if(u){var d=kte(u,i);return d.get?d.get.call(arguments.length<3?r:o):d.value}},uw.apply(null,arguments)}Ut({target:"Object",stat:!0,sham:!Yn},{create:jl});var Ote=En.Object,yL=function(t,r){return Ote.create(t,r)},Mte=ce(yL),_L={exports:{}},Lte=Ut,Wte=Yn,SL=oa.f;Lte({target:"Object",stat:!0,forced:Object.defineProperty!==SL,sham:!Wte},{defineProperty:SL});var bL=En.Object,jte=_L.exports=function(t,r,i){return bL.defineProperty(t,r,i)};bL.defineProperty.sham&&(jte.sham=!0);var CL=_L.exports,TL=CL,l_=ce(TL);function lw(t,r){var i;return lw=sw?aw(i=sw).call(i):function(o,u){return o.__proto__=u,o},lw(t,r)}function c_(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Mte(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),l_(t,"prototype",{writable:!1}),r&&lw(t,r)}var Bte=TypeError,cw=function(t){if(t>9007199254740991)throw Bte("Maximum allowed index exceeded");return t},Ute=Gr,Vte=xy,Gte=Sn("species"),Pm=function(t){return Vte>=51||!Ute(function(){var r=[];return(r.constructor={})[Gte]=function(){return{foo:1}},r[t](Boolean).foo!==1})},Hte=Ut,zte=Gr,Kte=hd,Qte=Jn,Yte=Ds,Jte=Wl,IL=cw,wL=Sm,qte=rI,Xte=Pm,Zte=xy,EL=Sn("isConcatSpreadable"),$te=Zte>=51||!zte(function(){var t=[];return t[EL]=!1,t.concat()[0]!==t}),ere=function(t){if(!Qte(t))return!1;var r=t[EL];return r!==void 0?!!r:Kte(t)};Hte({target:"Array",proto:!0,arity:1,forced:!$te||!Xte("concat")},{concat:function(t){var r,i,o,u,d,l=Yte(this),c=qte(l,0),p=0;for(r=-1,o=arguments.length;r<o;r++)if(ere(d=r===-1?l:arguments[r]))for(u=Jte(d),IL(p+u),i=0;i<u;i++,p++)i in d&&wL(c,p,d[i]);else IL(p+1),wL(c,p++,d);return c.length=p,c}}),qn("asyncDispose"),qn("asyncIterator"),qn("dispose"),qn("hasInstance"),qn("isConcatSpreadable"),qn("iterator"),qn("match"),qn("matchAll"),qn("replace"),qn("search"),qn("species"),qn("split");var tre=TF;qn("toPrimitive"),tre();var rre=Fi,nre=du;qn("toStringTag"),nre(rre("Symbol"),"Symbol"),qn("unscopables"),du(gn.JSON,"JSON",!0);var ire=En.Symbol,ore=Sn,are=oa.f,xL=ore("metadata"),AL=Function.prototype;AL[xL]===void 0&&are(AL,xL,{value:null}),qn("metadata");var sre=ire,ure=Zr,dw=Fi("Symbol"),lre=dw.keyFor,cre=ure(dw.prototype.valueOf),DL=dw.isRegisteredSymbol||function(t){try{return lre(cre(t))!==void 0}catch{return!1}};Ut({target:"Symbol",stat:!0},{isRegisteredSymbol:DL});for(var dre=Of,PL=Fi,fre=Zr,hre=im,pre=Sn,d_=PL("Symbol"),RL=d_.isWellKnownSymbol,kL=PL("Object","getOwnPropertyNames"),mre=fre(d_.prototype.valueOf),NL=dre("wks"),fw=0,FL=kL(d_),gre=FL.length;fw<gre;fw++)try{var OL=FL[fw];hre(d_[OL])&&pre(OL)}catch{}var ML=function(t){if(RL&&RL(t))return!0;try{for(var r=mre(t),i=0,o=kL(NL),u=o.length;i<u;i++)if(NL[o[i]]==r)return!0}catch{}return!1};Ut({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:ML}),qn("customMatcher"),qn("observable"),Ut({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:DL}),Ut({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:ML}),qn("matcher"),qn("metadataKey"),qn("patternMatch"),qn("replaceAll");var hw=sre,eh=ce(hw),LL=mm.f("iterator"),vre=ce(LL);function th(t){return th=typeof eh=="function"&&typeof vre=="symbol"?function(r){return typeof r}:function(r){return r&&typeof eh=="function"&&r.constructor===eh&&r!==eh.prototype?"symbol":typeof r},th(t)}Ut({target:"Array",stat:!0},{isArray:hd});var WL=En.Array.isArray,jL=ce(WL),BL=ce(bm),yre=Yn,_re=hd,Sre=TypeError,bre=Object.getOwnPropertyDescriptor,UL=yre&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}()?function(t,r){if(_re(t)&&!bre(t,"length").writable)throw new Sre("Cannot set read only .length");return t.length=r}:function(t,r){return t.length=r},Cre=Ds,Tre=Wl,Ire=UL,wre=cw;Ut({target:"Array",proto:!0,arity:1,forced:Gr(function(){return[].push.call({length:4294967296},1)!==4294967297})||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}}()},{push:function(t){var r=Cre(this),i=Tre(r),o=arguments.length;wre(i+o);for(var u=0;u<o;u++)r[i]=arguments[u],i++;return Ire(r,i),i}});var Ere=Oo("Array","push"),xre=Oi,Are=Ere,pw=Array.prototype,Dre=function(t){var r=t.push;return t===pw||xre(pw,t)&&r===pw.push?Are:r},VL=Dre,Pre=ce(VL),Rre=Ut,GL=hd,kre=Py,Nre=Jn,HL=ky,Fre=Wl,Ore=As,Mre=Sm,Lre=Sn,Wre=Ll,jre=Pm("slice"),Bre=Lre("species"),mw=Array,Ure=Math.max;Rre({target:"Array",proto:!0,forced:!jre},{slice:function(t,r){var i,o,u,d=Ore(this),l=Fre(d),c=HL(t,l),p=HL(r===void 0?l:r,l);if(GL(d)&&(i=d.constructor,(kre(i)&&(i===mw||GL(i.prototype))||Nre(i)&&(i=i[Bre])===null)&&(i=void 0),i===mw||i===void 0))return Wre(d,c,p);for(o=new(i===void 0?mw:i)(Ure(p-c,0)),u=0;c<p;c++,u++)c in d&&Mre(o,u,d[c]);return o.length=u,o}});var Vre=Oo("Array","slice"),Gre=Oi,Hre=Vre,gw=Array.prototype,zre=function(t){var r=t.slice;return t===gw||Gre(gw,t)&&r===gw.slice?Hre:r},zL=zre,KL=zL,Kre=ce(KL),Qre=Fo,Yre=Yy,Jre=Ku,qre=vi,Xre=Ds,Zre=function(t,r,i,o){try{return o?r(Qre(i)[0],i[1]):r(i)}catch(u){Yre(t,"throw",u)}},$re=FO,ene=Py,tne=Wl,QL=Sm,rne=bI,nne=bm,YL=Array,JL=function(t){var r=Xre(t),i=ene(this),o=arguments.length,u=o>1?arguments[1]:void 0,d=u!==void 0;d&&(u=Jre(u,o>2?arguments[2]:void 0));var l,c,p,g,S,v,b=nne(r),C=0;if(!b||this===YL&&$re(b))for(l=tne(r),c=i?new this(l):YL(l);l>C;C++)v=d?u(r[C],C):r[C],QL(c,C,v);else for(c=i?new this:[],S=(g=rne(r,b)).next;!(p=qre(S,g)).done;C++)v=d?Zre(g,u,[p.value,C],!0):p.value,QL(c,C,v);return c.length=C,c},ine=JL;Ut({target:"Array",stat:!0,forced:!QM(function(t){Array.from(t)})},{from:ine});var qL=En.Array.from,XL=ce(qL);function vw(t,r){(r==null||r>t.length)&&(r=t.length);for(var i=0,o=Array(r);i<r;i++)o[i]=t[i];return o}function ZL(t,r){if(t){var i;if(typeof t=="string")return vw(t,r);var o=Kre(i={}.toString.call(t)).call(i,8,-1);return o==="Object"&&t.constructor&&(o=t.constructor.name),o==="Map"||o==="Set"?XL(t):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?vw(t,r):void 0}}function rh(t,r){return function(i){if(jL(i))return i}(t)||function(i,o){var u=i==null?null:eh!==void 0&&BL(i)||i["@@iterator"];if(u!=null){var d,l,c,p,g=[],S=!0,v=!1;try{if(c=(u=u.call(i)).next,o===0){if(Object(u)!==u)return;S=!1}else for(;!(S=(d=c.call(u)).done)&&(Pre(g).call(g,d.value),g.length!==o);S=!0);}catch(b){v=!0,l=b}finally{try{if(!S&&u.return!=null&&(p=u.return(),Object(p)!==p))return}finally{if(v)throw l}}return g}}(t,r)||ZL(t,r)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ui(t){return function(r){if(jL(r))return vw(r)}(t)||function(r){if(eh!==void 0&&BL(r)!=null||r["@@iterator"]!=null)return XL(r)}(t)||ZL(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function yi(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}var one=ce(mm.f("toPrimitive"));function $L(t){var r=function(i,o){if(th(i)!="object"||!i)return i;var u=i[one];if(u!==void 0){var d=u.call(i,o||"default");if(th(d)!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}(t,"string");return th(r)=="symbol"?r:r+""}function eW(t,r){for(var i=0;i<r.length;i++){var o=r[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),l_(t,$L(o.key),o)}}function _i(t,r,i){return r&&eW(t.prototype,r),i&&eW(t,i),l_(t,"prototype",{writable:!1}),t}function ht(t,r,i){return(r=$L(r))in t?l_(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t}var tW={exports:{}},rW={exports:{}};(function(t){var r=hw,i=LL;function o(u){return t.exports=o=typeof r=="function"&&typeof i=="symbol"?function(d){return typeof d}:function(d){return d&&typeof r=="function"&&d.constructor===r&&d!==r.prototype?"symbol":typeof d},t.exports.__esModule=!0,t.exports.default=t.exports,o(u)}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports})(rW);var ane=rW.exports,sne=Gr,nW=function(t,r){var i=[][t];return!!i&&sne(function(){i.call(null,r||function(){return 1},1)})},une=pd.forEach,iW=nW("forEach")?[].forEach:function(t){return une(this,t,arguments.length>1?arguments[1]:void 0)};Ut({target:"Array",proto:!0,forced:[].forEach!==iW},{forEach:iW});var lne=Oo("Array","forEach"),cne=fd,dne=si,fne=Oi,hne=lne,yw=Array.prototype,pne={DOMTokenList:!0,NodeList:!0},oW=function(t){var r=t.forEach;return t===yw||fne(yw,t)&&r===yw.forEach||dne(pne,cne(t))?hne:r},mne=oW,gne=Ut,vne=hd,yne=Zr([].reverse),aW=[1,2];gne({target:"Array",proto:!0,forced:String(aW)===String(aW.reverse())},{reverse:function(){return vne(this)&&(this.length=this.length),yne(this)}});var _ne=Oo("Array","reverse"),Sne=Oi,bne=_ne,_w=Array.prototype,Cne=function(t){var r=t.reverse;return t===_w||Sne(_w,t)&&r===_w.reverse?bne:r},Tne=Cne;(function(t){var r=ane.default,i=TL,o=hw,u=yL,d=gL,l=mne,c=VL,p=pL,g=sL,S=Tne,v=KL;function b(){t.exports=b=function(){return D},t.exports.__esModule=!0,t.exports.default=t.exports;var C,D={},M=Object.prototype,j=M.hasOwnProperty,Y=i||function(Je,We,Ke){Je[We]=Ke.value},ee=typeof o=="function"?o:{},te=ee.iterator||"@@iterator",de=ee.asyncIterator||"@@asyncIterator",Z=ee.toStringTag||"@@toStringTag";function ne(Je,We,Ke){return i(Je,We,{value:Ke,enumerable:!0,configurable:!0,writable:!0}),Je[We]}try{ne({},"")}catch{ne=function(We,Ke,Qt){return We[Ke]=Qt}}function X(Je,We,Ke,Qt){var Lt=We&&We.prototype instanceof oe?We:oe,ze=u(Lt.prototype),cr=new gt(Qt||[]);return Y(ze,"_invoke",{value:Ye(Je,Ke,cr)}),ze}function F(Je,We,Ke){try{return{type:"normal",arg:Je.call(We,Ke)}}catch(Qt){return{type:"throw",arg:Qt}}}D.wrap=X;var B="suspendedStart",U="suspendedYield",K="executing",q="completed",re={};function oe(){}function fe(){}function ae(){}var ue={};ne(ue,te,function(){return this});var ve=d&&d(d($e([])));ve&&ve!==M&&j.call(ve,te)&&(ue=ve);var be=ae.prototype=oe.prototype=u(ue);function Ce(Je){var We;l(We=["next","throw","return"]).call(We,function(Ke){ne(Je,Ke,function(Qt){return this._invoke(Ke,Qt)})})}function je(Je,We){function Ke(Lt,ze,cr,Dr){var ln=F(Je[Lt],Je,ze);if(ln.type!=="throw"){var xn=ln.arg,Ir=xn.value;return Ir&&r(Ir)=="object"&&j.call(Ir,"__await")?We.resolve(Ir.__await).then(function($r){Ke("next",$r,cr,Dr)},function($r){Ke("throw",$r,cr,Dr)}):We.resolve(Ir).then(function($r){xn.value=$r,cr(xn)},function($r){return Ke("throw",$r,cr,Dr)})}Dr(ln.arg)}var Qt;Y(this,"_invoke",{value:function(Lt,ze){function cr(){return new We(function(Dr,ln){Ke(Lt,ze,Dr,ln)})}return Qt=Qt?Qt.then(cr,cr):cr()}})}function Ye(Je,We,Ke){var Qt=B;return function(Lt,ze){if(Qt===K)throw Error("Generator is already running");if(Qt===q){if(Lt==="throw")throw ze;return{value:C,done:!0}}for(Ke.method=Lt,Ke.arg=ze;;){var cr=Ke.delegate;if(cr){var Dr=He(cr,Ke);if(Dr){if(Dr===re)continue;return Dr}}if(Ke.method==="next")Ke.sent=Ke._sent=Ke.arg;else if(Ke.method==="throw"){if(Qt===B)throw Qt=q,Ke.arg;Ke.dispatchException(Ke.arg)}else Ke.method==="return"&&Ke.abrupt("return",Ke.arg);Qt=K;var ln=F(Je,We,Ke);if(ln.type==="normal"){if(Qt=Ke.done?q:U,ln.arg===re)continue;return{value:ln.arg,done:Ke.done}}ln.type==="throw"&&(Qt=q,Ke.method="throw",Ke.arg=ln.arg)}}}function He(Je,We){var Ke=We.method,Qt=Je.iterator[Ke];if(Qt===C)return We.delegate=null,Ke==="throw"&&Je.iterator.return&&(We.method="return",We.arg=C,He(Je,We),We.method==="throw")||Ke!=="return"&&(We.method="throw",We.arg=new TypeError("The iterator does not provide a '"+Ke+"' method")),re;var Lt=F(Qt,Je.iterator,We.arg);if(Lt.type==="throw")return We.method="throw",We.arg=Lt.arg,We.delegate=null,re;var ze=Lt.arg;return ze?ze.done?(We[Je.resultName]=ze.value,We.next=Je.nextLoc,We.method!=="return"&&(We.method="next",We.arg=C),We.delegate=null,re):ze:(We.method="throw",We.arg=new TypeError("iterator result is not an object"),We.delegate=null,re)}function St(Je){var We,Ke={tryLoc:Je[0]};1 in Je&&(Ke.catchLoc=Je[1]),2 in Je&&(Ke.finallyLoc=Je[2],Ke.afterLoc=Je[3]),c(We=this.tryEntries).call(We,Ke)}function ct(Je){var We=Je.completion||{};We.type="normal",delete We.arg,Je.completion=We}function gt(Je){this.tryEntries=[{tryLoc:"root"}],l(Je).call(Je,St,this),this.reset(!0)}function $e(Je){if(Je||Je===""){var We=Je[te];if(We)return We.call(Je);if(typeof Je.next=="function")return Je;if(!isNaN(Je.length)){var Ke=-1,Qt=function Lt(){for(;++Ke<Je.length;)if(j.call(Je,Ke))return Lt.value=Je[Ke],Lt.done=!1,Lt;return Lt.value=C,Lt.done=!0,Lt};return Qt.next=Qt}}throw new TypeError(r(Je)+" is not iterable")}return fe.prototype=ae,Y(be,"constructor",{value:ae,configurable:!0}),Y(ae,"constructor",{value:fe,configurable:!0}),fe.displayName=ne(ae,Z,"GeneratorFunction"),D.isGeneratorFunction=function(Je){var We=typeof Je=="function"&&Je.constructor;return!!We&&(We===fe||(We.displayName||We.name)==="GeneratorFunction")},D.mark=function(Je){return p?p(Je,ae):(Je.__proto__=ae,ne(Je,Z,"GeneratorFunction")),Je.prototype=u(be),Je},D.awrap=function(Je){return{__await:Je}},Ce(je.prototype),ne(je.prototype,de,function(){return this}),D.AsyncIterator=je,D.async=function(Je,We,Ke,Qt,Lt){Lt===void 0&&(Lt=g);var ze=new je(X(Je,We,Ke,Qt),Lt);return D.isGeneratorFunction(We)?ze:ze.next().then(function(cr){return cr.done?cr.value:ze.next()})},Ce(be),ne(be,Z,"Generator"),ne(be,te,function(){return this}),ne(be,"toString",function(){return"[object Generator]"}),D.keys=function(Je){var We=Object(Je),Ke=[];for(var Qt in We)c(Ke).call(Ke,Qt);return S(Ke).call(Ke),function Lt(){for(;Ke.length;){var ze=Ke.pop();if(ze in We)return Lt.value=ze,Lt.done=!1,Lt}return Lt.done=!0,Lt}},D.values=$e,gt.prototype={constructor:gt,reset:function(Je){var We;if(this.prev=0,this.next=0,this.sent=this._sent=C,this.done=!1,this.delegate=null,this.method="next",this.arg=C,l(We=this.tryEntries).call(We,ct),!Je)for(var Ke in this)Ke.charAt(0)==="t"&&j.call(this,Ke)&&!isNaN(+v(Ke).call(Ke,1))&&(this[Ke]=C)},stop:function(){this.done=!0;var Je=this.tryEntries[0].completion;if(Je.type==="throw")throw Je.arg;return this.rval},dispatchException:function(Je){if(this.done)throw Je;var We=this;function Ke(ln,xn){return ze.type="throw",ze.arg=Je,We.next=ln,xn&&(We.method="next",We.arg=C),!!xn}for(var Qt=this.tryEntries.length-1;Qt>=0;--Qt){var Lt=this.tryEntries[Qt],ze=Lt.completion;if(Lt.tryLoc==="root")return Ke("end");if(Lt.tryLoc<=this.prev){var cr=j.call(Lt,"catchLoc"),Dr=j.call(Lt,"finallyLoc");if(cr&&Dr){if(this.prev<Lt.catchLoc)return Ke(Lt.catchLoc,!0);if(this.prev<Lt.finallyLoc)return Ke(Lt.finallyLoc)}else if(cr){if(this.prev<Lt.catchLoc)return Ke(Lt.catchLoc,!0)}else{if(!Dr)throw Error("try statement without catch or finally");if(this.prev<Lt.finallyLoc)return Ke(Lt.finallyLoc)}}}},abrupt:function(Je,We){for(var Ke=this.tryEntries.length-1;Ke>=0;--Ke){var Qt=this.tryEntries[Ke];if(Qt.tryLoc<=this.prev&&j.call(Qt,"finallyLoc")&&this.prev<Qt.finallyLoc){var Lt=Qt;break}}Lt&&(Je==="break"||Je==="continue")&&Lt.tryLoc<=We&&We<=Lt.finallyLoc&&(Lt=null);var ze=Lt?Lt.completion:{};return ze.type=Je,ze.arg=We,Lt?(this.method="next",this.next=Lt.finallyLoc,re):this.complete(ze)},complete:function(Je,We){if(Je.type==="throw")throw Je.arg;return Je.type==="break"||Je.type==="continue"?this.next=Je.arg:Je.type==="return"?(this.rval=this.arg=Je.arg,this.method="return",this.next="end"):Je.type==="normal"&&We&&(this.next=We),re},finish:function(Je){for(var We=this.tryEntries.length-1;We>=0;--We){var Ke=this.tryEntries[We];if(Ke.finallyLoc===Je)return this.complete(Ke.completion,Ke.afterLoc),ct(Ke),re}},catch:function(Je){for(var We=this.tryEntries.length-1;We>=0;--We){var Ke=this.tryEntries[We];if(Ke.tryLoc===Je){var Qt=Ke.completion;if(Qt.type==="throw"){var Lt=Qt.arg;ct(Ke)}return Lt}}throw Error("illegal catch attempt")},delegateYield:function(Je,We,Ke){return this.delegate={iterator:$e(Je),resultName:We,nextLoc:Ke},this.method==="next"&&(this.arg=C),re}},D}t.exports=b,t.exports.__esModule=!0,t.exports.default=t.exports})(tW);var f_=(0,tW.exports)(),Ine=f_;try{regeneratorRuntime=f_}catch{(typeof globalThis>"u"?"undefined":N(globalThis))==="object"?globalThis.regeneratorRuntime=f_:Function("r","regeneratorRuntime = r")(f_)}var h_=ce(Ine),sW=ce(WL),lr=ce(oW),wne=Ds,uW=dm;Ut({target:"Object",stat:!0,forced:Gr(function(){uW(1)})},{keys:function(t){return uW(wne(t))}});var p_=ce(En.Object.keys);Ut({target:"Number",stat:!0},{isNaN:function(t){return t!=t}});var nh=ce(En.Number.isNaN),Ene=Oo("Array","concat"),xne=Oi,Ane=Ene,Sw=Array.prototype,Dne=function(t){var r=t.concat;return t===Sw||xne(Sw,t)&&r===Sw.concat?Ane:r},Hl=ce(Dne),Pne=Ut,Rne=Zr,kne=ky,Nne=RangeError,lW=String.fromCharCode,cW=String.fromCodePoint,Fne=Rne([].join);Pne({target:"String",stat:!0,arity:1,forced:!!cW&&cW.length!==1},{fromCodePoint:function(t){for(var r,i=[],o=arguments.length,u=0;o>u;){if(r=+arguments[u++],kne(r,1114111)!==r)throw new Nne(r+" is not a valid code point");i[u]=r<65536?lW(r):lW(55296+((r-=65536)>>10),r%1024+56320)}return Fne(i,"")}});var One=Gr,Mne=dJ,Lne=Sn("iterator"),m_=!One(function(){var t=new URL("b?a=1&b=2&c=3","https://a"),r=t.searchParams,i=new URLSearchParams("a=1&a=2&b=3"),o="";return t.pathname="c%20d",r.forEach(function(u,d){r.delete("b"),o+=d+u}),i.delete("a",2),i.delete("b",void 0),!t.toJSON||!i.has("a",1)||i.has("a",2)||!i.has("a",void 0)||i.has("b")||!r.size&&Mne||!r.sort||t.href!=="https://a/c%20d?a=1&c=3"||r.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!r[Lne]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("https://").host!=="xn--e1aybc"||new URL("https://a#").hash!=="#%D0%B1"||o!=="a1c3"||new URL("https://x",void 0).host!=="x"}),Wne=Bl,dW=function(t,r,i){for(var o in r)i&&i.unsafe&&t[o]?t[o]=r[o]:Wne(t,o,r[o],i);return t},fW=Ll,jne=Math.floor,bw=function(t,r){var i=t.length;if(i<8)for(var o,u,d=1;d<i;){for(u=d,o=t[d];u&&r(t[u-1],o)>0;)t[u]=t[--u];u!==d++&&(t[u]=o)}else for(var l=jne(i/2),c=bw(fW(t,0,l),r),p=bw(fW(t,l),r),g=c.length,S=p.length,v=0,b=0;v<g||b<S;)t[v+b]=v<g&&b<S?r(c[v],p[b])<=0?c[v++]:p[b++]:v<g?c[v++]:p[b++];return t},Cw=Ut,hW=gn,Tw=yM,Bne=Fi,g_=vi,ks=Zr,Rm=Yn,pW=m_,mW=Bl,Une=pm,Vne=dW,Gne=du,Hne=QO,Iw=Ps,gW=Im,ww=Ei,zne=si,Kne=Ku,Qne=fd,Yne=Fo,vW=Jn,Mo=xa,Jne=jl,yW=Ol,_W=bI,qne=bm,v_=e_,ih=wm,Xne=bw,Zne=Sn("iterator"),oh="URLSearchParams",SW=oh+"Iterator",bW=Iw.set,Ya=Iw.getterFor(oh),$ne=Iw.getterFor(SW),CW=Tw("fetch"),y_=Tw("Request"),km=Tw("Headers"),Ew=y_&&y_.prototype,TW=km&&km.prototype,eie=hW.TypeError,tie=hW.encodeURIComponent,rie=String.fromCharCode,nie=Bne("String","fromCodePoint"),iie=parseInt,__=ks("".charAt),IW=ks([].join),zl=ks([].push),wW=ks("".replace),oie=ks([].shift),EW=ks([].splice),xW=ks("".split),AW=ks("".slice),aie=ks(/./.exec),sie=/\+/g,uie=/^[0-9a-f]+$/i,DW=function(t,r){var i=AW(t,r,r+2);return aie(uie,i)?iie(i,16):NaN},lie=function(t){for(var r=0,i=128;i>0&&t&i;i>>=1)r++;return r},cie=function(t){var r=null;switch(t.length){case 1:r=t[0];break;case 2:r=(31&t[0])<<6|63&t[1];break;case 3:r=(15&t[0])<<12|(63&t[1])<<6|63&t[2];break;case 4:r=(7&t[0])<<18|(63&t[1])<<12|(63&t[2])<<6|63&t[3]}return r>1114111?null:r},PW=function(t){for(var r=(t=wW(t,sie," ")).length,i="",o=0;o<r;){var u=__(t,o);if(u==="%"){if(__(t,o+1)==="%"||o+3>r){i+="%",o++;continue}var d=DW(t,o+1);if(d!=d){i+=u,o++;continue}o+=2;var l=lie(d);if(l===0)u=rie(d);else{if(l===1||l>4){i+="",o++;continue}for(var c=[d],p=1;p<l&&!(++o+3>r||__(t,o)!=="%");){var g=DW(t,o+1);if(g!=g){o+=3;break}if(g>191||g<128)break;zl(c,g),o+=2,p++}if(c.length!==l){i+="";continue}var S=cie(c);S===null?i+="":u=nie(S)}}i+=u,o++}return i},die=/[!'()~]|%20/g,fie={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},hie=function(t){return fie[t]},RW=function(t){return wW(tie(t),die,hie)},xw=Hne(function(t,r){bW(this,{type:SW,target:Ya(t).entries,index:0,kind:r})},oh,function(){var t=$ne(this),r=t.target,i=t.index++;if(!r||i>=r.length)return t.target=null,v_(void 0,!0);var o=r[i];switch(t.kind){case"keys":return v_(o.key,!1);case"values":return v_(o.value,!1)}return v_([o.key,o.value],!1)},!0),kW=function(t){this.entries=[],this.url=null,t!==void 0&&(vW(t)?this.parseObject(t):this.parseQuery(typeof t=="string"?__(t,0)==="?"?AW(t,1):t:Mo(t)))};kW.prototype={type:oh,bindURL:function(t){this.url=t,this.update()},parseObject:function(t){var r,i,o,u,d,l,c,p=this.entries,g=qne(t);if(g)for(i=(r=_W(t,g)).next;!(o=g_(i,r)).done;){if(d=(u=_W(Yne(o.value))).next,(l=g_(d,u)).done||(c=g_(d,u)).done||!g_(d,u).done)throw new eie("Expected sequence with length 2");zl(p,{key:Mo(l.value),value:Mo(c.value)})}else for(var S in t)zne(t,S)&&zl(p,{key:S,value:Mo(t[S])})},parseQuery:function(t){if(t)for(var r,i,o=this.entries,u=xW(t,"&"),d=0;d<u.length;)(r=u[d++]).length&&(i=xW(r,"="),zl(o,{key:PW(oie(i)),value:PW(IW(i,"="))}))},serialize:function(){for(var t,r=this.entries,i=[],o=0;o<r.length;)t=r[o++],zl(i,RW(t.key)+"="+RW(t.value));return IW(i,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var S_=function(){gW(this,ah);var t=arguments.length>0?arguments[0]:void 0,r=bW(this,new kW(t));Rm||(this.size=r.entries.length)},ah=S_.prototype;if(Vne(ah,{append:function(t,r){var i=Ya(this);ih(arguments.length,2),zl(i.entries,{key:Mo(t),value:Mo(r)}),Rm||this.size++,i.updateURL()},delete:function(t){for(var r=Ya(this),i=ih(arguments.length,1),o=r.entries,u=Mo(t),d=i<2?void 0:arguments[1],l=d===void 0?d:Mo(d),c=0;c<o.length;){var p=o[c];if(p.key!==u||l!==void 0&&p.value!==l)c++;else if(EW(o,c,1),l!==void 0)break}Rm||(this.size=o.length),r.updateURL()},get:function(t){var r=Ya(this).entries;ih(arguments.length,1);for(var i=Mo(t),o=0;o<r.length;o++)if(r[o].key===i)return r[o].value;return null},getAll:function(t){var r=Ya(this).entries;ih(arguments.length,1);for(var i=Mo(t),o=[],u=0;u<r.length;u++)r[u].key===i&&zl(o,r[u].value);return o},has:function(t){for(var r=Ya(this).entries,i=ih(arguments.length,1),o=Mo(t),u=i<2?void 0:arguments[1],d=u===void 0?u:Mo(u),l=0;l<r.length;){var c=r[l++];if(c.key===o&&(d===void 0||c.value===d))return!0}return!1},set:function(t,r){var i=Ya(this);ih(arguments.length,1);for(var o,u=i.entries,d=!1,l=Mo(t),c=Mo(r),p=0;p<u.length;p++)(o=u[p]).key===l&&(d?EW(u,p--,1):(d=!0,o.value=c));d||zl(u,{key:l,value:c}),Rm||(this.size=u.length),i.updateURL()},sort:function(){var t=Ya(this);Xne(t.entries,function(r,i){return r.key>i.key?1:-1}),t.updateURL()},forEach:function(t){for(var r,i=Ya(this).entries,o=Kne(t,arguments.length>1?arguments[1]:void 0),u=0;u<i.length;)o((r=i[u++]).value,r.key,this)},keys:function(){return new xw(this,"keys")},values:function(){return new xw(this,"values")},entries:function(){return new xw(this,"entries")}},{enumerable:!0}),mW(ah,Zne,ah.entries,{name:"entries"}),mW(ah,"toString",function(){return Ya(this).serialize()},{enumerable:!0}),Rm&&Une(ah,"size",{get:function(){return Ya(this).entries.length},configurable:!0,enumerable:!0}),Gne(S_,oh),Cw({global:!0,constructor:!0,forced:!pW},{URLSearchParams:S_}),!pW&&ww(km)){var pie=ks(TW.has),mie=ks(TW.set),NW=function(t){if(vW(t)){var r,i=t.body;if(Qne(i)===oh)return r=t.headers?new km(t.headers):new km,pie(r,"content-type")||mie(r,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),Jne(t,{body:yW(0,Mo(i)),headers:yW(0,r)})}return t};if(ww(CW)&&Cw({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(t){return CW(t,arguments.length>1?NW(arguments[1]):{})}}),ww(y_)){var Aw=function(t){return gW(this,Ew),new y_(t,arguments.length>1?NW(arguments[1]):{})};Ew.constructor=Aw,Aw.prototype=Ew,Cw({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:Aw})}}var Ja,gie={URLSearchParams:S_,getState:Ya},FW=Yn,vie=Zr,yie=vi,_ie=Gr,Dw=dm,Sie=hm,bie=rm,Cie=Ds,Tie=ET,sh=Object.assign,OW=Object.defineProperty,Iie=vie([].concat),wie=!sh||_ie(function(){if(FW&&sh({b:1},sh(OW({},"a",{enumerable:!0,get:function(){OW(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var t={},r={},i=Symbol("assign detection"),o="abcdefghijklmnopqrst";return t[i]=7,o.split("").forEach(function(u){r[u]=u}),sh({},t)[i]!==7||Dw(sh({},r)).join("")!==o})?function(t,r){for(var i=Cie(t),o=arguments.length,u=1,d=Sie.f,l=bie.f;o>u;)for(var c,p=Tie(arguments[u++]),g=d?Iie(Dw(p),d(p)):Dw(p),S=g.length,v=0;S>v;)c=g[v++],FW&&!yie(l,p,c)||(i[c]=p[c]);return i}:sh,bd=Zr,Pw=2147483647,Eie=/[^\0-\u007E]/,MW=/[.\u3002\uFF0E\uFF61]/g,LW="Overflow: input needs wider integers to process",WW=RangeError,xie=bd(MW.exec),uh=Math.floor,Rw=String.fromCharCode,jW=bd("".charCodeAt),BW=bd([].join),Kl=bd([].push),Aie=bd("".replace),Die=bd("".split),Pie=bd("".toLowerCase),UW=function(t){return t+22+75*(t<26)},Rie=function(t,r,i){var o=0;for(t=i?uh(t/700):t>>1,t+=uh(t/r);t>455;)t=uh(t/35),o+=36;return uh(o+36*t/(t+38))},kie=function(t){var r=[];t=function(Y){for(var ee=[],te=0,de=Y.length;te<de;){var Z=jW(Y,te++);if(Z>=55296&&Z<=56319&&te<de){var ne=jW(Y,te++);(64512&ne)==56320?Kl(ee,((1023&Z)<<10)+(1023&ne)+65536):(Kl(ee,Z),te--)}else Kl(ee,Z)}return ee}(t);var i,o,u=t.length,d=128,l=0,c=72;for(i=0;i<t.length;i++)(o=t[i])<128&&Kl(r,Rw(o));var p=r.length,g=p;for(p&&Kl(r,"-");g<u;){var S=Pw;for(i=0;i<t.length;i++)(o=t[i])>=d&&o<S&&(S=o);var v=g+1;if(S-d>uh((Pw-l)/v))throw new WW(LW);for(l+=(S-d)*v,d=S,i=0;i<t.length;i++){if((o=t[i])<d&&++l>Pw)throw new WW(LW);if(o===d){for(var b=l,C=36;;){var D=C<=c?1:C>=c+26?26:C-c;if(b<D)break;var M=b-D,j=36-D;Kl(r,Rw(UW(D+M%j))),b=uh(M/j),C+=36}Kl(r,Rw(UW(b))),c=Rie(l,v,g===p),l=0,g++}}l++,d++}return BW(r,"")},Nie=Ut,kw=Yn,Fie=m_,Nw=gn,VW=Ku,qa=Zr,b_=Bl,Xa=pm,Oie=Im,Fw=si,Ow=wie,lh=JL,Ns=Ll,Mie=tL.codeAt,Lie=function(t){var r,i,o=[],u=Die(Aie(Pie(t),MW,"."),".");for(r=0;r<u.length;r++)i=u[r],Kl(o,xie(Eie,i)?"xn--"+kie(i):i);return BW(o,".")},Yu=xa,Wie=du,jie=wm,GW=gie,HW=Ps,Bie=HW.set,C_=HW.getterFor("URL"),Uie=GW.URLSearchParams,Vie=GW.getState,Nm=Nw.URL,Mw=Nw.TypeError,T_=Nw.parseInt,Gie=Math.floor,zW=Math.pow,Za=qa("".charAt),Fs=qa(/./.exec),Fm=qa([].join),Hie=qa(1.1.toString),zie=qa([].pop),ch=qa([].push),Lw=qa("".replace),Kie=qa([].shift),Qie=qa("".split),Om=qa("".slice),I_=qa("".toLowerCase),Yie=qa([].unshift),Ww="Invalid scheme",Cd="Invalid host",KW="Invalid port",QW=/[a-z]/i,Jie=/[\d+-.a-z]/i,jw=/\d/,qie=/^0x/i,Xie=/^[0-7]+$/,Zie=/^\d+$/,YW=/^[\da-f]+$/i,$ie=/[\0\t\n\r #%/:<>?@[\\\]^|]/,eoe=/[\0\t\n\r #/:<>?@[\\\]^|]/,toe=/^[\u0000-\u0020]+/,roe=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,noe=/[\t\n\r]/g,Mm=function(t){var r,i,o,u;if(typeof t=="number"){for(r=[],i=0;i<4;i++)Yie(r,t%256),t=Gie(t/256);return Fm(r,".")}if(N(t)=="object"){for(r="",o=function(d){for(var l=null,c=1,p=null,g=0,S=0;S<8;S++)d[S]!==0?(g>c&&(l=p,c=g),p=null,g=0):(p===null&&(p=S),++g);return g>c?p:l}(t),i=0;i<8;i++)u&&t[i]===0||(u&&(u=!1),o===i?(r+=i?":":"::",u=!0):(r+=Hie(t[i],16),i<7&&(r+=":")));return"["+r+"]"}return t},w_={},JW=Ow({},w_,{" ":1,'"':1,"<":1,">":1,"`":1}),qW=Ow({},JW,{"#":1,"?":1,"{":1,"}":1}),Bw=Ow({},qW,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Ql=function(t,r){var i=Mie(t,0);return i>32&&i<127&&!Fw(r,t)?t:encodeURIComponent(t)},E_={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Lm=function(t,r){var i;return t.length===2&&Fs(QW,Za(t,0))&&((i=Za(t,1))===":"||!r&&i==="|")},XW=function(t){var r;return t.length>1&&Lm(Om(t,0,2))&&(t.length===2||(r=Za(t,2))==="/"||r==="\\"||r==="?"||r==="#")},ioe=function(t){return t==="."||I_(t)==="%2e"},ooe=function(t){return(t=I_(t))===".."||t==="%2e."||t===".%2e"||t==="%2e%2e"},Uw={},ZW={},Vw={},$W={},ej={},Gw={},tj={},rj={},x_={},A_={},Hw={},zw={},Kw={},Qw={},nj={},Yw={},dh={},pu={},ij={},Td={},Ju={},Jw=function(t,r,i){var o,u,d,l=Yu(t);if(r){if(u=this.parse(l))throw new Mw(u);this.searchParams=null}else{if(i!==void 0&&(o=new Jw(i,!0)),u=this.parse(l,null,o))throw new Mw(u);(d=Vie(new Uie)).bindURL(this),this.searchParams=d}};Jw.prototype={type:"URL",parse:function(t,r,i){var o,u,d,l,c=this,p=r||Uw,g=0,S="",v=!1,b=!1,C=!1;for(t=Yu(t),r||(c.scheme="",c.username="",c.password="",c.host=null,c.port=null,c.path=[],c.query=null,c.fragment=null,c.cannotBeABaseURL=!1,t=Lw(t,toe,""),t=Lw(t,roe,"$1")),t=Lw(t,noe,""),o=lh(t);g<=o.length;){switch(u=o[g],p){case Uw:if(!u||!Fs(QW,u)){if(r)return Ww;p=Vw;continue}S+=I_(u),p=ZW;break;case ZW:if(u&&(Fs(Jie,u)||u==="+"||u==="-"||u==="."))S+=I_(u);else{if(u!==":"){if(r)return Ww;S="",p=Vw,g=0;continue}if(r&&(c.isSpecial()!==Fw(E_,S)||S==="file"&&(c.includesCredentials()||c.port!==null)||c.scheme==="file"&&!c.host))return;if(c.scheme=S,r)return void(c.isSpecial()&&E_[c.scheme]===c.port&&(c.port=null));S="",c.scheme==="file"?p=Qw:c.isSpecial()&&i&&i.scheme===c.scheme?p=$W:c.isSpecial()?p=rj:o[g+1]==="/"?(p=ej,g++):(c.cannotBeABaseURL=!0,ch(c.path,""),p=ij)}break;case Vw:if(!i||i.cannotBeABaseURL&&u!=="#")return Ww;if(i.cannotBeABaseURL&&u==="#"){c.scheme=i.scheme,c.path=Ns(i.path),c.query=i.query,c.fragment="",c.cannotBeABaseURL=!0,p=Ju;break}p=i.scheme==="file"?Qw:Gw;continue;case $W:if(u!=="/"||o[g+1]!=="/"){p=Gw;continue}p=x_,g++;break;case ej:if(u==="/"){p=A_;break}p=pu;continue;case Gw:if(c.scheme=i.scheme,u===Ja)c.username=i.username,c.password=i.password,c.host=i.host,c.port=i.port,c.path=Ns(i.path),c.query=i.query;else if(u==="/"||u==="\\"&&c.isSpecial())p=tj;else if(u==="?")c.username=i.username,c.password=i.password,c.host=i.host,c.port=i.port,c.path=Ns(i.path),c.query="",p=Td;else{if(u!=="#"){c.username=i.username,c.password=i.password,c.host=i.host,c.port=i.port,c.path=Ns(i.path),c.path.length--,p=pu;continue}c.username=i.username,c.password=i.password,c.host=i.host,c.port=i.port,c.path=Ns(i.path),c.query=i.query,c.fragment="",p=Ju}break;case tj:if(!c.isSpecial()||u!=="/"&&u!=="\\"){if(u!=="/"){c.username=i.username,c.password=i.password,c.host=i.host,c.port=i.port,p=pu;continue}p=A_}else p=x_;break;case rj:if(p=x_,u!=="/"||Za(S,g+1)!=="/")continue;g++;break;case x_:if(u!=="/"&&u!=="\\"){p=A_;continue}break;case A_:if(u==="@"){v&&(S="%40"+S),v=!0,d=lh(S);for(var D=0;D<d.length;D++){var M=d[D];if(M!==":"||C){var j=Ql(M,Bw);C?c.password+=j:c.username+=j}else C=!0}S=""}else if(u===Ja||u==="/"||u==="?"||u==="#"||u==="\\"&&c.isSpecial()){if(v&&S==="")return"Invalid authority";g-=lh(S).length+1,S="",p=Hw}else S+=u;break;case Hw:case zw:if(r&&c.scheme==="file"){p=Yw;continue}if(u!==":"||b){if(u===Ja||u==="/"||u==="?"||u==="#"||u==="\\"&&c.isSpecial()){if(c.isSpecial()&&S==="")return Cd;if(r&&S===""&&(c.includesCredentials()||c.port!==null))return;if(l=c.parseHost(S))return l;if(S="",p=dh,r)return;continue}u==="["?b=!0:u==="]"&&(b=!1),S+=u}else{if(S==="")return Cd;if(l=c.parseHost(S))return l;if(S="",p=Kw,r===zw)return}break;case Kw:if(!Fs(jw,u)){if(u===Ja||u==="/"||u==="?"||u==="#"||u==="\\"&&c.isSpecial()||r){if(S!==""){var Y=T_(S,10);if(Y>65535)return KW;c.port=c.isSpecial()&&Y===E_[c.scheme]?null:Y,S=""}if(r)return;p=dh;continue}return KW}S+=u;break;case Qw:if(c.scheme="file",u==="/"||u==="\\")p=nj;else{if(!i||i.scheme!=="file"){p=pu;continue}switch(u){case Ja:c.host=i.host,c.path=Ns(i.path),c.query=i.query;break;case"?":c.host=i.host,c.path=Ns(i.path),c.query="",p=Td;break;case"#":c.host=i.host,c.path=Ns(i.path),c.query=i.query,c.fragment="",p=Ju;break;default:XW(Fm(Ns(o,g),""))||(c.host=i.host,c.path=Ns(i.path),c.shortenPath()),p=pu;continue}}break;case nj:if(u==="/"||u==="\\"){p=Yw;break}i&&i.scheme==="file"&&!XW(Fm(Ns(o,g),""))&&(Lm(i.path[0],!0)?ch(c.path,i.path[0]):c.host=i.host),p=pu;continue;case Yw:if(u===Ja||u==="/"||u==="\\"||u==="?"||u==="#"){if(!r&&Lm(S))p=pu;else if(S===""){if(c.host="",r)return;p=dh}else{if(l=c.parseHost(S))return l;if(c.host==="localhost"&&(c.host=""),r)return;S="",p=dh}continue}S+=u;break;case dh:if(c.isSpecial()){if(p=pu,u!=="/"&&u!=="\\")continue}else if(r||u!=="?")if(r||u!=="#"){if(u!==Ja&&(p=pu,u!=="/"))continue}else c.fragment="",p=Ju;else c.query="",p=Td;break;case pu:if(u===Ja||u==="/"||u==="\\"&&c.isSpecial()||!r&&(u==="?"||u==="#")){if(ooe(S)?(c.shortenPath(),u==="/"||u==="\\"&&c.isSpecial()||ch(c.path,"")):ioe(S)?u==="/"||u==="\\"&&c.isSpecial()||ch(c.path,""):(c.scheme==="file"&&!c.path.length&&Lm(S)&&(c.host&&(c.host=""),S=Za(S,0)+":"),ch(c.path,S)),S="",c.scheme==="file"&&(u===Ja||u==="?"||u==="#"))for(;c.path.length>1&&c.path[0]==="";)Kie(c.path);u==="?"?(c.query="",p=Td):u==="#"&&(c.fragment="",p=Ju)}else S+=Ql(u,qW);break;case ij:u==="?"?(c.query="",p=Td):u==="#"?(c.fragment="",p=Ju):u!==Ja&&(c.path[0]+=Ql(u,w_));break;case Td:r||u!=="#"?u!==Ja&&(u==="'"&&c.isSpecial()?c.query+="%27":c.query+=u==="#"?"%23":Ql(u,w_)):(c.fragment="",p=Ju);break;case Ju:u!==Ja&&(c.fragment+=Ql(u,JW))}g++}},parseHost:function(t){var r,i,o;if(Za(t,0)==="["){if(Za(t,t.length-1)!=="]"||(r=function(u){var d,l,c,p,g,S,v,b=[0,0,0,0,0,0,0,0],C=0,D=null,M=0,j=function(){return Za(u,M)};if(j()===":"){if(Za(u,1)!==":")return;M+=2,D=++C}for(;j();){if(C===8)return;if(j()!==":"){for(d=l=0;l<4&&Fs(YW,j());)d=16*d+T_(j(),16),M++,l++;if(j()==="."){if(l===0||(M-=l,C>6))return;for(c=0;j();){if(p=null,c>0){if(!(j()==="."&&c<4))return;M++}if(!Fs(jw,j()))return;for(;Fs(jw,j());){if(g=T_(j(),10),p===null)p=g;else{if(p===0)return;p=10*p+g}if(p>255)return;M++}b[C]=256*b[C]+p,++c!==2&&c!==4||C++}if(c!==4)return;break}if(j()===":"){if(M++,!j())return}else if(j())return;b[C++]=d}else{if(D!==null)return;M++,D=++C}}if(D!==null)for(S=C-D,C=7;C!==0&&S>0;)v=b[C],b[C--]=b[D+S-1],b[D+--S]=v;else if(C!==8)return;return b}(Om(t,1,-1)),!r))return Cd;this.host=r}else if(this.isSpecial()){if(t=Lie(t),Fs($ie,t)||(r=function(u){var d,l,c,p,g,S,v,b=Qie(u,".");if(b.length&&b[b.length-1]===""&&b.length--,(d=b.length)>4)return u;for(l=[],c=0;c<d;c++){if((p=b[c])==="")return u;if(g=10,p.length>1&&Za(p,0)==="0"&&(g=Fs(qie,p)?16:8,p=Om(p,g===8?1:2)),p==="")S=0;else{if(!Fs(g===10?Zie:g===8?Xie:YW,p))return u;S=T_(p,g)}ch(l,S)}for(c=0;c<d;c++)if(S=l[c],c===d-1){if(S>=zW(256,5-d))return null}else if(S>255)return null;for(v=zie(l),c=0;c<l.length;c++)v+=l[c]*zW(256,3-c);return v}(t),r===null))return Cd;this.host=r}else{if(Fs(eoe,t))return Cd;for(r="",i=lh(t),o=0;o<i.length;o++)r+=Ql(i[o],w_);this.host=r}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme==="file"},includesCredentials:function(){return this.username!==""||this.password!==""},isSpecial:function(){return Fw(E_,this.scheme)},shortenPath:function(){var t=this.path,r=t.length;!r||this.scheme==="file"&&r===1&&Lm(t[0],!0)||t.length--},serialize:function(){var t=this,r=t.scheme,i=t.username,o=t.password,u=t.host,d=t.port,l=t.path,c=t.query,p=t.fragment,g=r+":";return u!==null?(g+="//",t.includesCredentials()&&(g+=i+(o?":"+o:"")+"@"),g+=Mm(u),d!==null&&(g+=":"+d)):r==="file"&&(g+="//"),g+=t.cannotBeABaseURL?l[0]:l.length?"/"+Fm(l,"/"):"",c!==null&&(g+="?"+c),p!==null&&(g+="#"+p),g},setHref:function(t){var r=this.parse(t);if(r)throw new Mw(r);this.searchParams.update()},getOrigin:function(){var t=this.scheme,r=this.port;if(t==="blob")try{return new fh(t.path[0]).origin}catch{return"null"}return t!=="file"&&this.isSpecial()?t+"://"+Mm(this.host)+(r!==null?":"+r:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(t){this.parse(Yu(t)+":",Uw)},getUsername:function(){return this.username},setUsername:function(t){var r=lh(Yu(t));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var i=0;i<r.length;i++)this.username+=Ql(r[i],Bw)}},getPassword:function(){return this.password},setPassword:function(t){var r=lh(Yu(t));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var i=0;i<r.length;i++)this.password+=Ql(r[i],Bw)}},getHost:function(){var t=this.host,r=this.port;return t===null?"":r===null?Mm(t):Mm(t)+":"+r},setHost:function(t){this.cannotBeABaseURL||this.parse(t,Hw)},getHostname:function(){var t=this.host;return t===null?"":Mm(t)},setHostname:function(t){this.cannotBeABaseURL||this.parse(t,zw)},getPort:function(){var t=this.port;return t===null?"":Yu(t)},setPort:function(t){this.cannotHaveUsernamePasswordPort()||((t=Yu(t))===""?this.port=null:this.parse(t,Kw))},getPathname:function(){var t=this.path;return this.cannotBeABaseURL?t[0]:t.length?"/"+Fm(t,"/"):""},setPathname:function(t){this.cannotBeABaseURL||(this.path=[],this.parse(t,dh))},getSearch:function(){var t=this.query;return t?"?"+t:""},setSearch:function(t){(t=Yu(t))===""?this.query=null:(Za(t,0)==="?"&&(t=Om(t,1)),this.query="",this.parse(t,Td)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var t=this.fragment;return t?"#"+t:""},setHash:function(t){(t=Yu(t))!==""?(Za(t,0)==="#"&&(t=Om(t,1)),this.fragment="",this.parse(t,Ju)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var fh=function(t){var r=Oie(this,Lo),i=jie(arguments.length,1)>1?arguments[1]:void 0,o=Bie(r,new Jw(t,!1,i));kw||(r.href=o.serialize(),r.origin=o.getOrigin(),r.protocol=o.getProtocol(),r.username=o.getUsername(),r.password=o.getPassword(),r.host=o.getHost(),r.hostname=o.getHostname(),r.port=o.getPort(),r.pathname=o.getPathname(),r.search=o.getSearch(),r.searchParams=o.getSearchParams(),r.hash=o.getHash())},Lo=fh.prototype,$a=function(t,r){return{get:function(){return C_(this)[t]()},set:r&&function(i){return C_(this)[r](i)},configurable:!0,enumerable:!0}};if(kw&&(Xa(Lo,"href",$a("serialize","setHref")),Xa(Lo,"origin",$a("getOrigin")),Xa(Lo,"protocol",$a("getProtocol","setProtocol")),Xa(Lo,"username",$a("getUsername","setUsername")),Xa(Lo,"password",$a("getPassword","setPassword")),Xa(Lo,"host",$a("getHost","setHost")),Xa(Lo,"hostname",$a("getHostname","setHostname")),Xa(Lo,"port",$a("getPort","setPort")),Xa(Lo,"pathname",$a("getPathname","setPathname")),Xa(Lo,"search",$a("getSearch","setSearch")),Xa(Lo,"searchParams",$a("getSearchParams")),Xa(Lo,"hash",$a("getHash","setHash"))),b_(Lo,"toJSON",function(){return C_(this).serialize()},{enumerable:!0}),b_(Lo,"toString",function(){return C_(this).serialize()},{enumerable:!0}),Nm){var oj=Nm.createObjectURL,aj=Nm.revokeObjectURL;oj&&b_(fh,"createObjectURL",VW(oj,Nm)),aj&&b_(fh,"revokeObjectURL",VW(aj,Nm))}Wie(fh,"URL"),Nie({global:!0,constructor:!0,forced:!Fie,sham:!kw},{URL:fh});var aoe=Ut,sj=Gr,soe=wm,uj=xa,uoe=m_,qw=Fi("URL"),loe=uoe&&sj(function(){qw.canParse()}),coe=sj(function(){return qw.canParse.length!==1});aoe({target:"URL",stat:!0,forced:!loe||coe},{canParse:function(t){var r=soe(arguments.length,1),i=uj(t),o=r<2||arguments[1]===void 0?void 0:uj(arguments[1]);try{return!!new qw(i,o)}catch{return!1}}});var doe=Ut,foe=wm,lj=xa,hoe=m_,poe=Fi("URL");doe({target:"URL",stat:!0,forced:!hoe},{parse:function(t){var r=foe(arguments.length,1),i=lj(t),o=r<2||arguments[1]===void 0?void 0:lj(arguments[1]);try{return new poe(i,o)}catch{return null}}});var moe=ce(En.URL),Yl=ce(zL),goe=Ut,voe=HT.indexOf,yoe=nW,Xw=Iy([].indexOf),cj=!!Xw&&1/Xw([1],1,-0)<0;goe({target:"Array",proto:!0,forced:cj||!yoe("indexOf")},{indexOf:function(t){var r=arguments.length>1?arguments[1]:void 0;return cj?Xw(this,t,r)||0:voe(this,t,r)}});var _oe=Oo("Array","indexOf"),Soe=Oi,boe=_oe,Zw=Array.prototype,Coe=function(t){var r=t.indexOf;return t===Zw||Soe(Zw,t)&&r===Zw.indexOf?boe:r},ao=ce(Coe),dj=dd,Toe=TypeError,Ioe=Ut,woe=Ds,Eoe=ky,xoe=lm,Aoe=Wl,Doe=UL,Poe=cw,Roe=rI,koe=Sm,$w=function(t,r){if(!delete t[r])throw new Toe("Cannot delete property "+dj(r)+" of "+dj(t))},Noe=Pm("splice"),Foe=Math.max,Ooe=Math.min;Ioe({target:"Array",proto:!0,forced:!Noe},{splice:function(t,r){var i,o,u,d,l,c,p=woe(this),g=Aoe(p),S=Eoe(t,g),v=arguments.length;for(v===0?i=o=0:v===1?(i=0,o=g-S):(i=v-2,o=Ooe(Foe(xoe(r),0),g-S)),Poe(g+i-o),u=Roe(p,o),d=0;d<o;d++)(l=S+d)in p&&koe(u,d,p[l]);if(u.length=o,i<o){for(d=S;d<g-o;d++)c=d+i,(l=d+o)in p?p[c]=p[l]:$w(p,c);for(d=g;d>g-o+i;d--)$w(p,d-1)}else if(i>o)for(d=g-o;d>S;d--)c=d+i-1,(l=d+o-1)in p?p[c]=p[l]:$w(p,c);for(d=0;d<i;d++)p[d+S]=arguments[d+2];return Doe(p,g-o+i),u}});var Moe=Oo("Array","splice"),Loe=Oi,Woe=Moe,eE=Array.prototype,joe=function(t){var r=t.splice;return t===eE||Loe(eE,t)&&r===eE.splice?Woe:r},so=ce(joe),Boe=Ut,Uoe=pd.findIndex,fj="findIndex",hj=!0;fj in[]&&Array(1)[fj](function(){hj=!1}),Boe({target:"Array",proto:!0,forced:hj},{findIndex:function(t){return Uoe(this,t,arguments.length>1?arguments[1]:void 0)}});var Voe=Oo("Array","findIndex"),Goe=Oi,Hoe=Voe,tE=Array.prototype,zoe=function(t){var r=t.findIndex;return t===tE||Goe(tE,t)&&r===tE.findIndex?Hoe:r},pj=ce(zoe),mj=Yn,Koe=Gr,gj=Zr,Qoe=Gf,Yoe=dm,Joe=As,vj=gj(rm.f),qoe=gj([].push),Xoe=mj&&Koe(function(){var t=Object.create(null);return t[2]=2,!vj(t,2)}),yj=function(t){return function(r){for(var i,o=Joe(r),u=Yoe(o),d=Xoe&&Qoe(o)===null,l=u.length,c=0,p=[];l>c;)i=u[c++],mj&&!(d?i in o:vj(o,i))||qoe(p,t?[i,o[i]]:o[i]);return p}},Zoe={entries:yj(!0),values:yj(!1)}.entries;Ut({target:"Object",stat:!0},{entries:function(t){return Zoe(t)}});var D_=ce(En.Object.entries),P_=ce(aL),$oe=Ut,eae=pd.find,_j="find",Sj=!0;_j in[]&&Array(1)[_j](function(){Sj=!1}),$oe({target:"Array",proto:!0,forced:Sj},{find:function(t){return eae(this,t,arguments.length>1?arguments[1]:void 0)}});var tae=Oo("Array","find"),rae=Oi,nae=tae,rE=Array.prototype,iae=function(t){var r=t.find;return t===rE||rae(rE,t)&&r===rE.find?nae:r},Wm=ce(iae),oae=pd.filter;Ut({target:"Array",proto:!0,forced:!Pm("filter")},{filter:function(t){return oae(this,t,arguments.length>1?arguments[1]:void 0)}});var aae=Oo("Array","filter"),sae=Oi,uae=aae,nE=Array.prototype,lae=function(t){var r=t.filter;return t===nE||sae(nE,t)&&r===nE.filter?uae:r},bj=ce(lae),cae=pd.map;Ut({target:"Array",proto:!0,forced:!Pm("map")},{map:function(t){return cae(this,t,arguments.length>1?arguments[1]:void 0)}});var dae=Oo("Array","map"),fae=Oi,hae=dae,iE=Array.prototype,pae=function(t){var r=t.map;return t===iE||fae(iE,t)&&r===iE.map?hae:r},jm=ce(pae),mae=HT.includes;Ut({target:"Array",proto:!0,forced:Gr(function(){return!Array(1).includes()})},{includes:function(t){return mae(this,t,arguments.length>1?arguments[1]:void 0)}});var gae=Oo("Array","includes"),vae=Jn,yae=zu,_ae=Sn("match"),Sae=function(t){var r;return vae(t)&&((r=t[_ae])!==void 0?!!r:yae(t)==="RegExp")},bae=TypeError,Cae=Sn("match"),Tae=Ut,Iae=function(t){if(Sae(t))throw new bae("The method doesn't accept regular expressions");return t},wae=Nf,Cj=xa,Eae=function(t){var r=/./;try{"/./"[t](r)}catch{try{return r[Cae]=!1,"/./"[t](r)}catch{}}return!1},xae=Zr("".indexOf);Tae({target:"String",proto:!0,forced:!Eae("includes")},{includes:function(t){return!!~xae(Cj(wae(this)),Cj(Iae(t)),arguments.length>1?arguments[1]:void 0)}});var Aae=Oo("String","includes"),Tj=Oi,Dae=gae,Pae=Aae,oE=Array.prototype,aE=String.prototype,Rae=function(t){var r=t.includes;return t===oE||Tj(oE,t)&&r===oE.includes?Dae:typeof t=="string"||t===aE||Tj(aE,t)&&r===aE.includes?Pae:r},kae=ce(Rae),Ij=`	
\v\f\r \u2028\u2029\uFEFF`,Nae=Nf,Fae=xa,sE=Ij,wj=Zr("".replace),Oae=RegExp("^["+sE+"]+"),Mae=RegExp("(^|[^"+sE+"])["+sE+"]+$"),uE=function(t){return function(r){var i=Fae(Nae(r));return 1&t&&(i=wj(i,Oae,"")),2&t&&(i=wj(i,Mae,"$1")),i}},Lae={start:uE(1),end:uE(2),trim:uE(3)},Ej=gn,Wae=Gr,jae=Zr,Bae=xa,Uae=Lae.trim,xj=Ij,Bm=Ej.parseInt,Aj=Ej.Symbol,Dj=Aj&&Aj.iterator,Pj=/^[+-]?0x/i,Vae=jae(Pj.exec),Rj=Bm(xj+"08")!==8||Bm(xj+"0x16")!==22||Dj&&!Wae(function(){Bm(Object(Dj))})?function(t,r){var i=Uae(Bae(t));return Bm(i,r>>>0||(Vae(Pj,i)?16:10))}:Bm;Ut({global:!0,forced:parseInt!==Rj},{parseInt:Rj});var Um=ce(En.parseInt),Gae=ce(qL),Hae=Oo("Array","keys"),zae=fd,Kae=si,Qae=Oi,Yae=Hae,lE=Array.prototype,Jae={DOMTokenList:!0,NodeList:!0},qae=function(t){var r=t.keys;return t===lE||Qae(lE,t)&&r===lE.keys||Kae(Jae,zae(t))?Yae:r},Xae=ce(qae),kj={exports:{}},Zae=Gr(function(){if(typeof ArrayBuffer=="function"){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}),$ae=Gr,ese=Jn,tse=zu,Nj=Zae,R_=Object.isExtensible,rse=$ae(function(){R_(1)})||Nj?function(t){return!!ese(t)&&(!Nj||tse(t)!=="ArrayBuffer")&&(!R_||R_(t))}:R_,nse=!Gr(function(){return Object.isExtensible(Object.preventExtensions({}))}),ise=Ut,ose=Zr,ase=cm,sse=Jn,cE=si,use=oa.f,Fj=fm,lse=ZT,dE=rse,cse=nse,Oj=!1,qu=om("meta"),dse=0,fE=function(t){use(t,qu,{value:{objectID:"O"+dse++,weakData:{}}})},fse=kj.exports={enable:function(){fse.enable=function(){},Oj=!0;var t=Fj.f,r=ose([].splice),i={};i[qu]=1,t(i).length&&(Fj.f=function(o){for(var u=t(o),d=0,l=u.length;d<l;d++)if(u[d]===qu){r(u,d,1);break}return u},ise({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:lse.f}))},fastKey:function(t,r){if(!sse(t))return N(t)=="symbol"?t:(typeof t=="string"?"S":"P")+t;if(!cE(t,qu)){if(!dE(t))return"F";if(!r)return"E";fE(t)}return t[qu].objectID},getWeakData:function(t,r){if(!cE(t,qu)){if(!dE(t))return!0;if(!r)return!1;fE(t)}return t[qu].weakData},onFreeze:function(t){return cse&&Oj&&dE(t)&&!cE(t,qu)&&fE(t),t}};ase[qu]=!0;var Mj=kj.exports,hse=Ut,pse=gn,mse=Mj,gse=Gr,vse=Ml,yse=yd,_se=Im,Sse=Ei,bse=Jn,Cse=kf,Tse=du,Ise=oa.f,wse=pd.forEach,Ese=Yn,xse=Ps.set,Ase=Ps.getterFor,Lj=jl,Dse=pm,Wj=dW,Pse=Ku,Rse=Im,kse=kf,Nse=yd,Fse=DI,jj=e_,Ose=iM,Vm=Yn,Bj=Mj.fastKey,Uj=Ps.set,hE=Ps.getterFor,Mse={getConstructor:function(t,r,i,o){var u=t(function(g,S){Rse(g,d),Uj(g,{type:r,index:Lj(null),first:null,last:null,size:0}),Vm||(g.size=0),kse(S)||Nse(S,g[o],{that:g,AS_ENTRIES:i})}),d=u.prototype,l=hE(r),c=function(g,S,v){var b,C,D=l(g),M=p(g,S);return M?M.value=v:(D.last=M={index:C=Bj(S,!0),key:S,value:v,previous:b=D.last,next:null,removed:!1},D.first||(D.first=M),b&&(b.next=M),Vm?D.size++:g.size++,C!=="F"&&(D.index[C]=M)),g},p=function(g,S){var v,b=l(g),C=Bj(S);if(C!=="F")return b.index[C];for(v=b.first;v;v=v.next)if(v.key===S)return v};return Wj(d,{clear:function(){for(var g=l(this),S=g.first;S;)S.removed=!0,S.previous&&(S.previous=S.previous.next=null),S=S.next;g.first=g.last=null,g.index=Lj(null),Vm?g.size=0:this.size=0},delete:function(g){var S=this,v=l(S),b=p(S,g);if(b){var C=b.next,D=b.previous;delete v.index[b.index],b.removed=!0,D&&(D.next=C),C&&(C.previous=D),v.first===b&&(v.first=C),v.last===b&&(v.last=D),Vm?v.size--:S.size--}return!!b},forEach:function(g){for(var S,v=l(this),b=Pse(g,arguments.length>1?arguments[1]:void 0);S=S?S.next:v.first;)for(b(S.value,S.key,this);S&&S.removed;)S=S.previous},has:function(g){return!!p(this,g)}}),Wj(d,i?{get:function(g){var S=p(this,g);return S&&S.value},set:function(g,S){return c(this,g===0?0:g,S)}}:{add:function(g){return c(this,g=g===0?0:g,g)}}),Vm&&Dse(d,"size",{configurable:!0,get:function(){return l(this).size}}),u},setStrong:function(t,r,i){var o=r+" Iterator",u=hE(r),d=hE(o);Fse(t,r,function(l,c){Uj(this,{type:o,target:l,state:u(l),kind:c,last:null})},function(){for(var l=d(this),c=l.kind,p=l.last;p&&p.removed;)p=p.previous;return l.target&&(l.last=p=p?p.next:l.state.first)?jj(c==="keys"?p.key:c==="values"?p.value:[p.key,p.value],!1):(l.target=null,jj(void 0,!0))},i?"entries":"values",!i,!0),Ose(r)}},Lse=function(t,r,i){var o,u=t.indexOf("Map")!==-1,d=t.indexOf("Weak")!==-1,l=u?"set":"add",c=pse[t],p=c&&c.prototype,g={};if(Ese&&Sse(c)&&(d||p.forEach&&!gse(function(){new c().entries().next()}))){var S=(o=r(function(b,C){xse(_se(b,S),{type:t,collection:new c}),Cse(C)||yse(C,b[l],{that:b,AS_ENTRIES:u})})).prototype,v=Ase(t);wse(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(b){var C=b==="add"||b==="set";!(b in p)||d&&b==="clear"||vse(S,b,function(D,M){var j=v(this).collection;if(!C&&d&&!bse(D))return b==="get"&&void 0;var Y=j[b](D===0?0:D,M);return C?this:Y})}),d||Ise(S,"size",{configurable:!0,get:function(){return v(this).collection.size}})}else o=i.getConstructor(r,t,u,l),mse.enable();return Tse(o,t,!1,!0),g[t]=o,hse({global:!0,forced:!0},g),d||i.setStrong(o,t,u),o};Lse("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},Mse);var Wse=dd,jse=TypeError,Id=function(t){if(N(t)=="object"&&"size"in t&&"has"in t&&"add"in t&&"delete"in t&&"keys"in t)return t;throw new jse(Wse(t)+" is not a set")},pE=function(t,r){return function(i,o){return i[t](o)}},Vj=Fi("Set"),Bse=Vj.prototype,Da={Set:Vj,add:pE("add"),has:pE("has"),remove:pE("delete"),proto:Bse},Use=vi,wd=function(t,r,i){for(var o,u,d=i?t:t.iterator,l=t.next;!(o=Use(l,d)).done;)if((u=r(o.value))!==void 0)return u},Vse=wd,Gm=function(t,r,i){return i?Vse(t.keys(),r,!0):t.forEach(r)},Gse=Gm,Hse=Da.Set,zse=Da.add,mE=function(t){var r=new Hse;return Gse(t,function(i){zse(r,i)}),r},Hm=function(t){return t.size},Gj=Ea,Hj=Fo,zj=vi,Kse=lm,Qse=function(t){return{iterator:t,next:t.next,done:!1}},Kj="Invalid size",Yse=RangeError,Jse=TypeError,qse=Math.max,Qj=function(t,r){this.set=t,this.size=qse(r,0),this.has=Gj(t.has),this.keys=Gj(t.keys)};Qj.prototype={getIterator:function(){return Qse(Hj(zj(this.keys,this.set)))},includes:function(t){return zj(this.has,this.set,t)}};var Ed=function(t){Hj(t);var r=+t.size;if(r!=r)throw new Jse(Kj);var i=Kse(r);if(i<0)throw new Yse(Kj);return new Qj(t,i)},Xse=Id,Zse=mE,$se=Hm,eue=Ed,tue=Gm,rue=wd,nue=Da.has,Yj=Da.remove,xd=function(){return!1},iue=function(t){var r=Xse(this),i=eue(t),o=Zse(r);return $se(r)<=i.size?tue(r,function(u){i.includes(u)&&Yj(o,u)}):rue(i.getIterator(),function(u){nue(o,u)&&Yj(o,u)}),o};Ut({target:"Set",proto:!0,real:!0,forced:!xd()},{difference:iue});var oue=Id,aue=Hm,sue=Ed,uue=Gm,lue=wd,cue=Da.Set,Jj=Da.add,due=Da.has,fue=function(t){var r=oue(this),i=sue(t),o=new cue;return aue(r)>i.size?lue(i.getIterator(),function(u){due(r,u)&&Jj(o,u)}):uue(r,function(u){i.includes(u)&&Jj(o,u)}),o};Ut({target:"Set",proto:!0,real:!0,forced:!xd()},{intersection:fue});var hue=Id,pue=Da.has,mue=Hm,gue=Ed,vue=Gm,yue=wd,_ue=Yy,Sue=function(t){var r=hue(this),i=gue(t);if(mue(r)<=i.size)return vue(r,function(u){if(i.includes(u))return!1},!0)!==!1;var o=i.getIterator();return yue(o,function(u){if(pue(r,u))return _ue(o,"normal",!1)})!==!1};Ut({target:"Set",proto:!0,real:!0,forced:!xd()},{isDisjointFrom:Sue});var bue=Id,Cue=Hm,Tue=Gm,Iue=Ed,wue=function(t){var r=bue(this),i=Iue(t);return!(Cue(r)>i.size)&&Tue(r,function(o){if(!i.includes(o))return!1},!0)!==!1};Ut({target:"Set",proto:!0,real:!0,forced:!xd()},{isSubsetOf:wue});var Eue=Id,xue=Da.has,Aue=Hm,Due=Ed,Pue=wd,Rue=Yy,kue=function(t){var r=Eue(this),i=Due(t);if(Aue(r)<i.size)return!1;var o=i.getIterator();return Pue(o,function(u){if(!xue(r,u))return Rue(o,"normal",!1)})!==!1};Ut({target:"Set",proto:!0,real:!0,forced:!xd()},{isSupersetOf:kue});var Nue=Id,Fue=mE,Oue=Ed,Mue=wd,Lue=Da.add,Wue=Da.has,jue=Da.remove,Bue=function(t){var r=Nue(this),i=Oue(t).getIterator(),o=Fue(r);return Mue(i,function(u){Wue(r,u)?jue(o,u):Lue(o,u)}),o};Ut({target:"Set",proto:!0,real:!0,forced:!xd()},{symmetricDifference:Bue});var Uue=Id,Vue=Da.add,Gue=mE,Hue=Ed,zue=wd,Kue=function(t){var r=Uue(this),i=Hue(t).getIterator(),o=Gue(r);return zue(i,function(u){Vue(o,u)}),o};Ut({target:"Set",proto:!0,real:!0,forced:!xd()},{union:Kue});var Que=ce(En.Set),qj=ce(CL);function Xj(t,r){var i=p_(t);if(mO){var o=mO(t);r&&(o=bj(o).call(o,function(u){return bO(t,u).enumerable})),i.push.apply(i,o)}return i}function hh(t){for(var r=1;r<arguments.length;r++){var i,o,u=arguments[r]!=null?arguments[r]:{};r%2?lr(i=Xj(Object(u),!0)).call(i,function(d){ht(t,d,u[d])}):TO?E2(t,TO(u)):lr(o=Xj(Object(u))).call(o,function(d){qj(t,d,bO(u,d))})}return t}function k_(t){var r=function(){if(typeof Reflect>"u"||!My||My.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(My(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var i,o=$f(t);if(r){var u=$f(this).constructor;i=My(o,arguments,u)}else i=o.apply(this,arguments);return function(d,l){if(l&&(th(l)=="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mn(d)}(this,i)}}var Jl=function(t){return sW?sW(t):function(r){return Object.prototype.toString.call(r)}(t)==="[object Array]"},uo=function(t){return t===void 0},Zj=function(t,r){var i,o;t=(i=t)!==null&&i!==void 0?i:"yyyy-MM-dd hh:mm:ss";var u=uo(r)?new Date:new Date(r),d={"M+":(u.getMonth()+1).toString(),"d+":u.getDate().toString(),"h+":u.getHours().toString(),"m+":u.getMinutes().toString(),"s+":u.getSeconds().toString(),"q+":Math.floor((u.getMonth()+3)/3).toString(),S:u.getMilliseconds().toString()};return/(y+)/.test(t)&&(t=t.replace(RegExp.$1,"".concat(u.getFullYear()).substring(4-RegExp.$1.length))),lr(o=p_(d)).call(o,function(l){new RegExp("(".concat(l,")")).test(t)&&(t=t.replace(RegExp.$1,RegExp.$1.length===1?d[l]:"00".concat(d[l]).substring("".concat(d[l]).length)))}),t},Ln=function(t){return typeof t=="string"},Ad=function(t){return typeof t=="number"&&!nh(t)},Dd=function(t){return typeof t=="function"},$j=0,ql=function(){var t;return $j+=1,Hl(t="".concat(new Date().getTime().toString(36))).call(t,$j.toString(36))};(function(t,r){for(var i=p_(t),o=0;o<i.length;o++){var u=i[o];if(r.call(null,t[u],u,t)===!1)break}})({"&amp;":"&","&gt;":">","&lt;":"<","&nbsp;":" ","&quot;":'"',"&#x27;":"'"},function(t,r){}),function(t,r){for(var i=p_(t),o=0;o<i.length;o++){var u=i[o];if(r.call(null,t[u],u,t)===!1)break}}({"&amp;":"&","&gt;":">","&lt;":"<","&nbsp;":" ","&quot;":'"',"&#x27;":"'"},function(t,r){});var N_=function(t){var r=moe||window.webkitURL;/^blob:/.test(t)&&r.revokeObjectURL(t)},eB=function(){function t(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";yi(this,t),ht(this,"prefix",void 0),ht(this,"postfix",void 0),ht(this,"isDestroyed",!1),ht(this,"uid",ql()),ht(this,"cacheEvents",void 0),ht(this,"events",void 0),ht(this,"isCached",void 0),this.cacheEvents=[],this.events={},this.isCached=!1,this.prefix=r,this.postfix=i}return _i(t,[{key:"save",value:function(){this.isCached=!0}},{key:"restore",value:function(){var r,i=this;this.isCached=!1,lr(r=this.cacheEvents).call(r,function(o){var u,d=o.eventName,l=o.param;i.emit.apply(i,Hl(u=[d]).call(u,ui(l)))}),this.cacheEvents.length=0}},{key:"destroy",value:function(){var r=this;if(!this.isDestroyed){for(var i in this.events)if(Object.prototype.hasOwnProperty.call(this.events,i)){var o,u=this.events[i];u&&lr(o=Yl(u).call(u)).call(o,function(d){var l=d.name,c=d.fn,p=d.context,g=d.once;r.off(l,c,p,g)})}this.events={},this.isDestroyed=!0}}},{key:"on",value:function(r,i,o){var u,d=arguments.length>3&&arguments[3]!==void 0&&arguments[3],l=this.events,c={name:r=this.format(r),uid:ql(),context:o,once:d,fn:i};return l[r]||(l[r]=[]),ao(u=l[r]).call(u,c)<0&&l[r].push(c),c}},{key:"once",value:function(r,i,o){return this.on(r,i,o,!0)}},{key:"emit",value:function(r){for(var i,o,u=this,d=arguments.length,l=new Array(d>1?d-1:0),c=1;c<d;c++)l[c-1]=arguments[c];if(this.isCached)return this.cacheEvents.push({eventName:r,param:l}),!0;var p=this.events[r=this.format(r)];return!(!p||!p.length||(lr(i=Yl(p).call(p)).call(i,function(g){var S,v=g.fn,b=g.context;v.call.apply(v,Hl(S=[b||null]).call(S,l))}),lr(o=Yl(p).call(p)).call(o,function(g){var S=g.fn,v=g.context,b=g.once;b&&u.off(r,S,v,b)}),0))}},{key:"off",value:function(r,i,o,u){var d=this.events[r=this.format(r)];if(!d)return!1;if(!arguments.length)return d.length=0,!0;for(var l=d.length-1;l>=0;l--){var c=d[l];i&&c.fn!==i||o&&c.context!==o||u&&c.once!==u||so(d).call(d,l,1)}return!0}},{key:"removeAllEventListeners",value:function(r){if(r){var i,o;r=this.format(r);var u=pj(i=this.cacheEvents).call(i,function(d){return d.eventName===r});u>-1&&so(o=this.cacheEvents).call(o,u,1),this.events[r]&&delete this.events[r]}else this.cacheEvents=[],this.events={}}},{key:"getAllEvents",value:function(){return this.events}},{key:"format",value:function(r){var i,o;return Hl(i=Hl(o="".concat(this.prefix||"")).call(o,r)).call(i,this.postfix||"")}}],[{key:"create",value:function(r,i){return new t(r,i)}}]),t}(),gE="default",jr=function(){function t(){yi(this,t),ht(this,"emitter",new eB)}return _i(t,[{key:"on",value:function(r){this.emitter.on(gE,r)}},{key:"emit",value:function(){for(var r,i,o=arguments.length,u=new Array(o),d=0;d<o;d++)u[d]=arguments[d];(r=this.emitter).emit.apply(r,Hl(i=[gE]).call(i,u))}},{key:"off",value:function(r){this.emitter.off(gE,r)}}],[{key:"create",value:function(){return new t}}]),t}(),zm=function(){function t(r){yi(this,t),ht(this,"uid",void 0),ht(this,"children",void 0),this.uid=r.uid,this.children=r.children||[]}return _i(t,[{key:"append",value:function(r){var i=this.children;return ao(i).call(i,r)<0&&(i.push(r),!0)}},{key:"insert",value:function(r,i){var o=this.children;return!(i<0||(i>o.length&&(i=o.length),so(o).call(o,i,0,r),0))}},{key:"remove",value:function(r){var i=this.children,o=ao(i).call(i,r);return!(o<0||(so(i).call(i,o,1),0))}},{key:"clear",value:function(){return this.children=[],!0}},{key:"move",value:function(r,i){if(r===i)return!0;var o=this.children,u=rh(so(o).call(o,r,1),1)[0];return so(o).call(o,i,0,u),!0}},{key:"switch",value:function(r,i){if(r===i)return!0;var o=this.children,u=o[r];return o[r]=o[i],o[i]=u,!0}},{key:"reorder",value:function(r){var i=this.children,o=r.length,u=[],d=0;if(i.length!==o||o===0)return!1;for(var l=0;l<o;l++)r[l]===l&&(d+=1);if(d===o)return!0;for(var c=0;c<o;c++)u[c]=i[r[c]];for(var p=0;p<o;p++)i[p]=u[p];return!0}}]),t}(),tB=function(){function t(r,i){yi(this,t),ht(this,"isDestroyed",!1),ht(this,"data",void 0),ht(this,"table",["database","table","item"]),ht(this,"dbName",void 0),ht(this,"tableName",void 0),this.data={},this.dbName=r,this.tableName=i,this.createDatabase(r,i)}return _i(t,[{key:"destroy",value:function(){if(!this.isDestroyed){for(var r=0,i=D_(this.data);r<i.length;r++){var o=rh(i[r],2),u=o[0];o[1],this.data[u]=null}this.data=null,this.isDestroyed=!0}}},{key:"createDatabase",value:function(r,i){this.data[r]={},this.data[r][i]={}}},{key:"set",value:function(r,i){var o=this,u=this.dbName,d=this.tableName;return new P_(function(l,c){o.checkId(r)?c(new Error("The ".concat(r," already exists."))):(o.data[u][d][r]=i,l("Save ".concat(r," to database successful.")))})}},{key:"get",value:function(r){var i=this,o=this.dbName,u=this.tableName;return new P_(function(d,l){i.checkId(r)?d(i.data[o][u][r]):l(i.erMsg(2,r))})}},{key:"remove",value:function(r){var i=this,o=this.dbName,u=this.tableName;return new P_(function(d,l){delete i.data[o][u][r],d("Remove ".concat(r," successful."))})}},{key:"update",value:function(r,i){var o=this,u=this.dbName,d=this.tableName;return new P_(function(l,c){o.checkId(r)?(o.data[u][d][r]=i,l("Update ".concat(r," successful."))):c(o.erMsg(2,r))})}},{key:"checkId",value:function(r){var i=this.dbName,o=this.tableName;return this.data[i][o][r]!==void 0}},{key:"erMsg",value:function(r,i){var o;return Hl(o="The ".concat(this.table[r]," ")).call(o,i," does not exist.")}}]),t}(),F_=function(){function t(){yi(this,t),ht(this,"isDestroyed",!1),ht(this,"data",void 0),this.data={}}return _i(t,[{key:"destroy",value:function(){if(!this.isDestroyed){for(var r=0,i=D_(this.data);r<i.length;r++){var o,u=rh(i[r],2),d=u[0];u[1],(o=this.data[d])!==null&&o!==void 0&&o.destroy(),this.data[d]=null}this.data=null,this.isDestroyed=!0}}},{key:"set",value:function(r,i){return!this.check(r)&&(this.data[r]=i,!0)}},{key:"get",value:function(r){return this.data[r]}},{key:"remove",value:function(r){return!!this.check(r)&&(delete this.data[r],!0)}},{key:"update",value:function(r,i){return!!this.check(r)&&(this.data[r]=i,!0)}},{key:"check",value:function(r){return this.data[r]!==void 0}}]),t}(),rB=function(t){c_(i,t);var r=k_(i);function i(o){var u;return yi(this,i),ht(Mn(u=r.call(this,o)),"name",void 0),ht(Mn(u),"type",void 0),ht(Mn(u),"fileType",void 0),ht(Mn(u),"createdDate",void 0),ht(Mn(u),"modifiedDate",void 0),ht(Mn(u),"parent",void 0),ht(Mn(u),"isRoot",!1),u.name=o.name,u.type=o.type,u.fileType=o.fileType,u.parent=o.parent||null,u.isRoot=o.isRoot||!1,u.createdDate=Zj(),u.modifiedDate=u.createdDate,u}return _i(i,[{key:"updateDate",value:function(){this.modifiedDate=Zj()}},{key:"setName",value:function(o){this.name=o}},{key:"reorder",value:function(o){var u=this.type;return(u==="file"||u==="default")&&uw($f(i.prototype),"reorder",this).call(this,o)}}]),i}(zm),Yue=function(){function t(){yi(this,t),ht(this,"root",void 0),ht(this,"currentNode",void 0),ht(this,"selectedUid",void 0),ht(this,"defaultNode",void 0),ht(this,"hooks",{fileChanged:jr.create(),beforeRemoveFile:jr.create(),removeFile:jr.create(),afterRemoveFile:jr.create(),afterRenameFile:jr.create(),destroy:jr.create()}),this.root=new rB({uid:ql(),children:[],name:"root",type:"file",fileType:"folder",parent:void 0,isRoot:!0}),this.defaultNode=this.root,this.currentNode=this.root}return _i(t,[{key:"appendChildrenToFile",value:function(r,i,o){var u=o,d=nB(this.defaultNode,r);return d||(d=this.createFile(r),this.hooks.fileChanged.emit(this.defaultNode)),lr(i).call(i,function(l){uo(u)?d.append(l):(d.insert(l,u),u+=1)}),d}},{key:"removeChildFromFile",value:function(r,i){Ln(i)&&(i=[i]);var o=this.getFileByUid(r);o&&lr(i).call(i,function(u){o.remove(u)})}},{key:"findChild",value:function(r,i){var o;return Wm(o=r.children).call(o,function(u){return u.name===i})}},{key:"createFile",value:function(r){var i=this.defaultNode;i||(i=this.root);var o=nB(i,r);return o&&o.type==="file"||(o=new rB({uid:ql(),children:[],name:r,type:"file",fileType:"file",parent:i,isRoot:!1}),this.currentNode.append(o),this.hooks.fileChanged.emit(this.currentNode.children)),o}},{key:"removeFile",value:function(r){for(var i=this.defaultNode.children,o=0;o<i.length;o++){var u=i[o];if(u.name===r)return this.hooks.beforeRemoveFile.emit(u),so(i).call(i,o,1),this.hooks.afterRemoveFile.emit(u),this.hooks.fileChanged.emit(u),!0}return!1}},{key:"renameFile",value:function(r,i){var o=this.findChild(this.defaultNode,r),u=this.findChild(this.defaultNode,i);return!!o&&!u&&(o.name=i,this.hooks.afterRenameFile.emit(o),this.hooks.fileChanged.emit(this.currentNode.children),!0)}},{key:"getFile",value:function(r){return this.findChild(this.defaultNode,r)}},{key:"getFileByUid",value:function(r){return Wm(this).call(this,r,this.root)}},{key:"getCurrentFileList",value:function(){return this.currentNode.children}},{key:"isFileExist",value:function(r){return!!this.findChild(this.defaultNode,r)}},{key:"createFolder",value:function(){}},{key:"find",value:function(r,i){for(var o=i.children,u=o.length,d=0;d<u;d++){if(o[d].uid===r)return o[d];if(o[d].children){var l=Wm(this).call(this,r,o[d]);if(l)return l}}return null}}]),t}();function nB(t,r){var i,o=bj(i=t.children).call(i,function(u){return u.name===r});return o.length===0?null:o[0]}var iB,O_,oB=function(t){c_(i,t);var r=k_(i);function i(o){var u;return yi(this,i),ht(Mn(u=r.call(this,o)),"name",void 0),ht(Mn(u),"type","tag"),u.name=o.name,u.uid=o.uid||ql(),u.type="tag",u}return _i(i)}(zm),Jue=function(){function t(){yi(this,t),ht(this,"tags",void 0),ht(this,"defaultName",void 0),ht(this,"defaultUid",void 0),ht(this,"selectedUid",void 0),ht(this,"emptyItem",void 0),ht(this,"hooks",{beforeRemoveTag:jr.create(),afterRenameTag:jr.create(),destroy:jr.create(),load:jr.create()}),this.tags=[],this.defaultName=null,this.defaultUid=null,this.selectedUid=null,this.emptyItem=new oB({name:"defaultTag",children:[]})}return _i(t,[{key:"appendChildToTag",value:function(r,i){var o=this.createTag(r);Ln(i)&&(i=[i]);var u=!1;return lr(i).call(i,function(d){o.append(d)&&(u=!0)}),u}},{key:"removeChildFromTag",value:function(r,i){var o=this.getTag(r);return!!o&&(Ln(i)&&(i=[i]),lr(i).call(i,function(u){o.remove(u)}),!0)}},{key:"createTag",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],o=this.getTag(r);return o||(o=new oB({name:r,children:i}),this.tags.push(o)),o}},{key:"removeTag",value:function(r){var i,o,u=this.getTag(r);if(!u)return!1;this.hooks.beforeRemoveTag.emit(u);var d=pj(i=this.tags).call(i,function(l){return l.name===r});return r===this.defaultName&&(this.defaultName=null,this.selectedUid=null),so(o=this.tags).call(o,d,1),!0}},{key:"renameTag",value:function(r,i){if(!Ln(r)||!Ln(i))return!1;var o=this.isTagExisted(i),u=this.getTag(r);return!(!u||o||(u.name=i,this.hooks.afterRenameTag.emit(u),0))}},{key:"getTag",value:function(r){var i;return Wm(i=this.tags).call(i,function(o){return o.name===r})}},{key:"getTagByUid",value:function(r){var i;return Wm(i=this.tags).call(i,function(o){return o.uid===r})}},{key:"getTagList",value:function(){var r;return Yl(r=this.tags).call(r)}},{key:"setDefaultTag",value:function(r){if(!r)return this.defaultName=null,this.defaultUid=null,!0;var i=this.getTag(r);return!!i&&(this.defaultName=r,this.defaultUid=i.uid,!0)}},{key:"getDefaultTag",value:function(){return this.defaultName}},{key:"isTagExisted",value:function(r){return!!this.getTag(r)}}]),t}(),que=function(){function t(){yi(this,t)}return _i(t,[{key:"apply",value:function(r){var i=r.hooks,o={beforeStatus:null,afterStatus:null,operation:null,docUid:null},u=function(l){o.beforeStatus={uids:l.uids,selectedUids:[],currentUid:"",modifiedUid:l.modifiedUid,removedUids:l.removedUids}},d=function(l){o.afterStatus={uids:l.uids,selectedUids:[],currentUid:"",modifiedUid:l.modifiedUid,removedUids:l.removedUids},o.docUid=l.docUid,o.operation=l.operation,o.docType=l.docType,o.docName=l.docName,r.emit("bufferChanged",hh({},o)),o={beforeStatus:null,afterStatus:null,operation:null,docUid:null}};i.beforeBufferChanged.on(u),i.afterBufferChanged.on(d),i.destroy.on(function(){i.beforeBufferChanged.off(u),i.afterBufferChanged.off(d)})}}]),t}(),Xue=function(){function t(){yi(this,t)}return _i(t,[{key:"apply",value:function(r){var i=r.hooks;r.customStore=new F_;var o=function(l){var c=l.data;lr(c).call(c,function(p){var g=p.customData;g||(g={}),r.customStore.set(p.uid,g)})},u=function(l){var c=l.removedUids;lr(c).call(c,function(p){r.customStore.remove(p)})},d=function(l){var c=l.data.customData;c&&r.customStore.update(l.modifiedUid,c)};i.loadSource.on(o),i.removeSource.on(u),i.updateSource.on(d),i.destroy.on(function(){i.loadSource.off(o),i.removeSource.off(u),i.updateSource.off(d)})}}]),t}(),Zue=function(t){c_(i,t);var r=k_(i);function i(){var o;return yi(this,i),ht(Mn(o=r.call(this,{uid:ql(),children:[]})),"name","dvs-default"),ht(Mn(o),"isDestroyed",!1),ht(Mn(o),"type",void 0),o}return _i(i,[{key:"destroy",value:function(){this.isDestroyed||(this.isDestroyed=!0)}}]),i}(zm),$ue=function(){function t(){yi(this,t)}return _i(t,[{key:"apply",value:function(r){r.defaultFile=new Zue;var i=r.hooks,o=function(d){var l,c,p,g=d.filename,S=d.index,v=d.data;if(uo(g)){var b=jm(v).call(v,function(D){return D.uid});S===void 0?(l=r.defaultFile.children).push.apply(l,ui(b)):so(c=r.defaultFile.children).apply(c,Hl(p=[S,0]).call(p,ui(b)));var C={docUid:r.defaultFile.uid,sourceUids:b,type:"default",index:S};r.hooks.loadToDoc.emit(C)}},u=function(d){var l=d.removedUids,c=[];lr(l).call(l,function(p){var g=r.statusStore.get(p);g&&g.ownerDefaultFile&&(r.defaultFile.remove(p),c.push(p))}),c.length&&r.hooks.removeFromDoc.emit({docUid:r.defaultFile.uid,sourceUids:l,type:"default"})};i.loadSource.on(o),i.removeSource.on(u),i.destroy.on(function(){i.loadSource.off(o),i.removeSource.off(u)})}}]),t}(),ele=function(){function t(){yi(this,t)}return _i(t,[{key:"apply",value:function(r){r.dir=new Yue,this.listenDirectoryHooks(r),this.listenSpaceHooks(r)}},{key:"listenDirectoryHooks",value:function(r){var i=r.dir.hooks,o=function(d){var l;lr(l=d.children).call(l,function(c){var p=r.statusStore.get(c);p&&p.ownerFiles.remove(d.uid)}),r.hooks.removeDoc.emit(d)},u=function(d){r.hooks.renameDoc.emit(d)};i.beforeRemoveFile.on(o),i.afterRenameFile.on(u),i.destroy.on(function(){i.beforeRemoveFile.off(o),i.afterRenameFile.off(u)})}},{key:"listenSpaceHooks",value:function(r){var i=r.hooks,o=function(l){var c=l.data,p=l.filename,g=l.index;if(!uo(p)){var S=r.dir.getFile(p);r.hooks.beforeBufferChanged.emit({docType:"file",docUid:S==null?void 0:S.uid,uids:ui((S==null?void 0:S.children)||[]),operation:"add"});var v=jm(c).call(c,function(D){return D.uid}),b=r.dir.appendChildrenToFile(p,v,g),C={docUid:b.uid,sourceUids:v,type:"file",index:g};r.hooks.loadToDoc.emit(C),r.hooks.afterBufferChanged.emit({docType:"file",docName:p,docUid:b==null?void 0:b.uid,uids:ui((b==null?void 0:b.children)||[]),operation:"add"})}},u=function(l){var c=l.removedUids,p={};lr(c).call(c,function(M){var j,Y,ee=r.statusStore.get(M);ee&&lr(j=Yl(Y=ee.ownerFiles.children).call(Y)).call(j,function(te){p[te]||(p[te]=[]),p[te].push(M)})});for(var g=0,S=D_(p);g<S.length;g++){var v=rh(S[g],2),b=v[0],C=v[1],D=r.dir.getFileByUid(b);D&&(r.hooks.beforeBufferChanged.emit({docUid:b,uids:ui(D.children),removedUids:ui(C),operation:"remove"}),r.dir.removeChildFromFile(b,C),r.hooks.afterBufferChanged.emit({docType:"file",docName:D.name,docUid:b,uids:ui(D.children),removedUids:ui(C),operation:"remove"})),r.hooks.removeFromDoc.emit({docUid:b,sourceUids:C})}},d=function(l){var c,p,g=r.statusStore.get(l.modifiedUid);g&&lr(c=Yl(p=g.ownerFiles.children).call(p)).call(c,function(S){var v=r.dir.getFileByUid(S);v&&(r.hooks.beforeBufferChanged.emit({uids:ui(v.children),modifiedUid:l.modifiedUid,operation:"modify"}),r.hooks.afterBufferChanged.emit({docType:"file",docName:v.name,docUid:S,uids:ui(v.children),modifiedUid:l.modifiedUid,operation:"modify"}))})};i.loadSource.on(o),i.removeSource.on(u),i.updateSource.on(d),i.destroy.on(function(){i.loadSource.off(o),i.removeSource.off(u),i.updateSource.off(d)})}}]),t}(),tle=function(){function t(){yi(this,t)}return _i(t,[{key:"apply",value:function(r){var i=r.hooks;r.metadataStore=new F_;var o=function(l){var c=l.data;lr(c).call(c,function(p){var g=p.metadata;g||(g={width:void 0,height:void 0}),r.metadataStore.set(p.uid,g)})},u=function(l){var c=l.removedUids;lr(c).call(c,function(p){r.metadataStore.remove(p)})},d=function(l){var c=l.data.metadata;c&&r.metadataStore.update(l.modifiedUid,c)};i.loadSource.on(o),i.removeSource.on(u),i.updateSource.on(d),i.destroy.on(function(){i.loadSource.off(o),i.removeSource.off(u),i.updateSource.off(d)})}}]),t}(),rle=function(){function t(r){yi(this,t),ht(this,"uid",null),ht(this,"minData",null),ht(this,"oriData",null),ht(this,"customData",{}),ht(this,"activeOri",!1),ht(this,"activeMin",!1),ht(this,"minTask",null),ht(this,"oriTask",null),ht(this,"load",!1),ht(this,"preload",[]),ht(this,"visible",[]),ht(this,"overlays",[]),ht(this,"img",null),ht(this,"minImg",null),ht(this,"imageScale",1),ht(this,"owners",[]),ht(this,"oriType",null),ht(this,"minType",null),ht(this,"metadata",null),ht(this,"realTimeWidth",0),ht(this,"realTimeHeight",0),ht(this,"isFromFile",!1),ht(this,"isCached",!1),ht(this,"isDestroyed",!1),ht(this,"isLoading",!1),ht(this,"isMinLoading",!1),ht(this,"isSaving",!1),ht(this,"annotations",void 0),ht(this,"ownerFiles",new zm({children:[]})),ht(this,"ownerTags",new zm({children:[]})),ht(this,"ownerDefaultFile",void 0),ht(this,"operations",[]),ht(this,"useFillColor",!1),this.uid=r.uid,this.metadata=hh({},r.metadata),this.setRealTimeSize(this.metadata.width,this.metadata.height)}return _i(t,[{key:"setRealTimeSize",value:function(r,i){this.realTimeWidth=r,this.realTimeHeight=i}},{key:"destroy",value:function(){this.isDestroyed||(this.customData=null,this.img=null,this.owners=null,this.metadata=null,this.isDestroyed=!0)}},{key:"addOwner",value:function(r){var i=this.owners;ao(i).call(i,r)<0&&i.push(r)}},{key:"removeOwner",value:function(r){var i=this.owners,o=ao(i).call(i,r);o>-1&&so(i).call(i,o,1)}},{key:"removeViewer",value:function(r){var i=this.owners,o=ao(i).call(i,r);o>-1&&so(i).call(i,o,1)}},{key:"setVisible",value:function(r){var i;ao(i=this.visible).call(i,r)<0&&this.visible.push(r)}},{key:"cancelVisible",value:function(r){var i,o,u=ao(i=this.visible).call(i,r);u>-1&&so(o=this.visible).call(o,u,1)}},{key:"setPreload",value:function(r){var i;ao(i=this.preload).call(i,r)<0&&this.preload.push(r)}},{key:"cancelPreload",value:function(r){var i,o,u=ao(i=this.preload).call(i,r);u>-1&&so(o=this.preload).call(o,u,1)}},{key:"reset",value:function(){this.minData=null,this.oriData=null,this.img=null,this.activeOri=!1,this.activeMin=!1,this.minTask=null,this.oriTask=null,this.operations=[]}}]),t}(),nle=function(){function t(){yi(this,t)}return _i(t,[{key:"apply",value:function(r){var i=r.hooks;r.statusStore=new F_;var o=function(g){var S=g.data;g.filename,g.index,lr(S).call(S,function(v){var b=new rle(v);r.statusStore.set(v.uid,b)})},u=function(g){var S=g.removedUids;lr(S).call(S,function(v){var b,C,D=r.statusStore.get(v);D&&(N_(D.minData),N_(D.oriData),D.ownerFiles.clear(),D.ownerTags.clear(),D.ownerDefaultFile=!1,(b=D.img)!==null&&b!==void 0&&b.src&&(D.img.src=""),(C=D.minImg)!==null&&C!==void 0&&C.src&&(D.minImg.src=""),D.img=null,D.minImg=null),r.statusStore.remove(v)})},d=function(g){var S=g.modifiedUid,v=g.data,b=g.revoke,C=r.statusStore.get(S);if(C){C.img=null,C.minImg=null;var D=v.metadata;D&&(C.metadata=hh({},D),C.setRealTimeSize(D.width,D.height)),b&&(N_(C.oriData),N_(C.minData)),C.reset(),r.statusStore.update(S,C)}},l=function(g){var S;lr(S=g.children).call(S,function(v){var b=r.statusStore.get(v);b&&(g.type==="file"?b.ownerFiles.remove(g.uid):g.type==="tag"&&b.ownerTags.remove(g.uid))})},c=function(g){var S=g.docUid,v=g.sourceUids,b=g.type;lr(v).call(v,function(C){var D=r.statusStore.get(C);D&&(b==="file"?D.ownerFiles.append(S):b==="tag"?D.ownerTags.append(S):b==="default"&&(D.ownerDefaultFile=!0))})},p=function(g){var S=g.docUid,v=g.sourceUids,b=g.type;lr(v).call(v,function(C){var D=r.statusStore.get(C);D&&(b==="file"?D.ownerFiles.remove(S):b==="tag"?D.ownerTags.remove(S):b==="default"&&(D.ownerDefaultFile=!0))})};i.loadSource.on(o),i.afterRemoveSource.on(u),i.updateSource.on(d),i.removeDoc.on(l),i.loadToDoc.on(c),i.removeFromDoc.on(p),i.destroy.on(function(){i.loadSource.off(o),i.afterRemoveSource.off(u),i.updateSource.off(d),i.removeDoc.off(l),i.loadToDoc.off(c),i.removeFromDoc.off(p)})}}]),t}(),ile=function(){function t(){yi(this,t)}return _i(t,[{key:"apply",value:function(r){var i=r.hooks;r.store=new tB("space_db","space_doc");var o=function(l){var c=l.data;c&&lr(c).call(c,function(p){r.store.set(p.uid,p)})},u=function(l){var c;lr(c=l.removedUids).call(c,function(p){r.store.remove(p)})},d=function(l){r.store.update(l.modifiedUid,l.data)};i.loadSource.on(o),i.removeSource.on(u),i.updateSource.on(d),i.destroy.on(function(){i.loadSource.off(o),i.removeSource.off(u),i.updateSource.off(d)})}}]),t}(),ole=function(){function t(){yi(this,t)}return _i(t,[{key:"apply",value:function(r){r.tag=new Jue,this.listenSpaceHooks(r),this.listenTagHooks(r)}},{key:"listenTagHooks",value:function(r){var i=r.tag.hooks,o=function(d){var l;lr(l=d.children).call(l,function(c){var p=r.statusStore.get(c);p&&p.ownerFiles.remove(d.uid)}),r.hooks.removeDoc.emit(d)},u=function(d){r.hooks.renameDoc.emit(d)};i.beforeRemoveTag.on(o),i.afterRenameTag.on(u),i.destroy.on(function(){i.beforeRemoveTag.off(o),i.afterRenameTag.off(u)})}},{key:"listenSpaceHooks",value:function(r){var i=r.hooks,o=function(S){var v=S.data,b=r.tag.defaultName;lr(v).call(v,function(C){var D;C.tags||(C.tags=[]),b&&ao(D=C.tags).call(D,b)<0&&C.tags.push(b)})},u=function(S){var v=S.data;lr(v).call(v,function(b){var C;(C=b.tags)===null||C===void 0||lr(C).call(C,function(D){var M=r.tag.getTag(D);r.hooks.beforeBufferChanged.emit({uids:ui((M==null?void 0:M.children)||[]),operation:"add"}),r.tag.appendChildToTag(D,b.uid);var j=r.tag.getTag(D),Y={docUid:j.uid,sourceUids:[b.uid],type:"tag"};r.hooks.loadToDoc.emit(Y),r.hooks.afterBufferChanged.emit({docType:"tag",docName:D,docUid:j==null?void 0:j.uid,uids:ui((j==null?void 0:j.children)||[]),operation:"add"})})})},d=function(S){var v=S.removedUids,b={};lr(v).call(v,function(te){var de,Z,ne=r.statusStore.get(te);ne&&lr(de=Yl(Z=ne.ownerTags.children).call(Z)).call(de,function(X){b[X]||(b[X]=[]),b[X].push(te)})});for(var C=0,D=D_(b);C<D.length;C++){var M=rh(D[C],2),j=M[0],Y=M[1],ee=r.tag.getTagByUid(j);ee&&(r.hooks.beforeBufferChanged.emit({uids:ui(ee.children),removedUids:ui(Y),operation:"remove"}),r.tag.removeChildFromTag(ee.name,Y),r.hooks.afterBufferChanged.emit({docType:"tag",docName:ee.name,docUid:j,uids:ui(ee.children),removedUids:ui(Y),operation:"remove"})),r.hooks.removeFromDoc.emit({docUid:j,sourceUids:Y,type:"tag"})}},l=function(S){S.type!=="tag"&&d({removedUids:S.children})},c=function(S){var v=S.docUid,b=S.sourceUids;if(S.type==="tag"){var C=r.tag.getTagByUid(v);C&&lr(b).call(b,function(){var D=cL(h_.mark(function M(j){var Y,ee;return h_.wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return te.prev=0,te.next=3,r.store.get(j);case 3:if(ee=te.sent,te.t0=ee&&ao(Y=ee.tags).call(Y,C.name)<0,!te.t0){te.next=9;break}return ee.tags.push(C.name),te.next=9,r.store.update(j,ee);case 9:te.next=14;break;case 11:te.prev=11,te.t1=te.catch(0);case 14:case"end":return te.stop()}},M,null,[[0,11]])}));return function(M){return D.apply(this,arguments)}}())}},p=function(S){var v=S.docUid,b=S.sourceUids;if(S.type==="tag"){var C=r.tag.getTagByUid(v);C&&lr(b).call(b,function(){var D=cL(h_.mark(function M(j){var Y,ee,te,de;return h_.wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.prev=0,Z.next=3,r.store.get(j);case 3:if(!(Y=Z.sent)){Z.next=9;break}return(de=ao(ee=Y.tags).call(ee,C.name))>-1&&so(te=Y.tags).call(te,de,1),Z.next=9,r.store.update(j,Y);case 9:Z.next=14;break;case 11:Z.prev=11,Z.t0=Z.catch(0);case 14:case"end":return Z.stop()}},M,null,[[0,11]])}));return function(M){return D.apply(this,arguments)}}())}},g=function(S){var v,b,C=r.statusStore.get(S.modifiedUid);C&&lr(v=Yl(b=C.ownerTags.children).call(b)).call(v,function(D){var M=r.tag.getTagByUid(D);M&&(r.hooks.beforeBufferChanged.emit({uids:ui(M.children),modifiedUid:S.modifiedUid,operation:"modify"}),r.hooks.afterBufferChanged.emit({docType:"tag",docName:M.name,docUid:D,uids:ui(M.children),modifiedUid:S.modifiedUid,operation:"modify"}))})};i.beforeLoadSource.on(o),i.loadSource.on(u),i.removeSource.on(d),i.removeDoc.on(l),i.loadToDoc.on(c),i.removeFromDoc.on(p),i.updateSource.on(g),i.destroy.on(function(){i.beforeLoadSource.off(o),i.loadSource.off(u),i.removeSource.off(d),i.removeDoc.off(l),i.loadToDoc.off(c),i.removeFromDoc.off(p),i.updateSource.off(g)})}}]),t}(),ale=function(t){c_(i,t);var r=k_(i);function i(){var o;return yi(this,i),ht(Mn(o=r.call(this)),"uid",ql()),ht(Mn(o),"hooks",{init:jr.create(),destroy:jr.create(),beforeLoadSource:jr.create(),loadSource:jr.create(),afterLoadSource:jr.create(),beforeRemoveSource:jr.create(),removeSource:jr.create(),afterRemoveSource:jr.create(),beforeUpdateSource:jr.create(),updateSource:jr.create(),afterUpdateSource:jr.create(),beforeBufferChanged:jr.create(),afterBufferChanged:jr.create(),directoryChanged:jr.create(),tagChanged:jr.create(),openDoc:jr.create(),loadToDoc:jr.create(),removeFromDoc:jr.create(),removeDoc:jr.create(),renameDoc:jr.create(),move:jr.create(),afterMove:jr.create(),switch:jr.create(),afterSwitch:jr.create(),reorder:jr.create(),afterReorder:jr.create()}),ht(Mn(o),"dir",void 0),ht(Mn(o),"tag",void 0),ht(Mn(o),"store",void 0),ht(Mn(o),"customStore",void 0),ht(Mn(o),"metadataStore",void 0),ht(Mn(o),"statusStore",void 0),ht(Mn(o),"defaultFile",void 0),ht(Mn(o),"plugins",[]),ht(Mn(o),"imageLoader",void 0),o.initPlugins(),o.hooks.init.emit(),o}return _i(i,[{key:"destroy",value:function(){this.hooks.destroy.emit()}},{key:"initPlugins",value:function(){new ile().apply(this),new nle().apply(this),new Xue().apply(this),new tle().apply(this),new que().apply(this),new $ue().apply(this),new ele().apply(this),new ole().apply(this)}},{key:"setImageLoader",value:function(o){this.imageLoader=o}},{key:"getCustomData",value:function(o){return this.customStore.get(o)}},{key:"setCustomData",value:function(o,u){return this.customStore.set(o,u)}},{key:"getMetadata",value:function(o){return this.metadataStore.get(o)}},{key:"setMetadata",value:function(o,u){return this.metadataStore.set(o,u)}},{key:"createStore",value:function(o){var u=o.type,d=u===void 0?"sync":u,l=o.tableName,c=o.dbName;return d==="sync"?new F_:c&&l?new tB(c,l):null}},{key:"loadSource",value:function(o,u){if(uo(o))return[];var d=o.data;if(!Jl(d))return[];var l=[];return lr(d).call(d,function(c){c.uid=ql(),l.push(c.uid)}),Dd(u)&&u(l),this.hooks.beforeLoadSource.emit(o),this.hooks.loadSource.emit(o),this.hooks.afterLoadSource.emit(o),l}},{key:"removeSource",value:function(o){var u=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];Ln(o)&&(o=[o]);var d={removedUids:o,docUid:"",trigger:this.uid,operation:"remove"};return this.hooks.beforeRemoveSource.emit(d),this.hooks.removeSource.emit(d),u&&this.hooks.afterRemoveSource.emit(d),!0}},{key:"updateSource",value:function(o,u){var d={modifiedUid:o,data:u,revoke:!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],operation:"modify"};return this.hooks.beforeUpdateSource.emit(d),this.hooks.updateSource.emit(d),this.hooks.afterUpdateSource.emit(d),!0}},{key:"getSource",value:function(o){return this.store.get(o)}},{key:"openDefault",value:function(o){var u={node:this.defaultFile,type:"default",config:o};this.hooks.openDoc.emit(u)}},{key:"createFile",value:function(o){return this.dir.createFile(o)}},{key:"removeFile",value:function(o){return this.dir.removeFile(o)}},{key:"renameFile",value:function(o,u){return this.dir.renameFile(o,u)}},{key:"openFile",value:function(o,u){var d=this.getFile(o);if(!d)return!1;var l={node:d,type:"file",config:u};return this.hooks.openDoc.emit(l),!0}},{key:"movePagesToFile",value:function(o,u,d,l){var c=this,p=this.getFile(o),g=this.getFile(d);if(!p||!g)return!1;for(var S=0;S<u.length;S++)if(u[S]<0||u[S]>=p.children.length)return!1;if(l<0)return!1;var v=jm(u).call(u,function(D){return p.children[D]});lr(v).call(v,function(D){var M=c.statusStore.get(D);M&&M.ownerFiles.remove(p.uid)}),this.dir.removeChildFromFile(p.uid,v),this.hooks.removeFromDoc.emit({docUid:p.uid,sourceUids:v}),l>g.children.length&&(l=g.children.length);var b=this.dir.appendChildrenToFile(d,v,l),C={docUid:b.uid,sourceUids:v,type:"file",index:l,isSameDoc:o===d};return lr(v).call(v,function(D){var M=c.statusStore.get(D);M&&M.ownerFiles.append(b.uid)}),this.hooks.loadToDoc.emit(C),!0}},{key:"getFile",value:function(o){return this.dir.getFile(o)}},{key:"getFileList",value:function(){return this.dir.getCurrentFileList()}},{key:"isFileExisted",value:function(o){return this.dir.isFileExist(o)}},{key:"createTag",value:function(o){return this.tag.createTag(o)}},{key:"removeTag",value:function(o){for(var u=this.getTag(o).children||[],d=0;d<u.length;d++)this.store.get(u[d]).then(function(l){var c,p,g=ao(c=(l==null?void 0:l.tags)||[]).call(c,o);g!==-1&&so(p=l.tags).call(p,g,1)});return this.tag.removeTag(o)}},{key:"renameTag",value:function(o,u){var d=this.getTag(o).children||[],l=this.tag.renameTag(o,u);if(l)for(var c=0;c<d.length;c++)this.store.get(d[c]).then(function(p){var g,S,v=ao(g=(p==null?void 0:p.tags)||[]).call(g,o);v!==-1&&so(S=p.tags).call(S,v,1,u)});return l}},{key:"openTag",value:function(o,u){var d=this.getTag(o);if(!d)return!1;var l={node:d,type:"tag",config:u};return this.hooks.openDoc.emit(l),!0}},{key:"getTag",value:function(o){return this.tag.getTag(o)}},{key:"getTagList",value:function(){return this.tag.getTagList()}},{key:"setDefaultTag",value:function(o){return this.tag.setDefaultTag(o)}},{key:"getDefaultTag",value:function(){return this.tag.getDefaultTag()}},{key:"isTagExisted",value:function(o){return this.tag.isTagExisted(o)}},{key:"addTagToSource",value:function(o,u){if(this.statusStore.get(o)){Ln(u)&&(u=[u]);for(var d=0;d<u.length;d++)if(!this.addSourceToTag(u[d],o))return!1;return!0}return!1}},{key:"removeTagFromSource",value:function(o,u){if(this.statusStore.get(o)){var d;uo(u)?u=jm(d=this.tag.tags).call(d,function(c){return c.name}):Ln(u)&&(u=[u]);for(var l=0;l<u.length;l++)if(!this.removeSourceFromTag(u[l],o))return!1;return!0}return!1}},{key:"addSourceToTag",value:function(o,u){var d=this.tag.getTag(o);if(d&&this.tag.appendChildToTag(o,u)){Ln(u)&&(u=[u]);for(var l=0;l<u.length;l++)this.store.get(u[l]).then(function(p){var g;kae(g=p.tags).call(g,o)||p.tags.push(o)});var c={sourceUids:u,docUid:d.uid,type:"tag"};return this.hooks.loadToDoc.emit(c),!0}return!1}},{key:"removeSourceFromTag",value:function(o,u){var d=this.tag.getTag(o);if(d){this.tag.removeChildFromTag(o,u),Ln(u)&&(u=[u]);for(var l=0;l<u.length;l++)this.store.get(u[l]).then(function(p){var g,S,v=ao(g=(p==null?void 0:p.tags)||[]).call(g,o);v!==-1&&so(S=p.tags).call(S,v,1)});var c={docUid:d.uid,sourceUids:u,type:"tag"};return this.hooks.removeFromDoc.emit(c),!0}return!1}},{key:"getSourceTags",value:function(o){var u,d=this,l=this.statusStore.get(o);return l?jm(u=l.ownerTags.children).call(u,function(c){return d.tag.getTagByUid(c).name}):[]}},{key:"switch",value:function(o){var u=o.one,d=o.other,l=o.type,c=o.docUid,p=o.emit,g=this.getDocNode(c,l);if(g){if(g.switch(u,d),p||uo(p)){var S={one:u,other:d,docUid:c,type:g.type,trigger:this.uid,operation:"shift"};this.hooks.switch.emit(S)}return!0}return!1}},{key:"move",value:function(o){var u=o.from,d=o.to,l=o.type,c=o.docUid,p=o.emit,g=this.getDocNode(c,l);if(g){if(g.move(u,d),p||uo(p)){var S={from:u,to:d,docUid:c,type:g.type,trigger:this.uid,operation:"shift"};this.hooks.move.emit(S)}return!0}return!1}},{key:"reorder",value:function(o){var u=o.indexes,d=o.type,l=o.docUid,c=o.emit,p=this.getDocNode(l,d);if(p&&(p.reorder(u),c||uo(c))){var g={indexes:u,docUid:l,type:p.type,trigger:this.uid,operation:"shift"};this.hooks.move.emit(g)}}},{key:"getDocNode",value:function(o,u){switch(u){case"default":return this.defaultFile;case"file":return this.dir.getFileByUid(o);case"tag":return this.tag.getTagByUid(o);default:return o===this.defaultFile.uid?this.defaultFile:this.tag.getTagByUid(o)||this.dir.getFileByUid(o)||null}}}]),i}(eB),sle={Successful:{errorCode:0,errorString:"Successful."},InvalidIndex:{errorCode:-1033,errorString:"Invalid index."},InvalidValue:{errorCode:-1034,errorString:"Invalid value."},NoImage:{errorCode:-1035,errorString:"There is no image."},UnBindViewer:{errorCode:-2210,errorString:"You cannot call this method on this WebTwain instance because it does not use the default viewer."},AlReadyBindViewer:{errorCode:-2211,errorString:"The element is already bound to the viewer."},ParameterCannotEmpty:{errorCode:-2314,errorString:"The parameter cannot be empty."},IndicesNotArray:{errorCode:-2358,errorString:"The type of the parameter indices must be an Array."},IndexOutOfRange:{errorCode:-2359,errorString:"The index is out of range."},InvalidTagName:{errorCode:-2394,errorString:"Invalid tag name."},InvalidLeftOrTopOrRightOrBottom:{errorCode:-2417,errorString:"The left or top or right or bottom you entered is invalid."},InvalidWidth:{errorCode:-2418,errorString:"The width you entered is invalid."},InvalidHeight:{errorCode:-2419,errorString:"The height you entered is invalid."},WidthOrHeightOutOfImageSize:{errorCode:-2420,errorString:"The width or height is out of image size."},MobileServer_InvalidIndex:{errorCode:-2423,errorString:"The index is invalid."},ImageEditorExist:{errorCode:-2500,errorString:"An ImageEditor already exists."},ThumbnailViewerExist:{errorCode:-2501,errorString:"A ThumbnailViewer already exists."},CustomElementExist:{errorCode:-2502,errorString:"A CustomElement already exists."},ImageEditorDispose:{errorCode:-2504,errorString:"The ImageEditor object has been disposed."},ThumbnailViewerNotExist:{errorCode:-2505,errorString:"This ThumbnailViewer doesn't exist."},ThumbnailViewerDispose:{errorCode:-2506,errorString:"The ThumbnailViewer object has been disposed."},CallbackNotAFunction:{errorCode:-2510,errorString:"The callback is not a function."},ElementRequired:{errorCode:-2511,errorString:"Parameter 'element' is required."},ElementNotExist:{errorCode:-2512,errorString:"Parameter 'element' doesn't instanceof HTMLDivElement."},InvalidPropertyValue:{errorCode:-2514,errorString:"Invalid property value."},CursorInvalidMode:{errorCode:-2519,errorString:"The current mode does not support setting the cursor to zoom."},OldTagNameRequired:{errorCode:-2517,errorString:"Old tag name is required."},NewTagNameRequired:{errorCode:-2518,errorString:"New tag name is required."},FileNameCannotEmpty:{errorCode:-2530,errorString:"Document name cannot be empty."},FileNameNotString:{errorCode:-2531,errorString:"Document name is not a string."},FileNotExist:{errorCode:-2540,errorString:"The document does not exist."},FileExist:{errorCode:-2541,errorString:"The document already exists."},CustomElementDispose:{errorCode:-2508,errorString:"The CustomElement object has been disposed."},CustomElementNotExist:{errorCode:-2507,errorString:"This CustomElement doesn't exist."},ParameterOutRange:{errorCode:80002,errorString:"The parameter is out of range."},TagNotExist:{errorCode:80009,errorString:"Tag does not exist."},TagExist:{errorCode:80010,errorString:"The tag already exists."},OperationError:{errorCode:80022,errorString:"The operation mode is wrong."}};(O_=iB||(iB={}))[O_.Normal=0]="Normal",O_[O_.Balance=1]="Balance";var ule=function(){function t(r){var i=this;yi(this,t),ht(this,"space",void 0),ht(this,"webViewer",void 0),ht(this,"isActiveFile",!1),ht(this,"isActiveTag",!1),ht(this,"currentFileName",""),ht(this,"currentTagName",""),ht(this,"bufferConfig",null),ht(this,"currentSelected",[]),ht(this,"lastCurrentSelected",[]),this.space=new ale,r&&(this.bufferConfig=r),this.space.on("bufferChanged",function(o,u){var d;if(!i.webViewer&&Dd((d=i.bufferConfig)===null||d===void 0?void 0:d.bufferChanged)){var l,c,p,g,S,v,b,C=[],D=[],M=i.getCurrentDataSet().children;lr(l=i.currentSelected).call(l,function(Y){M&&M[Y]&&C.push(M[Y])}),lr(c=i.lastCurrentSelected).call(c,function(Y){M&&M[Y]&&D.push(M[Y])});var j={afterStatus:{uids:o.afterStatus.uids,selectedUids:C,modifiedUid:(o==null||(p=o.afterStatus)===null||p===void 0?void 0:p.modifiedUid)||"",removedUids:(o==null||(g=o.afterStatus)===null||g===void 0?void 0:g.removedUids)||[],currentUid:o.afterStatus.uids[o.afterStatus.uids.length-1]||""},beforeStatus:{uids:o.beforeStatus.uids,selectedUids:D,removedUids:(o==null||(S=o.beforeStatus)===null||S===void 0?void 0:S.removedUids)||[],modifiedUid:(o==null||(v=o.beforeStatus)===null||v===void 0?void 0:v.modifiedUid)||"",currentUid:o.beforeStatus.uids[o.beforeStatus.uids.length-1]||""},operation:o.operation,docUid:o.docUid,docName:((b=i.space.dir.getFileByUid(o.docUid))===null||b===void 0?void 0:b.name)||"",total:o.afterStatus.uids.length,curIndex:o.afterStatus.uids.length-1};i.lastCurrentSelected=ui(i.currentSelected),i.bufferConfig.bufferChanged(j,u)}})}return _i(t,[{key:"e",value:function(){this.setError("Successful")}},{key:"IsFileNameExist",value:function(r){var i=this.space.getFileList();if(r==="dynamsoft-default-document")return!0;if(i){for(var o=0;o<i.length;o++)if(i[o].name===r)return!0}return!1}},{key:"getCurrentDataSet",value:function(){if(this.webViewer){var r=this.webViewer.myViewer.getCurrentTab();if(r===void 0)return!1;var i=r.type;this.isActiveFile=i==="file",this.isActiveTag=i==="tag"}if(this.isActiveFile){var o=this.getCurrentFileName(),u=this.space.getFile(o);if(u)return u}if(this.isActiveTag){var d=this.space.getTag(this.currentTagName);if(d)return d}return!1}},{key:"setError",value:function(r){var i;if(r!=="Default"){if(this.webViewer)this.webViewer.setError(r);else if(this.bufferConfig&&this.bufferConfig.viewerError){var o=sle[r],u=o.errorCode,d=o.errorString;this.bufferConfig.viewerError.setError(u,d)}}else this==null||(i=this.webViewer)===null||i===void 0||i.setDefaultError()}},{key:"emitViewerEvent",value:function(){var r,i;this.webViewer&&this.getHowManyImagesInBuffer()===0&&((r=this.webViewer)===null||r===void 0||(i=r.myViewer)===null||i===void 0||i.emit("pageRendered",-1))}},{key:"bindViewer",value:function(r){this.webViewer=r}},{key:"getCurrentTag",value:function(){return this.currentTagName}},{key:"getCurrentDocument",value:function(){return this.currentFileName}},{key:"getCurrentFileName",value:function(){var r=this,i=this.space.getFileList(),o="";return i&&lr(i).call(i,function(u){u.name===r.currentFileName&&(o=r.currentFileName)}),o}},{key:"getCurrentIndex",value:function(){if(this.webViewer)return this.webViewer.getCurrentIndex();var r=this.getSelectedImagesIndices().length;if(r<=0){var i=this.getCurrentDataSet();return!!i&&i.children.length-1}return this.getSelectedImagesIndices()[r-1]}},{key:"getHowManyImagesInBuffer",value:function(){if(this.webViewer)return this.webViewer.getHowManyImagesInBuffer();var r=this.getCurrentDataSet();return r?r.children.length:0}},{key:"getSelectedImagesIndices",value:function(){return this.webViewer?this.webViewer.getSelectedImagesIndices():this.currentSelected}},{key:"getIndexByUid",value:function(r){if(!Ln(r)||!r)return this.setError("InvalidValue"),!1;if(this.webViewer)return this.webViewer.myViewer.getIndexByUid(r);var i=this.getCurrentDataSet(),o=i.children;return!!(i&&o&&Jl(o))&&ao(o).call(o,r)}},{key:"getUidByIndex",value:function(r){if(r<0||r>=this.getHowManyImagesInBuffer())return this.setError("IndexOutOfRange"),!1;if(this.webViewer)return this.webViewer.myViewer.getUidByIndex(r);var i=this.getCurrentDataSet().children;return!(i&&i.length<r)&&i[r]}},{key:"getDataByUid",value:function(r){return this.space.getSource(r)}},{key:"updateDataByUid",value:function(r,i){return this.space.store.set(r,i)}},{key:"setCustomDataByUid",value:function(r,i){return Ln(r)&&r!==""?this.space.setCustomData(r,i):(this.setError("InvalidValue"),!1)}},{key:"getCustomDataByUid",value:function(r){return this.space.getCustomData(r)}},{key:"setMetadataByUid",value:function(r,i){return Ln(r)&&r!==""?this.space.setMetadata(r,i):(this.setError("InvalidValue"),!1)}},{key:"getMetadataByUid",value:function(r){return this.space.getMetadata(r)}},{key:"addImage",value:function(r,i,o){var u,d,l={},c=this.currentFileName,p="";!uo(o)&&Ln(o)?(this.IsFileNameExist(o)||this.createDocument(o),p=o):uo(c)||c===""?(this.space.isFileExisted("dynamsoft-default-document")||this.createDocument("dynamsoft-default-document"),this.webViewer&&(this.webViewer.bEmitBufferChanged=!1),this.openDocument("dynamsoft-default-document"),this.webViewer&&(this.webViewer.bEmitBufferChanged=!0),p="dynamsoft-default-document"):p=c,i&&(delete(d=hh({},i)).oriBlobData,i.oriBlobData&&(u=i.oriBlobData));var g=r.imageUrl,S=r.minImageUrl,v=r.imageId,b=r.serverId,C=r.uidFromServer,D=r.index;u&&(l=hh({},u)),v&&(l.imageId=v),b&&(l.serverId=b),C&&(l.uidFromServer=C);var M=this.getDocumentContents(p).length;!uo(D)&&Ad(D)?D>=M&&(D=M):D=M,this.isActiveFile&&(this.currentSelected=[D]);var j=this.space.loadSource({data:[{oriData:g,minData:S,metadata:d,customData:l}],filename:p,index:D},function(ee){var te=rh(ee,1)[0];r.uuid=te}),Y=this.getHowManyImagesInBuffer();return this.isActiveTag&&(this.currentSelected=Y>0?[Y-1]:[]),j}},{key:"insertImage",value:function(r,i,o){var u;if(o&&o>=0)this.currentSelected=[o],u=this.space.loadSource({data:[r],filename:i,index:o});else{u=this.space.loadSource({data:[r],filename:i});var d=this.getHowManyImagesInBuffer();this.currentSelected=d>0?[d-1]:[]}return u[0]}},{key:"updateImage",value:function(r,i){var o=r.imageUrl,u=r.minImageUrl,d=r.imageId,l=r.serverId,c=r.uidFromServer,p=r.uuid,g=hh({},i);return p&&p!==""&&p!==-1?(this.space.updateSource(p,{oriData:o,minData:u,metadata:g,customData:{imageId:d,serverId:l,uidFromServer:c}}),p):(this.setError("IndexOutOfRange"),!1)}},{key:"removeImageByUid",value:function(r){if(this.e(),this.webViewer){var i=this.webViewer.removePageByUid(r);return this.webViewer.resized(),this.emitViewerEvent(),i}return this.space.removeSource(r)}},{key:"removeImageByIndex",value:function(r){if(this.e(),r<0||r>=this.getHowManyImagesInBuffer())return this.setError("IndexOutOfRange"),!1;var i=this.getCurrentIndex(),o=!1;if(this.currentSelected=r===i&&r===0?this.getHowManyImagesInBuffer()>0?[0]:[]:r<=i?[i-1]:[i],this.webViewer)o=this.webViewer.removePageByIndexes(r),this.webViewer.resized(),this.emitViewerEvent();else{var u=this.getCurrentDataSet();if(!u)return!1;o=this.space.removeSource(u.children[r])}return o||this.setError("Default"),o}},{key:"removeSelectedImages",value:function(r){this.e();var i=this.getSelectedImagesIndices();Jl(r)&&r.length>0&&(i=r);var o=!1;if(this.webViewer)o=this.webViewer.removePageByIndexes(i),this.webViewer.resized(),this.emitViewerEvent();else{var u=[],d=this.getCurrentDataSet();if(!d)return!1;lr(i).call(i,function(c){d.children[c]&&d.children[c]&&u.push(d.children[c])}),o=this.space.removeSource(u)}o||this.setError("Default");var l=this.getHowManyImagesInBuffer();return this.currentSelected=l>0?[l-1]:[],o}},{key:"removeImageByIndexArr",value:function(r){if(this.e(),!Jl(r))return!1;var i=this.getCurrentDataSet();if(!i)return!1;var o,u=[];lr(r).call(r,function(l){var c=i.children[l];c&&u.push(c)}),(o=this.space.removeSource(u))||this.setError("Default"),this.webViewer&&(this.webViewer.resized(),this.emitViewerEvent());var d=this.getHowManyImagesInBuffer();return this.currentSelected=d>0?[d-1]:[],o}},{key:"removeAllImages",value:function(){this.e();var r=!1;if(this.currentSelected=[],this.webViewer)r=this.webViewer.removeAllPages(),this.webViewer.resized(),this.emitViewerEvent();else{var i=this.getCurrentDataSet();i&&(r=this.space.removeSource(ui(i.children)))}return r||this.setError("Default"),r}},{key:"tagImages",value:function(r,i){this.e();var o=this.getHowManyImagesInBuffer();if(!Jl(r))return this.setError("IndicesNotArray"),!1;if(!Ln(i)||i==="")return this.setError("InvalidTagName"),!1;for(var u=0;u<o;u++){var d=r[u];if(nh(d)||d<0||d>=o)return this.setError("IndexOutOfRange"),!1}this.space.createTag(i);for(var l=0;l<r.length;l++){var c=r[l];if(c>=0){var p=this.getUidByIndex(c);p&&p!==""&&Um(p,10)!==-1&&this.space.addTagToSource(p,i)}}return!0}},{key:"removeImageTag",value:function(r,i){if(this.e(),!Ad(r))return this.setError("InvalidValue"),!1;if(r<0||r>this.getHowManyImagesInBuffer())return this.setError("IndexOutOfRange"),!1;var o=this.getUidByIndex(r),u=!1;return o&&o!==""&&o!==-1&&(u=this.space.removeTagFromSource(o,i)),u||this.setError("Default"),u}},{key:"getDefaultTag",value:function(){return this.space.getDefaultTag()}},{key:"setDefaultTag",value:function(r){if(this.e(),!Ln(r))return this.setError("InvalidValue"),!1;if(r==="")return this.space.setDefaultTag(null),!0;var i;return this.space.createTag(r),(i=this.space.setDefaultTag(r))||this.setError("Default"),i}},{key:"removeTag",value:function(r,i){var o=this;if(this.e(),!Ln(r))return this.setError("InvalidValue"),!1;if(!uo(i)&&!Jl(i))return this.setError("IndicesNotArray"),!1;if(!this.space.isTagExisted(r))return this.setError("TagNotExist"),!1;var u=this.currentTagName,d=!1,l=!1;if(u&&(d=u===r),uo(i))l=this.space.removeTag(r),d&&this.clearFilter();else{var c=[];lr(i).call(i,function(g){var S=o.getUidByIndex(g);S!==-1&&c.push(S)});for(var p=0;p<(c==null?void 0:c.length);p++)if(!(l=this.space.removeTagFromSource(c[p],r)))return!1}return l||this.webViewer.setDefaultError(),l}},{key:"renameTag",value:function(r,i){if(this.e(),uo(r)||r==="")return this.setError("OldTagNameRequired"),!1;if(uo(i)||i==="")return this.setError("NewTagNameRequired"),!1;if(!this.space.isTagExisted(r))return this.setError("TagNotExist"),!1;if(this.space.isTagExisted(i))return this.setError("TagExist"),!1;var o;return r===this.currentTagName&&(this.currentTagName=i),(o=this.space.renameTag(r,i))?this.space.setDefaultTag(i):this.setError("Default"),o}},{key:"getTagContents",value:function(r){return this.e(),r&&Ln(r)&&r!==""?this.space.getTag(r).children:[]}},{key:"getTagList",value:function(){var r=this;this.e();var i=this.space.getTagList(),o=[];return i?lr(i).call(i,function(u){var d,l=[];lr(d=u.children).call(d,function(c){var p=r.getCustomDataByUid(c);if(p){var g=p.uidFromServer;l.push(g)}}),o.push({name:u.name,imageIds:l})}):o=[],o}},{key:"getTagListByIndex",value:function(r){if(!Ad(r))return!1;var i=this.getUidByIndex(r);return this.space.getSourceTags(i)}},{key:"clearFilter",value:function(){this.e(),this.currentTagName="";var r,i=this.getCurrentFileName();return i===""&&(i="dynamsoft-default-document"),(r=this.openDocument(i))||this.setError("Default"),r}},{key:"filterImagesByTag",value:function(r,i,o){this.e();var u=!1;if(uo(r)||r===null||r===""){this.currentTagName="";var d=this.getCurrentFileName();d===""&&(d="dynamsoft-default-document"),(u=this.openDocument(d))?Dd(i)&&i():(this.setError("Default"),Dd(o)&&o())}else{var l,c;if(!this.space.isTagExisted(r))return this.setError("TagNotExist"),Dd(o)&&o(),!1;if(this.isActiveTag=!0,this.isActiveFile=!1,this.currentTagName=r,this.setDefaultTag(r),u=this.space.openTag(r,this==null||(l=this.webViewer)===null||l===void 0||(c=l.myViewer)===null||c===void 0?void 0:c.uid)){var p=this.space.getTag(r);if(p){var g,S=(p==null||(g=p.children)===null||g===void 0?void 0:g.length)||0;this.currentSelected=S>0?[S-1]:[]}Dd(i)&&i()}else this.setError("Default"),Dd(o)&&o()}return this.webViewer&&this.webViewer.render(),u}},{key:"createDocument",value:function(r){if(this.e(),!r||r===""){var i=Ad(r)?"FileNameNotString":"FileNameCannotEmpty";return this.setError(i),!1}return Ln(r)?this.space.isFileExisted(r)?(this.setError("FileExist"),!1):!!this.space.createFile(r)||(this.setError("Default"),!1):(this.setError("FileNameNotString"),!1)}},{key:"openDocument",value:function(r,i){var o,u;if(this.e(),!r||r===""){var d=Ad(r)?"FileNameNotString":"FileNameCannotEmpty";return this.setError(d),!1}if(!Ln(r))return this.setError("FileNameNotString"),!1;if(!this.space.isFileExisted(r))return this.setError("FileNotExist"),!1;var l=i&&i!==""?i:this==null||(o=this.webViewer)===null||o===void 0||(u=o.myViewer)===null||u===void 0?void 0:u.uid,c=this.space.getFile(r);if(c){var p,g=c==null||(p=c.children)===null||p===void 0?void 0:p.length;this.currentSelected=g>0?[g-1]:[]}return this.space.openFile(r,{viewerUid:l})?(this.currentFileName=r,this.isActiveFile=!0,this.isActiveTag=!1,!0):(this.setError("Default"),!1)}},{key:"getDocumentContents",value:function(r){return this.e(),r&&Ln(r)&&r!==""?this.space.isFileExisted(r)?this.space.getFile(r).children:(this.setError("FileNotExist"),[]):[]}},{key:"renameDocument",value:function(r,i){return this.e(),Ln(r)&&Ln(i)?(r&&r!==""&&i&&i!==""||this.setError("FileNameCannotEmpty"),this.space.isFileExisted(r)?this.space.isFileExisted(i)?(this.setError("FileExist"),!1):this.space.renameFile(r,i)?(this.currentFileName===r&&(this.currentFileName=i),!0):(this.setError("Default"),!1):(this.setError("FileNotExist"),!1)):(this.setError("FileNameNotString"),!1)}},{key:"removeDocument",value:function(r){if(this.e(),!r||!Ln(r))return this.setError("FileNameNotString"),!1;if(!this.space.isFileExisted(r))return this.setError("FileNotExist"),!1;var i=this.space.removeFile(r);return i?(i&&this.webViewer&&this.webViewer.resized(),this.currentFileName===r&&(this.currentFileName=""),!0):(this.setError("Default"),!1)}},{key:"getDocumentInfoList",value:function(){var r=this;this.e();var i=this.space.getFileList(),o=[];return i?(lr(i).call(i,function(u){if(u.children){for(var d=[],l=0;l<u.children.length;l++){var c=u.children[l],p=r.getCustomDataByUid(c);if(p){var g=p.uidFromServer;d.push(g)}}o.push({imageIds:d,name:u.name})}}),o):[]}},{key:"getDocumentInfo",value:function(r){this.e();var i=this.space.getFile(r);if(!i)return this.setError("FileNotExist"),{imageIds:[],length:0};for(var o=[],u=0;u<i.children.length;u++){var d=i.children[u],l=this.getCustomDataByUid(d);if(l){var c=l.uidFromServer;o.push(c)}}return{imageIds:o,length:o.length}}},{key:"selectImages",value:function(r){this.e();var i=!0;if(!r||!Jl(r))return!1;if(this.webViewer){var o=this.webViewer.getIfAutoScroll();o===!1&&this.webViewer.setIfAutoScroll(!0),i=this.webViewer.selectPages(r),o===!1&&this.webViewer.setIfAutoScroll(!1)}else{for(var u=this.getHowManyImagesInBuffer(),d=0;d<r.length;d++)if(!Ad(r[d])||r[d]<0||r[d]>=u)return this.setError("ParameterOutRange"),!1;i=!0}return i?this.currentSelected=r:this.setError("Default"),i}},{key:"selectAllImages",value:function(){this.e();var r=!0;if(this.webViewer)r=this.webViewer.myViewer.selectAll(),this.currentSelected=this.webViewer.getSelectedImagesIndices();else{var i,o=this.getCurrentDataSet();this.currentSelected=Gae(Xae(i=new Array(o.children.length)).call(i))}return r||this.setError("Default"),r}},{key:"moveImage",value:function(r,i){this.e();var o=Um(r,10),u=Um(i,10);if(nh(r)||nh(i))return this.setError("InvalidIndex"),!1;var d=this.getHowManyImagesInBuffer();if(o<0||o>=d||u<0||u>d)return this.setError("IndexOutOfRange"),!1;var l=!1;if(this.webViewer)l=this.webViewer.myViewer.movePage(r,i);else{var c=this.getCurrentDataSet();if(!c)return!1;c.children.length>i&&(this.currentSelected=[i]),l=this.space.move({docUid:c.uid,type:c.type,from:r,to:i})}return l||this.setError("Default"),l}},{key:"switchImage",value:function(r,i){this.e();var o=Um(r,10),u=Um(i,10);if(nh(r)||nh(i))return this.setError("InvalidIndex"),!1;var d=this.getHowManyImagesInBuffer(),l=this.getCurrentIndex();if(o<0||o>=d||u<0||u>d)return this.setError("IndexOutOfRange"),!1;var c=!1;if(this.webViewer)c=this.webViewer.myViewer.switchPage(r,i);else{var p=this.getCurrentDataSet();if(!p)return!1;c=this.space.switch({docUid:p.uid,type:p.type,one:r,other:i})}c||this.setError("Default");var g=l;return o===l?g=u:u===l&&(g=o),this.currentSelected=[g],c}},{key:"moveImageToFile",value:function(r,i,o,u){if(!this.space.isFileExisted(r)||!this.space.isFileExisted(o))return this.setError("FileNotExist"),!1;i=ui(new Que(i));var d=this.getDocumentInfo(r).length;if(!Jl(i)||i.length>d)return this.setError("ParameterOutRange"),!1;var l=this.getDocumentInfo(o).length,c=this.space.movePagesToFile(r,i,o,u);if(!this.webViewer&&this.isActiveFile){var p=this.getHowManyImagesInBuffer();r===this.currentFileName&&(this.currentSelected=p>0?[p-1]:[]),o===this.currentFileName&&(Ad(u)&&u<l&&u>=0?this.currentSelected=[u+i.length-1]:this.currentSelected=p>0?[p-1]:[])}return c}}]),t}();HTMLCanvasElement.prototype.toBlob||qj(HTMLCanvasElement.prototype,"toBlob",{value:function(t,r,i){for(var o=atob(this.toDataURL(r,i).split(",")[1]),u=o.length,d=new Uint8Array(u),l=0;l<u;l++)d[l]=o.charCodeAt(l);t(new Blob([d],{type:r||"image/png"}))}});var ph=function(t){function r(i){var o;if(h(this,r),o=f(this,r),i)o._baseUrl=i._baseUrl,o._buffer=i._buffer,o._serverIdMap=i._serverIdMap,o._uidMap=i._uidMap;else{var u=o,d={bufferChanged:function(l,c){u.fire("bufferChanged",[l,c])},viewerError:{setError:function(l,c){u._error={code:l,message:c},u.fire("error",u._error)}}};o._baseUrl="",o._buffer=new ule(d),o._serverIdMap={},o._uidMap={}}return o}return P(r,t),y(r,[{key:"getError",value:function(){return this._error}},{key:"BaseUrl",get:function(){return this._baseUrl}},{key:"getImageUrl",value:function(i){var o=this.convertClientIndexToServerId(i),u=Date.now();return Fr.getImageUrl(this._baseUrl,o,-1,-1,u)}},{key:"getMinImageUrl",value:function(i,o,u){var d=this.convertClientIndexToServerId(i),l=Date.now();return d&&o&&u?Fr.getImageUrl(this._baseUrl,d,parseInt(o),parseInt(u),l):""}},{key:"append",value:function(i,o,u,d,l){var c,p,g,S,v=Date.now(),b=o,C=u;if(c={imageId:b,serverId:o,uidFromServer:C,imageUrl:g=Fr.getImageUrl(this._baseUrl,b,-1,-1,v),minImageUrl:p=d&&d.controlWidth&&d.controlWidth>0&&d.controlHeight&&d.controlHeight>0?V.navInfoSync.bMobile?Fr.getImageUrl(this._baseUrl,b,Math.round(d.controlWidth*devicePixelRatio),Math.round(d.controlHeight*devicePixelRatio),v):Fr.getImageUrl(this._baseUrl,b,parseInt(d.controlWidth),parseInt(d.controlHeight),v):g},S=d.currentFileName.length>0?this._buffer.addImage(c,d,d.currentFileName):this._buffer.addImage(c,d)){var D=L(S,1)[0],M=this._buffer.getCustomDataByUid(D);return M.serverId=b,M.uidFromServer=C,this._innerInsertModel(b,C,D,g,p),D}return!1}},{key:"insertBefore",value:function(i,o,u,d,l){var c,p,g,S=Date.now(),v=u,b=d;c={index:i,imageId:v,serverId:v,uidFromServer:b,imageUrl:g=Fr.getImageUrl(this._baseUrl,v,-1,-1,S),minImageUrl:p=l&&l.controlWidth&&l.controlWidth>0&&l.controlHeight&&l.controlHeight>0?V.navInfoSync.bMobile?Fr.getImageUrl(this._baseUrl,v,Math.round(l.controlWidth*devicePixelRatio),Math.round(l.controlHeight*devicePixelRatio),S):Fr.getImageUrl(this._baseUrl,v,parseInt(l.controlWidth),parseInt(l.controlHeight),S):g};var C=this._buffer.addImage(c);if(C){var D=L(C,1)[0],M=this._buffer.getCustomDataByUid(D);return M.serverId=v,M.uidFromServer=b,this._innerInsertModel(v,b,D,g,p),this._buffer.openDocument(this.getCurrentFileName()),D}return!1}},{key:"_innerInsertModel",value:function(i,o,u,d,l){var c=new Ty;c.serverId=i,c.uidFromServer=o,c.uuid=u,c.imageUrl=d,c.minImageUrl=l,this._serverIdMap[i]=c,this._uidMap[o]=c}},{key:"refresh",value:function(i,o,u,d){var l=1*i;if(u){var c=this.count();if(l<0||l>c)return!1;this._setDataImageControl(l,d)}return!0}},{key:"refreshByImageId",value:function(i,o,u){var d=i;return o&&this._setDataImageControl(d,u,!0),!0}},{key:"_setDataImageControl",value:function(i,o,u){var d,l,c,p,g,S,v=this,b=v._baseUrl;if(u)g=i;else if(g=(p=v.getCustomDataByIndex(i)).serverId,S=p.uidFromServer,g<=0)return!1;if((d=v.getImageIdMap(g))||((d=new Ty).serverId=g,d.uidFromServer=S,v._serverIdMap[g]=d,v._uidMap[S]=d),b){d!=null&&(d.ticks=Date.now()),l=Fr.getImageUrl(b,g,-1,-1,d.ticks),c=o&&o.controlWidth&&o.controlWidth>0&&o.controlHeight&&o.controlHeight>0?V.navInfoSync.bMobile?Fr.getImageUrl(b,g,Math.round(o.controlWidth*devicePixelRatio),Math.round(o.controlHeight*devicePixelRatio),d.ticks):Fr.getImageUrl(b,g,parseInt(o.controlWidth),parseInt(o.controlHeight),d.ticks):l,d.imageUrl=l,d.minImageUrl=c,o&&(o.height&&(d.height=o.height),o.width&&(d.width=o.width));var C=m.clone(d);C.imageId=g,v._buffer.updateImage(C,o)}return!0}},{key:"convertIndicesToServerIds",value:function(i){var o,u=i.length,d=[];for(o=0;o<u;o++){var l=this.convertClientIndexToServerId(i[o]);l!=-1&&d.push(l)}return d}},{key:"removeImagesByServerId",value:function(i,o){var u=this,d=o??this._buffer.getCurrentDocument(),l=[];return m.each(i,function(c,p){var g=parseInt(c);u._removeMapModelImageControlByServerId(g);var S=-1;return S=u._buffer.isActiveFile?u._convertServerIdToIndexInFile(d,g):u._convertServerIdToIndex(g),!isNaN(S)&&!(S<0||S>=u.count())&&void l.push(S)}),l.length>0&&u._buffer.removeImageByIndexArr(l)}},{key:"removeByServerId",value:function(i,o,u){var d=this,l=u??this._buffer.getCurrentDocument();d._removeMapModelImageControlByServerId(i);var c=-1;return c=this._buffer.isActiveFile?this._convertServerIdToIndexInFile(l,i):o,!isNaN(c)&&!(c<0||c>=d.count())&&d._buffer.removeImageByIndex(c)}},{key:"exists",value:function(i){if(this._serverIdMap[i])return!0;var o=-1;if(this._buffer.isActiveFile){var u=this.getCurrentFileName();o=this._convertServerIdToIndexInFile(u,i)}else o=this._convertServerIdToIndex(i);return o>-1}},{key:"removeImages",value:function(i){var o,u,d;for(d=i.length,o=0;o<d;o++)u=this.convertClientIndexToServerId(i[o]),this._removeMapModelImageControlByServerId(u);return this._buffer.removeSelectedImages(i)}},{key:"clear",value:function(){var i,o,u,d=this;for(u=d.count(),i=0;i<u;i++)o=d.convertClientIndexToServerId(i),this._removeMapModelImageControlByServerId(o);return u==Object.keys(d._serverIdMap).length&&(d._serverIdMap={},d._uidMap={}),d._buffer.removeAllImages()}},{key:"_uidFromServer2index",value:function(i){var o,u,d,l=this;if((d=l._uidMap[i])&&(u=d.uuid),u&&u!=-1)o=l._buffer.getIndexByUid(u);else if(l._buffer.isActiveFile){var c=this.getCurrentFileName();o=this._convertUidFromServerToIndexInFile(c,i)}else o=this._convertUidFromServerToIndex(i);return m.isNumber(o)||(o=-1),o}},{key:"_serverId2uidFromServer",value:function(i){if(i&&i>0){var o,u,d;if((d=this._serverIdMap[i])&&(u=d.uidFromServer))return u;if((o=this.convertServerIdToClientIndex(i))>=0)return this._index2uidFromServer(o)}return-1}},{key:"_uidFromServer2ServerId",value:function(i){if(i){var o,u,d;if((d=this._uidMap[i])&&(u=d.serverId))return u;if((o=this._uidFromServer2index(i))>=0)return this.convertClientIndexToServerId(o)}return-1}},{key:"_index2uidFromServer",value:function(i){var o=this.getCustomDataByIndex(i);return o?o.uidFromServer:-1}},{key:"convertServerIdToClientIndex",value:function(i){var o,u,d,l=this;if((d=l._serverIdMap[i])&&(u=d.uuid),u&&u!=-1)o=l._buffer.getIndexByUid(u);else if(l._buffer.isActiveFile){var c=this.getCurrentFileName();o=this._convertServerIdToIndexInFile(c,i)}else o=this._convertServerIdToIndex(i);return m.isNumber(o)||(o=-1),o}},{key:"getIndexByUid",value:function(i){var o;return(o=this._buffer.getIndexByUid(i))===!1?-1:o}},{key:"getUidByIndex",value:function(i){return this._buffer.getUidByIndex(i)}},{key:"convertClientIndexToServerId",value:function(i){var o=this.getCustomDataByIndex(i);return o?o.serverId:-1}},{key:"getCurrentImageIndex",value:function(){var i=this._buffer.getCurrentIndex();return m.isBoolean(i)?-1:i}},{key:"setCurrentImageIndex",value:function(i){return this._buffer.selectImages([i])}},{key:"getCurrentFileName",value:function(){return this._buffer.getCurrentFileName()}},{key:"setDefaultTag",value:function(i){return this._buffer.setDefaultTag(i)}},{key:"getDefaultTag",value:function(){return this._buffer.getDefaultTag()}},{key:"count",value:function(){return this._buffer.getHowManyImagesInBuffer()}},{key:"getCountByDocumentName",value:function(i){return this._buffer.getDocumentInfo(i).length}},{key:"dispose",value:function(){this.clear(),this._buffer=null,this._baseUrl=null,this._serverIdMap=null,this._uidMap=null,this._error=null}},{key:"getImageData",value:function(i){var o=this._buffer.getUidByIndex(i);return o?this._buffer.getDataByUid(o):Q.Promise.resolve(null)}},{key:"getCustomDataByIndex",value:function(i){return this._buffer.getCustomDataByUid(this._buffer.getUidByIndex(i))}},{key:"getMetadataByIndex",value:function(i){return this._buffer.getMetadataByUid(this._buffer.getUidByIndex(i))}},{key:"setCustomData",value:function(i,o){var u=this._buffer.getUidByIndex(i);return!(!u||!o)&&this._buffer.setCustomDataByUid(u,o)}},{key:"openDocument",value:function(i){return this._buffer.openDocument(i)}},{key:"createDocument",value:function(i){return this._buffer.createDocument(i)}},{key:"getImageIdMap",value:function(i){return this._serverIdMap[i]}},{key:"_removeMapModelImageControlByServerId",value:function(i){var o=this;if(i>0&&o._serverIdMap[i]){var u=o._serverIdMap[i],d=u.uidFromServer;u.Clear(),delete o._serverIdMap[i],delete o._uidMap[d]}}},{key:"_convertServerIdToIndexInFile",value:function(i,o){var u,d,l=-1;for(u=this._buffer.getDocumentContents(i),d=0;d<u.length;d++){var c=u[d];if(c){var p=this._buffer.getCustomDataByUid(c);if(p&&p.serverId==o){l=d;break}}}return l}},{key:"_convertServerIdToIndex",value:function(i){var o,u=-1;for(o=0;o<this.count();o++){var d=this._buffer.getUidByIndex(o);if(d){var l=this._buffer.getCustomDataByUid(d);if(l&&l.serverId==i){u=o;break}}}return u}},{key:"_convertUidFromServerToIndexInFile",value:function(i,o){var u,d,l=-1;for(u=this._buffer.getDocumentContents(i),d=0;d<u.length;d++){var c=u[d];if(c){var p=this._buffer.getCustomDataByUid(c);if(p&&p.uidFromServer==o){l=d;break}}}return l}},{key:"_convertUidFromServerToIndex",value:function(i){var o,u=-1;for(o=0;o<this.count();o++){var d=this._buffer.getUidByIndex(o);if(d){var l=this._buffer.getCustomDataByUid(d);if(l&&l.uidFromServer==i){u=o;break}}}return u}},{key:"convertUUIDToServerId",value:function(i){var o=this._buffer.getCustomDataByUid(i);return o&&o.serverId!=-1?o.serverId:-1}},{key:"UpdateImage",value:function(i,o){return this._buffer.updateImage(i,o),!0}}],[{key:"_setBaseUrl",value:function(i,o){i._baseUrl=o}},{key:"_getBuffer",value:function(i){return i._buffer}}])}(GC),lle=function(t){function r(u){var d;h(this,r);var l=d=f(this,r,[u]);d.__IfAppendImage=st,d.__maxImagesInBuffer=32767,d.__insertingIndex=-1,d._aryBitmapCache=[],d._imageBufferWrapper=new ph,d._imageBufferWrapper.on("bufferChanged",function(p){if(m.isFunction(l.__OnBufferChanged)){var g,S,v,b=p[0],C=[],D=-1,M=[];for(b.operation&&(b.action=b.operation),S=0;S<l._imageBufferWrapper.count();S++)(g=l._imageBufferWrapper.getCustomDataByIndex(S))&&g.serverId&&C.push(l._imageBufferWrapper._serverId2uidFromServer(g.serverId));if(b.imageIds=C,b.curIndex>=0&&(g=l._imageBufferWrapper.getCustomDataByIndex(b.curIndex))&&g.serverId&&(D=l._imageBufferWrapper._serverId2uidFromServer(g.serverId)),b.currentId=D,b.operation=="modify"&&b.afterStatus.modifiedUid!=""){var j=l._imageBufferWrapper.getIndexByUid(b.afterStatus.modifiedUid);j>=0&&(g=l._imageBufferWrapper.getCustomDataByIndex(j))&&g.serverId&&(b.modifiedId=l._imageBufferWrapper._serverId2uidFromServer(g.serverId))}if(b.afterStatus.selectedUids)for(v=0;v<b.afterStatus.selectedUids.length;v++){var Y=b.afterStatus.selectedUids[v];if(Y&&Y!=-1){var ee=l._imageBufferWrapper.getIndexByUid(b.afterStatus.selectedUids[v]);ee>=0&&(g=l._imageBufferWrapper.getCustomDataByIndex(ee))&&g.serverId&&M.push(l._imageBufferWrapper._serverId2uidFromServer(g.serverId))}}b.selectedIds=M,m.mix(b,{}),delete b.uids,delete b.currentUid,delete b.selectedUids,delete b.afterStatus,delete b.beforeStatus,delete b.operation,delete b.curIndex,delete b.docUid;try{return l.__OnBufferChanged(b)}catch(te){qr(te)}}}),d._imageBufferWrapper.on("error",function(p){l._errorCode=p.code,l._errorString=p.message});var c=No.getServerImageUrlPrefix(d);return ph._setBaseUrl(d._imageBufferWrapper,c),d}return P(r,t),y(r,[{key:"_OnActiveUIClearBuffer",value:function(){var u=this.__OnBufferChanged;this.__OnBufferChanged=null,this._imageBufferWrapper.clear(),this.__OnBufferChanged=u}},{key:"_registerMultiEvent",value:function(u,d){var l=this;if(l._resetErr(),!l._isValid())return!1;var c=["_$",u].join("");l[c]||(l[c]={});var p=l[c],g=m.guid();return p[g]=d,g}},{key:"_unregisterMultiEvent",value:function(u,d){var l=this;if(l._resetErr(),!l._isValid())return!1;var c=["_$",u].join(""),p=l[c];if(d){var g;if(m.isString(d))return delete p[d],st;if(m.isFunction(d)){for(g=0;g<p.length;g++)if(d==p[g])return p.splice(g,1),st}}return l[c]=null,st}},{key:"_getMetadata",value:function(u){return this._imageBufferWrapper.getMetadataByIndex(u)}},{key:"_updateImage",value:function(u,d,l){var c,p,g,S,v=gy.Auto,b=this;return l&&(l.width!=null&&(g=parseInt(l.width)),l.height!=null&&(S=parseInt(l.height)),v=m.isNumber(g)&&m.isNumber(S)&&d.byteLength===g*S*4?gy.RGBA:gy.Auto),c={imageId:u,serverId:u,bufferLen:d.byteLength,imageType:v},l&&v==gy.RGBA&&(c.width=g,c.height=S,l.bitDepth!=null&&(c.bit=l.bitDepth),l.resolutionX!=null&&(c.xres=parseInt(l.resolutionX)),l.resolutionY!=null&&(c.yres=parseInt(l.resolutionY)),l.uid!=null&&(c.uidFromServer=l.uid)),p=m.stringify([m.stringify(c)]),new Q.Promise(function(C,D){b._innerSendBlobByWS("UpdateImage",p,d,function(M){m.log("UpdateImage success."),C(M)},function(M){m.log("UpdateImage failed."),m.error(M),D({code:b._errorCode,message:b._errorString})})})}},{key:"_removeImages",value:function(u){return this._imageBufferWrapper.removeImages(u)}},{key:"_getCurrentDocumentName",value:function(){var u="";return this._imageBufferWrapper&&(u=this._imageBufferWrapper.getCurrentFileName()),u}},{key:"_getCurrentDefaultTagName",value:function(){var u="";return this._imageBufferWrapper&&(u=this._imageBufferWrapper.getDefaultTag()||""),u}},{key:"_innerRefreshUI",value:function(u,d,l,c,p){var g=this;return l&&g._imageBufferWrapper.refresh(u,g._imageBufferWrapper.count(),!0,c),m.isFunction(g.__OnRefreshUI)&&g.__OnRefreshUI(g._imageBufferWrapper.getCurrentImageIndex(),g._imageBufferWrapper.count()),!0}},{key:"_innerRefreshUIByImageId",value:function(u,d,l,c){var p=this;return d&&p._imageBufferWrapper.refreshByImageId(u,!0,l),m.isFunction(p.__OnRefreshUI)&&p.__OnRefreshUI(p._imageBufferWrapper.getCurrentImageIndex(),p._imageBufferWrapper.count()),!0}},{key:"_getHowManyImagesInBuffer",value:function(){return this._isValid()?this._imageBufferWrapper.count():0}},{key:"_OnBitmapChanged",value:function(u,d,l){var c,p,g,S=this,v=u[0]=="m1",b=u[0]=="c1",C=u[0]=="c2",D=b||C||v,M=u[1].split(","),j=u[2],Y=u[3],ee=S.__maxImagesInBuffer,te=-1,de=!1,Z=[];if(l&&(c=l.document,p=l.tag,l.bNeedClearTag&&(g=l.bNeedClearTag)),m.log("_OnBitmapChanged.currentFileName="+c+", tag="+p),c?c!=S._getCurrentDocumentName()&&(de=!0):c=S._getCurrentDocumentName(),S._imageBufferWrapper&&(p?(S._imageBufferWrapper.setDefaultTag(p),m.log("metaDataObj.currentTag="+p)):g&&(S._imageBufferWrapper.setDefaultTag(""),m.log("metaDataObj.currentTag=''"))),!v)if(C)u.length>5&&(Z=u[5]),m.isArray(Z)||(Z=[]);else{var ne={};if(u.length>5&&(ne.width=u[5]),u.length>6&&(ne.height=u[6]),u.length>7&&(ne.bitDepth=u[7]),u.length>8&&(ne.resolutionX=u[8]),u.length>9&&(ne.resolutionY=u[9]),u.length>10&&(te=u[10]),u.length>11&&m.isString(u[11])&&(ne.uidFromServer=u[11]),Z.push(ne),te>-1&&S._canConsume()&&(j==oi.enumBCAppend||j==oi.enumBCInsert)){var X=V.DWT.lgct(te);m.isFunction(S.__OnLtsverify)&&S.__OnLtsverify(X,1)}}if(m.log("OnBitmapChanged:"+u),j==oi.enumBCInsert||j==oi.enumBCAppend&&!S.__IfAppendImage||l&&j==oi.enumBCAppend&&l.index>=0)m.each(M,function(oe,fe){var ae,ue,ve=parseInt(oe),be=S._imageBufferWrapper.getCurrentImageIndex();if(fe<Z.length&&Z[fe]?(ae=(ue=Z[fe]).uidFromServer,delete ue.uidFromServer):ue={},ue.currentFileName=c,isNaN(ve)||ve<0)return!0;if(D)S._aryBitmapCache.push(ve);else for(var Ce=0;Ce<S._aryBitmapCache.length;Ce++)if(S._aryBitmapCache[Ce]==ve)return S._aryBitmapCache.splice(Ce,1),!0;if(S._imageBufferWrapper.exists(ve))return!0;S.__insertingIndex>-1&&(be=S.__insertingIndex),ue.controlWidth=400,ue.controlHeight=400,S._controlWidth&&S._controlWidth>400&&(ue.controlWidth=S._controlWidth),S._controlHeight&&S._controlHeight>400&&(ue.controlHeight=S._controlHeight),be==-1&&(be=0),l.index>=0&&(be=l.index),S._imageBufferWrapper.insertBefore(be,ee,ve,ae,ue),S.__insertingIndex>-1&&(S.__insertingIndex=S.__insertingIndex+1),l.index++}),m.isFunction(S.__OnRefreshUI)&&S.__OnRefreshUI(S._imageBufferWrapper.getCurrentImageIndex(),S._imageBufferWrapper.count());else if(j==oi.enumBCAppend&&S.__IfAppendImage)m.each(M,function(oe,fe){var ae,ue,ve=parseInt(oe);if(isNaN(ve)||ve<0)return!0;if(fe<Z.length&&Z[fe]?(ae=(ue=Z[fe]).uidFromServer,delete ue.uidFromServer):ue={},ue.currentFileName=c,m.log("metaDataObj.currentFileName="+c),D)S._aryBitmapCache.push(ve);else for(var be=0;be<S._aryBitmapCache.length;be++)if(S._aryBitmapCache[be]==ve)return S._aryBitmapCache.splice(be,1),!0;if(S._imageBufferWrapper.exists(ve))return!0;ue.controlWidth=400,ue.controlHeight=400,S._controlWidth&&S._controlWidth>400&&(ue.controlWidth=S._controlWidth),S._controlHeight&&S._controlHeight>400&&(ue.controlHeight=S._controlHeight),de?S._imageBufferWrapper.append(ee,ve,ae,ue,c):S._imageBufferWrapper.append(ee,ve,ae,ue)}),m.isFunction(S.__OnRefreshUI)&&S.__OnRefreshUI(S._imageBufferWrapper.getCurrentImageIndex(),S._imageBufferWrapper.count());else if(j==oi.enumBCRemove&&D){var F=!1;if(M.length==1&&M[0]==-1&&(F=!0),F)S._imageBufferWrapper.clear();else{var B=[];m.each(M,function(oe,fe){var ae=parseInt(oe);if(isNaN(ae)||ae<0)return!0;B.push(ae)}),S._imageBufferWrapper.removeImagesByServerId(B,c)}m.isFunction(S.__OnRefreshUI)&&S.__OnRefreshUI(S._imageBufferWrapper.getCurrentImageIndex(),S._imageBufferWrapper.count())}else if(j==oi.enumBCEdit||j==oi.enumBCUpdate)m.each(M,function(oe,fe){var ae,ue=parseInt(oe);if(isNaN(ue)||ue<0)return!0;if(fe<Z.length&&Z[fe]?delete(ae=Z[fe]).uidFromServer:ae={},ae.currentFileName=c,ue>=0&&!S.__bLoadingImage){var ve=S._imageBufferWrapper.convertServerIdToClientIndex(ue);ve>-1?S._innerRefreshUI(ve,S._imageBufferWrapper.count(),!0,ae,j):l.bNeedRefresh&&S._innerRefreshUIByImageId(ue,!0,ae,j)}});else if(j==oi.enumBCIndexChange){var U;Y>=0&&!S.__bLoadingImage&&((U=0<Z.length&&Z[0]?Z[0]:{}).currentFileName=c,S.__IfAppendImage==0&&S._innerRefreshUI(Y,S._imageBufferWrapper.count(),!0,U,j),S._imageBufferWrapper.refresh(Y,S._imageBufferWrapper.count(),!1,U))}if(m.isFunction(S.__OnBitmapChanged)){if(!v){if(D){if(j!=oi.enumBCRemove)return!0}else if(j==oi.enumBCRemove)return!0}var K=[];m.each(M,function(oe){var fe,ae=parseInt(oe);if(isNaN(ae)||ae<0)return!0;(fe=S._imageBufferWrapper.convertServerIdToClientIndex(ae))>-1&&K.push(fe)});var q=S._imageBufferWrapper.getCurrentImageIndex(),re=j;j==oi.enumBCAppend&&(re=S.__IfAppendImage?oi.enumBCAppend:oi.enumBCInsert),S.__OnBitmapChanged(K,re,q,S._imageBufferWrapper.count())}}},{key:"_removeImageAsync",value:(o=s(E().mark(function u(d,l){var c,p,g;return E().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(c=this,p=parseInt(l),wi(c,p)){S.next=4;break}return S.abrupt("return",!1);case 4:return g=c._imageBufferWrapper.convertClientIndexToServerId(p),S.next=7,c._removeImageByIdAsync(g);case 7:return S.abrupt("return",S.sent);case 8:case"end":return S.stop()}},u,this)})),function(u,d){return o.apply(this,arguments)})},{key:"_removeImageByIdAsync",value:(i=s(E().mark(function u(d){var l,c;return E().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(l=this,d!=-1){p.next=4;break}return nt(l),p.abrupt("return",!1);case 4:return p.next=6,l._innerFunV2("RemoveImage",Ge(d));case 6:return((c=p.sent)||l._errorCode==-1033)&&l._OnBitmapChanged(["c1",""+d,3,l._imageBufferWrapper.getCurrentImageIndex(),l._imageBufferWrapper.count()]),p.abrupt("return",c);case 9:case"end":return p.stop()}},u,this)})),function(u){return i.apply(this,arguments)})}]);var i,o}(No),Os=function(t){return t.Text=0,t.Blob=1,t.ArrayBuffer=2,t.XML=3,t.JSON=4,t.UserDefined=5,t}({}),sr=function(t){return t.Other=0,t.HTTPUpload=1,t.HTTPDownload=2,t.FTPUpload=3,t.FTPDownload=4,t.Scan=5,t.LoadImage=6,t.ConvertToBlob=7,t.HTTPPut=8,t}({}),Pa={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function cle(t,r){if(m.isFunction("_".repeat))return t.repeat(r);for(var i=0,o=[];i<r;i++)o.push(t);return o.join("")}var vE=Object.create?Object.create(null):{};function yE(t,r,i,o){return function(u,d){var l,c,p,g,S,v,b,C,D,M=1,j=u.length,Y="";for(c=0;c<j;c++)if(typeof u[c]=="string")Y+=u[c];else if(N(u[c])==="object"){if((g=u[c]).keys)for(l=d[M],p=0;p<g.keys.length;p++){if(l==null)throw new Error(yE('[sprintf] Cannot access property "%s" of undefined value "%s"',g.keys[p],g.keys[p-1]));l=l[g.keys[p]]}else l=g.param_no?d[g.param_no]:d[M++];if(Pa.not_type.test(g.type)&&Pa.not_primitive.test(g.type)&&l instanceof Function&&(l=l()),Pa.numeric_arg.test(g.type)&&typeof l!="number"&&isNaN(l))throw new TypeError(yE("[sprintf] expecting number but found %T",l));switch(Pa.number.test(g.type)&&(C=l>=0),g.type){case"b":l=parseInt(l,10).toString(2);break;case"c":l=String.fromCharCode(parseInt(l,10));break;case"d":case"i":l=parseInt(l,10);break;case"j":l=m.stringify(l,null,g.width?parseInt(g.width):0);break;case"e":l=g.precision?parseFloat(l).toExponential(g.precision):parseFloat(l).toExponential();break;case"f":l=g.precision?parseFloat(l).toFixed(g.precision):parseFloat(l);break;case"g":l=g.precision?String(Number(l.toPrecision(g.precision))):parseFloat(l);break;case"o":l=(parseInt(l,10)>>>0).toString(8);break;case"s":l=String(l),l=g.precision?l.substring(0,g.precision):l;break;case"t":l=String(!!l),l=g.precision?l.substring(0,g.precision):l;break;case"T":l=Object.prototype.toString.call(l).slice(8,-1).toLowerCase(),l=g.precision?l.substring(0,g.precision):l;break;case"u":l=parseInt(l,10)>>>0;break;case"v":l=l.valueOf(),l=g.precision?l.substring(0,g.precision):l;break;case"x":l=(parseInt(l,10)>>>0).toString(16);break;case"X":l=(parseInt(l,10)>>>0).toString(16).toUpperCase()}Pa.json.test(g.type)?Y+=l:(!Pa.number.test(g.type)||C&&!g.sign?D="":(D=C?"+":"-",l=l.toString().replace(Pa.sign,"")),v=g.pad_char?g.pad_char==="0"?"0":g.pad_char.charAt(1):" ",b=g.width-(D+l).length,S=g.width&&b>0?cle(v,b):"",Y+=g.align?D+l+S:v==="0"?D+S+l:S+D+l)}return Y}(function(u){if(vE[u])return vE[u];for(var d,l=u,c=[],p=0;l;){if((d=Pa.text.exec(l))!==null)c.push(d[0]);else if((d=Pa.modulo.exec(l))!==null)c.push("%");else{if((d=Pa.placeholder.exec(l))===null)throw new SyntaxError("[sprintf] unexpected placeholder");if(d[2]){p|=1;var g=[],S=d[2],v=[];if((v=Pa.key.exec(S))===null)throw new SyntaxError("[sprintf] failed to parse named argument key");for(g.push(v[1]);(S=S.substring(v[0].length))!=="";)if((v=Pa.key_access.exec(S))!==null)g.push(v[1]);else{if((v=Pa.index_access.exec(S))===null)throw new SyntaxError("[sprintf] failed to parse named argument key");g.push(v[1])}d[2]=g}else p|=2;if(p===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");c.push({placeholder:d[0],param_no:d[1],keys:d[2],sign:d[3],pad_char:d[4],align:d[5],width:d[6],precision:d[7],type:d[8]})}l=l.substring(d[0].length)}return vE[u]=c,c}(t),arguments)}function sa(t,r){if(m.isString(t)){var i,o,u,d,l,c=t.indexOf("<%");if(c==-1||(o=t.substring(0,c),!(c+2<(i=t.indexOf(">",o)))))return t;u=t.substring(c+1,i),d=t.substring(i+1);try{l=yE(u,r)}catch{l=""}return[o,l,d].join("")}return""}function M_(t,r){var i,o=t.substring(t.lastIndexOf(".")).toLowerCase();if(r==V.DWT.EnumDWT_ImageType.IT_BMP){if(o==".bmp"||o==".dib")return t;i=[t,".bmp"].join("")}else if(r==V.DWT.EnumDWT_ImageType.IT_JPG){if(o==".jpg"||o==".jpe"||o==".jpeg"||o==".jfif")return t;i=[t,".jpg"].join("")}else if(r==V.DWT.EnumDWT_ImageType.IT_PNG){if(o==".png")return t;i=[t,".png"].join("")}else if(r==V.DWT.EnumDWT_ImageType.IT_TIF){if(o==".tif"||o==".tiff")return t;i=[t,".tif"].join("")}else if(r==V.DWT.EnumDWT_ImageType.IT_PDF){if(o==".pdf")return t;i=[t,".pdf"].join("")}else if(r==V.DWT.EnumDWT_ImageType.IT_J2K){if(o==".jp2")return t;i=[t,".jp2"].join("")}return i}function aB(t,r,i,o){var u,d,l,c,p=r.url,g=r.headers,S=r.retry,v=r.httpFormData,b=r.bOnlyResponseEmptyIsOK,C=r.bAsync,D=(d=r.responseType)==Os.Text?"text":d==Os.JSON?"json":d==Os.Blob?"blob":d==Os.ArrayBuffer?"arraybuffer":d==Os.XML?"xml":d==5?"user-defined":"text",M=t.IfShowProgressBar,j=t.IfShowCancelDialogWhenImageTransfer,Y=t.objUploadStatus;(u=r.content)&&(u.remoteFilename||(u.remoteFilename=r.remoteFilename),u.fileName||(u.fileName=r.fileName||u.name),u.name||(u.name=r.fileName||u.fileName));var ee,te=new Dl({action:p,data:v,async:C,retry:S,bOnlyResponseEmptyIsOK:b,dataType:D});if(j&&Q.progressContext&&(ee=Q.progressContext.on("cancel",function(){te.abort(),te=null})),(l=te._uploadType)&&(c=l.get("ajaxConfig"),g&&c&&c.headers&&g&&m.mix(c.headers,g),t.HTTPRequestswithCredentials&&m.mix(c.xhrFields,{withCredentials:!0}),c=null),te.on(Dl.event.SUCCESS,function(X){if(r.content=null,te=null,ee&&Q.progressContext.off("cancel",ee),X?t.HTTPPostResponse=X.response:r.responseType==Os.ArrayBuffer?t.HTTPPostResponse=[]:r.responseType==Os.Blob?t.HTTPPostResponse=new Blob([]):r.responseType==Os.JSON?t.HTTPPostResponse={}:t.HTTPPostResponse="",m.isFunction(t.onHttpUploadStatus)){var F;F={fileName:X.name,percentage:100,statusCode:200,responseString:t.HTTPPostResponse},t.onHttpUploadStatus(F)}m.isFunction(i)&&i(t.HTTPPostResponse)}),te.on(Dl.event.ERROR,function(X){r.content=null,te=null;var F=X&&X.canceled;X&&X.timeout;var B="",U=0;ee&&Q.progressContext.off("cancel",ee),X&&m.isString(X.response)?t.HTTPPostResponse=X.response:t.HTTPPostResponse="",F||(X&&X.msg&&(B=X.msg),X&&X.httpStatus&&(U=X.httpStatus));var K,q={};gC(q,F,B,U),m.isFunction(t.onHttpUploadStatus)&&(K={fileName:X.name,percentage:100,statusCode:U,responseString:t.HTTPPostResponse},t.onHttpUploadStatus(K)),m.isFunction(o)&&o(q._errorCode,q._errorString,t.HTTPPostResponse,U)}),(M||m.isFunction(t.onHttpUploadStatus))&&(te.on(Dl.event.PROGRESS,function(X){!he.bSafari&&X&&(delete X.totalSize,delete X.position);var F=X.total===0?100:Math.round(100*X.loaded/X.total);if([X.loaded," / ",X.total].join(""),m.isFunction(t.onHttpUploadStatus)){var B;B={fileName:X.name,percentage:F,statusCode:0,responseString:""},t.onHttpUploadStatus(B)}t.onPercent([0,F,"","http",X.name])}),t.onPercent([0,-1,tn.Uploading,"http"]),m.isFunction(t.onHttpUploadStatus))){var de="";m.isArray(u)&&u.length>0||(u&&u.name&&u.name!=""?de=u.name:u&&u.fileName&&(de=u.fileName)),!de&&r.fileName&&(de=r.fileName),t.onHttpUploadStatus({fileName:de,percentage:0,statusCode:0,responseString:""})}if(Y&&Y.bCancel){Y.st=2;var Z={};return Ia(Z),r.content=null,m.isFunction(o)&&o(Z._errorCode,Z._errorString),!1}var ne=te.upload(u);return u=null,ne}function sB(t,r,i,o){var u,d,l=t.MaxUploadImageSize,c=0,p=r.content;if(!p||!m.isArray(p)||p.length<=0){r.content=null;var g={};return zn(g),m.isFunction(o)&&o(g._errorCode,g._errorString),Fe}for(u=0;u<p.length;u++){var S=p[u];if(!S||S.size<=0){var v={};return zn(v),m.isFunction(o)&&o(v._errorCode,v._errorString),Fe}var b=S.size,C=S.type;if(c+=b,C===""||C&&C!=r.contentType){var D=S.slice||S.webkitSlice||S.mozSlice,M=S.name,j=D.call(S,0,b,r.contentType);m.isString(M)&&M!=""||(M=S.fileName),j.name=sa(M,u+1),p[u]=j}p[u].remoteFilename=sa(r.remoteFilename,u+1),S=null}if(c>l&&l!=-1){var Y={};return nu(Y),m.isFunction(o)&&o(Y._errorCode,Y._errorString),Fe}for(Q.cancelFrom=sr.HTTPUpload,d=aB(t,r,i,o),r=null,u=0;u<p.length;u++)p[u]=null;return p=null,d}function Xu(t){Q.dlgRef<=0||Q.dialogShowStatus==0||Mu(t)}Q.setBtnCancelVisibleForProgress=Mu;var mu=function(){return y(function t(){h(this,t)},[{key:"_onProgress",value:function(t,r,i){var o=i.total===0?100:Math.round(100*i.loaded/i.total);[i.loaded," / ",i.total].join(""),t.onPercent([0,o,"","http",r])}},{key:"_uploadBlobFragment",value:function(t,r,i,o){var u=r.fileName,d=r.blockSize,l=0;r.method;var c,p,g,S=r.offset,v=this,b=function(ee,te){r.content=null,m.isFunction(o)&&o(ee,te)};if((c=r.content).size<=0){var C={};return zn(C),b(C._errorCode,C._errorString),Fe}if(l=c.size,(p=l-S)>0){var D;if(p>=d&&d>0?(p-=d,g=d):(g=p,p=0),!(D=S==0&&g==l?c:c.slice(S,S+g))){var M={};zn(M),b(M._errorCode,M._errorString)}if(!t.IfShowProgressBar||t.IfShowProgressBar&&Q.dlgRef>0){D.name=u,Xu(t.IfShowCancelDialogWhenImageTransfer),r.headers["Content-Range"]=["bytes ",S,"-",S+D.size-1,"/",l].join(""),v._onProgress(t,u,{total:l,loaded:S});var j=m.clone(r);return j.content=D,j.offset=0,v.httpPostUpload(t,j,function(ee){p==0&&(Q.needShowTwiceShowDialog=!1),v._onProgress(t,u,{total:l,loaded:S+g}),p==0?(r.content=null,m.isFunction(i)&&ai(i,ee)):(r.offset=r.offset+g,setTimeout(function(){v._uploadBlobFragment(t,r,i,b)},100))},b),!0}var Y={};return Ia(Y),b(Y._errorCode,Y._errorString),!1}return Q.needShowTwiceShowDialog=!1,r.content=null,m.isFunction(i)&&i(""),!0}},{key:"httpPostUploadFragment",value:function(t,r,i,o){var u;if(!(u=r.content)){var d={};return zn(d),m.isFunction(o)&&o(d._errorCode,d._errorString),Fe}if(m.isString(u)){if(u==""){var l={};return zn(l),m.isFunction(o)&&o(l._errorCode,l._errorString),Fe}var c=new Blob([u],{type:"text/plain"}),p=r.fileName;c.name=p,r.content=c,c=null}return Q.cancelFrom=sr.HTTPUpload,this._uploadBlobFragment(t,r,i,o)}},{key:"httpPostUpload",value:function(t,r,i,o){var u,d,l=r.bAsync,c=function(Z,ne,X,F){return r.content=null,r=null,m.isFunction(o)&&o(Z,ne,X,F),!1};if(!(u=r.content)){var p={};return zn(p),c(p._errorCode,p._errorString),!!l&&void 0}if(m.isString(u)){var g,S=r.fileName;if(u==""){var v={};return zn(v),c(v._errorCode,v._errorString),!!l&&void 0}if(g=t.MaxUploadImageSize,u.length>g&&g!=-1){var b={};return nu(b),c(b._errorCode,b._errorString),!!l&&void 0}(d=new Blob([u],{type:"text/plain"})).name=S,u=null}else if(u instanceof Blob&&(d=u,u=null,d.size<=0)){var C={};return zn(C),c(C._errorCode,C._errorString),!!l&&void 0}if(d){var D,M,j=t.MaxUploadImageSize,Y=d.size,ee=d.type;if(Y>j&&j!=-1){var te={};return nu(te),c(te._errorCode,te._errorString),!!l&&void 0}ee===""||ee&&ee!=r.contentType?(D=(d.slice||d.webkitSlice||d.mozSlice).call(d,0,Y,r.contentType))instanceof File?(M=D.fileName,D.name=M):D.name=d.name||d.fileName:D=d,d=null,D&&(r.content=D),D=null}Xu(t.IfShowCancelDialogWhenImageTransfer),Q.cancelFrom=sr.HTTPUpload;var de=aB(t,r,function(Z){return r.content=null,r=null,m.isFunction(i)&&i(Z),Z=null,!0},c);return l?void 0:!!de}}])}(),es=y(function t(){h(this,t),this.method="",this.httpMethod="POST",this.contentType="application/octet-stream",this.remoteFilename="RemoteFile",this.blockSize=0,this.offset=0,this.retry=0,this.bOnlyResponseEmptyIsOK=!0,this.bAsync=!0,this.responseType=Os.Text}),uB=y(function t(){h(this,t),this.IfShowProgressBar=!1,this.IfShowCancelDialogWhenImageTransfer=!0}),Xl=function(t){return t.URL=0,t.Blob=1,t.Base64=2,t}({}),L_=window.SparkMD5,_E=function(){return y(function t(r,i,o,u){h(this,t);var d=this;d._md5=o,d._length=i,d._content=u},[{key:"getLength",value:function(){return this._length}},{key:"getMD5",value:function(){return this._md5}},{key:"getData",value:function(t,r){var i=this,o=r;return m.isNumber(t)&&m.isNumber(r)?t<0||r<=0?"":t==0&&o==i._length?i._content:(t+o>i._length&&(o=i._length-t),i._content.substr(t,o)):""}}])}();Q.html5.Base64Result=_E;var lB=function(t){function r(Z){var ne;return h(this,r),(ne=f(this,r,[Z])).__maxUploadImageSize=-1,ne._strHttpContentTypeFieldValue="application/octet-stream",ne}return P(r,t),y(r,[{key:"_saveBlob",value:(de=s(E().mark(function Z(ne,X){var F,B;return E().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(F=this,!V.navInfo.bIE){U.next=7;break}return U.next=5,F._innerSaveLocal(ne,X);case 5:U.next=11;break;case 7:return B=URL.createObjectURL(ne),U.next=10,F._innerSaveLocal(B,X);case 10:URL.revokeObjectURL(B);case 11:ne=null;case 12:case"end":return U.stop()}},Z,this)})),function(Z,ne){return de.apply(this,arguments)})},{key:"_saveImages",value:(te=s(E().mark(function Z(ne,X,F,B){var U,K,q,re,oe,fe;return E().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return U=this,K=M_(X,B),q=Nl(U,F),Q.cancelFrom=sr.Other,ae.next=5,U._innerConvertToArrayBufferWithUIAsync(ne,B,q);case 5:return re=ae.sent,oe=Rt.getBlobTypeByImageType(B),fe=new Blob([re],{type:oe}),ae.next=10,U._saveBlob(fe,K);case 10:fe=null;case 11:case"end":return ae.stop()}},Z,this)})),function(Z,ne,X,F){return te.apply(this,arguments)})},{key:"_innerSaveLocal",value:(ee=s(E().mark(function Z(ne,X){return E().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.abrupt("return",new Q.Promise(function(B,U){var K=window,q=V.navInfo,re=K.requestFileSystem||K.webkitRequestFileSystem||K.mozRequestFileSystem;if(!q.biPad&&!q.biPhone||re||!(he.bSafari&&parseFloat(he.strBrowserVersion)<13)&&he.bSafari){var oe=document.createElementNS("http://www.w3.org/1999/xhtml","a");if(oe.href=ne,oe.download=X,oe.target="_blank",document.body.appendChild(oe),q.bEdge)oe.click(),ne=null,oe.href=null;else if(q.bIE){var fe;(fe=window.navigator)&&"msSaveOrOpenBlob"in fe&&fe.msSaveOrOpenBlob(ne,X)}else{var ae=document.createEvent("MouseEvents");ae.initMouseEvent("click",!0,!1),oe.dispatchEvent(ae)}setTimeout(function(){document.body.removeChild(oe),oe=null,B()},6e3)}else{var ue=K.open(ne,"","",!1);setTimeout(function(){ue.document.title=X,B()},6e3)}}));case 1:case"end":return F.stop()}},Z)})),function(Z,ne){return ee.apply(this,arguments)})},{key:"_OnPostTransferAsync",value:function(Z,ne,X){var F,B=this;if(Z&&Z.length>=2)try{var U=String(Z[1]).replace(/\\/g,"\\\\");F=m.parse(U),!X&&F.imageId&&(F.imageId=B._serverId2uidFromServer(F.imageId))}catch{m.log(Z)}F||(F={imageId:""});var K=!1;if(m.isFunction(B.__OnPostTransferAsync))try{K=B.__OnPostTransferAsync(F)}catch(q){qr(q)}if(m.isFunction(B.__OnPostTransferAsync2))try{B.__OnPostTransferAsync2(F)}catch(q){qr(q)}return K}},{key:"_checkIndices",value:function(Z,ne){return dB(Z,!m.isUndefined(ne)&&ne>=0?ne:this._imageBufferWrapper.count(),this)}},{key:"_acquireImageForSendTo",value:(Y=s(E().mark(function Z(ne,X,F,B){var U,K,q,re,oe,fe,ae,ue;return E().wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:if(U=this,K=F?m.clone(F):{},re=q=B,U._resetErr(),U._isValid()){ve.next=4;break}throw{code:U._errorCode,message:U._errorString};case 4:if(m.isString(q._id)){ve.next=6;break}throw VK();case 6:if(!U.__bAcquireImageNow){ve.next=9;break}throw dR(U),{code:U._errorCode,message:U._getErrorString()};case 9:if(U.__bAcquireImageNow=!0,On(ne,re),oe=Q.Promise.resolve(),fe=V.DWT.RemoteScanConfig,ae=vk(),ve.prev=13,cN(K),fe&&fy(fe.keepAwake),It.checkProductKey(U,{Core:!0})&&U._isValid()){ve.next=18;break}throw{code:U._errorCode,message:U._errorString};case 18:return No._innerSendHeartBeat(q,!1),ue=function(){var be=s(E().mark(function Ce(je){return E().wrap(function(Ye){for(;;)switch(Ye.prev=Ye.next){case 0:oe=oe.then(function(){return new Q.Promise(function(He,St){var ct=[U._uidFromServer2ServerId(je.imageId)],gt=V.DWT.EnumDWT_ImageType.IT_PNG;Q.cancelFrom=sr.Scan,U._innerConvertToArrayBufferAsync(gt,ct).then(function($e){q._bltsCopyImage=!0,q.__LoadImageFromBytesV2($e,gt,"",!0,0,0,!1,0,function(){var Je=s(E().mark(function We(Ke,Qt){var Lt;return E().wrap(function(ze){for(;;)switch(ze.prev=ze.next){case 0:return Lt=U._uidFromServer2ServerId(je.imageId),Qt?(m.log("LoadImageFromBinary success"),q._bltsCopyImage=!1,je.imageId=q._uidFromServer2ServerId(Qt.ids),m.isFunction(q._OnPostTransferAsync)&&q._OnPostTransferAsync([!0,m.stringify(je)],null,!0)):m.log("LoadImageFromBinary return null."),He(),ze.next=5,U._removeImageByIdAsync(Lt);case 5:case"end":return ze.stop()}},We)}));return function(We,Ke){return Je.apply(this,arguments)}}(),function(Je,We){m.log(We),q._bltsCopyImage=!1,St({code:Je,message:We})})},function($e){$e&&$e.message&&m.log($e.message),St($e)})})});case 1:case"end":return Ye.stop()}},Ce)}));return function(Ce){return be.apply(this,arguments)}}(),U._registerEvent("OnPostTransferAsync2",ue),X!=null&&(K.Device=X.strDevice,K.DeviceMatchField=Xp.SMF_NAME),ve.next=24,U._acquireImageFromServiceAsync(K);case 24:ve.next=29;break;case 26:throw ve.prev=26,ve.t0=ve.catch(13),ve.t0;case 29:return ve.prev=29,ve.prev=30,ve.next=33,oe;case 33:ve.next=37;break;case 35:ve.prev=35,ve.t1=ve.catch(30);case 37:return U._unregisterEvent("OnPostTransferAsync2"),U.__bAcquireImageNow=!1,un(ne),fy(ae),ve.finish(29);case 42:case"end":return ve.stop()}},Z,this,[[13,26,29,42],[30,35]])})),function(Z,ne,X,F){return Y.apply(this,arguments)})},{key:"_uidFromServer2index",value:function(Z){var ne,X=this;return X._resetErr(),!!X._isValid()&&(m.isString(Z)?((ne=X._imageBufferWrapper._uidFromServer2index(Z))==-1&&X._errorCode!=-2540&&OR(X),ne):(SR(X),-1))}},{key:"_index2uidFromServer",value:function(Z){var ne=this;if(ne._resetErr(),!ne._isValid())return!1;var X=parseInt(Z);return isNaN(X)?(nr(ne),""):X<0||X>=this._imageBufferWrapper.count()?(nt(ne),""):ne._imageBufferWrapper._index2uidFromServer(Z)}},{key:"__LoadImageFromBytesV2",value:function(Z,ne,X,F,B,U,K,q,re,oe){var fe,ae=this,ue=ne||3,ve=0,be=Z.name,Ce=!0,je=1;if(Z)if(Z instanceof Blob)ve=Z.size;else if(Uu(Z))ve=Z.byteLength;else if(Z instanceof Array)ve=Z.length;else{var Ye=Z;ve=Ye.size||Ye.byteLength||Ye.length}!isNaN(B)&&B>=0&&!isNaN(U)&&U>0?je=0:(B=0,U=0),fe=["[",ve,",",0,",",ue,',"',X,'",',B,",",U,",",q,",",je,",",K?"true":"false","]"].join("");var He=function(){if(ae.__bLoadingImage=!1,Ce){var St=ae._imageBufferWrapper.getCurrentImageIndex();St>=0&&ae._innerRefreshUI(St)}return m.isFunction(oe)&&oe(ae._errorCode,ae._getErrorString(),be),!1};return It.checkProductKey(ae,{Core:!0})||he.bWin&&It.checkProductKey(ae,{Webcam:!0},!0)?It.checkPDFProductKeyWhenNeeds(ae,ne)?ve===0?(Me(ae,-2312,"The file length is empty."),Ce=!1,He()):this._innerSendBlob("LoadImageFromBytes",fe,Z,F,je,function(St){if(ae.__bLoadingImage=!1,ae._isBindViewer()){var ct=ae._imageBufferWrapper.getCurrentImageIndex();F&&ct>=0&&ae._innerRefreshUI(ct)}if(m.isFunction(re)){var gt=St;if(m.isArray(gt)&&(gt=gt.length>0?gt[0]:{}),F)setTimeout(function(){re(be,gt)},30);else try{re(be,gt)}catch($e){m.error($e.message)}}return ae._canConsume()&&V.DWT.lcvrf(ae),!0},He):(Ce=!1,He()):(It.checkProductKey(ae,{Core:!0},!1),Ce=!1,He())}},{key:"_innerSendBlob",value:function(Z,ne,X,F,B,U,K){var q=this;if(No.isServerInvalid(q))return q._waitForConnect().then(function(){q._innerSendBlob(Z,ne,X,F,B,U,K)});if(F)return q._innerSendBlobByWS(Z,ne,X,U,K),!0;var re,oe,fe,ae;return q._resetErr(),!!q._isValid()&&(oe=[q._httpUrl,"f/",Z].join(""),fe=ld(q._clientId,Z,ne,0,q._bScanForProxyRemote?q._dmServiceDWTVersion:""),fe+=`\r
\r
`,ae={method:"POST",url:oe,processData:!1,data:fe+=m.base64.encodeArray(X),async:!1,onSuccess:function(ue,ve,be){var Ce=!1,je=!1;try{Ce=m.isString(ue)&&rd(be.getResponseHeader("content-type"))?m.parse(ue):ue}catch{}if(Ce!=null&&(na(Ce)?(q._errorCode=Ce.exception,q._errorString=Ce.description,q._errorCause=vo(Ce)):q._resetErr(),(re=Ce.result)&&m.isArray(re)&&re.length>=1))if(B){var Ye,He=re[0];He&&m.isObject(He)&&(Ye=He.imageInfos,q._errorCode==0&&m.isString(Ye)&&q._handleOnBitmapChangedEvent({result:["c1",Ye]},{document:X.currentFileName,tag:X.currentTagName}),je=!0)}else{var St=re.join(",");q._errorCode==0&&St.length>0&&q._OnBitmapChanged(["c1",St,1,q._imageBufferWrapper.getCurrentImageIndex(),q._imageBufferWrapper.count()],null,{document:X.currentFileName,tag:X.currentTagName}),je=!0}je||(mC(q),re="")},onError:function(){$v(q),re=""}},m.mix(ae,{headers:{"X-Requested-With":!1}}),he.bFileSystem&&(ae.crossDomain=!1),Ca(ae),q._errorCode==0?m.isFunction(U)&&U():m.isFunction(K)&&K(),re)}},{key:"_convertToBase64ByServerIdsWithUI",value:function(Z,ne,X,F,B,U,K){this._convertToBase64ByServerIdsWithUIAsync(Z,X,ne,F).then(function(q){m.isFunction(U)&&ai(U,q)},function(){m.isFunction(K)&&K()})}},{key:"_OnPercentDone",value:function(Z){var ne,X,F,B,U,K=this,q=!1,re=!1,oe=0;m.isArray(Z)&&Z.length>2&&(X=Z[0],oe=Z[1],F=Z[2],Z.length>3&&(B=Z[3]),Z.length>4&&(U=Z[4]),Z.length>5&&Z[5],ne=oe,oe<0?ne=0:oe>100&&(ne=100),ne=Math.floor(ne),Q.cancelFrom!=sr.HTTPUpload&&Q.cancelFrom!=sr.HTTPDownload&&Q.cancelFrom!=sr.Scan&&Q.cancelFrom!=sr.HTTPPut||(re=U)),(K._bServerPercentDone||X==0)&&((oe>0||oe==0)&&(Q.cancelFrom!=sr.HTTPUpload&&Q.cancelFrom!=sr.HTTPDownload&&Q.cancelFrom!=sr.FTPUpload&&Q.cancelFrom!=sr.FTPDownload&&Q.cancelFrom!=sr.HTTPPut||(q=!0)),K.IfShowProgressBar&&Q.progressBarOnPercentDone(oe,F,B,ne,re,this._containerElement),q==1&&(m.isFunction(K.__OnInternetTransferPercentage)&&K.__OnInternetTransferPercentage(ne,!1),m.isFunction(K.__OnInternetTransferPercentageEx)&&K.__OnInternetTransferPercentageEx(ne,!1)),m.isFunction(K.__OnPercentDone)&&K.__OnPercentDone())}},{key:"IfShowProgressBar",get:function(){return this._bIfShowProgressBar},set:function(Z){this._resetErr(),m.isBoolean(Z)?this._bIfShowProgressBar=Z:ki(this)}},{key:"IfShowCancelDialogWhenImageTransfer",get:function(){return this.__IfShowCancelDialogWhenImageTransfer},set:function(Z){m.isBoolean(Z)?this.__IfShowCancelDialogWhenImageTransfer=Z:(this._resetErr(),ki(this))}},{key:"_getLogLevel",value:function(){return this._logLevel}},{key:"_setLogLevel",value:(j=s(E().mark(function Z(ne){return E().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return this._logLevel=ne,X.next=3,this._innerFunV2("LogLevel",Ge(ne));case 3:case"end":return X.stop()}},Z,this)})),function(Z){return j.apply(this,arguments)})},{key:"MaxUploadImageSize",get:function(){return this.__maxUploadImageSize},set:function(Z){var ne=this;ne._resetErr();var X=1*Z;!m.isNumber(X)||isNaN(X)?ki(ne):ne.__maxUploadImageSize=X}},{key:"HTTPRequestswithCredentials",get:function(){return this._resetErr(),this._bWithCredentials},set:function(Z){this._resetErr(),m.isBoolean(Z)?this._bWithCredentials=Z:ki(this)}},{key:"cancelableObj",get:function(){return this._cancelableObj},set:function(Z){this._cancelableObj=Z}},{key:"_getProfile",value:(M=s(E().mark(function Z(ne){var X,F;return E().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if((X=this)._resetErr(),X._isValid()){B.next=4;break}throw{code:X._errorCode,message:X._errorString};case 4:return ne&&(F=m.stringify([ne.strDevice])),B.abrupt("return",X._innerFunV2("GetCustomDSDataEx",F));case 6:case"end":return B.stop()}},Z,this)})),function(Z){return M.apply(this,arguments)})},{key:"_setProfile",value:(D=s(E().mark(function Z(ne,X){var F,B;return E().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if((F=this)._resetErr(),F._isValid()){U.next=4;break}throw{code:F._errorCode,message:F._errorString};case 4:return B=ne?m.stringify([X,ne.strDevice]):Ge(X),U.abrupt("return",this._innerFunV2("SetCustomDSDataEx",B));case 6:case"end":return U.stop()}},Z,this)})),function(Z,ne){return D.apply(this,arguments)})},{key:"_removeAllImagesAsync",value:(C=s(E().mark(function Z(ne,X){var F,B,U,K,q,re;return E().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:if((F=this)._resetErr(),F._isValid()){oe.next=4;break}throw{code:F._errorCode,message:F._errorString};case 4:for(U=[],q=F._getHowManyImagesInBuffer(),K=q-1;K>=0;K--)(re=F._imageBufferWrapper.convertClientIndexToServerId(K))>-1&&U.push(re);if(U.length!=0){oe.next=13;break}return oe.next=10,F._innerFunV2("RemoveAllImages");case 10:B=oe.sent,oe.next=23;break;case 13:if(!X){oe.next=19;break}return oe.next=16,F._innerFunV2("RemoveAllImages",Ge(U.join(",")));case 16:B=oe.sent,oe.next=22;break;case 19:return oe.next=21,F._innerFunV2("RemoveAllImages");case 21:B=oe.sent;case 22:(B||F._errorCode==-1033)&&F._OnBitmapChanged(["c1",U.join(","),3,F._imageBufferWrapper.getCurrentImageIndex(),F._imageBufferWrapper.count()]);case 23:return oe.abrupt("return",B);case 24:case"end":return oe.stop()}},Z,this)})),function(Z,ne){return C.apply(this,arguments)})},{key:"__OnRecieveMsg",value:function(Z,ne){var X=this,F=ne==null?void 0:ne.cmd;if(Z.event)return x(A(r.prototype),"__OnRecieveMsg",this).call(this,Z,ne);if(na(Z)?(X._errorCode=Z.exception,X._errorString=Z.description,X._errorCause=vo(Z)):F!="StartScan"&&F!="GetAddOnVersion"&&(X._errorCode=0,X._errorString=""),F=="ReadBarcode"||F=="OCRRecognize"||Z.request&&Z.request.method=="OCRProRecognize")return ne.sFun?(ne.sFun(Z),!0):(ne.fFun&&ne.fFun(Z),!0);if(F=="SetCapabilities"||F=="GetSkewAngleFromBinary"||F=="UpdateImage")return"exception"in Z&&Z.exception!="0"?(Z.result.errorCode&&Z.result.errorString?(X._errorCode=Z.result.errorCode,X._errorString=Z.result.errorString):(X._errorCode=Z.exception,X._errorString=Z.description),ne.fFun&&ne.fFun(Z.result),Z=null,!0):(ne.sFun&&ne.sFun(Z.result),Z=null,!0);if(Z.result&&Z.result.length&&(Z.result[0]=="1"||Z.result[0]==1||Z.result[0]=="ok"))return(ne.sFun||ne.sFun)&&ne.sFun(Z.result),!0;if(!Z.exception)return ne.sFun&&ne.sFun(Z.result),Z=null,!0;var B=!1;return ne.fFun&&(B=ne.fFun(X._errorString)),!B&&Z.exception&&Z.exception<0&&Z.exception!=-2115&&m.isFunction(X.__OnPrintMsg)&&X.__OnPrintMsg(X._errorString),!0}},{key:"_convertServerIdToGuid",value:function(Z){return this._serverId2uidFromServer(Z)}},{key:"_convertGuidToServerId",value:function(Z){return this._uidFromServer2ServerId(Z)}},{key:"_serverId2uidFromServer",value:function(Z){return this._imageBufferWrapper._serverId2uidFromServer(Z)}},{key:"_uidFromServer2ServerId",value:function(Z){return this._imageBufferWrapper._uidFromServer2ServerId(Z)}},{key:"_innerConvertToBlobWithUI",value:function(Z,ne,X,F,B,U){var K=this,q=arguments,re=function(oe){if(Q.needShowTwiceShowDialog=!1,m.isFunction(U)){var fe=[];m.isArray(X)&&m.each(X,function(ae){var ue=K._imageBufferWrapper.convertServerIdToClientIndex(ae);ue>-1&&fe.push(ue)}),oe&&(K._errorCode=oe.code,K._errorString=oe.message,oe.errorCause&&(K._errorCause=oe.errorCause)),U(fe)}return!1};K._innerConvertToArrayBufferWithUIAsync(Z,ne,X,F).then(function(oe){if(!oe||oe.byteLength<=0)return _R(K),re();var fe=K.__maxUploadImageSize;if(oe.byteLength>fe&&fe!=-1)return nu(K),re();if(Q.needShowTwiceShowDialog=!1,m.isFunction(B)){var ae=[];m.isArray(X)&&m.each(X,function(be){var Ce=K._imageBufferWrapper.convertServerIdToClientIndex(be);Ce>-1&&ae.push(Ce)});var ue=Rt.getBlobTypeByImageType(ne),ve=new Blob([oe],{type:ue});try{B(ve,ae,q)}catch{}ve=null}return!0},re)}},{key:"convertToBlob",value:(b=s(E().mark(function Z(ne,X,F){var B,U,K,q;return E().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return U=Nl(B=this,X),Q.cancelFrom=sr.ConvertToBlob,re.next=4,B._innerConvertToArrayBufferWithUIAsync("convertToBlob",ne,U,F);case 4:return K=re.sent,q=Rt.getBlobTypeByImageType(ne),re.abrupt("return",new Blob([K],{type:q}));case 7:case"end":return re.stop()}},Z,this)})),function(Z,ne,X){return b.apply(this,arguments)})},{key:"_innerConvertToArrayBufferWithUIAsync",value:(v=s(E().mark(function Z(ne,X,F,B,U){var K,q,re,oe;return E().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:return q=this,oe=(K=Q.progressContext)===null||K===void 0?void 0:K.IfShowCancelDialogWhenImageTransfer,fe.prev=2,q.IfShowProgressBar?Q.showProgress(q,ne,!1):Q.hideProgress(),q._OnPercentDone([0,-1,tn.Encoding]),Q.progressContext&&(Q.progressContext.IfShowCancelDialogWhenImageTransfer=!1),fe.next=8,this._innerConvertToArrayBufferAsync(X,F,B,U);case 8:re=fe.sent;case 9:return fe.prev=9,Q.progressContext&&(Q.progressContext.IfShowCancelDialogWhenImageTransfer=oe),q.IfShowProgressBar&&Q.closeProgress(null,ne),fe.finish(9);case 13:return fe.abrupt("return",re);case 14:case"end":return fe.stop()}},Z,this,[[2,,9,13]])})),function(Z,ne,X,F,B){return v.apply(this,arguments)})},{key:"_innerConvertToBase64Async",value:(S=s(E().mark(function Z(ne,X,F){var B,U,K,q,re,oe,fe,ae,ue;return E().wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:return B=this,U=F,m.isString(U)&&U!=""||(U="{}"),K=["[",ne,',"',X.join(","),'",',U,",1]"].join(""),ve.next=5,B._sendDataByHttpAsync("ConvertToBase64",K,"text",!0);case 5:if(q=ve.sent,re=0,oe="",fe="",ae=q&&q.result,B._errorCode==0){ve.next=10;break}throw{code:B._errorCode,message:B._getErrorString()};case 10:if(!ae||!m.isArray(ae)||ae.length!=3){ve.next=18;break}return fe=ae[0],re=ae[1],oe=ae[2],ue=new _E(null,re,oe,fe),ve.abrupt("return",ue);case 18:throw jK(B),{code:B._errorCode,message:B._errorString};case 20:case"end":return ve.stop()}},Z,this)})),function(Z,ne,X){return S.apply(this,arguments)})},{key:"_convertToBase64ByServerIdsWithUIAsync",value:(g=s(E().mark(function Z(ne,X,F,B){var U,K,q;return E().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return K=this,q=(U=Q.progressContext)===null||U===void 0?void 0:U.IfShowCancelDialogWhenImageTransfer,re.prev=2,K.IfShowProgressBar?Q.showProgress(K,ne,!1):Q.hideProgress(),K._OnPercentDone([0,-1,tn.Encoding]),Q.progressContext&&(Q.progressContext.IfShowCancelDialogWhenImageTransfer=K.IfShowCancelDialogWhenImageTransfer),re.next=8,this._innerConvertToBase64Async(X,F,B);case 8:return re.abrupt("return",re.sent);case 9:return re.prev=9,Q.progressContext&&(Q.progressContext.IfShowCancelDialogWhenImageTransfer=q),K.IfShowProgressBar&&Q.closeProgress(null,ne),re.finish(9);case 13:case"end":return re.stop()}},Z,this,[[2,,9,13]])})),function(Z,ne,X,F){return g.apply(this,arguments)})},{key:"_convertToBlobForUpload",value:function(Z,ne,X,F,B,U,K){var q=this,re=arguments;if(V.DWT.ConnectWithSocket){var oe=X,fe=",";m.isString(oe)&&oe!=""||(oe="",fe="");var ae=["[",Z,',"',ne.join(","),'"',fe,oe,"]"].join("");return Q.cancelFrom=sr.ConvertToBlob,Q.progressContext&&(Q.progressContext.IfShowCancelDialogWhenImageTransfer=!1),q._sendData("ConvertToBlob",ae,!0,function(ue){q._resetErr();var ve=ue;if(ve){if(ve instanceof Blob||Uu(ve))return void B(ve,"",re);na(ve)&&(q._errorCode=ve.exception,q._errorString=ve.description,q._errorCause=vo(ve))}},function(ue){q._errorCode=ue.code,q._errorString=ue.message,U(ue)}),!0}q._innerConvertToArrayBufferAsync(Z,ne,X,"arraybuffer").then(function(ue){var ve=q._strHttpContentTypeFieldValue,be=new Blob([ue],{type:ve});if(V.DWT.IfAddMD5InUploadHeader){var Ce=new L_.ArrayBuffer;Ce.append(ue),m.isFunction(B)&&B(be,Ce.end(),re)}else m.isFunction(B)&&B(be,"",re);be=null},function(ue){U(ue.code,ue.message)})}},{key:"dispose",value:(p=s(E().mark(function Z(){return E().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return ne.abrupt("return",this.__unload());case 1:case"end":return ne.stop()}},Z,this)})),function(){return p.apply(this,arguments)})},{key:"_innerDisposeWSClient",value:function(){return this._isValid()?this._sendData("dispose",null,!0,function(){},function(){}):Q.Promise.reject()}},{key:"__unload",value:(c=s(E().mark(function Z(){var ne,X,F,B,U;return E().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:if(!(ne=this)._bReady||Q.page.bUnload){K.next=10;break}if(!ne._wsClient){K.next=10;break}return K.prev=3,K.next=6,ne._innerDisposeWSClient();case 6:K.next=10;break;case 8:K.prev=8,K.t0=K.catch(3);case 10:if(!(F=ne._wsClient)){K.next=26;break}F.removeEvent("close",ne._clientId),F.removeEvent("error",ne._clientId),F.removeEvent("timeout",ne._clientId);try{for(;ne._evt_ids.length>0;)(B=ne._evt_ids.pop())in F._tasks&&(U=F._tasks[B])&&(U.resolver&&(U.resolver.promise=null,U.resolver.resolve=null,U.resolver.reject=null,delete U.resolver),U.ctx&&(U.ctx.client=null,U.ctx.userData&&(U.ctx.userData.stwain=null,U.ctx.userData.command=null,delete U.ctx.userData),delete U.ctx),delete F._tasks[B])}catch{}return K.prev=16,K.next=19,F.dispose();case 19:K.next=24;break;case 21:K.prev=21,K.t1=K.catch(16),X=K.t1;case 24:delete ne._wsClient,ne._wsClient=null;case 26:if(this._imageBufferWrapper.dispose(),this._bReady=Fe,this._destroy=st,this._cancelableObj=null,this._containerElement=null,this.__OnInternetTransferPercentage=null,this.__OnInternetTransferPercentageEx=null,this.__OnPercentDone=null,this.__licenseInfo=null,this._wsCheckResolve=null,this._wsCheckReject=null,this._heartBeatTimer=null,this._serverInfo=null,this._dmService=null,this.__OnPostTransferAsync=null,this.__OnPostTransferAsync2=null,this.__OnBitmapChanged=null,this.__OnCurrentDeviceSelected=null,this.__OnPrintMsg=null,this.__OnWSReconnect=null,this.__OnWSClose=null,this.__OnWSMessage=null,this.__OnWSError=null,this._imageBufferWrapper=null,this._aryBitmapCache=null,this._acquireDivEL=null,this.__OnRefreshUI=null,this.__OnLtsverify=null,this.__OnRemoteScanStatusAsync=null,this.__OnBufferChanged=null,!X){K.next=58;break}throw X;case 58:case"end":return K.stop()}},Z,this,[[3,8],[16,21]])})),function(){return c.apply(this,arguments)})},{key:"_getImages",value:(l=s(E().mark(function Z(ne,X,F,B){var U,K,q,re;return E().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:if((U=this)._checkIndices(X)){oe.next=3;break}throw{code:this._errorCode,message:this._errorString};case 3:if(B!=Xl.URL){oe.next=9;break}if(!(X.length>1)){oe.next=7;break}throw QK(this),{code:this._errorCode,message:this._errorString};case 7:oe.next=13;break;case 9:if(F!=V.DWT.EnumDWT_ImageType.IT_BMP&&F!=V.DWT.EnumDWT_ImageType.IT_JPG&&F!=V.DWT.EnumDWT_ImageType.IT_PNG){oe.next=13;break}if(!(X.length>1)){oe.next=13;break}throw KK(this),{code:this._errorCode,message:this._errorString};case 13:if(B!=Xl.URL){oe.next=17;break}return oe.abrupt("return",this._imageBufferWrapper.getImageUrl(X[0]));case 17:if(Q.cancelFrom=sr.Other,K=Nl(U,X),B!=Xl.Blob){oe.next=27;break}return oe.next=22,this._innerConvertToArrayBufferWithUIAsync(ne,F,K);case 22:return q=oe.sent,re=Rt.getBlobTypeByImageType(F),oe.abrupt("return",new Blob([q],{type:re}));case 27:if(B!=Xl.Base64){oe.next=31;break}return oe.next=30,this._convertToBase64ByServerIdsWithUIAsync(ne,F,K);case 30:return oe.abrupt("return",oe.sent);case 31:throw xR(this),{code:this._errorCode,message:this._errorString};case 33:case"end":return oe.stop()}},Z,this)})),function(Z,ne,X,F){return l.apply(this,arguments)})},{key:"_LicensePromptExpired",value:function(){var Z=this,ne=Z.__licenseInfo.bTrial,X="";Z.__licenseInfo&&Z.__licenseInfo.ExpireDate&&(X=Z.__licenseInfo.ExpireDate);var F=lk(X);F<=0&&(ne||qr(Z._getErrorString()),m.isFunction(V.OnLicenseExpiredWarning)&&V.OnLicenseExpiredWarning(_C(X),F,ne))}},{key:"__saveToViewerAfterUpdate",value:function(Z,ne){var X=this,F=this._imageBufferWrapper.getIndexByUid(Z),B=this._imageBufferWrapper.convertClientIndexToServerId(F),U=Fr.getUrlByAct(this._imageBufferWrapper.BaseUrl,B,2);return new Q.Promise(function(K,q){Ca({method:"GET",xhrFields:{withCredentials:!0},url:U,onSuccess:function(re){var oe,fe=X._imageBufferWrapper.getMetadataByIndex(F);fe||(fe={}),fe.width=ne.width,fe.height=ne.height,oe=V.navInfoSync.bMobile?X._imageBufferWrapper.getMinImageUrl(F,Math.round(fe.controlWidth*devicePixelRatio),Math.round(fe.controlHeight*devicePixelRatio)):X._imageBufferWrapper.getMinImageUrl(F,fe.controlWidth,fe.controlHeight);var ae=X._imageBufferWrapper.getImageIdMap(B);if(ae){ae.ticks=Date.now(),ae.imageUrl=X._imageBufferWrapper.getImageUrl(F),ae.minImageUrl=oe,ae.width=ne.width,ae.height=ne.height;var ue=m.clone(ae);ue.imageId=B,X._imageBufferWrapper.UpdateImage(ue,fe)}K()},onError:function(){K(),un("save")}})})}},{key:"RunCommandAsync",value:(d=s(E().mark(function Z(ne){var X,F,B,U,K,q;return E().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:if(X=this,ne&&m.isString(ne.command)&&ne.parameter){re.next=4;break}throw mr(X),{code:X._errorCode,message:X._errorString};case 4:if(ne.command!="Invert"){re.next=6;break}return re.abrupt("return",X._invert(ne.parameter.index));case 6:if(F=ne.parameter.index,!m.isNumber(F)){re.next=13;break}if(!(isNaN(F)||!m.isNumber(F)||F<0||F>=X._imageBufferWrapper.count())){re.next=11;break}throw nt(X),{code:X._errorCode,message:X._errorString};case 11:B=X._imageBufferWrapper.convertClientIndexToServerId(F),ne.parameter.index=B;case 13:return U=["[",m.stringify(ne),"]"].join(""),re.next=16,X._innerFunRawV3("runCommand",U);case 16:if(K=re.sent,!he.bIE){re.next=21;break}if(!m.isString(K)){re.next=20;break}return re.abrupt("return",m.parse(K));case 20:return re.abrupt("return",K);case 21:if(!rd(q=K.headers.get("content-type"))){re.next=28;break}return re.next=25,K.json();case 25:return re.abrupt("return",re.sent);case 28:if(q!="text/plain"&&q!="text/html"){re.next=32;break}return re.next=31,K.text();case 31:return re.abrupt("return",re.sent);case 32:return re.next=34,K.blob();case 34:return re.abrupt("return",re.sent);case 35:case"end":return re.stop()}},Z,this)})),function(Z){return d.apply(this,arguments)})},{key:"_innerFunRawV3",value:(u=s(E().mark(function Z(ne,X){var F,B,U;return E().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:if(U="fa/",(F=this)._resetErr(),F._isValid()){K.next=4;break}throw{code:F._errorCode,message:F._errorString};case 4:if(!No.isServerInvalid(F)){K.next=7;break}return K.abrupt("return",F._waitForConnect().then(function(){return F._innerFunRawV3(ne,X)}));case 7:return B={method:"post",body:ld(F._clientId,ne,X,0,F._bScanForProxyRemote?F._dmServiceDWTVersion:""),fetchRaw:!0},K.next=10,Tf([F._httpUrl,U,ne].join(""),B);case 10:return K.abrupt("return",K.sent);case 11:case"end":return K.stop()}},Z,this)})),function(Z,ne){return u.apply(this,arguments)})},{key:"_invert",value:(o=s(E().mark(function Z(ne){var X,F,B,U,K;return E().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:if(X=this,F=parseInt(ne),X._resetErr(),X._isValid()){q.next=4;break}throw{code:X._errorCode,message:X._errorString};case 4:if(!isNaN(F)){q.next=7;break}throw nr(X),{code:X._errorCode,message:X._errorString};case 7:if(!(F<0||F>=X._imageBufferWrapper.count())){q.next=10;break}throw nt(X),{code:X._errorCode,message:X._errorString};case 10:if((B=X._imageBufferWrapper.convertClientIndexToServerId(F))!=-1){q.next=14;break}throw nt(X),{code:X._errorCode,message:X._errorString};case 14:return q.next=16,X._innerFunV2("Invert",Ge(B),!0);case 16:if(U=q.sent,!(K=U==1)){q.next=22;break}Rt.refreshImageAfterInvokeFun(X,F),q.next=23;break;case 22:throw{code:X._errorCode,message:X._errorString};case 23:return q.abrupt("return",K);case 24:case"end":return q.stop()}},Z,this)})),function(Z){return o.apply(this,arguments)})}],[{key:"create",value:(i=s(E().mark(function Z(ne){var X;return E().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return X=new r(ne),F.next=3,No.STwainConnectToServer(X);case 3:return F.abrupt("return",X);case 4:case"end":return F.stop()}},Z)})),function(Z){return i.apply(this,arguments)})}]);var i,o,u,d,l,c,p,g,S,v,b,C,D,M,j,Y,ee,te,de}(lle);function cB(t){var r=t,i="",o=!1;if(r&&r.__licenseInfo&&(r.__licenseInfo.ExpireDate&&(i=r.__licenseInfo.ExpireDate),o=r.__licenseInfo.bTrial),o&&!V.DWT.HideTrialMessage){var u=lk(i);u<=5&&(m.isFunction(V.OnLicenseExpiredWarning)&&V.OnLicenseExpiredWarning(_C(i),u,!0),V.DWT.HideTrialMessage=!0)}}function dB(t,r,i){var o;if(!m.isArray(t))return id(i),!1;if(t.length==0)return gR(i),!1;if(V.DWT.ConnectWithSocket)return!0;for(o=0;o<t.length;o++){var u=t[o];if(m.isUndefined(u)||u===null)return bC(i),!1;if(u=parseInt(u),isNaN(u))return nr(i),!1;if(u<0||u>=r)return SC(i),!1}return!0}var Zu={changeImageUISize:function(t){if(!V.DWT.UseDefaultViewer||!t._containerElement)return st;var r,i,o,u,d=t._width,l=t._height,c=Fe;if(r=Pe.one(t._containerElement),m.isString(d)&&(d.indexOf("%")>0||d.indexOf("rem")>0))o=d,c=st;else{var p=d;m.isString(d)&&d.indexOf("px")>0&&(p=parseInt(d)),m.isNumber(p)?o=[(p=parseInt(d))+2,"px"].join(""):m.isString(p)&&(o=p)}if(m.isString(l)&&(l.indexOf("%")>0||l.indexOf("rem")>0))u=l,c=st;else{var g=l;m.isString(l)&&l.indexOf("px")>0&&(g=parseInt(l)),m.isNumber(g)?u=[(g=parseInt(l))+2,"px"].join(""):m.isString(g)&&(u=g)}return r&&(i=Pe.one(".dynamsoft-dwt-container-box",r))&&i.getEL()&&(m.isString(o)&&i.style("width",o),m.isString(u)&&i.style("height",u)),c?(t.__funResize||(t.__funResize=function(){return t._ImgManager&&t._UIView&&t._containerElement?t._UIView.ChangeSize(t._width,t._height):st}),m.removeEventListener(window,"resize",t.__funResize),m.addEventListener(window,"resize",t.__funResize)):t.__funResize&&(m.removeEventListener(window,"resize",t.__funResize),t.__funResize=Fe),t._ImgManager&&t._UIView&&t._containerElement?t._UIView.ChangeSize(o,u):st},__innerGetUIViewRealSize:function(t,r,i){var o,u=-1,d=-1;return o=Pe.one(t),m.isString(r)&&r.indexOf("%")>0&&(u=Pe.css(o,"width")*parseInt(r)/100),u<0&&r&&(u=parseInt(r)),m.isString(i)&&i.indexOf("%")>0&&(d=Pe.css(o,"height")*parseInt(i)/100),d<0&&i&&(d=parseInt(i)),{width:u,height:d}},bindUIViewEvents:function(t,r){var i=t;r.onBufferChanged=function(o){if(m.isFunction(i.__OnBufferChanged))try{i.__OnBufferChanged(o)}catch(u){qr(u)}},V.DWT.UseDefaultViewer&&(r.onSelected=function(o){if(!i._isNoViewer()){var u,d=o.length;d>0&&(i._ImgManager.SetSelectedImageCount(d),u=o[d-1],m.isFunction(i.__OnRefreshUI)&&i.__OnRefreshUI(u))}},r.onRefreshUI=function(o){i._isNoViewer()||Zu.__innerRefreshFromUIView(i,o)},r.onResetCurrentIndex=function(o){if(!i._isNoViewer()){var u=i._ImgManager.getCurrentImageIndex();if(o>=0&&o<i._ImgManager.count()&&u!=o&&m.isFunction(i.__OnIndexChangeDuringDragDrop))try{i.__OnIndexChangeDuringDragDrop(u,o)}catch(d){qr(d)}}},r.onMouseMove=function(o){if(!i._isNoViewer()){var u=o.index;if(o){var d=o.x,l=o.y;i.__MouseX=d,i.__MouseY=l}if(m.isFunction(i.__OnMouseMove))try{i.__OnMouseMove(u)}catch(c){qr(c)}}},r.onMouseClick=function(o){if(!i._isNoViewer()){var u=o.index;if(o){var d=o.x,l=o.y;i.__MouseX=d,i.__MouseY=l}if(m.isFunction(i.__OnMouseClick))try{i.__OnMouseClick(u)}catch(c){qr(c)}}},r.onMouseDoubleClick=function(o){if(!i._isNoViewer()){var u=o.index;if(m.isFunction(i.__OnMouseDoubleClick))try{i.__OnMouseDoubleClick(u)}catch(d){qr(d)}}},r.onMouseRightClick=function(o){if(!i._isNoViewer()){var u=o.index;if(o){var d=o.x,l=o.y;i.__MouseX=d,i.__MouseY=l}if(m.isFunction(i.__OnMouseRightClick))try{return i.__OnMouseRightClick(u)}catch(c){qr(c)}return st}},r.onImageAreaSelected=function(o){if(!i._isNoViewer()&&m.isFunction(i.__OnImageAreaSelected))try{i.__OnImageAreaSelected(o.index,o.left,o.top,o.right,o.bottom,o.areaIndex)}catch(u){qr(u)}},r.onImageAreaDeSelected=function(o){if(!i._isNoViewer()&&m.isFunction(i.__OnImageAreaDeSelected))try{i.__OnImageAreaDeSelected(o)}catch(u){qr(u)}})},__innerRefreshFromUIView:function(t,r){var i=t;m.isFunction(i.__OnRefreshUI)&&i.__OnRefreshUI(r)}};function br(t,r,i){r in t||Object.defineProperty(t,r,i)}var dle=function(){return y(function t(r){h(this,t);var i=this;i._parent=r,br(i,"width",{get:function(){return this._parent._width},set:function(o){this.SetSize(o,!1)}}),br(i,"height",{get:function(){return this._parent._height},set:function(o){this.SetSize(!1,o)}})},[{key:"SetSize",value:function(t,r){var i,o=this._parent,u=!1,d=!1;return!!o._isBindViewer()&&(m.isString(t)&&t.length>0&&t.charAt(t.length-1)==="%"&&(u=t),!u&&t&&(i=parseInt(t))&&(u=i+"px"),m.isString(r)&&r.length>0&&r.charAt(r.length-1)==="%"&&(d=r),!d&&r&&(i=parseInt(r))&&(d=i+"px"),u!==!1&&(o._width=u),d!==!1&&(o._height=d),Zu.changeImageUISize(o))}}])}();function fB(t){var r,i,o,u,d=t._config;Q.dlgProgress||Q.initProgress(t),d.bNoViewer?t._containerElement=null:(d.container?t._containerElement=d.container:d.containerId&&(t._containerElement=m.get(d.containerId)),t._width=d.width,t._height=d.height,r=Pe.one(t._containerElement)),function(l,c){var p={Stwain:l};if(c){var g=l._width,S=l._height;m.isString(g)&&g.indexOf("px")>0&&(g=parseInt(g)),m.isString(S)&&S.indexOf("px")>0&&(S=parseInt(S)),p={Stwain:l,Container:c,Width:g,Height:S}}Zu.bindUIViewEvents(l,p),l._UIView?l._UIView._Init(p):l._UIView=new Q.UI.ImageUIView(l,p),V.DWT.UseDefaultViewer&&(m.isNumber(l.Width)&&l.Width<=0&&(l.Width=270),m.isNumber(l.Height)&&l.Height<=0&&(l.Height=350),l._containerElement&&Zu.changeImageUISize(l))}(t,r),t._isBindViewer()&&(i=t,o=t._config,u=o||{},i.__OnImageAreaDeSelected=u.onImageAreaDeSelected||"",i.__OnImageAreaSelected=u.onImageAreaSelected||"",i.__OnMouseClick=u.onMouseClick||"",i.__OnMouseDoubleClick=u.onMouseDoubleClick||"",i.__OnMouseMove=u.onMouseMove||"",i.__OnMouseRightClick=u.onMouseRightClick||"",i.__OnTopImageInTheViewChanged=u.onTopImageInTheViewChanged||"",i.__OnBufferChanged=u.onBufferChanged||"",t.__OnMouseClick=d.onMouseClick||"",t.__OnThumbnailMouseClick="",t.__OnKeyDown=d.onKeyDown||"",t.__OnMouseWheel=d.onMouseWheel||"",t.__OnMouseDoubleClick=d.onMouseDoubleClick||"",t.__OnMouseRightClick=d.onMouseRightClick||"",t.__OnMouseMove=d.onMouseMove||"",t.__OnImageAreaSelected=d.onImageAreaSelected||"",t.__OnImageAreaDeSelected=d.onImageAreaDeSelected||"",t.__OnRefreshUI=d.onRefreshUI||"",t.__OnBufferChanged=d.onBufferChanged||"",t.__MouseX=0,t.__MouseY=0,t.__style=new dle(t),t.__fSelectionRectAspectRatio=0)}Q.install={_divDWTNonInstallContainerID:"dwt-NonInstallContainerID",_divDWTemessageContainer:"",_dlgInstall:!1},Q.install._strNonInstallDIV=['<div style="text-align:center;" id="',Q.install._divDWTNonInstallContainerID,'"></div>'].join("");var gu=V.DWT;gu.CloseDialog=function(){var t=Q.install._dlgInstall;if(t){var r=m.sizzle(".dynamsoft-dialog-close");m.each(r,function(i,o){m.removeEventListener(i,"click",gu.CloseDialog)}),t.getAttribute("opened")=="true"&&t.close(),document.body.removeChild(t),Q.install._dlgInstall=!1}},gu.ShowDialog=function(t,r,i,o,u){if(i!==!1){var d,l={width:t,height:r,position:"absolute"};o?(d=['<div class="dynamsoft-dwt-dialog-body">',i,"</div>"].join(""),l.closeButton=!1):d=['<div class="ds-dwt-ui-showdlg">','<div class="dynamsoft-dwt-dialog-body">','<div class="dynamsoft-dwt-dlg-header">',u?"":'<div class="dynamsoft-dialog-close"></div>',"</div>",i,"</div>","</div>"].join(""),u&&(l.closeButton=!1),gu.ShowMessage(d,l)}},gu.ShowMessage=function(t,r){var i,o,u,d,l,c=Q.install,p="ds-dwt-ui-dlg",g="ds-dwt-ui-dlg-wrap",S=screen.width,v=!0,b=0,C=!0,D=!0,M=0,j="fixed",Y="Error",ee=Ne.bActiveXEdition,te=!1,de=null;if(r&&(i=r.width,o=r.height,r.seconds&&(b=r.seconds),r.headerStyle&&(M=r.headerStyle),r.backgroundStyle==1&&(te=!0),r.closeButton===!1&&(C=!1),r.bAutoClose&&(u=r.bAutoClose,C=!0),r.bReadyClosed==0&&(v=!1),r.position&&(j=r.position),r.caption&&(Y=r.caption),m.isFunction(r.onClose)&&(de=r.onClose)),i?!he.bMobile&&i>S-10&&(i=S-10):i=S>600?600:S-10,o||(o="100%"),M==1?t=['<div class="dynamsoft-dialog">','<div class="dynamsoft-dwt-dialog-body">','<div class="dynamsoft-dwt-dlg-header">',C?'<div class="dynamsoft-dialog-close"></div>':"","</div>",t,"</div></div>"].join(""):M==2&&(t=['<div class="dynamsoft-dialog">','<div class="dynamsoft-dwt-ltsdlg-header"><span style="color:#FFF;line-height:35px;margin-left:15px">',Y,"</span>",C?'<div class="dynamsoft-dialog-close"></div>':"","</div>",'<div class="dynamsoft-dwt-ltsdlg-body" style="padding:25px 40px 20px 40px;">',t,"</div></div>"].join("")),m.sizzle("."+p).length==0){var Z=document.createElement("div"),ne=document.createElement("div"),X=document.createElement("div");if(Z.className=p,ne.className=g,ne.style.margin="auto",ne.style.zIndex="9999",ne.style.position="relative",ne.style.border="0",u&&((d=document.createElement("div")).className="dynamsoft-dialog-close",ne.insertBefore(d,ne.firstElementChild),(l=document.createElement("div")).className="dynamsoft-dialog-closeTimer",l.style.width="100%",l.style.height="2px",l.style.marginTop="-2px",l.style.backgroundColor="#fe8e14",ne.insertBefore(l,ne.firstElementChild)),ne.appendChild(X),SE(X,t),Z.appendChild(ne),document.body.appendChild(Z),de){var F=Pe.one(".dynamsoft-dialog-close",Pe.one(Z));F&&((F=F[0]).onClose=function(){m.removeEventListener(F,"click",F.onClose),F.onClose=null,de()},m.addEventListener(F,"click",F.onClose))}if(te?Pe.setBackOpacity({opacity:.4,grayHex:0}):Pe.setBackOpacity({}),Z.bTopmost=!0,c._dlgInstall=Z,Pe.dialog.setup(c._dlgInstall,!1),he.bIE){var B=document.createElement("iframe");B.frameborder="0",B.marginheight="0",B.marginwidth="0",B.style.border="0",B.style.backgroundColor="transparent",B.style.position="absolute",B.style.left=0,B.style.top=0,B.style.width="100%",B.style.height=document.body.clientHeight+"px",B.style.margin="0 auto",B.style.zIndex="10000",B.src=["javas","cript:",'""'].join("");var U=Pe.one(".dynamsoft-backdrop");if(U&&U.length>0){for(var K=U[0];K.firstChild;)K.removeChild(K.firstChild);K.style.zIndex="10000",K.appendChild(B)}}}else D=!1;var q=Pe.one("."+g);if(q&&q.getEL()&&(q[0].style.width=i+"px",m.isNumber(o)&&o>0?q[0].style.height=o+"px":q[0].style.height="100%",D||m.each(q[0].childNodes,function(fe){if(fe.tagName=="DIV"&&fe.className!="dynamsoft-dialog-close"&&fe.className!="dynamsoft-dialog-closeTimer")return SE(fe,t),!1})),ee){var re=Pe.one(".dynamsoft-dialog");re&&re.getEL()&&(re.getEL().style.border="1px solid #999")}if(c._dlgInstall.getAttribute("opened")=="true"&&c._dlgInstall.close(),c._dlgInstall.showModal({position:j}),c._dlgInstall.bReadyClosed=v,te&&Pe.setBackOpacity({}),C){var oe=m.sizzle(".dynamsoft-dialog-close");m.each(oe,function(fe,ae){m.addEventListener(fe,"click",gu.CloseDialog)}),oe.length>0&&u&&b>0&&setTimeout(Q._zdgb_xkz_dhk,100)}},gu.OnWebTwainPreExecute||(gu.OnWebTwainPreExecute=function(t,r){var i,o,u,d=V.DWT.IfConfineMaskWithinTheViewer;if(d&&(t&&(o=t._containerElement),o||V.DWT.Containers&&V.DWT.Containers.length>0&&V.DWT.Containers[0].ContainerId&&(o=m.get(V.DWT.Containers[0].ContainerId)),o))for(i=o.getBoundingClientRect(),u=0;u<o.children.length;u++){var l=o.children[u];if(l&&l.className=="dvs-root dvs-web-viewer"){for(l=l.firstElementChild;l;){if(m.isFunction(l.getBoundingClientRect)){i=l.getBoundingClientRect();break}l=l.nextSibling}o=l;break}}(o===document.body||i==null||V.DWT.Containers&&V.DWT.Containers.length>1||V.DWT.Containers&&V.DWT.Containers.length==1&&(i.width==0||i.height==0))&&(d=!1,o=null);var c=r??{};d&&(c={confined:d,wrapperEl:o}),Q.showMask(c)}),gu.OnWebTwainPostExecute||(gu.OnWebTwainPostExecute=function(){Pe.hideMask()});function SE(t,r){document.body&&Pe.setHtml(t,r)}function fle(t,r){(function(i,o){if(o.has(i))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,r),r.add(t)}function Km(t,r,i){if(typeof t=="function"?t===r:t.has(r))return arguments.length<3?r:i;throw new TypeError("Private element is not present on this object")}window.DCP_DWT_OnClickCloseInstall=function(t,r){r||V.DWT.CloseDialog();var i=m.get(Q.install._divDWTNonInstallContainerID);if(i&&i.parentNode&&i.parentNode.removeChild(i),t&&m.isDOM(t)&&m.show(t),t&&m.isString(t))m.show(t);else{var o=V.DWT.WebTwainIdMap;if(o){var u,d,l=Object.keys(o);for(u=0;u<l.length;u++)o[d=l[u]]._containerElement&&m.show(o[d]._containerElement)}}Q.install._divDWTemessageContainer!=""&&m.show(Q.install._divDWTemessageContainer)},Q._zdgb_xkz_dhk=function(){var t=Q.install._dlgInstall;if(t){var r=m.sizzle(".dynamsoft-dialog-closeTimer",t);if(r.length>0){var i=r[0],o=parseInt(i.style.width);(o-=1)<=0?V.DWT.CloseDialog():(i.style.width=o+"%",setTimeout(Q._zdgb_xkz_dhk,100))}}},Q.ShowLicenseDialog=V.DWT.ShowMessage,Q.createLoadingBarContent=function(){};var mh=new WeakSet,hle=function(t){function r(v){var b;return h(this,r),fle(b=f(this,r,[v]),mh),b}return P(r,t),y(r,[{key:"_getWSContextData",value:function(){return{document:this._getCurrentDocumentName(),tag:this._getCurrentDefaultTagName(),bNeedClearTag:!1}}},{key:"_getErrorString",value:function(){var v=this;return v._errorCode==-2207&&v._bMustUpgradeService&&yf(v),v._errorCode!=0?v._errorString:"Successful."}},{key:"_getWebTwainId",value:function(){return this._id}},{key:"_isTwainServiceType",value:function(){return!0}},{key:"_isPC",value:function(){return he.bWin||he.bMac||he.bLinux}},{key:"_serviceSyncMethodNotSupport",value:function(v){var b=this;return Me(b,-2605,'The synchronized method "'+v+'" is not supported under the current settings.'),{code:b._errorCode,message:b._getErrorString()}}},{key:"_serviceAsyncMethodNotSupport",value:function(v){var b=this;return Me(b,-2606,'The asynchronized method "'+v+'" is not supported under the current settings.'),{code:b._errorCode,message:b._getErrorString()}}},{key:"_serviceNotSupportAsync",value:function(v){var b=this;return Me(b,-2397,v+" doesn't work under current settings."),Pe.Promise.reject({code:b._errorCode,message:b._getErrorString()})}},{key:"_nouiNotSupport",value:function(v,b){var C=this;return Me(C,-2210,"You cannot call this method on this WebTwain instance because it does not use the default viewer."),m.isFunction(b)&&b(C._errorCode,C._getErrorString()),!1}},{key:"_innerFunRaw",value:function(v,b,C,D,M,j,Y){var ee,te,de,Z,ne=this,X="f/",F=C;if(F&&(X="fa/"),V.DWT.ConnectWithSocket)this._sendData(v,b,!1,j,Y);else{if(ne._resetErr(),!ne._isValid())return!!F&&void 0;var B=No.isServerInvalid(ne);if(F&&B)return ne._waitForConnect().then(function(){return ne._innerFunRaw(v,b,F,D,M,j,Y)});if(!F&&B)return wR(ne),!1;if(de={method:"POST",url:ee=[ne._httpUrl,X,v].join(""),data:te=ld(ne._clientId,v,b,0,ne._bScanForProxyRemote?ne._dmServiceDWTVersion:""),async:F,onSuccess:function(K,q,re){var oe=!1;try{oe=m.isString(K)&&rd(re.getResponseHeader("content-type"))?m.parse(K):K}catch{}oe?(na(oe)?(ne._errorCode=oe.exception,ne._errorString=oe.description,ne._errorCause=vo(oe)):ne._resetErr(),Z=M?oe:oe.result):(mC(ne),Z=""),m.isFunction(j)&&j(Z),F&&(Z=null)},onError:function(){$v(ne),Z="",!Q.page.bUnload&&m.isFunction(Y)&&Y()}},!F&&D)he.bIE?(de.dataType="arraybuffer",de.onSuccess=function(K,q,re){var oe,fe,ae,ue=!1;if(re.responseHeadersString&&lR(re.responseHeadersString)&&(ue=!0),oe=re.responseData,ne._resetErr(),Z=!1,oe&&(fe=new Uint8Array(oe),ue?oe=String.fromCharCode.apply(null,fe):(Z=new Blob([fe],{type:ne._strHttpContentTypeFieldValue}),(ae=new L_.ArrayBuffer).append(fe),Z.md5=ae.end())),!oe||ue){var ve,be=!1;if((ve=ue?oe:re.responseText).length>0){if(ve.charAt(0)=="{")try{be=m.parse(ve),ue=!0}catch{m.log(ve)}ue?na(be)?(ne._errorCode=be.exception,ne._errorString=be.description,ne._errorCause=vo(be),Z=!1):Z=!0:(fe=new Uint8Array(ve),Z=new Blob([fe],{type:ne._strHttpContentTypeFieldValue}),(ae=new L_.ArrayBuffer).append(fe),Z.md5=ae.end())}}m.isFunction(j)&&j(Z)}):(F||(de.dataType="text",de.contentType="text/plain; charset=x-user-defined",de.mimeType="text/plain; charset=x-user-defined"),de.onSuccess=function(K,q,re){var oe,fe,ae;if(ne._resetErr(),(fe=(oe=re.responseText).length)>0){var ue,ve=!1;if(oe.charAt(0)=="{")try{ue=m.parse(oe),ve=!0}catch{m.log(oe)}if(ve)na(ue)?(ne._errorCode=ue.exception,ne._errorString=ue.description,ne._errorCause=vo(ue),Z=!1):Z=!0;else{ae=new Uint8Array(fe);for(var be=0;be<fe;be++)ae[be]=oe.charCodeAt(be);Z=new Blob([ae],{type:ne._strHttpContentTypeFieldValue});var Ce=new L_.ArrayBuffer;Ce.append(ae),Z.md5=Ce.end()}}else Z="";m.isFunction(j)&&j(Z)});else if(F&&D){de={method:"POST",body:te},he.bIE?de.dataType="arraybuffer":de.fetchRaw=!0;var U=Tf(ee,de);return he.bIE||(U=U.then(function(K){var q=K.headers.get("content-type");return q.indexOf("image/")>=0||q.indexOf("application/octet-stream")>=0?K.arrayBuffer():K.json()})),U=U.then(function(K){if(ne._resetErr(),Uu(K))return m.isFunction(j)&&j(K),void(K=null);if(m.isObject(K)){var q=K;if(na(q))ne._errorCode=q.exception,ne._errorString=q.description,ne._errorCause=vo(q),m.isFunction(Y)&&Y();else{var re="";q.result&&(re=q.result),m.isFunction(j)&&j(re)}}else $v(ne),!Q.page.bUnload&&m.isFunction(Y)&&Y()},function(K){$v(ne),!Q.page.bUnload&&m.isFunction(Y)&&Y()}),!0}if(F||m.mix(de,{headers:{"X-Requested-With":!1}}),he.bFileSystem&&(de.crossDomain=!1),Ca(de),!F)return Z}}},{key:"_innerSendCmd",value:function(v,b){this._innerFunRaw(v,b,!0,!1,!0)}},{key:"_innerFun",value:function(v,b){var C;return C=this._innerFunRaw(v,b,!1,!1,!1),m.isArray(C)?C[0]:C}},{key:"__OnRecieveMsg",value:function(v,b){var C=this,D=b==null?void 0:b.cmd;if(v.event)return x(A(r.prototype),"__OnRecieveMsg",this).call(this,v,b);if(V.DWT.ConnectWithSocket)return x(A(r.prototype),"__OnRecieveMsg",this).call(this,v,b);if(na(v)?(C._errorCode=v.exception,C._errorString=v.description,C._errorCause=vo(v)):D!="StartScan"&&D!="GetAddOnVersion"&&(C._errorCode=0,C._errorString=""),D=="ReadBarcode"||D=="OCRRecognize"||v.request&&v.request.method=="OCRProRecognize")return b.sFun?b.sFun(v):b.fFun&&b.fFun(v),!0;if(D=="ActiveUI"||D=="VersionInfo"||D=="ConvertToBase64"||D=="SaveSelectedImagesToBase64Binary"||D=="ConvertToBlob"||D=="BeginSaveMem")return b.sFun&&m.isArray(v.result)&&v.result.length>0?b.sFun(v.result):b.fFun&&b.fFun(v.result),!0;if(D=="ShowFileDialog"||D=="SplitTiff"||D=="SplitPDF"||D=="EncodeAsBase64"||D=="ProductKey"||D=="GetSourceNames"||D=="GetSkewAngle"||D=="GetImageInfo"||D=="GetSkewAngleFromBinary")return b.sFun?b.sFun(v.result):b.fFun&&b.fFun(v.result),!0;if(D=="SetCapabilities")return x(A(r.prototype),"__OnRecieveMsg",this).call(this,v,b);if(v.result&&v.result.length&&(v.result[0]=="1"||v.result[0]==1||v.result[0]=="ok"))(b.sFun||b.sFun)&&b.sFun(b.rawData?v:v.result);else{if(!v.exception)return b.sFun&&b.sFun(v.result),v=null,!0;var M=!1;b.fFun&&(M=b.fFun(C._errorString)),!M&&v.exception&&v.exception<0&&v.exception!=-2115&&m.isFunction(C.__OnPrintMsg)&&C.__OnPrintMsg(C._errorString)}return!0}},{key:"OnRefreshUI",value:function(v,b,C,D){return this._innerRefreshUI(v,b,C,D)}},{key:"GetCurrentDocumentName",value:function(){return this._resetErr(),!!this._isValid()&&this._getCurrentDocumentName()}},{key:"RegisterEvent",value:function(v,b){return!!this.registerEvent(v,b)}},{key:"UnregisterEvent",value:function(v,b){return this.unregisterEvent(v,b)}},{key:"onEvent",value:function(v,b){this.registerEvent(v,b)}},{key:"on",value:function(v,b){this.registerEvent(v,b)}},{key:"_OnConsumed",value:function(v){}},{key:"_OnPostLoad",value:function(v,b){var C,D,M,j,Y=this;b!==void 0&&b.exception!==void 0&&b.description!==void 0&&(Y._errorCode=b.exception,Y._errorString=b.description),m.log("OnPostLoad Results:"),mB(Y,"On PostLoad"),(C=Y._ImgManager.getCurrentImageIndex())>=0&&Y._innerRefreshUI(C),Y._loadImageBytesFileCount==0&&m.isFunction(Y.__OnPostLoad)&&(D=v[1].split(","),M=m.base64.decode(D[0]),j=m.base64.decode(D[1]),m.log([M,j,D[2]]),M!=""&&j!=""&&(Y.__bServerOnPostLoadFired=!0,setTimeout(function(){Y.__OnPostLoad(M,j,D[2])},200)))}},{key:"_OnPostTransfer",value:function(v){var b=this;if(m.log("On PostTransfer Results:"+v),mB(b,"On PostTransfer"),m.isFunction(b.__OnPostTransfer))try{b.__OnPostTransfer()}catch(C){qr(C)}}},{key:"_OnPreAllTransfersAsync",value:function(v){var b=this;if(m.isFunction(b.__OnPreAllTransfersAsync)){var C={event:"beforeAcquire",result:{}};try{m.isArray(v)&&v.length>1&&(C=m.parse(v[1]))}catch{}setTimeout(function(){try{b.__OnPreAllTransfersAsync(C)}catch(D){qr(D)}},10)}}},{key:"_OnPostAllTransfers",value:function(v){var b=this;if(v.length>=2&&b._errorCode==0&&(b._errorCode=v[1],b._errorString=v[2]),m.log("On PostAllTransfers Results:"+v),b.__bLoadingImage=!1,b.__bAcquireImageNow=!1,b.__closeRemoteScanUI(!0),m.isFunction(b.__OnPostAllTransfers))try{b.__OnPostAllTransfers()}catch(C){qr(C)}}},{key:"_OnResult",value:function(v){var b=v[1];if(m.isFunction(this.__OnResult))try{this.__OnResult(b)}catch(C){qr(C)}}},{key:"_OnTransferCancelled",value:function(v){var b=this;if(b._ImgManager.getCurrentImageIndex(),b._ImgManager.count(),b.__bLoadingImage=!1,b.__bAcquireImageNow=!1,m.isFunction(b.__OnTransferCancelled))try{b.__OnTransferCancelled()}catch(C){qr(C)}}},{key:"_OnTransferError",value:function(v){if(m.isFunction(this.__OnTransferError))try{this.__OnTransferError()}catch(b){qr(b)}}},{key:"_OnSourceUIClose",value:function(v){var b=this;if(b.__closeRemoteScanUI(!0),m.isFunction(b.__OnSourceUIClose))try{b.__OnSourceUIClose()}catch(C){qr(C)}}},{key:"_OnPreTransfer",value:function(v){if(m.isFunction(this.__OnPreTransfer))try{this.__OnPreTransfer()}catch(b){qr(b)}}},{key:"_OnPreAllTransfers",value:function(v){if(m.isFunction(this.__OnPreAllTransfers))try{this.__OnPreAllTransfers()}catch(b){qr(b)}}},{key:"_OnGetFilePath",value:function(v){var b,C,D,M=this;if(b=v[1].split(","),m.log("On GetFilePath Results:"+v),C=m.base64.decode(b[3]),D=m.base64.decode(b[4]),b[2]=="-1032"&&(b[2]="-1",C=D=""),m.isFunction(M.__OnGetFilePath))try{M.__OnGetFilePath(1*b[0]>0,1*b[1],1*b[2],C,D)}catch(j){qr(j)}M.__bOpenFileNow=!1}},{key:"_OnDiskExceedLimit",value:function(){m.isFunction(this.__OnDiskExceedLimit)&&this.__OnDiskExceedLimit()}},{key:"__GetLoadEventsNum",value:function(){var v=0;return m.isFunction(this.__OnPostLoad)&&(v|=1),m.isFunction(this.__OnGetFilePath)&&(v|=2),v}},{key:"_innerSend",value:function(v,b,C,D,M){var j=this;if(V.DWT.ConnectWithSocket||v!="SaveSelectedImagesToBytes"&&v!="ConvertToBlob")return this._sendData(v,b,C,D,M);var Y=Yp(),ee=ld(j._clientId,v,b,Y,j._bScanForProxyRemote?j._dmServiceDWTVersion:"");return j._innerFunRaw(v,ee,!0,!0,!0,D,M),Pe.Promise.resolve(!0)}},{key:"_convertToBlobByIndices",value:function(v,b,C,D,M,j){var Y=this,ee=!1,te=function(ne){m.isFunction(j)&&Ni(j,Y,ne,b,D),ne=null};if(m.isFunction(M)&&(ee=!0),Y._resetErr(),!Y._isValid())return te(v),!!ee&&void 0;var de=parseInt(b);if(!It.checkProductKey(Y,{Core:!0})||!Y._checkIndices(v))return te(v),!!ee&&void 0;if(de==V.DWT.EnumDWT_ImageType.IT_BMP||de==V.DWT.EnumDWT_ImageType.IT_JPG||de==V.DWT.EnumDWT_ImageType.IT_PNG||de==V.DWT.EnumDWT_ImageType.IT_J2K){if(v.length>1)return Me(Y,-2372,"You cannot convert more than one image to binary when the format is BMP, JPG or PNG."),te(v),!!ee&&void 0}else if(de!=V.DWT.EnumDWT_ImageType.IT_TIF&&de!=V.DWT.EnumDWT_ImageType.IT_PDF)return go(Y),te(v),!!ee&&void 0;var Z=Nl(Y,v);return Z.length==0?(nr(Y),te(v),!!ee&&void 0):ee?(Q.cancelFrom=sr.ConvertToBlob,void Y._innerConvertToBlobWithUI("ConvertToBlob",de,Z,C,function(ne,X){m.isFunction(M)&&ai(M,ne,X,b,D),ne=X=null},te)):Km(mh,Y,ple).call(Y,Z,de,C)}},{key:"_getDefaultDevice",value:function(){var v=this;if(v._resetErr(),!v._isValid())return null;var b="",C=_t.TWAINSCANNER,D=v._innerFun("GetDefaultSourceName");if(D.length>0)try{var M=JSON.parse(D);C=M.type,b=m.base64.decode(M.ProductName)}catch{b=""}var j=new Qa;return j.name=b,j.deviceType=C,j.isSystemDefaultPrinter=!1,oT(j),j}},{key:"_OnCurrentDeviceSelected",value:function(v,b){var C,D,M=this;if(v&&v.length>=2)try{D=parseInt(v[0]);var j=String(v[1]);(C=dY(this,j)).strDevice=j,M._curDevice=C}catch(ee){m.error(ee)}var Y=!1;if(m.isFunction(M.__OnCurrentDeviceSelected))try{Y=M.__OnCurrentDeviceSelected(C,D)}catch(ee){qr(ee)}return Y}},{key:"_getDefaultDeviceAsync",value:(S=s(E().mark(function v(){var b,C,D,M,j,Y;return E().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if((b=this)._resetErr(),b._isValid()){ee.next=4;break}return ee.abrupt("return",null);case 4:return C="",D=_t.TWAINSCANNER,ee.next=8,b._sendDataByHttpAsync("GetDefaultSourceName");case 8:if((M=ee.sent).length>0)try{j=JSON.parse(M),D=j.type,C=m.base64.decode(j.ProductName)}catch{C=""}return(Y=new Qa).name=C,Y.deviceType=D,Y.isSystemDefaultPrinter=!1,D==_t.TWAINX64SCANNER&&C.length>0?Y.displayName="Twain64-"+C:D==_t.ICASCANNER&&this.__serverPlatform==Kt.enumMac&&C.length>0?Y.displayName="ICA-"+C:Y.displayName=C,ee.abrupt("return",Y);case 16:case"end":return ee.stop()}},v,this)})),function(){return S.apply(this,arguments)})},{key:"_getSources",value:function(v,b,C){return Nk(this,this._innerFun("GetSources",Ge(v,b!=null&&b,C!=null&&C)))}},{key:"_getSourceCountAsync",value:(g=s(E().mark(function v(b){var C,D,M,j,Y,ee,te;return E().wrap(function(de){for(;;)switch(de.prev=de.next){case 0:if((C=this)._resetErr(),C._isValid()){de.next=4;break}return de.abrupt("return",Pe.Promise.reject({code:C._errorCode,message:C._errorString}));case 4:return Km(mh,C,hB).call(C),On("GetSourceCountAsync",C),D=[],de.prev=7,b&&(C._driverType=b),M=Fe,j=Fe,Y=Fe,ee=Fe,C._bRemoteMode?C.__serverPlatform==Kt.enumWindow?Y=!0:C.__serverPlatform==Kt.enumLinux?j=!0:C.__serverPlatform==Kt.enumMac?M=!0:C.__serverPlatform==Kt.enumAndroid&&(ee=!0):(M=he.bMac,j=he.bLinux,Y=he.bWin,ee=he.bAndroid),te=by(C._driverType,Y,j,M,ee),de.next=15,this._getDevices(te,!0,void 0);case 15:D=de.sent,de.next=21;break;case 18:throw de.prev=18,de.t0=de.catch(7),de.t0;case 21:return de.prev=21,un("GetSourceCountAsync"),de.finish(21);case 24:return de.abrupt("return",C._setDevices(D));case 25:case"end":return de.stop()}},v,this,[[7,18,21,24]])})),function(v){return g.apply(this,arguments)})},{key:"_setDevices",value:function(v){var b,C=this;return C.__devices=v,b=v.length,C.__sourceCount=b,b<=0?(C.__defaultSourceName="",C.__sourceCount=0,0):b}},{key:"_getSourceNameByIndex",value:function(v){var b=this.__devices.length;return v<0||v>=b?"":this.__devices[v].displayName}},{key:"_dwtConvertToBlobSync",value:function(v,b,C,D,M,j){var Y=this,ee=C,te=",";m.isString(ee)&&ee!=""||(ee="",te="");var de=["[",v,',"',b.join(","),'"',te,ee,"]"].join(""),Z=Y._innerFunRaw("ConvertToBlob",de,!1,!0,!1),ne="";if(Y._errorCode==0){Z&&"md5"in Z&&(ne=Z.md5);var X=!0;return m.isFunction(D)&&(X=D(Z,ne,j)),X}return m.isFunction(M)&&pt(M,Y),!1}},{key:"_getSourceCountSync",value:function(){var v,b=this,C=Fe,D=Fe,M=Fe,j=Fe;if(b._bRemoteMode?b.__serverPlatform==Kt.enumWindow?M=!0:b.__serverPlatform==Kt.enumLinux?D=!0:b.__serverPlatform==Kt.enumMac?C=!0:b.__serverPlatform==Kt.enumAndroid&&(j=!0):(C=he.bMac,D=he.bLinux,M=he.bWin,j=he.bAndroid),v=by(this._driverType,M,D,C,j),b._resetErr(),!b._isValid()||!It.checkProductKey(b,{Core:!0}))return 0;Km(mh,b,hB).call(b);var Y=b._getSources(v,!0,void 0);return b._setDevices(Y)}},{key:"_OnActiveUI",value:(p=s(E().mark(function v(b){var C;return E().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return C=this,b&&b.length>2&&(C.__strProductName=b[2]),D.next=4,x(A(r.prototype),"_OnActiveUI",this).call(this,b);case 4:return D.next=6,C._setConvertModeAsync(C._pdfConvertMode).catch(function(){});case 6:case"end":return D.stop()}},v,this)})),function(v){return p.apply(this,arguments)})},{key:"_OnReady",value:(c=s(E().mark(function v(){var b,C,D,M,j;return E().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return Do((b=this)._serverInfo.server)&&(cu.item("DWT_port",b._serverInfo.port),cu.item("DWT_ssl",b._serverInfo.ssl?"true":"false")),b._bNoMask||On("OnReady",b),Y.prev=3,Y.next=6,x(A(r.prototype),"_OnReady",this).call(this);case 6:if(!Ji()){Y.next=12;break}if(b._uuidForActiveUI){Y.next=12;break}return Y.next=10,V.DWT.lgcuid(V.DWT.lgdt(),"");case 10:C=Y.sent,b._uuidForActiveUI=C;case 12:return Y.next=14,b._innerActiveUI(b._uuidForActiveUI);case 14:return D=Y.sent,Y.next=17,b._OnActiveUI(D);case 17:if(wn("Changing Map..."),(M=b._id)&&!V.DWT.WebTwainIdMap[M]&&(V.DWT.WebTwainIdMap[M]=b),fB(b),j=!1,b._bRemoteMode||(j=Q.attachAddon(b)),V.DWT.IfDisableDefaultSettings){Y.next=29;break}return wn("Configuring the WebTwain instance..."),Y.next=27,mle(b);case 27:Y.next=32;break;case 29:if(!j){Y.next=32;break}return Y.next=32,new Pe.Promise(function(ee){setTimeout(ee,300)});case 32:Y.next=39;break;case 34:throw Y.prev=34,Y.t0=Y.catch(3),Y.t0&&(b._errorCode=Y.t0.code,b._errorString=Y.t0.message),b.dispose(),Y.t0;case 39:return Y.prev=39,b._bNoMask||un("OnReady"),Y.finish(39);case 42:case"end":return Y.stop()}},v,this,[[3,34,39,42]])})),function(){return c.apply(this,arguments)})},{key:"_OnWSClose",value:function(v){x(A(r.prototype),"_OnWSClose",this).call(this,v),Q.detect.bOK=!1,this.__bAcquireImageNow=!1}},{key:"_OnWSTimeout",value:function(v){x(A(r.prototype),"_OnWSTimeout",this).call(this,v),Q.detect.bOK=!1}},{key:"_setConvertModeAsync",value:function(v){var b,C=this,D=1*v;return isNaN(D)?(xC(C),Pe.Promise.reject({code:C._errorCode,message:C._errorString})):C._checkConvertModeInner(D)?(b=this._mixSavedPdfReaderOptions({convertMode:D,renderOptions:{renderAnnotations:!!C._pdfOptions.renderOptions.renderAnnotations}}),C._resetPdfOptionsWhenSetConvertMode(b),Km(mh,C,pB).call(C,b,D)):Pe.Promise.reject({code:C._errorCode,message:C._errorString})}},{key:"_OnReconnected",value:(l=s(E().mark(function v(){var b;return E().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return b=this,C.next=3,Km(mh,b,pB).call(b,b._pdfOptions);case 3:case"end":return C.stop()}},v,this)})),function(){return l.apply(this,arguments)})},{key:"_getConvertMode",value:function(){return this._pdfConvertMode}},{key:"_setConvertMode",value:function(v){var b,C=this,D=1*v;if(isNaN(D))return xC(C),!1;if(!C._checkConvertModeInner(D))return!1;b=this._mixSavedPdfReaderOptions({convertMode:D,renderOptions:{renderAnnotations:!!C._pdfOptions.renderOptions.renderAnnotations}}),C._resetPdfOptionsWhenSetConvertMode(b);var M=C._setReaderOptions(b,!1);return M&&(C._pdfConvertMode=D,C._pdfOptions.convertMode=b.convertMode,C._pdfOptions.renderOptions.renderAnnotations=b.renderOptions.renderAnnotations,C._pdfOptions.convertMode==zr.CM_IMAGEONLY&&C._pdfConvertMode==zr.CM_RENDERALL||C._pdfOptions.convertMode==zr.CM_IMAGEONLY&&C._pdfConvertMode==zr.CM_RENDERALLWITHANNOTATION)?(C._pdfConvertMode=zr.CM_IMAGEONLY,_f(C),!1):M}},{key:"_checkConvertModeInner",value:function(v){var b=this;return!!It.checkProductKey(b,{Core:!0})&&(b._resetErr(),!!b._isValid()&&(v==zr.CM_RENDERALL||v==zr.CM_IMAGEONLY||v==zr.CM_AUTO||v==zr.CM_RENDERALLWITHANNOTATION||(xC(b),!1)))}},{key:"_resetPdfOptionsWhenSetConvertMode",value:function(v){var b=v.convertMode;b==zr.CM_IMAGEONLY||It.hasPDFRProductKey(this)?v.convertMode=b:v.convertMode=zr.CM_IMAGEONLY,v.convertMode==zr.CM_IMAGEONLY||v.convertMode==zr.CM_RENDERALL?v.renderOptions.renderAnnotations=!1:v.convertMode==zr.CM_RENDERALLWITHANNOTATION&&(v.renderOptions.renderAnnotations=!0)}},{key:"_checkPDFPasswordValue",value:function(v){if(!m.isUndefined(v)){if(!m.isString(v))return Me(this,-2852,"The password is not a string."),!1;if(v.length>32)return function(b){Me(b,-2851,"The password must not exceed 32 characters in length.")}(this),!1}return!0}},{key:"_mixSavedPdfReaderOptions",value:function(v){var b;return b=m.clone(this._pdfOptions),v||(v={}),v.convertMode&&(b.convertMode=v.convertMode),m.isString(v.password)?b.password=v.password:m.isNumber(v.password)&&(b.password=""+v.password),m.isBoolean(v.preserveUnmodifiedOnSave)&&(b.preserveUnmodifiedOnSave=v.preserveUnmodifiedOnSave),v.renderOptions&&(b.renderOptions=m.mix(this._pdfOptions.renderOptions,v.renderOptions)),b}},{key:"_setReaderOptions",value:function(v,b){var C,D,M=this,j=-1;if(M._resetErr(),v&&v.renderOptions){var Y=v.renderOptions.resolution,ee=v.renderOptions.maxWidth,te=v.renderOptions.maxHeight,de=v.renderOptions.renderGrayscale;if(!m.isUndefined(Y)&&(!V.Lib.isNumber(Y)||Y<=0))return Me(M,-2830,"The PDF resolution must be a positive number."),!1;if(!m.isUndefined(ee)&&(!V.Lib.isNumber(ee)||ee<0))return function(B){Me(B,-2831,"The PDF max width must be a positive number.")}(M),!1;if(!m.isUndefined(te)&&(!V.Lib.isNumber(te)||te<0))return function(B){Me(B,-2832,"The PDF max height must be a positive number.")}(M),!1;if(!m.isUndefined(de)&&!V.Lib.isBoolean(de))return function(B){Me(B,-2833,"The PDF render grayscale must be a boolean.")}(M),!1}if(b){C={},v||(v={}),v.convertMode?C.convertMode=v.convertMode:C.convertMode=zr.CM_AUTO,j=C.convertMode,m.isString(v.password)?C.password=v.password:m.isNumber(v.password)?C.password=""+v.password:C.password="",v.preserveUnmodifiedOnSave?C.preserveUnmodifiedOnSave=!0:C.preserveUnmodifiedOnSave=!1,C.renderOptions=m.mix({renderAnnotations:!1,resolution:200,maxWidth:0,maxHeight:0,renderGrayscale:!1},v.renderOptions);var Z=C.renderOptions.renderAnnotations;m.isBoolean(Z)||m.isString(Z)&&(C.renderOptions.renderAnnotations=Z.toLowerCase()=="true");var ne=C.renderOptions.renderGrayscale;if(m.isBoolean(ne)||m.isString(ne)&&(C.renderOptions.renderGrayscale=ne.toLowerCase()=="true"),m.isNumber(C.convertMode)){if(!M._checkConvertModeInner(C.convertMode))return!1;It.hasPDFRProductKey(M)||(C.convertMode=zr.CM_IMAGEONLY),C.convertMode==zr.CM_IMAGEONLY?C.renderOptions.renderAnnotations=!1:C.convertMode==zr.CM_RENDERALLWITHANNOTATION&&(C.renderOptions.renderAnnotations=!0)}}else{if(m.isUndefined(v))return function(B){Me(B,-2834,"The PDF reader options is invalid.")}(M),!1;if(C=v,!(m.isString(v.password)||m.isUndefined(v.password))){if(!m.isNumber(v.password))return function(B){Me(B,-2829,"The type of the PDF password must be a string.")}(M),!1;v.password=""+v.password}}var X=M._getPdfDllname();D=["[",m.stringify(C),',"',X,'"',"]"].join("");var F=M._innerFun("SetPDFReaderOptions",D);return F&&b&&(M._pdfOptions=m.clone(C),m.isNumber(C.convertMode)&&(C.convertMode==zr.CM_RENDERALL&&C.renderOptions.renderAnnotations&&(C.convertMode=zr.CM_RENDERALLWITHANNOTATION),M._pdfConvertMode=C.convertMode,M._pdfOptions.convertMode==zr.CM_IMAGEONLY&&j==zr.CM_RENDERALL||M._pdfOptions.convertMode==zr.CM_IMAGEONLY&&j==zr.CM_RENDERALLWITHANNOTATION))?(M._pdfConvertMode=zr.CM_IMAGEONLY,_f(M),!1):F}},{key:"_getPdfDllname",value:function(){var v=this,b=!1,C=!1;return v._bRemoteMode?v.__serverPlatform==Kt.enumWindow||(v.__serverPlatform==Kt.enumLinux?C=!0:v.__serverPlatform==Kt.enumMac&&(b=!0)):(b=he.bMac,C=he.bLinux,he.bWin),b?v._b64bit?"libDMCodecx64.dylib":"libDMCodec.dylib":C?"libDMCodec.so":v._b64bit?"DMCodecx64.dll":"DMCodec.dll"}},{key:"_unload_viewer",value:function(){}},{key:"__innerDeleteInMap",value:function(){return this._id,delete V.DWT.WebTwainIdMap[this._id],st}},{key:"__unload",value:(d=s(E().mark(function v(){var b,C,D,M;return E().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(b=this,C=m.clone(V.DWT.licenseException),b.__closeRemoteScanUI(!0),!b._destroy&&!b._destroying){j.next=5;break}return j.abrupt("return");case 5:return b._destroying=!0,this.__innerDeleteInMap(),b.__addon&&b.__addon.Camera&&b.__addon.Camera._viewer&&(b.__addon.Camera.getStatus()!=""&&b.__addon.Camera.closeSource().catch(function(){}),b.__addon.Camera._viewer.dispose(),b.__addon.Camera._viewer=null),b._unload_viewer(),b._containerElement=null,b._ImgManager&&b._ImgManager.clear(),V.DWT.lremoveDWTObj(b),j.prev=12,j.next=15,x(A(r.prototype),"__unload",this).call(this);case 15:j.next=20;break;case 17:j.prev=17,j.t0=j.catch(12),D=j.t0;case 20:if(b.__bAcquireImageNow=!1,b._destroying=!1,b._destroy=!0,(M=V.DWT.licenseException).code=C.code,M.message=C.message,M.fromLTS=C.fromLTS,!D){j.next=29;break}throw D;case 29:case"end":return j.stop()}},v,this,[[12,17]])})),function(){return d.apply(this,arguments)})},{key:"_setIfShowUI",value:function(v){this._resetErr(),this._isValid()&&(m.isBoolean(v)?this._innerFun("IfShowUI",Ge(v)):ki(self))}},{key:"_setIfShowFileDialog",value:function(v){this._resetErr(),this._isValid()&&(m.isBoolean(v)?this._innerFun("IfShowFileDialog",Ge(v)):ki(self))}},{key:"_getDevicesAsync",value:(u=s(E().mark(function v(b,C,D,M){var j,Y,ee,te,de;return E().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(j=this,Y=[],!C||m.isNumber(C)){Z.next=4;break}return mr(j),Z.abrupt("return",Pe.Promise.reject({code:j._errorCode,message:j._errorString}));case 4:if(ee=j._bRemoteMode?Qp:he.bAndroid?KC:Qp,te=C??ee,j._resetErr(),j._isValid()){Z.next=8;break}return Z.abrupt("return",Pe.Promise.reject({code:j._errorCode,message:j._errorString}));case 8:return On(b,j),Z.prev=9,Z.next=12,j._getDevices(te,D,M);case 12:de=Z.sent,m.isArray(de)&&de.length>0&&(Y=Y.concat(de)),Z.next=19;break;case 16:throw Z.prev=16,Z.t0=Z.catch(9),Z.t0;case 19:return Z.prev=19,un(b),Z.finish(19);case 22:return Y.length>0&&this._setDevices(Y),Z.abrupt("return",Y);case 24:case"end":return Z.stop()}},v,this,[[9,16,19,22]])})),function(v,b,C,D){return u.apply(this,arguments)})},{key:"_openSourceAsync",value:function(v){var b=this;return b._resetErr(),b._isValid()?(b._bRemoteMode&&b._initRemoteDiv(),b._innerFunV2("OpenSource").then(function(C){return b.__closeRemoteScanUI(!0),C},function(C){return b.__closeRemoteScanUI(!0),Pe.Promise.reject(C)})):Pe.Promise.reject({code:b._errorCode,message:b._errorString})}},{key:"_closeSourceAsync",value:function(v){var b=this;return b._resetErr(),b._isValid()?b._innerFunV2("CloseSource").then(function(){return b._curDevice=null,!0}):Pe.Promise.reject({code:b._errorCode,message:b._errorString})}},{key:"_selectSourceAsync",value:function(v,b,C){var D=this;return D._resetErr(),D._isValid()?D._getDevicesAsync(v,b).then(function(M){var j,Y,ee=document,te=M?M.length:0;Pe.dialog.selectsourcedlg&&(Pe.dialog.selectsourcedlg.close(),document.body.removeChild(Pe.dialog.selectsourcedlg),Pe.dialog.selectsourcedlg=!1);var de,Z,ne,X,F=-1;for((Y=ee.createElement("dialog")).className="dynamsoft-dialog-selectsource",he.bIE&&(Y.style.width="300px"),Y.setAttribute("closed","closed"),(de=[]).push('<ul id="dynamsoft-dialog-selectsource-sourcelist-ul">'),j=0;j<te;j++){var B="",U=D._getSourceNameByIndex(j);(D.__defaultSourceName==""&&j==0||D.__defaultSourceName==U)&&(B=" dynamsoft-dialog-selectsource-sourcelist-li-selected",F=j),de.push('<li class="dynamsoft-dialog-selectsource-item'+B+'" sourceindex="'+j+'">'+U+"</li>")}return de.push("</ul>"),de=de.join(""),m.isArray(C)&&C.length>=3?(Z=C[0],ne=C[1],X=C[2]):(Z="Select Source:",ne="Select",X="Cancel"),SE(Y,["<p>",Z,"</p>",'<div id="dynamsoft-dialog-selectsource-sourcelist">',de,"</div>",'<div><button class="dynamsoft-dialog-selectsource-button-select" >',ne,"</button>",'<button class="dynamsoft-dialog-selectsource-button-cancel" >',X,"</button></div>"].join("")),Pe.dialog.selectsourcedlg=Y,ee.body.appendChild(Pe.dialog.selectsourcedlg),m.each(m.sizzle(".dynamsoft-dialog-selectsource-item"),function(K,q){m.addEventListener(K,"click",function(re){for(var oe=re.target,fe=oe.getAttribute("sourceindex"),ae=oe.parentElement.children,ue=0;ue<ae.length;ue++)ae[ue].className="dynamsoft-dialog-selectsource-item";oe.className="dynamsoft-dialog-selectsource-item dynamsoft-dialog-selectsource-sourcelist-li-selected",m.get("dynamsoft-dialog-selectsource-sourcelist-ul").setAttribute("selectedSourceIndex",fe)})}),m.get("dynamsoft-dialog-selectsource-sourcelist-ul").setAttribute("selectedSourceIndex",F.toString()),Pe.dialog.setup(Pe.dialog.selectsourcedlg),Pe.dialog.selectsourcedlg&&Pe.dialog.selectsourcedlg.showModal(),ee.compatMode=="CSS1Compat"?ee.documentElement.scrollTop:ee.body.scrollTop,new Pe.Promise(function(K,q){m.removeEventListener(Pe.one(".dynamsoft-dialog-selectsource-button-select")[0],"click"),m.removeEventListener(Pe.one(".dynamsoft-dialog-selectsource-button-cancel")[0],"click"),te>0&&m.addEventListener(Pe.one(".dynamsoft-dialog-selectsource-button-select")[0],"click",function(){var re=parseInt(m.get("dynamsoft-dialog-selectsource-sourcelist-ul").getAttribute("selectedSourceIndex"));re<0||D._selectSourceByIndexAsync(v,re).then(function(){Pe.dialog.selectsourcedlg&&(Pe.dialog.selectsourcedlg.close(),document.body.removeChild(Pe.dialog.selectsourcedlg),Pe.dialog.selectsourcedlg=!1),K(re)})}),m.addEventListener(Pe.one(".dynamsoft-dialog-selectsource-button-cancel")[0],"click",function(){Pe.dialog.selectsourcedlg&&(Pe.dialog.selectsourcedlg.close(),document.body.removeChild(Pe.dialog.selectsourcedlg),Pe.dialog.selectsourcedlg=!1);var re={};Ia(re),q({code:re._errorCode,message:re._errorString})})})}):Pe.Promise.reject({code:D._errorCode,message:D._errorString})}},{key:"_dwtGetCapabilities",value:function(v,b,C){var D=this,M=null,j=function(){m.isFunction(C)&&C(D._errorCode,D._errorString)};if(v){if(!m.isArray(v))return mr(D),void j();if(v.length==0)return void(m.isFunction(b)&&b([]));if(function(Y,ee){var te,de,Z,ne;for(ne=0;ne<ee.length;ne++){if(te=ee[ne],de=!1,Z=!1,m.isString(te)){var X=te;te=parseInt(te),(m.isNaN(te)||te!=X)&&(de=!0)}if(de==0&&m.isNumber(te)?(te<1||te>65535)&&(Z=!0):de=!0,de)return mr(Y),!1;if(Z)return iQ(Y),!1}return!0}(D,v)===!1)return void j();M=Ge(v)}D._sendDataByHttpAsync("GetCapabilities",M).then(function(Y){try{var ee,te;Y.length>0&&(te=Y[0]),m.isString(te)?(te=Q.removeNonPrintableChar(te),(ee=JSON.parse(te)).errorCode==0?m.isFunction(b)&&b(ee.response):(D._errorCode=ee.errorCode,D._errorString=ee.errorString,j())):(Po(D),j())}catch(de){D._errorCode=-2302,D._errorString=de,j()}},j)}},{key:"_dwtSetCapabilities",value:function(v,b,C){var D=this;if(!m.isObject(v)||m.isArray(v))return mr(D),m.isFunction(C)&&C(D._errorCode,D._getErrorString()),!1;var M=["[",m.stringify(v),"]"].join("");return D._innerSend("SetCapabilities",M,0,function(j){m.isFunction(b)&&b(j)},C),!0}},{key:"_selectDeviceAsync",value:(o=s(E().mark(function v(b,C,D){var M,j;return E().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return M=this,On(b,this),Y.prev=2,Y.next=5,x(A(r.prototype),"_innerSelectDeviceAsync",this).call(this,C,D);case 5:(j=Y.sent)&&(M._curDevice=C,M._bSelectedSourceByServer=!1),Y.next=12;break;case 9:throw Y.prev=9,Y.t0=Y.catch(2),Y.t0;case 12:return Y.prev=12,un(b),Y.finish(12);case 15:return Y.abrupt("return",j);case 16:case"end":return Y.stop()}},v,this,[[2,9,12,15]])})),function(v,b,C){return o.apply(this,arguments)})},{key:"_selectSourceByIndexAsync",value:(i=s(E().mark(function v(b,C){var D,M,j;return E().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if(M=1*C,(D=this)._resetErr(),D._isValid()){Y.next=4;break}return Y.abrupt("return",Pe.Promise.reject({code:D._errorCode,message:D._errorString}));case 4:if(!m.isNaN(M)){Y.next=7;break}return nr(D),Y.abrupt("return",Pe.Promise.reject({code:D._errorCode,message:D._errorString}));case 7:if(D.__devices){Y.next=10;break}return Y.next=10,D._getDevicesAsync(b,null);case 10:if(!(M<0||M>=D.__devices.length)){Y.next=13;break}return nt(D),Y.abrupt("return",Pe.Promise.reject({code:D._errorCode,message:D._errorString}));case 13:return j=D.__devices[M],Y.abrupt("return",D._selectDeviceAsync(b,j));case 15:case"end":return Y.stop()}},v,this)})),function(v,b){return i.apply(this,arguments)})},{key:"_removeAllImages",value:function(v){var b=this,C=!0;if(b._resetErr(),!b._isValid())return!1;var D,M=[];for(D=b._getHowManyImagesInBuffer()-1;D>=0;D--){var j=b._imageBufferWrapper.convertClientIndexToServerId(D);j>-1&&M.push(j)}if(M.length>0){if(b._OnBitmapChanged(["c1",M.join(","),3,b._ImgManager.getCurrentImageIndex(),b._ImgManager.count()]),C=b._innerFunRaw("RemoveAllImages",Ge(M.join(",")),!1,!1,!1,function(){},function(){}),m.isArray(C))return C[0]}else C=!0;return C}},{key:"_removeImage",value:function(v,b){var C,D=this,M=parseInt(b);if(!wi(D,M))return!1;var j=D._ImgManager.convertClientIndexToServerId(M);return j==-1?(nt(D),!1):(((C=D._innerFun("RemoveImage",Ge(j)))||D._errorCode==-1033)&&D._OnBitmapChanged(["c1",""+j,3,D._ImgManager.getCurrentImageIndex(),D._ImgManager.count()]),C)}},{key:"__innerAcquireOrLoadImageAsync",value:function(v,b,C,D){var M=this;return new Pe.Promise(function(j,Y){var ee=v=="LoadImage"||v=="LoadImageEx"||v=="GenerateURLForUploadData",te=ee||v=="LoadDibFromClipboard";ee?Q.showProgress(M,v,!1):On(v,M),M._innerSend(v,b,!0,function(de){if(M.__bLoadingImage=!1,M.__bOpenFileNow=!1,M.__closeRemoteScanUI(!0),ee){if(Q.closeProgress(null,v),M._isBindViewer()){var Z=M._ImgManager.getCurrentImageIndex();Z>=0&&M._innerRefreshUI(Z)}}else un(v);te&&M._canConsume()&&V.DWT.lcvrf(M),m.isFunction(j)&&j(de)},function(de){ee?Q.closeProgress(null,""):un(v),M.__bLoadingImage=!1,M.__bAcquireImageNow=!1,M.__bOpenFileNow=!1,M.__closeRemoteScanUI(!0);var Z=M._ImgManager.getCurrentImageIndex();Z>=0&&M._innerRefreshUI(Z),jR(M._errorCode)&&_f(M),m.isFunction(Y)&&Y({code:M._errorCode,message:M._getErrorString()}),ee?Q.closeProgress(null,v):un(v),de&&m.error(de)})})}},{key:"_innerLoadImageFromBinary",value:function(v,b,C,D,M,j){var Y,ee,te=this,de=b;if(!It.checkProductKey(te,{Core:!0}))return m.isFunction(j)&&j(te._errorCode,te._getErrorString()),!1;if(!v||v=="")return io(te),m.isFunction(j)&&j(te._errorCode,te._getErrorString()),!1;if(m.isString(v))return mr(te),m.isFunction(j)&&j(te._errorCode,te._getErrorString()),!1;if(v instanceof Blob)ee=v.size;else if(Uu(v))ee=v.byteLength;else if(v instanceof Array)ee=v.length;else{var Z=v;ee=Z.size||Z.byteLength||Z.length}if(!ee||ee=="")return mr(te),m.isFunction(j)&&j(te._errorCode,te._getErrorString()),!1;var ne=v.currentFileName;ne||(ne=te._getCurrentDocumentName());var X,F=v.currentTagName;if(F||!m.isUndefined(v.bNeedClearCurrentTagName)&&v.bNeedClearCurrentTagName||(F=te._getCurrentDefaultTagName()),v instanceof FileList){if(v.length==1)return v[0].currentFileName=ne,v[0].currentTagName=F,te._innerLoadImageFromBinary(v[0],de,C,M,j);if(v.length>1){var B;for(m.asyncQueue.stop(),su.stop(),B=0;B<v.length;B++)v[B].currentFileName=ne,v[B].currentTagName=F,B==v.length-1?m.asyncQueue.pushToDo(te,"_innerLoadImageFromBinary",[v[B],de,C,M,j]):m.asyncQueue.pushToDo(te,"_innerLoadImageFromBinary",[v[B],de,C,null,j]);return m.asyncQueue.start(),!0}return io(te),m.isFunction(j)&&j(te._errorCode,te._getErrorString()),!1}if(window.ReadableStream&&v instanceof ReadableStream?Y=new Response(v):window.Response&&v instanceof Response&&(Y=v),Y)Y.arrayBuffer().then(function(fe){var ae;(ae=new Blob([fe])).currentFileName=v.currentFileName,ae.currentTagName=v.currentTagName;var ue=D,ve=0;C&&(ve=te.__GetLoadEventsNum()),te.__LoadImageFromBytesV1(ae,-1,"",ve,ue,M,j)});else{var U=v;D&&Uu(U)&&((U=new Blob([v])).currentFileName=v.currentFileName,U.currentTagName=v.currentTagName);var K=-1,q=D,re=V.DWT.EnumDWT_ImageType;m.isString(U.type)&&(U.type=="application/pdf"?K=re.IT_PDF:U.type=="image/png"?K=re.IT_PNG:U.type=="image/jpeg"||U.type=="image/jpg"?K=re.IT_JPG:U.type=="image/bmp"?K=re.IT_BMP:U.type=="image/tiff"||U.type=="image/tif"?K=re.IT_TIF:U.type=="image/jp2"&&(K=re.IT_J2K));var oe=0;C&&(oe=te.__GetLoadEventsNum()),X=te.__LoadImageFromBytesV1(U,K,"",oe,q,M,j)}return!!D||X}},{key:"__LoadImageFromBytes",value:function(v,b,C,D,M,j,Y,ee){var te=this.__LoadImageFromBytesV2(v,b,C,D,Y,ee,!1,0,M,j);return D?te:this._errorCode==0}},{key:"__LoadImageFromBytesV1",value:function(v,b,C,D,M,j,Y){var ee=this.__LoadImageFromBytesV2(v,b,C,M,0,0,!1,D,j,Y);return M?ee:this._errorCode==0}},{key:"_isMobileMode",value:function(){return!1}},{key:"ErrorCode",get:function(){return this._errorCode}},{key:"ErrorString",get:function(){return this._getErrorString()}},{key:"ErrorCause",get:function(){return this._errorCause}},{key:"HowManyImagesInBuffer",get:function(){return this._getHowManyImagesInBuffer()}},{key:"_OnActiveUIClearBuffer",value:function(){var v=this.__OnBufferChanged;this.__OnBufferChanged=null,this._ImgManager.clear(),this.__OnBufferChanged=v}}]);var i,o,u,d,l,c,p,g,S}(lB);function ple(t,r,i){var o=this;return o._dwtConvertToBlobSync(r,t,i,function(u){if(!u||u.size<=0)return _R(o),!1;var d=o.__maxUploadImageSize;return u.size>d&&d!=-1?(nu(o),!1):u},function(u){return!1})}function hB(){this.__defaultSourceName="",this.__sourceCount=0}function pB(t,r){var i=this,o=i._getPdfDllname(),u=["[",m.stringify(t),',"',o,'"',"]"].join("");return i._innerFunV2("SetPDFReaderOptions",u).then(function(){if(m.isNumber(r)&&(i._pdfConvertMode=r),i._pdfOptions.convertMode=t.convertMode,i._pdfOptions.renderOptions.renderAnnotations=t.renderOptions.renderAnnotations,i._pdfOptions.preserveUnmodifiedOnSave=t.preserveUnmodifiedOnSave,i._pdfOptions.convertMode==zr.CM_IMAGEONLY&&i._pdfConvertMode==zr.CM_RENDERALL||i._pdfOptions.convertMode==zr.CM_IMAGEONLY&&i._pdfConvertMode==zr.CM_RENDERALLWITHANNOTATION)throw i._pdfConvertMode=zr.CM_IMAGEONLY,_f(i),{code:i._errorCode,message:i._errorString};return!0})}var mB=function(t,r){if(Tn.bDiscardBlankImage){var i=t._ImgManager.getCurrentImageIndex();t.IsBlankImage(i)&&t.RemoveImage(i);var o=["Blank Discard (",r,"): ",t.ErrorString].join("");m.isFunction(t.__OnPrintMsg)&&t.__OnPrintMsg(o)}};function mle(t){return gB.apply(this,arguments)}function gB(){return(gB=s(E().mark(function t(r){var i,o,u,d;return E().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(i=r,!V.DWT.ConnectWithSocket){l.next=6;break}return l.next=4,new Pe.Promise(function(c,p){i._sendData("IfDisableSourceAfterAcquire","[1]",!1,c,p)});case 4:l.next=8;break;case 6:return l.next=8,r._innerFunV2("IfDisableSourceAfterAcquire","[1]");case 8:o=Tr.TWAIN,u=!1,d=!1,i._bRemoteMode?i.__serverPlatform==Kt.enumWindow||(i.__serverPlatform==Kt.enumLinux?d=!0:i.__serverPlatform==Kt.enumMac&&(u=!0)):(u=he.bMac,d=he.bLinux,he.bWin),u?o=Tr.TWAIN_AND_ICA:d&&(o=Tr.SANE),r._driverType=o,r._bRemoteMode&&(r._setIfShowUI(!1),r._setIfShowFileDialog(!1));case 13:case"end":return l.stop()}},t)}))).apply(this,arguments)}function gle(t,r){(function(i,o){if(o.has(i))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,r),r.add(t)}function Ra(t,r,i){if(typeof t=="function"?t===r:t.has(r))return arguments.length<3?r:i;throw new TypeError("Private element is not present on this object")}var ua=new WeakSet,vle=function(t){function r(){var o;h(this,r);for(var u=arguments.length,d=new Array(u),l=0;l<u;l++)d[l]=arguments[l];return gle(o=f(this,r,[].concat(d)),ua),o}return P(r,t),y(r,[{key:"SaveAsGIF",value:function(o,u,d,l){var c=this,p=!1;if(m.isFunction(d)&&(p=!0),c._resetErr(),!c._isValid())return m.isFunction(l)&&pt(l,c),!!p&&void 0;if(!(It.checkProductKey(c,{Core:!0})||he.bWin&&It.checkProductKey(c,{Webcam:!0},!0)))return It.checkProductKey(c,{Core:!0},!1),m.isFunction(l)&&l(c._errorCode,c._getErrorString()),!!p&&void 0;var g,S=Rt.replaceLocalFilename(o);if(!kl(c,u,l))return!!p&&void 0;if((g=c._ImgManager.convertClientIndexToServerId(u))==-1)return nt(c),m.isFunction(l)&&pt(l,c),!!p&&void 0;var v=c.__GetLoadEventsNum(),b=c.__innerSaveImage("SaveAsGIF",Ge(S,g,v),d,l);return p?void 0:b}},{key:"SaveSelectedImagesToBase64Binary",value:function(o,u){var d=this,l=!1;if(m.isFunction(o)&&(l=!0),d._resetErr(),!d._isValid())return m.isFunction(u)&&pt(u,d),!!l&&void 0;if(!(It.checkProductKey(d,{Core:!0})||he.bWin&&It.checkProductKey(d,{Webcam:!0},!0)))return It.checkProductKey(d,{Core:!0},!1),m.isFunction(u)&&u(d._errorCode,d._getErrorString()),!!l&&void 0;var c=Rf(d);return c.length==0?(Ii(d),m.isFunction(u)&&pt(u,d),!!l&&void 0):l?void d._innerSend("SaveSelectedImagesToBase64Binary",Ge(c.join(",")),!0,o,u):d._innerFun("SaveSelectedImagesToBase64Binary",Ge(c.join(",")))}},{key:"ShowFileDialog",value:function(o,u,d,l,c,p,g,S){var v=this;if(v._resetErr(),!v._isValid())return!1;var b,C=Rt.replaceLocalFilename(c);return b=v.__GetLoadEventsNum(),v._innerSend("ShowFileDialog",Ge(o,u,d,l,C,p,g,S,b),!0),!0}},{key:"FTPDownload",value:function(o,u,d,l){var c=this,p=!1;if(m.isFunction(d)&&(p=!0),c._resetErr(),!c._isValid())return m.isFunction(l)&&pt(l,c),!!p&&void 0;if(!o)return mr(c),m.isFunction(l)&&pt(l,c),!!p&&void 0;var g=Rt.getImageType(u);return Ra(ua,c,_B).call(c,"FTPDownload",[o,u],g,d,l)}},{key:"FTPDownloadEx",value:function(o,u,d,l,c){var p=this,g=!1;return m.isFunction(l)&&(g=!0),p._resetErr(),p._isValid()?o?Ra(ua,p,_B).call(p,"FTPDownloadEx",[o,u,d],d,l,c):(mr(p),m.isFunction(c)&&pt(c,p),!!g&&void 0):(m.isFunction(c)&&pt(c,p),!!g&&void 0)}},{key:"FTPUpload",value:function(o,u,d,l,c){var p=this,g=!1;if(m.isFunction(l)&&(g=!0),p._resetErr(),!p._isValid())return m.isFunction(c)&&pt(c,p),!!g&&void 0;if(!kl(p,u,c))return!!g&&void 0;var S=p._ImgManager.convertClientIndexToServerId(u);if(S==-1)return nt(p),m.isFunction(c)&&pt(c,p),!!g&&void 0;var v=p.__innerFTPUpload("FTPUpload",Ge(o,S,d),l,c);return g?void 0:v}},{key:"FTPUploadEx",value:function(o,u,d,l,c,p){var g,S=this,v=!1;if(m.isFunction(c)&&(v=!0),S._resetErr(),!S._isValid())return m.isFunction(p)&&pt(p,S),!!v&&void 0;if(!kl(S,u,p))return!!v&&void 0;if((g=S._ImgManager.convertClientIndexToServerId(u))==-1)return nt(S),m.isFunction(p)&&pt(p,S),!!v&&void 0;var b=S.__innerFTPUpload("FTPUploadEx",Ge(o,g,d,l),c,p);return v?void 0:b}},{key:"FTPUploadAllAsMultiPageTIFF",value:function(o,u,d,l){var c=this,p=!1;if(m.isFunction(d)&&(p=!0),c._resetErr(),!c._isValid())return m.isFunction(l)&&pt(l,c),!!p&&void 0;var g=[];Cy(c,g);var S=c.__innerFTPUpload("FTPUploadAsMultiPageTIFF",Ge(o,u,g.join(",")),d,l);return p?void 0:S}},{key:"FTPUploadAllAsPDF",value:function(o,u,d,l){var c=this,p=!1;if(m.isFunction(d)&&(p=!0),c._resetErr(),!c._isValid())return m.isFunction(l)&&pt(l,c),!!p&&void 0;var g=[];Cy(c,g);var S=c.__innerFTPUpload("FTPUploadAsMultiPagePDF",Ge(o,u,g.join(",")),d,l);return p?void 0:S}},{key:"FTPUploadAsMultiPagePDF",value:function(o,u,d,l){var c=this,p=!1;if(m.isFunction(d)&&(p=!0),c._resetErr(),!c._isValid())return m.isFunction(l)&&pt(l,c),!!p&&void 0;var g=Rf(c),S=c.__innerFTPUpload("FTPUploadAsMultiPagePDF",Ge(o,u,g.join(",")),d,l);return p?void 0:S}},{key:"FTPUploadAsMultiPageTIFF",value:function(o,u,d,l){var c=this,p=!1;if(m.isFunction(d)&&(p=!0),c._resetErr(),!c._isValid())return m.isFunction(l)&&pt(l,c),!!p&&void 0;var g=Rf(c),S=c.__innerFTPUpload("FTPUploadAsMultiPageTIFF",Ge(o,u,g.join(",")),d,l);return p?void 0:S}},{key:"HTTPDownloadDirectly",value:function(o,u,d,l,c){var p,g=this,S=!1;if(m.isFunction(l)&&(S=!0),g._resetErr(),!g._isValid()||!It.checkProductKey(g,{Core:!0}))return m.isFunction(c)&&pt(c,g),!!S&&void 0;var v,b,C=g._GetHttpHeadersAndClear(),D=Rt.combineUrl(g,o,u);if(D===void 0)return io(g),m.isFunction(c)&&pt(c,g),!!S&&void 0;if(!d||d=="")return function(te,de){Me(te,-2309,"The LocalFile is empty in the name "+de+" Function.")}(g,"HTTPDownloadDirectly"),m.isFunction(c)&&pt(c,g),!!S&&void 0;if(v=Rt.getImageType(d),!It.checkPDFProductKeyWhenNeeds(g,v))return m.isFunction(c)&&pt(c,g),!!S&&void 0;Q.cancelFrom=sr.HTTPDownload,b=Rt.replaceLocalFilename(d),g.IfShowProgressBar?Q.showProgress(g,"HTTPDownloadDirectly",!1):Q.hideProgress();var M=(p=Q.progressContext)===null||p===void 0?void 0:p.IfShowCancelDialogWhenImageTransfer,j=function(){return g.IfShowProgressBar&&Q.closeProgress(null,"HTTPDownloadDirectly"),m.isFunction(l)&&l(),!0},Y=function(){return Q.progressContext&&(Q.progressContext.IfShowCancelDialogWhenImageTransfer=M),g.IfShowProgressBar&&Q.closeProgress(null,"HTTPDownloadDirectly"),m.isFunction(c)&&pt(c,g),!1};g._OnPercentDone([0,-1,tn.Downloading,"http"]),Q.progressContext&&(Q.progressContext.IfShowCancelDialogWhenImageTransfer=!0);var ee=Rt.loadHttpBlob(g,"get",D,S,function(te){Q.progressContext&&(Q.progressContext.IfShowCancelDialogWhenImageTransfer=M),g._OnPercentDone([0,-1,tn.Loading]);var de=g.__GetLoadEventsNum();return g.__LoadImageFromBytesV1(te,3,b,de,S,j,Y)},Y,function(te){var de=te.total===0?100:Math.round(100*te.loaded/te.total);[te.loaded," / ",te.total].join(""),de>=100&&te.loaded<te.total&&(de=99),g._OnPercentDone([0,de,"","http"])},C);return S?void 0:!!ee}},{key:"HTTPUploadThroughPostDirectly",value:function(o,u,d,l,c,p){var g=this,S=!1,v=function(){m.isFunction(p)&&pt(p,g,g.__HTTPPostResponseString)};if(m.isFunction(c)&&(S=!0),g._resetErr(),g.__HTTPPostResponseString="",!g._isValid())return v(),!!S&&void 0;var b=Rt.combineUrl(g,o,d);if(!u)return nd(g),v(),!!S&&void 0;if(!o)return pC(g),v(),!!S&&void 0;var C=this.IfShowProgressBar;return g._innerUploadDirectly(b,u,l,C,!1,0,!0,!1,c,v)}},{key:"_innerUploadDirectly",value:function(o,u,d,l,c,p,g,S,v,b){var C,D,M=this,j=M._GetHttpHeadersAndClear(),Y="HTTPUploadThroughPostDirectly",ee=!1;if(m.isFunction(v)&&(ee=!0),o===void 0||o===!1||o==="")return io(M),m.isFunction(b)&&pt(b,M),!!ee&&void 0;if(!It.checkProductKey(M,{Core:!0}))return m.isFunction(b)&&pt(b,M),!!ee&&void 0;Q.cancelFrom=sr.HTTPUpload;var te=function(de,Z,ne){return de!=0&&Z&&(M._errorCode=de,M._errorString=Z),ne&&(M.__HTTPPostResponseString=ne),Q.needShowTwiceShowDialog=!1,l&&Q.closeProgress(null,Y),m.isFunction(b)&&pt(b,M),!1};return Q.needShowTwiceShowDialog=!0,l?Q.showProgress(M,Y,!1):Q.hideProgress(),(C=Rt.replaceLocalFilename(u))&&C!=""?S&&S.bCancel?(S.st=2,Ia(M),te(M._errorCode,M._errorString),!!ee&&void 0):(D=Ra(ua,M,vB).call(M,C,ee,c,function(de){if(Q.needShowTwiceShowDialog=!1,S&&S.bCancel)return S.st=2,Ia(M),te(M._errorCode,M._errorString),!1;if(de&&(!l||l&&Q.dlgRef>0||ee==0)){de instanceof File?de.fileName=d:de.name=d,l&&Xu(M.__IfShowCancelDialogWhenImageTransfer);var Z=new mu,ne=M._createHttpUploaderConfig(),X=new es;return M.__remoteFilename&&M.__remoteFilename!=""&&(X.remoteFilename=M.__remoteFilename),ne.objUploadStatus=S,X.url=o,X.method=Y,X.content=de,de=null,X.contentType=M._strHttpContentTypeFieldValue,X.headers=j,X.bAsync=ee,X.httpFormData=Zl(M.httpFormFields),X.retry=p,X.bOnlyResponseEmptyIsOK=g,X.blockSize=M._moduleSize,Z.httpPostUpload(ne,X,function(F){return l&&Q.closeProgress(null,Y),m.isFunction(v)&&ai(v,F),!0},te)}return nd(M),te(M._errorCode,M._errorString),!1},te),ee?void 0:!!D):(nd(M),te(M._errorCode,M._errorString),!!ee&&void 0)}},{key:"_innerUploadFilesDirectly",value:function(o,u,d,l,c,p,g,S,v){var b,C=this,D=C._GetHttpHeadersAndClear(),M="HTTPUploadThroughPostDirectly",j=!1,Y=[];if(m.isFunction(S)&&(j=!0),o===!1||o==="")return io(C),m.isFunction(v)&&v({code:C._errorCode,message:C._getErrorString(),files:u}),!1;if(!It.checkProductKey(C,{Core:!0}))return m.isFunction(v)&&v({code:C._errorCode,message:C._getErrorString(),files:u}),!1;Q.cancelFrom=sr.HTTPUpload;var ee=function(ne,X,F){return ne!=0&&X&&(C._errorCode=ne,C._errorString=X),F&&(C.__HTTPPostResponseString=F),Q.needShowTwiceShowDialog=!1,l&&Q.closeProgress(null,M),m.isFunction(v)&&v({code:C._errorCode,message:C._errorString,response:F,files:u}),!1};Q.needShowTwiceShowDialog=!0,l?Q.showProgress(C,M,!1):Q.hideProgress(),m.each(u,function(ne){var X=Rt.replaceLocalFilename(ne);if(!X||X=="")return nd(C),ee(C._errorCode,C._errorString),!1;Y.push(X)});var te=[],de=Y.length,Z=0;return m.each(Y,function(ne,X){b=Ra(ua,C,vB).call(C,ne,j,c,function(F){if(Q.needShowTwiceShowDialog=!1,!F||l&&!(l&&Q.dlgRef>0)&&j!=0)return l&&Q.closeProgress(null,M),gC(C),m.isFunction(ee)&&ee(C._errorCode,C._errorString),!1;var B=sa(d,X+1);if(F instanceof File?F.fileName=B:F.name=B,te[X]=F,F=null,++Z==de){l&&Xu(C.__IfShowCancelDialogWhenImageTransfer);var U=C._createHttpUploaderConfig(),K=new es;C.__remoteFilename&&C.__remoteFilename!=""&&(K.remoteFilename=C.__remoteFilename),K.url=o,K.method=M,K.content=te,te=null,K.contentType=C._strHttpContentTypeFieldValue,K.headers=D,K.bAsync=j,K.httpFormData=Zl(C.httpFormFields),K.retry=p,K.bOnlyResponseEmptyIsOK=g,K.blockSize=C._moduleSize;var q=sB(U,K,function(re){return l&&Q.closeProgress(null,M),m.isFunction(S)&&ai(S,re),!0},function(re,oe,fe){return l&&Q.closeProgress(null,M),m.isFunction(ee)&&ee(re,oe,fe),!1});return j?void 0:q}},function(){return l&&Q.closeProgress(null,M),m.isFunction(ee)&&ee(),!1})}),j?void 0:!!b}},{key:"_createHttpUploaderConfig",value:function(){var o=this,u=new uB;return u.IfShowProgressBar=o.IfShowProgressBar,u.IfShowCancelDialogWhenImageTransfer=o.__IfShowCancelDialogWhenImageTransfer,u.MaxUploadImageSize=o.MaxUploadImageSize,u.HTTPRequestswithCredentials=o.HTTPRequestswithCredentials,u.onPercent=function(d){o._OnPercentDone(d)},u.onHttpUploadStatus=function(d){m.isFunction(o.__OnHttpUploadStatus)&&o.__OnHttpUploadStatus(d)},u}},{key:"SetUploadSegment",value:function(o,u){var d=this;return d._resetErr(),!!d._isValid()&&(!m.isNumber(o)||o<0?(Me(d,-2367,"Invalid value for the parameter segmentUploadThreshold."),!1):!m.isNumber(u)||u<=0?(function(l){Me(l,-2368,"Invalid value for the parameter moduleSize.")}(d),!1):(d._segementUploadThreshold=1024*o*1024,d._moduleSize=1024*u,!0))}},{key:"ConvertToBase64",value:function(o,u,d,l){var c,p=this,g=arguments,S=!1;if(m.isFunction(d)&&(S=!0),p._resetErr(),!p._isValid())return m.isFunction(l)&&Ni(l,p,o,u,g),!!S&&void 0;var v=parseInt(u);if(!It.checkProductKey(p,{Core:!0})||!p._checkIndices(o))return m.isFunction(l)&&Ni(l,p,o,u,g),!!S&&void 0;if(v==V.DWT.EnumDWT_ImageType.IT_BMP||v==V.DWT.EnumDWT_ImageType.IT_JPG||v==V.DWT.EnumDWT_ImageType.IT_PNG){if(o.length>1)return Me(p,-2361,"You cannot convert more than one image to base64 string when the format is BMP, JPG or PNG."),m.isFunction(l)&&Ni(l,p,o,u,g),!!S&&void 0}else if(v!=V.DWT.EnumDWT_ImageType.IT_TIF&&v!=V.DWT.EnumDWT_ImageType.IT_PDF)return go(p),m.isFunction(l)&&Ni(l,p,o,u,g),!!S&&void 0;if((c=Nl(p,o)).length==0)return nr(p),m.isFunction(l)&&Ni(l,p,o,u,g),!!S&&void 0;Q.cancelFrom=sr.ConvertToBlob,p._convertToBase64ByServerIdsWithUI("ConvertToBase64",c,v,!1,3,function(b){var C=[];m.isArray(c)&&m.each(c,function(D){var M=p._ImgManager.convertServerIdToClientIndex(D);M>-1&&C.push(M)}),m.isFunction(d)&&ai(d,b,C,u,g)},function(){var b=[];m.isArray(c)&&m.each(c,function(C){var D=p._ImgManager.convertServerIdToClientIndex(C);D>-1&&b.push(D)}),m.isFunction(l)&&Ni(l,p,b,u,g)})}},{key:"ClearAllHTTPFormField",value:function(){var o=this;return o._resetErr(),!!o._isValid()&&(o.httpFormFields={},!0)}},{key:"SetHTTPFormField",value:function(o,u,d){var l=this;if(l._resetErr(),!l._isValid())return!1;var c=o;return m.isString(c)||(c=""+c),u instanceof Blob&&(u.name=d),l.httpFormFields[c]=u,!0}},{key:"HTTPDownloadThroughPost",value:function(o,u,d,l,c,p){var g,S,v=this,b=v._GetHttpHeadersAndClear(),C=Rt.combineUrl(v,o,u),D=!1;if(m.isFunction(l)&&(D=!0),C===void 0)return io(v),m.isFunction(c)&&pt(c,v,""),!!D&&void 0;if(!It.checkProductKey(v,{Core:!0})||!It.checkPDFProductKeyWhenNeeds(v,d))return m.isFunction(c)&&pt(c,v,""),!!D&&void 0;Q.cancelFrom=sr.HTTPDownload,v.IfShowProgressBar?Q.showProgress(v,"HttpDownloadThroughPost",!1):Q.hideProgress(),v._OnPercentDone([0,-1,tn.Downloading,"http"]);var M=(g=Q.progressContext)===null||g===void 0?void 0:g.IfShowCancelDialogWhenImageTransfer,j=function(){return v.IfShowProgressBar&&Q.closeProgress(null,"HttpDownloadThroughPost"),m.isFunction(l)&&l(),!0},Y=function(){return Q.progressContext&&(Q.progressContext.IfShowCancelDialogWhenImageTransfer=M),v.IfShowProgressBar&&Q.closeProgress(null,"HttpDownloadThroughPost"),m.isFunction(c)&&pt(c,v,v.__HTTPPostResponseString),!1};return Q.progressContext&&(Q.progressContext.IfShowCancelDialogWhenImageTransfer=!0),S=Rt.loadHttpBlob(v,"post",C,D,function(ee){Q.progressContext&&(Q.progressContext.IfShowCancelDialogWhenImageTransfer=M),v._OnPercentDone([0,-1,tn.Loading]);var te=d;te!=V.DWT.EnumDWT_ImageType.IT_BMP&&te!=V.DWT.EnumDWT_ImageType.IT_JPG&&te!=V.DWT.EnumDWT_ImageType.IT_TIF&&te!=V.DWT.EnumDWT_ImageType.IT_PNG&&te!=V.DWT.EnumDWT_ImageType.IT_PDF&&te!=V.DWT.EnumDWT_ImageType.IT_J2K&&(te=-1);var de=v.__GetLoadEventsNum();return v.__LoadImageFromBytesV1(ee,te,"",de,D,j,Y)},Y,function(ee){var te=ee.total===0?100:Math.round(100*ee.loaded/ee.total);[ee.loaded," / ",ee.total].join(""),te>=100&&ee.loaded<ee.total&&(te=99),v._OnPercentDone([0,te,"","http"])},b),D?void 0:!!S}},{key:"HTTPDownloadThroughGet",value:function(o,u,d,l,c){return this._innerHTTPDownloadThroughGet("HTTPDownload",o,u,d,l,c)}},{key:"HTTPUploadThroughPut",value:function(o,u,d,l,c){var p=Rt.getImageType(d);return this.HTTPUploadThroughPutEx(o,u,d,p,l,c)}},{key:"HTTPUploadThroughPutEx",value:function(o,u,d,l,c,p){var g=this,S=g._GetHttpHeadersAndClear(),v="HTTPUploadThroughPutEx",b=Rt.combineUrl(g,o,d),C=!1,D=[],M=!1,j=this.IfShowProgressBar;if(m.isFunction(c)&&(C=!0),b===void 0)return io(g),m.isFunction(p)&&Ni(p,g,"",[u],d,l),!!C&&void 0;Q.cancelFrom=sr.HTTPPut;var Y,ee=function(){Q.needShowTwiceShowDialog=!1,j&&Q.closeProgress(null,v),m.isFunction(p)&&Ni(p,g,g.__HTTPPostResponseString,D,d,l)};switch(Q.needShowTwiceShowDialog=!0,j?Q.showProgress(g,v,!1):Q.hideProgress(),u){case-1:for(var te=0;te<g._ImgManager.count();te++)D.push(te);break;case-2:D=g._ImgManager.getSelectedClientIndexArray();break;default:if(D.push(u),!(u>=0))return nt(g),ee(),!!C&&void 0}if(o==="")return pC(g),ee(),!!C&&void 0;var de=[];m.isArray(D)&&m.each(D,function(X){var F=g._ImgManager.convertClientIndexToServerId(X);F!=-1&&de.push(F)});var Z=!1;g._OnPercentDone([0,-1,tn.Encoding,"http"]);var ne=function(X,F,B){if(V.DWT.IfAddMD5InUploadHeader&&F&&F!=""&&(S["dwt-md5"]=F),Q.needShowTwiceShowDialog=!1,X&&(!j||j&&Q.dlgRef>0||C==0)){var U=g.__maxUploadImageSize;return X.size>U&&U!=-1?(nu(g),ee(),!!C&&void 0):(Y=function(K){var q=K.total===0?100:Math.round(100*K.loaded/K.total);[K.loaded," / ",K.total].join(""),q>=100&&K.loaded<K.total&&(q=99),g._OnPercentDone([0,q,"","http"])},g._OnPercentDone([0,-1,tn.Uploading,"http"]),j&&Xu(g.__IfShowCancelDialogWhenImageTransfer),Q.cancelFrom=sr.HTTPPut,M=Rt.httpPutImage(g,b,X,C,function(K){if(K&&(g.__HTTPPostResponseString=K),j&&Q.closeProgress(null,v),m.isFunction(c)){var q=[];m.isArray(de)&&m.each(de,function(re){var oe=g._ImgManager.convertServerIdToClientIndex(re);oe>-1&&q.push(oe)}),ai(c,g.__HTTPPostResponseString,q,d,l)}return!0},ee,Y),X=null,C?void 0:!!M)}return X=null,j&&Q.closeProgress(null,v),!!C&&void 0};if(!C)return g._dwtConvertToBlobSync(l,de,Z,ne,ee);g._convertToBlobForUpload(l,de,Z,4,ne,ee)}},{key:"HTTPUploadAllThroughPutAsMultiPageTIFF",value:function(o,u,d,l){return this.HTTPUploadThroughPutEx(o,-1,u,2,d,l)}},{key:"HTTPUploadThroughPutAsMultiPageTIFF",value:function(o,u,d,l){return this.HTTPUploadThroughPutEx(o,-2,u,2,d,l)}},{key:"HTTPUploadAllThroughPutAsPDF",value:function(o,u,d,l){return this.HTTPUploadThroughPutEx(o,-1,u,4,d,l)}},{key:"HTTPUploadThroughPutAsMultiPagePDF",value:function(o,u,d,l){return this.HTTPUploadThroughPutEx(o,-2,u,4,d,l)}},{key:"GetSelectedImagesSize",value:function(o){var u=this;if(u._resetErr(),!u._isValid())return!1;var d=Rf(u);return u._innerFun("GetSelectedImagesSize",Ge(o,d.join(",")))}},{key:"SetHTTPHeader",value:function(o,u){var d=this;if(d._resetErr(),!d._isValid())return!1;var l,c,p=o;if(d.__httpHeaderMap||(d.__httpHeaderMap={}),!p||!m.isString(p))return m.isUndefined(p)?Me(d,-2356,"The header name cannot be undefined."):p===""?function(g){Me(g,-2354,"The header name cannot be empty.")}(d):p===null?function(g){Me(g,-2355,"The header name cannot be null.")}(d):function(g){Me(g,-2357,"The header name you entered is invalid.")}(d),!1;for(l=["if-none-match","if-range","range","accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"],p=p.toLowerCase(),c=0;c<l.length;c++)if(l[c]==p)return WK(d),!1;return m.isUndefined(u)||u===null||u===""?(o in d.__httpHeaderMap&&delete d.__httpHeaderMap[o],!0):(m.isNumber(u)&&(u=""+u),d.__httpHeaderMap[o]=u,!0)}},{key:"ConvertToBlob",value:function(o,u,d,l,c){var p=arguments;return this._convertToBlobByIndices(o,u,!1,p,d,l)}},{key:"_asyncUploadFilesCmd",value:function(o,u,d,l,c,p,g,S,v,b,C,D){var M=this,j=parseInt(c),Y="HTTPUpload",ee=o,te=[];M.__HTTPPostResponseString="",Q.cancelFrom=sr.HTTPUpload;var de=function(B,U,K){var q=[];if(m.isArray(u)&&m.each(u,function(re){var oe=M._ImgManager.convertServerIdToClientIndex(re);oe>-1&&q.push(oe)}),B!=0&&U&&(M._errorCode=B,M._errorString=U),K&&(M.__HTTPPostResponseString=K),M._bServerPercentDone=!0,Q.needShowTwiceShowDialog=!1,S&&Q.closeProgress(null,Y),te.slice(0),te=null,m.isFunction(D))try{D({code:M._errorCode,message:M._errorString,response:K,indices:q})}catch{}};Q.needShowTwiceShowDialog=!0,S?Q.showProgress(M,Y,!1):Q.hideProgress();var Z=u.length,ne=0,X=0,F="";M._bServerPercentDone=!1,M._OnPercentDone([0,-1,tn.Encoding,"http"]),m.each(u,function(B,U){M._convertToBlobForUpload(j,[B],g,4,function(K,q,re){if(!K||K.size<=0)return zn(M),de(M._errorCode,M._errorString);var oe=M.__maxUploadImageSize;if(K.size>oe&&oe!=-1)return nu(M),de(M._errorCode,M._errorString);var fe=sa(p,U+1);if(X=(ne+1)/Z*100,F=[ne+1,"/",Z].join(""),M._OnPercentDone([0,X,F,"http",fe]),K.name=fe,te.push(K),++ne>=Z){V.DWT.IfAddMD5InUploadHeader&&q&&q!=""&&(d["dwt-md5"]=q);var ae=M._createHttpUploaderConfig(),ue=new es;M.__remoteFilename&&M.__remoteFilename!=""&&(ue.remoteFilename=M.__remoteFilename),ue.url=ee,ue.method=Y,ue.content=te,ue.contentType=M._strHttpContentTypeFieldValue,ue.headers=d,ue.httpFormData=l,ue.retry=v,ue.bOnlyResponseEmptyIsOK=b,ue.blockSize=M._moduleSize,sB(ae,ue,function(ve){M.__HTTPPostResponseString=ae.HTTPPostResponse,function(be){if(M._bServerPercentDone=!0,Q.needShowTwiceShowDialog=!1,S&&Q.closeProgress(null,Y),te.slice(0),te=null,m.isFunction(C)){var Ce=[];m.isArray(u)&&m.each(u,function(je){var Ye=M._ImgManager.convertServerIdToClientIndex(je);Ye>-1&&Ce.push(Ye)}),ai(C,be,Ce)}}(ve)},de)}K=null},de,[B,U])})}},{key:"_getVersionInfoAsync",value:function(){return vn.versionInfoFromServer?Pe.Promise.resolve(vn.versionInfoFromServer):this._innerFunV2("VersionInfo")}},{key:"__innerLoadImage",value:function(o,u,d,l,c,p,g,S){var v,b=this,C=!1;if((m.isFunction(g)||V.DWT.ConnectWithSocket)&&(C=!0),!It.checkProductKey(b,{Core:!0}))return m.isFunction(S)&&S({code:b._errorCode,message:b._getErrorString()}),C?void 0:(u=null,!1);if(!It.checkPDFProductKeyWhenNeeds(b,l))return m.isFunction(S)&&S({code:b._errorCode,message:b._getErrorString()}),C?void 0:(u=null,!1);if(l==vr.IT_MULTIPAGE_PDF||l==vr.IT_MULTIPAGE_TIF)return go(b),m.isFunction(S)&&S({code:b._errorCode,message:b._getErrorString()}),C?void 0:(u=null,!1);if(v=u,C){if(b._bRemoteMode&&b._getIfShowFileDialog())return v=null,u=null,wC(b),void(m.isFunction(S)&&S({code:b._errorCode,message:b._getErrorString()}));var D=V.DWT.IfConfineMaskWithinTheViewer;b.Viewer&&b.Viewer.webViewer&&b.Viewer.webViewer.imageEditor&&b.Viewer.webViewer.imageEditor.inner&&b.Viewer.webViewer.imageEditor.inner.bShowImageEditor==1&&b.Viewer.webViewer.imageEditor.inner.bShowImageEditor&&(V.DWT.IfConfineMaskWithinTheViewer=!1);var M=b.IfShowCancelDialogWhenImageTransfer;return b.IfShowCancelDialogWhenImageTransfer=!1,void b.__innerAcquireOrLoadImageAsync(o,d,c,!0).then(function(){b.IfShowCancelDialogWhenImageTransfer=M,V.DWT.IfConfineMaskWithinTheViewer=D,v=null,u=null,m.isFunction(g)&&g()},function(Z){if(b.IfShowCancelDialogWhenImageTransfer=M,V.DWT.IfConfineMaskWithinTheViewer=D,b._errorCode=Z.code,b._errorString=Z.message,(o=="LoadImage"||o=="LoadImageEx")&&b.__OnPostLoad&&!b.__bServerOnPostLoadFired){var ne=Rt.getFilePath(v),X=Rt.getFileName(v);b.__OnPostLoad(ne,X,""+l)}v=null,u=null,m.isFunction(S)&&S(Z)})}if(b._bRemoteMode&&b._getIfShowFileDialog())return v=null,u=null,wC(b),!1;var j=b._getCurrentDocumentName(),Y=b._getCurrentDefaultTagName(),ee=b.__innerLoadImageFun(o,d,p,j,Y);if(ee&&m.isString(v)&&v!=""&&b.__OnPostLoad&&!b.__bServerOnPostLoadFired){var te=Rt.getFilePath(v),de=Rt.getFileName(v);setTimeout(function(){b.__bServerOnPostLoadFired||b.__OnPostLoad(te,de,""+l)},10)}return v=null,u=null,ee}},{key:"__innerLoadImageFun",value:function(o,u,d,l,c){var p,g=this,S=!0;if(p=g._innerFunRaw(o,u,!1,!1,!0),g.__bOpenFileNow=!1,g._errorCode!=0)return!1;if(p&&m.isArray(p.result)&&p.result.length>0){if(d){var v;if(o=="FTPDownload"||o=="FTPDownloadEx")v=JSON.stringify(p.result);else{var b=p.result[0];m.isObject(b)?v=b.imageInfos:b!=-1||o!="LoadImage"&&o!="LoadImageEx"&&o!="LoadImageFromBase64Binary"&&o!="LoadDibFromClipboard"||(S=!1)}m.isString(v)&&g._handleOnBitmapChangedEvent({result:["c1",v]},{document:l,tag:c})}else{var C=p.result.join(",");g._OnBitmapChanged(["c1",C,1,g._ImgManager.getCurrentImageIndex(),g._ImgManager.count()],null,{document:l,tag:c})}if(S)return g._canConsume()&&V.DWT.lcvrf(g),!0}return jR(g._errorCode)&&_f(g),!1}},{key:"__innerSaveImage",value:function(o,u,d,l){var c,p=this,g=!1;if(m.isFunction(d)&&(g=!0),g&&p._OnPercentDone([0,-1,tn.Encoding]),p._bRemoteMode||(V.DWT.IfAlwaysFocusOnPopupWindow?p._OnPageFocus(!0):p._OnPageBlur(!0)),g==0)return p._bRemoteMode?p._serviceSyncMethodNotSupport(o):this._innerFun(o,u);if(p._bRemoteMode&&p._getIfShowFileDialog())return wC(p),void(m.isFunction(l)&&l(p._errorCode,p._getErrorString()));var S=(c=Q.progressContext)===null||c===void 0?void 0:c.IfShowCancelDialogWhenImageTransfer;p.IfShowProgressBar?Q.showProgress(p,o,!1):Q.hideProgress(),Q.progressContext&&(Q.progressContext.IfShowCancelDialogWhenImageTransfer=!1),p._innerSend(o,u,!0,function(){g&&(o!="SaveAsPNG"&&o!="SaveAsJPEG"&&o!="SaveAsBMP"&&o!="SaveAsBMP"||p._OnPercentDone([0,100,"","http"])),Q.progressContext&&(Q.progressContext.IfShowCancelDialogWhenImageTransfer=S),setTimeout(function(){Q.closeProgress(null,o)},0),m.isFunction(d)&&d()},function(v){return Q.progressContext&&(Q.progressContext.IfShowCancelDialogWhenImageTransfer=S),m.isFunction(l)&&l(p._errorCode,p._getErrorString()),Q.closeProgress(null,o),v&&m.error(v),!1})}},{key:"__captureImage",value:function(o,u,d,l){var c=this.__GetLoadEventsNum();return this.__LoadImageFromBytesV2(o,u,"",!0,0,0,!0,c,d,l)}},{key:"_getIfShowFileDialog",value:function(){return this._resetErr(),this._isValid()?this._innerFun("IfShowFileDialog"):Fe}},{key:"SaveAsBMP",value:function(o,u,d,l){var c=this,p=!1;if((m.isFunction(d)||he.bAndroid)&&(p=!0),c._resetErr(),!c._isValid())return m.isFunction(l)&&pt(l,c),!!p&&void 0;if(!(It.checkProductKey(c,{Core:!0})||he.bWin&&It.checkProductKey(c,{Webcam:!0},!0)))return It.checkProductKey(c,{Core:!0},!1),m.isFunction(l)&&pt(l,c),!!p&&void 0;var g,S=Rt.replaceLocalFilename(o);if(!kl(c,u,l))return!!p&&void 0;if(he.bAndroid){if(c._ImgManager.count()==0)return Ii(c),void(m.isFunction(l)&&pt(l,c));var v=[];return v.push(u),void c._saveImages("SaveAsBMP",S,v,vr.IT_BMP).then(function(){m.isFunction(d)&&d()}).catch(function(D){m.isFunction(l)&&l(D.code,D.message)})}if((g=c._ImgManager.convertClientIndexToServerId(u))==-1)return nt(c),m.isFunction(l)&&pt(l,c),!!p&&void 0;var b=c.__GetLoadEventsNum(),C=c.__innerSaveImage("SaveAsBMP",Ge(S,g,b),d,l);return p?void 0:C}},{key:"SaveAsJPEG",value:function(o,u,d,l){var c=this,p=!1;if((m.isFunction(d)||he.bAndroid)&&(p=!0),c._resetErr(),!c._isValid())return m.isFunction(l)&&pt(l,c),!!p&&void 0;if(!(It.checkProductKey(c,{Core:!0})||he.bWin&&It.checkProductKey(c,{Webcam:!0},!0)))return It.checkProductKey(c,{Core:!0},!1),m.isFunction(l)&&pt(l,c),!!p&&void 0;if(!kl(c,u,l))return!!p&&void 0;var g,S=Rt.replaceLocalFilename(o);if(he.bAndroid){if(c._ImgManager.count()==0)return Ii(c),void(m.isFunction(l)&&pt(l,c));var v=[];return v.push(u),void c._saveImages("SaveAsJPEG",S,v,vr.IT_JPG).then(function(){m.isFunction(d)&&d()}).catch(function(D){m.isFunction(l)&&l(D.code,D.message)})}if((g=c._ImgManager.convertClientIndexToServerId(u))==-1)return nt(c),m.isFunction(l)&&pt(l,c),!!p&&void 0;var b=c.__GetLoadEventsNum(),C=c.__innerSaveImage("SaveAsJPEG",Ge(S,g,b),d,l);return p?void 0:C}},{key:"SaveAsPDF",value:function(o,u,d,l){var c=this,p=!1;if((m.isFunction(d)||he.bAndroid)&&(p=!0),c._resetErr(),!c._isValid())return m.isFunction(l)&&pt(l,c),!!p&&void 0;if(!(It.checkProductKey(c,{Core:!0})||he.bWin&&It.checkProductKey(c,{Webcam:!0},!0)))return It.checkProductKey(c,{Core:!0},!1),m.isFunction(l)&&pt(l,c),!!p&&void 0;if(!kl(c,u,l))return!!p&&void 0;var g,S=Rt.replaceLocalFilename(o);if(he.bAndroid){if(c._ImgManager.count()==0)return Ii(c),void(m.isFunction(l)&&pt(l,c));var v=[];return v.push(u),void c._saveImages("SaveSelectedImagesAsMultiPagePDF",S,v,vr.IT_PDF).then(function(){m.isFunction(d)&&d()}).catch(function(M){m.isFunction(l)&&l(M.code,M.message)})}if((g=c._ImgManager.convertClientIndexToServerId(u))==-1)return nt(c),m.isFunction(l)&&pt(l,c),!!p&&void 0;var b=[g],C=c.__GetLoadEventsNum(),D=c.__innerSaveImage("SaveSelectedImagesAsMultiPagePDF",Ge(S,b.join(","),C),d,l);return p?void 0:D}},{key:"SaveAsPNG",value:function(o,u,d,l){var c=this,p=!1;if((m.isFunction(d)||he.bAndroid)&&(p=!0),c._resetErr(),!c._isValid())return m.isFunction(l)&&pt(l,c),!!p&&void 0;if(!(It.checkProductKey(c,{Core:!0})||he.bWin&&It.checkProductKey(c,{Webcam:!0},!0)))return It.checkProductKey(c,{Core:!0},!1),m.isFunction(l)&&pt(l,c),!!p&&void 0;if(!kl(c,u,l))return!!p&&void 0;var g,S=Rt.replaceLocalFilename(o);if(he.bAndroid){if(c._ImgManager.count()==0)return Ii(c),void(m.isFunction(l)&&pt(l,c));var v=[];return v.push(u),void c._saveImages("SaveAsPNG",S,v,vr.IT_PNG).then(function(){m.isFunction(d)&&d()}).catch(function(D){m.isFunction(l)&&l(D.code,D.message)})}if((g=c._ImgManager.convertClientIndexToServerId(u))==-1)return nt(c),m.isFunction(l)&&pt(l,c),!!p&&void 0;var b=c.__GetLoadEventsNum(),C=c.__innerSaveImage("SaveAsPNG",Ge(S,g,b),d,l);return p?void 0:C}},{key:"SaveAsTIFF",value:function(o,u,d,l){var c=this,p=!1;if((m.isFunction(d)||he.bAndroid)&&(p=!0),c._resetErr(),!c._isValid())return m.isFunction(l)&&pt(l,c),!!p&&void 0;if(!(It.checkProductKey(c,{Core:!0})||he.bWin&&It.checkProductKey(c,{Webcam:!0},!0)))return It.checkProductKey(c,{Core:!0},!1),m.isFunction(l)&&pt(l,c),!!p&&void 0;if(!kl(c,u,l))return!!p&&void 0;var g,S=Rt.replaceLocalFilename(o);if(he.bAndroid){if(c._ImgManager.count()==0)return Ii(c),void(m.isFunction(l)&&pt(l,c));var v=[];return v.push(u),void c._saveImages("SaveAsTIFF",S,v,vr.IT_TIF).then(function(){m.isFunction(d)&&d()}).catch(function(D){m.isFunction(l)&&l(D.code,D.message)})}if((g=c._ImgManager.convertClientIndexToServerId(u))==-1)return nt(c),m.isFunction(l)&&pt(l,c),!!p&&void 0;var b=c.__GetLoadEventsNum(),C=c.__innerSaveImage("SaveAsTIFF",Ge(S,g,b),d,l);return p?void 0:C}},{key:"SaveSelectedImagesAsMultiPagePDF",value:function(o,u,d){var l=this,c=!1;if((m.isFunction(u)||he.bAndroid)&&(c=!0),l._resetErr(),!l._isValid())return m.isFunction(d)&&pt(d,l),!!c&&void 0;if(!(It.checkProductKey(l,{Core:!0})||he.bWin&&It.checkProductKey(l,{Webcam:!0},!0)))return It.checkProductKey(l,{Core:!0},!1),m.isFunction(d)&&pt(d,l),!!c&&void 0;var p=Rt.replaceLocalFilename(o);if(!he.bAndroid){var g=Rf(l);if(g.length==0)return Ii(l),m.isFunction(d)&&pt(d,l),!!c&&void 0;var S=l.__GetLoadEventsNum(),v=l.__innerSaveImage("SaveSelectedImagesAsMultiPagePDF",Ge(p,g.join(","),S),u,d);return c?void 0:v}if(l._ImgManager.count()==0)return Ii(l),void(m.isFunction(d)&&pt(d,l));var b=dN(l);l._saveImages("SaveSelectedImagesAsMultiPagePDF",p,b,vr.IT_PDF).then(function(){m.isFunction(u)&&u()}).catch(function(C){m.isFunction(d)&&d(C.code,C.message)})}},{key:"SaveSelectedImagesAsMultiPageTIFF",value:function(o,u,d){var l=this,c=!1;if((m.isFunction(u)||he.bAndroid)&&(c=!0),l._resetErr(),!l._isValid())return m.isFunction(d)&&pt(d,l),!!c&&void 0;if(!(It.checkProductKey(l,{Core:!0})||he.bWin&&It.checkProductKey(l,{Webcam:!0},!0)))return It.checkProductKey(l,{Core:!0},!1),m.isFunction(d)&&pt(d,l),!!c&&void 0;var p=Rt.replaceLocalFilename(o);if(!he.bAndroid){var g=Rf(l);if(g.length==0)return Ii(l),m.isFunction(d)&&pt(d,l),!!c&&void 0;var S=l.__GetLoadEventsNum(),v=l.__innerSaveImage("SaveSelectedImagesAsMultiPageTIFF",Ge(p,g.join(","),S),u,d);return c?void 0:v}if(l._ImgManager.count()==0)return Ii(l),void(m.isFunction(d)&&pt(d,l));var b=dN(l);l._saveImages("SaveSelectedImagesAsMultiPageTIFF",p,b,vr.IT_TIF).then(function(){m.isFunction(u)&&u()}).catch(function(C){m.isFunction(d)&&d(C.code,C.message)})}},{key:"SaveAllAsMultiPageTIFF",value:function(o,u,d){var l=this,c=!1;if((m.isFunction(u)||he.bAndroid)&&(c=!0),l._resetErr(),!l._isValid())return m.isFunction(d)&&pt(d,l),!!c&&void 0;if(!(It.checkProductKey(l,{Core:!0})||he.bWin&&It.checkProductKey(l,{Webcam:!0},!0)))return It.checkProductKey(l,{Core:!0},!1),m.isFunction(d)&&pt(d,l),!!c&&void 0;if(!CT(l,d))return!!c&&void 0;var p=[],g=Rt.replaceLocalFilename(o);if(!he.bAndroid){if(Cy(l,p),p.length==0)return Ii(l),m.isFunction(d)&&pt(d,l),!!c&&void 0;var S=l.__GetLoadEventsNum(),v=l.__innerSaveImage("SaveSelectedImagesAsMultiPageTIFF",Ge(g,p.join(","),S),u,d);return c?void 0:v}if(l._ImgManager.count()==0)return Ii(l),void(m.isFunction(d)&&pt(d,l));for(var b=[],C=0;C<this._ImgManager.count();C++)b.push(C);l._saveImages("SaveAllAsMultiPageTIFF",g,b,vr.IT_TIF).then(function(){m.isFunction(u)&&u()}).catch(function(D){m.isFunction(d)&&d(D.code,D.message)})}},{key:"SaveAllAsPDF",value:function(o,u,d){var l=this,c=!1;if((m.isFunction(u)||he.bAndroid)&&(c=!0),l._resetErr(),!l._isValid())return m.isFunction(d)&&pt(d,l),!!c&&void 0;if(!(It.checkProductKey(l,{Core:!0})||he.bWin&&It.checkProductKey(l,{Webcam:!0},!0)))return It.checkProductKey(l,{Core:!0},!1),m.isFunction(d)&&pt(d,l),!!c&&void 0;if(!CT(l,d))return!!c&&void 0;var p=[],g=Rt.replaceLocalFilename(o);if(!he.bAndroid){if(Cy(l,p),p.length==0)return Ii(l),m.isFunction(d)&&pt(d,l),!!c&&void 0;var S=l.__GetLoadEventsNum(),v=l.__innerSaveImage("SaveSelectedImagesAsMultiPagePDF",Ge(g,p.join(","),S),u,d);return c?void 0:v}if(l._ImgManager.count()==0)return Ii(l),void(m.isFunction(d)&&pt(d,l));for(var b=[],C=0;C<this._ImgManager.count();C++)b.push(C);l._saveImages("SaveAllAsPDF",g,b,vr.IT_PDF).then(function(){m.isFunction(u)&&u()}).catch(function(D){m.isFunction(d)&&d(D.code,D.message)})}},{key:"HTTPUpload",value:function(o,u,d,l,c,p,g){var S=this,v=c??"RemoteFile",b=S._GetHttpHeadersAndClear(),C=p,D=g;if(S._resetErr(),arguments.length<=3)return C=u,D=d,void this._innerFormFieldHTTPUpload(o,b,C,D);if(m.isFunction(arguments[4])&&m.isFunction(arguments[5])&&(v="RemoteFile",C=arguments[4],arguments.length>5&&(D=arguments[5])),S._isValid()){var M,j=arguments,Y=function(te){m.isFunction(D)&&Ni(D,S,S.__HTTPPostResponseString,te,j)};if(m.isUndefined(o)||o==="")return io(S),void(Y&&Y(u));if(!m.isString(o))return jp(S),void(Y&&Y(u));if(S._checkIndices(u)){var ee=Nl(S,u);if(ee.length==0)return nr(S),void(Y&&Y(u));if(m.isUndefined(d))return go(S),void(Y&&Y(u));if(d==V.DWT.EnumDWT_ImageType.IT_BMP||d==V.DWT.EnumDWT_ImageType.IT_JPG||d==V.DWT.EnumDWT_ImageType.IT_PNG){if(ee.length>1)return Sf(S),void Y(u)}else if(d!=V.DWT.EnumDWT_ImageType.IT_TIF&&d!=V.DWT.EnumDWT_ImageType.IT_PDF)return go(S),void Y(u);if(m.isUndefined(l)||l!=V.DWT.EnumDWT_UploadDataFormat.Binary&&l!=V.DWT.EnumDWT_UploadDataFormat.Base64)return vR(S),void Y(u);M={method:"HTTPUpload",url:o,serverIds:ee,headers:b,formData:Zl(S.httpFormFields),enumImageType:d,saveSetup:!1,dataFormat:l,fileName:v,retry:0,bOnlyResponseEmptyIsOK:!0,objUploadFileStatus:!1,asyncSuccessFunc:function(te,de){m.isFunction(C)&&ai(C,S.__HTTPPostResponseString,de,j)},asyncFailureFunc:Y},this._asyncUploadCmd(M)}else Y&&Y(u)}else m.isFunction(D)&&pt(D,S,"")}},{key:"_innerFormFieldHTTPUpload",value:function(o,u,d,l){var c,p=this,g="HTTPUpload",S=o,v=p.IfShowProgressBar;if(p._isValid()){if(m.isUndefined(S)||S==="")return io(p),void(m.isFunction(l)&&pt(l,p,""));if(!m.isString(S))return jp(p),void(m.isFunction(l)&&pt(l,p,""));S.indexOf("http://")!=0&&S.indexOf("https://")!=0&&(S=In()?"https://"+S:"http://"+S),p.__HTTPPostResponseString="",Q.cancelFrom=sr.HTTPUpload,c=function(D,M,j){D!=0&&M&&(p._errorCode=D,p._errorString=M),j&&(p.__HTTPPostResponseString=j),Q.needShowTwiceShowDialog=!1,Q.closeProgress(null,g),m.isFunction(l)&&pt(l,p,p.__HTTPPostResponseString)},v?Q.showProgress(p,g,!1):Q.hideProgress(),Q.needShowTwiceShowDialog=!0,p._OnPercentDone([0,-1,tn.Uploading,"http"]);var b=p._createHttpUploaderConfig(),C=new es;p.__remoteFilename&&p.__remoteFilename!=""&&(C.remoteFilename=p.__remoteFilename),C.url=S,C.method=g,C.content=[],C.headers=u,C.httpFormData=Zl(p.httpFormFields),C.blockSize=p._moduleSize,new mu().httpPostUpload(b,C,function(D){Q.needShowTwiceShowDialog=!1,Q.closeProgress(null,g),m.isFunction(d)&&ai(d,D,o,[o,d,l])},c)}else m.isFunction(l)&&pt(l,p,"")}},{key:"HTTPUploadThroughPost",value:function(o,u,d,l,c,p,g){var S=this,v=!1;if(m.isFunction(c)&&(v=!0),S._resetErr(),!S._isValid())return!!v&&void 0;var b=Rt.getImageType(l),C=arguments,D=!1,M=function(j){return m.isFunction(p)&&Ni(p,S,S.__HTTPPostResponseString,j,C),!1};return m.isString(l)&&l!=""?(c&&m.isFunction(c)&&(D=function(j,Y){return ai(c,S.__HTTPPostResponseString,Y,C),!0}),SB(S,u,b,M)?Ra(ua,S,gh).call(S,o,u,d,l,b,D,M,g):!!v&&void 0):(zn(S),M(),!!v&&void 0)}},{key:"HTTPUploadThroughPostEx",value:function(o,u,d,l,c,p,g,S){var v=this,b=!1;if(m.isFunction(p)&&(b=!0),v._resetErr(),!v._isValid())return m.isFunction(g)&&Ni(g,v,""),!!b&&void 0;var C=arguments,D=!1,M=function(j){m.isFunction(g)&&Ni(g,v,v.__HTTPPostResponseString,j,C)};return m.isString(l)&&l!=""?(p&&m.isFunction(p)&&(D=function(j,Y){ai(p,v.__HTTPPostResponseString,Y,C)}),SB(v,u,c,M)?Ra(ua,v,gh).call(v,o,u,d,l,c,D,M,S):!!b&&void 0):(zn(v),M(),!!b&&void 0)}},{key:"HTTPUploadAllThroughPostAsMultiPageTIFF",value:function(o,u,d,l,c,p){var g=this,S=!1;if(m.isFunction(l)&&(S=!0),g._resetErr(),!g._isValid())return m.isFunction(c)&&Ni(c,g,""),!!S&&void 0;var v=arguments,b=!1,C=function(D){m.isFunction(c)&&Ni(c,g,g.__HTTPPostResponseString,D,v)};return m.isString(d)&&d!=""?(S&&(b=function(D,M){ai(l,g.__HTTPPostResponseString,M,v)}),Ra(ua,g,gh).call(g,o,-1,u,d,2,b,C,p)):(zn(g),C(),!!S&&void 0)}},{key:"HTTPUploadAllThroughPostAsPDF",value:function(o,u,d,l,c,p){var g=this,S=!1;if(m.isFunction(l)&&(S=!0),g._resetErr(),!g._isValid())return m.isFunction(c)&&pt(c,g,""),!!S&&void 0;var v=arguments,b=!1,C=function(D){return m.isFunction(c)&&Ni(c,g,g.__HTTPPostResponseString,D,v),!1};return m.isString(d)&&d!=""?(S&&(b=function(D,M){ai(l,g.__HTTPPostResponseString,M,v)}),Ra(ua,g,gh).call(g,o,-1,u,d,4,b,C,p)):(zn(g),C())}},{key:"HTTPUploadThroughPostAsMultiPagePDF",value:function(o,u,d,l,c,p){var g=this,S=!1;if(m.isFunction(l)&&(S=!0),g._resetErr(),!g._isValid())return m.isFunction(c)&&pt(c,g,""),!!S&&void 0;var v=arguments,b=!1,C=function(D){m.isFunction(c)&&Ni(c,g,g.__HTTPPostResponseString,D,v)};return m.isString(d)&&d!=""?(S&&(b=function(D,M){ai(l,g.__HTTPPostResponseString,M,v)}),Ra(ua,g,gh).call(g,o,-2,u,d,4,b,C,p)):(zn(g),C(),!!S&&void 0)}},{key:"HTTPUploadThroughPostAsMultiPageTIFF",value:function(o,u,d,l,c,p){var g=this,S=!1;if(m.isFunction(l)&&(S=!0),g._resetErr(),!g._isValid())return m.isFunction(c)&&pt(c,g,""),!!S&&void 0;var v=arguments,b=!1,C=function(D){m.isFunction(c)&&Ni(c,g,g.__HTTPPostResponseString,D,v)};return m.isString(d)&&d!=""?(S&&(b=function(D,M){ai(l,g.__HTTPPostResponseString,M,v)}),Ra(ua,g,gh).call(g,o,-2,u,d,2,b,C,p)):(zn(g),C(),!!S&&void 0)}},{key:"_innerHTTPDownloadThroughGet",value:function(o,u,d,l,c,p){var g,S,v=this,b=v._GetHttpHeadersAndClear(),C=v.IfShowProgressBar,D=Rt.combineUrl(v,u,d),M=!1;if(m.isFunction(c)&&(M=!0),D===void 0)return io(v),m.isFunction(p)&&pt(p,v),!!M&&void 0;if(!It.checkProductKey(v,{Core:!0})||!It.checkPDFProductKeyWhenNeeds(v,l))return m.isFunction(p)&&pt(p,v),!!M&&void 0;Q.cancelFrom=sr.HTTPDownload;var j=(g=Q.progressContext)===null||g===void 0?void 0:g.IfShowCancelDialogWhenImageTransfer,Y=v._getCurrentDocumentName(),ee=v._getCurrentDefaultTagName();return m.log("_innerHTTPDownloadThroughGet.currentFileName:"+Y+", tag="+ee),C&&M?(v.__IfShowCancelDialogWhenImageTransfer&&(Q.progressContext.__cancelBeforObjectCreated=!0),Q.showProgress(v,o,v.__IfShowCancelDialogWhenImageTransfer)):M&&Q.hideProgress(),v._OnPercentDone([0,-1,tn.Downloading,"http"]),S=Rt.loadHttpBlob(v,"get",D,M,function(te){Q.progressContext&&(Q.progressContext.IfShowCancelDialogWhenImageTransfer=j),C&&M&&Xu(!1),v._OnPercentDone([0,-1,tn.Loading]);var de=l;de!=V.DWT.EnumDWT_ImageType.IT_BMP&&de!=V.DWT.EnumDWT_ImageType.IT_JPG&&de!=V.DWT.EnumDWT_ImageType.IT_TIF&&de!=V.DWT.EnumDWT_ImageType.IT_PNG&&de!=V.DWT.EnumDWT_ImageType.IT_PDF&&de!=V.DWT.EnumDWT_ImageType.IT_J2K&&(de=-1);var Z=v.__GetLoadEventsNum(),ne=Rt.getFileName(d);return te.currentFileName=Y,te.currentTagName=ee,te.name=ne,v._loadImageBytesFileCount+=1,v.__LoadImageFromBytesV1(te,de,"",Z,M,function(){if(C&&M&&Q.closeProgress(null,o),v._loadImageBytesFileCount-=1,v.__OnPostLoad&&!v.__bServerOnPostLoadFired){var X=Rt.getFilePath(D);v.__OnPostLoad(X,ne,""+de)}return ne=null,m.isFunction(c)&&c(),!0},function(){if(C&&M&&Q.closeProgress(null,o),v._loadImageBytesFileCount-=1,v.__OnPostLoad&&!v.__bServerOnPostLoadFired){var X=Rt.getFilePath(D);v.__OnPostLoad(X,ne,""+de)}return ne=null,m.isFunction(p)&&pt(p,v),!1})},function(){Q.progressContext&&(Q.progressContext.IfShowCancelDialogWhenImageTransfer=j),C&&M&&Q.closeProgress(null,o);var te=Rt.getFileName(d);if(v.__OnPostLoad&&!v.__bServerOnPostLoadFired){var de=Rt.getFilePath(D);v.__OnPostLoad(de,te,""+l)}return m.isFunction(p)&&pt(p,v),!1},function(te){var de=te.total===0?100:Math.round(100*te.loaded/te.total);[te.loaded," / ",te.total].join(""),de>=100&&te.loaded<te.total&&(de=99),v._OnPercentDone([0,de,"","http"])},b),M?void 0:!!S}},{key:"LoadImage",value:function(o,u,d){var l=this,c=!1,p=l.__bServerOnPostLoadFired;if(l._resetErr(),!m.isFunction(u)||(c=!0,!p)){if(!l._isValid())return m.isFunction(d)&&pt(d,l),!!c&&void 0;var g,S,v,b=Rt.replaceLocalFilename(o),C=Rt.getImageType(b);u&&m.isFunction(u)&&(S=function(j){u()}),d&&m.isFunction(d)&&(v=function(j){d(j.code,j.message)}),g=l.__GetLoadEventsNum(),b==""&&(l.__bOpenFileNow=!0);var D=l._getCurrentDocumentName(),M=l._getCurrentDefaultTagName();return l.__innerLoadImage("LoadImage",o,Ge(b,g,1,D,M),C,!0,1,S,v)}setTimeout(function(){l.LoadImage(o,u,d)},10)}},{key:"LoadImageEx",value:function(o,u,d,l){var c=this,p=!1,g=c.__bServerOnPostLoadFired;if(c._resetErr(),m.isFunction(d)&&(p=!0,g))setTimeout(function(){c.LoadImageEx(o,u,d,l)},10);else{if(!c._isValid())return m.isFunction(l)&&pt(l,c),!!p&&void 0;var S,v,b,C=Rt.replaceLocalFilename(o),D=u;if(d&&m.isFunction(d)&&(v=function(te){d()}),l&&m.isFunction(l)&&(b=function(te){l(te.code,te.message)}),!he.bAndroid){D==V.DWT.EnumDWT_ImageType.IT_ALL&&(D=-1),S=c.__GetLoadEventsNum(),C==""&&(c.__bOpenFileNow=!0);var M=c._getCurrentDocumentName(),j=c._getCurrentDefaultTagName();return c.__innerLoadImage("LoadImageEx",o,Ge(C,D,S,1,M,j),D,!0,1,v,b)}var Y=Pe.one(".d-loadImage");if(Y.length==0){var ee=document.createElement("input");ee._stwain=c,ee.setAttribute("type","file"),ee.setAttribute("multiple","multiple"),ee.style.position="absolute",ee.style.top="-9999px",ee.style.left="-9999px",ee.style.width="1px",ee.style.height="1px",ee.className="d-loadImage",u==V.DWT.EnumDWT_ImageType.IT_BMP?ee.setAttribute("accept","image/bmp"):u==V.DWT.EnumDWT_ImageType.IT_JPG?ee.setAttribute("accept","image/jpeg"):u==V.DWT.EnumDWT_ImageType.IT_TIF?ee.setAttribute("accept","image/tiff"):u==V.DWT.EnumDWT_ImageType.IT_PNG?ee.setAttribute("accept","image/png"):u==V.DWT.EnumDWT_ImageType.IT_PDF?ee.setAttribute("accept",".pdf"):u==V.DWT.EnumDWT_ImageType.IT_J2K?ee.setAttribute("accept",".jp2,.j2k,.j2c"):Tn.bMobile?ee.setAttribute("accept","image/jpeg,image/png,image/tiff,image/tif"):ee.setAttribute("accept","image/*,.pdf,.jp2,.j2k,.j2c"),ee.ondoubleclick=function(){this.files.length>0&&this._stwain.LoadImageFromBinary(this.files,v,b),this.value="",this._stwain=null,ee&&ee.parentElement.removeChild(ee)},ee.onchange=function(){this.files.length>0&&this._stwain.LoadImageFromBinary(this.files,v,b),this.value="",this._stwain=null,ee&&ee.parentElement.removeChild(ee)},document.body.appendChild(ee),ee.click()}else u==V.DWT.EnumDWT_ImageType.IT_BMP?Y[0].setAttribute("accept","image/bmp"):u==V.DWT.EnumDWT_ImageType.IT_JPG?Y[0].setAttribute("accept","image/jpeg"):u==V.DWT.EnumDWT_ImageType.IT_TIF?Y[0].setAttribute("accept","image/tiff"):u==V.DWT.EnumDWT_ImageType.IT_PNG?Y[0].setAttribute("accept","image/png"):u==V.DWT.EnumDWT_ImageType.IT_PDF?Y[0].setAttribute("accept",".pdf"):u==V.DWT.EnumDWT_ImageType.IT_J2K?Y[0].setAttribute("accept",".jp2,.j2k,.j2c"):Tn.bMobile?Y[0].setAttribute("accept","image/jpeg,image/png,image/tiff,image/tif"):Y[0].setAttribute("accept","image/*,.pdf,.jp2,.j2k,.j2c"),Y[0].value="",Y[0]._stwain=c,Y[0].click()}}},{key:"HTTPDownload",value:function(o,u,d,l){var c=this,p=!1;if(m.isFunction(d)&&(p=!0),c._resetErr(),!c._isValid())return m.isFunction(l)&&pt(l,c),!!p&&void 0;var g=Rt.getImageType(u);return c._innerHTTPDownloadThroughGet("HTTPDownload",o,u,g,d,l)}},{key:"HTTPDownloadEx",value:function(o,u,d,l,c){var p=this,g=!1;return m.isFunction(l)&&(g=!0),p._resetErr(),p._isValid()?p._innerHTTPDownloadThroughGet("HTTPDownloadEx",o,u,d,l,c):(m.isFunction(c)&&pt(c,p),!!g&&void 0)}},{key:"getFormateDate",value:function(){var o=new Date,u=o.getFullYear(),d=o.getMonth()+1,l=o.getDate(),c=o.getHours(),p=o.getMinutes(),g=o.getSeconds();return d<=9&&(d="0"+d),l<=9&&(l="0"+l),c<=9&&(c="0"+c),p<=9&&(p="0"+p),g<=9&&(g="0"+g),{currentTime_title:u+"-"+d+"-"+l+" "+c+":"+p+":"+g,currentTime_info:d+"/"+l+"/"+u+" "+c+":"+p+":"+g}}},{key:"__shareImagesInner",value:function(o,u,d,l){var c=navigator;c.canShare&&c.canShare({files:o})&&c.share({files:o,title:u,text:this.getFormateDate().currentTime_info}).then(function(){m.isFunction(d)&&d()}).catch(function(p){m.isFunction(l)&&l(p)})}},{key:"ShareImages",value:(i=s(E().mark(function o(u,d,l){var c,p,g,S,v,b,C,D,M;return E().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(c=this,!he.bAndroid){j.next=38;break}if(l!=vr.IT_ALL&&l!=vr.IT_MULTIPAGE_PDF&&l!=vr.IT_MULTIPAGE_TIF){j.next=5;break}throw DR(c),{code:c._errorCode,message:c._errorString};case 5:if(p=d.sort(function(Y,ee){return Y-ee}),!(p.length>0)){j.next=36;break}if(g="IMAGE File",l==vr.IT_PDF&&(g="PDF File"),S=M_(u,l),m.isUndefined(S)&&(S=u),l!=vr.IT_PDF&&l!=vr.IT_TIF){j.next=15;break}return j.abrupt("return",new Pe.Promise(function(Y,ee){c.ConvertToBlob(p,l,function(te,de,Z){var ne=[new File([te],S,{type:te.type})];c.__shareImagesInner(ne,g,function(){Y()},function(X){ee({code:X.code!=0?X.code:2201,message:X.message})})},function(){ee({code:c._errorCode,message:c._errorString})})}));case 15:v=[],b=S,j.t0=l,j.next=j.t0===vr.IT_BMP?20:j.t0===vr.IT_JPG?22:j.t0===vr.IT_PNG?24:26;break;case 20:return C=".bmp",j.abrupt("break",27);case 22:return C=".jpg",j.abrupt("break",27);case 24:return C=".png",j.abrupt("break",27);case 26:C=".jpg";case 27:S&&S.lastIndexOf(".")>0&&(b=S.substring(0,S.lastIndexOf(".")),C=S.substring(S.lastIndexOf("."),S.length)),D=E().mark(function Y(ee){return E().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return te.next=2,new Pe.Promise(function(de,Z){c.ConvertToBlob([p[ee]],l,function(ne,X,F){ee==0?v.push(new File([ne],b+C,{type:ne.type})):v.push(new File([ne],b+ee+C,{type:ne.type})),de()},function(){Z({code:c._errorCode,message:c._errorString})})});case 2:case"end":return te.stop()}},Y)}),M=0;case 30:if(!(M<p.length)){j.next=35;break}return j.delegateYield(D(M),"t1",32);case 32:M++,j.next=30;break;case 35:c.__shareImagesInner(v,g);case 36:j.next=40;break;case 38:throw zK(c),{code:c._errorCode,message:c._errorString};case 40:case"end":return j.stop()}},o,this)})),function(o,u,d){return i.apply(this,arguments)})},{key:"Addon",get:function(){return this.__addon}},{key:"LoadDibFromClipboard",value:function(o,u){var d=this,l=!1,c=d.__bServerOnPostLoadFired;if(d._resetErr(),!m.isFunction(o)||(l=!0,!c)){if(!d._isValid())return m.isFunction(u)&&pt(u,d),!!l&&void 0;if(d._bRemoteMode)return Me(d,-2609,"LoadDibFromClipboard is not supported when Object is created by CreateRemoteScanObjectAsync."),m.isFunction(u)&&pt(u,d),!!l&&void 0;var p,g;o&&m.isFunction(o)&&(p=function(v){o()}),u&&m.isFunction(u)&&(g=function(v){u(v.code,v.message)});var S;return S=d.__GetLoadEventsNum(),d.__innerLoadImage("LoadDibFromClipboard","",Ge(S,1),-1,!0,1,p,g)}setTimeout(function(){d.LoadDibFromClipboard(o,u)},10)}},{key:"__innerGetBarcodeResultAsyncFunction",value:function(o){var u=Q.NewBarcodeResult();return o&&(u._errorCode=o.exception,u._errorString=o.description,u._resultlist=o.result,u._Count=o.result.length),u}},{key:"__innerGetOCRResultAsyncFunction",value:function(o){var u=Q.NewOCRResult(this);return o&&(u._errorCode=o.exception,u._errorString=o.description,u._resultlist=o.result),u}},{key:"__innerFTPUpload",value:function(o,u,d,l){return Q.cancelFrom=sr.FTPUpload,Ra(ua,this,yB).call(this,o,u,!0,d,l)}},{key:"_GetHttpHeadersAndClear",value:function(){var o=this.__httpHeaderMap;return this.__httpHeaderMap={},o||(o={}),o}},{key:"_asyncUploadCmd",value:function(o){var u,d=this,l=o.url,c=o.asyncSuccessFunc,p=o.asyncFailureFunc,g=d.IfShowCancelDialogWhenImageTransfer,S=(u=Q.progressContext)===null||u===void 0?void 0:u.IfShowCancelDialogWhenImageTransfer,v=o.method,b=o.serverIds,C=o.headers,D=o.formData,M=o.enumImageType,j=o.dataFormat,Y=o.fileName,ee=o.saveSetup,te=o.retry,de=o.bOnlyResponseEmptyIsOK,Z=o.objUploadFileStatus,ne=function(X,F,B,U){d.IfShowCancelDialogWhenImageTransfer=g,Q.progressContext&&(Q.progressContext.IfShowCancelDialogWhenImageTransfer=S);var K=[];if(m.isArray(b)&&m.each(b,function(q){var re=d._ImgManager.convertServerIdToClientIndex(q);re>-1&&K.push(re)}),X!=0&&F&&(d._errorCode=X,d._errorString=F),B&&(d.__HTTPPostResponseString=B),m.isFunction(p))try{p(K)}catch{}return!1};return m.isNumber(te)&&te>0||(te=0),d._errorCode!=0?ne(d._errorCode,d._errorString,d.__HTTPPostResponseString):(d.__HTTPPostResponseString="",d.IfShowCancelDialogWhenImageTransfer=!0,Q.progressContext.IfShowCancelDialogWhenImageTransfer=d.IfShowCancelDialogWhenImageTransfer,r._innerHTTPUpload(d,v,l,C,D,b,M,j,Y,ee,te,de,Z,function(X){if(d.IfShowCancelDialogWhenImageTransfer=g,Q.progressContext&&(Q.progressContext.IfShowCancelDialogWhenImageTransfer=S),m.isFunction(c)){var F=[];m.isArray(b)&&m.each(b,function(B){var U=d._ImgManager.convertServerIdToClientIndex(B);U>-1&&F.push(U)});try{ai(c,X,F)}catch{}X=null}return!0},ne))}}],[{key:"_innerHTTPUpload",value:function(o,u,d,l,c,p,g,S,v,b,C,D,M,j,Y){var ee=parseInt(g),te=parseInt(S),de=v,Z=d,ne=o._segementUploadThreshold;if(m.isUndefined(g))return go(o),m.isFunction(Y)&&Y(o._errorCode,o._errorString,""),!1;o._resetErr(),Q.cancelFrom=sr.HTTPUpload;var X,F=function(U,K,q,re){return U!=0&&K&&(o._errorCode=U,o._errorString=K),q&&(o.__HTTPPostResponseString=q),Q.needShowTwiceShowDialog=!1,o.IfShowProgressBar&&Q.closeProgress(null,u),m.isFunction(Y)&&Y(o._errorCode,o._errorString,o.__HTTPPostResponseString,re),!1},B=o._createHttpUploaderConfig();if(B.objUploadStatus=M,de=M_(de,ee),Q.needShowTwiceShowDialog=!0,o.IfShowProgressBar?(Q.showProgress(o,u,!1),Q.progressContext&&(Q.progressContext._onPercent=function(U){var K=0;if(U){var q,re;q=U.loaded,re=U.total,(K=Math.floor(q/re*100))>100&&(K=100)}Q.progressBarOnPercentDone(-1,"Transferring...","",K,"")})):Q.hideProgress(),te==V.DWT.EnumDWT_UploadDataFormat.Binary){if(M&&M.bCancel)return M.st=2,Ia(o),F(o._errorCode,o._errorString);o._OnPercentDone([0,-1,tn.Encoding,"http"]),o._convertToBlobForUpload(ee,p,b,4,function(U,K,q){if(X=function(ve){return Q.needShowTwiceShowDialog=!1,o.IfShowProgressBar&&Q.closeProgress(null,u),m.isFunction(j)&&ai(j,ve),!0},M&&M.bCancel)return M.st=2,Ia(o),F(o._errorCode,o._errorString);if(!U||U.size<=0)return zn(o),F(o._errorCode,o._errorString);var re=o.__maxUploadImageSize;if(U.size>re&&re!=-1)return nu(o),F(o._errorCode,o._errorString);if(o._errorCode!=0)return F(o._errorCode,o._errorString);if(V.DWT.IfAddMD5InUploadHeader&&K&&K!=""&&(l["dwt-md5"]=K),ne>0&&U.size>ne){o._OnPercentDone([0,-1,tn.Uploading,"http",de]);var oe=new mu,fe=new es;return o.__remoteFilename&&o.__remoteFilename!=""&&(fe.remoteFilename=o.__remoteFilename),fe.url=Z,fe.method=u,fe.content=U,U=null,fe.contentType=o._strHttpContentTypeFieldValue,fe.headers=l,fe.fileName=de,fe.httpFormData=c,fe.retry=C,fe.bOnlyResponseEmptyIsOK=D,fe.blockSize=o._moduleSize,oe.httpPostUploadFragment(B,fe,X,F)}var ae=new mu,ue=new es;o.__remoteFilename&&o.__remoteFilename!=""&&(ue.remoteFilename=o.__remoteFilename),ue.url=Z,ue.method=u,ue.content=U,U=null,ue.contentType=o._strHttpContentTypeFieldValue,ue.headers=l,ue.fileName=de,ue.httpFormData=c,ue.retry=C,ue.bOnlyResponseEmptyIsOK=D,ue.blockSize=o._moduleSize,B.objUploadStatus=M,ae.httpPostUpload(B,ue,X,F)},F)}else te==V.DWT.EnumDWT_UploadDataFormat.Base64&&o._convertToBase64ByServerIdsWithUI(u,p,ee,b,4,function(U){var K;if(!U||U.getLength()<=0)return zn(o),F(o._errorCode,o._errorString);if(X=function(){return Q.needShowTwiceShowDialog=!1,o.IfShowProgressBar&&Q.closeProgress(null,u),m.isFunction(j)&&ai(j,U),!0},ne>0&&U.getLength()>ne){K=U.getMD5(),V.DWT.IfAddMD5InUploadHeader&&(l["dwt-md5"]=K),o._OnPercentDone([0,-1,tn.Uploading,"http"]);var q=new es;o.__remoteFilename&&o.__remoteFilename!=""&&(q.remoteFilename=o.__remoteFilename),q.url=Z,q.method=u,q.content=U.getData(0,U.getLength()),q.headers=l,q.fileName=de,q.httpFormData=c,q.retry=C,q.bOnlyResponseEmptyIsOK=D,q.blockSize=o._moduleSize,q.offset=0,new mu().httpPostUploadFragment(B,q,X,F)}else{var re;if(K=U.getMD5(),V.DWT.IfAddMD5InUploadHeader&&(l["dwt-md5"]=K),!(re=U.getData(0,U.getLength()))||re=="")return zn(o),F(o._errorCode,o._errorString);var oe=new es;o.__remoteFilename&&o.__remoteFilename!=""&&(oe.remoteFilename=o.__remoteFilename),oe.url=Z,oe.method=u,oe.content=re,oe.headers=l,oe.fileName=de,oe.httpFormData=c,oe.retry=C,oe.bOnlyResponseEmptyIsOK=D,oe.blockSize=o._moduleSize,new mu().httpPostUpload(B,oe,X,F)}},F)}}]);var i}(hle);function gh(t,r,i,o,u,d,l,c){var p,g,S=this,v="HTTPUploadThroughPostEx",b=S._GetHttpHeadersAndClear(),C=Rt.combineUrl(S,t,i),D=[],M=function(Z){m.isFunction(l)&&l(Z)},j=!1,Y=!1;if(m.isFunction(d)&&(Y=!0),S.__HTTPPostResponseString="",m.isNumber(r)){if(r<-2)return nt(S),M(r),!!Y&&void 0}else if(!m.isArray(r))return nt(S),M(r),!!Y&&void 0;if(!m.isString(o)||o=="")return zn(S),M(),!!Y&&void 0;if(m.isUndefined(u))return go(S),M(r),!!Y&&void 0;if(u==V.DWT.EnumDWT_ImageType.IT_BMP||u==V.DWT.EnumDWT_ImageType.IT_JPG||u==V.DWT.EnumDWT_ImageType.IT_PNG||u==V.DWT.EnumDWT_ImageType.IT_J2K){if(r==-1&&S._ImgManager.count()>1||m.isArray(r)&&r.length>1)return Sf(S),M(r),!!Y&&void 0;m.isArray(r)?D.push(r[0]):r==-1?D.push(0):D.push(r)}else{if(u!=V.DWT.EnumDWT_ImageType.IT_TIF&&u!=V.DWT.EnumDWT_ImageType.IT_PDF)return go(S),M(r),!!Y&&void 0;if(r==-1){if(S._ImgManager.count()==0)return Ii(S),M(),!!Y&&void 0;for(g=0;g<S._ImgManager.count();g++)D.push(g)}else if(r==-2)D=S._ImgManager.getSelectedClientIndexArray();else if(m.isArray(r))for(g=0;g<r.length;g++)D.push(r[g]);else D.push(r)}if(t==="")return pC(S),M(D),!!Y&&void 0;if(m.isUndefined(C)||C==="")return io(S),M(D),!!Y&&void 0;if(!m.isString(C))return jp(S),M(D),!!Y&&void 0;if(C.indexOf("http://")!=0&&C.indexOf("https://")!=0&&(C=In()?"https://"+C:"http://"+C),!S._checkIndices(D)&&D!=-1)return M(D),!!Y&&void 0;var ee=[];if(m.isArray(D)&&m.each(D,function(Z){var ne=S._ImgManager.convertClientIndexToServerId(Z);ne!=-1&&ee.push(ne)}),S._resetErr(),!S._isValid())return M(D),!!Y&&void 0;if(!Y){Q.cancelFrom=sr.HTTPUpload;var te=this.IfShowProgressBar,de=function(Z,ne,X){return Z!=0&&ne&&(S._errorCode=Z,S._errorString=ne),X&&(S.__HTTPPostResponseString=X),Q.needShowTwiceShowDialog=!1,te&&Q.closeProgress(null,v),M(D),!1};return Q.needShowTwiceShowDialog=!0,te?Q.showProgress(S,v,!1):Q.hideProgress(),S._OnPercentDone([0,-1,tn.Encoding,"http"]),S._dwtConvertToBlobSync(u,ee,j,function(Z,ne){if(Q.needShowTwiceShowDialog=!1,Z){var X=S.__maxUploadImageSize;if(Z.size>X&&X!=-1)return nu(S),de(S._errorCode,S._errorString),!1;V.DWT.IfAddMD5InUploadHeader&&ne&&ne!=""&&(b["dwt-md5"]=ne),Z instanceof File?Z.fileName=o:Z.name=o,te&&Xu(S.__IfShowCancelDialogWhenImageTransfer);var F=S._createHttpUploaderConfig(),B=new es;return S.__remoteFilename&&S.__remoteFilename!=""&&(B.remoteFilename=S.__remoteFilename),B.url=C,B.method=v,B.content=Z,B.contentType=S._strHttpContentTypeFieldValue,B.headers=b,B.bAsync=!1,B.httpFormData=Zl(S.httpFormFields),B.blockSize=S._moduleSize,new mu().httpPostUpload(F,B,function(K){return te&&Q.closeProgress(null,v),K},de)}var U={};return gC(U),de(U._errorCode,U._errorString),!1},de)}p={method:"HTTPUploadThroughPostEx",url:C,serverIds:ee,headers:b,formData:Zl(S.httpFormFields),enumImageType:u,saveSetup:j,fileName:o,retry:0,bOnlyResponseEmptyIsOK:!0,objUploadFileStatus:!1,dataFormat:V.DWT.EnumDWT_UploadDataFormat.Binary,asyncSuccessFunc:d,asyncFailureFunc:M},this._asyncUploadCmd(p)}function vB(t,r,i,o,u){var d=this,l=!0;if(r)return d._innerFunRaw("SaveSelectedImagesToBytes",Ge(0,0,t,i),r,l,!0,function(g){if(m.isFunction(o)){var S=new Blob([g],{type:d._strHttpContentTypeFieldValue});o(S),S=null}},u),!0;var c=d._innerFunRaw("SaveSelectedImagesToBytes",Ge(0,0,t,i),r,l,!1);if(d._errorCode==0){var p=o(c);return c=null,p}return c=null,u(),!1}function yle(){return this._resetErr(),!!this._isValid()&&(this._innerSend("SetCancel",null,!0),!0)}function yB(t,r,i,o,u){var d=this;if(!m.isFunction(o))return this._innerFun(t,r);d.IfShowProgressBar?(Q.showProgress(d,t,i),i&&Q.progressContext&&Q.progressContext.on("cancel",function(){Ra(ua,d,yle).call(d)})):Q.hideProgress(),this._innerSend(t,r,!0,function(){Q.closeProgress(null,t),m.isFunction(o)&&o()},function(l){m.isFunction(u)&&u(d._errorCode,d._getErrorString()),Q.closeProgress(null,t),l&&m.error(l)})}function _B(t,r,i,o,u){var d,l,c=this,p=!1;if(m.isFunction(o)&&(p=!0),!It.checkProductKey(c,{Core:!0})||!It.checkPDFProductKeyWhenNeeds(c,i))return m.isFunction(u)&&pt(u,c),!!p&&void 0;Q.cancelFrom=sr.FTPDownload;var g,S="";if(r&&r.length>=2){var v=r[0],b=r[1];v.toLowerCase().indexOf("ftp://")==0&&(v=v.substring(6,v.length)),v&&v.length>1&&v[v.length-1]=="/"&&(v=v.substring(0,v.length-1)),b&&b.length>0&&b[0]!="/"&&(b="/"+b);var C=["ftp://",v,b].join("");g=Rt.getFilePath(C),S=Rt.getFileName(C),d=r.length==2?Ge(v,b):Ge(v,b,r[2])}if(!p){var D=c._getCurrentDocumentName(),M=c._getCurrentDefaultTagName();(l=c.__innerLoadImageFun(t,d,1,D,M))&&c.__OnPostLoad&&!c.__bServerOnPostLoadFired&&setTimeout(function(){c.__bServerOnPostLoadFired||c.__OnPostLoad(g,S,""+i)},10);var j=c._ImgManager.getCurrentImageIndex();return j>=0&&c._innerRefreshUI(j),l}Ra(ua,c,yB).call(c,t,d,!0,function(){var Y=c._ImgManager.getCurrentImageIndex();Y>=0&&c._innerRefreshUI(Y),c._canConsume()&&V.DWT.lcvrf(c),c.__OnPostLoad&&!c.__bServerOnPostLoadFired&&c.__OnPostLoad(g,S,""+i),m.isFunction(o)&&o()},function(){c.__OnPostLoad&&!c.__bServerOnPostLoadFired&&c.__OnPostLoad(g,S,""+i),m.isFunction(u)&&pt(u,c)})}function SB(t,r,i,o){if(t._ImgManager.count()==0)return Ii(t),m.isFunction(o)&&o(r),!1;if(m.isNumber(r)){if(isNaN(r)||r<-2||r>=t._ImgManager.count())return nt(t),m.isFunction(o)&&o(r),!1}else{if(!m.isArray(r))return nt(t),m.isFunction(o)&&o(r),!1;var u;for(u=0;u<r.length;u++){var d=r[u];if(isNaN(d)||!m.isNumber(d)||d<0||d>=t._ImgManager.count())return SC(t),m.isFunction(o)&&o(r),!1}}if(i==V.DWT.EnumDWT_ImageType.IT_BMP||i==V.DWT.EnumDWT_ImageType.IT_JPG||i==V.DWT.EnumDWT_ImageType.IT_PNG||i==V.DWT.EnumDWT_ImageType.IT_J2K)(r==-1&&t._ImgManager.count()>1||m.isArray(r)&&r.length>1)&&(Sf(t),m.isFunction(o)&&o(r));else if(i!=V.DWT.EnumDWT_ImageType.IT_TIF&&i!=V.DWT.EnumDWT_ImageType.IT_PDF)return go(t),m.isFunction(o)&&o(r),!1;return!0}function Zl(t){var r;return t&&(r=new FormData,m.each(t,function(i,o){if(i instanceof Blob){var u=i.name;r.append(o,i,u)}else r.append(o,i)})),r}var vu=function(t){function r(){return h(this,r),f(this,r,arguments)}return P(r,t),y(r,[{key:"Viewer",get:function(){return this._viewer}},{key:"BindViewer",value:function(l){var c=this,p=l;return V.DWT.UseDefaultViewer?(m.isString(l)&&(p=m.get(l),m.show(p)),c._config.container!=p&&(c._config.container=p,fB(c)),c._UIView.BindView(l)):(Me(c,-2439,"You cannot call the method bindViewer() when Dynamsoft.DWT.UseDefaultViewer is set to false."),!1)}},{key:"UnbindViewer",value:function(){return this._innerUnbindViewer(!1)}},{key:"AddText",value:function(l,c,p,g,S,v,b,C){var D=this,M=parseInt(l);if(!wi(D,M))return!1;var j=za.RGB2BGR(S),Y=za.RGB2BGR(v),ee=D._ImgManager.convertClientIndexToServerId(M);return ee==-1?(nt(D),!1):D._innerFun("AddText",Ge(ee,c,p,g,j,Y,b,C))}},{key:"CreateTextFont",value:function(l,c,p,g,S,v,b,C,D,M,j,Y,ee,te){return this._resetErr(),!!this._isValid()&&this._innerFun("CreateTextFont",Ge(l,c,p,g,S,v,b,C,D,M,j,Y,ee,te))}},{key:"CopyToClipboard",value:function(l){var c=parseInt(l);return!!wi(this,c)&&Qm(this,"CopyToClipboard",c,null,null,!1,!1)}},{key:"CopyToClipboardAsync",value:function(l){var c=this;if(c._resetErr(),!c._isValid())return Pe.Promise.reject({code:c._errorCode,message:c._errorString});var p=parseInt(l);return isNaN(p)?(nr(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString})):p<0||p>=c._ImgManager.count()?(nt(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString})):function(g,S,v){var b=g._ImgManager.convertClientIndexToServerId(v);return b==-1?(nt(g),Pe.Promise.reject({code:g._errorCode,message:g._errorString})):g._innerFunV2(S,Ge(b))}(c,"CopyToClipboard",p)}},{key:"getView",value:function(){return this._UIView}},{key:"Erase",value:function(l,c,p,g,S,v,b){var C=this;if(!m.isFunction(v)){var D,M=parseInt(l);if(!wi(C,M,b))return!1;var j=C._ImgManager.convertClientIndexToServerId(M);return j==-1?(nt(C),m.isFunction(b)&&b(C._errorCode,C._getErrorString()),!1):(C.getView().ClearSelectedAreas(),(D=C._innerFun("Erase",Ge(j,c,p,g,S))==1)?m.isFunction(v)&&v():m.isFunction(b)&&b(C._errorCode,C._getErrorString()),D)}C.EraseAsync(l,c,p,g,S).then(v,function(Y){C._wrappeAsyncFailed(C,Y,b)})}},{key:"EraseAsync",value:function(l,c,p,g,S){var v=this;if(v._resetErr(),!v._isValid())return Pe.Promise.reject({code:v._errorCode,message:v._errorString});var b=parseInt(l);if(isNaN(b))return nr(v),Pe.Promise.reject({code:v._errorCode,message:v._errorString});if(b<0||b>=v._ImgManager.count())return nt(v),Pe.Promise.reject({code:v._errorCode,message:v._errorString});var C=v._ImgManager.convertClientIndexToServerId(b);return C==-1?(nt(v),Pe.Promise.reject({code:v._errorCode,message:v._errorString})):(v.getView().ClearSelectedAreas(),v._innerFunV2("Erase",Ge(C,c,p,g,S),!0).then(function(D){if(D!=1)throw{code:v._errorCode,message:v._errorString}}))}},{key:"GetImageBitDepth",value:function(l){var c=this,p=parseInt(l);if(!wi(c,p))return!1;var g=c._ImgManager.convertClientIndexToServerId(p);return g==-1?(nt(c),!1):c._innerFun("GetImageBitDepth",Ge(g))}},{key:"GetImageWidth",value:function(l){var c=this;if(c._resetErr(),!c._isValid())return!1;var p=parseInt(l);if(isNaN(p))return nr(c),-1;if(p<0||p>=c._ImgManager.count())return nt(c),-1;var g=c._ImgManager.convertClientIndexToServerId(p);return g==-1?(nt(c),-1):c._innerFun("GetImageWidth",Ge(g))}},{key:"GetImageHeight",value:function(l){var c=this;if(c._resetErr(),!c._isValid())return!1;var p=parseInt(l);if(isNaN(p))return nr(c),-1;if(p<0||p>=c._ImgManager.count())return nt(c),-1;var g=c._ImgManager.convertClientIndexToServerId(p);return g==-1?(nt(c),-1):c._innerFun("GetImageHeight",Ge(g))}},{key:"GetImageSize",value:function(l,c,p){var g=this;if(g._resetErr(),!g._isValid())return!1;var S=parseInt(l);if(isNaN(S))return nr(g),-1;if(S<0||S>=g._ImgManager.count())return nt(g),-1;var v=g._ImgManager.convertClientIndexToServerId(S);return v==-1?(nt(g),-1):g._innerFun("GetImageSize",Ge(v,c,p))}},{key:"GetImageSizeWithSpecifiedType",value:function(l,c){var p=this;if(p._resetErr(),!p._isValid())return!1;var g=parseInt(l);if(isNaN(g))return nr(p),-1;if(g<0||g>=p._ImgManager.count())return nt(p),-1;var S=p._ImgManager.convertClientIndexToServerId(g);return S==-1?(nt(p),-1):p._innerFun("GetImageSizeWithSpecifiedType",Ge(S,c))}},{key:"GetImageXResolution",value:function(l){var c=this,p=parseInt(l);if(!wi(c,p))return!1;var g=c._ImgManager.convertClientIndexToServerId(p);return g==-1?(nt(c),!1):c._innerFun("GetImageXResolution",Ge(g))}},{key:"GetImageYResolution",value:function(l){var c=this,p=parseInt(l);if(!wi(c,p))return!1;var g=c._ImgManager.convertClientIndexToServerId(p);return g==-1?(nt(c),!1):c._innerFun("GetImageYResolution",Ge(g))}},{key:"SelectAllImages",value:function(){var l,c=this,p=c._getHowManyImagesInBuffer(),g=[];if(c._resetErr(),!c._isValid())return!1;for(l=0;l<p;l++)g.push(l);return c._ImgManager.setSelectedClientIndexArray(g),g}},{key:"SelectImages",value:function(l){var c=this;return c._resetErr(),!!c._isValid()&&c._ImgManager.setSelectedClientIndexArray(l)}},{key:"GetSkewAngle",value:function(l,c,p){var g,S=this;if(!m.isFunction(c)){var v=parseInt(l);return!!wi(S,v,p)&&(g=Qm(S,"GetSkewAngle",v,c,p,!0,!1),S._errorCode==0?(Rt.refreshImageAfterInvokeFun(S,v),g):0)}S.GetSkewAngleAsync(l).then(c,function(b){S._wrappeAsyncFailed(S,b,p)})}},{key:"GetSkewAngleAsync",value:function(l){var c=this;if(c._resetErr(),!c._isValid())return Pe.Promise.reject({code:c._errorCode,message:c._errorString});var p=parseInt(l);if(isNaN(p))return nr(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString});if(p<0||p>=c._ImgManager.count())return nt(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString});var g=c._ImgManager.convertClientIndexToServerId(p);return g==-1?(nt(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString})):c._innerFunV2("GetSkewAngle",Ge(g),!0).then(function(S){var v=S;return m.isArray(S)&&(v=S.length>0?S[0]:0),Rt.refreshImageAfterInvokeFun(c,p),v})}},{key:"GetSkewAngleEx",value:function(l,c,p,g,S){var v=this,b=parseInt(l);if(!wi(v,b))return!1;var C=v._ImgManager.convertClientIndexToServerId(b);return C==-1?(nt(v),!1):v._innerFun("GetSkewAngleEx",Ge(C,c,p,g,S))}},{key:"GetSkewAngleFromBinaryAsync",value:function(l,c,p,g){var S=this;if(S._resetErr(),!S._isValid())return Pe.Promise.reject({code:S._errorCode,message:S._errorString});var v=this._imageBufferWrapper.getCustomDataByIndex(l),b=this._imageBufferWrapper.getMetadataByIndex(l),C=this._ImgManager.convertClientIndexToServerId(l),D={imageId:C,serverId:C,bufferLen:c.size,imageType:vr.IT_BMP,width:b.width,height:b.height,bit:b.bitDepth,xres:b.resolutionX,yres:b.resolutionY,uidFromServer:v.uidFromServer},M=m.stringify([m.stringify(D)]);return this._innerSendBlob("GetSkewAngleFromBinary",M,c,!0,!0,p,g)}},{key:"IsBlankImageEx",value:function(l,c,p,g,S,v){var b,C=this;if(!wi(C,b=parseInt(l)))return!1;var D=C._ImgManager.convertClientIndexToServerId(b);return D==-1?(nt(C),!1):C._innerFun("IsBlankImageEx",Ge(D,c,p,g,S,v))}},{key:"MirrorAsync",value:function(l){var c=this;if(c._resetErr(),!c._isValid())return Pe.Promise.reject({code:c._errorCode,message:c._errorString});var p=parseInt(l);if(isNaN(p))return nr(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString});if(p<0||p>=c._ImgManager.count())return nt(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString});var g=c._ImgManager.convertClientIndexToServerId(p);return g==-1?(nt(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString})):c._innerFunV2("Mirror",Ge(g),!0).then(function(S){if(S!=1)throw{code:c._errorCode,message:c._errorString};Rt.refreshImageAfterInvokeFun(c,p),c.getView().ClearSelectedAreas()})}},{key:"Mirror",value:function(l,c,p){var g=this;if(!m.isFunction(c)){var S=parseInt(l);return!!wi(g,S,p)&&Qm(g,"Mirror",S,c,p,!1,!0)}g.MirrorAsync(l).then(c,function(v){g._wrappeAsyncFailed(g,v,p)})}},{key:"RemoveAllImages",value:function(){return this._removeAllImages("RemoveAllImages")}},{key:"RemoveAllImagesAsync",value:function(){return this._removeAllImagesAsync("RemoveAllImagesAsync",!0)}},{key:"RemoveImageAsync",value:function(l){var c=this;if(c._resetErr(),!c._isValid())return Pe.Promise.reject({code:c._errorCode,message:c._errorString});var p=parseInt(l);if(isNaN(p))return nr(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString});if(p<0||p>=c._ImgManager.count())return nt(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString});var g=c._ImgManager.convertClientIndexToServerId(p);return g==-1?(nt(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString})):c._innerFunV2("RemoveImage",Ge(g),!0).then(function(S){return!(!S&&c._errorCode!=-1033)&&(c._OnBitmapChanged(["c1",""+g,3,c._ImgManager.getCurrentImageIndex(),c._ImgManager.count()]),!0)})}},{key:"Rotate",value:function(l,c,p,g,S){return this.RotateEx(l,c,p,-1,g,S)}},{key:"_wrappeAsyncFailed",value:function(l,c,p){c&&(l._errorCode=c.code,l._errorString=c.message),m.isFunction(p)&&p(l._errorCode,l._getErrorString())}},{key:"RotateEx",value:function(l,c,p,g,S,v){var b=this;if(!m.isFunction(S)){if(b._resetErr(),!b._isValid())return!1;var C,D=parseInt(l);if(isNaN(D))return nr(b),m.isFunction(v)&&v(b._errorCode,b._getErrorString()),!1;if(D<0||D>=b._ImgManager.count())return nt(b),m.isFunction(v)&&v(b._errorCode,b._getErrorString()),!1;var M=b._ImgManager.convertClientIndexToServerId(D);return M==-1?(nt(b),m.isFunction(v)&&v(b._errorCode,b._getErrorString()),!1):((C=b._innerFun("RotateEx",Ge(M,c,p,g))==1)?(Rt.refreshImageAfterInvokeFun(b,D),b.getView().ClearSelectedAreas(),m.isFunction(S)&&S()):m.isFunction(v)&&v(b._errorCode,b._getErrorString()),C)}b.RotateExAsync(l,c,p,g).then(S,function(j){b._wrappeAsyncFailed(b,j,v)})}},{key:"RotateLeft",value:function(l,c,p){return this.RotateEx(l,-90,!0,-1,c,p)}},{key:"RotateRight",value:function(l,c,p){return this.RotateEx(l,90,!0,-1,c,p)}},{key:"RotateAsync",value:function(l,c,p){return this.RotateExAsync(l,c,p,-1)}},{key:"RotateExAsync",value:function(l,c,p,g){var S=this;if(S._resetErr(),!S._isValid())return Pe.Promise.reject({code:S._errorCode,message:S._errorString});var v=parseInt(l);if(isNaN(v))return nr(S),Pe.Promise.reject({code:S._errorCode,message:S._errorString});if(v<0||v>=S._ImgManager.count())return nt(S),Pe.Promise.reject({code:S._errorCode,message:S._errorString});var b=S._ImgManager.convertClientIndexToServerId(v);return b==-1?(nt(S),Pe.Promise.reject({code:S._errorCode,message:S._errorString})):S._innerFunV2("RotateEx",Ge(b,c,p,g),!0).then(function(C){if(C!=1&&C!=1)throw{code:S._errorCode,message:S._errorString};Rt.refreshImageAfterInvokeFun(S,v),S.getView().ClearSelectedAreas()})}},{key:"RotateLeftAsync",value:function(l){return this.RotateExAsync(l,-90,!0,-1)}},{key:"RotateRightAsync",value:function(l){return this.RotateExAsync(l,90,!0,-1)}},{key:"ChangeImageSize",value:function(l,c,p,g,S,v){var b=this;if(!m.isFunction(S)){var C,D=parseInt(l),M=1*c,j=1*p;if(!wi(b,D,v))return!1;if(M<=0||j<=0)return pR(b),m.isFunction(v)&&v(b._errorCode,b._getErrorString()),!1;var Y=b._ImgManager.convertClientIndexToServerId(D);return Y==-1?(nt(b),m.isFunction(v)&&v(b._errorCode,b._getErrorString()),!1):((C=b._innerFun("ChangeImageSize",Ge(Y,M,j,g))==1)?(Rt.refreshImageAfterInvokeFun(b,D),m.isFunction(S)&&S()):m.isFunction(v)&&v(b._errorCode,b._getErrorString()),C)}b.ChangeImageSizeAsync(l,c,p,g).then(S,function(ee){b._wrappeAsyncFailed(b,ee,v)})}},{key:"ChangeImageSizeAsync",value:function(l,c,p,g){var S=this,v=parseInt(l),b=1*c,C=1*p;if(S._resetErr(),!S._isValid())return Pe.Promise.reject({code:S._errorCode,message:S._errorString});if(isNaN(v))return nr(S),Pe.Promise.reject({code:S._errorCode,message:S._errorString});if(v<0||v>=S._ImgManager.count())return nt(S),Pe.Promise.reject({code:S._errorCode,message:S._errorString});if(b<=0||C<=0)return pR(S),Pe.Promise.reject({code:S._errorCode,message:S._errorString});var D=S._ImgManager.convertClientIndexToServerId(v);return D==-1?(nt(S),Pe.Promise.reject({code:S._errorCode,message:S._errorString})):S._innerFunV2("ChangeImageSize",Ge(D,b,C,g),!0).then(function(M){if(M!=1)throw{code:S._errorCode,message:S._errorString};Rt.refreshImageAfterInvokeFun(S,v)})}},{key:"Flip",value:function(l,c,p){var g=this;if(!m.isFunction(c)){var S=parseInt(l);return!!wi(g,S,p)&&Qm(g,"Flip",S,c,p,!1,!0)}g.FlipAsync(l).then(c,function(v){g._wrappeAsyncFailed(g,v,p)})}},{key:"FlipAsync",value:function(l){var c=this;if(c._resetErr(),!c._isValid())return Pe.Promise.reject({code:c._errorCode,message:c._errorString});var p=parseInt(l);if(isNaN(p))return nr(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString});if(p<0||p>=c._ImgManager.count())return nt(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString});var g=c._ImgManager.convertClientIndexToServerId(p);return g==-1?(nt(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString})):c._innerFunV2("Flip",Ge(g),!0).then(function(S){if(S!=1)throw{code:c._errorCode,message:c._errorString};Rt.refreshImageAfterInvokeFun(c,p),c.getView().ClearSelectedAreas()})}},{key:"OutputSelectedAreaAsync",value:(d=s(E().mark(function l(c,p,g,S){var v,b,C,D,M,j,Y,ee,te,de,Z,ne,X,F;return E().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(C="OutputSelectedArea",(b=this)._resetErr(),b._isValid()){B.next=4;break}throw{code:b._errorCode,message:b._errorString};case 4:if(D=0,M=0,j=0,Y=0,!isNaN(c)){B.next=8;break}throw nr(b),{code:b._errorCode,message:b._errorString};case 8:if(g==vr.IT_BMP||g==vr.IT_JPG||g==vr.IT_TIF||g==vr.IT_PNG||g==vr.IT_PDF){B.next=11;break}throw mr(b),{code:b._errorCode,message:b._errorString};case 11:if(S==Xl.Blob||S==Xl.Base64){B.next=14;break}throw mr(b),{code:b._errorCode,message:b._errorString};case 14:if(!(c<0||c>=b._ImgManager.count())){B.next=17;break}throw nt(b),{code:b._errorCode,message:b._errorString};case 17:if((ee=b._ImgManager.convertClientIndexToServerId(c))!=-1){B.next=21;break}throw nt(b),{code:b._errorCode,message:b._errorString};case 21:return te=S==Xl.Base64,de=te?"text":"arraybuffer",p&&(Q.isNumber(p.x)&&(D=p.x),Q.isNumber(p.y)&&(M=p.y),Q.isNumber(p.width)&&(j=p.width),Q.isNumber(p.height)&&(Y=p.height)),ne=m.stringify([{index:ee,left:D,top:M,width:j,height:Y}]),X="["+ne+","+g+","+S+"]",F=(v=Q.progressContext)===null||v===void 0?void 0:v.IfShowCancelDialogWhenImageTransfer,B.prev=27,b.IfShowProgressBar?Q.showProgress(b,C,!1):Q.hideProgress(),te?b._OnPercentDone([0,-1,tn.ConvertingToBase64]):b._OnPercentDone([0,-1,tn.ConvertingToBlob]),Q.progressContext&&(Q.progressContext.IfShowCancelDialogWhenImageTransfer=!1),B.next=33,b._sendDataByHttpAsync(C,X,de,!0);case 33:Z=B.sent;case 34:return B.prev=34,Q.progressContext&&(Q.progressContext.IfShowCancelDialogWhenImageTransfer=F),b.IfShowProgressBar&&Q.closeProgress(null,C),B.finish(34);case 38:if(!te){B.next=52;break}if(!Z){B.next=49;break}if(!na(Z)){B.next=45;break}return b._errorCode=Z.exception,b._errorString=Z.description,b._errorCause=vo(Z),B.abrupt("return","");case 45:if(!(m.isArray(Z.result)&&Z.result.length>0&&m.isString(Z.result[0]))){B.next=47;break}return B.abrupt("return",Z.result[0]);case 47:B.next=50;break;case 49:return B.abrupt("return","");case 50:B.next=53;break;case 52:return B.abrupt("return",new Blob([Z],{type:aT(g)}));case 53:case"end":return B.stop()}},l,this,[[27,,34,38]])})),function(l,c,p,g){return d.apply(this,arguments)})},{key:"Crop",value:function(l,c,p,g,S,v,b){var C=this;if(!m.isFunction(v)){var D,M=parseInt(l);if(!wi(C,M,b))return!1;var j,Y,ee=C._ImgManager.convertClientIndexToServerId(M);return ee==-1?(nt(C),m.isFunction(b)&&b(C._errorCode,C._getErrorString()),!1):(D=C._innerFun("Crop",Ge(ee,c,p,g,S))==1,j=C._errorCode,Y=C._getErrorString(),C.getView().ClearSelectedAreas(),C._errorCode=j,C._errorString=Y,D?(Rt.refreshImageAfterInvokeFun(C,M),m.isFunction(v)&&v()):m.isFunction(b)&&b(j,Y),D)}C.CropAsync(l,c,p,g,S).then(v,function(te){C._wrappeAsyncFailed(C,te,b)})}},{key:"CropAsync",value:function(l,c,p,g,S){var v=this;if(v._resetErr(),!v._isValid())return Pe.Promise.reject({code:v._errorCode,message:v._errorString});var b=parseInt(l);if(isNaN(b))return nr(v),Pe.Promise.reject({code:v._errorCode,message:v._errorString});if(b<0||b>=v._ImgManager.count())return nt(v),Pe.Promise.reject({code:v._errorCode,message:v._errorString});var C=v._ImgManager.convertClientIndexToServerId(b);return C==-1?(nt(v),Pe.Promise.reject({code:v._errorCode,message:v._errorString})):v._innerFunV2("Crop",Ge(C,c,p,g,S),!0).then(function(D){var M,j;if(M=v._errorCode,j=v._getErrorString(),v.getView().ClearSelectedAreas(),v._errorCode=M,v._errorString=j,D!=1)throw{code:v._errorCode,message:v._errorString};return Rt.refreshImageAfterInvokeFun(v,b),!0})}},{key:"CropToClipboard",value:function(l,c,p,g,S){var v,b=this,C=parseInt(l);if(!wi(b,C))return!1;var D=b._ImgManager.convertClientIndexToServerId(C);return D==-1?(nt(b),!1):(b.getView().ClearSelectedAreas(),(v=b._innerFun("CropToClipboard",Ge(D,c,p,g,S))==1)&&Rt.refreshImageAfterInvokeFun(b,C),v)}},{key:"CutFrameToClipboard",value:function(l,c,p,g,S){var v,b=this,C=parseInt(l);if(!wi(b,C))return!1;var D=b._ImgManager.convertClientIndexToServerId(C);return D==-1?(nt(b),!1):(b.getView().ClearSelectedAreas(),(v=b._innerFun("CutFrameToClipboard",Ge(D,c,p,g,S))==1)&&Rt.refreshImageAfterInvokeFun(b,C),v)}},{key:"CutToClipboard",value:function(l){var c,p=this,g=parseInt(l);if(!wi(p,g))return!1;var S=p._ImgManager.convertClientIndexToServerId(g);return S==-1?(nt(p),!1):((c=p._innerFun("CutToClipboard",Ge(S))==1)&&p._OnBitmapChanged(["c1",""+S,3,p._ImgManager.getCurrentImageIndex(),p._ImgManager.count()]),c)}},{key:"CutFrameToClipboardAsync",value:function(l,c,p,g,S){var v=this;if(v._resetErr(),!v._isValid())return Pe.Promise.reject({code:v._errorCode,message:v._errorString});var b=parseInt(l);if(isNaN(b))return nr(v),Pe.Promise.reject({code:v._errorCode,message:v._errorString});if(b<0||b>=v._ImgManager.count())return nt(v),Pe.Promise.reject({code:v._errorCode,message:v._errorString});var C=v._ImgManager.convertClientIndexToServerId(b);return C==-1?(nt(v),Pe.Promise.reject({code:v._errorCode,message:v._errorString})):v._innerFunV2("CutFrameToClipboard",Ge(C,c,p,g,S)).then(function(D){var M=D==1;if(!M)throw{code:v._errorCode,message:v._errorString};return Rt.refreshImageAfterInvokeFun(v,b),M})}},{key:"CropToClipboardAsync",value:function(l,c,p,g,S){var v=this;if(v._resetErr(),!v._isValid())return Pe.Promise.reject({code:v._errorCode,message:v._errorString});var b=parseInt(l);if(isNaN(b))return nr(v),Pe.Promise.reject({code:v._errorCode,message:v._errorString});if(b<0||b>=v._ImgManager.count())return nt(v),Pe.Promise.reject({code:v._errorCode,message:v._errorString});var C=v._ImgManager.convertClientIndexToServerId(b);return C==-1?(nt(v),Pe.Promise.reject({code:v._errorCode,message:v._errorString})):v._innerFunV2("CropToClipboard",Ge(C,c,p,g,S)).then(function(D){var M=D==1;if(!M)throw{code:v._errorCode,message:v._errorString};return Rt.refreshImageAfterInvokeFun(v,b),M})}},{key:"CutToClipboardAsync",value:function(l){var c=this;if(c._resetErr(),!c._isValid())return Pe.Promise.reject({code:c._errorCode,message:c._errorString});var p=parseInt(l);if(isNaN(p))return nr(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString});if(p<0||p>=c._ImgManager.count())return nt(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString});var g=c._ImgManager.convertClientIndexToServerId(p);return g==-1?(nt(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString})):c._innerFunV2("CutToClipboard",Ge(g)).then(function(S){var v=S==1;if(!v)throw{code:c._errorCode,message:c._errorString};return c._OnBitmapChanged(["c1",""+g,3,c._ImgManager.getCurrentImageIndex(),c._ImgManager.count()]),v})}},{key:"SetDPI",value:function(l,c,p,g,S,v,b){var C,D=this,M=!1;m.isFunction(v)&&(M=!0);var j=parseInt(l);if(!wi(D,j,b))return!!M&&void 0;var Y=D._ImgManager.convertClientIndexToServerId(j);return Y==-1?(nt(D),m.isFunction(b)&&b(D._errorCode,D._getErrorString()),!!M&&void 0):((C=D._innerFun("SetDPI",Ge(Y,c,p,g,S))==1)?m.isFunction(v)&&v():m.isFunction(b)&&b(D._errorCode,D._getErrorString()),M?void 0:C)}},{key:"MoveImage",value:function(l,c){var p=this;if(p._resetErr(),!p._isValid())return!1;var g=parseInt(l),S=parseInt(c);return isNaN(g)||isNaN(S)?(nr(p),!1):g<0||g>=p._ImgManager.count()||S<0||S>=p._ImgManager.count()?(nt(p),!1):p._ImgManager.moveImage(g,S)}},{key:"SwitchImage",value:function(l,c){var p=this;if(p._resetErr(),!p._isValid())return!1;var g=parseInt(l),S=parseInt(c);return isNaN(g)||isNaN(S)?(nr(p),!1):g<0||g>=p._ImgManager.count()||S<0||S>=p._ImgManager.count()?(nt(p),!1):p._ImgManager.switchImage(g,S)}},{key:"CloseWorkingProcess",value:function(){var l=this;return l._resetErr(),!!l._isValid()&&l._innerFun("CloseWorkerProcess")}},{key:"RemoveAllSelectedImages",value:function(){var l=this;if(l._resetErr(),!l._isValid())return!1;var c=!0,p=l._ImgManager.getCurrentImageIndex(),g=l._ImgManager.getSelectedClientIndexArray(),S=[];if(m.isArray(g)&&m.each(g,function(b){var C=l._ImgManager.convertClientIndexToServerId(b);C!=-1&&S.push(C)}),S.length==0&&p>=0){var v=l._ImgManager.convertClientIndexToServerId(p);S.push(v)}return S.length>0&&(c=l._innerFun("RemoveAllSelectedImages",Ge(S.join(",")))),c&&l._OnBitmapChanged(["c1",S.join(","),3,l._ImgManager.getCurrentImageIndex(),l._ImgManager.count()]),c}},{key:"RemoveAllSelectedImagesAsync",value:function(){var l=this;if(l._resetErr(),!l._isValid())return Pe.Promise.reject({code:l._errorCode,message:l._errorString});var c=l._ImgManager.getCurrentImageIndex(),p=l._ImgManager.getSelectedClientIndexArray(),g=[];if(m.isArray(p)&&m.each(p,function(v){var b=l._ImgManager.convertClientIndexToServerId(v);b!=-1&&g.push(b)}),g.length==0&&c>=0){var S=l._ImgManager.convertClientIndexToServerId(c);g.push(S)}return g.length>0?l._innerFunV2("RemoveAllSelectedImages",Ge(g.join(","),!0)).then(function(v){v&&l._OnBitmapChanged(["c1",g.join(","),3,l._ImgManager.getCurrentImageIndex(),l._ImgManager.count()])}):Pe.Promise.resolve()}},{key:"TagImages",value:function(l,c){var p=this;if(p._resetErr(),!p._isValid())return!1;var g=!0,S=p._ImgManager.count();return m.isArray(l)?m.isString(c)&&c!=""?(m.each(l,function(v){if(isNaN(v)||v<0||v>=S)return nt(p),g=!1}),g&&p._ImgManager.addImageTag(l,c)):(Me(p,-2394,"Invalid tag name."),!1):(id(p),!1)}},{key:"ClearImageTags",value:function(l){var c=this;return c._resetErr(),!!c._isValid()&&(l==-1||l>=c._getHowManyImagesInBuffer()?(nt(c),!1):c._ImgManager.removeImageTag(l))}},{key:"SetDefaultTag",value:function(l){var c=this;return c._resetErr(),!!c._isValid()&&c._ImgManager.setDefaultTag(l)}},{key:"FilterImagesByTag",value:function(l,c,p){var g,S=this,v=!1;if(m.isFunction(c)&&(v=!0),S._resetErr(),!S._isValid())return!!v&&void 0;m.isFunction(p)&&(g=function(){p({code:S._errorCode,message:S._errorString})});var b=S._ImgManager.showImagesByFilter(l,c,g);return v?void 0:b}},{key:"ClearFilter",value:function(){var l=this;return l._resetErr(),!!l._isValid()&&l._ImgManager.clearFilter()}},{key:"CreateDocument",value:function(l){var c=this;return c._resetErr(),!!c._isValid()&&(l&&l!=""?m.isString(l)?c._ImgManager.CreateFile(l):(Bp(c),!1):(m.isNumber(l)?Bp(c):TC(c),!1))}},{key:"OpenDocument",value:function(l){var c=this;return c._resetErr(),!!c._isValid()&&(l&&l!=""?m.isString(l)?c._ImgManager.OpenFile(l):(Bp(c),!1):(m.isNumber(l)?Bp(c):TC(c),!1))}},{key:"RemoveDocument",value:function(l){var c=this;if(c._resetErr(),!c._isValid())return!1;var p=c._ImgManager.GetServerIdsByFileName(l);return p.length>0&&c._innerFun("RemoveAllSelectedImages",Ge(p.join(","))),c._ImgManager.RemoveFile(l)}},{key:"RenameDocument",value:function(l,c){var p=this;return p._resetErr(),!!p._isValid()&&(m.isString(l)&&m.isString(c)?l&&l!=""&&c&&c!=""?p._ImgManager.RenameFile(l,c):(TC(p),!1):(Bp(p),!1))}},{key:"GetDocumentInfoList",value:function(){var l=this;return l._resetErr(),!!l._isValid()&&l._ImgManager.GetFileInfoList()}},{key:"MoveToDocumentAsync",value:(u=s(E().mark(function l(c,p,g,S){var v,b,C,D,M,j,Y,ee,te,de;return E().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if((v=this)._resetErr(),v._isValid()){Z.next=4;break}throw{code:v._errorCode,message:v._errorString};case 4:if(!m.isUndefined(c)&&c.length!=0){Z.next=7;break}throw ry(v),{code:v._errorCode,message:v._errorString};case 7:if(!m.isUndefined(p)&&p.length!=0){Z.next=10;break}throw ny(v),{code:v._errorCode,message:v._errorString};case 10:b=v._ImgManager.GetFileInfoList(),M=0;case 12:if(!(M<b.length)){Z.next=20;break}if(b[M].name!=c){Z.next=17;break}return C=b[M],Z.abrupt("break",20);case 17:M++,Z.next=12;break;case 20:j=0;case 21:if(!(j<b.length)){Z.next=29;break}if(b[j].name!=p){Z.next=26;break}return D=b[j],Z.abrupt("break",29);case 26:j++,Z.next=21;break;case 29:if(!m.isUndefined(C)){Z.next=32;break}throw ry(v),{code:v._errorCode,message:v._errorString};case 32:if(!m.isUndefined(D)){Z.next=35;break}throw ny(v),{code:v._errorCode,message:v._errorString};case 35:if(Y=[],!m.isUndefined(g)){Z.next=40;break}if(C.imageIds.length>0)for(te=0;te<C.imageIds.length;te++)Y.push(te);Z.next=60;break;case 40:if(!m.isArray(g)){Z.next=53;break}if(v._checkIndices(g,C.imageIds.length)){Z.next=43;break}throw{code:v._errorCode,message:v._errorString};case 43:if(Y=g,m.isUndefined(S)){Z.next=51;break}if(!m.isNumber(S)){Z.next=49;break}S<0?ee=0:D.imageIds.length>S&&(ee=S),Z.next=51;break;case 49:throw mr(v),{code:v._errorCode,message:v._errorString};case 51:Z.next=60;break;case 53:if(!m.isNumber(g)){Z.next=58;break}if(C.imageIds.length>0)for(de=0;de<C.imageIds.length;de++)Y.push(de);g<0?ee=0:D.imageIds.length>g&&(ee=g),Z.next=60;break;case 58:throw mr(v),{code:v._errorCode,message:v._errorString};case 60:return Z.abrupt("return",new Pe.Promise(function(ne,X){Y.length==0||v._ImgManager.MoveImageToFile(c,Y,p,ee)?ne():X({code:v._errorCode,message:v._errorString})}));case 61:case"end":return Z.stop()}},l,this)})),function(l,c,p,g){return u.apply(this,arguments)})},{key:"CopyToDocumentAsync",value:(o=s(E().mark(function l(c,p,g,S){var v,b,C,D,M,j,Y,ee;return E().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:if((v=this)._resetErr(),v._isValid()){te.next=4;break}throw{code:v._errorCode,message:v._errorString};case 4:if(!m.isUndefined(c)&&c.length!=0){te.next=7;break}throw ry(v),{code:v._errorCode,message:v._errorString};case 7:if(!m.isUndefined(p)&&p.length!=0){te.next=10;break}throw ny(v),{code:v._errorCode,message:v._errorString};case 10:b=v._ImgManager.GetFileInfoList(),M=0;case 12:if(!(M<b.length)){te.next=20;break}if(b[M].name!=c){te.next=17;break}return C=b[M],te.abrupt("break",20);case 17:M++,te.next=12;break;case 20:j=0;case 21:if(!(j<b.length)){te.next=29;break}if(b[j].name!=p){te.next=26;break}return D=b[j],te.abrupt("break",29);case 26:j++,te.next=21;break;case 29:if(!m.isUndefined(C)){te.next=32;break}throw ry(v),{code:v._errorCode,message:v._errorString};case 32:if(!m.isUndefined(D)){te.next=35;break}throw ny(v),{code:v._errorCode,message:v._errorString};case 35:if(Y=[],!m.isUndefined(g)){te.next=40;break}C.imageIds.length>0&&m.isArray(C.imageIds)&&m.each(C.imageIds,function(de){var Z=v._uidFromServer2ServerId(de);Z!=-1&&Y.push(Z)}),te.next=60;break;case 40:if(!m.isArray(g)){te.next=53;break}if(v._checkIndices(g,C.imageIds.length)){te.next=43;break}throw{code:v._errorCode,message:v._errorString};case 43:if(m.each(g,function(de){var Z=v._uidFromServer2ServerId(C.imageIds[de]);Z!=-1&&Y.push(Z)}),m.isUndefined(S)){te.next=51;break}if(!m.isNumber(S)){te.next=49;break}S<0?ee=0:D.imageIds.length>S&&(ee=S),te.next=51;break;case 49:throw mr(v),{code:v._errorCode,message:v._errorString};case 51:te.next=60;break;case 53:if(!m.isNumber(g)){te.next=58;break}C.imageIds.length>0&&m.isArray(C.imageIds)&&m.each(C.imageIds,function(de){var Z=v._uidFromServer2ServerId(de);Z!=-1&&Y.push(Z)}),g<0?ee=0:D.imageIds.length>g&&(ee=g),te.next=60;break;case 58:throw mr(v),{code:v._errorCode,message:v._errorString};case 60:return te.abrupt("return",new Pe.Promise(function(de,Z){var ne="copyToDocument";if(D.imageIds.length,Y.length==0)de();else{v.IfShowProgressBar?Mu(!1):Q.hideProgress();var X=v.IfShowCancelDialogWhenImageTransfer;Q.cancelFrom=sr.LoadImage,v.IfShowCancelDialogWhenImageTransfer=!1,Q.progressContext&&(Q.progressContext.IfShowCancelDialogWhenImageTransfer=!1),Q.cancelFrom=sr.Other,v._innerConvertToBlobWithUI(ne,V.DWT.EnumDWT_ImageType.IT_PDF,Y,!1,function(F,B){F.currentFileName=p,F.currentTagName="",F.bNeedClearCurrentTagName=!0,F.index=ee,v.IfShowProgressBar?(Mu(!1),Q.showProgress(v,ne,!1),Q.progressContext&&(Q.progressContext.IfShowCancelDialogWhenImageTransfer=!1)):Q.hideProgress(),Q.cancelFrom=sr.LoadImage,v._innerLoadImageFromBinary(F,0,!0,!0,function(){v.IfShowCancelDialogWhenImageTransfer=X,v.IfShowProgressBar&&Q.closeProgress(null,ne),de()},function(){v.IfShowCancelDialogWhenImageTransfer=X,v.IfShowProgressBar&&Q.closeProgress(null,ne),Z({code:v._errorCode,message:v._errorString})})},function(){v.IfShowCancelDialogWhenImageTransfer=X,Z({code:v._errorCode,message:v._errorString})})}}));case 61:case"end":return te.stop()}},l,this)})),function(l,c,p,g){return o.apply(this,arguments)})},{key:"Invert",value:function(l,c,p){var g=this,S=!1;if(m.isFunction(c)&&(S=!0),!S){var v=parseInt(l);return!!wi(g,v,p)&&Qm(g,"Invert",v,c,p,!1,!0)}g.InvertAsync(l).then(c,function(b){g._wrappeAsyncFailed(g,b,p)})}},{key:"InvertAsync",value:function(l){return this._invert(l)}},{key:"RenameTag",value:function(l,c){var p=this;return p._resetErr(),!!p._isValid()&&(m.isUndefined(l)?(io(p),!1):l.length==0?(Me(p,-2517,"Old tag name is required."),!1):m.isUndefined(c)||c.length==0?(function(g){Me(g,-2518,"New tag name is required.")}(p),!1):p._ImgManager.renameTag(l,c))}},{key:"RemoveTag",value:function(l,c){var p=this;return p._resetErr(),!!p._isValid()&&(m.isUndefined(l)||l.length==0?(io(p),!1):m.isUndefined(c)||m.isArray(c)?p._ImgManager.removeTag(l,c):(id(p),!1))}},{key:"GetTagList",value:function(){var l=this;return l._resetErr(),!!l._isValid()&&l._ImgManager.getTagList()}},{key:"GetTagListByIndex",value:function(l){var c=this;if(c._resetErr(),!c._isValid())return[];var p=parseInt(l);return isNaN(p)?(nr(c),[]):p<0||p>=c._ImgManager.count()||c._ImgManager.convertClientIndexToServerId(p)==-1?(nt(c),[]):c._ImgManager.getTagListByIndex(p)}},{key:"GetImageBitDepthAsync",value:function(l){var c=this;if(c._resetErr(),!c._isValid())return Pe.Promise.reject({code:c._errorCode,message:c._errorString});var p=parseInt(l);if(isNaN(p))return nr(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString});if(p<0||p>=c._ImgManager.count())return nt(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString});var g=c._ImgManager.convertClientIndexToServerId(p);return g==-1?(nt(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString})):c._innerFunV2("GetImageBitDepth",Ge(g))}},{key:"GetImageWidthAsync",value:function(l){var c=this;if(c._resetErr(),!c._isValid())return Pe.Promise.reject({code:c._errorCode,message:c._errorString});var p=parseInt(l);if(isNaN(p))return nr(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString});if(p<0||p>=c._ImgManager.count())return nt(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString});var g=c._ImgManager.convertClientIndexToServerId(p);return g==-1?(nt(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString})):c._innerFunV2("GetImageWidth",Ge(g))}},{key:"GetImageHeightAsync",value:function(l){var c=this;if(c._resetErr(),!c._isValid())return Pe.Promise.reject({code:c._errorCode,message:c._errorString});var p=parseInt(l);if(isNaN(p))return nr(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString});if(p<0||p>=c._ImgManager.count())return nt(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString});var g=c._ImgManager.convertClientIndexToServerId(p);return g==-1?(nt(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString})):c._innerFunV2("GetImageHeight",Ge(g))}},{key:"GetImageSizeAsync",value:function(l,c,p){var g=this;if(g._resetErr(),!g._isValid())return Pe.Promise.reject({code:g._errorCode,message:g._errorString});var S=parseInt(l);if(isNaN(S))return nr(g),Pe.Promise.reject({code:g._errorCode,message:g._errorString});if(S<0||S>=g._ImgManager.count())return nt(g),Pe.Promise.reject({code:g._errorCode,message:g._errorString});var v=g._ImgManager.convertClientIndexToServerId(S);return v==-1?(nt(g),Pe.Promise.reject({code:g._errorCode,message:g._errorString})):g._innerFunV2("GetImageSize",Ge(v,c,p))}},{key:"GetImageSizeWithSpecifiedTypeAsync",value:function(l,c){var p=this;if(p._resetErr(),!p._isValid())return Pe.Promise.reject({code:p._errorCode,message:p._errorString});var g=parseInt(l);if(isNaN(g))return nr(p),Pe.Promise.reject({code:p._errorCode,message:p._errorString});if(g<0||g>=p._ImgManager.count())return nt(p),Pe.Promise.reject({code:p._errorCode,message:p._errorString});var S=p._ImgManager.convertClientIndexToServerId(g);return S==-1?(nt(p),Pe.Promise.reject({code:p._errorCode,message:p._errorString})):p._innerFunV2("GetImageSizeWithSpecifiedType",Ge(S,c))}},{key:"GetImageXResolutionAsync",value:function(l){var c=this;if(c._resetErr(),!c._isValid())return Pe.Promise.reject({code:c._errorCode,message:c._errorString});var p=parseInt(l);if(isNaN(p))return nr(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString});if(p<0||p>=c._ImgManager.count())return nt(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString});var g=c._ImgManager.convertClientIndexToServerId(p);return g==-1?(nt(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString})):c._innerFunV2("GetImageXResolution",Ge(g))}},{key:"GetImageYResolutionAsync",value:function(l){var c=this;if(c._resetErr(),!c._isValid())return Pe.Promise.reject({code:c._errorCode,message:c._errorString});var p=parseInt(l);if(isNaN(p))return nr(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString});if(p<0||p>=c._ImgManager.count())return nt(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString});var g=c._ImgManager.convertClientIndexToServerId(p);return g==-1?(nt(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString})):c._innerFunV2("GetImageYResolution",Ge(g))}},{key:"ChangeBrightnessAsync",value:function(l,c){var p=this,g=parseInt(l);if(!p._isValid())return Pe.Promise.reject({code:p._errorCode,message:p._errorString});if(c<-1e3||c>1e3)return ki(p),Pe.Promise.reject({code:p._errorCode,message:p._errorString});var S=p._ImgManager.convertClientIndexToServerId(g);return S==-1?(nt(p),Pe.Promise.reject({code:p._errorCode,message:p._errorString})):p._innerFunV2("ChangeBrightness",Ge(S,c))}},{key:"ChangeContrastAsync",value:function(l,c){var p=this,g=parseInt(l);if(!p._isValid())return Pe.Promise.reject({code:p._errorCode,message:p._errorString});if(c<-1e3||c>1e3)return ki(p),Pe.Promise.reject({code:p._errorCode,message:p._errorString});var S=p._ImgManager.convertClientIndexToServerId(g);return S==-1?(nt(p),Pe.Promise.reject({code:p._errorCode,message:p._errorString})):p._innerFunV2("ChangeContrast",Ge(S,c))}},{key:"GetImageAsync",value:function(l,c,p,g,S){var v=this;if(v._resetErr(),!v._isValid())return Pe.Promise.reject({code:v._errorCode,message:v._errorString});var b=parseInt(l);if(isNaN(b))return nr(v),Pe.Promise.reject({code:v._errorCode,message:v._errorString});if(b<0||b>=v._ImgManager.count())return nt(v),Pe.Promise.reject({code:v._errorCode,message:v._errorString});var C,D=v._ImgManager.convertClientIndexToServerId(b);return D==-1?(nt(v),Pe.Promise.reject({code:v._errorCode,message:v._errorString})):(m.isNumber(c)?C=Ge(D,c):m.isNumber(p)&&m.isNumber(g)?C=Ge(D,p,g):m.isNumber(S)&&(C=Ge(D,-1,-1,S)),v._sendDataByHttpAsync("GetImageByIndex",C,"blob"))}},{key:"GetImageInfoAsync",value:function(l){var c=this;if(c._resetErr(),!c._isValid())return Pe.Promise.reject({code:c._errorCode,message:c._errorString});var p=parseInt(l);if(isNaN(p))return nr(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString});if(p<0||p>=c._ImgManager.count())return nt(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString});var g=c._ImgManager.convertClientIndexToServerId(p);return g==-1?(nt(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString})):c._innerFunV2("GetImageInfo",Ge(g)).then(function(S){var v=0,b=0,C=S;if(m.isArray(S)&&S.length==1&&(C=S[0]),m.isString(C)){var D=C.split(",");v=parseInt(D[0]),b=parseInt(D[1])}return{width:v,height:b}})}},{key:"IfShowUI",get:function(){return this._resetErr(),this._isValid()?this._innerFun("IfShowUI"):Fe},set:function(l){this._setIfShowUI(l)}},{key:"IfShowFileDialog",get:function(){return this._getIfShowFileDialog()},set:function(l){this._setIfShowFileDialog(l)}},{key:"checkErrorString",value:function(){var l=this._errorCode;if(l===-2115)return!0;if(l===-2003&&!V.DWT.IfHttpPostErrorNoWindow){var c=window.open("","ErrorMessage","height=500,width=750,top=0,left=0,toolbar=no,menubar=no,scrollbars=no, resizable=no,location=no, status=no");c==null||c.document.writeln(this.__HTTPPostResponseString)}return l===0}},{key:"OverlayRectangle",value:function(l,c,p,g,S,v,b){var C,D=this;return D._resetErr(),!!D._isValid()&&(D._isNoViewer()?D._nouiNotSupport("OverlayRectangle"):c>g||p>S||c==g&&p==S?(Me(D,-2375,"The left or top or right or bottom you entered is invalid."),!1):(C=m.isNumber(v)?za.getColor(v):v,D._UIView.OverlayRectangle(l,c,p,g,S,C,b)))}},{key:"SetViewMode",value:function(l,c){var p=this;if(p._resetErr(),!p._isValid())return!1;if(p._isNoViewer())return p._nouiNotSupport("SetViewMode");if(m.isString(l)||m.isString(c)||l<-1&&c<-1)return ki(p),Fe;var g=Math.floor(l),S=Math.floor(c);return p._UIView.SetViewMode(g,S),!0}},{key:"ShowImageEditor",value:function(l,c,p,g){var S=this;return S._resetErr(),!!S._isValid()&&(S._isNoViewer()?S._nouiNotSupport("ShowImageEditor"):No.isServerInvalid(S)?Fe:S._UIView.GetWebViewer().webViewer.imageEditor?S.ShowImageEditorEx(-1,-1,-1,-1,3):l&&c&&p?S.ShowImageEditorEx(-1,-1,c,p,0,!0,l,g):S.ShowImageEditorEx(-1,-1,-1,-1,0,!1))}},{key:"ShowImageEditorEx",value:function(l,c,p,g,S,v,b,C){var D=this;return D._resetErr(),!!D._isValid()&&(D._isNoViewer()?D._nouiNotSupport("ShowImageEditorEx"):D._UIView.ShowImageEditorEx(l,c,p,g,S,v,b,C))}},{key:"SetSelectedImageArea",value:function(l,c,p,g,S){var v=this;if(v._resetErr(),!v._isValid())return!1;if(v._isNoViewer())return v._nouiNotSupport("SetSelectedImageArea");var b=parseInt(l);return isNaN(b)||b<0||b>=v._ImgManager.count()?(nt(v),!1):!No.isServerInvalid(v)&&v._UIView.SetSelectedImageArea(c,p,g,S)}},{key:"first",value:function(){var l=this,c=l._ImgManager.count();return l._resetErr(),!!l._isValid()&&(l._isNoViewer()?l._nouiNotSupport("first"):(c>0&&(l._UIView.Go(0),Zu.__innerRefreshFromUIView(l,l._ImgManager.getCurrentImageIndex())),st))}},{key:"previous",value:function(){var l=this,c=l._ImgManager.count();return l._resetErr(),!!l._isValid()&&(l._isNoViewer()?l._nouiNotSupport("previous"):(c>0&&(l._UIView.__Previous(),Zu.__innerRefreshFromUIView(l,l._ImgManager.getCurrentImageIndex())),st))}},{key:"next",value:function(){var l=this,c=l._ImgManager.count();return l._resetErr(),!!l._isValid()&&(l._isNoViewer()?l._nouiNotSupport("next"):(c>0&&(l._UIView.__Next(),Zu.__innerRefreshFromUIView(l,l._ImgManager.getCurrentImageIndex())),st))}},{key:"last",value:function(){var l=this,c=l._ImgManager.count();return l._resetErr(),!!l._isValid()&&(l._isNoViewer()?l._nouiNotSupport("last"):(c>0&&(l._UIView.Go(c-1),Zu.__innerRefreshFromUIView(l,l._ImgManager.getCurrentImageIndex())),st))}},{key:"_isBindViewer",value:function(){return!(!this._viewer||!this._viewer.webViewer)&&this._viewer.webViewer.bindViewUI}},{key:"_isNoViewer",value:function(){return!this._isBindViewer()}},{key:"_innerUnbindViewer",value:function(l){var c=this;c.__funResize&&(m.removeEventListener(window,"resize",c.__funResize),c.__funResize=Fe),c._viewer&&(l?c._viewer.webViewer.dispose():c._viewer.unbind()),c._config.container=null}},{key:"_unload_viewer",value:function(){var l=this;if(l._isBindViewer())l._innerUnbindViewer(!0);else{var c,p=(c=l._containerElement)===null||c===void 0?void 0:c.id;p&&delete V.DWT.ContainerMap[p]}l._ImgManager&&(l._ImgManager.dispose(),l._ImgManager=null),l._UIView&&(l._UIView.dispose(),l._UIView=null),l._viewer=null}},{key:"_innerRefreshUI",value:function(l,c,p,g,S){var v=this;return S==4&&v._isBindViewer()&&(v._ImgManager.bImageJustChangedInEditor==0?v._ImgManager.bImageChangedInViewer=!0:(v._ImgManager.bImageJustChangedInEditor=!1,v._ImgManager.bImageChangedInViewer=!1)),p&&v._ImgManager.refresh(l,v._ImgManager.count(),!0,g),m.isFunction(v.__OnRefreshUI)&&v.__OnRefreshUI(v._ImgManager.getCurrentImageIndex(),v._ImgManager.count()),!0}},{key:"updateImage",value:(i=s(E().mark(function l(c,p){var g,S,v,b;return E().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(S=this,!m.isUndefined(c)&&c.length!=0){C.next=7;break}throw oQ(S),{code:S._errorCode,message:S._errorString};case 7:if(m.isString(c)){C.next=10;break}throw SR(S),{code:S._errorCode,message:S._errorString};case 10:if((v=S._uidFromServer2ServerId(c))!=-1){C.next=14;break}throw OR(S),{code:S._errorCode,message:S._errorString};case 14:if(!m.isUndefined(p)){C.next=19;break}throw aQ(S),{code:S._errorCode,message:S._errorString};case 19:if(p instanceof Blob){C.next=22;break}throw sQ(S),{code:S._errorCode,message:S._errorString};case 22:return C.next=24,bB(p);case 24:return b=C.sent,C.next=27,S._updateImage(v,b);case 27:(g=S._UIView.GetWebViewer())===null||g===void 0||(g=g.webViewer)===null||g===void 0||g.resetImageEditorButton();case 28:case"end":return C.stop()}},l,this)})),function(l,c){return i.apply(this,arguments)})}],[{key:"ProcessGetBlobByQueue",value:function(){if(r._getblob_queue.length>0&&!r._processing_getblob_queue){r._processing_getblob_queue=!0;var l=r._getblob_queue.shift(),c=l[0],p=l[1],g=l[2];c._convertToBlobForUpload(V.DWT.EnumDWT_ImageType.IT_PNG,[p],!1,4,function(S,v,b){var C=b[1][0],D=c._ImgManager.getImageIdMap(C);if(D){var M={imageId:C,serverId:C,uidFromServer:D.uidFromServer,uuid:D.uuid,imageUrl:URL.createObjectURL(S),minImageUrl:URL.createObjectURL(S)};S=null,c._ImgManager.UpdateImage(M,g)}r._processing_getblob_queue=!1,setTimeout(r.ProcessGetBlobByQueue,0)},function(S){r._processing_getblob_queue=!1,setTimeout(r.ProcessGetBlobByQueue,0)})}}},{key:"_getContainer",value:function(l){return l._containerElement}},{key:"_setContainer",value:function(l,c){return l._containerElement=c}},{key:"_closeImageEditorUI",value:function(l){if(m.isFunction(l.__CloseImageEditorUI))try{l.__CloseImageEditorUI()}catch(c){qr(c)}}}]);var i,o,u,d}(vle);function Qm(t,r,i,o,u,d,l){var c,p=t._ImgManager.convertClientIndexToServerId(i);if(p==-1)return nt(t),m.isFunction(u)&&u(t._errorCode,t._errorString),!1;if(c=t._innerFun(r,Ge(p)),d)return c;var g=c==1;return g?(l&&(Rt.refreshImageAfterInvokeFun(t,i),t.getView().ClearSelectedAreas()),m.isFunction(o)&&o()):m.isFunction(u)&&u(t._errorCode,t._errorString),g}function bB(t){return m.isFunction(t.arrayBuffer)?t.arrayBuffer():new Q.Promise(function(r,i){if(V.navInfoSync.bIE||V.navInfoSync.bSafari){var o=new FileReader;o.onload=function(){r(o.result)},o.onerror=function(d){i(d)},o.readAsArrayBuffer(t)}else{var u;Me(u={},-2856,"Cannot convert blob to array buffer."),i({code:u._errorCode,message:u._errorString})}})}I(vu,"_processing_getblob_queue",!1),I(vu,"_getblob_queue",[]);var CB=function(t){return t.normal=0,t.balance=1,t}({}),TB="data:image/gif;base64,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",yu={loaderBarClassName:"ds-dwt-loaderBar",loaderBarBackgroundColor:"",loaderBarSource:he.bIE?TB:Q.loaderBarSource,loaderBarSourceIE:TB,loaderBarWidth:120,loaderBarHeight:120,errorMessages:{limitReachedForZoomIn:"Error: You have reached the limit for zooming in",limitReachedForZoomOut:"Error: You have reached the limit for zooming out",insufficientParas:"Error: Not enough parameters.",invalidAngle:"Error: The angle you entered is invalid.",invalidIndex:"Error: The index you entered is invalid.",invalidHeightOrWidth:"Error: The height or width you entered is invalid.",imageNotChanged:"Error: You have not changed the current image."},generalMessages:{checkingDWTVersion:"Checking WebTwain version ...",updatingDService:"Dynamic Web TWAIN Service is updating ...",downloadingDWTModule:"Downloading the Dynamic Web TWAIN module.",refreshNeeded:"Please REFRESH your browser.",downloadNeeded:"Please download and install the Dynamic Web TWAIN.",DWTmoduleLoaded:"The Dynamic Web TWAIN module is loaded."},customProgressText:{upload:"Uploading...",download:"Downloading...",load:"Loading...",decode:"Processing...",decodeTIFF:"Processing tiff...",decodePDF:"Processing pdf...",encode:"Processing...",encodeTIFF:"Processing tiff...",encodePDF:"Processing pdf...",transfer:"Transferring...",canvasLoading:"Loading ..."},buttons:{titles:{previous:"Previous Image",next:"Next Image",print:"Print Image",scan:"Acquire new Image(s)",load:"Load local Image(s)",rotateleft:"Rotate Left",rotate:"Rotate",rotateright:"Rotate Right",deskew:"Deskew",crop:"Crop Selected Area",cut:"Cut Selected Area",changeimagesize:"Change Image Size",flip:"Flip Image",mirror:"Mirror Image",zoomin:"Zoom In",originalsize:"Show Original Size",zoomout:"Zoom Out",stretch:"Stretch Mode",fit:"Fit Window",fitw:"Fit Horizontally",fith:"Fit Vertically",hand:"Hand Mode",rectselect:"Select Mode",zoom:"Click to Zoom In",restore:"Restore Original Image",save:"Save Changes",close:"Close the Editor",removeall:"Remove All Images",removeselected:"Remove All Selected Images"},bShowAllButtons:!0,visibility:{scan:!0,load:!0,print:!0,removeall:!0,removeselected:!0,rotateleft:!0,rotate:!0,rotateright:!0,deskew:!0,crop:!0,cut:!0,changeimagesize:!0,flip:!0,mirror:!0,zoomin:!0,originalsize:!0,zoomout:!0,stretch:!0,fit:!0,fitw:!0,fith:!0,hand:!0,rectselect:!0,zoom:!0,restore:!0,save:!0,close:!0}},dialogText:{dlgRotateAnyAngle:["Angle :","Interpolation:","Keep size","  OK  ","Cancel"],dlgChangeImageSize:["New Height :","New Width :","Interpolation:","  OK  ","Cancel"],saveChangedImage:["You have changed the image, do you want to keep the change(s)?","  Yes  ","  No  "],selectSource:["Select Source:","Select","Cancel","There is no source available!"]}},Si=m.mix({},yu);function IB(){var t;V.DWT&&(t=V.DWT.CustomizableDisplayInfo),t&&(m.isString(t.loaderBarSource)&&t.loaderBarSource!=""?Q.loaderBarSource=t.loaderBarSource:he.bIE?(Q.loaderBarSource=yu.loaderBarSourceIE,Q.loaderBarSourceIE=yu.loaderBarSourceIE):Q.loaderBarSource=yu.loaderBarSource,m.isString(t.loaderBarClassName)&&t.loaderBarClassName!=""?Q.loaderBarClassName=t.loaderBarClassName:Q.loaderBarClassName=yu.loaderBarClassName,m.isString(t.loaderBarBackgroundColor)?Q.loaderBarBackgroundColor=t.loaderBarBackgroundColor:Q.loaderBarBackgroundColor=yu.loaderBarBackgroundColor,t.loaderBarWidth?Q.loaderBarWidth=t.loaderBarWidth:Q.loaderBarWidth=yu.loaderBarWidth,t.loaderBarHeight?Q.loaderBarHeight=t.loaderBarHeight:Q.loaderBarHeight=yu.loaderBarHeight)}var wB=!0;function _le(){var t;wB&&(Si=m.mix({},yu),V.DWT&&(t=V.DWT.CustomizableDisplayInfo),t&&(t.errorMessages&&m.mix(Si.errorMessages,t.errorMessages),t.generalMessages&&m.mix(Si.generalMessages,t.generalMessages),t.customProgressText&&m.mix(Si.customProgressText,t.customProgressText),t.buttons&&(t.buttons.titles&&m.mix(Si.buttons.titles,t.buttons.titles),t.buttons.bShowAllButtons&&m.mix(Si.buttons.bShowAllButtons,t.buttons.bShowAllButtons),t.buttons.visibility&&m.mix(Si.buttons.visibility,t.buttons.visibility)),t.dialogText&&m.mix(Si.dialogText,t.dialogText)),IB(),wB=!1)}function bE(t){var r=t,i=window;if(i.ShadowRoot)for(;r;){if(r instanceof i.ShadowRoot)return r;r=r.parentNode}return null}function CE(t){var r=window;return!!(r.ShadowRoot&&t instanceof r.ShadowRoot)}Q._funsAfterConfigLoaded=[],Q._safePromptCustomMsg=function(t){t&&t()};var la=Fr;V.DWT;var Ym,Ms={background:"#434246",topMenuBorder:"",innerBorder:"",promptToSaveChange:!0,buttons:Si.buttons,dialogText:Si.dialogText},Sle=function(){return y(function i(o,u){h(this,i);var d=this;d._stwain=o,d._ImgManager=o._ImgManager,d.zoomInStep=1.2,d.zoomOutStep=.8,d.MIN_ZOOM=.02,d.MAX_ZOOM=65,d.MAX_ROWS=128,d.MAX_COLUMNS=128,d.__MousewheelValue=0,this._Init(u)},[{key:"_Init",value:function(i){var o=this;if(o.borderWidth=m.isUndefined(i.borderWidth)?1:i.borderWidth,i.BackgroundColor?o.BackgroundColorByDefault=i.BackgroundColor:o.BackgroundColorByDefault="#FFFFFF",i.BackgroundColor=o.BackgroundColorByDefault,o.BackgroundFillColor=o.BackgroundColorByDefault,i.onTopImageInTheViewChanged=function(d){m.isFunction(o._stwain.__OnTopImageInTheViewChanged)&&o._stwain.__OnTopImageInTheViewChanged(d.index,d.bByScrollBar)},i.onGetImageInfo=function(d){return{width:o._stwain.GetImageWidth(d),height:-1}},!o._stwain._viewer&&V.DWT.UseDefaultViewer){var u={viewerContainer:{},viewerEvents:{topPageChanged:function(d,l){o.__topPageChanged(d,l,o)},click:function(d){o.__click(d,o)},rightclick:function(d){o.__rightclick(d,o)},dblclick:function(d){o.__dblclick(d,o)},mousemove:function(d){o.__mousemove(d,o)},pageAreaSelected:function(d,l){o.__pageAreaSelected(d,l,o)},pageAreaUnselected:function(d){o.__pageAreaUnselected(d,o)},dragdone:function(d){o.__dragdone(d,o)},onDrop:function(d){o.__onDrop(d,o)},pageChange:function(d){o.__pageChange(d,o)},bufferChanged:function(d,l){o.__bufferChanged(o,d,l)},onBind:function(d){o.__onBindViewer(d)},onUnBind:function(d){o.__onUnBindViewer(d)},save:function(d,l,c,p){return o.__save(o,d,l,c,p)},removeBtnClick:function(d){o.__removePage(o,d)}},viewerError:{setError:function(d,l){o.__setError(d,l,o)}},imageEditorEvents:{acquire:function(d){o.__acquire(o,d)},loadImage:function(){o.__loadImage(o)},deskew:function(d,l){o.__deskew(o,d,l)},removeImage:function(){o.__remove(o)},removeAllImage:function(){o.__removeAll(o)},close:function(){o.__close(o)}},imageEditorServerCallback:{rotateRight:function(){o.__rotateRightForServer(o)},rotate:function(d,l,c){o.__rotateForServer(o,d,l,c)},rotateLeft:function(){o.__rotateLeftForServer(o)},deskew:function(d){o.__deskewForServer(o)},crop:function(d){o.__cropForServer(o,d)},erase:function(d){o.__eraseForServer(o,d)},changeImageSize:function(d,l,c){o.__changeImageSizeForServer(o,d,l,c)},flip:function(){o.__flipForServer(o)},mirror:function(){o.__mirrorForServer(o)},restore:function(d){o.__restoreForServer(o,d)},save:function(d){return o.__saveForServer(o,d)}},beforeImageEditorCreated:function(d){o.__beforeImageEditorCreated(d)}};i.Container&&(Pe.isNodeList(i.Container)||m.isArray(i.Container)&&i.Container.length>0)&&(u.viewerContainer={container:i.Container[0],width:Ti(i.Width),height:Ti(i.Height)}),o._stwain._viewer=new V.DWTViewer(ph._getBuffer(o._ImgManager),u)}else i.Container&&(Pe.isNodeList(i.Container)||m.isArray(i.Container)&&i.Container.length>0)&&o.__onBindViewer(i.Container[0]);o.__InitEvents(i)}},{key:"dispose",value:function(){}},{key:"__InitEvents",value:function(i){var o=this;m.isFunction(i.onTopImageInTheViewChanged)&&(o.onTopImageInTheViewChanged=i.onTopImageInTheViewChanged),m.isFunction(i.onGetImageInfo)&&(o.onGetImageInfo=i.onGetImageInfo),m.isFunction(i.onZoomChanged)&&(o.onZoomChanged=i.onZoomChanged),m.isFunction(i.onMouseMove)&&(o.onMouseMove=i.onMouseMove),m.isFunction(i.onMouseClick)&&(o.onMouseClick=i.onMouseClick),m.isFunction(i.onMouseRightClick)&&(o.onMouseRightClick=i.onMouseRightClick),m.isFunction(i.onMouseDoubleClick)&&(o.onMouseDoubleClick=i.onMouseDoubleClick),m.isFunction(i.onImageAreaDeSelected)&&(o.onImageAreaDeSelected=i.onImageAreaDeSelected),m.isFunction(i.onImageAreaSelected)&&(o.onImageAreaSelected=i.onImageAreaSelected),m.isFunction(i.onBufferChanged)&&(o.onBufferChanged=i.onBufferChanged),m.isFunction(i.onSelected)&&(o.onSelected=i.onSelected),m.isFunction(i.onRefreshUI)&&(o.onRefreshUI=i.onRefreshUI),m.isFunction(i.onResetCurrentIndex)&&(o.onResetCurrentIndex=i.onResetCurrentIndex)}},{key:"GetWebViewer",value:function(){return this._stwain._viewer}},{key:"SetSelectedImageArea",value:function(i,o,u,d){if(this.GetWebViewer()!=null){var l=[],c={};return c.left=i,c.top=o,c.right=u,c.bottom=d,l.push(c),this.GetWebViewer().setSelectedAreas(l)}return!1}},{key:"OverlayRectangle",value:function(i,o,u,d,l,c,p){var g=this;return!!g._stwain._isNoViewer()||g.GetWebViewer()!=null&&g.GetWebViewer().webViewer.overlayRectangle(i,o,u,d,l,c,p)}},{key:"ChangeImageViewSize",value:function(i,o){var u=this;return i>=0&&(u.GetWebViewer().width,u.GetWebViewer().width=i),o>=0&&(u.GetWebViewer().height,u.GetWebViewer().height=o),!0}},{key:"ChangeSize",value:function(i,o){var u=this,d=u.GetWebViewer();return u._stwain._isNoViewer()||!d||(u.GetWidth()!=i&&u.SetWidth(i),u.GetHeight()!=o&&u.SetHeight(o)),!0}},{key:"GetWidth",value:function(){var i=this.GetWebViewer();return i?i.width:0}},{key:"SetWidth",value:function(i){var o=this,u=o.GetWebViewer(),d=i;return!(o._stwain._isNoViewer()||!u)&&!(!m.isString(d)&&!m.isNumber(d))&&(o.GetWebViewer().width=d,!0)}},{key:"GetHeight",value:function(){var i=this.GetWebViewer();return i?i.height:0}},{key:"SetHeight",value:function(i){var o=this,u=o.GetWebViewer(),d=i;return!(o._stwain._isNoViewer()||!u)&&!(!m.isString(d)&&!m.isNumber(d))&&(o.GetWebViewer().height=d,!0)}},{key:"SetViewMode",value:function(i,o){var u=this;return u._stwain._isNoViewer()?u._stwain._nouiNotSupport("SetViewMode"):u.GetWebViewer().setViewMode(i,o)}},{key:"SetIfFitWindowAndType",value:function(i){var o;if(this.GetWebViewer()!=null){switch(i){case 1:o="height";break;case 2:o="width";break;default:o="window"}this.GetWebViewer().fitWindow(o)}return!0}},{key:"GetAllowMultiSelect",value:function(){return!this._stwain._isNoViewer()&&this.GetWebViewer().selectionMode}},{key:"SetAllowMultiSelect",value:function(i){var o=this;return o._stwain._isNoViewer()||(o.GetWebViewer().selectionMode=i?1:0),!0}},{key:"GetFitWindowType",value:function(){return this._stwain._isNoViewer(),0}},{key:"SetSelectionRectAspectRatio",value:function(i){return this.GetWebViewer().selectionRectAspectRatio=i,!0}},{key:"GetSelectionRectAspectRatio",value:function(){return this.GetWebViewer().selectionRectAspectRatio}},{key:"SetFitWindowType",value:function(i){return this._stwain._isNoViewer()||this.SetIfFitWindowAndType(i),!0}},{key:"GetIfFitWindow",value:function(){return this._stwain._isNoViewer(),!0}},{key:"SetIfFitWindow",value:function(i){var o=this;return o._stwain._isNoViewer()||(i?o.GetWebViewer().fitWindow("window"):o.GetWebViewer().zoom=1),!0}},{key:"GetImageMargin",value:function(){return this._stwain._isNoViewer()?0:this.GetWebViewer().pageMargin}},{key:"SetImageMargin",value:function(i){return this._stwain._isNoViewer()||(this.GetWebViewer().pageMargin=i),!0}},{key:"GetSelectionImageBorderColor",value:function(){return this.GetWebViewer().selectedPageBorder}},{key:"SetSelectionImageBorderColor",value:function(i){var o=i;return m.isNumber(o)&&(o=za.getColor(o)),o.indexOf("1px solid")==-1&&(o="1px solid "+o),this.GetWebViewer().selectedPageBorder=o,!0}},{key:"GetZoom",value:function(){return this.GetWebViewer().zoom}},{key:"SetZoom",value:function(i,o,u){var d=this;return i<d.MIN_ZOOM&&(i=d.MIN_ZOOM),i>d.MAX_ZOOM&&(i=d.MAX_ZOOM),d.GetWebViewer()!=null&&(d.GetWebViewer().zoom=i),!0}},{key:"ZoomIn",value:function(i,o){var u=this,d=u._ImgManager.getImageIdMap(u._ImgManager.convertClientIndexToServerId(u._ImgManager.getCurrentImageIndex()));if(!d)return!1;var l=u.GetWebViewer().zoom,c=Math.floor(100*l*u.zoomInStep)+1;return 1<c&&c<2501?Ti(d.imageWidth*l)>15e3||Ti(d.imageHeight*l)>15e3?(Fr.output(u,Si.errorMessages.limitReachedForZoomIn),alert(Si.errorMessages.limitReachedForZoomIn),!1):(u.SetZoom(c/100,i,o),!0):(Fr.output(u,Si.errorMessages.limitReachedForZoomIn),alert(Si.errorMessages.limitReachedForZoomIn),!1)}},{key:"ZoomOut",value:function(){var i=this,o=i.GetWebViewer().zoom,u=Math.floor(100*o*i.zoomOutStep)-1;return 1<u&&u<6501?(i.SetZoom(u/100),!0):(Fr.output(i,Si.errorMessages.limitReachedForZoomOut),alert(Si.errorMessages.limitReachedForZoomOut),!1)}},{key:"GetMouseShape",value:function(){return this._stwain._isNoViewer()?0:this.GetWebViewer().cursor!="crosshair"}},{key:"SetMouseShape",value:function(i){var o=this;return o._stwain._isNoViewer()||(o.GetWebViewer().cursor=i?"pointer":"crosshair"),!0}},{key:"GetShowPageNumber",value:function(){return!this._stwain._isNoViewer()&&this.GetWebViewer().showPageNumber}},{key:"SetShowPageNumber",value:function(i){return this._stwain._isNoViewer()||(this.GetWebViewer().showPageNumber=i),!0}},{key:"SetBackgroundFillColor",value:function(i){var o=i;return this.BackgroundFillColor=o,!0}},{key:"GetBackgroundColor",value:function(){return this.GetWebViewer().background}},{key:"SetBackgroundColor",value:function(i){var o=i;return this._stwain._isNoViewer()||(this.GetWebViewer().background=o),!0}},{key:"Go",value:function(i){return this.GetWebViewer().gotoPage(i)}},{key:"__Previous",value:function(){return this.Go(this._ImgManager.getCurrentImageIndex()-1),!0}},{key:"__Next",value:function(){return this.Go(this._ImgManager.getCurrentImageIndex()+1),!0}},{key:"__fireEvent",value:function(i,o){if(m.isFunction(this[i]))try{return this[i](o)}catch(u){qr(u)}return!0}},{key:"GetIfAutoScroll",value:function(){return this.GetWebViewer().ifAutoScroll}},{key:"SetIfAutoScroll",value:function(i){return this.GetWebViewer().ifAutoScroll=i,!0}},{key:"BindView",value:function(i){var o,u=i;return m.isString(i)?u=m.get(i):m.isDOM(u)&&(u.id&&u.id!=""||(u.id=["dwt_",m.getRandom()].join(""))),(o=this.GetWebViewer().bind(u))&&this.GetWebViewer().show(),o}},{key:"GetIfShowVideoContainer",value:function(){var i=this,o=i.GetWebViewer();return m.isUndefined(o)?(V.DWT.UseDefaultViewer?IC(i._stwain):ty(i._stwain),!1):o.webViewer.getIfShowVideoContainer()}},{key:"ShowVideoContainer",value:function(i){var o=this,u=o.GetWebViewer();return m.isUndefined(u)?(V.DWT.UseDefaultViewer?IC(o._stwain):ty(o._stwain),!1):u.webViewer.showVideoContainer(i)}},{key:"UpdateVideoContainer",value:function(i){var o=this,u=o.GetWebViewer();return m.isUndefined(u)?(V.DWT.UseDefaultViewer?IC(o._stwain):ty(o._stwain),!1):u.webViewer.updateVideoImage(i)}},{key:"ClearSelectedAreas",value:function(){var i=this.GetWebViewer();if(i)return i.clearSelectedAreas()}},{key:"OnCloseImageEditor",value:function(){return!!this.GetWebViewer().webViewer.imageEditor&&(this.GetWebViewer().createImageEditor().dispose(),!0)}},{key:"ShowImageEditorEx",value:function(i,o,u,d,l,c,p,g){var S=this;if(this._stwain._isNoViewer())return S._stwain._nouiNotSupport("ShowImageEditorEx");switch(l){case 0:case 1:case 2:break;case 3:if(S.OnCloseImageEditor())return!0}var v,b=document;if(vu._getContainer(S._stwain)==p&&(c=!1),p){var C=V.DWT.ContainerMap;if(C){var D,M=Object.keys(C);for(D=0;D<M.length;D++)if(M[D]==p.id){c=!1;break}}}if(c&&p&&(m.isDOM(p)?v=p:CE(p)?(v=document.createElement("div"),p.appendChild(v)):(v=b.getElementById(p))&&v.nodeName!="DIV"&&(c=!1)),c&&p&&m.isDOM(p)){var j=bE(p);if(j){if(V.DWT.IfLoadResources){var Y,ee,te="";!he.bFileSystem&&V.DWT.IfResourcesAddTimestamp&&(te=Q.timestamp),(Y=b.createElement("link")).href=[Bu(),"/src/dynamsoft.webtwain.viewer.css",te].join(""),Y.rel="stylesheet",Y.async=!0,(ee=b.createElement("link")).href=[Bu(),"/src/dynamsoft.webtwain.css",te].join(""),ee.rel="stylesheet",ee.async=!0,m.scriptOnload(Y,function(){m.scriptOnload(ee,function(){return S.ShowImageEditor(v,c,u,d)}),j.appendChild(ee)}),j.appendChild(Y)}return!0}}return S.ShowImageEditor(v,c,u,d)}},{key:"ShowImageEditor",value:function(i,o,u,d){var l=this;return i&&u&&d?(Ms.element=i,Ms.width=u,Ms.height=d):(Ms.element=void 0,Ms.width=void 0,Ms.height=void 0),Ms.border=l.GetWebViewer().border,Ms.selectionRectAspectRatio=l.GetWebViewer().selectionRectAspectRatio,Ms.workMode=CB.normal,l.GetWebViewer().createImageEditor(Ms),l._stwain.ErrorCode!=0&&(l.GetWebViewer().webViewer.imageEditor&&l.GetWebViewer().webViewer.imageEditor.dispose(),l.GetWebViewer().createImageEditor(Ms)),l.GetWebViewer().webViewer.imageEditor&&l.GetWebViewer().webViewer.imageEditor.show(),!0}},{key:"__beforeImageEditorCreated",value:function(i){var o=V.DWT.CustomizableDisplayInfo;if(!m.isUndefined(o)){if(!m.isUndefined(o.buttons)){var u=o.buttons.titles;m.isUndefined(u)||(m.isUndefined(u.previous)||(i.buttons.titles.previous=u.previous),m.isUndefined(u.next)||(i.buttons.titles.next=u.next),m.isUndefined(u.print)||(i.buttons.titles.print=u.print),m.isUndefined(u.scan)||(i.buttons.titles.scan=u.scan),m.isUndefined(u.load)||(i.buttons.titles.load=u.load),m.isUndefined(u.rotateleft)||(i.buttons.titles.rotateleft=u.rotateleft),m.isUndefined(u.rotate)||(i.buttons.titles.rotate=u.rotate),m.isUndefined(u.rotateright)||(i.buttons.titles.rotateright=u.rotateright),m.isUndefined(u.deskew)||(i.buttons.titles.deskew=u.deskew),m.isUndefined(u.crop)||(i.buttons.titles.crop=u.crop),m.isUndefined(u.cut)||(i.buttons.titles.cut=u.cut),m.isUndefined(u.changeimagesize)||(i.buttons.titles.changeimagesize=u.changeimagesize),m.isUndefined(u.flip)||(i.buttons.titles.flip=u.flip),m.isUndefined(u.mirror)||(i.buttons.titles.mirror=u.mirror),m.isUndefined(u.zoomin)||(i.buttons.titles.zoomin=u.zoomin),m.isUndefined(u.originalsize)||(i.buttons.titles.originalsize=u.originalsize),m.isUndefined(u.zoomout)||(i.buttons.titles.zoomout=u.zoomout),m.isUndefined(u.stretch)||(i.buttons.titles.stretch=u.stretch),m.isUndefined(u.fit)||(i.buttons.titles.fit=u.fit),m.isUndefined(u.fitw)||(i.buttons.titles.fitw=u.fitw),m.isUndefined(u.fith)||(i.buttons.titles.fith=u.fith),m.isUndefined(u.hand)||(i.buttons.titles.hand=u.hand),m.isUndefined(u.rectselect)||(i.buttons.titles.rectselect=u.rectselect),m.isUndefined(u.zoom)||(i.buttons.titles.zoom=u.zoom),m.isUndefined(u.restore)||(i.buttons.titles.restore=u.restore),m.isUndefined(u.save)||(i.buttons.titles.save=u.save),m.isUndefined(u.close)||(i.buttons.titles.close=u.close),m.isUndefined(u.removeall)||(i.buttons.titles.removeall=u.removeall),m.isUndefined(u.removeselected)||(i.buttons.titles.removeselected=u.removeselected));var d=o.buttons.bShowAllButtons;m.isUndefined(d)||(i.buttons.bShowAllButtons=d);var l=o.buttons.visibility;m.isUndefined(l)||(m.isUndefined(l.scan)||(i.buttons.visibility.scan=l.scan),m.isUndefined(l.load)||(i.buttons.visibility.load=l.load),m.isUndefined(l.print)||(i.buttons.visibility.print=l.print),m.isUndefined(l.removeall)||(i.buttons.visibility.removeall=l.removeall),m.isUndefined(l.removeselected)||(i.buttons.visibility.removeselected=l.removeselected),m.isUndefined(l.rotateleft)||(i.buttons.visibility.rotateleft=l.rotateleft),m.isUndefined(l.rotate)||(i.buttons.visibility.rotate=l.rotate),m.isUndefined(l.rotateright)||(i.buttons.visibility.rotateright=l.rotateright),m.isUndefined(l.deskew)||(i.buttons.visibility.deskew=l.deskew),m.isUndefined(l.crop)||(i.buttons.visibility.crop=l.crop),m.isUndefined(l.cut)||(i.buttons.visibility.cut=l.cut),m.isUndefined(l.changeimagesize)||(i.buttons.visibility.changeimagesize=l.changeimagesize),m.isUndefined(l.flip)||(i.buttons.visibility.flip=l.flip),m.isUndefined(l.mirror)||(i.buttons.visibility.mirror=l.mirror),m.isUndefined(l.zoomin)||(i.buttons.visibility.zoomin=l.zoomin),m.isUndefined(l.originalsize)||(i.buttons.visibility.originalsize=l.originalsize),m.isUndefined(l.zoomout)||(i.buttons.visibility.zoomout=l.zoomout),m.isUndefined(l.stretch)||(i.buttons.visibility.stretch=l.stretch),m.isUndefined(l.fit)||(i.buttons.visibility.fit=l.fit),m.isUndefined(l.fitw)||(i.buttons.visibility.fitw=l.fitw),m.isUndefined(l.fith)||(i.buttons.visibility.fith=l.fith),m.isUndefined(l.hand)||(i.buttons.visibility.hand=l.hand),m.isUndefined(l.rectselect)||(i.buttons.visibility.rectselect=l.rectselect),m.isUndefined(l.zoom)||(i.buttons.visibility.zoom=l.zoom))}var c=o.dialogText;m.isUndefined(c)||(m.isUndefined(c.dlgRotateAnyAngle)||(i.dialogText.dlgRotateAnyAngle=c.dlgRotateAnyAngle),m.isUndefined(c.dlgChangeImageSize)||(i.dialogText.dlgChangeImageSize=c.dlgChangeImageSize),m.isUndefined(c.saveChangedImage)||(i.dialogText.saveChangedImage=c.saveChangedImage),m.isUndefined(c.selectSource)||(i.dialogText.selectSource=c.selectSource))}}},{key:"__topPageChanged",value:function(i,o,u){u.__fireEvent("onTopImageInTheViewChanged",{index:i,bByScrollBar:o})}},{key:"__click",value:function(i,o){var u=o;u.__fireEvent("onMouseClick",{e:i,x:i.imageX,y:i.imageY,index:u._ImgManager.getCurrentImageIndex()})}},{key:"__rightclick",value:function(i,o){var u=o;u.__fireEvent("onMouseRightClick",{e:i,x:i.imageX,y:i.imageY,index:u._ImgManager.getCurrentImageIndex()})}},{key:"__dblclick",value:function(i,o){var u=o;u.__fireEvent("onMouseDoubleClick",{e:i,x:i.imageX,y:i.imageY,index:u._ImgManager.getCurrentImageIndex()})}},{key:"__mousemove",value:function(i,o){var u=o;u.__fireEvent("onMouseMove",{e:i,x:i.imageX,y:i.imageY,index:u._ImgManager.getCurrentImageIndex()})}},{key:"__pageAreaSelected",value:function(i,o,u){var d=u,l=1;if(o&&o.length>0){var c=o[o.length-1];c.index&&(l=Ti(c.index)+1),d.__fireEvent("onImageAreaSelected",{index:i,left:Ti(c.x),top:Ti(c.y),right:Ti(c.x+c.width),bottom:Ti(c.y+c.height),areaIndex:l})}}},{key:"__pageAreaUnselected",value:function(i,o){o.__fireEvent("onImageAreaDeSelected",i)}},{key:"__dragdone",value:function(i,o){var u=o;m.isFunction(u._stwain.__OnIndexChangeDragDropDone)&&u._stwain.__OnIndexChangeDragDropDone(i)}},{key:"__onDrop",value:function(i,o){var u=o;u.GetWebViewer().webViewer.acceptDrop&&u.__dropEvent(i,u)}},{key:"__dropEvent",value:(r=s(E().mark(function i(o,u){var d,l,c,p,g,S,v,b,C,D,M;return E().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:d=u,p=function(Y){Y&&Fr.output(null,Y+" was loaded successfully!")},g=function(Y,ee,te){d._stwain._errorCode=Y,d._stwain._errorString=ee,te&&Fr.output(null,te+" failed to load. Error code: "+Y+"Error String: "+ee)},v=o.dataTransfer.files,d._stwain._loadImageBytesFileCount+=v.length,b=0;case 6:if(!(b<v.length)){j.next=75;break}if((l=v[b]).type.length!=0){j.next=31;break}C=void 0,(D=l.name.indexOf("."))>0&&(C=l.name.substring(D+1)),j.t0=C,j.next=j.t0==="bmp"?14:j.t0==="jpg"||j.t0==="jpeg"?16:j.t0==="tif"||j.t0==="tiff"?18:j.t0==="png"?20:j.t0==="pdf"?22:j.t0==="jp2"||j.t0==="j2k"||j.t0==="j2c"?24:26;break;case 14:return c=V.DWT.EnumDWT_ImageType.IT_BMP,j.abrupt("break",29);case 16:return c=V.DWT.EnumDWT_ImageType.IT_JPG,j.abrupt("break",29);case 18:return c=V.DWT.EnumDWT_ImageType.IT_TIF,j.abrupt("break",29);case 20:return c=V.DWT.EnumDWT_ImageType.IT_PNG,j.abrupt("break",29);case 22:return c=V.DWT.EnumDWT_ImageType.IT_PDF,j.abrupt("break",29);case 24:return c=V.DWT.EnumDWT_ImageType.IT_J2K,j.abrupt("break",29);case 26:Fr.output(null,l.name+" failed to load because the file type is not supported!"),c=-1,cR(d._stwain);case 29:j.next=49;break;case 31:j.t1=l.type,j.next=j.t1==="image/bmp"?34:j.t1==="image/jpg"||j.t1==="image/jpeg"?36:j.t1==="image/tif"||j.t1==="image/tiff"?38:j.t1==="image/png"?40:j.t1==="application/pdf"?42:j.t1==="image/jp2"?44:46;break;case 34:return c=V.DWT.EnumDWT_ImageType.IT_BMP,j.abrupt("break",49);case 36:return c=V.DWT.EnumDWT_ImageType.IT_JPG,j.abrupt("break",49);case 38:return c=V.DWT.EnumDWT_ImageType.IT_TIF,j.abrupt("break",49);case 40:return c=V.DWT.EnumDWT_ImageType.IT_PNG,j.abrupt("break",49);case 42:return c=V.DWT.EnumDWT_ImageType.IT_PDF,j.abrupt("break",49);case 44:return c=V.DWT.EnumDWT_ImageType.IT_J2K,j.abrupt("break",49);case 46:Fr.output(null,l.name+" failed to load because the file type is not supported!"),c=-1,cR(d._stwain);case 49:if(S=l.name,c==-1){j.next=68;break}return d._stwain._bIfShowProgressBar?(M=d._stwain.IfShowCancelDialogWhenImageTransfer,d._stwain.IfShowCancelDialogWhenImageTransfer=!1,Q.showProgress(d._stwain,"DropLoading",d._stwain.IfShowCancelDialogWhenImageTransfer),d._stwain.IfShowCancelDialogWhenImageTransfer=M):Q.hideProgress(),d._stwain._OnPercentDone([0,-1,tn.Loading]),d._stwain.Addon&&d._stwain.Addon.PDF&&It.checkProductKey(d._stwain,{PDFRasterizer:!0},!0),j.prev=54,j.next=57,new Q.Promise(function(Y,ee){var te=new FileReader;te.readAsDataURL(l),te.onload=function(){var de=d._stwain.__GetLoadEventsNum();Q.cancelFrom=sr.LoadImage,d._stwain.__LoadImageFromBytesV2(l,c,"",!0,0,l.size,!1,de,function(){d._stwain._loadImageBytesFileCount-=1,d._stwain.__OnPostLoad&&d._stwain.__OnPostLoad("",S||"",""+c),p(l.name),Y()},function(Z,ne){Z==-1119&&ne.indexOf("correct password is not provided")>-1&&v.length>1?(g(Z,ne,l.name),d._stwain._loadImageBytesFileCount-=1,d._stwain.__OnPostLoad&&d._stwain.__OnPostLoad("",S||"",""+c),Y()):ee({code:Z,message:ne})})},te.onerror=function(de){nd(d._stwain),ee({code:d._stwain._errorCode,message:de})}});case 57:j.next=65;break;case 59:j.prev=59,j.t2=j.catch(54),d._stwain._bIfShowProgressBar&&Q.closeProgress(null),j.t2&&"code"in j.t2&&"message"in j.t2?g(j.t2.code,j.t2.message,S):BK(d._stwain,j.t2),d._stwain._loadImageBytesFileCount-=1,d._stwain.__OnPostLoad&&d._stwain.__OnPostLoad("",S||"",""+c);case 65:d._stwain._bIfShowProgressBar&&Q.closeProgress(null),j.next=71;break;case 68:xR(d._stwain),d._stwain._loadImageBytesFileCount-=1,d._stwain.__OnPostLoad&&d._stwain.__OnPostLoad("",S||"",""+c);case 71:l=null;case 72:b++,j.next=6;break;case 75:case"end":return j.stop()}},i,null,[[54,59]])})),function(i,o){return r.apply(this,arguments)})},{key:"__pageChange",value:function(i,o){var u,d=o,l=d._ImgManager.count();m.log("OnPagination"),l<=0?Ii(d._stwain):l!=1&&(!/^\d+$/.test(i)||i<=0?alert(Si.errorMessages.invalidIndex):((u=Ti(i)-1)<0?u=0:u>=l&&(u=l-1),u!=d._ImgManager.getCurrentImageIndex()&&d.GetWebViewer().gotoPage(u)))}},{key:"__bufferChanged",value:function(i,o,u){var d,l=i,c=[],p=-1,g=[];o.operation&&(o.action=o.operation);for(var S=0;S<l._ImgManager.count();S++)(d=l._ImgManager.getCustomDataByIndex(S))&&d.serverId&&c.push(this._ImgManager._serverId2uidFromServer(d.serverId));if(o.imageIds=c,o.curIndex>=0&&(d=l._ImgManager.getCustomDataByIndex(o.curIndex))&&d.serverId&&(p=this._ImgManager._serverId2uidFromServer(d.serverId)),o.currentId=p,o.operation=="modify"&&o.afterStatus.modifiedUid!=""){var v=l._ImgManager.getIndexByUid(o.afterStatus.modifiedUid);v>=0&&(d=l._ImgManager.getCustomDataByIndex(v))&&d.serverId&&(o.modifiedId=this._ImgManager._serverId2uidFromServer(d.serverId))}if(o.afterStatus.selectedUids)for(var b=0;b<o.afterStatus.selectedUids.length;b++){var C=o.afterStatus.selectedUids[b];if(C&&C!=-1){var D=l._ImgManager.getIndexByUid(o.afterStatus.selectedUids[b]);D>=0&&(d=l._ImgManager.getCustomDataByIndex(D))&&d.serverId&&g.push(this._ImgManager._serverId2uidFromServer(d.serverId))}}o.selectedIds=g,m.mix(o,{}),delete o.uids,delete o.currentUid,delete o.selectedUids,delete o.afterStatus,delete o.beforeStatus,delete o.operation,delete o.curIndex,delete o.docUid,delete o.docName,l.__fireEvent("onBufferChanged",o)}},{key:"__setError",value:function(i,o,u){var d=u;d._stwain._errorCode=i,d._stwain._errorString=o}},{key:"__acquire",value:function(i,o){var u=i;try{var d=!1;V.DWT.IfConfineMaskWithinTheViewer==1&&(V.DWT.IfConfineMaskWithinTheViewer=!1,d=!0);var l;l=m.isArray(o)&&o.length>=3?o:Si.dialogText.selectSource,u._stwain._selectSourceAsync("SelectSourceAsync",null,l).then(function(){return u._stwain.AcquireImageAsync({IfShowUI:!0,IfCloseSourceAfterAcquire:!0})}).then(function(){d&&(V.DWT.IfConfineMaskWithinTheViewer=!0)}).catch(function(c){m.log("User did not select a source"),d&&(V.DWT.IfConfineMaskWithinTheViewer=!0)})}catch{}}},{key:"__loadImage",value:function(i){if(i){var o=i._stwain._containerElement;try{var u=i,d=null;V.DWT.IfConfineMaskWithinTheViewer&&(d=!0,V.DWT.IfConfineMaskWithinTheViewer=!1),u._stwain._containerElement=void 0,u._stwain.IfShowFileDialog=!0,u._stwain.Addon&&u._stwain.Addon.PDF&&It.checkProductKey(u._stwain,{PDFRasterizer:!0},!0),u._stwain.LoadImageEx("",5,function(){o&&(u._stwain._containerElement=o),m.log("Loaded an image successfully."),d!=null&&(V.DWT.IfConfineMaskWithinTheViewer=d)},function(l,c){o&&(u._stwain._containerElement=o),m.log("Loading failed with the error: "+c),d!=null&&(V.DWT.IfConfineMaskWithinTheViewer=d)})}catch{o&&(i._stwain._containerElement=o)}}}},{key:"__print",value:function(i){var o=i;Kn(o._stwain),o._ImgManager.getCurrentImageIndex()<0||o._ImgManager.PrintCurrentImage()}},{key:"__save",value:(t=s(E().mark(function i(o,u,d,l,c){var p,g,S,v,b,C;return E().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(p=o,g="save",o){D.next=3;break}return D.abrupt("return");case 3:if(Kn(p._stwain),!(p._ImgManager.count()<=0||p._ImgManager.getCurrentImageIndex()<0)){D.next=6;break}return D.abrupt("return");case 6:return S=o._stwain._containerElement,p._stwain._containerElement=void 0,v=p.__getViewerElement(p,c),On(g,v),D.prev=10,b=this._ImgManager.getIndexByUid(u),C=this._ImgManager.convertClientIndexToServerId(b),D.next=15,p._stwain._updateImage(C,d,l);case 15:D.sent,D.next=20;break;case 18:D.prev=18,D.t0=D.catch(10);case 20:return D.prev=20,S&&(o._stwain._containerElement=S),d=null,un(g),D.finish(20);case 25:return D.abrupt("return",void 0);case 26:case"end":return D.stop()}},i,this,[[10,18,20,25]])})),function(i,o,u,d,l){return t.apply(this,arguments)})},{key:"__removePage",value:function(i,o){var u=i;i&&(u._ImgManager.count()<=0||u._ImgManager.getCurrentImageIndex()<0||u._stwain.RemoveImage(o))}},{key:"__getViewerElement",value:function(i,o){var u,d=i;if(o)if(d.GetWebViewer().webViewer.imageEditor){var l=d.GetWebViewer().createImageEditor();u=l.inner.containerElement.className=="dwt-viewer-imageEditor-fullScreen"?{_containerElement:document.body}:{_containerElement:l.inner.containerElement}}else u=d._stwain;else u=d._stwain;return u}},{key:"__deskew",value:function(i,o,u){var d=this,l="deskew";Kn(d._stwain);var c=d._ImgManager.getCurrentImageIndex();if(d._ImgManager.count()<=0||c<0)la.output(d,"No image in Buffer");else{var p=d.__getViewerElement(d,!0);On(l,p),d._stwain.GetSkewAngleFromBinaryAsync(c,o,function(g){u(g[0]),un(l)},function(){un(l)})}}},{key:"__remove",value:function(i){var o=this;Kn(o._stwain),o._ImgManager.count()<=0||o._ImgManager.getCurrentImageIndex()<0?la.output(o,"No image in Buffer"):o._stwain.RemoveAllSelectedImages()}},{key:"__removeAll",value:function(i){var o=this;Kn(o._stwain),o._ImgManager.count()<=0||o._ImgManager.getCurrentImageIndex()<0?la.output(o,"No image in Buffer"):o._stwain.RemoveAllImages()}},{key:"__onBindViewer",value:function(i){i&&(vu._setContainer(this._stwain,i),i.id&&(V.DWT.ContainerMap[i.id]=this._stwain))}},{key:"__onUnBindViewer",value:function(i){if(i){var o=vu._getContainer(this._stwain);if(o)for(;o.firstChild;)o.removeChild(o.firstChild);if(vu._setContainer(this._stwain,null),i.id){var u=V.DWT.ContainerMap;i.id in u&&delete V.DWT.ContainerMap[i.id]}}}},{key:"__close",value:function(i){Kn(this._stwain),vu._closeImageEditorUI(this._stwain)}},{key:"__rotateRightForServer",value:function(i){var o=this;Kn(o._stwain);var u=o._ImgManager.getCurrentImageIndex();o._ImgManager.count()<=0||u<0?la.output(o,"No image in Buffer"):o._stwain.RotateRight(u)}},{key:"__rotateForServer",value:function(i,o,u,d){var l=this;Kn(l._stwain);var c=l._ImgManager.getCurrentImageIndex();l._ImgManager.count()<=0||c<0?la.output(l,"No image in Buffer"):l._stwain.RotateEx(c,o,d,u)}},{key:"__rotateLeftForServer",value:function(i){var o=this;Kn(o._stwain);var u=o._ImgManager.getCurrentImageIndex();o._ImgManager.count()<=0||u<0?la.output(o,"No image in Buffer"):o._stwain.RotateLeft(u)}},{key:"__deskewForServer",value:function(i){var o=this;Kn(o._stwain);var u=o._ImgManager.getCurrentImageIndex();o._ImgManager.count()<=0||u<0?la.output(o,"No image in Buffer"):o._stwain.GetSkewAngleAsync(u).then(function(d){o._stwain.RotateEx(u,d,!0,5,function(){},function(){})})}},{key:"__cropForServer",value:function(i,o){var u=this;Kn(u._stwain);var d=u._ImgManager.getCurrentImageIndex();if(u._ImgManager.count()<=0||d<0)la.output(u,"No image in Buffer");else{var l=o.left,c=o.top,p=l+o.width,g=c+o.height;u._stwain.Crop(d,Ti(l),Ti(c),Ti(p),Ti(g))}}},{key:"__eraseForServer",value:function(i,o){var u=this;Kn(u._stwain);var d=u._ImgManager.getCurrentImageIndex();if(u._ImgManager.count()<=0||d<0)la.output(u,"No image in Buffer");else{var l=o.left,c=o.top,p=l+o.width,g=c+o.height;u._stwain.CutFrameToClipboard(d,Ti(l),Ti(c),Ti(p),Ti(g))}}},{key:"__changeImageSizeForServer",value:function(i,o,u,d){var l=this;Kn(l._stwain);var c=l._ImgManager.getCurrentImageIndex();l._ImgManager.count()<=0||c<0?la.output(l,"No image in Buffer"):l._stwain.ChangeImageSize(c,o,u,d)}},{key:"__flipForServer",value:function(i){var o=this;Kn(o._stwain);var u=o._ImgManager.getCurrentImageIndex();o._ImgManager.count()<=0||u<0?la.output(o,"No image in Buffer"):o._stwain.Flip(u)}},{key:"__mirrorForServer",value:function(i){var o=this;Kn(o._stwain);var u=o._ImgManager.getCurrentImageIndex();o._ImgManager.count()<=0||u<0?la.output(o,"No image in Buffer"):o._stwain.Mirror(u)}},{key:"__restoreForServer",value:function(i,o){var u=i;if(Kn(u._stwain),u._ImgManager.count()<=0||u._ImgManager.getCurrentImageIndex()<0)la.output(u,"No image in Buffer");else{var d=u._ImgManager.getIndexByUid(o);d>=0&&u.__RestoreImageInner(u,d)}}},{key:"__saveForServer",value:function(i,o){var u=i;return new Pe.Promise(function(d,l){Kn(u._stwain),(u._ImgManager.count()<=0||u._ImgManager.getCurrentImageIndex()<0)&&(la.output(u,"No image in Buffer"),d());var c=u._ImgManager.getIndexByUid(o);c>=0?u.__SaveImageInner(u,c,!0,function(){d()}):d()})}},{key:"__RestoreImageInner",value:function(i,o,u){var d=i,l=d._ImgManager.getImageIdMap(d._ImgManager.convertClientIndexToServerId(o));l&&d.__OnGetImageFromServerForEdit(l,o,1,function(c,p,g){if(c){m.log("__RestoreImageInner: "+[c.uuid].join(","));var S=m.clone(c);S.imageId=c.serverId,d._ImgManager.UpdateImage(S,g)}if((c&&c.serverId)==-1)return u&&u(),!1;u&&u()})}},{key:"__SaveImageInner",value:function(i,o,u,d){var l=i,c=l._ImgManager.getImageIdMap(l._ImgManager.convertClientIndexToServerId(o));return c&&l.__OnGetImageFromServerForEdit(c,o,2,function(p,g,S){if(p){if(u==1&&(m.log("__SaveImageInner: "+[p.uuid].join(",")),l._ImgManager.getCurrentImageIndex()==g)){var v=m.clone(p);v.imageId=p.serverId,l._ImgManager.UpdateImage(v,S)}if(p.serverId==-1)return d&&d(),!1}return d&&d(),!0}),!0}},{key:"__OnGetImageFromServerForEdit",value:function(i,o,u,d){var l=this;if(d&&l._ImgManager.getBaseUrl){var c=l._ImgManager.convertClientIndexToServerId(o);if(c==-1)return!1;V.DWT.ConnectWithSocket?d():Ca({method:"GET",xhrFields:{withCredentials:!0},url:Fr.getUrlByAct(l._ImgManager.getBaseUrl,c,u),onSuccess:function(p){var g;i.ticks=Date.now(),g=V.navInfoSync.bMobile?Fr.getImageUrl(l._ImgManager.getBaseUrl,c,Math.round(i.iImageControlWidth*devicePixelRatio),Math.round(i.iImageControlHeight*devicePixelRatio),i.ticks):Fr.getImageUrl(l._ImgManager.getBaseUrl,c,Ti(i.iImageControlWidth),Ti(i.iImageControlHeight),i.ticks),i.imageUrl=Fr.getImageUrl(l._ImgManager.getBaseUrl,c,-1,-1,i.ticks),i.minImageUrl=g;var S=l._ImgManager.GetMetaDataByIndex(o);if(S){var v=l._ImgManager.getImageIdMap(c);v&&v.width?S.width=v.width:S.width=l._stwain.GetImageWidth(o),v&&v.height?S.height=v.height:S.height=l._stwain.GetImageHeight(o)}d(i,o,S)},onError:function(){}})}return!0}}]);var t,r}(),EB=function(t){function r(i,o){var u;h(this,r);var d=u=f(this,r,[o]);return d._stwain=i,d.bImageJustChangedInEditor=!1,d.bImageChangedInViewer=!1,u}return P(r,t),y(r,[{key:"getUidByIndex",value:function(i){return this._buffer.getUidByIndex(i)}},{key:"dispose",value:function(){return this._stwain=null,!0}},{key:"append",value:function(i,o,u,d,l){var c,p,g,S,v,b=this;(this._buffer.isActiveFile||!m.isUndefined(l))&&d.currentFileName&&d.currentFileName.length>0?v=p=b.getCountByDocumentName(d.currentFileName):(p=b.count(),v=b.getCountByDocumentName(b.GetCurrentFileName())),g=b.getCurrentImageIndex();for(var C=p-1;C>=i;C--)S=b.convertClientIndexToServerId(C),b.removeByServerId(S,C);return p<i?(c=v,b._updateUIAfterAdd(c,o,u,d,!0)):(c=g>=p-1?0:g+1,S=b.convertClientIndexToServerId(c),b.removeByServerId(S,c),c==i-1?b._updateUIAfterAdd(c,o,u,d,!0):b._updateUIAfterAdd(c,o,u,d,!1))}},{key:"insertBefore",value:function(i,o,u,d,l){var c,p=1*i;return(p<0||p>o)&&(p=-1),p>=(c=this.count())&&(p=c),this._updateUIAfterAdd(p,u,d,l,!1)}},{key:"exists",value:function(i){return!m.isUndefined(this.getImageIdMap(i))}},{key:"insert",value:function(i,o,u,d,l){var c,p=1*i;return(p<0||p>o)&&(p=-1),p>=(c=this.count())&&(p=c),this._updateUIAfterAdd(p,u,d,l,!1)}},{key:"moveImage",value:function(i,o,u){return this._buffer.moveImage(i,o)}},{key:"switchImage",value:function(i,o){return this._buffer.switchImage(i,o)}},{key:"setSelectedClientIndexArray",value:function(i){return this._buffer.selectImages(i)}},{key:"getSelectedClientIndexArray",value:function(i){return this._buffer.getSelectedImagesIndices()}},{key:"showImagesByFilter",value:function(i,o,u){return this._buffer.filterImagesByTag(i,o,u)}},{key:"clearFilter",value:function(){return this._buffer.clearFilter()}},{key:"removeImageTag",value:function(i){return this._buffer.removeImageTag(i)}},{key:"addImageTag",value:function(i,o){return this._buffer.tagImages(i,o)}},{key:"getCurrentTag",value:function(){var i;return(i=this._buffer.getCurrentTag())==0?"":i}},{key:"renameTag",value:function(i,o){return this._buffer.renameTag(i,o)}},{key:"removeTag",value:function(i,o){return this._buffer.removeTag(i,o)}},{key:"getTagList",value:function(){return this._buffer.getTagList()}},{key:"getTagListByIndex",value:function(i){return this._buffer.getTagListByIndex(i)}},{key:"OpenFile",value:function(i){return this._buffer.openDocument(i)}},{key:"CreateFile",value:function(i){return this._buffer.createDocument(i)}},{key:"GetCurrentFileName",value:function(){return this._buffer.getCurrentFileName()}},{key:"RemoveFile",value:function(i){return this._buffer.removeDocument(i)}},{key:"RenameFile",value:function(i,o){return this._buffer.renameDocument(i,o)}},{key:"GetFileInfoList",value:function(){return this._buffer.getDocumentInfoList()}},{key:"MoveImageToFile",value:function(i,o,u,d){return this._buffer.moveImageToFile(i,o,u,d)}},{key:"GetServerIdsByFileName",value:function(i){var o,u=this,d=[];return(o=u.GetFileInfoList())?m.each(o,function(l){if(i==l.name){if(l.imageIds)for(var c=0;c<l.imageIds.length;c++){var p=l.imageIds[c];if(p&&p!=-1){var g=u._stwain._uidFromServer2ServerId(p);g>0&&d.push(g)}}return!1}}):d=[],d}},{key:"insertImage",value:function(i,o,u){this._buffer.insertImage(o,i,u)}},{key:"GetMetaDataByIndex",value:function(i){return this._buffer.getMetadataByUid(this._buffer.getUidByIndex(i))}},{key:"RefreshAllImages",value:function(i,o){for(var u,d,l,c=this,p=0;p<c.count();p++){u=c.convertClientIndexToServerId(p);var g=c.getImageIdMap(u);if(g){l=c.GetMetaDataByIndex(p),d=V.navInfoSync.bMobile?Fr.getImageUrl(c._baseUrl,u,Math.round(i*devicePixelRatio),Math.round(o*devicePixelRatio),Date.now()):Fr.getImageUrl(c._baseUrl,u,i,o,Date.now());var S=m.clone(g);S.imageId=u,S.minImageUrl=d,c._buffer.updateImage(S,l)}}}},{key:"UpdateData",value:function(i,o){var u=i,d=this.getImageIdMap(u);if(d){var l=m.clone(d);l.imageId=i,this._buffer.updateImage(l,o)}return!0}},{key:"UpdateImage",value:function(i,o){return this._buffer.updateImage(i,o),!0}},{key:"_setDataImageControl",value:function(i,o,u){var d,l,c,p,g=this;if(u)c=i;else if(c=(l=g.getCustomDataByIndex(i)).serverId,p=l.uidFromServer,c<=0)return!1;return(d=g.getImageIdMap(c))||((d=new Ty).serverId=c,d.uidFromServer=p,o&&(o.height&&(d.height=o.height),o.width&&(d.width=o.width)),g._serverIdMap[c]=d,g._uidMap[p]=d),o&&(o.height&&(d.height=o.height),o.width&&(d.width=o.width)),d!=null&&(d.bIsDirty=!0),g.__GetImageAndAttach(d,c,!0,!1,!1,i,o),!0}},{key:"__AttachImages",value:function(){var i,o,u,d=this;o=d.count();for(var l=0;l<o;l++)(i=d.convertClientIndexToServerId(l))>=0&&(u=d.getImageIdMap(i))&&d.__GetImageAndAttach(u,i,!0,!1,!1,0)}},{key:"AddImage",value:function(i,o,u,d,l){var c,p=this,g=1*i;return!(o<=0)&&((c=new Ty).bIsDirty=!0,c.serverId=o,c.uidFromServer=u,p._serverIdMap[o]=c,p._uidMap[u]=c,o>=0&&p.__GetImageAndAttach(c,o,!1,!0,l,g,d),!0)}},{key:"OnGetImageByURL",value:function(i,o,u,d,l,c,p,g){return o.imageUrl&&o.imageUrl!=""?(o.iImageControlWidth=u,o.iImageControlHeight=d,o.bAddImage=l,o.bAppendImage=c,o.index=p,this._attachImagesForControl(o,g),!0):this.OnGetImageFromServer(i,o,u,d,l,c,p,g)}},{key:"OnGetImageFromServer",value:function(i,o,u,d,l,c,p,g){var S,v,b=this,C=b._baseUrl;if(C){if(i<=0)return!1;o.bIsDirty&&(o.ticks=Date.now()),m.isUndefined(u)&&(u=-1),m.isUndefined(d)&&(d=-1),o.iImageControlWidth=u,o.iImageControlHeight=d,o.bAddImage=l,o.bAppendImage=c,o.index=p,V.DWT.ConnectWithSocket&&b._stwain._isBindViewer()?(b._attachImagesForControl(o,g),vu._getblob_queue.push([b._stwain,i,g]),vu.ProcessGetBlobByQueue()):(S=Fr.getImageUrl(C,i,-1,-1,o.ticks),v=V.navInfoSync.bMobile?Fr.getImageUrl(C,i,Math.round(u*devicePixelRatio),Math.round(d*devicePixelRatio),o.ticks):Fr.getImageUrl(C,i,u,d,o.ticks),o.imageUrl=S,o.minImageUrl=v,b._attachImagesForControl(o,g))}return!0}},{key:"getBaseUrl",get:function(){return this._baseUrl}},{key:"_attachImagesForControl",value:function(i,o){var u,d,l=this;if((d=m.clone(i)).imageId=d.serverId,d.bAddImage){if(u=o.currentFileName.length>0?l._buffer.addImage(d,o,o.currentFileName):l._buffer.addImage(d,o)){var c=L(u,1)[0],p=this.getImageIdMap(d.serverId);p&&(p.uuid=c);var g=this._buffer.getCustomDataByUid(c);g&&(g.serverId&&d&&d.serverId&&(g.serverId=d.serverId),g.uidFromServer&&(g.uidFromServer=d.uidFromServer))}}else l._buffer.updateImage(d,o);return!0}},{key:"_updateUIAfterAdd",value:function(i,o,u,d,l){return!(o<0)&&this.AddImage(i,o,u,d,l)}},{key:"__GetImageAndAttach",value:function(i,o,u,d,l,c,p){var g,S,v,b=this;b._stwain._isBindViewer()?(v=b._stwain.Viewer.height>=400?b._stwain.Viewer.height:400,S=b._stwain.Viewer.width>=400?b._stwain.Viewer.width:400):(S=-1,v=-1);var C=!1;C=!!u||i.bIsDirty==1;var D=(g=b.getImageIdMap(o))===null||g===void 0?void 0:g.uuid;D&&D!=-1&&i.iImageControlWidth==S&&i.iImageControlHeight==v&&i.bIsDirty==0||b.__SetArrayControlLoadImage(o,i,S,v,C,d,l,c,p)}},{key:"__SetArrayControlLoadImage",value:function(i,o,u,d,l,c,p,g,S){l?this.OnGetImageFromServer(i,o,u,d,c,p,g,S):this.OnGetImageByURL(i,o,u,d,c,p,g,S)}},{key:"GetServerIdList",value:function(){var i,o,u,d=this,l=[];if(i=d._buffer.getDocumentContents(d._buffer.getCurrentDocument()))for(var c=0;c<i.length;c++)(o=i[c])&&o!=-1&&(u=d._buffer.getCustomDataByUid(o))&&l.push(u.serverId);return l}}])}(ph);function TE(){var t=window.Dynamsoft.Lib.Promise;if(Ym)return t.resolve(Ym);var r,i=navigator;if(i&&"userAgentData"in i){var o=navigator.userAgentData;if(o.platform&&o.platform!=""){var u=[];if("brands"in o&&m.isArray(o.brands)&&o.brands.length>0?u=o.brands:"uaList"in o&&m.isArray(o.uaList)&&o.uaList.length>0&&(u=o.uaList),u.length>0)return(r=function(d){var l=he,c=d.architecture.toLowerCase(),p=d.bitness=="64",g=c.indexOf("arm")>-1,S=c.indexOf("mips")>-1;return{bUseUserAgent:!1,bWin:l.bWin,bMac:l.bMac,bLinux:l.bLinux,bAndroid:l.bAndroid,bMobile:l.bMobile,bPad:l.bPad,bChromeOS:l.bChromeOS,bHarmonyOS:l.bHarmonyOS,bArm64:g,bMips64:S,bEmbed:g||S,bOSx64:p,bIE:!1,bEdge:l.bEdge,bChrome:l.bChrome,bFirefox:l.bFirefox,bSafari:l.bSafari,bOpera:l.bOpera,bGecko:!0,bHuaWeiBrowser:!1,bHTML5Edition:!0,strBrowserVersion:l.strBrowserVersion,IEMode:0}},navigator.userAgentData.getHighEntropyValues(["platform","platformVersion","architecture","bitness"]).then(r)).then(function(d){return Ym=d,d})}}return Ym=he,t.resolve(Ym)}var IE=0,wE=[],EE=!(!document||!document.addEventListener),xB="DOMContentLoaded",AB="readystatechange",DB="load",PB="complete",xE=EE?function(t,r,i){t.addEventListener(r,i,!1)}:function(t,r,i){t.attachEvent("on"+r,i)},AE=EE?function(t,r,i){t.removeEventListener(r,i,!1)}:function(t,r,i){t.detachEvent("on"+r,i)};function vh(){IE||(IE=1,TE().then(function(){document&&AE(window,DB,vh),function(){for(var t=function(){try{wE[r]()}catch(i){m.log(i,"error"),setTimeout(function(){throw i},0)}},r=0;r<wE.length;r++)t()}()}))}function Jm(t){if(IE)try{t()}catch(r){m.log(r,"error"),setTimeout(function(){throw r},0)}else wE.push(t);return this}var ble=function(t){var r=t||window.event,i=!0;return m.each(Pe.Events.registedObjs,function(o){m.each(Pe.Events.registedClass,function(u){if(o instanceof u&&o.bFocus&&o.handlerKeyDown&&!(i=o.handlerKeyDown(r)))return!1})}),i};function DE(t,r){for(var i in r)r.hasOwnProperty(i)&&!m.isUndefined(r[i])&&(t.hasOwnProperty(i)&&!m.isUndefined(t[i])||(t[i]=r[i]));return t}Jm(function(){m.addEventListener(document.documentElement,"keydown",ble)}),DE(V.DWT,xl),DE(V.DWT,DK),V.DWT.CertificateConfig?DE(V.DWT.CertificateConfig,cC):V.DWT.CertificateConfig=cC,V.DWT.RegisterEvent=function(t,r){if(m.isUndefined(t))throw{code:-2314,message:"The parameter cannot be empty."};if(!m.isString(t)||m.isString(t)&&t.trim().length==0||m.isUndefined(r)||!m.isFunction(r))throw{code:-2416,message:"Invalid parameter."};return m.isFunction(r)&&(V.DWT[t]=r),!0};var _u=function(t){return t.CAP_NONE=0,t.CAP_XFERCOUNT=1,t.ICAP_COMPRESSION=256,t.ICAP_PIXELTYPE=257,t.ICAP_UNITS=258,t.ICAP_XFERMECH=259,t.CAP_AUTHOR=4096,t.CAP_CAPTION=4097,t.CAP_FEEDERENABLED=4098,t.CAP_FEEDERLOADED=4099,t.CAP_TIMEDATE=4100,t.CAP_SUPPORTEDCAPS=4101,t.CAP_EXTENDEDCAPS=4102,t.CAP_AUTOFEED=4103,t.CAP_CLEARPAGE=4104,t.CAP_FEEDPAGE=4105,t.CAP_REWINDPAGE=4106,t.CAP_INDICATORS=4107,t.CAP_SUPPORTEDCAPSEXT=4108,t.CAP_PAPERDETECTABLE=4109,t.CAP_UICONTROLLABLE=4110,t.CAP_DEVICEONLINE=4111,t.CAP_AUTOSCAN=4112,t.CAP_THUMBNAILSENABLED=4113,t.CAP_DUPLEX=4114,t.CAP_DUPLEXENABLED=4115,t.CAP_ENABLEDSUIONLY=4116,t.CAP_CUSTOMDSDATA=4117,t.CAP_ENDORSER=4118,t.CAP_ALARMS=4120,t.CAP_ALARMVOLUME=4121,t.CAP_AUTOMATICCAPTURE=4122,t.CAP_TIMEBEFOREFIRSTCAPTURE=4123,t.CAP_TIMEBETWEENCAPTURES=4124,t.CAP_CLEARBUFFERS=4125,t.CAP_MAXBATCHBUFFERS=4126,t.CAP_DEVICETIMEDATE=4127,t.CAP_POWERSUPPLY=4128,t.CAP_CAMERAPREVIEWUI=4129,t.CAP_SERIALNUMBER=4132,t.CAP_PRINTER=4134,t.CAP_PRINTERENABLED=4135,t.CAP_PRINTERINDEX=4136,t.CAP_PRINTERMODE=4137,t.CAP_PRINTERSTRING=4138,t.CAP_PRINTERSUFFIX=4139,t.CAP_LANGUAGE=4140,t.CAP_FEEDERALIGNMENT=4141,t.CAP_FEEDERORDER=4142,t.CAP_REACQUIREALLOWED=4144,t.CAP_BATTERYMINUTES=4146,t.CAP_BATTERYPERCENTAGE=4147,t.CAP_CAMERASIDE=4148,t.CAP_SEGMENTED=4149,t.CAP_CAMERAENABLED=4150,t.CAP_CAMERAORDER=4151,t.CAP_MICRENABLED=4152,t.CAP_FEEDERPREP=4153,t.CAP_FEEDERPOCKET=4154,t.CAP_AUTOMATICSENSEMEDIUM=4155,t.CAP_CUSTOMINTERFACEGUID=4156,t.ICAP_AUTOBRIGHT=4352,t.ICAP_BRIGHTNESS=4353,t.ICAP_CONTRAST=4355,t.ICAP_CUSTHALFTONE=4356,t.ICAP_EXPOSURETIME=4357,t.ICAP_FILTER=4358,t.ICAP_FLASHUSED=4359,t.ICAP_GAMMA=4360,t.ICAP_HALFTONES=4361,t.ICAP_HIGHLIGHT=4362,t.ICAP_IMAGEFILEFORMAT=4364,t.ICAP_LAMPSTATE=4365,t.ICAP_LIGHTSOURCE=4366,t.ICAP_ORIENTATION=4368,t.ICAP_PHYSICALWIDTH=4369,t.ICAP_PHYSICALHEIGHT=4370,t.ICAP_SHADOW=4371,t.ICAP_FRAMES=4372,t.ICAP_XNATIVERESOLUTION=4374,t.ICAP_YNATIVERESOLUTION=4375,t.ICAP_XRESOLUTION=4376,t.ICAP_YRESOLUTION=4377,t.ICAP_MAXFRAMES=4378,t.ICAP_TILES=4379,t.ICAP_BITORDER=4380,t.ICAP_CCITTKFACTOR=4381,t.ICAP_LIGHTPATH=4382,t.ICAP_PIXELFLAVOR=4383,t.ICAP_PLANARCHUNKY=4384,t.ICAP_ROTATION=4385,t.ICAP_SUPPORTEDSIZES=4386,t.ICAP_THRESHOLD=4387,t.ICAP_XSCALING=4388,t.ICAP_YSCALING=4389,t.ICAP_BITORDERCODES=4390,t.ICAP_PIXELFLAVORCODES=4391,t.ICAP_JPEGPIXELTYPE=4392,t.ICAP_TIMEFILL=4394,t.ICAP_BITDEPTH=4395,t.ICAP_BITDEPTHREDUCTION=4396,t.ICAP_UNDEFINEDIMAGESIZE=4397,t.ICAP_EXTIMAGEINFO=4399,t.ICAP_MINIMUMHEIGHT=4400,t.ICAP_MINIMUMWIDTH=4401,t.ICAP_AUTODISCARDBLANKPAGES=4404,t.ICAP_FLIPROTATION=4406,t.ICAP_BARCODEDETECTIONENABLED=4407,t.ICAP_SUPPORTEDBARCODETYPES=4408,t.ICAP_BARCODEMAXSEARCHPRIORITIES=4409,t.ICAP_BARCODESEARCHPRIORITIES=4410,t.ICAP_BARCODESEARCHMODE=4411,t.ICAP_BARCODEMAXRETRIES=4412,t.ICAP_BARCODETIMEOUT=4413,t.ICAP_ZOOMFACTOR=4414,t.ICAP_PATCHCODEDETECTIONENABLED=4415,t.ICAP_SUPPORTEDPATCHCODETYPES=4416,t.ICAP_PATCHCODEMAXSEARCHPRIORITIES=4417,t.ICAP_PATCHCODESEARCHPRIORITIES=4418,t.ICAP_PATCHCODESEARCHMODE=4419,t.ICAP_PATCHCODEMAXRETRIES=4420,t.ICAP_PATCHCODETIMEOUT=4421,t.ICAP_FLASHUSED2=4422,t.ICAP_IMAGEFILTER=4423,t.ICAP_NOISEFILTER=4424,t.ICAP_OVERSCAN=4425,t.ICAP_AUTOMATICBORDERDETECTION=4432,t.ICAP_AUTOMATICDESKEW=4433,t.ICAP_AUTOMATICROTATE=4434,t.ICAP_JPEGQUALITY=4435,t.ICAP_FEEDERTYPE=4436,t.ICAP_ICCPROFILE=4437,t.ICAP_AUTOSIZE=4438,t.ICAP_AUTOMATICCROPUSESFRAME=4439,t.ICAP_AUTOMATICLENGTHDETECTION=4440,t.ICAP_AUTOMATICCOLORENABLED=4441,t.ICAP_AUTOMATICCOLORNONCOLORPIXELTYPE=4442,t.ICAP_COLORMANAGEMENTENABLED=4443,t.ICAP_IMAGEMERGE=4444,t.ICAP_IMAGEMERGEHEIGHTTHRESHOLD=4445,t.ICAP_SUPPORTEDEXTIMAGEINFO=4446,t}({}),Cle=function(t){return t.TWLG_DAN=0,t.TWLG_DUT=1,t.TWLG_ENG=2,t.TWLG_FCF=3,t.TWLG_FIN=4,t.TWLG_FRN=5,t.TWLG_GER=6,t.TWLG_ICE=7,t.TWLG_ITN=8,t.TWLG_NOR=9,t.TWLG_POR=10,t.TWLG_SPA=11,t.TWLG_SWE=12,t.TWLG_USA=13,t.TWLG_USERLOCALE=-1,t.TWLG_AFRIKAANS=14,t.TWLG_ALBANIA=15,t.TWLG_ARABIC=16,t.TWLG_ARABIC_ALGERIA=17,t.TWLG_ARABIC_BAHRAIN=18,t.TWLG_ARABIC_EGYPT=19,t.TWLG_ARABIC_IRAQ=20,t.TWLG_ARABIC_JORDAN=21,t.TWLG_ARABIC_KUWAIT=22,t.TWLG_ARABIC_LEBANON=23,t.TWLG_ARABIC_LIBYA=24,t.TWLG_ARABIC_MOROCCO=25,t.TWLG_ARABIC_OMAN=26,t.TWLG_ARABIC_QATAR=27,t.TWLG_ARABIC_SAUDIARABIA=28,t.TWLG_ARABIC_SYRIA=29,t.TWLG_ARABIC_TUNISIA=30,t.TWLG_ARABIC_UAE=31,t.TWLG_ARABIC_YEMEN=32,t.TWLG_BASQUE=33,t.TWLG_BYELORUSSIAN=34,t.TWLG_BULGARIAN=35,t.TWLG_CATALAN=36,t.TWLG_CHINESE=37,t.TWLG_CHINESE_HONGKONG=38,t.TWLG_CHINESE_PRC=39,t.TWLG_CHINESE_SINGAPORE=40,t.TWLG_CHINESE_SIMPLIFIED=41,t.TWLG_CHINESE_TAIWAN=42,t.TWLG_CHINESE_TRADITIONAL=43,t.TWLG_CROATIA=44,t.TWLG_CZECH=45,t.TWLG_DANISH=0,t.TWLG_DUTCH=1,t.TWLG_DUTCH_BELGIAN=46,t.TWLG_ENGLISH=2,t.TWLG_ENGLISH_AUSTRALIAN=47,t.TWLG_ENGLISH_CANADIAN=48,t.TWLG_ENGLISH_IRELAND=49,t.TWLG_ENGLISH_NEWZEALAND=50,t.TWLG_ENGLISH_SOUTHAFRICA=51,t.TWLG_ENGLISH_UK=52,t.TWLG_ENGLISH_USA=13,t.TWLG_ESTONIAN=53,t.TWLG_FAEROESE=54,t.TWLG_FARSI=55,t.TWLG_FINNISH=4,t.TWLG_FRENCH=5,t.TWLG_FRENCH_BELGIAN=56,t.TWLG_FRENCH_CANADIAN=3,t.TWLG_FRENCH_LUXEMBOURG=57,t.TWLG_FRENCH_SWISS=58,t.TWLG_GERMAN=6,t.TWLG_GERMAN_AUSTRIAN=59,t.TWLG_GERMAN_LUXEMBOURG=60,t.TWLG_GERMAN_LIECHTENSTEIN=61,t.TWLG_GERMAN_SWISS=62,t.TWLG_GREEK=63,t.TWLG_HEBREW=64,t.TWLG_HUNGARIAN=65,t.TWLG_ICELANDIC=7,t.TWLG_INDONESIAN=66,t.TWLG_ITALIAN=8,t.TWLG_ITALIAN_SWISS=67,t.TWLG_JAPANESE=68,t.TWLG_KOREAN=69,t.TWLG_KOREAN_JOHAB=70,t.TWLG_LATVIAN=71,t.TWLG_LITHUANIAN=72,t.TWLG_NORWEGIAN=9,t.TWLG_NORWEGIAN_BOKMAL=73,t.TWLG_NORWEGIAN_NYNORSK=74,t.TWLG_POLISH=75,t.TWLG_PORTUGUESE=10,t.TWLG_PORTUGUESE_BRAZIL=76,t.TWLG_ROMANIAN=77,t.TWLG_RUSSIAN=78,t.TWLG_SERBIAN_LATIN=79,t.TWLG_SLOVAK=80,t.TWLG_SLOVENIAN=81,t.TWLG_SPANISH=11,t.TWLG_SPANISH_MEXICAN=82,t.TWLG_SPANISH_MODERN=83,t.TWLG_SWEDISH=12,t.TWLG_THAI=84,t.TWLG_TURKISH=85,t.TWLG_UKRANIAN=86,t.TWLG_ASSAMESE=87,t.TWLG_BENGALI=88,t.TWLG_BIHARI=89,t.TWLG_BODO=90,t.TWLG_DOGRI=91,t.TWLG_GUJARATI=92,t.TWLG_HARYANVI=93,t.TWLG_HINDI=94,t.TWLG_KANNADA=95,t.TWLG_KASHMIRI=96,t.TWLG_MALAYALAM=97,t.TWLG_MARATHI=98,t.TWLG_MARWARI=99,t.TWLG_MEGHALAYAN=100,t.TWLG_MIZO=101,t.TWLG_NAGA=102,t.TWLG_ORISSI=103,t.TWLG_PUNJABI=104,t.TWLG_PUSHTU=105,t.TWLG_SERBIAN_CYRILLIC=106,t.TWLG_SIKKIMI=107,t.TWLG_SWEDISH_FINLAND=108,t.TWLG_TAMIL=109,t.TWLG_TELUGU=110,t.TWLG_TRIPURI=111,t.TWLG_URDU=112,t.TWLG_VIETNAMESE=113,t}({}),Tle=function(t){return t.TWSS_NONE=0,t.TWSS_A4LETTER=1,t.TWSS_B5LETTER=2,t.TWSS_USLETTER=3,t.TWSS_USLEGAL=4,t.TWSS_A5=5,t.TWSS_B4=6,t.TWSS_B6=7,t.TWSS_USLEDGER=9,t.TWSS_USEXECUTIVE=10,t.TWSS_A3=11,t.TWSS_B3=12,t.TWSS_A6=13,t.TWSS_C4=14,t.TWSS_C5=15,t.TWSS_C6=16,t.TWSS_4A0=17,t.TWSS_2A0=18,t.TWSS_A0=19,t.TWSS_A1=20,t.TWSS_A2=21,t.TWSS_A4=1,t.TWSS_A7=22,t.TWSS_A8=23,t.TWSS_A9=24,t.TWSS_A10=25,t.TWSS_ISOB0=26,t.TWSS_ISOB1=27,t.TWSS_ISOB2=28,t.TWSS_ISOB3=12,t.TWSS_ISOB4=6,t.TWSS_ISOB5=29,t.TWSS_ISOB6=7,t.TWSS_ISOB7=30,t.TWSS_ISOB8=31,t.TWSS_ISOB9=32,t.TWSS_ISOB10=33,t.TWSS_JISB0=34,t.TWSS_JISB1=35,t.TWSS_JISB2=36,t.TWSS_JISB3=37,t.TWSS_JISB4=38,t.TWSS_JISB5=2,t.TWSS_JISB6=39,t.TWSS_JISB7=40,t.TWSS_JISB8=41,t.TWSS_JISB9=42,t.TWSS_JISB10=43,t.TWSS_C0=44,t.TWSS_C1=45,t.TWSS_C2=46,t.TWSS_C3=47,t.TWSS_C7=48,t.TWSS_C8=49,t.TWSS_C9=50,t.TWSS_C10=51,t.TWSS_USSTATEMENT=52,t.TWSS_BUSINESSCARD=53,t.TWSS_MAXSIZE=54,t}({}),Ile=function(t){return t.TWON_NONE=0,t.TWON_ARRAY=3,t.TWON_ENUMERATION=4,t.TWON_ONEVALUE=5,t.TWON_RANGE=6,t}({}),wle=function(t){return t.TWTY_INT8=0,t.TWTY_INT16=1,t.TWTY_INT32=2,t.TWTY_UINT8=3,t.TWTY_UINT16=4,t.TWTY_int=5,t.TWTY_BOOL=6,t.TWTY_FIX32=7,t.TWTY_FRAME=8,t.TWTY_STR32=9,t.TWTY_STR64=10,t.TWTY_STR128=11,t.TWTY_STR255=12,t}({}),Ele=function(t){return t.TWFA_NONE=0,t.TWFA_LEFT=1,t.TWFA_CENTER=2,t.TWFA_RIGHT=3,t}({}),xle=function(t){return t.TWFO_FIRSTPAGEFIRST=0,t.TWFO_LASTPAGEFIRST=1,t}({}),Ale=function(t){return t.TWPR_IMPRINTERTOPBEFORE=0,t.TWPR_IMPRINTERTOPAFTER=1,t.TWPR_IMPRINTERBOTTOMBEFORE=2,t.TWPR_IMPRINTERBOTTOMAFTER=3,t.TWPR_ENDORSERTOPBEFORE=4,t.TWPR_ENDORSERTOPAFTER=5,t.TWPR_ENDORSERBOTTOMBEFORE=6,t.TWPR_ENDORSERBOTTOMAFTER=7,t}({}),Dle=function(t){return t.TWPM_SINGLESTRING=0,t.TWPM_MULTISTRING=1,t.TWPM_COMPOUNDSTRING=2,t}({}),Ple=function(t){return t.TWBR_THRESHOLD=0,t.TWBR_HALFTONE=1,t.TWBR_CUSTHALFTONE=2,t.TWBR_DIFFUSION=3,t}({}),Rle=function(t){return t.TWBO_LSBFIRST=0,t.TWBO_MSBFIRST=1,t}({}),kle=function(t){return t.TWFT_RED=0,t.TWFT_GREEN=1,t.TWFT_BLUE=2,t.TWFT_NONE=3,t.TWFT_WHITE=4,t.TWFT_CYAN=5,t.TWFT_MAGENTA=6,t.TWFT_YELLOW=7,t.TWFT_BLACK=8,t}({}),Nle=function(t){return t.TWFL_NONE=0,t.TWFL_OFF=1,t.TWFL_ON=2,t.TWFL_AUTO=3,t.TWFL_REDEYE=4,t}({}),Fle=function(t){return t.TWFR_BOOK=0,t.TWFR_FANFOLD=1,t}({}),Ole=function(t){return t.TWIF_NONE=0,t.TWIF_AUTO=1,t.TWIF_LOWPASS=2,t.TWIF_BANDPASS=3,t.TWIF_HIGHPASS=4,t.TWIF_TEXT=3,t.TWIF_FINELINE=4,t}({}),Mle=function(t){return t.TWLP_REFLECTIVE=0,t.TWLP_TRANSMISSIVE=1,t}({}),Lle=function(t){return t.TWLS_RED=0,t.TWLS_GREEN=1,t.TWLS_BLUE=2,t.TWLS_NONE=3,t.TWLS_WHITE=4,t.TWLS_UV=5,t.TWLS_IR=6,t}({}),Wle=function(t){return t.TWNF_NONE=0,t.TWNF_AUTO=1,t.TWNF_LONEPIXEL=2,t.TWNF_MAJORITYRULE=3,t}({}),jle=function(t){return t.TWOR_ROT0=0,t.TWOR_ROT90=1,t.TWOR_ROT180=2,t.TWOR_ROT270=3,t.TWOR_PORTRAIT=0,t.TWOR_LANDSCAPE=3,t.TWOR_AUTO=4,t.TWOR_AUTOTEXT=5,t.TWOR_AUTOPICTURE=6,t}({}),Ble=function(t){return t.TWOV_NONE=0,t.TWOV_AUTO=1,t.TWOV_TOPBOTTOM=2,t.TWOV_LEFTRIGHT=3,t.TWOV_ALL=4,t}({}),Ule=function(t){return t.TWPF_CHOCOLATE=0,t.TWPF_VANILLA=1,t}({}),Vle=function(t){return t.TWPC_CHUNKY=0,t.TWPC_PLANAR=1,t}({}),PE=function(t){return t.Binary=0,t.Base64=1,t}({}),RB=function(t){return t.TWPT_BW=0,t.TWPT_GRAY=1,t.TWPT_RGB=2,t.TWPT_PALLETE=3,t.TWPT_CMY=4,t.TWPT_CMYK=5,t.TWPT_YUV=6,t.TWPT_YUVK=7,t.TWPT_CIEXYZ=8,t.TWPT_LAB=9,t.TWPT_SRGB=10,t.TWPT_SCRGB=11,t.TWPT_INFRARED=16,t}(RB||{}),kB=function(t){return t.TWUN_INCHES=0,t.TWUN_CENTIMETERS=1,t.TWUN_PICAS=2,t.TWUN_POINTS=3,t.TWUN_TWIPS=4,t.TWUN_PIXELS=5,t.TWUN_MILLIMETERS=6,t}(kB||{});m.mix(V.DWT,{EnumDWT_DeviceType:_t,EnumDWT_Cap:_u,EnumDWT_CapLanguage:Cle,EnumDWT_CapSupportedSizes:Tle,EnumDWT_CapType:Ile,EnumDWT_CapValueType:wle,EnumDWT_CapFeederAlignment:Ele,EnumDWT_CapFeederOrder:xle,EnumDWT_CapPrinter:Ale,EnumDWT_CapPrinterMode:Dle,EnumDWT_CapBitdepthReduction:Ple,EnumDWT_CapBitOrder:Rle,EnumDWT_CapFilterType:kle,EnumDWT_CapFlash:Nle,EnumDWT_CapFlipRotation:Fle,EnumDWT_CapImageFilter:Ole,EnumDWT_CapLightPath:Mle,EnumDWT_CapLightSource:Lle,EnumDWT_CapNoiseFilter:Wle,EnumDWT_CapORientation:jle,EnumDWT_CapOverscan:Ble,EnumDWT_CapPixelFlavor:Ule,EnumDWT_CapPlanarChunky:Vle,EnumDWT_ImageType:vr,EnumDWT_ImageFormatType:Xl,EnumDWT_ResponseType:Os,EnumDWT_SourceMatchField:Xp,EnumDWT_UploadDataFormat:PE,EnumDWT_WorkMode:CB,EnumDWT_ConvertMode:zr,EnumDWT_PixelType:RB,EnumDWT_UnitType:kB});var Wn=V.DWT;Wn.EnumPDF_Page={Page_Default:0,Page_Custom:1,Page_A4:2,Page_A4_Reverse:3,Page_A3:4,Page_A3_Reverse:5,Page_Letter:6,Page_Letter_Reverse:7,Page_Legal:8,Page_Legal_Reverse:9},Wn.EnumDWT_BorderStyle={TWBS_NONE:0,TWBS_SINGLEFLAT:1,TWBS_SINGLE3D:2},Wn.EnumDWT_MessageType={TWQC_GET:1,TWQC_SET:2,TWQC_GETDEFAULT:4,TWQC_GETCURRENT:8,TWQC_RESET:16},Wn.EnumDWT_TransferMode={TWSX_NATIVE:0,TWSX_FILE:1,TWSX_MEMORY:2},Wn.EnumDWT_FileFormat={TWFF_TIFF:0,TWFF_PICT:1,TWFF_BMP:2,TWFF_XBM:3,TWFF_JFIF:4,TWFF_FPX:5,TWFF_TIFFMULTI:6,TWFF_PNG:7,TWFF_SPIFF:8,TWFF_EXIF:9,TWFF_PDF:10,TWFF_JP2:11,TWFF_JPN:12,TWFF_JPX:13,TWFF_DEJAVU:14,TWFF_PDFA:15,TWFF_PDFA2:16},Wn.EnumDWT_TIFFCompressionType={TIFF_AUTO:0,TIFF_NONE:1,TIFF_RLE:2,TIFF_FAX3:3,TIFF_T4:3,TIFF_FAX4:4,TIFF_T6:4,TIFF_LZW:5,TIFF_JPEG:7,TIFF_PACKBITS:32773},Wn.EnumDWT_InterpolationMethod={IM_NEARESTNEIGHBOUR:1,IM_BILINEAR:2,IM_BICUBIC:3,IM_BESTQUALITY:5},Wn.EnumDWT_PDFCompressionType={PDF_AUTO:0,PDF_FAX3:1,PDF_FAX4:2,PDF_LZW:3,PDF_RLE:4,PDF_JPEG:5,PDF_JP2000:6,PDF_JBIG2:7},Wn.EnumDWT_ShowMode={SW_ACTIVE:0,SW_MAX:1,SW_MIN:2,SW_CLOSE:3,SW_IFLIVE:4},Wn.EnumDWT_DUPLEX={TWDX_NONE:0,TWDX_1PASSDUPLEX:1,TWDX_2PASSDUPLEX:2},Wn.EnumDWT_MagType={TWMD_MICR:0,TWMD_RAW:1,TWMD_INVALID:2},Wn.EnumDWT_DataSourceStatus={TWDSS_CLOSED:0,TWDSS_OPENED:1,TWDSS_ENABLED:2,TWDSS_ACQUIRING:3};var W_=function(t){return t.enumFitWindow=0,t.enumFitWindowHeight=1,t.enumFitWindowWidth=2,t}(W_||{});Wn.EnumDWT_FitWindowType={enumFitWindow:W_.enumFitWindow,enumFitWindowHeight:W_.enumFitWindowHeight,enumFitWindowWidth:W_.enumFitWindowWidth},Wn.EnumDWT_PlatformType={enumUnknown:Kt.enumUnknown,enumWindow:Kt.enumWindow,enumMac:Kt.enumMac,enumLinux:Kt.enumLinux,enumEmbed:Kt.enumEmbed,enumChromeOS:Kt.enumChromeOS,enumHarmonyOS:Kt.enumHarmonyOS,enumAndroid:Kt.enumAndroid,enumiOS:Kt.enumiOS};var Su=function(t){return t.Default=0,t.Hand=1,t.Crosshair=2,t.Zoom=3,t.NWResize=4,t.EResize=5,t.NResize=6,t.Resize=7,t.Move=8,t}(Su||{});Wn.EnumDWT_MouseShape={Default:Su.Default,Hand:Su.Hand,Crosshair:Su.Crosshair,Zoom:Su.Zoom,NWResize:Su.NWResize,EResize:Su.EResize,NResize:Su.NResize,Resize:Su.Resize,Move:Su.Move},Wn.EnumDWT_Language={English:0,French:1,Arabic:2,Spanish:3,Portuguese:4,German:5,Italian:6,Russian:7,Chinese:8},Wn.EnumDWT_InitMsg={Info:Rl.Info,Error:Rl.Error,NotInstalledError:Rl.NotInstalledError},Wn.EnumDWT_Driver={TWAIN:Tr.TWAIN,ICA:Tr.ICA,SANE:Tr.SANE,TWAIN_AND_ICA:Tr.TWAIN_AND_ICA,TWAIN_AND_TWAIN64:Tr.TWAIN_AND_TWAIN64,TWAIN64:Tr.TWAIN64},Wn.EnumDWT_CompressionType={TWCP_NONE:0,TWCP_PACKBITS:1,TWCP_GROUP31D:2,TWCP_GROUP31DEOL:3,TWCP_GROUP32D:4,TWCP_GROUP4:5,TWCP_JPEG:6,TWCP_LZW:7,TWCP_JBIG:8,TWCP_PNG:9,TWCP_RLE4:10,TWCP_RLE8:11,TWCP_BITFIELDS:12,TWCP_ZIP:13,TWCP_JPEG2000:14};var RE=function(t){return t.Single=0,t.Multiple=1,t}(RE||{});Wn.EnumDWT_SelectionMode={Single:RE.Single,Multiple:RE.Multiple},Wn.EnumDWT_ConfirmExitType={Cancel:0,Exit:1,SaveAndExit:2},Wn.EnumDWT_WebsocketReadyState={CONNECTING:lu.CONNECTING,OPEN:lu.OPEN,CLOSING:lu.CLOSING,CLOSED:lu.CLOSED};var kE=function(t){return t.TwainService=1,t}(kE||{});Wn.EnumDWT_ServiceType={TwainService:kE.TwainService};var j_,B_=function(t){return t.default=0,t.standard=1,t.supported=2,t}(B_||{});Wn.EnumDWT_ExtImageInfo={default:B_.default,standard:B_.standard,supported:B_.supported};var U_=20230506,NE=function(){if(V.dcp){var t=V.dcp.dcpJSVer;if(m.isNumber(t))return t>=U_}return!1};if(NE())NE=j_,U_=j_;else{var Xn=Zt.detect,yh={_checkService:function(t,r){Xn.dcpStatus=Xn.EnumDCP_DetectStatus.CheckingServiceVer,FE(null,"DSVersion").then(t,r)},_checkUpdateFile:function(t,r){FE(null,"CheckUpdateFile").then(t,r)},_updateService:function(t,r){FE(null,"UpdateService").then(t,r)},_getDSUpdateZipUrl:function(){var t,r,i="";return t="Win",he.bMac?t="Mac":he.bLinux&&(t="Linux"),r=he.bFileSystem?"":"?t="+m.now(),he.bWin&&Zt.b64bit&&(i="_x64"),[Bu(),"/dist/serviceupdate/",t,"DSUpdate_",iR().join("."),i,".zip",r].join("")},getPorts:function(t,r){var i="GetPorts",o="dwasm2_"+mf();return NB(t,i,{id:m.guid(),method:i,version:o,parameter:[r]},vf())},_getStatusString:function(t,r){var i,o,u="";return t==Xn.EnumDCP_DetectStatus.Init?"Getting manager version":t==Xn.EnumDCP_DetectStatus.Connected?(r&&(u=r),"Getting manager version succeeded and the version is "+u):t==Xn.EnumDCP_DetectStatus.CheckingManagerVer?"Getting manager version":t==Xn.EnumDCP_DetectStatus.CheckingServiceVer?"Getting service version":t==Xn.EnumDCP_DetectStatus.NotInstalled?"Dynamic Web TWAIN Service Not Installed":t==Xn.EnumDCP_DetectStatus.UpdateSkipped?"Update skipped":t==Xn.EnumDCP_DetectStatus.CheckedService?(r&&(u=r),"Getting service version succeeded and the version is "+u):t==Xn.EnumDCP_DetectStatus.VerifyingZip?"Verifying the update package":t==Xn.EnumDCP_DetectStatus.VerifiedZip?"Update package verified":t==Xn.EnumDCP_DetectStatus.UpdatingService?"Updating the service":t==Xn.EnumDCP_DetectStatus.UpdateSucceed?"Update succeeded":t==Xn.EnumDCP_DetectStatus.UpdateFailed?(o=".",r&&r.length>0?(r.slice(r.length-1)=="."&&(o=""),i=" with the error: "+r):i="","The update failed"+i+o):""},_sendStatusEvent:function(t,r){var i=!!t,o=window;m.isFunction(o.OnGetServiceUpdateStatus)&&o.OnGetServiceUpdateStatus(i,Xn.dcpStatus,yh._getStatusString(Xn.dcpStatus,r))},_getErr:function(t){var r,i="";try{m.isString(t)?(r=t.replace(/\0/g,""),r=m.parse(r)):t&&(r=t),"description"in r&&(i=r.description)}catch{}return i},_funShowUpgradeDialogWhenUpdateFailed:function(t,r){return Xn.bConnected=!0,Xn.dcpStatus=Xn.EnumDCP_DetectStatus.UpdateFailed,t&&t(),r&&r(),yh._sendStatusEvent(!0),!0},_funUpdateFailed:function(t,r,i,o){var u,d;return Xn.bConnected=!0,Xn.dcpStatus=Xn.EnumDCP_DetectStatus.UpdateFailed,t&&t(),o==200?(u="The update failed.",d=yh._getStatusString(Xn.dcpStatus,yh._getErr(i))):d=u="The update failed. The error code is "+o,r&&r(!0,u),yh._sendStatusEvent(!0,d),!0},getDSPath:function(t,r){return Hp(r)},getLinuxHTML5DebPath:function(){return Hp(".deb")},getLinuxHTML5RpmPath:function(){return Hp(".rpm")},getBinaryFileInfo:function(t,r){var i="GetBinaryFileInfo",o={id:m.guid(),method:i,version:"dwasm2_"+mf(),parameter:[]},u=m.stringify(o),d=function(g,S,v){var b;g&&(b=m.parse(g)),b?t(b):r(g,S,v)};if(V.DWT.ConnectWithSocket&&he.bHTML5Edition){var l=V.DWT.Host,c=Gu.getWsUrl(V.DWT.Host,td(l)?Zt.SSLPort:Zt.Port);return Gu.postStringDataByWSUrl(c,u).then(d,r),!0}var p=[Kv(),"/",i,"?type=1&dsver=",lC().join(""),"&ts=",m.now()].join("");Lu.getHttpClientForDcp().request(u,p,{},500).then(d,r)}};m.mix(Zt,yh),V.dcp=Zt,V.dcp.dcpJSVer=U_,NE=j_,U_=j_}function FE(t,r,i,o){var u;return u={id:m.guid(),method:r,version:"dwasm2_"+mf(),parameter:[]},r=="VersionInfo"&&(u.version="dwasm2_"+vn.getVersionStrForCheck()),It.isLongKey(i)&&(u.productKey=i),NB(t,r,u,vf(),o)}function NB(t,r,i,o,u){return OE.apply(this,arguments)}function OE(){return OE=s(E().mark(function t(r,i,o,u,d){var l,c,p,g,S,v,b,C,D,M,j;return E().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return l=m.stringify(o),Zt.detect.bConnected=!1,c=[Kv(),"/",i,"?type=1&dsver=",lC().join(""),"&ts=",m.now()].join(""),g=In(),S=g?Zt.SSLPort:Zt.Port,p=Lu.getHttpClient(r,S,g),v={},d&&!g&&(v.redirect="manual"),Y.prev=8,Y.next=11,p.request(l,c,v,u);case 11:b=Y.sent,Y.next=21;break;case 14:if(Y.prev=14,Y.t0=Y.catch(8),!d||g){Y.next=20;break}if((Y.t0&&Y.t0.code)!=er.HTTPRedirected){Y.next=20;break}throw FR();case 20:throw Y.t0;case 21:if(b&&(C=m.parse(b)),!(C&&"exception"in C&&"description"in C)){Y.next=27;break}throw D={code:C.exception,message:C.description},(M=vo(C))&&(D.errorCause=M),D;case 27:if(!C||!("result"in C)){Y.next=33;break}if(!Zt.detect.bConnected){Y.next=30;break}return Y.abrupt("return",C.result);case 30:return Zt.detect.bConnected=!0,Zt.detect.dcpStatus=Zt.detect.EnumDCP_DetectStatus.Connected,Y.abrupt("return",C.result);case 33:throw Po(j={}),kr(j);case 36:case"end":return Y.stop()}},t,null,[[8,14]])})),OE.apply(this,arguments)}V.DWT.__innerCheckCertDate=function(t){Yk(t)&&(m.isFunction(V.OnCertExpired)&&V.OnCertExpired(t),setTimeout(function(){V.DWT.UpdateCert(V.DWT.CertificateConfig.URL,V.OnUpdateCertSuccess,V.OnUpdateCertFailure)},5e3))},V.DWT.__innerUpdateCert=function(t,r,i,o){var u=[Kv(),"/LoadZipFromBytes?type=",4,"&dsver=",lC().join(""),"&ts=",m.now()].join("");Lu.getHttpClientForDcp(null,r).request(t,u,{},3e4).then(i,function(d){m.isFunction(o)&&o(d)})},V.DWT.__innerReboot=function(t,r){var i=[Kv(),"/admin?ts=",m.now()].join(""),o='{"id":"'+new Date().getTime().toString()+'","method":"Reboot","parameter":[],"version":"dwasm2_'+mf()+'"}';Lu.getHttpClientForDcp().request(o,i,{},3e4).then(t,r)},V.DWT.UpdateCert=function(t,r,i){m.isString(t)&&t!=""?Tf(t,{mode:"cors",dataType:"arraybuffer"}).then(function(o){V.DWT.__innerUpdateCert(o,!1,function(u){var d;try{var l=Q.parse(u);l.description&&(d={code:l.exception,message:l.description})}catch{var c;Po(c={}),c=kr(c)}d?Q.isFunction(i)&&i(d):(V.DWT.CheckCertExpired=!1,m.isFunction(r)&&r())},function(u){In()?V.DWT.__innerUpdateCert(o,!0,r,i):m.isFunction(i)&&i(u)})},i):m.isFunction(i)&&i()};var ME={Errors:{FilePathSyntaxIncorrect:function(t){t._errorCode=-3123,t._errorString="The filename, directory name, or volume label syntax is incorrect."}},checkFilePath:function(t,r){return m.isString(r)&&r.length!=0?m.startsWith(r,"http://")||m.startsWith(r,"https://")||m.startsWith(r,"ftp://")?(Q.File.Errors.FilePathSyntaxIncorrect(t),Fe):st:(nd(t),Fe)}};ME.checkFolder=ME.checkFilePath,Q.File=ME,Q.showProgress=function(){},Q.closeProgress=function(){};var Gle=document.location.protocol,Hle=location.hostname,FB=In(),zle={detect:{ssl:FB,dcpStatus:0,dcpCallbackType:0,arySTwains:[],bFirst:st,bOK:Fe,__dialog:Fe,cssLoaded:Fe,viewerScriptLoaded:Fe,bNoControlEvent:Fe,bNeedUpgradeEvent:Fe,bPromptJSOrServerOutdated:Fe,detectType:FB?1:Gle==="http:"||Hle===""?0:-1,tryTimes:0,ports:[{port:V.DWT.SSLPort,ssl:st},{port:V.DWT.Port,ssl:Fe}],cUrlIndex:0,urls:[],onNoControl:Fe,needUpgrade:Fe,OnDetectNext:Fe,OnCreatWS:Fe,bMaskShow:Fe},page:{bUnload:Fe}};function OB(){var t=cC;if(V.DWT.CertificateConfig){var r=V.DWT.CertificateConfig;m.isString(r.URL)||(r.URL=t.URL),(!m.isNumber(r.UpdateDaysBeforeExpired)||r.UpdateDaysBeforeExpired<=0)&&(r.UpdateDaysBeforeExpired=t.UpdateDaysBeforeExpired)}else V.DWT.CertificateConfig=t;_le(),m.isString(V.DWT.ProductKey)&&(V.DWT.ProductKey=m.trim(V.DWT.ProductKey)),V.navInfo&&(he.bMac||he.bWin)&&(V.navInfo.bEmbed=!1,V.navInfo.bArm64=!1,V.navInfo.bMips64=!1),V.DWT.Debug&&(m.debug=!0)}function Kle(){return LE.apply(this,arguments)}function LE(){return LE=s(E().mark(function t(){var r,i,o;return E().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!Q.detect.cssLoaded){u.next=2;break}return u.abrupt("return");case 2:if(V.DWT.IfLoadResources){u.next=5;break}return Q.detect.cssLoaded=st,u.abrupt("return");case 5:return r=Bu(),i="",!he.bFileSystem&&V.DWT.IfResourcesAddTimestamp&&(i=Q.timestamp),o=[[r,"/src/dynamsoft.webtwain.css",i].join("")],Ne.bHTML5Edition&&V.DWT.UseDefaultViewer&&o.push([r,"/src/dynamsoft.webtwain.viewer.css",i].join("")),Q.detect.cssLoaded=st,u.prev=10,u.next=13,new Q.Promise(function(d,l){if(he.bSafari){var c=!1;m.addAllCss(o,!1,function(p){p||(c=!0)}),c?l({code:-2804,message:"Loading the WebTwain css files failed."}):d()}else m.addAllCss(o,!1,function(p){p?d():l({code:-2804,message:"Loading the WebTwain css files failed."})})});case 13:Ne.bHTML5Edition&&!he.bFileSystem&&V.DWT.IfCheckCssFiles&&(he.bSafari?setTimeout(function(){try{MB(o)}catch(d){ZC(d)}},1e3):MB()),u.next=19;break;case 16:u.prev=16,u.t0=u.catch(10),ZC(u.t0);case 19:case"end":return u.stop()}},t,null,[[10,16]])})),LE.apply(this,arguments)}function MB(t){var r=document.createElement("div"),i=!1;if(r.style.display="none",document.body.appendChild(r),r.className="dynamsoft-dwt-dlg-button",getComputedStyle(r).backgroundColor==="rgb(254, 142, 20)"&&(V.DWT.UseDefaultViewer?(r.className="dvs-imageEditor-mask",i=getComputedStyle(r).backgroundColor==="rgb(220, 226, 241)"):i=!0),document.body.removeChild(r),i==0)throw{code:-2804,message:"Loading the WebTwain css files failed."}}m.mix(Q,zle),Q.Addon_Events=[],Q.Addon_Sendback_Events=[];var Qle=new Ck(function(){return Ne.loadingResourcePath});function _h(t){return WE.apply(this,arguments)}function WE(){return WE=s(E().mark(function t(r){var i,o,u,d,l,c;return E().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(wn("Loading css..."),OB(),!Ne.loadResourcePath){p.next=4;break}return p.abrupt("return",Q.Promise.resolve());case 4:if(!Ne.loadingResourcePath){p.next=6;break}return p.abrupt("return",Qle.asyncWaitingJSLoaded());case 6:if(Ne.loadingResourcePath=!0,(V.DWT.Port>0||V.DWT.SSLPort>0)&&(Q.detect.ports=[{port:V.DWT.Port,ssl:!1},{port:V.DWT.SSLPort,ssl:!0}],cu.removeItem("DWT_port"),cu.removeItem("DWT_ssl")),m.each(Q._funsAfterConfigLoaded,function(g){try{m.isFunction(g)&&g()}catch{}}),(i=m.sizzle(".dynamsoft_waiting"))&&i.length>0&&(o=i[0]).parentNode&&o.parentNode.removeChild(o),u=Bu(),d="",!he.bFileSystem&&V.DWT.IfResourcesAddTimestamp&&(d=Q.timestamp),l=st,c=[],he.bSafari&&(l=Fe),c.push([u,"/dynamsoft.webtwain.install.js",d].join("")),V.DWT.bNpm&&(c=[]),Ne.bHTML5Edition&&V.DWT.UseDefaultViewer&&(wn("Loading the viewer script..."),c.push([u,"/src/dynamsoft.webtwain.viewer.js",d].join(""))),V.DWT.IfLoadResources||(c=[]),Kle(),c.length!=0){p.next=25;break}return LB(),Ne.loadResourcePath=!0,Ne.loadingResourcePath=!1,p.abrupt("return");case 25:return p.abrupt("return",new Q.Promise(function(g,S){m.addScripts(c,l,!1,function(v){var b=v;if(Ne.bHTML5Edition&&V.DWT.UseDefaultViewer&&!m.isFunction(V.DWTViewer)&&(b=!1),he.bIE&&Ne.bActiveXEdition&&(m.isFunction(V.DWT._innerLoad)||(b=!1)),!b)return Ne.loadingResourcePath=!1,void S({code:-2803,message:"Loading the WebTwain JavaScript source files failed."});LB(),Ne.loadResourcePath=!0,Ne.loadingResourcePath=!1,V.DWT.OnWebTwainWillInit&&V.DWT.OnWebTwainWillInit(),g()})}));case 26:case"end":return p.stop()}},t)})),WE.apply(this,arguments)}function LB(){if(!(Q.bNode||he.bJSDom)){if(m.isArray(V.aryAddonReadyFun)){for(var t=0,r=function(){var i=V.aryAddonReadyFun[t];if(m.isFunction(i))try{i(Q)}catch(o){m.log(o.stack||o,"error"),setTimeout(function(){throw o},0)}};t<V.aryAddonReadyFun.length;t++)r();V.aryAddonReadyFun=[]}}}var qm=[],Xm=[];function jE(){var t,r=qm.length;for(t=0;t<r;t++)qm[t]();qm.splice(0),Xm.splice(0),Zm=0}function WB(){if(Zm>0&&new Date().getTime()-Zm>Yle){var t,r={code:-2802,message:"The file dynamsoft.webtwain.config.js timed out while loading."},i=V.DWT.Containers;i&&i.length!==0||(AR(t={}),r={code:t._errorCode,message:t._errorString}),function(c){var p,g=Xm.length;for(p=0;p<g;p++)Xm[p](c);qm.splice(0),Xm.splice(0),Zm=0}(r)}else if(V.DWT.Containers||V.DWT.ProductKey||V.DWT.licenseServer||V.DWT.organizationID||V.DWT.handshakeCode||V.DWT.bNpm||V.DWT.AutoLoad==0){if(Ne.dwtConfigLoading)return;if(Ne.dwtConfigLoaded)return void jE();Ne.dwtConfigLoading=!0;var o=Bu();if(m.isArray(V.DWT.Containers)||(V.DWT.Containers=[]),he.bIE){var u=he.IEVersion;if((u===""||u>=10)&&V.DWT.IfUseActiveXForIE10Plus){var d=Fe;he.bHTML5Edition=d,Ne.bHTML5Edition=d,Ne.bActiveXEdition=!0,Ne.bChromeEdition=Ne.bHTML5Edition}}if(Ne.bActiveXEdition&&V.DWT.IfLoadResources){var l="";!he.bFileSystem&&V.DWT.IfResourcesAddTimestamp&&(l=Q.timestamp),m.addScript([o,"/src/dynamsoft.webtwain.activex.js",l].join(""),!0,!1,function(){Ne.dwtConfigLoaded=!0,Ne.dwtConfigLoading=!1,jE()})}else Ne.dwtConfigLoaded=!0,Ne.dwtConfigLoading=!1,jE()}else setTimeout(WB,100)}var Yle=3e3,Zm=0;function V_(t){return wn("Loading the config script..."),Ne.dwtConfigLoaded?Q.Promise.resolve():new Q.Promise(function(r,i){qm.push(r),Xm.push(i),Jm(function(){Zm=new Date().getTime(),setTimeout(WB,100)})})}function jB(){var t;(t=V.DWT.WebTwainIdMap)&&m.each(t,function(r,i){r&&r._OnPageBlur&&r._OnPageBlur()})}if(Ne.bActiveXEdition){var BB=function(){var t,r,i,o,u;if(V.DWT.lunload(),Q.closeAll&&Q.closeAll(),o=V.DWT.ContainerMap)for(u=Object.keys(o),t=0;t<u.length;t++)(i=u[t])&&i in o&&(r=o[i])&&(r.__unload(),delete o[i]);if(o=V.DWT.WebTwainIdMap)for(u=Object.keys(o),t=0;t<u.length;t++)(i=u[t])&&i in o&&(r=o[i])&&(r.__unload(),delete o[i]);for(t=0;t<Q.product.unloadQueue.length;t++){var d=Q.product.unloadQueue[t];Q.isFunction(d)&&d()}return Q.product.unloadQueue.splice(0),Q.detect.arySTwains.splice(0),Q.Promise.resolve()},BE=!1;V.DWT.Unload=function(){BB();try{V.DWT.CloseDialog(),Q._zdgb_xkz_dhk(),Q.closeProgress(null,""),Q.hideMask()}catch{}},V.DWT.Load=function(){if(!Q.product.bDWTLoading)return Q.product.bDWTLoading=!0,Q.detect.axAutoLoadDone=!1,V_().then(_h).then(BB).then(function(){return V.DWT._innerLoad()}).then(function(){Q.product.bDWTLoading=!1,Q.detect.axAutoLoadDone=!0},function(t){Q.product.bDWTLoading=!1,Q.detect.axAutoLoadDone=!1,py(t)})},V.DWT.ConnectToTheService=V.DWT.Load,V.DWT.CheckConnectToTheService=function(t,r,i,o,u){Q.product.bActiveXEdition?Q.isFunction(u)&&u():Q.isFunction(o)&&o()},V.DWT.CreateDWTObject=function(t,r,i,o,u,d){return Q._safePromptCustomMsg(function(){d&&d(XP)}),BE},V.DWT.CreateDWTObjectEx=function(t,r,i){return Q._safePromptCustomMsg(function(){i&&i(XP)}),BE},V.DWT.CreateRemoteScanObjectAsync=function(){var t={};return Me(t,-2433,"The ActiveX edition does not support this method or property."),Q.Promise.reject({code:t._errorCode,message:t._errorString})},V.DWT.DeleteDWTObject=function(t){return BE}}function Jle(t,r){(function(i,o){if(o.has(i))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,r),r.add(t)}function $l(t,r,i){if(typeof t=="function"?t===r:t.has(r))return arguments.length<3?r:i;throw new TypeError("Private element is not present on this object")}V.DWT.GetWebTwain=V.DWT.GetWebTwainEx=function(t){var r=t,i=V.DWT.WebTwainIdMap;if(!r){var o=Object.keys(i);return o.length>0?i[r=o[0]]:void 0}if(r in i)return i[r];var u=V.DWT.ContainerMap;return r in u?u[r]:void 0};var $u=new WeakSet,qle=function(t){function r(){var g;h(this,r);for(var S=arguments.length,v=new Array(S),b=0;b<S;b++)v[b]=arguments[b];return Jle(g=f(this,r,[].concat(v)),$u),g}return P(r,t),y(r,[{key:"SetCookie",value:function(g){return this._cookie=g,document.cookie=g,st}},{key:"LoadImageFromBase64Binary",value:function(g,S,v,b){var C=this,D=!1;if(m.isFunction(v)&&(D=!0),C._resetErr(),!C._isValid())return m.isFunction(b)&&pt(b,C),!!D&&void 0;if(!g)return mr(C),m.isFunction(b)&&pt(b,C),!!D&&void 0;var M,j,Y,ee,te,de=g,Z="LoadImageFromBase64Binary",ne=S,X=1;if(de instanceof _E&&m.isFunction(de.getLength)&&m.isFunction(de.getData)&&(de=de.getData(0,de.getLength())),m.isString(de))if(de.indexOf("data:image/bmp")!=-1)ne=0;else if(de.indexOf("data:image/jpeg")!=-1)ne=1;else if(de.indexOf("data:image/tif")!=-1)ne=2;else if(de.indexOf("data:image/png")!=-1)ne=3;else if(de.indexOf("data:application/pdf")!=-1)ne=4;else if(de.indexOf("data:image/jp2")!=-1)ne=14;else{var F=de.substr(0,64),B=m.base64.decode(F,!0);Y=B,ee=V.DWT.EnumDWT_ImageType,te=Y,(Y instanceof ArrayBuffer||Y instanceof Array)&&(te=new Uint8Array(Y.slice(0,12))),ne=function(q){return q[0]==37&&q[1]==80&&q[2]==68&&q[3]==70}(te)?ee.IT_PDF:function(q){return q[0]==73&&q[1]==73&&q[2]==42&&q[3]==0||q[0]==77&&q[1]==77&&q[2]==0&&q[3]==42}(te)?ee.IT_TIF:function(q){return q[0]==137&&q[1]==80&&q[2]==78&&q[3]==71}(te)?ee.IT_PNG:function(q){return q[0]==255&&q[1]==216}(te)?ee.IT_JPG:function(q){return q[0]==66&&q[1]==77}(te)?ee.IT_BMP:function(q){return q[0]==0&&q[1]==0&&q[2]==0&&q[3]==12&&q[4]==106&&q[5]==80&&q[6]==32&&q[7]==32||q[0]==255&&q[1]==79&&q[2]==255&&q[3]==81}(te)?ee.IT_J2K:ee.IT_PNG}if(ne!=V.DWT.EnumDWT_ImageType.IT_BMP&&ne!=V.DWT.EnumDWT_ImageType.IT_JPG&&ne!=V.DWT.EnumDWT_ImageType.IT_TIF&&ne!=V.DWT.EnumDWT_ImageType.IT_PNG&&ne!=V.DWT.EnumDWT_ImageType.IT_PDF&&ne!=V.DWT.EnumDWT_ImageType.IT_J2K&&(ne=-1),!It.checkProductKey(C,{Core:!0})||!It.checkPDFProductKeyWhenNeeds(C,ne))return m.isFunction(b)&&pt(b,C),!!D&&void 0;if(m.isString(de)&&de.indexOf("base64,")!=-1&&(de=de.substr(de.indexOf("base64,")+7)),j=C.__GetLoadEventsNum(),!D){var U=C._getCurrentDocumentName(),K=C._getCurrentDefaultTagName();return(M=C.__innerLoadImageFun(Z,Ge(de,ne,j,X),X,U,K))&&C.__OnPostLoad&&!C.__bServerOnPostLoadFired&&setTimeout(function(){C.__bServerOnPostLoadFired||C.__OnPostLoad("","",""+ne)},10),M}Q.cancelFrom=sr.LoadImage,C.IfShowProgressBar?Q.showProgress(C,Z,C.__IfShowCancelDialogWhenImageTransfer):Q.hideProgress(),C.__bLoadingImage=!0,X=0,C._innerSend(Z,Ge(de,ne,j,X),!0,function(){if(Q.closeProgress(null,Z),C.__bLoadingImage=!1,C._isBindViewer()){var q=C._ImgManager.getCurrentImageIndex();q>=0&&C._innerRefreshUI(q)}C._canConsume()&&V.DWT.lcvrf(C),v&&v(de,S)},function(){Q.closeProgress(null,Z),C.__bLoadingImage=!1,m.isFunction(b)&&b(C._errorCode,C._getErrorString(),de,S)})}},{key:"SaveSelectedImagesToBytes",value:function(g,S){return Mp(this),Fe}},{key:"LoadImageFromBytes",value:function(g,S,v){return Mp(this),Fe}},{key:"SetImageWidth",value:function(g,S,v,b){var C,D=this,M=!1;if(m.isFunction(v)&&(M=!0),D._resetErr(),!D._isValid())return!!M&&void 0;var j=parseInt(g);if(isNaN(j))return nr(D),m.isFunction(b)&&b(D._errorCode,D._getErrorString()),!!M&&void 0;if(j<0||j>=D._ImgManager.count())return nt(D),m.isFunction(b)&&b(D._errorCode,D._getErrorString()),!!M&&void 0;if(m.isUndefined(S))return mr(D),m.isFunction(b)&&b(D._errorCode,D._getErrorString()),!!M&&void 0;var Y=D._ImgManager.convertClientIndexToServerId(j);return Y==-1?(nt(D),m.isFunction(b)&&b(D._errorCode,D._getErrorString()),!!M&&void 0):((C=D._innerFun("SetImageWidth",Ge(Y,S))==1)?m.isFunction(v)&&v():m.isFunction(b)&&b(D._errorCode,D._getErrorString()),M?void 0:C)}},{key:"HTTPDownloadStreamThroughPost",value:function(g,S){return Mp(this),Fe}},{key:"HTTPUploadStreamThroughPost",value:function(g,S,v,b,C){return Mp(this),Fe}},{key:"HTTPUploadThroughPutDirectly",value:function(g,S,v,b,C){return Mp(this),!1}},{key:"SetCustomDSDataEx",value:function(g){return this._resetErr(),!!this._isValid()&&this._innerFun("SetCustomDSDataEx",Ge(g))}},{key:"SetCustomDSData",value:function(g){if(this._resetErr(),!this._isValid())return!1;var S=Rt.replaceLocalFilename(g);return this._innerFun("SetCustomDSData",Ge(S))}},{key:"GetCustomDSDataEx",value:function(){var g=this;return g._resetErr(),!!g._isValid()&&g._innerFun("GetCustomDSDataEx")}},{key:"GetCustomDSData",value:function(g){var S=this;if(S._resetErr(),!S._isValid())return!1;var v=Rt.replaceLocalFilename(g);return S._innerFun("GetCustomDSData",Ge(v))}},{key:"on",value:function(g,S){return this.registerEvent(g,S)}},{key:"off",value:function(g,S){return this.unregisterEvent(g,S)}},{key:"ConvertToBW",value:function(g,S,v){var b=this,C=!1;if(m.isFunction(S)&&(C=!0),b._resetErr(),!b._isValid())return!!C&&void 0;if(!It.checkProductKey(b,{Core:!0}))return m.isFunction(v)&&v(b._errorCode,b._getErrorString()),!!C&&void 0;var D=parseInt(g);if(isNaN(D))return nr(b),m.isFunction(v)&&v(b._errorCode,b._getErrorString()),!!C&&void 0;if(D<0||D>=b._ImgManager.count())return nt(b),m.isFunction(v)&&v(b._errorCode,b._getErrorString()),!!C&&void 0;var M=b._ImgManager.convertClientIndexToServerId(D);if(M==-1)return nt(b),!1;var j=b._innerFun("ConvertToBW",Ge(M));return j?m.isFunction(S)&&S():m.isFunction(v)&&v(b._errorCode,b._getErrorString()),C?void 0:j}},{key:"LoadImageFromBinary",value:function(g,S,v){var b,C,D=this,M="LoadImageFromBinary",j=!1;if(!m.isFunction(S))return mr(D),!1;j=!0;var Y=(b=Q.progressContext)===null||b===void 0?void 0:b.IfShowCancelDialogWhenImageTransfer;return j&&(D.IfShowProgressBar?(Q.showProgress(D,M,!1),Q.progressContext&&(Q.progressContext.IfShowCancelDialogWhenImageTransfer=!1)):Q.hideProgress()),C=D._innerLoadImageFromBinary(g,0,!0,j,function(){Q.progressContext&&(Q.progressContext.IfShowCancelDialogWhenImageTransfer=Y),m.isFunction(S)&&(D.IfShowProgressBar&&Q.closeProgress(null,M),S())},function(ee,te){Q.progressContext&&(Q.progressContext.IfShowCancelDialogWhenImageTransfer=Y),m.isFunction(S)&&D.IfShowProgressBar&&Q.closeProgress(null,M),m.isFunction(v)&&v(ee,te)}),j?void 0:C}},{key:"EnableSourceUI",value:function(g,S){var v=this;return v._resetErr(),!!v._isValid()&&(v._innerSend("EnableSourceUI",null,!0,g,S),!0)}},{key:"GetIfShowVideoContainer",value:function(){return this._UIView.GetIfShowVideoContainer()}},{key:"ShowVideoContainer",value:function(g){return this._UIView.ShowVideoContainer(g)}},{key:"UpdateVideoContainer",value:function(g){return this._UIView.UpdateVideoContainer(g)}},{key:"ChangeBitDepth",value:function(g,S,v){var b,C=this;if(C._resetErr(),!C._isValid())return!1;if(b=parseInt(g),isNaN(b))return nr(C),!1;if(b<0||b>=C._ImgManager.count())return nt(C),!1;var D=C._ImgManager.convertClientIndexToServerId(b);return D==-1?(nt(C),!1):C._innerFun("ChangeBitDepth",Ge(D,S,v))}},{key:"ConvertToGrayScale",value:function(g,S,v){var b,C=this,D=!1;if(m.isFunction(S)&&(D=!0),C._resetErr(),!C._isValid())return!!D&&void 0;var M=parseInt(g);if(isNaN(M))return nr(C),m.isFunction(v)&&v(C._errorCode,C._getErrorString()),!!D&&void 0;if(M<0||M>=C._ImgManager.count())return nt(C),m.isFunction(v)&&v(C._errorCode,C._getErrorString()),!!D&&void 0;var j=C._ImgManager.convertClientIndexToServerId(M);return j==-1?(nt(C),m.isFunction(v)&&v(C._errorCode,C._getErrorString()),!!D&&void 0):((b=C._innerFun("ConvertToGrayScale",Ge(j))==1)?(Rt.refreshImageAfterInvokeFun(C,M),m.isFunction(S)&&S()):m.isFunction(v)&&v(C._errorCode,C._getErrorString()),D?void 0:b)}},{key:"ClearTiffCustomTag",value:function(){var g=this;return g._resetErr(),!!g._isValid()&&(g._aryTiffTag.splice(0,g._aryTiffTag.length),g._innerFun("ClearTiffCustomTag"))}},{key:"SetTiffCustomTag",value:function(g,S,v){var b=this;if(b._resetErr(),!b._isValid())return!1;if(m.isUndefined(g)||m.isUndefined(S))return mr(b),!1;var C,D=1*g;if(C=m.isString(S)?m.replaceAll(S,'"','\\"'):S,D<=0||D>2147483647)return Me(b,-2378,"Invalid value for the tiff tag code."),!1;var M,j=0,Y=!1,ee=b._aryTiffTag.length;for(j=0;j<ee;j++)(M=b._aryTiffTag[j]).tag==D&&(M.Content=S,M.UseBase64Encoding=v,Y=!0);return!Y&&ee>=32?(function(te){Me(te,-2428,"Tiff tag count has exceeded the limit.")}(b),!1):b._innerFun("SetTiffCustomTag",Ge(D,C,v))}},{key:"IsBlankImage",value:function(g){var S,v=this;if(v._resetErr(),!v._isValid())return!1;if(S=parseInt(g),isNaN(S))return nr(v),!1;if(S<0||S>=v._ImgManager.count())return nt(v),!1;var b=v._ImgManager.convertClientIndexToServerId(S);return b==-1?(nt(v),!1):v._innerFun("IsBlankImage",Ge(b,Fe))}},{key:"IsBlankImageExpress",value:function(g){var S=this;if(S._resetErr(),!S._isValid())return!1;var v=parseInt(g);if(isNaN(v))return nr(S),!1;if(v<0||v>=S._ImgManager.count())return nt(S),!1;var b=S._ImgManager.convertClientIndexToServerId(v);return b==-1?(nt(S),!1):S._innerFun("IsBlankImage",Ge(b,st))}},{key:"SetOpenSourceTimeout",value:function(g){var S=this;return S._resetErr(),!!S._isValid()&&S._innerFun("SetOpenSourceTimeout",Ge(g))}},{key:"GetImageURL",value:function(g,S,v,b,C){var D=this;if(D._resetErr(),!D._isValid())return!1;var M,j,Y,ee=g,te=parseInt(S),de=parseInt(v);if(b?(M="",j="dwt://"):(M=D._httpUrl,j="dwt/"),Y=[M,j,D._bScanForProxyRemote?D._dmServiceDWTVersion:[Ne.getDWTPrefix(),Ne.getServerVersionInfo()].join(""),"/img?id=",D._clientId],m.isUndefined(ee)||ee===null)return bC(D),"";if(C)Y.push("&index=-1&width=-1&height=-1&webcam="),Y.push(C),he.bIE||Y.push("&type=6000");else{if(ee=parseInt(ee),isNaN(ee))return nr(D),"";if(ee<-1||ee>=D._ImgManager.count())return nt(D),"";var Z=D._ImgManager.convertClientIndexToServerId(ee);if(Z==-1)return"";Y.push("&index="),Y.push(Z),te>0&&de>0?(Y.push("&width="),Y.push(te),Y.push("&height="),Y.push(de)):Y.push("&width=-1&height=-1"),Tn.bMobile&&Y.push("&type=1&quality=85")}if(Y.push("&t="),Y.push(new Date().getTime()),Y=Y.join(""),he.bFileSystem&&!C&&Y.indexOf("dwt://")<0){var ne=new Image;ne.crossOrigin="anonymous",ne.src=Y,ne=null}return Y}},{key:"GetImagePartURL",value:function(g,S,v){var b=this;if(b._resetErr(),!b._isValid())return!1;var C=parseInt(g);return isNaN(C)?(nr(b),""):C<0||C>=b._ImgManager.count()?(nt(b),""):this.GetImageURL(C,S,v,!0)}},{key:"SetLanguage",value:function(g){var S=this;return S._resetErr(),!!S._isValid()&&S._innerFun("SetLanguageForSecurity",Ge(g))}},{key:"GetLicenseInfo",value:function(g,S){var v=this;v.__licenseInfo?m.isFunction(g)&&g(v.__licenseInfo):v._innerFunRaw("GetLicenseInfo",Ge(0),st,Fe,st,function(b){b?b.exception?m.isFunction(S)&&S(b.exception):(m.isArray(b.result)&&b.result.length>0&&XC(v,b.result[0]),m.isFunction(g)&&g(v.__licenseInfo)):m.isFunction(S)&&S()},S)}},{key:"SetProductKeyAsync",value:function(g){return this._setProductKeyAsync(g)}},{key:"GetVersionInfoAsync",value:function(){return Pe.Promise.resolve(vn.versionInfoFromServer)}},{key:"isUsingActiveX",value:function(){return!1}},{key:"SetLTSLicenseAsync",value:function(g){return this._setLTSLicenseAsync(g)}},{key:"Print",value:function(g){var S=this;return S._resetErr(),S._isValid()?S._isNoViewer()?S._nouiNotSupport("Print"):g?(S._innerSend("PrintEx",Ge(!0),!0,function(){},function(){}),!0):(S._ImagePrint&&S._ImagePrint.Print(),!0):!1}},{key:"PrintEx",value:function(g,S){var v=this;if(v._resetErr(),!v._isValid()||!v._checkIndices(g))return!1;if(v._isNoViewer())return v._nouiNotSupport("Print");if(S&&S.mode&&S.mode.toLowerCase()=="os"){if(he.bMac||he.bLinux)return Me(v,-2910,"The OS print functionality is not supported on the current operating system."),!1;var b=!0;m.isUndefined(S.osPrintOptions)||m.isUndefined(S.osPrintOptions.showPrintDialog)||(b=S.osPrintOptions.showPrintDialog);var C=[];return m.each(g,function(D){var M=v._ImgManager.convertClientIndexToServerId(D);C.push(M)}),v._innerSend("PrintEx",Ge(b,C.join(",")),!0,function(){},function(){}),!0}return v._ImagePrint&&v._ImagePrint.PrintEx(g),!0}},{key:"IsBlankImageAsync",value:(p=s(E().mark(function g(S,v){var b,C,D,M;return E().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return b=this,D={minBlockHeight:20,maxBlockHeight:30},v&&(m.isNumber(v.minBlockHeight)&&v.minBlockHeight>=0&&(D.minBlockHeight=v.minBlockHeight),m.isNumber(v.maxBlockHeight)&&v.maxBlockHeight>=0&&(D.maxBlockHeight=v.maxBlockHeight)),C={command:"isBlankImage",parameter:{index:S,minHeight:D.minBlockHeight,maxHeight:D.maxBlockHeight}},j.next=6,b.RunCommandAsync(C);case 6:if(!((M=j.sent)&&Q.isArray(M.result)&&M.result.length>0)){j.next=9;break}return j.abrupt("return",M.result[0]);case 9:return j.abrupt("return",!1);case 10:case"end":return j.stop()}},g,this)})),function(g,S){return p.apply(this,arguments)})},{key:"httpUploadBlob",value:function(g,S,v,b){var C=this,D="httpUploadBlob",M=S,j=v,Y=null,ee=null,te=Os.Text;if(C._resetErr(),!C._isValid())return Q.Promise.reject({code:C._errorCode,message:C._errorString});if(m.isUndefined(g)||g==="")return io(C),Q.Promise.reject({code:C._errorCode,message:C._errorString});if(!m.isString(g))return jp(C),Q.Promise.reject({code:C._errorCode,message:C._errorString});if(!(M instanceof Blob))return mr(C),Q.Promise.reject({code:C._errorCode,message:C._errorString});var de=M.type.toLocaleLowerCase();if(de!="image/jpeg"&&de!="image/jpg"&&de!="image/png"&&de!="image/bmp"&&de!="application/pdf"&&de!="image/tiff"&&de!="image/tif")return Me(C,-2845,"Only Blob of JPEG, PNG, BMP, TIFF and PDF image types can be uploaded."),Q.Promise.reject({code:C._errorCode,message:C._errorString});b&&(Y=new FormData,m.each(b.formFields,function(F,B){var U=F.name,K=F.value;m.isString(U)&&(K instanceof Blob?Y.append(U,K,F.fileName):Y.append(U,K))}),ee={},m.each(b.headers,function(F,B){m.isString(F.name)&&(ee[F.name]=F.value)}),b.responseType&&(te=b.responseType));var Z=C._createHttpUploaderConfig(),ne=new mu,X=new es;return X.url=g,X.method=D,X.content=M,M=null,X.contentType=C._strHttpContentTypeFieldValue,X.headers=ee,X.fileName=j,X.httpFormData=Y,C.__remoteFilename&&C.__remoteFilename!=""&&(X.remoteFilename=C.__remoteFilename),X.retry=1,X.bOnlyResponseEmptyIsOK=!1,X.responseType=te,Z.objUploadStatus=void 0,C.IfShowProgressBar&&Q.showProgress(C,D,!1),new Q.Promise(function(F,B){ne.httpPostUpload(Z,X,function(U){C.IfShowProgressBar&&Q.closeProgress(C,D,!1),F(U)},function(U,K){C.IfShowProgressBar&&Q.closeProgress(C,D,!1),B({code:U,message:K})})})}},{key:"saveBlob",value:(c=s(E().mark(function g(S,v){var b,C,D,M,j;return E().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if(D=S,(b=this)._resetErr(),b._isValid()){Y.next=4;break}throw{code:b._errorCode,message:b._errorString};case 4:if(!m.isString(S)&&S!==null&&S!==void 0){Y.next=8;break}Y.next=10;break;case 8:case 23:throw mr(b),{code:b._errorCode,message:b._errorString};case 10:if(!(v instanceof Blob)){Y.next=23;break}if((j=v.type.toLocaleLowerCase())!="image/jpeg"&&j!="image/jpg"&&j!="image/png"&&j!="image/bmp"&&j!="application/pdf"&&j!="image/tiff"&&j!="image/tif"){Y.next=16;break}Y.next=18;break;case 16:throw nQ(b),{code:b._errorCode,message:b._errorString};case 18:return Y.next=20,bB(v);case 20:M=Y.sent,Y.next=25;break;case 25:return D||(D=""),D=Rt.replaceLocalFilename(D),C=Ge(D),Y.next=30,new Q.Promise(function(ee,te){b._innerSendBlobByWS("SaveBlobToFile",C,M,function(de){ee(de)},function(de){te({code:b._errorCode,message:b._errorString})})});case 30:case"end":return Y.stop()}},g,this)})),function(g,S){return c.apply(this,arguments)})},{key:"createLocalStorage",value:(l=s(E().mark(function g(S){var v,b,C,D,M;return E().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if((v=this)._resetErr(),v._isValid()){j.next=4;break}throw{code:v._errorCode,message:v._errorString};case 4:if(C="CreateLocalStorage",D=null,!S){j.next=12;break}if(M=S.password,$l($u,this,G_).call(this,M)!==!1){j.next=9;break}throw{code:v._errorCode,message:v._errorString};case 9:D=JSON.stringify([JSON.stringify(S)]),j.next=13;break;case 12:D='["{}"]';case 13:return j.next=15,new Q.Promise(function(Y,ee){v._innerSend(C,D,!1,function(te){if(m.isArray(te)&&te.length>0){var de=te[0];de&&m.isString(de.uid)&&Y(de.uid)}else Po(v),ee({code:v._errorCode,message:v._errorString})},function(){ee({code:v._errorCode,message:v._errorString})})});case 15:return b=j.sent,j.abrupt("return",b);case 17:case"end":return j.stop()}},g,this)})),function(g){return l.apply(this,arguments)})},{key:"localStorageExist",value:(d=s(E().mark(function g(S){var v,b,C;return E().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(b="LocalStorageExist",(v=this)._resetErr(),v._isValid()){D.next=4;break}throw{code:v._errorCode,message:v._errorString};case 4:if($l($u,v,H_).call(v,S)!=0){D.next=6;break}throw{code:v._errorCode,message:v._errorString};case 6:return D.next=8,new Q.Promise(function(M,j){v._innerSend(b,Ge(S),!1,function(Y){if(m.isArray(Y)&&Y.length>0){var ee=Y[0];(m.isBoolean(ee)||m.isNumber(ee))&&M(!!ee)}else Po(v),j({code:v._errorCode,message:v._errorString})},function(){j({code:v._errorCode,message:v._errorString})})});case 8:return C=D.sent,D.abrupt("return",C);case 10:case"end":return D.stop()}},g,this)})),function(g){return d.apply(this,arguments)})},{key:"saveToLocalStorage",value:(u=s(E().mark(function g(S){var v,b,C,D;return E().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(b="SaveToLocalStorage",C=null,(v=this)._resetErr(),v._isValid()){M.next=4;break}throw{code:v._errorCode,message:v._errorString};case 4:if(m.isObject(S)){M.next=7;break}throw mr(v),{code:v._errorCode,message:v._errorString};case 7:if($l($u,v,H_).call(v,S.uid)!==!1&&$l($u,this,G_).call(this,S.password)!==!1){M.next=9;break}throw{code:v._errorCode,message:v._errorString};case 9:if(!m.isUndefined(S.indices)){M.next=13;break}S.indices=FY(v),M.next=20;break;case 13:if(!m.isArray(S.indices)||S.indices.length!=0){M.next=17;break}M.next=20;break;case 17:if(v._checkIndices(S.indices)){M.next=19;break}throw{code:v._errorCode,message:v._errorString};case 19:S.indices=Nl(v,S.indices);case 20:return C=JSON.stringify([JSON.stringify(S)]),M.next=23,new Q.Promise(function(j,Y){v._innerSend(b,C,!1,function(ee){if(m.isArray(ee)&&ee.length>0){var te=ee[0];te&&te.imageIds&&j(te.imageIds)}else Po(v),Y({code:v._errorCode,message:v._errorString})},function(){Y({code:v._errorCode,message:v._errorString})})});case 23:return D=M.sent,M.abrupt("return",D);case 25:case"end":return M.stop()}},g,this)})),function(g){return u.apply(this,arguments)})},{key:"loadFromLocalStorage",value:(o=s(E().mark(function g(S){var v,b,C,D,M;return E().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(b="LoadFromLocalStorage",C=null,(v=this)._resetErr(),v._isValid()){j.next=4;break}throw{code:v._errorCode,message:v._errorString};case 4:if(m.isObject(S)){j.next=7;break}throw mr(v),{code:v._errorCode,message:v._errorString};case 7:if($l($u,v,H_).call(v,S.uid)!==!1&&$l($u,this,G_).call(this,S.password)!==!1){j.next=9;break}throw{code:v._errorCode,message:v._errorString};case 9:return(M=m.clone(S)).documentName=v._getCurrentDocumentName(),M.tagName=v._getCurrentDefaultTagName(),C=JSON.stringify([JSON.stringify(M)]),Q.showProgress(v,b,!1),Q.progressBarOnPercentDone(-1,"Processing...","",0,""),j.next=17,new Q.Promise(function(Y,ee){v._innerSend(b,C,!1,function(te){var de;Q.closeProgress(null,b),m.isArray(te)&&te.length>0?(de=te[0])&&de.mapImageIds&&Y(de.mapImageIds):(de===!1&&v._errorCode!=0||Po(v),ee({code:v._errorCode,message:v._errorString}))},function(){Q.closeProgress(null,b),ee({code:v._errorCode,message:v._errorString})})});case 17:return D=j.sent,j.abrupt("return",D);case 19:case"end":return j.stop()}},g,this)})),function(g){return o.apply(this,arguments)})},{key:"removeLocalStorage",value:(i=s(E().mark(function g(S){var v,b,C,D;return E().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(b="RemoveLocalStorage",C=null,(v=this)._resetErr(),v._isValid()){M.next=4;break}throw{code:v._errorCode,message:v._errorString};case 4:if(m.isObject(S)){M.next=7;break}throw mr(v),{code:v._errorCode,message:v._errorString};case 7:if($l($u,v,H_).call(v,S.uid)!==!1&&$l($u,this,G_).call(this,S.password)!==!1){M.next=9;break}throw{code:v._errorCode,message:v._errorString};case 9:return S&&(C=JSON.stringify([JSON.stringify(S)])),M.next=12,new Q.Promise(function(j,Y){v._innerSend(b,C,!1,function(ee){if(m.isArray(ee)&&ee.length>0){var te=ee[0];(m.isBoolean(te)||m.isNumber(te))&&j(!!te)}else Po(v),Y({code:v._errorCode,message:v._errorString})},function(){Y({code:v._errorCode,message:v._errorString})})});case 12:return D=M.sent,M.abrupt("return",D);case 14:case"end":return M.stop()}},g,this)})),function(g){return i.apply(this,arguments)})}]);var i,o,u,d,l,c,p}(vu);function G_(t){if(!m.isUndefined(t)){if(!m.isString(t))return Me(this,-2850,"The password is not a string."),!1;if(t.length>32)return function(r){Me(r,-2849,"The password must not exceed 32 characters in length.")}(this),!1}return!0}function H_(t){return m.isUndefined(t)||t==""?(Me(this,-2846,"The uid cannot be empty."),!1):!!m.isString(t)||(function(r){Me(r,-2847,"The uid is invalid.")}(this),!1)}function Pd(t,r,i,o){var u;i!==0&&i!==1?u=i:(u={},i&&(u.set=o==1?function(d){var l=1*d;return!m.isNumber(l)||isNaN(l)?(ki(t),Fe):(t._resetErr(),!!t._isValid()&&t._innerFun(r,Ge(l)))}:o==2?function(d){return m.isBoolean(d)?(t._resetErr(),!!t._isValid()&&t._innerFun(r,Ge(d))):(ki(t),Fe)}:function(d){return m.isString(d)?(t._resetErr(),!!t._isValid()&&t._innerFun(r,Ge(d))):(ki(t),Fe)})),u.get||(u.get=function(){return t._resetErr(),!!t._isValid()&&t._innerFun(r)}),r in t||Object.defineProperty(t,r,u)}function Xle(t,r){(function(i,o){if(o.has(i))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,r),r.add(t)}function UB(t,r,i){return(r=function(o){var u=function(d,l){if(N(d)!="object"||!d)return d;var c=d[Symbol.toPrimitive];if(c!==void 0){var p=c.call(d,l||"default");if(N(p)!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(d)}(o,"string");return N(u)=="symbol"?u:u+""}(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t}function Zle(t,r,i){if(typeof t=="function"?t===r:t.has(r))return arguments.length<3?r:i;throw new TypeError("Private element is not present on this object")}var VB=new WeakSet,GB=function(){return y(function i(o,u,d,l){h(this,i),Xle(this,VB),UB(this,"serverUrl",void 0),this.serverUrl=o,this.bLocal=Do(o),this.clientId=d??m.guid(),this.bGlobal=u,this.serverName=l,this.bLicenseOK=!1},[{key:"checkSource",value:function(i){if(!i)throw{code:-1003,message:"Source Manager unable to find the specified Source"}}},{key:"parseResultDefault",value:function(i){var o;if(m.isObject(i)&&i.exception&&i.exception!=0)throw{code:i.exception,message:(o=i.description)!==null&&o!==void 0?o:"general error"};if(i&&m.isArray(i.result)&&i.result.length>0){var u=i.result[i.result.length-1];try{return JSON.parse(u)}catch{return u}}throw i}},{key:"_requestAsync",value:(r=s(E().mark(function i(o,u,d){var l,c,p,g,S,v,b,C,D,M;return E().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(!V.DWT.ConnectWithSocket){j.next=12;break}return j.next=3,Zle(VB,this,$le).call(this);case 3:return l=j.sent,c=0,o&&(c=o.cmdId),p={client:l,userData:{command:o},taskId:c},g=tce,j.next=9,l.request(m.stringify(o),g,p);case 9:return S=j.sent,m.isString(S)&&(S=m.parse(S)),j.abrupt("return",S);case 12:return v=[QR(),"/",o.method].join(""),u&&(C=u),D=(M=this).serverUrl?Gu.getDDMUrl(M.serverUrl,M.bGlobal,[KR,o.method].join("")):Gu.getModuleUrlForRemoteScan(v),j.prev=16,j.next=19,Tf(D,{method:"post",dataType:"json",body:m.stringify(o),fetchRaw:d!=null&&d,timeout:C});case 19:b=j.sent,j.next=25;break;case 22:throw j.prev=22,j.t0=j.catch(16),j.t0;case 25:return j.abrupt("return",b);case 26:case"end":return j.stop()}},i,this,[[16,22]])})),function(i,o,u){return r.apply(this,arguments)})},{key:"_resetLicense",value:(t=s(E().mark(function i(o,u,d){return E().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:case"end":return l.stop()}},i)})),function(i,o,u){return t.apply(this,arguments)})}]);var t,r}();function $le(){return HB.apply(this,arguments)}function HB(){return(HB=s(E().mark(function t(){var r,i,o,u,d,l,c,p,g;return E().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(r=this,i=he.bSSL,r._wsClient){S.next=10;break}return o=new ad,(u=this.serverUrl)?(l="/",d=i?"ddm/"+V.dcp.SSLPort+"/":"ddm/"+V.dcp.Port+"/",m.endsWith(u,"/")&&(l=""),m.startsWith(u,"https://")||m.startsWith(u,"wss://")?(o.ssl=!0,c=m.startsWith(u,"https://")?m.replaceAll(u,"https://",""):m.replaceAll(u,"wss://",""),u=c+l+d):m.startsWith(u,"http://")||m.startsWith(u,"ws://")?(o.ssl=!1,p=m.startsWith(u,"http://")?m.replaceAll(u,"http://",""):m.replaceAll(u,"ws://",""),u=p+l+d):(o.ssl=i,o.port=o.ssl?Zt.SSLPort:Zt.Port),o.server=u):(o.ssl=i,o.server=Yi(),o.port=o.ssl?Zt.SSLPort:Zt.Port),o.useWS=!0,o.protocol=Zt.wsProtocol,g=ou.Instance.getClient(o),S.next=9,g.testConnection();case 9:r._wsClient=g;case 10:return S.abrupt("return",r._wsClient);case 11:case"end":return S.stop()}},t,this)}))).apply(this,arguments)}UB(GB,"logLevel",-1);var ece=function(t){function r(){var o;h(this,r);for(var u=arguments.length,d=new Array(u),l=0;l<u;l++)d[l]=arguments[l];return I(o=f(this,r,[].concat(d)),"_bInited",!1),o}return P(r,t),y(r,[{key:"getServices",value:(i=s(E().mark(function o(u,d,l,c){var p,g,S,v,b,C,D,M,j,Y,ee,te,de;return E().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return l=l!=null&&l,c=c??30,p={id:this.clientId,cmdId:m.guid(),method:"SearchScanner",parameter:[1,"_privet._tcp.local.",!1,!0,l,c,u,d],version:Wu},Z.prev=5,Z.next=8,this._requestAsync(p,3e4,!1);case 8:g=Z.sent,this._bInited=!0,Z.next=19;break;case 12:if(Z.prev=12,Z.t0=Z.catch(5),!this.bLocal){Z.next=18;break}throw od(S={}),{code:S._errorCode,message:S._errorString};case 18:throw IR();case 19:v=[],b=this.parseResultDefault(g),C=T(b),Z.prev=22,C.s();case 24:if((D=C.n()).done){Z.next=40;break}if(!((M=D.value).service_type&&M.service_type==ko.ST_UNKNOWN||M.type&&M.type!="dynamsoft_private_cloud_scan"&&M.type!="twaindirect")){Z.next=30;break}return Z.abrupt("continue",38);case 30:if(!M.service_type){Z.next=38;break}Z.t1=M.service_type,Z.next=Z.t1===ko.ST_DYNAMSOFT_SERVICE?34:38;break;case 34:return(j=M.modules)&&m.isArray(j)&&m.isString(j[0])&&(Y=j[0].split(",")).length>=3&&(Y[0]>=1&&Y[1]>=9||Y[0]>=1&&Y[1]>=8&&Y[2]>0)&&(M.bGlobalFind=!0,ee=zB(this.serverUrl,M),v.push(ee)),M.bGlobalFind||(de=(te=M==null?void 0:M.ty)!==null&&te!==void 0?te:"",m.warn(["The Dynamic Web TWAIN Service on [",de,"] is old version."].join(""))),Z.abrupt("break",38);case 38:Z.next=24;break;case 40:Z.next=45;break;case 42:Z.prev=42,Z.t2=Z.catch(22),C.e(Z.t2);case 45:return Z.prev=45,C.f(),Z.finish(45);case 48:return Z.abrupt("return",v);case 49:case"end":return Z.stop()}},o,this,[[5,12],[22,42,45,48]])})),function(o,u,d,l){return i.apply(this,arguments)})},{key:"dispose",value:function(){var o={id:this.clientId,cmdId:m.guid(),method:"dispose",version:Wu};this._requestAsync(o,500)}}]);var i}(GB);function zB(t,r){var i=new eT;return i.server=t,i.attrs=r,i}function tce(t,r,i,o){return UE.apply(this,arguments)}function UE(){return UE=s(E().mark(function t(r,i,o,u){var d,l;return E().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(i!=_n.GET_TASKID){c.next=4;break}return c.abrupt("return",u.taskId);case 4:if(i!=_n.ONMESSAGE_PROCESS_DATA){c.next=8;break}return c.abrupt("return",m.parse(r));case 8:if(i!=_n.ONMESSAGE_GET_TASKID){c.next=15;break}if(!r||!r.cmdId){c.next=11;break}return c.abrupt("return",r.cmdId);case 11:if(!u||!u.client){c.next=13;break}return c.abrupt("return",u.client.getRequestTaskId());case 13:c.next=23;break;case 15:if(i!=_n.HANDLE_RAW_MESSAGE){c.next=23;break}if(l=r.rawData,r.jsonData,d=u==null?void 0:u.userData){c.next=21;break}return c.abrupt("return",!1);case 21:return l.indexOf("Version not found")>=0||l.indexOf("Function not found")>=0?m.isFunction(d.fFun)&&d.fFun():m.isFunction(d.sFun)&&d.sFun(l),c.abrupt("return",l);case 23:case"end":return c.stop()}},t)})),UE.apply(this,arguments)}function KB(t,r,i){return(r=function(o){var u=function(d,l){if(N(d)!="object"||!d)return d;var c=d[Symbol.toPrimitive];if(c!==void 0){var p=c.call(d,l||"default");if(N(p)!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(d)}(o,"string");return N(u)=="symbol"?u:u+""}(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t}function rce(t,r){(function(i,o){if(o.has(i))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,r),r.add(t)}function VE(t,r,i){if(typeof t=="function"?t===r:t.has(r))return arguments.length<3?r:i;throw new TypeError("Private element is not present on this object")}function QB(t){var r,i=ko.ST_UNKNOWN;return t==_t.ESCLSCANNER?i=ko.ST_ESCL:t==_t.WIFIDIRECTSCANNER?i=ko.ST_WIFI_DIRECT:((r=t)==_t.TWAINSCANNER||r==_t.WIATWAINSCANNER||r==_t.TWAINX64SCANNER||r==_t.ICASCANNER||r==_t.SANESCANNER)&&(i=ko.ST_DYNAMSOFT_SERVICE),i}var z_=new WeakSet,K_=function(t){function r(){var S;h(this,r);for(var v=arguments.length,b=new Array(v),C=0;C<v;C++)b[C]=arguments[C];return rce(S=f(this,r,[].concat(b)),z_),KB(S,"_bInited",!1),KB(S,"_currentDevice",void 0),S}return P(r,t),y(r,[{key:"getSources",value:(g=s(E().mark(function S(v,b,C){var D,M,j,Y,ee,te,de,Z,ne,X,F,B;return E().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(D="",M=!1,j=[],Y=!1,((ee=v??KC)&_t.ESCLSCANNER)==_t.ESCLSCANNER&&(D="_uscan._tcp.local."),(ee&_t.WIFIDIRECTSCANNER)==_t.WIFIDIRECTSCANNER&&(M=!0),D.length!=0||M){U.next=9;break}return U.abrupt("return",[]);case 9:return b=b!=null&&b,C=C??30,te={id:this.clientId,cmdId:m.guid(),method:"SearchScanner",parameter:[1,D,M,Y,b,C],version:Wu},U.next=14,this._requestAsync(te,3e4,!1);case 14:if(de=U.sent,this._bInited=!0,Z=this.parseResultDefault(de),m.isArray(Z)){U.next=19;break}throw GK();case 19:ne=T(Z),U.prev=20,ne.s();case 22:if((X=ne.n()).done){U.next=48;break}if(!((F=X.value).service_type&&F.service_type==ko.ST_UNKNOWN||F.type&&F.type!="dynamsoft_private_cloud_scan"&&F.type!="twaindirect")){U.next=28;break}return U.abrupt("continue",46);case 28:if(!F.service_type){U.next=46;break}U.t0=F.service_type,U.next=U.t0===ko.ST_DYNAMSOFT_SERVICE?32:U.t0===ko.ST_ESCL||U.t0===ko.ST_WIFI_DIRECT?33:46;break;case 32:return U.abrupt("break",46);case 33:return(B=new Qa).name="",B.displayName="",B.deviceType=0,B.isSystemDefaultPrinter=!1,F.service_type==ko.ST_ESCL?B.deviceType=_t.ESCLSCANNER:F.service_type==ko.ST_WIFI_DIRECT&&(B.deviceType=_t.WIFIDIRECTSCANNER),B.name=F.ty,F.hostname&&F.hostname.length>F.ty.length&&(B.name=F.hostname),B.displayName=(F.service_type==ko.ST_ESCL?"eSCL-":"")+B.name,this.bGlobal||(F.url=this.serverUrl,this.serverName&&(B.displayName=B.displayName+" on ["+this.serverName+"]")),B.serviceInfo=zB(this.serverUrl,F),j.push(B),U.abrupt("break",46);case 46:U.next=22;break;case 48:U.next=53;break;case 50:U.prev=50,U.t1=U.catch(20),ne.e(U.t1);case 53:return U.prev=53,ne.f(),U.finish(53);case 56:return U.abrupt("return",j);case 57:case"end":return U.stop()}},S,this,[[20,50,53,56]])})),function(S,v,b){return g.apply(this,arguments)})},{key:"getCapabilitiesAsync",value:(p=s(E().mark(function S(v){var b,C,D;return E().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return this.checkSource(v),(v.deviceType&_t.ESCLSCANNER)!=_t.ESCLSCANNER&&(v.deviceType&_t.WIFIDIRECTSCANNER)!=_t.WIFIDIRECTSCANNER||(this._currentDevice=v),b=QB(v.deviceType),C={id:this.clientId,cmdId:m.guid(),method:"SendRequestToScanner",parameter:["getCapabilities",m.stringify({UUID:v.serviceInfo.attrs.UUID,service_type:b,ty:v.name})],version:Wu},M.next=6,this._requestAsync(C,0);case 6:return D=M.sent,M.abrupt("return",this.parseResultDefault(D));case 8:case"end":return M.stop()}},S,this)})),function(S){return p.apply(this,arguments)})},{key:"selectSourceAsync",value:(c=s(E().mark(function S(v){var b;return E().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,this.getCapabilitiesAsync(v);case 2:if(!(b=C.sent)&&b!=""){C.next=5;break}return C.abrupt("return",!0);case 5:case"end":return C.stop()}},S,this)})),function(S){return c.apply(this,arguments)})},{key:"versionInfo",value:(l=s(E().mark(function S(){var v,b;return E().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return v={id:this.clientId,cmdId:m.guid(),method:"VersionInfo",version:Wu},C.next=3,this._requestAsync(v,5e3);case 3:return b=C.sent,this._bInited=!0,C.abrupt("return",b);case 6:case"end":return C.stop()}},S,this)})),function(){return l.apply(this,arguments)})},{key:"getLicenseInfo",value:function(S,v,b){return this._resetLicense(S,v,b)}},{key:"getImageAsArrayBuffer",value:(d=s(E().mark(function S(v,b){return E().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",VE(z_,this,YB).call(this,v,b));case 1:case"end":return C.stop()}},S,this)})),function(S,v){return d.apply(this,arguments)})},{key:"getImageToDWT",value:(u=s(E().mark(function S(v,b,C){return E().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.abrupt("return",VE(z_,this,YB).call(this,v,b,C));case 1:case"end":return D.stop()}},S,this)})),function(S,v,b){return u.apply(this,arguments)})},{key:"acquireImage",value:(o=s(E().mark(function S(v,b,C){var D,M,j,Y,ee,te,de;return E().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:v=v??this._currentDevice,this.checkSource(v),this._currentDevice=v,D=QB(v.deviceType),M=["scan",m.stringify({UUID:v.serviceInfo.attrs.UUID,service_type:D})],j=VE(z_,this,nce).call(this,b),M[2]=m.stringify(j),Y={id:this.clientId,cmdId:m.guid(),method:"SendRequestToScanner",parameter:M,version:Wu},ee=0;case 9:if(!(ee<5)){Z.next=32;break}return Z.prev=10,Z.next=13,this._requestAsync(Y,0);case 13:return de=Z.sent,te=this.parseResultDefault(de),m.isObject(te)&&(te.device=v,te.scanOptions=j),Z.abrupt("break",32);case 19:if(Z.prev=19,Z.t0=Z.catch(10),Z.t0.code!=-1004&&Z.t0.code!=-1001){Z.next=28;break}if(!(ee>=4)){Z.next=24;break}throw Z.t0;case 24:return Z.next=26,new Q.Promise(function(ne,X){setTimeout(ne,2e3)});case 26:Z.next=29;break;case 28:throw Z.t0;case 29:ee++,Z.next=9;break;case 32:return Z.abrupt("return",te);case 33:case"end":return Z.stop()}},S,this,[[10,19]])})),function(S,v,b){return o.apply(this,arguments)})},{key:"_resetLicense",value:(i=s(E().mark(function S(v,b,C){var D,M,j,Y;return E().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:return this.longKeyOrShortkey=v,this.cu=b,ice(),D=b??"",M={id:this.clientId,cmdId:m.guid(),method:"GetLicenseInfo",parameter:[v,r.logLevel,D,C],version:Wu},ee.prev=5,ee.next=8,this._requestAsync(M,1e4);case 8:return j=ee.sent,this._bInited=!0,ee.abrupt("return",this.parseResultDefault(j));case 13:if(ee.prev=13,ee.t0=ee.catch(5),!this.bLocal){ee.next=19;break}throw od(Y={}),{code:Y._errorCode,message:Y._errorString};case 19:throw IR();case 20:case"end":return ee.stop()}},S,this,[[5,13]])})),function(S,v,b){return i.apply(this,arguments)})}]);var i,o,u,d,l,c,p,g}(ece);function YB(t,r,i){return JB.apply(this,arguments)}function JB(){return(JB=s(E().mark(function t(r,i,o){var u,d,l,c,p;return E().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(r!=null&&r.device){g.next=2;break}throw{code:-1011,message:"Operation out of expected sequence"};case 2:return o=o??{ver:"",clientId:""},(u=["getImage",m.stringify({UUID:r.device.serviceInfo.attrs.UUID,service_type:i})])[2]=m.stringify(r.scanOptions),u[3]=r.scanJobs,u[4]=r.scanId,u[5]=o._clientId,u[6]=o._ver,d={id:this.clientId,cmdId:m.guid(),method:"SendRequestToScanner",parameter:u,version:Wu},g.next=12,this._requestAsync(d,0,!0);case 12:if(l=g.sent,!(l.headers.get("content-type").indexOf("image/")>=0)){g.next=20;break}return g.next=17,l.arrayBuffer();case 17:return g.abrupt("return",g.sent);case 20:return g.next=22,l.json();case 22:if(c=g.sent,typeof(p=this.parseResultDefault(c))!="boolean"){g.next=28;break}return g.abrupt("return",null);case 28:return g.abrupt("return",p);case 29:case"end":return g.stop()}},t,this)}))).apply(this,arguments)}function nce(t){var r=[];if(t){m.isNumber(t.PixelType)&&(r.push({capability:_u.ICAP_PIXELTYPE,curValue:t.PixelType}),V.DWT.EnumDWT_PixelType.TWPT_BW==t.PixelType&&(r.push({capability:32771,curValue:"application/octet-stream"}),r.push({capability:32772,curValue:"application/octet-stream"})));var i=t.Resolution;i||(i=300),r.push({capability:_u.ICAP_XRESOLUTION,curValue:i}),r.push({capability:_u.ICAP_YRESOLUTION,curValue:i}),t.Brightness!==void 0&&r.push({capability:_u.ICAP_BRIGHTNESS,curValue:t.Brightness}),t.XferCount!==void 0&&r.push({capability:_u.CAP_XFERCOUNT,curValue:t.XferCount}),t.Contrast!==void 0&&r.push({capability:_u.ICAP_CONTRAST,curValue:t.Contrast}),t.TransferMode!==void 0&&r.push({capability:_u.ICAP_XFERMECH,curValue:t.TransferMode}),t.IfFeederEnabled!==void 0&&r.push({capability:_u.CAP_FEEDERENABLED,curValue:t.IfFeederEnabled?1:0}),t.IfDuplexEnabled!==void 0&&r.push({capability:_u.CAP_DUPLEXENABLED,curValue:t.IfDuplexEnabled?1:0})}return r}function ice(){var t=K_.logLevel;m.isNumber(t)||(K_.logLevel=-1)}Q.removeNonPrintableChar;var qB=function(t,r,i){i==2&&m.each(r,function(o,u){br(t,o,{get:function(){return t._resetErr(),t._isValid()?st:Fe},set:function(d){return t._resetErr(),t._isValid()?st:Fe}})})},XB=function(t,r){m.each(r,function(i,o){Pd(t,i,1,2)})},ZB=function(t,r){m.each(r,function(i,o){Pd(t,i,1,1)})},$B=function(t,r){m.each(r,function(i,o){Pd(t,i,0)})},eU=function(t,r){m.each(r,function(i,o){Pd(t,i,1)})};function oce(t){var r=t;r._bRemoteMode||(br(r,"ProductKey",{get:function(){return V.DWT.ProductKey},set:function(i){return m.isString(i)?(r._resetErr(),!!r._isValid()&&r._setProductKey(i,!1)):(ki(r),Fe)}}),br(r,"ProductName",{get:function(){return r.__strProductName}}),br(r,"VersionInfo",{get:function(){return xl.JSVersion}}),br(r,"DefaultSourceName",{get:function(){var i=r._getDefaultDevice();return i?i.displayName:""}}),br(r,"ImageCaptureDriverType",{get:function(){return r._resetErr(),r._isValid()?r._driverType:0},set:function(i){var o=!1,u=!1,d=!1;if(r._bRemoteMode?r.__serverPlatform==Kt.enumWindow?d=!0:r.__serverPlatform==Kt.enumLinux?u=!0:r.__serverPlatform==Kt.enumMac&&(o=!0):(o=he.bMac,u=he.bLinux,d=he.bWin),r._resetErr(),!r._isValid())return!1;if(i!==""){var l=1*i,c=!1;if(l<Tr.TWAIN||l>Tr.TWAIN64)return ey(r),Fe;if(d){if(l===Tr.TWAIN_AND_TWAIN64)r._b64bit&&(r._driverType=l);else if(l!=Tr.TWAIN&&l!=Tr.TWAIN64)return ey(r),Fe;r._b64bit||(l=Tr.TWAIN),r._driverType=l,c=!0}else if(u)l=Tr.SANE,r._driverType=l,c=!0;else if(o){if(l!==Tr.TWAIN_AND_ICA){if(l!=Tr.ICA&&l!=Tr.TWAIN&&l!=Tr.TWAIN64)return ey(r),Fe}r._driverType=l,c=!0}return c&&(r._curDevice=null,r.__devices=null),!0}return ey(r),Fe}}),br(r,"HTTPPostResponseString",{get:function(){return r._resetErr(),r._isValid()&&r.__HTTPPostResponseString?r.__HTTPPostResponseString:""}}),br(r,"IfAppendImage",{get:function(){return r._resetErr(),!!r._isValid()&&r.__IfAppendImage},set:function(i){return r._resetErr(),!!r._isValid()&&(m.isBoolean(i)?r.__IfAppendImage=i:(ki(r),Fe))}}),br(r,"FTPPort",{get:function(){return r._resetErr(),r._isValid()?r._innerFun("FTPPort"):0},set:function(i){if(r._resetErr(),!r._isValid())return!1;if(i!==""){var o=1*i;return r._innerFun("FTPPort",Ge(o))}}}),br(r,"JPEGQuality",{get:function(){return r._resetErr(),r._isValid()?r._innerFun("JPEGQuality"):0},set:function(i){var o=1*i;return o>=100?o=100:o<0&&(o=0),r._resetErr(),!!r._isValid()&&r._innerFun("JPEGQuality",Ge(o))}}),Pd(r,"TIFFCompressionType",1,1),Pd(r,"BufferMemoryLimit",1,1),br(r,"LogLevel",{get:function(){return r._resetErr(),r._isValid()?r._innerFun("LogLevel"):0},set:function(i){if(r._resetErr(),!r._isValid())return!1;var o=1*i;return r._logLevel=o,K_.logLevel=r._logLevel,r._innerFun("LogLevel",Ge(o))}}),br(r,"HttpContentTypeFieldValue",{get:function(){return r._resetErr(),r._isValid()?r._strHttpContentTypeFieldValue:""},set:function(i){return r._resetErr(),!!r._isValid()&&(r._strHttpContentTypeFieldValue=i,i)}}),br(r,"BrokerProcessType",{get:function(){return r._resetErr(),r._isValid()?1:0},set:function(i){return r._resetErr(),!!r._isValid()}}),br(r,"BorderStyle",{get:function(){return r._resetErr(),!!r._isValid()&&0},set:function(i){return r._resetErr(),r._isValid(),!1}}),br(r,"HttpFieldNameOfUploadedImage",{get:function(){return r._resetErr(),r._isValid()?r.__remoteFilename:""},set:function(i){return r._resetErr(),r._isValid()?r.__remoteFilename=i:""}}),br(r,"style",{get:function(){return r._isValid()?r.__style:""}}),br(r,"ScaleDownThreshold",{get:function(){return r._resetErr(),r._isValid()?r._scaleDownThreshold:0},set:function(i){var o=1*i;return!m.isNumber(o)||isNaN(o)?(ki(self),Fe):(r._resetErr(),!!r._isValid()&&(r._scaleDownThreshold=i))}}),br(r,"CurrentImageIndexInBuffer",{get:function(){return r._isValid()&&r._ImgManager?r._ImgManager.getCurrentImageIndex():0},set:function(i){var o=1*i;return r._resetErr(),!!r._isValid()&&(o>=0&&o<r._ImgManager.count()&&(r._ImgManager.setSelectedClientIndexArray([o]),r._isBindViewer()&&Zu.__innerRefreshFromUIView(r,r._ImgManager.getCurrentImageIndex())),!0)}}),br(r,"SelectedImagesIndices",{get:function(){return r._resetErr(),r._isValid()?r._ImgManager.count()<=0?[]:r._ImgManager.getSelectedClientIndexArray():[]}}),br(r,"MaxImagesInBuffer",{get:function(){return r._resetErr(),r._isValid()?r.__maxImagesInBuffer:0},set:function(i){var o=1*i;return r._resetErr(),!!r._isValid()&&(o>0&&o<32768?r.__maxImagesInBuffer=o:Me(r,-1010,"Data parameter out of supported range."),r.__maxImagesInBuffer)}}),br(r,"IfSSL",{get:function(){return r._bSSL},set:function(i){return r._bSSL=i,r._innerFun("IfSSL",Ge(i)),!0}}),Pd(r,"IfAllowLocalCache",1,2),br(r,"UseLocalService",{get:function(){return!0}}),br(r,"PDFCompressionType",{get:function(){return r._resetErr(),!!r._isValid()&&r._innerFun("PDFCompressionType")},set:function(i){var o=1*i;return o==V.DWT.EnumDWT_PDFCompressionType.PDF_FAX3&&(o=V.DWT.EnumDWT_PDFCompressionType.PDF_FAX4),r._resetErr(),!!r._isValid()&&r._innerFun("PDFCompressionType",Ge(o))}}),r._setProductKey=function(i,o,u,d){var l=!0,c=i,p=function(S){S||(r.__licenseInfo=void 0);var v=!0;return d||(v=It.checkProductKey(r,{Core:!0})),m.isFunction(u)&&u(),v};if(r._resetErr(),!r._isValid())return!1;if(Ne.bUseDynamsoftLicenseManager||r._blts)return AC(r),!1;if(c=m.isString(c)?m.trim(c):"",V.DWT.ProductKey=c,c=="")l=!1,p();else{It.reparseProductKey();var g=V.DWT.licenseException;if(g.code!=0)return r.__licenseInfo=void 0,r._errorCode=g.code,r._errorString=g.message,m.isFunction(u)&&u(),!1;r._innerFunRaw("ProductKey",Ge(c),o,!1,!1,function(S){var v=!1;v=m.isArray(S)?S[0]:S,m.isArray(S)&&S.length>=3&&S[1]==="1"&&m.isFunction(V.DWT.ShowMessage)&&V.DWT.ShowMessage(S[2],{width:510,height:272,headerStyle:1,seconds:10}),o||(l=v),r.__licenseInfo=void 0,r.GetLicenseInfo(function(){r._setConvertMode(r._pdfConvertMode),p(!0)},p)},function(){o||(l=!1),p()})}return l},eU(r,["ProxyServer"]),eU(r,["CapValueString","CapDescription","FTPPassword","FTPUserName","PDFAuthor","PDFCreationDate","PDFCreator","PDFKeywords","PDFModifiedDate","PDFProducer","PDFSubject","PDFTitle","PDFVersion"]),$B(r,["Manufacturer","ProductFamily","ImageBitsPerPixel","ImageLength","ImageWidth","ImageXResolution","ImageYResolution"]),$B(r,["BlankImageCurrentStdDev","CapDefaultIndex","CapDefaultValue","DataSourceStatus","Duplex","PendingXfers","ImageLayoutDocumentNumber","ImageLayoutFrameBottom","ImageLayoutFrameLeft","ImageLayoutFrameNumber","ImageLayoutFrameRight","ImageLayoutFrameTop","ImageLayoutPageNumber","ImagePixelType","MagData","MagType","IfFeederLoaded","IfPaperDetectable","IfUIControllable"]),XB(r,["AllowPluginAuthentication","IfModalUI","IfScanInNewThread","_AutoCropMethod","IfSortBySelectionOrder"]),XB(r,["IfDisableSourceAfterAcquire","IfDuplexEnabled","IfFeederEnabled","IfPASVMode","IfAutoBright","IfAutoDiscardBlankpages","IfAutoFeed","IfAutomaticBorderDetection","IfAutomaticDeskew","IfAutoScan","IfShowIndicator","IfUseTwainDSM","IfTiffMultiPage"]),ZB(r,["MaxInternetTransferThreads"]),ZB(r,["BlankImageMaxStdDev","BlankImageThreshold","BitDepth","Brightness","PageSize","PixelType","Resolution","Capability","CapCurrentIndex","CapCurrentValue","CapMaxValue","CapMinValue","CapNumItems","CapStepSize","CapType","CapValue","CapValueType","Contrast","PixelFlavor","TransferMode","Unit","XferCount"]),qB(r,["AsyncMode","EnableInteractiveZoom","IfThrowException","ImageEditorIfEnableEnumerator","ImageEditorIfReadonly","ImageEditorIfModal","ImageEditorWindowTitle","IfShowPrintUI","VScrollBar"],2),qB(r,["IfOpenImageWithGDIPlus"]))}Q.DynamicLoadAddonFuns=[],Q.attachAddon=function(t){var r=!1;return m.each(Q.DynamicLoadAddonFuns,function(i){m.isFunction(i)&&(i(t),r=!0)}),!vn.bFullEdition&&t.__addon&&delete t.__addon.Camera,r};var tU=y(function t(r,i,o){h(this,t),this.Url=r,this.Width=i,this.Height=o}),ace=function(){return y(function r(i){h(this,r),this._stwain=i,this._ImgManager=i._ImgManager},[{key:"Print",value:function(){var r=this;if(r.count()<=0)return!1;var i,o=[];for(i=0;i<r.count();i++)o.push(i);return r.PrintEx(o)}},{key:"PrintCurrentImage",value:function(){var r,i,o,u=this;if(!((r=u._ImgManager.getCurrentImageIndex())<0))return(o=u._ImgManager.convertClientIndexToServerId(r))==-1?(nt(u),!1):(i=Fr.getImageUrl(u._ImgManager.getBaseUrl,o,-1,-1),u.__PrintInner(i,o,r))}},{key:"PrintEx",value:function(r){var i=this;if(!(i.count()<=0)){var o=[];return V.DWT.ConnectWithSocket?i.__GetPrintUrlforSocket(r,o):i.__GetPrintUrlforHttp(r,o),!0}}},{key:"__PrintInner",value:function(r,i,o){var u=this,d=u._ImgManager.getImageIdMap(i),l=[];if(!d)return!1;var c=m.clone(d),p=c.width;(m.isUndefined(c.width)||c.width<=0)&&(c.width=u.getImageWidthFromServer(o));var g=c.height;(m.isUndefined(c.height)||c.height<=0)&&(c.height=u.getImageHeightFromServer(o));var S=new tU(r,c.width,c.height);return l.push(S),c.width=p,c.height=g,Fr.print(l),!0}},{key:"__GetPrintUrl",value:function(r,i,o){var u,d,l=this,c=0,p=0;return(u=l._ImgManager.getImageIdMap(i))&&(!u.width||u.width<=0?u.width=l.getImageWidthFromServer(o):c=u.width,!u.height||u.height<=0?u.height=l.getImageHeightFromServer(o):p=u.height,d=new tU(r,u.width,u.height),u.width=c,u.height=p),d}},{key:"__GetPrintUrlforHttp",value:(t=s(E().mark(function r(i,o){var u,d,l,c,p,g,S,v,b,C;return E().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:u=this,d=0;case 2:if(!(d<i.length)){D.next=23;break}if(l=i[d],(c=u._ImgManager.convertClientIndexToServerId(l))==-1){D.next=20;break}if(p=void 0,!(V.navInfoSync.bMac&&V.navInfoSync.bSafari||V.navInfoSync.bFirefox||V.navInfoSync.bChrome)){D.next=17;break}if(!(g=u._stwain._ImgManager.getImageIdMap(c))){D.next=17;break}if(!(S=g.uuid)||S==-1){D.next=17;break}return D.next=14,u._stwain.Viewer.webViewer.myDvs.getImageData(S,{type:"blob"});case 14:v=D.sent,b=window.URL||window.webkitURL,p=b.createObjectURL(v);case 17:p||(p=Fr.getImageUrl(u._ImgManager.getBaseUrl,c,-1,-1)),C=u.__GetPrintUrl(p,c,l),o.push(C);case 20:d++,D.next=2;break;case 23:Fr.print(o);case 24:case"end":return D.stop()}},r,this)})),function(r,i){return t.apply(this,arguments)})},{key:"__GetPrintUrlforSocket",value:function(r,i){var o,u=this,d=Pe.Promise.resolve(0),l=0;return m.each(r,function(c){d=d.then(function(){var p=u._ImgManager.convertClientIndexToServerId(c);p!=-1&&u._ImgManager.getImageData(c).then(function(g){if(l++,!g){var S={};return nr(S),void qr(S._errorString)}o=Uu(g.oriData)?URL.createObjectURL(new Blob([g.oriData])):g.oriData instanceof Blob?URL.createObjectURL(g.oriData):g.oriData;var v=u.__GetPrintUrl(o,p,c);i.push(v),r.length==l&&Fr.print(i)})})}),!0}},{key:"__GetPrintUrlforMobileEx",value:function(r,i){var o,u=this,d=Pe.Promise.resolve(0),l=0;return m.each(r,function(c){d=d.then(function(){var p=u._ImgManager.convertClientIndexToServerId(c);p!=-1&&u._ImgManager.getImageData(c).then(function(g){if(l++,!g){var S={};return nr(S),void qr(S._errorString)}o=Uu(g.oriData)?URL.createObjectURL(new Blob([g.oriData])):g.oriData instanceof Blob?URL.createObjectURL(g.oriData):g.oriData;var v=u.__GetPrintUrl(o,p,c);i.push(v),r.length==l&&Fr.print(i)})})}),!0}},{key:"count",value:function(){return this._ImgManager.count()}},{key:"getImageHeightFromServer",value:function(r){var i,o,u,d=this,l=1*r;return i=d.count(),l<0||l>i?0:(u=d._ImgManager.convertClientIndexToServerId(l),(o=d._ImgManager.getImageIdMap(u))&&o.imageHeight?o.imageHeight:d._stwain.GetImageHeight(l))}},{key:"getImageWidthFromServer",value:function(r){var i,o,u,d=this,l=1*r;return i=d.count(),l<0||l>i?0:(u=d._ImgManager.convertClientIndexToServerId(l),(o=d._ImgManager.getImageIdMap(u))&&o.imageWidth?o.imageWidth:d._stwain.GetImageWidth(l))}},{key:"dispose",value:function(){this._stwain=null,this._ImgManager=null}}]);var t}();function sce(t,r){(function(i,o){if(o.has(i))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,r),r.add(t)}function bi(t,r,i){if(typeof t=="function"?t===r:t.has(r))return arguments.length<3?r:i;throw new TypeError("Private element is not present on this object")}Q.detect.viewerScriptLoaded=st;var li=new WeakSet,rU=function(t){function r(l){var c,p,g;return h(this,r),sce(c=f(this,r,[l]),li),c._ImgManager=new EB(c,c._imageBufferWrapper),c._imageBufferWrapper=c._ImgManager,c._ImagePrint=new ace(c),p=l||{},c._config=p,c._destroying=Fe,c._iServiceType=kE.TwainService,c.__addon={},c._bNoMask=Fe,c._bNotShowMessage=Fe,c._bSelectedSourceByServer=Fe,c._bKeepAwake=Fe,c._bAx=Fe,p.container&&(c._containerElement=p.container),c.__IfShowCancelDialogWhenImageTransfer=st,c._errorCode=0,c._errorString="",c.__bLoadingImage=Fe,c.__bAcquireImageNow=Fe,c.__bOpenFileNow=Fe,c.__defaultSourceName="",c.__sourceCount=0,c._bConnecting=Fe,c.__licenseInfo=void 0,c.__strProductName=V.DWT.ProductName,c.__productKey="",c._moduleSize=1048576,c._driverType=Tr.TWAIN,c.__maxUploadImageSize=-1,c._bServerPercentDone=st,c._bSSL=In(),c._bRegistedLoad=!1,c._logLevel=0,c._scaleDownThreshold=0,c._pdfWriteSetting={},c.__serverPlatform=Kt.enumUnknown,c._reconnectTimeSpan=vn.LocaleReconnectTimeSpan,c._bRemoteMode||(c.httpFormFields={},c.HTTPPassword="",c.HTTPPort=In()?443:80,c.HTTPUserName="",c.__HTTPPostResponseString="",c.__remoteFilename="RemoteFile",c.__httpHeaderMap=Fe,c._b64bit?c._segementUploadThreshold=4294967296:c._segementUploadThreshold=524288e3,c._aryTiffTag=[],c._tiffCompressionType=V.DWT.EnumDWT_TIFFCompressionType.TIFF_AUTO,c._jpgQuality=80,c._pdfConvertMode=3,c._pdfOptions={convertMode:zr.CM_AUTO,password:"",renderOptions:{renderAnnotations:!1,resolution:200,maxWidth:0,maxHeight:0,renderGrayscale:!1},preserveUnmodifiedOnSave:!1}),oce(c),br(g=c,"Width",{get:function(){return g._resetErr(),g._isValid()?g._isNoViewer()?(g._nouiNotSupport("Width"),""):g._UIView.GetWidth():""},set:function(S){return g._resetErr(),!!g._isValid()&&(g._isNoViewer()?g._nouiNotSupport("Width"):!!g._UIView.SetWidth(S)&&(g._width=S,!0))}}),br(g,"Height",{get:function(){return g._resetErr(),g._isValid()?g._isNoViewer()?(g._nouiNotSupport("Height"),""):g._UIView.GetHeight():""},set:function(S){return g._resetErr(),!!g._isValid()&&(g._isNoViewer()?g._nouiNotSupport("Height"):!!g._UIView.SetHeight(S)&&(g._height=S,!0))}}),br(g,"AllowMultiSelect",{get:function(){return g._resetErr(),g._isValid()?g._isNoViewer()?g._nouiNotSupport("AllowMultiSelect"):g._UIView.GetAllowMultiSelect():""},set:function(S){return g._resetErr(),!!g._isValid()&&(g._isNoViewer()?g._nouiNotSupport("AllowMultiSelect"):void g._UIView.SetAllowMultiSelect(S))}}),br(g,"BackgroundColor",{get:function(){return g._resetErr(),g._isValid()?g._isNoViewer()?(g._nouiNotSupport("BackgroundColor"),""):g._UIView.GetBackgroundColor():""},set:function(S){return g._resetErr(),!!g._isValid()&&(g._isNoViewer()?g._nouiNotSupport("BackgroundColor"):g._UIView.SetBackgroundColor(S))}}),br(g,"BackgroundFillColor",{get:function(){if(g._resetErr(),!g._isValid())return"";if(g._isNoViewer())return g._nouiNotSupport("BackgroundFillColor"),"";var S=g._innerFun("BackgroundFillColor");return za.BGR2RGB(S)},set:function(S){if(g._resetErr(),!g._isValid())return!1;if(g._isNoViewer())return g._nouiNotSupport("BackgroundFillColor");var v,b=1*S;return!m.isNumber(b)||m.isNaN(b)?(ki(g),Fe):(v=za.RGB2BGR(b),g._innerFun("BackgroundFillColor",Ge(v)))}}),br(g,"FitWindowType",{get:function(){return g._resetErr(),!!g._isValid()&&(g._isNoViewer()?(g._nouiNotSupport("FitWindowType"),0):g._UIView.GetFitWindowType())},set:function(S){if(g._resetErr(),!g._isValid())return!1;if(g._isNoViewer())return g._nouiNotSupport("FitWindowType");var v=1*S;return g._UIView.SetFitWindowType(v)}}),br(g,"IfFitWindow",{get:function(){return g._resetErr(),!!g._isValid()&&(g._isNoViewer()?g._nouiNotSupport("IfFitWindow"):g._UIView.GetIfFitWindow())},set:function(S){return g._resetErr(),!!g._isValid()&&(g._isNoViewer()?g._nouiNotSupport("IfFitWindow"):S?g._UIView.SetIfFitWindow(!0):g._UIView.SetIfFitWindow(!1))}}),br(g,"ImageMargin",{get:function(){return g._resetErr(),g._isValid()?g._isNoViewer()?(g._nouiNotSupport("ImageMargin"),0):g._UIView.GetImageMargin():0},set:function(S){if(g._resetErr(),!g._isValid())return!1;if(g._isNoViewer())return g._nouiNotSupport("ImageMargin");var v=parseInt(S);return!isNaN(v)&&g._UIView.SetImageMargin(v)}}),br(g,"MouseX",{get:function(){return g._resetErr(),g._isValid()?g._isNoViewer()?(g._nouiNotSupport("MouseX"),0):g.__MouseX:0}}),br(g,"MouseY",{get:function(){return g._resetErr(),g._isValid()?g._isNoViewer()?(g._nouiNotSupport("MouseY"),0):g.__MouseY:0}}),br(g,"SelectionImageBorderColor",{get:function(){return g._resetErr(),g._isValid()?g._isNoViewer()?(g._nouiNotSupport("SelectionImageBorderColor"),""):g._UIView.GetSelectionImageBorderColor():""},set:function(S){return g._resetErr(),!!g._isValid()&&(g._isNoViewer()?g._nouiNotSupport("SelectionImageBorderColor"):g._UIView.SetSelectionImageBorderColor(S))}}),br(g,"Zoom",{get:function(){return g._resetErr(),g._isValid()?g._isNoViewer()?(g._nouiNotSupport("Zoom"),0):g._UIView.GetZoom():0},set:function(S){return g._resetErr(),!!g._isValid()&&(g._isNoViewer()?g._nouiNotSupport("Zoom"):g._UIView.SetZoom(S))}}),br(g,"MouseShape",{get:function(){return g._resetErr(),!!g._isValid()&&(g._isNoViewer()?g._nouiNotSupport("MouseShape"):g._UIView.GetMouseShape())},set:function(S){return g._resetErr(),!!g._isValid()&&(g._isNoViewer()?g._nouiNotSupport("MouseShape"):g._UIView.SetMouseShape(S))}}),br(g,"SelectionRectAspectRatio",{get:function(){return g._resetErr(),g._isValid()?g._isNoViewer()?(g._nouiNotSupport("SelectionRectAspectRatio"),0):g._UIView.GetSelectionRectAspectRatio():0},set:function(S){if(g._resetErr(),!g._isValid())return!1;if(g._isNoViewer())return g._nouiNotSupport("SelectionRectAspectRatio");var v=parseFloat(S);return v>=0&&(g._UIView.SetSelectionRectAspectRatio(v),!0)}}),br(g,"ShowPageNumber",{get:function(){return g._resetErr(),!!g._isValid()&&(g._isNoViewer()?g._nouiNotSupport("ShowPageNumber"):g._UIView.GetShowPageNumber())},set:function(S){return g._resetErr(),!!g._isValid()&&(g._isNoViewer()?g._nouiNotSupport("ShowPageNumber"):g._UIView.SetShowPageNumber(S))}}),br(g,"IfAutoScroll",{get:function(){return g._resetErr(),!!g._isValid()&&(g._isNoViewer()?g._nouiNotSupport("IfAutoScroll"):g._UIView.GetIfAutoScroll())},set:function(S){return g._resetErr(),!!g._isValid()&&(g._isNoViewer()?g._nouiNotSupport("IfAutoScroll"):g._UIView.SetIfAutoScroll(S))}}),c._innerInitEvents(p),c}return P(r,t),y(r,[{key:"dispose",value:(d=s(E().mark(function l(){return E().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",this.__unload());case 1:case"end":return c.stop()}},l,this)})),function(){return d.apply(this,arguments)})},{key:"__unload",value:(u=s(E().mark(function l(){var c;return E().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return(c=this)._ImagePrint&&c._ImagePrint.dispose(),p.next=4,x(A(r.prototype),"__unload",this).call(this);case 4:c._ImagePrint=null,c.__OnTopImageInTheViewChanged=null,c.__CloseImageEditorUI=null,c._config=null;case 8:case"end":return p.stop()}},l,this)})),function(){return u.apply(this,arguments)})},{key:"GetImageDataAsync",value:function(l){return this._ImgManager.getImageData(l)}},{key:"SetCustomDataAsync",value:function(l,c){return this._ImgManager.setCustomData(l,c)}},{key:"style",get:function(){return this.__style}},{key:"GetSourceNamesAsync",value:(o=s(E().mark(function l(c){var p;return E().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if((p=this)._resetErr(),p._isValid()){g.next=4;break}throw{code:p._errorCode,message:p._errorString};case 4:return On("GetSourceNamesAsync",p),g.prev=5,g.next=8,p._getSourceCountAsync(p._driverType);case 8:g.next=13;break;case 10:throw g.prev=10,g.t0=g.catch(5),g.t0;case 13:return g.prev=13,un("GetSourceNamesAsync"),g.finish(13);case 16:if(!c){g.next=20;break}return g.abrupt("return",bi(li,p,nU).call(p));case 20:return g.abrupt("return",bi(li,p,iU).call(p));case 21:case"end":return g.stop()}},l,this,[[5,10,13,16]])})),function(l){return o.apply(this,arguments)})},{key:"SelectSourceAsync",value:function(l){var c;return c=Si.dialogText.selectSource,this._selectSourceAsync("SelectSourceAsync",l,c)}},{key:"SelectSourceByIndexAsync",value:function(l){return this._selectSourceByIndexAsync("SelectSourceByIndex",l)}},{key:"OpenSourceAsync",value:function(){return this._openSourceAsync("OpenSourceAsync")}},{key:"CloseSourceAsync",value:function(){return this._closeSourceAsync("CloseSourceAsync")}},{key:"OpenSourceManagerAsync",value:function(){var l=this;return l._resetErr(),l._isValid()?l._innerFunV2("OpenSourceManager"):Q.Promise.reject({code:l._errorCode,message:l._errorString})}},{key:"CloseSourceManagerAsync",value:function(){var l=this;return l._resetErr(),l._isValid()?l._innerFunV2("CloseSourceManager"):Q.Promise.reject({code:l._errorCode,message:l._errorString})}},{key:"AcquireImage",value:function(l,c,p){var g,S=this,v=null,b=null;return S._resetErr(),!!S._isValid()&&(m.isUndefined(p)&&(m.isFunction(l)&&m.isFunction(c)||m.isFunction(l)&&m.isUndefined(c)||m.isFunction(l)&&c==null||l==null&&m.isFunction(c))?(g={},m.isFunction(l)&&(v=l),m.isFunction(c)&&(b=function(C){C&&C.code&&(S._errorCode=C.code,S._errorString=C.message),c(S._errorCode,S._errorString)})):(g=m.isUndefined(l)||l==null?{}:m.clone(l),m.isFunction(c)&&(v=function(){c(g)}),m.isFunction(p)&&(b=function(C){C&&C.code&&(S._errorCode=C.code,S._errorString=C.message),p(g,S._errorCode,S._errorString)})),v||(v=function(){}),b||(b=function(C){C&&C.code&&(S._errorCode=C.code,S._errorString=C.message)}),S.AcquireImageAsync(g).then(v,b),!No.isServerInvalid(S))}},{key:"GetDevicesAsync",value:function(l,c,p){return this._getDevicesAsync("GetDevicesAsync",l,c,p)}},{key:"SelectDeviceAsync",value:function(l,c){var p=this;return p._resetErr(),p._isValid()?this._selectDeviceAsync("SelectDeviceAsync",l,c):Q.Promise.reject({code:p._errorCode,message:p._errorString})}},{key:"AcquireImageAsync",value:function(l){return x(A(r.prototype),"_acquireImage",this).call(this,this._curDevice,l)}},{key:"ImageIDToIndex",value:function(l){return this._uidFromServer2index(l)}},{key:"IndexToImageID",value:function(l){return this._index2uidFromServer(l)}},{key:"RemoveImage",value:function(l){return this._removeImage("RemoveImage",l)}},{key:"_innerGetSourceNamesSync",value:function(l){var c=this;return c._getSourceCountSync(),l?bi(li,c,nU).call(c):bi(li,c,iU).call(c)}},{key:"getCapabilities",value:function(l,c,p){var g,S,v,b=this;return Q.isFunction(l)?(S=l,v=c):(g=l,S=c,v=p),!m.isUndefined(g)&&(!m.isArray(g)||m.isArray(g)&&g.indexOf(null)>=0||m.isString(g)&&g.trim().length==0)?(mr(b),void(m.isFunction(v)&&v(b._errorCode,b._getErrorString()))):this._dwtGetCapabilities(g,S,v)}},{key:"setCapabilities",value:function(l,c,p){return this._dwtSetCapabilities(l,c,p)}},{key:"CancelAllPendingTransfers",value:function(){return this._resetErr(),!!this._isValid()&&this._innerFun("CancelAllPendingTransfers")}},{key:"CloseSource",value:function(){var l=this;if(l._resetErr(),!l._isValid())return!1;var c=l._innerFun("CloseSource");return c&&(l._curDevice=null),c}},{key:"CloseSourceManager",value:function(){var l=this;return l._resetErr(),!!l._isValid()&&l._innerFun("CloseSourceManager")}},{key:"SelectDevice",value:function(l,c){var p,g=this;if(l&&l.deviceType,g._resetErr(),V.DWT.ConnectWithSocket)return Me(g,-2400,"SelectDevice doesn't work under current settings."),!1;var S,v=(p=this._dmService.attrs)===null||p===void 0?void 0:p.UUID;if(v&&((S=l.serviceInfo.attrs)===null||S===void 0?void 0:S.UUID)!=v){var b,C=((b=l.serviceInfo.attrs)===null||b===void 0?void 0:b.url)||l.serviceInfo.server;if(!(C&&C.indexOf(v)>-1))return ER(g),!1}var D=!1;try{(D=bi(li,this,uce).call(this,l.strDevice,c))&&(this._curDevice=l,this._bSelectedSourceByServer=!1)}catch(M){D=!1,this._errorCode=er.CommonError,M&&M.message&&(this._errorString=M.message)}return D}},{key:"DisableSource",value:function(){var l=this;return l._resetErr(),!!l._isValid()&&l._innerFun("DisableSource")}},{key:"FeedPage",value:function(){var l=this;return l._resetErr(),!!l._isValid()&&l._innerFun("FeedPage")}},{key:"GetDeviceType",value:function(){var l=this;return l._resetErr(),!!l._isValid()&&l._innerFun("GetDeviceType")}},{key:"GetSourceNameItems",value:function(l){var c=this;return c._resetErr(),!!c._isValid()&&(c.__sourceCount<0&&(c.__sourceCount=0),l<c.__sourceCount&&l>=0?c._getSourceNameByIndex(l):"")}},{key:"SourceNameItems",value:function(l){var c=this;return c._resetErr(),!!c._isValid()&&c.GetSourceNameItems(l)}},{key:"GetSourceNames",value:function(l){return this._innerGetSourceNamesSync(l)}},{key:"getSourceCount",value:function(l){return this._getSourceCountAsync(l)}},{key:"GetSourceCountAsync",value:function(l){return this._getSourceCountAsync(l)}},{key:"GetSourceType",value:function(l){var c=this,p=parseInt(l);if(c._resetErr(),isNaN(p))return mr(c),!1;if(c.__devices==null&&c.GetSourceNames(!1),p>=c.__devices.length||p<0)return nt(c),!1;var g,S,v,b=c.__devices[p];return g=b.deviceType,S=Tr.TWAIN,(v=g&uY)==_t.TWAINSCANNER||v==_t.WIATWAINSCANNER||(v==_t.TWAINX64SCANNER?S=Tr.TWAIN64:v==_t.ICASCANNER?S=Tr.ICA:v==_t.SANESCANNER?S=Tr.SANE:(v&_t.TWAINX64SCANNER)==_t.TWAINX64SCANNER?(v&_t.TWAINSCANNER)!=_t.TWAINSCANNER&&(v&_t.WIATWAINSCANNER)!=_t.WIATWAINSCANNER||(S=Tr.TWAIN_AND_TWAIN64):(v&_t.ICASCANNER)==_t.ICASCANNER&&((v&_t.TWAINSCANNER)!=_t.TWAINSCANNER&&(v&_t.WIATWAINSCANNER)!=_t.WIATWAINSCANNER||(S=Tr.TWAIN_AND_ICA))),S}},{key:"OpenSource",value:function(){var l=this;return l._resetErr(),!!l._isValid()&&(l._bRemoteMode?(Me(l,-2610,"OpenSource is not supported when Object is created by CreateRemoteScanObjectAsync. Please use OpenSourceAsync instead."),!1):l._innerFun("OpenSource"))}},{key:"OpenSourceManager",value:function(){var l=this;return l._resetErr(),!!l._isValid()&&l._innerFun("OpenSourceManager")}},{key:"ResetImageLayout",value:function(){var l=this;return l._resetErr(),!!l._isValid()&&l._innerFun("ResetImageLayout")}},{key:"RewindPage",value:function(){var l=this;return l._resetErr(),!!l._isValid()&&l._innerFun("RewindPage")}},{key:"SelectSource",value:function(l,c){var p=this,g=!1;if(m.isFunction(l)&&(g=!0),p._resetErr(),!p._isValid())return!!g&&void 0;var S=Tr.TWAIN;if(!g){if(p._bRemoteMode)return Me(p,-2438,"SelectSource cannot be used synchronously when Object is created by CreateRemoteScanObjectAsync. Please use SelectSourceAsync instead."),!1;if(p._driverType==Tr.TWAIN_AND_TWAIN64)return function(Y){Me(Y,-2429,"The method SelectSource() must be invoked asynchronously (i.e. with callback functions) when ImageCaptureDriverType is set to TWAIN_AND_ICA or TWAIN_AND_TWAIN64.")}(p),!1;p._driverType!=Tr.ICA&&p._driverType!=Tr.SANE&&p._driverType!=Tr.TWAIN64||(S=p._driverType);var v=he.bMac,b=he.bLinux,C=by(S,he.bWin,b,v,he.bAndroid);return p._bSelectedSourceByServer=!0,p._curDevice=null,p._innerFun("SelectSource",Ge(C))}p._driverType!=Tr.ICA&&p._driverType!=Tr.SANE&&p._driverType!=Tr.TWAIN64&&p._driverType!=Tr.TWAIN_AND_TWAIN64||(S=p._driverType);var D=he.bMac,M=he.bLinux,j=by(S,he.bWin,M,D,he.bAndroid);p.SelectSourceAsync(j).then(function(){m.isFunction(l)&&l()},function(Y){Y&&Y.code&&(p._errorCode=Y.code,p._errorString=Y.message),m.isFunction(c)&&c(p._errorCode,p._getErrorString())})}},{key:"GetSourceTypeAsync",value:function(l){var c=this,p=1*l;return c._resetErr(),c._isValid()?Q.Promise.resolve(c.GetSourceType(p)):Q.Promise.reject({code:c._errorCode,message:c._errorString})}},{key:"SetFileXferInfo",value:function(l,c){var p,g,S=this;return S._resetErr(),!!S._isValid()&&(p=he.bFileSystem?l.replace(/<%/g,"<%25"):l,g=Rt.replaceLocalFilename(p),S._innerFun("SetFileXferInfo",Ge(g,c)))}},{key:"SetImageLayout",value:function(l,c,p,g){var S=this;return S._resetErr(),!!S._isValid()&&S._innerFun("SetImageLayout",Ge(l,c,p,g))}},{key:"CapGet",value:function(){return this._resetErr(),!!this._isValid()&&this._innerFun("CapGet")}},{key:"CapGetCurrent",value:function(){return this._resetErr(),!!this._isValid()&&this._innerFun("CapGetCurrent")}},{key:"CapGetDefault",value:function(){return this._resetErr(),!!this._isValid()&&this._innerFun("CapGetDefault")}},{key:"CapGetFrameBottom",value:function(l){return this._resetErr(),!!this._isValid()&&this._innerFun("CapGetFrameBottom",Ge(l))}},{key:"CapGetFrameLeft",value:function(l){return this._resetErr(),!!this._isValid()&&this._innerFun("CapGetFrameLeft",Ge(l))}},{key:"CapGetFrameRight",value:function(l){return this._resetErr(),!!this._isValid()&&this._innerFun("CapGetFrameRight",Ge(l))}},{key:"CapGetFrameTop",value:function(l){return this._resetErr(),!!this._isValid()&&this._innerFun("CapGetFrameTop",Ge(l))}},{key:"CapGetHelp",value:function(){return this._resetErr(),!!this._isValid()&&this._innerFun("CapGetHelp")}},{key:"CapGetLabel",value:function(){return this._resetErr(),!!this._isValid()&&this._innerFun("CapGetLabel")}},{key:"CapGetLabels",value:function(){return this._resetErr(),!!this._isValid()&&this._innerFun("CapGetLabels")}},{key:"CapIfSupported",value:function(l){return this._resetErr(),!!this._isValid()&&this._innerFun("CapIfSupported",Ge(l))}},{key:"CapReset",value:function(){return this._resetErr(),!!this._isValid()&&this._innerFun("CapReset")}},{key:"CapSet",value:function(){return this._resetErr(),!!this._isValid()&&this._innerFun("CapSet")}},{key:"CapSetFrame",value:function(l,c,p,g,S){return this._resetErr(),!!this._isValid()&&this._innerFun("CapSetFrame",Ge(l,c,p,g,S))}},{key:"GetCapItems",value:function(l){return this._resetErr(),!!this._isValid()&&this._innerFun("GetCapItems",Ge(l))}},{key:"GetCapItemsString",value:function(l){return this._resetErr(),!!this._isValid()&&this._innerFun("GetCapItemsString",Ge(l))}},{key:"SetCapItems",value:function(l,c){return this._resetErr(),!!this._isValid()&&this._innerFun("SetCapItems",Ge(l,c))}},{key:"SetCapItemsString",value:function(l,c){return this._resetErr(),!!this._isValid()&&this._innerFun("SetCapItemsString",Ge(l,c))}},{key:"GenerateURLForUploadData",value:function(l,c,p,g,S){var v=this,b=[];if(c==V.DWT.EnumDWT_ImageType.IT_BMP||c==V.DWT.EnumDWT_ImageType.IT_JPG||c==V.DWT.EnumDWT_ImageType.IT_PNG){if(!m.isArray(l))return id(v),m.isFunction(g)&&g(v._errorCode,v._getErrorString(),"",l,c),"";if(l.length>1)return Sf(v),m.isFunction(g)&&g(v._errorCode,v._getErrorString(),"",l,c),"";if(!v._checkIndices(l))return g(v._errorCode,v._getErrorString(),"",l,c),!1;var C=v._ImgManager.convertClientIndexToServerId(l[0]);C!=-1&&b.push(C)}else{if(c!=V.DWT.EnumDWT_ImageType.IT_TIF&&c!=V.DWT.EnumDWT_ImageType.IT_PDF)return m.isArray(l)?go(v):id(v),m.isFunction(g)&&g(v._errorCode,v._getErrorString(),v.__HTTPPostResponseString,l,c),"";var D,M;if(m.isArray(l)){if(!v._checkIndices(l))return g(v._errorCode,v._getErrorString(),"",l,c),!1;D=l}else{if(l!=-1)return id(v),m.isFunction(g)&&g(v._errorCode,v._getErrorString(),v.__HTTPPostResponseString,l,c),"";for(D=[],M=0;M<v._ImgManager.count();M++)D.push(M)}m.each(D,function(j){var Y=v._ImgManager.convertClientIndexToServerId(j);Y!=-1&&b.push(Y)})}return m.isFunction(p)&&m.isFunction(g)?(v._asyncGenerateURLForUploadData(b,c,S,p,function(j){g(v._errorCode,v._getErrorString(),v.__HTTPPostResponseString,j,c)}),!0):this._syncGenerateURLForUploadData(b,c,S)}},{key:"_syncGenerateURLForUploadData",value:function(l,c,p){var g,S=this,v=!1,b=Zt.managerVersion.join(""),C=p,D=",";m.isString(C)&&C!=""||(C="",D="");var M=["[",'"dcp","dwasm_'+b,'",',c,',"',l.join(","),'"',D,C,"]"].join("");if((g=this._innerFunRaw("GenerateURLForUploadData",M,!1,!1,!0))&&m.isArray(g.result)&&g.result.length>1){var j=g.result[0],Y=g.result[1];j==1&&(v=["dcp://dwasm_",b,"/file/",Y].join(""))}return m.isArray(l)&&m.each(l,function(ee){S._ImgManager.convertServerIdToClientIndex(ee)}),v==0?(CC(S),""):v}},{key:"_asyncGenerateURLForUploadData",value:function(l,c,p,g,S){var v=this,b=c,C=function(){if(m.isFunction(S)){var te=[];m.isArray(l)&&m.each(l,function(de){var Z=v._ImgManager.convertServerIdToClientIndex(de);Z>-1&&te.push(Z)}),S(te)}return""},D=",";if(b==V.DWT.EnumDWT_ImageType.IT_BMP||b==V.DWT.EnumDWT_ImageType.IT_JPG||b==V.DWT.EnumDWT_ImageType.IT_PNG){if(l.length>1)return Sf(v),C(),""}else if(b!=V.DWT.EnumDWT_ImageType.IT_TIF&&b!=V.DWT.EnumDWT_ImageType.IT_PDF)return go(v),C(),"";var M=!1,j=Zt.managerVersion.join(""),Y=p;m.isString(Y)&&Y!=""||(Y="",D="");var ee=["[",'"dcp","dwasm_'+j,'",',b,',"',l.join(","),'"',D,Y,"]"].join("");return this._innerFunRaw("GenerateURLForUploadData",ee,!0,!1,!0,function(te){if(te&&m.isArray(te.result)&&te.result.length>0)if(te.result[0]==1&&te.result.length>1){var de=te.result[1];M=["dcp://dwasm_",j,"/file/",de].join("")}else te.exception!==void 0&&te.description!==void 0?(v._errorCode=te.exception,v._errorString=te.description):CC(v);else CC(v);if(M==0)return C(),"";if(m.isFunction(g)){var Z=[];m.isArray(l)&&m.each(l,function(ne){var X=v._ImgManager.convertServerIdToClientIndex(ne);X>-1&&Z.push(X)}),g(M,Z,c)}return M},C)}},{key:"SelectSourceByIndex",value:function(l){var c=this,p=parseInt(l);if(c._resetErr(),isNaN(p))return mr(c),!1;if(c.__devices==null&&c.GetSourceNames(!1),p>=c.__devices.length||p<0)return nt(c),!1;var g=c.__devices[p];return c.SelectDevice(g)}},{key:"EnableSource",value:function(l,c,p){var g=this;return g._resetErr(),!!g._isValid()&&g.AcquireImage(l,c,p)}},{key:"SourceCount",get:function(){return this._getSourceCountSync()}},{key:"CurrentSourceName",get:function(){return this._curDevice?this._curDevice.displayName:""}},{key:"checkStartScanParams",value:function(l,c){var p=this;if(!l)return Me(p,-2381,"scanSetup is invalid."),!1;if(!m.isUndefined(c.transferMode)&&l.transferMode!=0&&l.transferMode!=1&&l.transferMode!=2)return function(g){Me(g,-2382,"Scanner setup error: Invalid Transfer Mode.")}(p),!1;if(l.transferMode==V.DWT.EnumDWT_TransferMode.TWSX_FILE){if(!l.fileXfer)return function(g){Me(g,-2383,"Scanner setup error: fileXfer is invalid.")}(p),!1;if(!m.isString(l.fileXfer.fileName)||l.fileXfer.fileName=="")return function(g){Me(g,-2384,"Scanner setup error: Invalid fileName in fileXfer.")}(p),!1;if(!m.isNumber(l.fileXfer.fileFormat)||l.fileXfer.fileFormat<0||l.fileXfer.fileFormat>16)return function(g){Me(g,-2385,"Scanner setup error: Invalid fileFormat in fileXfer.")}(p),!1}if(c){if(!m.isString(c.type)||c.type=="")return function(g){Me(g,-2387,"Output setup error: Invalid type in outputSetup.")}(p),!1;if(!c.httpParams)return function(g){Me(g,-2386,"Output setup error: Invalid httpParams in outputSetup.")}(p),!1;if(l.transferMode!=V.DWT.EnumDWT_TransferMode.TWSX_FILE&&m.isUndefined(c.format))return function(g){Me(g,-2390,"Output setup error: Invalid format in outputSetup.")}(p),!1;if(!m.isString(c.httpParams.url)||c.httpParams.url=="")return function(g){Me(g,-2388,"Output setup error: Invalid url in outputSetup.httpParams.")}(p),!1;if(!m.isString(c.httpParams.fileName)||c.httpParams.fileName=="")return function(g){Me(g,-2389,"Output setup error: Invalid fileName in outputSetup.httpParams.")}(p),!1}return!0}},{key:"startScan",value:function(l){var c,p=this,g=l;if(p._resetErr(),!p._isValid())return!1;if(p._startScanFlag==1)return Me(c={},-2432,"Operation in progress, please try again when the current operation has finished."),Q.Promise.reject({code:c._errorCode,message:c._errorString});p._startScanFlag=!0,m.isObject(g)||(g={});var S,v,b,C=!1,D=!1,M=!0,j=!0,Y=!0,ee=!1,te=g.onFinally,de=[],Z=[],ne=0,X=1,F=[],B={type:"http",format:V.DWT.EnumDWT_ImageType.IT_PDF,reTries:3,useUploader:!1,singlePost:!0,showProgressBar:!0,removeAfterOutput:!0,httpParams:{url:"",headers:{},formFields:{},remoteName:"RemoteFile",fileName:""}},U=m.clone(g),K=g;if(b=U.funcScanStatus,delete U.funcScanStatus,m.isFunction(b)?U.bfuncScanStatus=!0:U.bfuncScanStatus=!1,U.outputSetup){var q={pdfSetup:{},tiffSetup:{}};oU(U.outputSetup,B),v=U.outputSetup,delete U.outputSetup,v.pdfSetup&&(v.format!=V.DWT.EnumDWT_ImageType.IT_MULTIPAGE_PDF&&v.format!=V.DWT.EnumDWT_ImageType.IT_PDF||m.mix(q.pdfSetup,v.pdfSetup)),v.tiffSetup&&(v.format!=V.DWT.EnumDWT_ImageType.IT_MULTIPAGE_TIF&&v.format!=V.DWT.EnumDWT_ImageType.IT_TIF||m.mix(q.tiffSetup,v.tiffSetup)),v.format!=V.DWT.EnumDWT_ImageType.IT_MULTIPAGE_PDF&&v.format!=V.DWT.EnumDWT_ImageType.IT_MULTIPAGE_TIF||(v.singlePost=!0),v.httpParams&&m.isNumber(v.httpParams.threads)&&(X=v.httpParams.threads),C=m.stringify(q),D=p.checkStartScanParams(U,v)}else(v=B).type="",D=p.checkStartScanParams(U,!1);if(!D)return new Q.Promise(function(ze,cr){M&&(cr({code:p._errorCode,message:p._getErrorString(),response:""}),M=!1,p._startScanFlag=!1)});v.funcHttpUploadStatus&&(ee=v.funcHttpUploadStatus);var re,oe,fe,ae,ue,ve,be=p.__remoteFilename,Ce=p.MaxUploadImageSize,je=p.IfShowProgressBar,Ye=p.__OnPostTransferAsync,He=p.__OnPostAllTransfers,St=p.__OnHttpUploadStatus,ct=p.__insertingIndex,gt=p.__IfAppendImage,$e=p.httpFormFields,Je=p._tiffCompressionType,We=!1,Ke=v.showProgressBar;if(re=function(ze){var cr=!0;m.each(F,function(Dr,ln){Dr.st==-1&&(cr=!1)}),cr?oe(ze):setTimeout(function(){re(ze)},200)},oe=function(ze){ze.__OnPostTransferAsync=Ye,ze.__OnPostAllTransfers=He,ze.__OnHttpUploadStatus=St,ze.__remoteFilename=be,ze.__maxUploadImageSize=Ce,ze.IfShowProgressBar=je,ze.__insertingIndex=ct,ze.__IfAppendImage=gt,ze.httpFormFields=$e,ze._tiffCompressionType=Je,V.FileUploader&&(V.FileUploader.nextLoopTime=600),ze._startScanFlag=!1},fe=function(ze,cr,Dr){j?(cr(Dr),re(ze)):setTimeout(function(){fe(ze,cr,Dr)},200)},ae=function(ze,cr){We=!0,M&&(M=!1,j||p._innerSendCmd("CancelAllPendingTransfers"),fe(p,ze,cr))},ue=function(ze,cr,Dr,ln){if(m.isFunction(ee)){var xn,Ir=cr,$r=0;m.isNumber(ln)&&ln>0&&($r=ln),xn={fileName:Ir,percentage:Dr,statusCode:$r,responseString:ze.__HTTPPostResponseString},setTimeout(function(){ee(xn)},10)}},p.__HTTPPostResponseString="",p.IfShowProgressBar=Ke,m.isNumber(U.insertingIndex)&&U.insertingIndex>-1&&(p.__insertingIndex=U.insertingIndex,p.__IfAppendImage=!1),m.isFunction(ee)?p.__OnHttpUploadStatus=ee:p.__OnHttpUploadStatus=!1,v.useUploader&&!V.FileUploader)return new Q.Promise(function(ze,cr){Me(p,-2380,"Please make sure the Uploader Module has been installed.");var Dr={code:p._errorCode,message:p._getErrorString(),response:""};j=!0,ae(cr,Dr)});if(S=v.reTries,v.useUploader){if(v.httpParams&&(ve=v.httpParams.url),!m.startsWith(ve,"http://")&&!m.startsWith(ve,"https://")){var Qt=window.location.href,Lt=Qt.lastIndexOf("/");Qt=Qt.substring(0,Lt+1),v.httpParams.url=Qt+ve}}else v.httpParams&&(m.each(v.httpParams.headers,function(ze,cr){p.SetHTTPHeader(cr,ze)}),m.each(v.httpParams.formFields,function(ze,cr){p.SetHTTPFormField(cr,ze)}));return v.httpParams&&v.httpParams.remoteName!==""&&(p.__remoteFilename=v.httpParams.remoteName),new Q.Promise(function(ze,cr){v.useUploader?V.FileUploader.Init(0,function(Dr){ze({uploadManager:Dr})},function(Dr,ln){p._errorCode=Dr,p._errorString=ln;var xn={code:Dr,message:ln,response:p.__HTTPPostResponseString};j=!0,ae(cr,xn)}):ze({})}).then(function(ze){return new Q.Promise(function(cr,Dr){var ln=function(){(U.transferMode==V.DWT.EnumDWT_TransferMode.TWSX_FILE?ne==Z.length:ne==de.length)?(Q.closeProgress(null,"Scan Upload"),We=!0,cr(K),oe(p)):setTimeout(ln,100)};b&&m.isFunction(b)&&(p.__OnPreAllTransfersAsync=function(Ir){b(Ir)}),p.registerEvent("OnPostTransferAsync",function(Ir){var $r,ci,tc,Mi,So,bo,Wo=v.httpParams&&v.httpParams.url,Zn=p._uidFromServer2ServerId(Ir.imageId),Co=v.singlePost,xi=U.transferMode==V.DWT.EnumDWT_TransferMode.TWSX_FILE,rc=v.removeAfterOutput,Li=0;if(Y&&(j=!1,Y=!1),xi?(Li=Z.length,Z.push(Ir.path)):(Li=de.length,de.push(Zn)),b&&m.isFunction(b)){var tg={event:"postTransfer",bScanCompleted:!1,result:{currentPageNum:Li+1}};setTimeout(function(){b(tg)},10)}if(We)return!1;if(v.type=="http")if(v.httpParams&&(ci=sa(v.httpParams.fileName,Li+1),tc=sa(v.httpParams.remoteName,Li+1)),Co||v.type!="http")!Co&&v.type;else if(v.httpParams&&m.isNumber(v.httpParams.maxSizeLimit)&&(p.__maxUploadImageSize=v.httpParams.maxSizeLimit),v.useUploader){Ke?(V.FileUploader.nextLoopTime=300,Q.showProgress(p,"Scan Upload",p.__IfShowCancelDialogWhenImageTransfer)):Q.hideProgress(),Mi=function(jn,Sr){return p.__HTTPPostResponseString=Sr,ue(p,jn._fileName,100,200),p._OnPercentDone([0,100,"","http",jn._fileName]),Ke&&Q.closeProgress(null,"Scan Upload"),!xi&&v.removeAfterOutput?setTimeout(function(){p._ImgManager.convertServerIdToClientIndex(Zn)>-1?bi(li,p,ts).call(p,Zn,function(){ne++},function(){ne++}):ne++},100):ne++,!0};var nc,gr=ze.uploadManager;if(So=function(){if(Ke){var jn,Sr=0;for(Sr=xi?Z.length:de.length,jn=0;jn<Sr;jn++)Q.closeProgress(null,"Scan Upload")}!xi&&v.removeAfterOutput&&setTimeout(function(){p._ImgManager.convertServerIdToClientIndex(Zn)>-1&&bi(li,p,ts).call(p,Zn)},100),gr.CancelAllUpload();var rs={code:p._errorCode,message:p._getErrorString(),response:p.__HTTPPostResponseString};return ae(Dr,rs),!1},bo=function(jn,Sr,rs,Ls){var Or=303;Sr==Sh.TRANS_SERVICE_ERROR_404?Or=404:Sr==Sh.TRANS_SERVICE_ERROR_500?Or=500:Sr==Sh.TRANS_SERVICE_ERROR_503&&(Or=503),p._errorCode=Sr,p._errorString=rs,p.__HTTPPostResponseString=Ls,ue(p,ci,100,Or),So()},nc=function(){p.__HTTPPostResponseString="",ue(p,ci,100,303),So()},xi){var Zi=gr.CreateJob(),rg=Zi.FormField;v.httpParams&&(m.each(v.httpParams.headers,function(jn,Sr){Zi.HttpHeader[Sr]=jn}),m.each(v.httpParams.formFields,function(jn,Sr){rg.Add(Sr,jn)})),Zi.ServerUrl=Wo,Zi.bDeleteFile=rc,Zi.reTries=S,v.httpParams&&m.isNumber(v.httpParams.maxSizeLimit)&&(Zi.maxSizeLimit=v.httpParams.maxSizeLimit),Zi._fileName=ci,Zi.SourceValue.Add(Ir.path,ci,tc),Zi.ImageType=U.fileXfer.fileFormat,Zi.ThreadNum=X,Zi.OnRunSuccess=Mi,Zi.OnRunFailure=bo,(Ke||m.isFunction(ee))&&(Zi.OnUploadTransferPercentage=function(jn,Sr){Sr>0&&Sr<=100&&(p._OnPercentDone([0,Sr,"","http",jn._fileName]),m.isFunction(ee)&&ue(p,jn._fileName,Sr,0))},Q.cancelFrom=sr.Scan,Ke&&bi(li,p,GE).call(p,So),p._OnPercentDone([0,-1,tn.Uploading,"http",ci]),ue(p,ci,0,0)),gr.Run(Zi)}else($r=v.format)==V.DWT.EnumDWT_ImageType.IT_MULTIPAGE_PDF?$r=V.DWT.EnumDWT_ImageType.IT_PDF:$r==V.DWT.EnumDWT_ImageType.IT_MULTIPAGE_TIF&&($r=V.DWT.EnumDWT_ImageType.IT_TIF),Q.cancelFrom=sr.Scan,Ke&&bi(li,p,GE).call(p,So),p._OnPercentDone([0,-1,tn.Encoding,"http",ci]),p._asyncGenerateURLForUploadData([Zn],$r,C,function(jn){var Sr=gr.CreateJob(),rs=Sr.FormField;v.httpParams&&(m.each(v.httpParams.headers,function(Ls,Or){Sr.HttpHeader[Or]=Ls}),m.each(v.httpParams.formFields,function(Ls,Or){rs.Add(Or,Ls)})),Sr.ServerUrl=Wo,Sr.bDeleteFile=rc,Sr.reTries=S,v.httpParams&&m.isNumber(v.httpParams.maxSizeLimit)&&(Sr.maxSizeLimit=v.httpParams.maxSizeLimit),Sr._fileName=ci,Sr.SourceValue.Add(jn,ci,tc),Sr.ImageType=$r,Sr.ThreadNum=X,Sr.OnRunSuccess=Mi,Sr.OnRunFailure=bo,(Ke||m.isFunction(ee))&&(Sr.OnUploadTransferPercentage=function(Ls,Or){Or>0&&Or<=100&&(p._OnPercentDone([0,Or,"","http",Ls._fileName]),m.isFunction(ee)&&ue(p,Ls._fileName,Or,0))},p._OnPercentDone([0,-1,tn.Uploading,"http",ci]),ue(p,ci,0,0)),gr.Run(Sr)},nc)}else{var ka={id:Zn,st:-1,bCancel:!1};if(F.push(ka),Li==0&&(Ke?Q.showProgress(p,"Scan Upload",p.__IfShowCancelDialogWhenImageTransfer):Q.hideProgress()),xi)Mi=function(jn){return ka.st=0,!xi&&v.removeAfterOutput?setTimeout(function(){p._ImgManager.convertServerIdToClientIndex(Zn)>-1?bi(li,p,ts).call(p,Zn,function(){ne++},function(){ne++}):ne++},100):ne++,!0},So=function(){!xi&&v.removeAfterOutput&&setTimeout(function(){p._ImgManager.convertServerIdToClientIndex(Zn)>-1&&bi(li,p,ts).call(p,Zn)},100);var jn={code:p._errorCode,message:p._getErrorString(),response:p.__HTTPPostResponseString};return Q.closeProgress(null,"Scan Upload"),ka.st==2||(ka.st=1,m.each(F,function(Sr,rs){Sr.st==-1&&(Sr.bCancel=!0)}),ae(Dr,jn)),!1},p._innerUploadDirectly(Wo,Ir.path,ci,Ke,rc,S,!1,ka,Mi,So);else{if(Mi=function(jn,Sr){return ka.st=0,!xi&&v.removeAfterOutput?setTimeout(function(){p._ImgManager.convertServerIdToClientIndex(Zn)>-1?bi(li,p,ts).call(p,Zn,function(){ne++},function(){ne++}):ne++},100):ne++,!0},So=function(jn){!xi&&v.removeAfterOutput&&setTimeout(function(){p._ImgManager.convertServerIdToClientIndex(Zn)>-1&&bi(li,p,ts).call(p,Zn)},100);var Sr={code:p._errorCode,message:p._getErrorString(),response:p.__HTTPPostResponseString};return Q.closeProgress(null,"Scan Upload"),ka.st==2||(ka.st=1,m.each(F,function(rs,Ls){rs.st==-1&&(rs.bCancel=!0)}),ae(Dr,Sr)),!1},$r=v.format,m.isUndefined($r)){var Y_=p._ImgManager.convertServerIdToClientIndex(Zn);return go(p),So([Y_]),!1}$r==V.DWT.EnumDWT_ImageType.IT_MULTIPAGE_PDF?$r=V.DWT.EnumDWT_ImageType.IT_PDF:$r==V.DWT.EnumDWT_ImageType.IT_MULTIPAGE_TIF&&($r=V.DWT.EnumDWT_ImageType.IT_TIF);var J_={method:"startScan",url:Wo,serverIds:[Zn],headers:p._GetHttpHeadersAndClear(),formData:Zl(p.httpFormFields),enumImageType:$r,saveSetup:C,fileName:ci,dataFormat:PE.Binary,retry:S,bOnlyResponseEmptyIsOK:!1,objUploadFileStatus:ka,asyncSuccessFunc:Mi,asyncFailureFunc:So};p._asyncUploadCmd(J_)}}}),p.__OnPostAllTransfers=function(){var Ir,$r,ci=-1,tc=PE.Binary,Mi=v.httpParams.url,So=v.singlePost,bo=U.transferMode==V.DWT.EnumDWT_TransferMode.TWSX_FILE,Wo=v.removeAfterOutput;if(b&&m.isFunction(b)&&(ci=bo?Z.length:de.length,$r={event:"postTransfer",bScanCompleted:!0,result:{currentPageNum:ci}},setTimeout(function(){b($r)},10)),ci==0)return function(Or){Me(Or,-1029,"Source has nothing to capture.")}(p),void setTimeout(function(){j=!0,te&&m.isFunction(te)&&te();var Or={code:p._errorCode,message:p._getErrorString(),response:p.__HTTPPostResponseString};ae(Dr,Or)},1e3);if(ci>0&&p._errorCode==-1029)p._errorCode=0;else if(p._errorCode!=0){j=!0,te&&m.isFunction(te)&&te();var Zn={code:p._errorCode,message:p._getErrorString(),response:p.__HTTPPostResponseString};return void ae(Dr,Zn)}if(v.type=="http"){if(So&&v.type=="http"){var Co,xi,rc,Li=de;if(v.httpParams&&m.isNumber(v.httpParams.maxSizeLimit)&&(p.__maxUploadImageSize=v.httpParams.maxSizeLimit),v.useUploader){var tg,nc=ze.uploadManager,gr=nc.CreateJob(),Zi=gr.FormField;if(Ke?(V.FileUploader.nextLoopTime=300,Q.showProgress(p,"Scan Upload",p.__IfShowCancelDialogWhenImageTransfer)):Q.hideProgress(),Co=function(Or,Pr){var $n=Or._fileName;return $n||($n=""),p._bServerPercentDone=!0,p.__HTTPPostResponseString=Pr,ue(p,$n,100,200),p._OnPercentDone([0,100,"","http"]),Ke&&Q.closeProgress(null,"Scan Upload"),!bo&&v.removeAfterOutput?setTimeout(function(){ne=0,m.each(Li,function(jo){p._ImgManager.convertServerIdToClientIndex(jo)>-1?bi(li,p,ts).call(p,jo,function(){ne++},function(){ne++}):ne++}),setTimeout(ln,100)},100):(We=!0,cr(K),oe(p)),!0},xi=function(){Ke&&Q.closeProgress(null,"Scan Upload"),nc.CancelAllUpload(),p._bServerPercentDone=!0;var Or={code:p._errorCode,message:p._getErrorString(),response:p.__HTTPPostResponseString};return ae(Dr,Or),!bo&&v.removeAfterOutput&&setTimeout(function(){m.each(Li,function(Pr){p._ImgManager.convertServerIdToClientIndex(Pr)>-1&&bi(li,p,ts).call(p,Pr)})},100),!1},rc=function(Or,Pr,$n,jo){var Bo=303;Pr==Sh.TRANS_SERVICE_ERROR_404?Bo=404:Pr==Sh.TRANS_SERVICE_ERROR_500?Bo=500:Pr==Sh.TRANS_SERVICE_ERROR_503&&(Bo=503),p._errorCode=Pr,p._errorString=$n,p.__HTTPPostResponseString=jo,ue(p,"",100,Bo),xi()},tg=function(){p.__HTTPPostResponseString="",ue(p,"",100,303),xi()},Ke&&(Q.cancelFrom=sr.Scan,bi(li,p,GE).call(p,xi)),bo)v.httpParams&&(m.each(v.httpParams.headers,function(Or,Pr){gr.HttpHeader[Pr]=Or}),m.each(v.httpParams.formFields,function(Or,Pr){Zi.Add(Pr,Or)})),gr.ServerUrl=Mi,gr.bDeleteFile=Wo,gr.reTries=S,v.httpParams&&m.isNumber(v.httpParams.maxSizeLimit)&&(gr.maxSizeLimit=v.httpParams.maxSizeLimit),m.each(Z,function(Or,Pr){var $n,jo;v.httpParams&&($n=sa(v.httpParams.fileName,Pr+1),jo=sa(v.httpParams.remoteName,Pr+1)),gr.SourceValue.Add(Or,$n,jo)}),gr.ImageType=U.fileXfer.fileFormat,gr.ThreadNum=X,gr.OnRunSuccess=Co,gr.OnRunFailure=rc,(Ke||m.isFunction(ee))&&(gr.OnUploadTransferPercentage=function(Or,Pr){Pr>0&&Pr<=100&&(p._OnPercentDone([0,Pr,"","http"]),m.isFunction(ee)&&ue(p,"",Pr,0))},p._OnPercentDone([0,-1,tn.Uploading,"http"]),ue(p,"",0,0)),nc.Run(gr);else if((Ir=v.format)==V.DWT.EnumDWT_ImageType.IT_MULTIPAGE_PDF||Ir==V.DWT.EnumDWT_ImageType.IT_MULTIPAGE_TIF)Ir==V.DWT.EnumDWT_ImageType.IT_MULTIPAGE_PDF?Ir=V.DWT.EnumDWT_ImageType.IT_PDF:Ir==V.DWT.EnumDWT_ImageType.IT_MULTIPAGE_TIF&&(Ir=V.DWT.EnumDWT_ImageType.IT_TIF),p._OnPercentDone([0,-1,tn.Encoding,"http"]),p._asyncGenerateURLForUploadData(Li,Ir,C,function(Or){var Pr,$n;v.httpParams&&(m.each(v.httpParams.headers,function(jo,Bo){gr.HttpHeader[Bo]=jo}),m.each(v.httpParams.formFields,function(jo,Bo){Zi.Add(Bo,jo)})),gr.ServerUrl=Mi,gr.bDeleteFile=Wo,gr.reTries=S,v.httpParams&&m.isNumber(v.httpParams.maxSizeLimit)&&(gr.maxSizeLimit=v.httpParams.maxSizeLimit),v.httpParams&&(Pr=sa(v.httpParams.fileName,1),$n=sa(v.httpParams.remoteName,1)),gr._fileName=Pr,gr.SourceValue.Add(Or,Pr,$n),gr.ImageType=Ir,gr.ThreadNum=X,gr.OnRunSuccess=Co,gr.OnRunFailure=rc,(Ke||m.isFunction(ee))&&(gr.OnUploadTransferPercentage=function(jo,Bo){Bo>0&&Bo<=100&&(p._OnPercentDone([0,Bo,"","http",Pr]),m.isFunction(ee)&&ue(p,Pr,Bo,0))},p._OnPercentDone([0,-1,tn.Uploading,"http",Pr])),nc.Run(gr)},tg);else{var rg=Li.length,ka=0,Y_=0,J_="";Ke&&(p._bServerPercentDone=!1),p._OnPercentDone([0,-1,tn.Encoding,"http"]),m.each(Li,function(Or,Pr){var $n,jo;v.httpParams&&($n=sa(v.httpParams.fileName,Pr+1),jo=sa(v.httpParams.remoteName,Pr+1)),p._asyncGenerateURLForUploadData([Or],Ir,C,function(Bo){Y_=(ka+1)/rg*100,J_=[ka+1,"/",rg].join(""),p._OnPercentDone([0,Y_,J_,"http"]),gr.SourceValue.Add(Bo,$n,jo),++ka>=rg&&(Ke&&(p._bServerPercentDone=!0),v.httpParams&&(m.each(v.httpParams.headers,function(q_,ic){gr.HttpHeader[ic]=q_}),m.each(v.httpParams.formFields,function(q_,ic){Zi.Add(ic,q_)})),gr.ServerUrl=Mi,gr.bDeleteFile=Wo,gr.reTries=S,v.httpParams&&m.isNumber(v.httpParams.maxSizeLimit)&&(gr.maxSizeLimit=v.httpParams.maxSizeLimit),gr.ImageType=Ir,gr.ThreadNum=X,gr.OnRunSuccess=Co,gr.OnRunFailure=rc,(Ke||m.isFunction(ee))&&(gr.OnUploadTransferPercentage=function(q_,ic){ic>0&&ic<=100&&(p._OnPercentDone([0,ic,"","http"]),m.isFunction(ee)&&ue(p,"",ic,0))},p._OnPercentDone([0,-1,tn.Uploading,"http"])),nc.Run(gr))},tg)})}}else if(bo)Co=function(Or){return p._bServerPercentDone=!0,!bo&&v.removeAfterOutput?setTimeout(function(){ne=0,m.each(Li,function(Pr){p._ImgManager.convertServerIdToClientIndex(Pr)>-1?bi(li,p,ts).call(p,Pr,function(){ne++},function(){ne++}):ne++}),setTimeout(ln,100)},100):(We=!0,cr(K),oe(p)),!0},xi=function(Or){p._bServerPercentDone=!0;var Pr={code:p._errorCode,message:p._getErrorString(),response:p.__HTTPPostResponseString};return ae(Dr,Pr),!bo&&v.removeAfterOutput&&setTimeout(function(){m.each(Li,function($n){p._ImgManager.convertServerIdToClientIndex($n)>-1&&bi(li,p,ts).call(p,$n)})},100),!1},p._innerUploadFilesDirectly(Mi,Z,v.httpParams&&v.httpParams.fileName,Ke,Wo,S,!1,Co,xi);else{Co=function(Or,Pr){return p._bServerPercentDone=!0,!bo&&v.removeAfterOutput?setTimeout(function(){ne=0,m.each(Li,function($n){p._ImgManager.convertServerIdToClientIndex($n)>-1?bi(li,p,ts).call(p,$n,function(){ne++},function(){ne++}):ne++}),setTimeout(ln,100)},100):(We=!0,cr(K),oe(p)),!0},xi=function(Or){p._bServerPercentDone=!0;var Pr={code:p._errorCode,message:p._getErrorString(),response:p.__HTTPPostResponseString};return ae(Dr,Pr),!bo&&v.removeAfterOutput&&setTimeout(function(){m.each(Li,function($n){p._ImgManager.convertServerIdToClientIndex($n)>-1&&bi(li,p,ts).call(p,$n)})},100),!1},Ir=v.format;var jn=p._GetHttpHeadersAndClear(),Sr=Zl(p.httpFormFields);if(Ir==V.DWT.EnumDWT_ImageType.IT_MULTIPAGE_PDF||Ir==V.DWT.EnumDWT_ImageType.IT_MULTIPAGE_TIF){var rs;Ir==V.DWT.EnumDWT_ImageType.IT_MULTIPAGE_PDF?Ir=V.DWT.EnumDWT_ImageType.IT_PDF:Ir==V.DWT.EnumDWT_ImageType.IT_MULTIPAGE_TIF&&(Ir=V.DWT.EnumDWT_ImageType.IT_TIF),v.httpParams&&(rs=sa(v.httpParams.fileName,1),sa(v.httpParams.remoteName,1));var Ls={method:"startScan",url:Mi,headers:jn,formData:Sr,serverIds:Li,enumImageType:Ir,saveSetup:C,fileName:rs,dataFormat:tc,retry:S,bOnlyResponseEmptyIsOK:!1,objUploadFileStatus:!1,asyncSuccessFunc:Co,asyncFailureFunc:xi};p._asyncUploadCmd(Ls)}else Li.length>0&&p._asyncUploadFilesCmd(Mi,Li,jn,Sr,Ir,v.httpParams&&v.httpParams.fileName,C,Ke,S,!1,Co,xi)}}So&&v.type}j=!0,te&&m.isFunction(te)&&te()};var xn=function(){if(v.type!="http")return We=!0,cr(K),void oe(p);v.singlePost?setTimeout(function(){if(!j&&p._startScanFlag)return We=!0,cr(K),void oe(p)},300):setTimeout(ln,100)};bi(li,p,lce).call(p,U,xn,function(Ir){if(p._errorCode==-1029&&(U.transferMode==V.DWT.EnumDWT_TransferMode.TWSX_FILE?Z.length>0:de.length>0))return p._errorCode=0,xn();var $r={code:p._errorCode,message:p._getErrorString(),response:p.__HTTPPostResponseString};ae(Dr,$r)})})})}},{key:"_innerInitEvents",value:function(l){this.__OnWSReconnect=l.onWSReconnect||null,this.__OnWSClose=l.onWSClose||null,this.__OnWSMessage=l.onWSMessage||null,this.__OnWSError=l.onWSError||null,this.__OnPercentDone=l.onPercentDone||"",this.__OnPrintMsg=l.onPrintMsg||"",this.__OnResult=l.onResult||"",this.__OnAfterOperate=l.onAfterOperate||"",this.__OnBeforeOperate=l.onBeforeOperate||"",this.__OnOperateStatus=l.onOperateStatus||"",this.__OnBitmapChanged=l.onBitmapChanged||"",this.__OnGetFilePath=l.onGetFilePath||"",this.__OnPreAllTransfers=l.onPreAllTransfers||"",this.__OnPreTransfer=l.onPreTransfer||"",this.__OnPostLoad=l.onPostLoad||"",this.__OnPostTransfer=l.onPostTransfer||"",this.__OnPostAllTransfers=l.onPostAllTransfers||"",this.__OnSourceUIClose=l.onSourceUIClose||"",this.__OnTransferCancelled=l.onTransferCancelled||"",this.__OnTransferError=l.onTransferError||"",this.__OnInternetTransferPercentage=l.onInternetTransferPercentage||"",this.__OnInternetTransferPercentageEx=l.onInternetTransferPercentageEx||"",this.__OnRemoteScanStatusAsync=l.onRemoteScanStatusAsync||""}}],[{key:"create",value:(i=s(E().mark(function l(c){var p;return E().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return p=new r(c),g.next=3,No.STwainConnectToServer(p);case 3:return g.abrupt("return",p);case 4:case"end":return g.stop()}},l)})),function(l){return i.apply(this,arguments)})}]);var i,o,u,d}(qle);function nU(){var t,r=[],i=this.__devices.length;for(t=0;t<i;t++){var o=this.__devices[t],u=o.deviceType,d=cce(),l=void 0,c=m.clone(o.deviceInfo);NY(u)?(u==_t.TWAINSCANNER?l="TWAIN":u==_t.WIATWAINSCANNER?l="WIATWAIN":u==_t.TWAINX64SCANNER&&(l="TWAIN64"),d.Manufacturer=c.Manufacturer,d.ProductFamily=c.ProductFamily,d.ProtocolMajor=c.ProtocolMajor,d.ProtocolMinor=c.ProtocolMinor,d.SupportedGroups=c.SupportedGroups,d.Version=c.Version):u==_t.SANESCANNER?(l="SANE",d.DeviceInfo=c):u==_t.ICASCANNER?(l="ICA",d.DeviceInfo=c):u==_t.ESCLSCANNER?(l="eSCL",d.DeviceInfo=c):u==_t.WIFIDIRECTSCANNER?(l="WiFiScanner",d.DeviceInfo=c):u==_t.WIASCANNER&&(l="WIA",d.DeviceInfo=c),d.ProductName=o.displayName,d.DriverType=l,r.push(d)}return r}function iU(){var t,r=this,i=[],o=0;for(r.__devices&&(o=r.__devices.length),t=0;t<o;t++){var u=r.__devices[t];i.push(u.displayName)}return i}function uce(t,r){var i=["[",t,",",r??Xp.SMF_NAME,"]"].join("");return this._innerFun("SelectSourceEx",i)}function lce(t,r,i){var o,u,d=this,l=null,c=null;if(u=m.isUndefined(t)||t==null?{}:t,d._resetErr(),!d._isValid())return!1;if(m.isFunction(r)&&(l=function(){r(u)}),m.isFunction(i)&&(c=function(b,C){i(b,C,u)}),!It.checkProductKey(d,{Core:!0}))return m.isFunction(c)&&c(d._errorCode,d._errorString),!1;for(var p=0,g=0;g<Sy.length;g++){var S=["__",Sy[g]].join("");m.isFunction(d[S])&&(p|=1<<g)}if(u.EnableEvents=p,u.scanner){var v=u.scanner;m.isString(v)||m.isString(v.strDevice)&&(u.device=v.strDevice,delete u.scanner)}return o=["[",m.stringify(u),"]"].join(""),d.__bAcquireImageNow=!0,d.__innerAcquireOrLoadImageAsync("StartScan",o,!1,!0).then(l,function(b){d._errorCode=b.code,d._errorString=b.message,m.isFunction(c)&&c(b.code,b.message)}),!0}function ts(t,r,i){var o=this;return o._innerFunRaw("RemoveImage",Ge(t),!0,!1,!0,function(){o._OnBitmapChanged(["c1",""+t,3,o._ImgManager.getCurrentImageIndex(),o._ImgManager.count()]),m.isFunction(r)&&r()},i)}function GE(t){var r=this;r.IfShowCancelDialogWhenImageTransfer?(Q.progressContext&&Q.progressContext.on("cancel",function(){Ia(r),t()}),Xu(!0)):Xu(!1)}function cce(){return{ProductName:"",DeviceInfo:{},DriverType:"",IsCurrentSource:!1,IsDefaultSource:!1,Manufacturer:"",ProductFamily:"",ProtocolMajor:0,ProtocolMinor:0,SupportedGroups:0,Version:{Country:0,Info:"",Language:0,MajorNum:0,MinorNum:0}}}var Sh={TRANS_SERVICE_ERROR_404:12,TRANS_SERVICE_ERROR_500:13,TRANS_SERVICE_ERROR_503:14},oU=function(t,r){if(!m.isUndefined(t)&&!m.isUndefined(r)&&t!=null&&r!=null){for(var i in r)t.hasOwnProperty(i)?N(t[i])==="object"&&oU(t[i],r[i]):t[i]=r[i];return t}};function dce(t){return HE.apply(this,arguments)}function HE(){return HE=s(E().mark(function t(r){var i,o,u;return E().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return i=window,V.DWT.UseDefaultViewer||(r.container=null),nY(r.container)?r.bNoViewer=!1:r.bNoViewer=!0,d.prev=3,d.next=6,rU.create(r);case 6:o=d.sent,d.next=15;break;case 9:throw d.prev=9,d.t0=d.catch(3),(u=d.t0&&d.t0.code)==er.ResponseDataTypeError||u==er.HTSTError||u==er.CORSError||u==er.CORSErrorFromService||u==er.SSLCertExpired||u==er.SSLCertInvalid||(u==er.MustUpgrade?Hu(!0):u==er.ModuleNotExists&&hce(o)),o&&o.dispose(),d.t0;case 15:return d.prev=15,i.DCP_DWT_OnClickCloseInstall&&i.DCP_DWT_OnClickCloseInstall(!1,!0),d.finish(15);case 18:return aU(o),d.abrupt("return",o);case 20:case"end":return d.stop()}},t,null,[[3,9,15,18]])})),HE.apply(this,arguments)}function fce(t,r){if(m.isFunction(V.OnWebTwainNeedUpgradeCallback)){var i,o,u={};if(o=Hp(),he.bWin)i=Kt.enumWindow;else if(V.navInfo.bEmbed||he.bAndroid||he.bChromeOS||he.bHarmonyOS||he.biPhone||he.biPad)he.bAndroid?i=Kt.enumAndroid:(u.deb=o,i=he.biPhone||he.biPad?Kt.enumiOS:he.bChromeOS?Kt.enumChromeOS:he.bHarmonyOS?Kt.enumHarmonyOS:Kt.enumEmbed);else if(he.bLinux){var d=JR(),l=qR();o=d,u.deb=d,u.rpm=l,i=Kt.enumLinux}else i=Kt.enumMac;u.default=o;var c=Pe.one(".dynamsoft-dialog-license");c&&c.getEL()&&(c.getEL().style.display="none"),Q.detect.needUpgrade=st,V.OnWebTwainNeedUpgradeCallback(Ne.name,u,Ne.bHTML5Edition,i,he.bIE,he.bSafari,In(),Tn.strIEVersion,Q.detect.bPromptJSOrServerOutdated,t,r)}}function aU(t){return sU.apply(this,arguments)}function sU(){return(sU=s(E().mark(function t(r){var i,o,u;return E().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(r&&!r._blts){d.next=2;break}return d.abrupt("return");case 2:if(r.ErrorCode==-2207&&(Q.detect.bPromptJSOrServerOutdated=st,m.isFunction(V.DWT.OnWebTwainNeedUpgradeWebJavascript)&&V.DWT.OnWebTwainNeedUpgradeWebJavascript(r.ErrorString)),!vn.versionInfoFromServer){d.next=7;break}i=vn.versionInfoFromServer,d.next=10;break;case 7:return d.next=9,r._getVersionInfoAsync();case 9:i=d.sent;case 10:if(Q.detect.bNeedUpgradeEvent||hY(i)){d.next=19;break}if(Q.detect.bNeedUpgradeEvent=st,!m.isFunction(V.DWT.OnWebTwainNeedUpgrade)){d.next=15;break}if(!V.DWT.OnWebTwainNeedUpgrade()){d.next=15;break}return d.abrupt("return");case 15:if(!r._bRemoteMode){d.next=18;break}return m.isFunction(V.OnRemoteWebTwainNeedUpgradeCallback)&&(o=r._serverInfo.port,V.OnRemoteWebTwainNeedUpgradeCallback(Ne.name,r._serverInfo.server,o,r._serverInfo.ssl)),d.abrupt("return");case 18:(Ne.bHTML5Edition&&r._isBindViewer()||!Ne.bHTML5Edition)&&((u=r._containerElement)&&(Pe.one(u).before(Q.install._strNonInstallDIV),m.show(Q.install._divDWTNonInstallContainerID)),Q.install._divDWTemessageContainer!=""&&m.hide(Q.install._divDWTemessageContainer),fce());case 19:case"end":return d.stop()}},t)}))).apply(this,arguments)}function hce(t){if(!Q.detect.bNoControlEvent){var r,i=0,o=0;t&&(i=t._width,o=t._height,r=t._containerElement),t&&t._bRemoteMode?t._bNotShowMessage||m.isFunction(V.OnRemoteWebTwainNotFoundCallback)&&V.OnRemoteWebTwainNotFoundCallback(Ne.name,t._serverInfo.server,t._serverInfo.port,t._serverInfo.ssl,Tn.bMobile):(Jk(r,i,o),Hu(!1)),Q.detect.bNoControlEvent=!0}}var el=function(t){function r(b){var C;h(this,r),(C=f(this,r,[b]))._bServerPercentDone=!0,C._bScanForProxyRemote=st;var D=No.getServerImageUrlPrefix(C);return ph._setBaseUrl(C._imageBufferWrapper,D),C}return P(r,t),y(r,[{key:"getDevices",value:function(b,C,D){return this._getDevices(b,C,D)}},{key:"_connnect",value:(v=s(E().mark(function b(){var C;return E().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return C=this,D.abrupt("return",new Q.Promise(function(M,j){IY(C._serverInfo.server,C._serverInfo.port,C._serverInfo.ssl,void 0,function(Y,ee,te){C._strRemoteServiceVer=te,M()},j)}));case 2:case"end":return D.stop()}},b,this)})),function(){return v.apply(this,arguments)})},{key:"acquireImage",value:function(b,C){return x(A(r.prototype),"_acquireImage",this).call(this,b,C)}},{key:"_acquireImageForSendTo",value:function(b,C,D,M){return x(A(r.prototype),"_acquireImageForSendTo",this).call(this,b,C,D,M)}},{key:"getCapabilities",value:function(b,C,D){return this._getCapabilities(b,C,D)}},{key:"setCapabilities",value:function(b,C,D){return this._setCapabilities(b,C,D)}},{key:"closeSource",value:function(){return this._closeSource()}},{key:"setBufferMemoryLimit",value:(S=s(E().mark(function b(C){var D,M;return E().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(D=this,m.isNumber(C)&&!isNaN(C)){j.next=4;break}throw ki(D),{code:D._errorCode,message:D._errorString};case 4:if(D._resetErr(),D._isValid()){j.next=7;break}throw{code:D._errorCode,message:D._errorString};case 7:return j.next=9,D._innerFunV2("BufferMemoryLimit",Ge(C));case 9:return M=j.sent,j.abrupt("return",M);case 11:case"end":return j.stop()}},b,this)})),function(b){return S.apply(this,arguments)})},{key:"setIfAllowLocalCache",value:(g=s(E().mark(function b(C){var D,M;return E().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(D=this,m.isBoolean(C)){j.next=4;break}throw ki(self),{code:D._errorCode,message:D._errorString};case 4:if(D._resetErr(),D._isValid()){j.next=7;break}throw{code:D._errorCode,message:D._errorString};case 7:return j.next=9,D._innerFunV2("IfAllowLocalCache",Ge(C));case 9:return M=j.sent,j.abrupt("return",M);case 11:case"end":return j.stop()}},b,this)})),function(b){return g.apply(this,arguments)})},{key:"howManyImagesInBuffer",get:function(){return this._imageBufferWrapper.count()}},{key:"currentImageIndexInBuffer",get:function(){return this._imageBufferWrapper.getCurrentImageIndex()},set:function(b){this._imageBufferWrapper.setCurrentImageIndex(b)}},{key:"saveImages",value:(p=s(E().mark(function b(C,D,M,j){var Y;return E().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(Y="saveImages",this._checkIndices(D)){ee.next=3;break}throw{code:this._errorCode,message:this._getErrorString()};case 3:return this._containerElement=j,ee.next=6,this._saveImages(Y,C,D,M);case 6:case"end":return ee.stop()}},b,this)})),function(b,C,D,M){return p.apply(this,arguments)})},{key:"getImages",value:function(b,C,D,M){if(!this._checkIndices(b))throw{code:this._errorCode,message:this._getErrorString()};return this._containerElement=M,this._getImages("getImages",b,C,D)}},{key:"removeImages",value:(c=s(E().mark(function b(C){var D,M,j,Y,ee;return E().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:if(this._checkIndices(C)){te.next=2;break}throw{code:this._errorCode,message:this._getErrorString()};case 2:for(D=C.sort(function(de,Z){return Z-de}),M=[],j=0;j<D.length;j++)Y=D[j],(ee=this._imageBufferWrapper.convertClientIndexToServerId(Y))>0&&M.push(ee);if(M.length!=0){te.next=7;break}return te.abrupt("return");case 7:return te.next=9,this._innerFunV2("RemoveAllImages",Ge(M.join(",")));case 9:if(!te.sent&&this._errorCode!=-1033){te.next=16;break}if(this._imageBufferWrapper.removeImages(D)){te.next=14;break}throw this._imageBufferWrapper.getError();case 14:te.next=17;break;case 16:throw{code:this._errorCode,message:this._errorString};case 17:case"end":return te.stop()}},b,this)})),function(b){return c.apply(this,arguments)})},{key:"updateImage",value:function(b,C,D){var M=this._imageBufferWrapper.getIndexByUid(b),j=this._imageBufferWrapper.convertClientIndexToServerId(M);return x(A(r.prototype),"_updateImage",this).call(this,j,C,D)}},{key:"getSkewAngleFromBinaryAsync",value:function(b,C,D,M){var j=this;if(j._resetErr(),!j._isValid())return Q.Promise.reject({code:j._errorCode,message:j._errorString});var Y=this._imageBufferWrapper.getCustomDataByIndex(b),ee=this._imageBufferWrapper.getMetadataByIndex(b),te=this._imageBufferWrapper.convertClientIndexToServerId(b),de={imageId:te,serverId:te,bufferLen:C.size,imageType:vr.IT_BMP,width:ee.width,height:ee.height,bit:ee.bitDepth,xres:ee.resolutionX,yres:ee.resolutionY,uidFromServer:Y.uidFromServer},Z=m.stringify([m.stringify(de)]);return this._innerSendBlob("GetSkewAngleFromBinary",Z,C,!0,!0,D,M)}},{key:"httpUpload",value:(l=s(E().mark(function b(C,D,M,j,Y,ee,te){var de,Z;return E().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:if((de=this)._resetErr(),de._isValid()){ne.next=4;break}throw{code:de._errorCode,message:de._errorString};case 4:if(!m.isUndefined(C)&&C!==""){ne.next=9;break}throw io(de),{code:de._errorCode,message:de._errorString};case 9:if(m.isString(C)){ne.next=12;break}throw jp(de),{code:de._errorCode,message:de._errorString};case 12:if(de._checkIndices(D)){ne.next=14;break}throw{code:de._errorCode,message:de._errorString};case 14:if((Z=Nl(de,D)).length!=0){ne.next=18;break}throw nr(de),{code:de._errorCode,message:de._errorString};case 18:if(!m.isUndefined(M)){ne.next=21;break}throw go(de),{code:de._errorCode,message:de._errorString};case 21:if(M!=V.DWT.EnumDWT_ImageType.IT_BMP&&M!=V.DWT.EnumDWT_ImageType.IT_JPG&&M!=V.DWT.EnumDWT_ImageType.IT_PNG){ne.next=27;break}if(!(Z.length>1)){ne.next=25;break}throw Sf(de),{code:de._errorCode,message:de._errorString};case 25:ne.next=33;break;case 27:if(M!=V.DWT.EnumDWT_ImageType.IT_TIF&&M!=V.DWT.EnumDWT_ImageType.IT_PDF){ne.next=31;break}ne.next=33;break;case 31:throw go(de),{code:de._errorCode,message:de._errorString};case 33:if(!(m.isUndefined(j)||j!=V.DWT.EnumDWT_UploadDataFormat.Binary&&j!=V.DWT.EnumDWT_UploadDataFormat.Base64)){ne.next=36;break}throw vR(de),{code:de._errorCode,message:de._errorString};case 36:return ne.next=38,new Q.Promise(function(X,F){var B,U,K=parseInt(M),q=parseInt(j);ee!=null&&ee.formFields&&(B=new FormData,m.each(ee==null?void 0:ee.formFields,function(re,oe){var fe=re.name,ae=re.value;m.isString(fe)&&(ae instanceof Blob?B.append(fe,ae,re.fileName):B.append(fe,ae))})),ee!=null&&ee.headers&&(U={},m.each(ee==null?void 0:ee.headers,function(re,oe){m.isString(re.name)&&(U[re.name]=re.value)})),de._containerElement=te,r._innerHTTPUpload(de,"httpUpload",C,ee==null?void 0:ee.responseType,U,B,Z,K,q,Y,void 0,0,!1,void 0,function(re){if(m.isFunction(X)){var oe=[];m.isArray(Z)&&m.each(Z,function(fe){var ae=de._imageBufferWrapper.convertServerIdToClientIndex(fe);ae>-1&&oe.push(ae)});try{ai(X,re,oe)}catch{}}return re=null,!0},function(re){if(m.isFunction(F))try{F(re)}catch{}return!1})});case 38:return ne.abrupt("return",ne.sent);case 39:case"end":return ne.stop()}},b,this)})),function(b,C,D,M,j,Y,ee){return l.apply(this,arguments)})},{key:"getCustomDataByIndex",value:function(b){return this._imageBufferWrapper.getCustomDataByIndex(b)}},{key:"getIndexByUid",value:function(b){return this._imageBufferWrapper.getIndexByUid(b)}},{key:"getProfile",value:function(b){return x(A(r.prototype),"_getProfile",this).call(this,b)}},{key:"setProfile",value:function(b,C){return x(A(r.prototype),"_setProfile",this).call(this,b,C)}},{key:"imageIDToIndex",value:function(b){return this._uidFromServer2index(b)}},{key:"indexToImageID",value:function(b){return this._index2uidFromServer(b)}},{key:"rotate",value:function(b,C,D,M){var j=this;if(j._resetErr(),!j._isValid())return Q.Promise.reject({code:j._errorCode,message:j._errorString});var Y=parseInt(b);if(isNaN(Y))return nr(j),Q.Promise.reject({code:j._errorCode,message:j._errorString});if(Y<0||Y>=j.howManyImagesInBuffer)return nt(j),Q.Promise.reject({code:j._errorCode,message:j._errorString});var ee=j._imageBufferWrapper.convertClientIndexToServerId(Y);return ee==-1?(nt(j),Q.Promise.reject({code:j._errorCode,message:j._errorString})):j._innerFunV2("RotateEx",Ge(ee,C,D,M),!0).then(function(te){})}},{key:"crop",value:function(b,C){var D=this;if(D._resetErr(),!D._isValid())return Q.Promise.reject({code:D._errorCode,message:D._errorString});var M=parseInt(b);if(isNaN(M))return nr(D),Q.Promise.reject({code:D._errorCode,message:D._errorString});if(M<0||M>=D.howManyImagesInBuffer)return nt(D),Q.Promise.reject({code:D._errorCode,message:D._errorString});var j=D._imageBufferWrapper.convertClientIndexToServerId(M);if(j==-1)return nt(D),Q.Promise.reject({code:D._errorCode,message:D._errorString});var Y=C.x,ee=C.y,te=C.x+C.width,de=C.y+C.height;return D._innerFunV2("Crop",Ge(j,Y,ee,te,de),!0).then(function(Z){})}},{key:"_createHttpUploaderConfig",value:function(){var b=this,C=new uB;return C.IfShowProgressBar=b.IfShowProgressBar,C.IfShowCancelDialogWhenImageTransfer=b.IfShowCancelDialogWhenImageTransfer,C.MaxUploadImageSize=b.MaxUploadImageSize,C.HTTPRequestswithCredentials=b.HTTPRequestswithCredentials,C.onPercent=function(D){b._OnPercentDone(D)},C.onHttpUploadStatus=function(D){},C}},{key:"_OnReady",value:(d=s(E().mark(function b(){var C,D,M;return E().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return Do((C=this)._serverInfo.server)&&(cu.item("DWT_port",C._serverInfo.port),cu.item("DWT_ssl",C._serverInfo.ssl?"true":"false")),C._bNoMask||On("OnReady",C),j.prev=3,j.next=6,x(A(r.prototype),"_OnReady",this).call(this);case 6:return j.next=8,C._innerActiveUI(C._uuidForActiveUI);case 8:return D=j.sent,j.next=11,C._OnActiveUI(D);case 11:(M=C._id)&&!V.DWT.WebTwainIdMap[M]&&(V.DWT.WebTwainIdMap[M]=C),j.next=20;break;case 15:throw j.prev=15,j.t0=j.catch(3),j.t0&&(C._errorCode=j.t0.code,C._errorString=j.t0.message),C.dispose(),j.t0;case 20:return j.prev=20,C._bNoMask||un("OnReady"),j.finish(20);case 23:case"end":return j.stop()}},b,this,[[3,15,20,23]])})),function(){return d.apply(this,arguments)})},{key:"_isBindViewer",value:function(){return this._bBindViewer}},{key:"_isNoViewer",value:function(){return!this._isBindViewer()}},{key:"getServiceInfo",value:function(){return x(A(r.prototype),"getServiceInfo",this).call(this)}},{key:"setViewerInfo",value:function(b){this._bBindViewer=b}},{key:"setViewerControlInfo",value:function(b){this._controlWidth=b.width,this._controlHeight=b.height}}],[{key:"create",value:(u=s(E().mark(function b(C){var D;return E().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return D=new r(C),M.next=3,No.STwainConnectToServer(D);case 3:return M.abrupt("return",D);case 4:case"end":return M.stop()}},b)})),function(b){return u.apply(this,arguments)})},{key:"_getBuffer",value:function(b){return ph._getBuffer(b._imageBufferWrapper)}},{key:"_setError",value:function(b,C,D){b._errorCode=C,b._errorString=D}},{key:"createByServiceInfo",value:(o=s(E().mark(function b(C,D,M){var j,Y,ee;return E().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return Y={id:m.guid(),dmService:D,bNoViewer:!0,bNoMask:D==null||(j=D.attrs)===null||j===void 0?void 0:j.bNoMask,bNotShowMessage:!0},(ee=new r(Y))._uuidForActiveUI=C,ee._bLicenseErrorDispose=!1,M&&(ee._containerElement=M),te.next=7,ee._connnect();case 7:return te.next=9,No.STwainConnectToServer(ee);case 9:return te.abrupt("return",ee);case 10:case"end":return te.stop()}},b)})),function(b,C,D){return o.apply(this,arguments)})},{key:"checkOnlineByServiceInfo",value:(i=s(E().mark(function b(C){var D,M;return E().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return D={id:m.guid(),dmService:C,bNoViewer:!0,bNoMask:!0,bNotShowMessage:!0},j.prev=1,M=new r(D),j.next=5,M._connnect();case 5:return M._bReady=!0,M._wsClient||(M._wsClient=new NC(null)),M.dispose(),j.abrupt("return",!0);case 11:return j.prev=11,j.t0=j.catch(1),m.warn(j.t0),j.abrupt("return",!1);case 15:case"end":return j.stop()}},b,null,[[1,11]])})),function(b){return i.apply(this,arguments)})},{key:"_isReady",value:function(b){return b._bReady}},{key:"_innerHTTPUpload",value:function(b,C,D,M,j,Y,ee,te,de,Z,ne,X,F,B,U,K){var q=Z,re=D;if(m.isUndefined(te))return go(b),void(m.isFunction(K)&&K({code:b._errorCode,message:b._errorString}));Q.cancelFrom=sr.HTTPUpload;var oe,fe=function(ue,ve,be,Ce){Q.needShowTwiceShowDialog=!1,b.IfShowProgressBar&&Q.closeProgress(null,C),m.isFunction(K)&&K({code:ue,message:ve,response:be,httpCode:Ce})},ae=b._createHttpUploaderConfig();if(ae.objUploadStatus=B,q=M_(q,te),Q.needShowTwiceShowDialog=!0,b.IfShowProgressBar?(Q.showProgress(b,C,!1),Q.progressContext&&(Q.progressContext._onPercent=function(ue){var ve=0;if(ue){var be,Ce;be=ue.loaded,Ce=ue.total,(ve=Math.floor(be/Ce*100))>100&&(ve=100)}Q.progressBarOnPercentDone(-1,"Transferring...","",ve,"")})):Q.hideProgress(),de==V.DWT.EnumDWT_UploadDataFormat.Binary){if(B&&B.bCancel)return B.st=2,Ia(b),void fe(b._errorCode,b._errorString);ae.onPercent([0,-1,tn.Encoding,"http"]),b._convertToBlobForUpload(te,ee,ne,4,function(ue,ve,be){if(oe=function(He){return Q.needShowTwiceShowDialog=!1,b.IfShowProgressBar&&Q.closeProgress(null,C),m.isFunction(U)&&ai(U,He),He=null,!0},B&&B.bCancel)return B.st=2,Ia(b),fe(b._errorCode,b._errorString);if(!ue||ue.size<=0)return zn(b),fe(b._errorCode,b._errorString);var Ce=b.__maxUploadImageSize;if(ue.size>Ce&&Ce!=-1)return nu(b),fe(b._errorCode,b._errorString);if(b._errorCode!=0)return fe(b._errorCode,b._errorString);V.DWT.IfAddMD5InUploadHeader&&ve&&ve!=""&&(j["dwt-md5"]=ve);var je=new mu,Ye=new es;Ye.url=re,Ye.method=C,Ye.content=ue,ue=null,Ye.contentType=b._strHttpContentTypeFieldValue,Ye.headers=j,Ye.fileName=q,Ye.httpFormData=Y,Ye.retry=X,Ye.bOnlyResponseEmptyIsOK=F,Ye.responseType=M,ae.objUploadStatus=B,je.httpPostUpload(ae,Ye,oe,fe)},fe)}else de==V.DWT.EnumDWT_UploadDataFormat.Base64&&b._convertToBase64ByServerIdsWithUI(C,ee,te,ne,4,function(ue){var ve,be;if(!ue||ue.getLength()<=0||(oe=function(je){return Q.needShowTwiceShowDialog=!1,b.IfShowProgressBar&&Q.closeProgress(null,C),m.isFunction(U)&&ai(U,je),!0},ve=ue.getMD5(),V.DWT.IfAddMD5InUploadHeader&&(j["dwt-md5"]=ve),!(be=ue.getData(0,ue.getLength()))||be==""))return zn(b),fe(b._errorCode,b._errorString);var Ce=new es;Ce.url=re,Ce.method=C,Ce.content=be,be=null,Ce.headers=j,Ce.fileName=q,Ce.httpFormData=Y,Ce.retry=X,Ce.bOnlyResponseEmptyIsOK=F,Ce.responseType=M,new mu().httpPostUpload(ae,Ce,oe,fe)},fe)}}]);var i,o,u,d,l,c,p,g,S,v}(lB),zE=Fr,pce=function(){return y(function F(B){var U=this;if(h(this,F),this._serverUrl=B,this._defaultDSScanClient=null,this._dsScanClientsMap={},this._serviceInfos=null,this._id=m.guid(),this.onBufferChanged=null,this.onPostTransferAsync=null,this._errorCode=0,this._errorString="",this._bDispose=!1,this._needSetLogLevel=!1,this._logLevel=-1,this._showProgressBar=!0,this._checkServerUrl(),this._id&&!V.DWT.RemoteScanIdMap[this._id]&&(V.DWT.RemoteScanIdMap[this._id]=this),this._uuidForRemoteScanObject="",Q.dlgProgress||Q.initProgress(null),V.DWT.UseDefaultViewer){var K={viewerEvents:{bufferChanged:function(q,re){U.__bufferChanged(U,q,re)},save:function(q,re,oe,fe){return U.__save(q,re,oe,fe)},rotate:function(q,re,oe){return U.__rotate(q,re,oe)},crop:function(q,re,oe,fe,ae){return U.__crop(q,{x:re,y:oe,width:fe,height:ae})}},viewerError:{setError:function(q,re){U._defaultDSScanClient?el._setError(U._defaultDSScanClient,q,re):q==0&&re==""||(U._errorCode=q,U._errorString=re)}},imageEditorEvents:{deskew:function(q,re){U.__deskew(U,q,re)},removeImage:function(){U.__remove(U)},removeAllImage:function(){U.__removeAll(U)},close:function(){U.__close(U)}},imageEditorUiConfig:{buttons:{visibility:{scan:!1,load:!1}}},beforeImageEditorCreated:function(q){U.__beforeImageEditorCreated(q)}};this._viewer=new V.DWTViewerEx(null,K)}else this._viewer=null},[{key:"Viewer",get:function(){return this._viewer}},{key:"_disposeDSClientByKey",value:(X=s(E().mark(function F(B){var U;return E().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:if(!(U=this._dsScanClientsMap[B])){K.next=10;break}if(U.isDestroy){K.next=9;break}if(!U.__unload){K.next=8;break}return K.next=6,U.__unload();case 6:K.next=9;break;case 8:U.dispose();case 9:delete this._dsScanClientsMap[B];case 10:case"end":return K.stop()}},F,this)})),function(F){return X.apply(this,arguments)})},{key:"_checkServerUrl",value:function(){var F=this._serverUrl;if(F&&m.isString(F)&&m.startsWith(location.href,"https://")&&m.startsWith(F,"http://")){var B={};throw function(K,q,re){Me(K,-2436,'Mixed Content: The page at "'+q+'" was loaded over HTTPS, but requested an insecure resource "'+re+'/ddm/18625/ddm/SearchScanner". This request has been blocked; the content must be served over HTTPS.')}(B,location.href,F),kr(B)}if(!m.isString(F)||F==""){var U={};throw Me(U,-2545,"The  proxy server URL is invalid."),kr(U)}}},{key:"getServices",value:(ne=s(E().mark(function F(B){var U,K,q,re,oe,fe,ae,ue,ve,be,Ce,je,Ye,He,St,ct,gt,$e,Je;return E().wrap(function(We){for(;;)switch(We.prev=We.next){case 0:if(!this._bDispose){We.next=4;break}throw ra(U={}),kr(U);case 4:if(K=this._serverUrl,this._checkServerUrl(),q=new K_(K,!0),On("getServices",this.getViewerElement()),We.prev=8,!B&&this._serviceInfos){We.next=68;break}if(re=null,oe=this._serviceInfos,this._serviceInfos=[],fe="",ae="",!Ji()){We.next=30;break}return We.next=16,this._setRemoteUuid();case 16:return We.prev=16,We.next=19,hy(V.DWT.lgdt(),"");case 19:(ue=We.sent)&&(fe=ue.ar,ae=this._uuidForRemoteScanObject),We.next=28;break;case 23:throw We.prev=23,We.t0=We.catch(16),qC(ve={},We.t0),{code:ve._errorCode,message:ve._errorString};case 28:We.next=31;break;case 30:fe=Ne.refProductKey;case 31:return We.next=33,q.getServices(fe,ae,B);case 33:if(!(re=We.sent)){We.next=68;break}Ce=[],be=0;case 37:if(!(be<re.length)){We.next=65;break}return He=tT(re[be]),St=(je=He==null||(Ye=He.attrs)===null||Ye===void 0?void 0:Ye.ty)!==null&&je!==void 0?je:"",We.next=42,el.checkOnlineByServiceInfo(He);case 42:if(!We.sent){We.next=60;break}if(He.attrs=He.attrs||{},He.attrs.bNoMask=!0,He.attrs.bNotShowMessage=!0,!oe){We.next=57;break}ct=void 0,ct=0;case 50:if(!(ct<oe.length)){We.next=57;break}if(!this.isSameService(He,oe[ct])){We.next=54;break}return oe.splice(ct,1),We.abrupt("break",57);case 54:ct++,We.next=50;break;case 57:this._serviceInfos.push(He),We.next=61;break;case 60:St+="(x)";case 61:Ce.push(St);case 62:be++,We.next=37;break;case 65:if(m.log("Find Dynamic Web TWAIN Services:"),m.log(Ce.join(", ")),oe)for(gt=0;gt<oe.length;gt++)(Je=($e=oe[gt])===null||$e===void 0||($e=$e.attrs)===null||$e===void 0?void 0:$e.UUID)&&this._disposeDSClientByKey(Je);case 68:this._needSetLogLevel&&this._logLevel!=-1&&this.setLogLevel(this._logLevel),We.next=74;break;case 71:throw We.prev=71,We.t1=We.catch(8),We.t1;case 74:We.prev=74,un("getServices");try{q._bInited&&q.dispose()}catch{}return We.finish(74);case 78:return We.abrupt("return",this._serviceInfos);case 79:case"end":return We.stop()}},F,this,[[8,71,74,78],[16,23]])})),function(F){return ne.apply(this,arguments)})},{key:"getDefaultService",value:function(){if(this._bDispose){var F={};throw ra(F),kr(F)}return this._defaultDSScanClient?this._defaultDSScanClient.getServiceInfo():null}},{key:"setDefaultService",value:(Z=s(E().mark(function F(B){var U,K,q,re;return E().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:if(!this._bDispose){oe.next=4;break}throw ra(U={}),kr(U);case 4:if(B!==null){oe.next=7;break}return this._defaultDSScanClient=null,oe.abrupt("return");case 7:if(B&&B instanceof eT){oe.next=11;break}throw mr(K={}),{code:K._errorCode,message:K._errorString};case 11:return q=this.getViewerElement(),oe.next=14,this._createDSClientByServiceInfo(B,!0,q._containerElement);case 14:if(!(re=oe.sent)){oe.next=18;break}return oe.next=18,this._innerSetDefault(re);case 18:case"end":return oe.stop()}},F,this)})),function(F){return Z.apply(this,arguments)})},{key:"_innerSetDefault",value:(de=s(E().mark(function F(B){var U,K,q;return E().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:if(!B){re.next=11;break}if(el._isReady(B)){re.next=5;break}throw q=(U=(K=B.getServiceInfo())===null||K===void 0||(K=K.attrs)===null||K===void 0?void 0:K.name)!==null&&U!==void 0?U:"",od(B,q),{code:B._getErrorCode(),message:B._getErrorString()};case 5:this._defaultDSScanClient=B,this._defaultDSScanClient.IfShowProgressBar=this._showProgressBar,this.Viewer&&this.Viewer.webViewer&&this.Viewer.webViewer.bindViewUI&&this._defaultDSScanClient.setViewerInfo(this.Viewer.webViewer.bindViewUI),this.__setViewerControlInfo(),this._registEventToDefaultDS(),this._viewer&&this._viewer.webViewer.setBufferService(el._getBuffer(this._defaultDSScanClient));case 11:case"end":return re.stop()}},F,this)})),function(F){return de.apply(this,arguments)})},{key:"__setViewerControlInfo",value:function(){this.Viewer.webViewer.bindViewUI&&this.Viewer.width&&this.Viewer.width>0&&this.Viewer.height&&this.Viewer.height>0&&this._defaultDSScanClient.setViewerControlInfo({width:this.Viewer.width,height:this.Viewer.height})}},{key:"__beforeImageEditorCreated",value:function(F){var B=V.DWT.CustomizableDisplayInfo;if(!m.isUndefined(B)){if(!m.isUndefined(B.buttons)){var U=B.buttons.titles;m.isUndefined(U)||(m.isUndefined(U.previous)||(F.buttons.titles.previous=U.previous),m.isUndefined(U.next)||(F.buttons.titles.next=U.next),m.isUndefined(U.print)||(F.buttons.titles.print=U.print),m.isUndefined(U.scan)||(F.buttons.titles.scan=U.scan),m.isUndefined(U.load)||(F.buttons.titles.load=U.load),m.isUndefined(U.rotateleft)||(F.buttons.titles.rotateleft=U.rotateleft),m.isUndefined(U.rotate)||(F.buttons.titles.rotate=U.rotate),m.isUndefined(U.rotateright)||(F.buttons.titles.rotateright=U.rotateright),m.isUndefined(U.deskew)||(F.buttons.titles.deskew=U.deskew),m.isUndefined(U.crop)||(F.buttons.titles.crop=U.crop),m.isUndefined(U.cut)||(F.buttons.titles.cut=U.cut),m.isUndefined(U.changeimagesize)||(F.buttons.titles.changeimagesize=U.changeimagesize),m.isUndefined(U.flip)||(F.buttons.titles.flip=U.flip),m.isUndefined(U.mirror)||(F.buttons.titles.mirror=U.mirror),m.isUndefined(U.zoomin)||(F.buttons.titles.zoomin=U.zoomin),m.isUndefined(U.originalsize)||(F.buttons.titles.originalsize=U.originalsize),m.isUndefined(U.zoomout)||(F.buttons.titles.zoomout=U.zoomout),m.isUndefined(U.stretch)||(F.buttons.titles.stretch=U.stretch),m.isUndefined(U.fit)||(F.buttons.titles.fit=U.fit),m.isUndefined(U.fitw)||(F.buttons.titles.fitw=U.fitw),m.isUndefined(U.fith)||(F.buttons.titles.fith=U.fith),m.isUndefined(U.hand)||(F.buttons.titles.hand=U.hand),m.isUndefined(U.rectselect)||(F.buttons.titles.rectselect=U.rectselect),m.isUndefined(U.zoom)||(F.buttons.titles.zoom=U.zoom),m.isUndefined(U.restore)||(F.buttons.titles.restore=U.restore),m.isUndefined(U.save)||(F.buttons.titles.save=U.save),m.isUndefined(U.close)||(F.buttons.titles.close=U.close),m.isUndefined(U.removeall)||(F.buttons.titles.removeall=U.removeall),m.isUndefined(U.removeselected)||(F.buttons.titles.removeselected=U.removeselected));var K=B.buttons.bShowAllButtons;m.isUndefined(K)||(F.buttons.bShowAllButtons=K);var q=B.buttons.visibility;m.isUndefined(q)||(m.isUndefined(q.scan)||(F.buttons.visibility.scan=q.scan),m.isUndefined(q.load)||(F.buttons.visibility.load=q.load),m.isUndefined(q.print)||(F.buttons.visibility.print=q.print),m.isUndefined(q.removeall)||(F.buttons.visibility.removeall=q.removeall),m.isUndefined(q.removeselected)||(F.buttons.visibility.removeselected=q.removeselected),m.isUndefined(q.rotateleft)||(F.buttons.visibility.rotateleft=q.rotateleft),m.isUndefined(q.rotate)||(F.buttons.visibility.rotate=q.rotate),m.isUndefined(q.rotateright)||(F.buttons.visibility.rotateright=q.rotateright),m.isUndefined(q.deskew)||(F.buttons.visibility.deskew=q.deskew),m.isUndefined(q.crop)||(F.buttons.visibility.crop=q.crop),m.isUndefined(q.cut)||(F.buttons.visibility.cut=q.cut),m.isUndefined(q.changeimagesize)||(F.buttons.visibility.changeimagesize=q.changeimagesize),m.isUndefined(q.flip)||(F.buttons.visibility.flip=q.flip),m.isUndefined(q.mirror)||(F.buttons.visibility.mirror=q.mirror),m.isUndefined(q.zoomin)||(F.buttons.visibility.zoomin=q.zoomin),m.isUndefined(q.originalsize)||(F.buttons.visibility.originalsize=q.originalsize),m.isUndefined(q.zoomout)||(F.buttons.visibility.zoomout=q.zoomout),m.isUndefined(q.stretch)||(F.buttons.visibility.stretch=q.stretch),m.isUndefined(q.fit)||(F.buttons.visibility.fit=q.fit),m.isUndefined(q.fitw)||(F.buttons.visibility.fitw=q.fitw),m.isUndefined(q.fith)||(F.buttons.visibility.fith=q.fith),m.isUndefined(q.hand)||(F.buttons.visibility.hand=q.hand),m.isUndefined(q.rectselect)||(F.buttons.visibility.rectselect=q.rectselect),m.isUndefined(q.zoom)||(F.buttons.visibility.zoom=q.zoom))}var re=B.dialogText;m.isUndefined(re)||(m.isUndefined(re.dlgRotateAnyAngle)||(F.dialogText.dlgRotateAnyAngle=re.dlgRotateAnyAngle),m.isUndefined(re.dlgChangeImageSize)||(F.dialogText.dlgChangeImageSize=re.dlgChangeImageSize),m.isUndefined(re.saveChangedImage)||(F.dialogText.saveChangedImage=re.saveChangedImage),m.isUndefined(re.selectSource)||(F.dialogText.selectSource=re.selectSource))}}},{key:"__bufferChanged",value:function(F,B,U){var K,q=F,re=[],oe=-1,fe=[];B.operation&&(B.action=B.operation);for(var ae=0;ae<q.howManyImagesInBuffer;ae++)(K=q._defaultDSScanClient.getCustomDataByIndex(ae))&&K.uidFromServer&&re.push(K.uidFromServer);if(B.imageIds=re,B.curIndex>=0&&(K=q._defaultDSScanClient.getCustomDataByIndex(B.curIndex))&&K.uidFromServer&&(oe=K.uidFromServer),B.currentId=oe,B.afterStatus.selectedUids)for(var ue=0;ue<B.afterStatus.selectedUids.length;ue++){var ve=B.afterStatus.selectedUids[ue];if(ve&&ve!=-1){var be=q._defaultDSScanClient.getIndexByUid(B.afterStatus.selectedUids[ue]);be>=0&&(K=q._defaultDSScanClient.getCustomDataByIndex(be))&&K.serverId&&fe.push(K.uidFromServer)}}B.selectedIds=fe,m.mix(B,{}),delete B.uids,delete B.currentUid,delete B.selectedUids,delete B.afterStatus,delete B.beforeStatus,delete B.operation,delete B.curIndex,delete B.docUid,delete B.docName,q.__fireEvent("onBufferChanged",B)}},{key:"__acquire",value:function(F,B){var U=F;U._stwain.SelectSource(function(){U._stwain.CloseSource(),U._stwain.OpenSource(),U._stwain.IfShowUI=!0,V.DWT.IfConfineMaskWithinTheViewer==1?(V.DWT.IfConfineMaskWithinTheViewer=!1,U._stwain.AcquireImage({},function(){V.DWT.IfConfineMaskWithinTheViewer=!0},function(){})):U._stwain.AcquireImage()},function(){m.log("User did not select a source")})}},{key:"__remove",value:(te=s(E().mark(function F(B){var U,K;return E().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:if(U=this,!this._defaultDSScanClient){q.next=10;break}if(Kn(this._defaultDSScanClient),!(U.howManyImagesInBuffer<=0||U.currentImageIndexInBuffer<0)){q.next=6;break}return zE.output(U,"No image in Buffer"),q.abrupt("return",!0);case 6:return K=el._getBuffer(this._defaultDSScanClient),q.next=9,this._defaultDSScanClient.removeImages(K.getSelectedImagesIndices());case 9:return q.abrupt("return",q.sent);case 10:return q.abrupt("return",!1);case 11:case"end":return q.stop()}},F,this)})),function(F){return te.apply(this,arguments)})},{key:"__removeAll",value:(ee=s(E().mark(function F(B){return E().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(!this._defaultDSScanClient){U.next=4;break}return Kn(this._defaultDSScanClient),U.next=4,this._defaultDSScanClient._removeAllImagesAsync("removeAllImages",!0);case 4:return U.abrupt("return",!1);case 5:case"end":return U.stop()}},F,this)})),function(F){return ee.apply(this,arguments)})},{key:"__save",value:(Y=s(E().mark(function F(B,U,K,q){var re,oe,fe;return E().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:if(oe="save",fe=(re=this).__getViewerElementForViewer(re,q),On(oe,fe),ae.prev=3,Kn(re._defaultDSScanClient),!(re.howManyImagesInBuffer<=0||re.currentImageIndexInBuffer<0)){ae.next=8;break}return zE.output(re,"No image in Buffer"),ae.abrupt("return");case 8:return ae.next=10,re._defaultDSScanClient.updateImage(B,U,K);case 10:return ae.sent,ae.next=13,re._defaultDSScanClient.__saveToViewerAfterUpdate(B,K);case 13:ae.next=17;break;case 15:ae.prev=15,ae.t0=ae.catch(3);case 17:return ae.prev=17,un(oe),ae.finish(17);case 20:case"end":return ae.stop()}},F,this,[[3,15,17,20]])})),function(F,B,U,K){return Y.apply(this,arguments)})},{key:"__getViewerElementForViewer",value:function(F,B){var U,K=F;if(B)if(K._viewer.webViewer.imageEditor){var q=K._viewer.createImageEditor();U=q.inner.containerElement.className=="dwt-viewer-imageEditor-fullScreen"?{_containerElement:document.body}:{_containerElement:q.inner.containerElement}}else U=K.getViewerElement();else U=K.getViewerElement();return U}},{key:"__close",value:function(F){var B=F;if(m.isFunction(B.__CloseImageEditorUI))try{B.__CloseImageEditorUI()}catch(U){qr(U)}}},{key:"__deskew",value:function(F,B,U){var K=this,q="deskew";if(Kn(K._defaultDSScanClient),K.howManyImagesInBuffer<=0||K.currentImageIndexInBuffer<0)zE.output(K,"No image in Buffer");else{var re=K.__getViewerElementForViewer(K,!0);On(q,re),K._defaultDSScanClient.getSkewAngleFromBinaryAsync(K.currentImageIndexInBuffer,B,function(oe){U(oe[0]),un(q)},function(){un(q)})}}},{key:"__rotate",value:(j=s(E().mark(function F(B,U,K){var q;return E().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return Kn(this._defaultDSScanClient),re.next=4,this._makeSureDefaultServiceInfo();case 4:if(this._defaultDSScanClient){re.next=6;break}throw Cf();case 6:return re.next=8,this._defaultDSScanClient.rotate(B,U,K,-1);case 8:return q=re.sent,re.abrupt("return",q);case 10:case"end":return re.stop()}},F,this)})),function(F,B,U){return j.apply(this,arguments)})},{key:"__crop",value:(M=s(E().mark(function F(B,U){var K;return E().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return Kn(this._defaultDSScanClient),q.next=4,this._makeSureDefaultServiceInfo();case 4:if(this._defaultDSScanClient){q.next=6;break}throw Cf();case 6:return q.next=8,this._defaultDSScanClient.crop(B,U);case 8:return K=q.sent,q.abrupt("return",K);case 10:case"end":return q.stop()}},F,this)})),function(F,B){return M.apply(this,arguments)})},{key:"__fireEvent",value:function(F,B){return!m.isFunction(this[F])||this[F](B)}},{key:"getDevices",value:(D=s(E().mark(function F(B){var U,K,q,re,oe,fe,ae,ue,ve,be,Ce,je,Ye,He,St,ct,gt,$e,Je,We,Ke,Qt,Lt;return E().wrap(function(ze){for(;;)switch(ze.prev=ze.next){case 0:if(!this._bDispose){ze.next=4;break}throw ra(K={}),kr(K);case 4:if(q=[],re="getDevices",oe=this.getViewerElement(),fe=!1,ue=B==null?void 0:B.serviceInfo,ve=(U=B==null?void 0:B.deviceType)!==null&&U!==void 0?U:Qp,On(re,oe),ze.prev=6,Ce=!1,je=[],this._serviceInfos){ze.next=12;break}return ze.next=12,this.getServices();case 12:if(!ue){ze.next=25;break}return ze.next=15,this._createDSClientByServiceInfo(ue,!0);case 15:if(!(He=ze.sent)){ze.next=21;break}je.push(He),Ce=!1,ze.next=23;break;case 21:throw tQ(ue==null||(St=ue.attrs)===null||St===void 0?void 0:St.ty);case 23:ze.next=37;break;case 25:if(!this._serviceInfos){ze.next=37;break}Ye=0;case 27:if(!(Ye<this._serviceInfos.length)){ze.next=36;break}return ct=this._serviceInfos[Ye],ze.next=31,this._createDSClientByServiceInfo(ct);case 31:(gt=ze.sent)&&je.push(gt);case 33:Ye++,ze.next=27;break;case 36:Ce=!0;case 37:Ye=0;case 38:if(!(Ye<je.length)){ze.next=59;break}return $e=void 0,ze.prev=40,ze.next=43,je[Ye].getDevices(ve,B==null?void 0:B.refresh,fe);case 43:if($e=ze.sent,m.isArray($e)&&$e.length>0)for(ae=0;ae<$e.length;ae++)q.push($e[ae]);ze.next=51;break;case 47:ze.prev=47,ze.t0=ze.catch(40),be=ze.t0;case 51:return ze.prev=51,Je=null,this._defaultDSScanClient&&(Je=(We=this._defaultDSScanClient.getServiceInfo())===null||We===void 0||(We=We.attrs)===null||We===void 0?void 0:We.UUID,this._defaultDSScanClient.isDestroy&&(this._disposeDSClientByKey(Je),this._defaultDSScanClient=null,Je=null)),Ce&&(Qt=je[Ye].getServiceInfo(),(Lt=Qt==null||(Ke=Qt.attrs)===null||Ke===void 0?void 0:Ke.UUID)&&Lt!=Je&&this._disposeDSClientByKey(Lt)),ze.finish(51);case 56:Ye++,ze.next=38;break;case 59:ze.next=64;break;case 61:throw ze.prev=61,ze.t1=ze.catch(6),ze.t1;case 64:return ze.prev=64,un(re),be&&V.DWT.lsetException(be.code,be.message),ze.finish(64);case 68:return ze.abrupt("return",q);case 69:case"end":return ze.stop()}},F,this,[[6,61,64,68],[40,47,51,56]])})),function(F){return D.apply(this,arguments)})},{key:"acquireImage",value:(C=s(E().mark(function F(B,U){var K,q,re,oe,fe,ae,ue,ve,be,Ce,je,Ye,He,St;return E().wrap(function(ct){for(;;)switch(ct.prev=ct.next){case 0:if(!(K=this)._bDispose){ct.next=5;break}throw ra(q={}),kr(q);case 5:if(B&&B instanceof Qa){ct.next=9;break}throw mr(re={}),{code:re._errorCode,message:re._errorString};case 9:return fe="acquireImage",ae=K.getViewerElement(),ue=[],On(fe,ae),ct.prev=12,m.isUndefined(U)&&(U={}),m.isUndefined(U.IfShowUI)&&(U.IfShowUI=!1),m.isUndefined(U.IfCloseSourceAfterAcquire)&&(U.IfCloseSourceAfterAcquire=!0),ve=B.serviceInfo,ct.next=19,this._createDSClientByServiceInfo(ve,!0);case 19:if(!(oe=ct.sent)){ct.next=47;break}if(K._defaultDSScanClient){ct.next=24;break}return ct.next=24,K._innerSetDefault(oe);case 24:ue.push(oe),oe!=K._defaultDSScanClient&&ue.push(K._defaultDSScanClient),be=0;case 27:if(!(be<ue.length)){ct.next=36;break}if(Ce=ue[be],el._isReady(Ce)){ct.next=33;break}throw He=(je=(Ye=Ce.getServiceInfo())===null||Ye===void 0||(Ye=Ye.attrs)===null||Ye===void 0?void 0:Ye.name)!==null&&je!==void 0?je:"",od(Ce,He),{code:Ce._getErrorCode(),message:Ce._getErrorString()};case 33:be++,ct.next=27;break;case 36:if(K.onPostTransferAsync?oe.registerEvent("OnPostTransferAsync",K.onPostTransferAsync):oe.unregisterEvent("OnPostTransferAsync"),this.__setViewerControlInfo(),oe!=K._defaultDSScanClient){ct.next=43;break}return ct.next=41,oe.acquireImage(B,U);case 41:ct.next=45;break;case 43:return ct.next=45,oe._acquireImageForSendTo(fe,B,U,K._defaultDSScanClient);case 45:ct.next=49;break;case 47:throw TR(ve==null||(St=ve.attrs)===null||St===void 0?void 0:St.name);case 49:ct.next=54;break;case 51:throw ct.prev=51,ct.t0=ct.catch(12),ct.t0;case 54:return ct.prev=54,oe&&oe.__closeRemoteScanUI(!0),un(fe),ct.finish(54);case 58:case"end":return ct.stop()}},F,this,[[12,51,54,58]])})),function(F,B){return C.apply(this,arguments)})},{key:"_waitForDSValid",value:function(F,B){for(var U=0,K=F.length,q=this;U<K;U++)if(!el._isReady(F[U]))return void setTimeout(function(){q._waitForDSValid(F,B)},vn.RemoteReconnectTimeSpan);m.isFunction(q[B.command])&&q[B.command].apply(q,B.parmas)}},{key:"getCapabilities",value:(b=s(E().mark(function F(B){var U,K,q,re,oe,fe,ae;return E().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:if(!this._bDispose){ue.next=4;break}throw ra(U={}),kr(U);case 4:if(B&&B instanceof Qa){ue.next=8;break}throw mr(K={}),kr(K);case 8:return re="getCapabilities",oe=[],fe=this.getViewerElement(),On(re,fe),ue.prev=10,ae=B.serviceInfo,ue.next=14,this._createDSClientByServiceInfo(ae,!0);case 14:if(q=ue.sent,!(q=this._findDSClientByServiceInfo(ae))){ue.next=20;break}return ue.next=19,q.getCapabilities(B);case 19:oe=ue.sent;case 20:ue.next=25;break;case 22:throw ue.prev=22,ue.t0=ue.catch(10),ue.t0;case 25:return ue.prev=25,q&&q.__closeRemoteScanUI(!0),un(re),ue.finish(25);case 29:return ue.abrupt("return",oe);case 30:case"end":return ue.stop()}},F,this,[[10,22,25,29]])})),function(F){return b.apply(this,arguments)})},{key:"setCapabilities",value:(v=s(E().mark(function F(B,U){var K,q,re,oe,fe,ae;return E().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:if(!this._bDispose){ue.next=4;break}throw ra(K={}),kr(K);case 4:if(B&&B instanceof Qa){ue.next=8;break}throw mr(q={}),kr(q);case 8:return oe="setCapabilities",fe=this.getViewerElement(),On(oe,fe),ue.prev=10,ae=B.serviceInfo,ue.next=14,this._createDSClientByServiceInfo(ae,!0);case 14:if(!(re=ue.sent)){ue.next=18;break}return ue.next=18,re.setCapabilities(B,U);case 18:ue.next=23;break;case 20:throw ue.prev=20,ue.t0=ue.catch(10),ue.t0;case 23:return ue.prev=23,re&&re.__closeRemoteScanUI(!0),un(oe),ue.finish(23);case 27:case"end":return ue.stop()}},F,this,[[10,20,23,27]])})),function(F,B){return v.apply(this,arguments)})},{key:"closeSource",value:(S=s(E().mark(function F(B){var U,K,q,re,oe,fe;return E().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:if(!this._bDispose){ae.next=4;break}throw ra(U={}),kr(U);case 4:if(B&&B instanceof Qa){ae.next=8;break}throw mr(K={}),kr(K);case 8:return q="closeSource",re=this.getViewerElement(),On(q,re),ae.prev=10,oe=B.serviceInfo,fe=this._findDSClientByServiceInfo(oe),ae.next=15,fe.closeSource();case 15:ae.next=20;break;case 17:throw ae.prev=17,ae.t0=ae.catch(10),ae.t0;case 20:return ae.prev=20,un(q),ae.finish(20);case 23:case"end":return ae.stop()}},F,this,[[10,17,20,23]])})),function(F){return S.apply(this,arguments)})},{key:"_putDSClientToMap",value:function(F,B){var U,K=F==null||(U=F.attrs)===null||U===void 0?void 0:U.UUID;K&&(this._dsScanClientsMap[K]=B)}},{key:"_getDSClientFromMap",value:function(F){var B,U=F==null||(B=F.attrs)===null||B===void 0?void 0:B.UUID;return U?this._dsScanClientsMap[U]:null}},{key:"_createDSClientByServiceInfo",value:(g=s(E().mark(function F(B,U,K){var q,re,oe,fe;return E().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:if(this._serviceInfos){ae.next=3;break}return ae.next=3,this.getServices();case 3:if(q=this._findDSClientByServiceInfo(B)){ae.next=20;break}return ae.next=7,this._setRemoteUuid();case 7:return ae.prev=7,ae.next=10,el.createByServiceInfo(this._uuidForRemoteScanObject,B,K);case 10:(q=ae.sent)&&this._putDSClientToMap(B,q),ae.next=20;break;case 14:if(ae.prev=14,ae.t0=ae.catch(7),ae.t0.code==er.MustUpgrade&&(oe=B==null||(re=B.attrs)===null||re===void 0?void 0:re.ty)&&(yf(fe={},oe),ae.t0.message=fe._errorString),!U){ae.next=19;break}throw ae.t0;case 19:m.warn(ae.t0);case 20:return ae.abrupt("return",q);case 21:case"end":return ae.stop()}},F,this,[[7,14]])})),function(F,B,U){return g.apply(this,arguments)})},{key:"_makeSureDefaultServiceInfo",value:(p=s(E().mark(function F(){var B;return E().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(this._serviceInfos){U.next=3;break}return U.next=3,this.getServices();case 3:if(!(this._serviceInfos&&this._serviceInfos.length>0)){U.next=8;break}return B=this._serviceInfos[0],U.next=7,this._createDSClientByServiceInfo(B);case 7:return U.abrupt("return",U.sent);case 8:return U.abrupt("return",null);case 9:case"end":return U.stop()}},F,this)})),function(){return p.apply(this,arguments)})},{key:"httpUpload",value:(c=s(E().mark(function F(B,U,K,q,re,oe){var fe,ae,ue,ve;return E().wrap(function(be){for(;;)switch(be.prev=be.next){case 0:if(!this._bDispose){be.next=4;break}return ra(fe={}),be.abrupt("return",Q.Promise.reject(kr(fe)));case 4:return ue=this.getViewerElement(),ve=ue._containerElement,be.next=7,this._makeSureDefaultServiceInfo();case 7:if(this._defaultDSScanClient){be.next=9;break}throw Cf();case 9:return be.next=11,this._defaultDSScanClient.httpUpload(B,U,K,q,re,oe,ve);case 11:return ae=be.sent,be.abrupt("return",ae);case 13:case"end":return be.stop()}},F,this)})),function(F,B,U,K,q,re){return c.apply(this,arguments)})},{key:"runCommand",value:function(F){return this._defaultDSScanClient.RunCommandAsync(F)}},{key:"removeImages",value:(l=s(E().mark(function F(B){var U,K,q,re,oe;return E().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:if(!this._bDispose){fe.next=4;break}return ra(U={}),fe.abrupt("return",Q.Promise.reject(kr(U)));case 4:return K="removeImages",re=this.getViewerElement(),On(K,re),fe.prev=6,fe.next=9,this._makeSureDefaultServiceInfo();case 9:if(this._defaultDSScanClient){fe.next=11;break}throw Cf();case 11:if(!this._defaultDSScanClient){fe.next=17;break}return fe.next=14,this._defaultDSScanClient.removeImages(B);case 14:q=fe.sent,fe.next=21;break;case 17:if(this.howManyImagesInBuffer!=0){fe.next=21;break}if(oe={},dB(B,this.howManyImagesInBuffer,oe)){fe.next=21;break}throw{code:oe._errorCode,message:oe._errorString};case 21:fe.next=26;break;case 23:throw fe.prev=23,fe.t0=fe.catch(6),fe.t0;case 26:return fe.prev=26,un(K),fe.finish(26);case 29:return fe.abrupt("return",q);case 30:case"end":return fe.stop()}},F,this,[[6,23,26,29]])})),function(F){return l.apply(this,arguments)})},{key:"saveImages",value:(d=s(E().mark(function F(B,U,K){var q,re,oe,fe;return E().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:if(q={},!this._bDispose){ae.next=4;break}return ra(q),ae.abrupt("return",Q.Promise.reject(kr(q)));case 4:if(this.howManyImagesInBuffer!=0){ae.next=7;break}return Ii(q),ae.abrupt("return",Q.Promise.reject(kr(q)));case 7:if(m.isNumber(K)){ae.next=10;break}return mr(q),ae.abrupt("return",Q.Promise.reject(kr(q)));case 10:if(K!=vr.IT_BMP&&K!=vr.IT_JPG&&K!=vr.IT_PNG){ae.next=16;break}if(!(U.length>1)){ae.next=14;break}return YK(q),ae.abrupt("return",Q.Promise.reject(kr(q)));case 14:ae.next=27;break;case 16:if(K!=vr.IT_TIF&&K!=vr.IT_PDF){ae.next=20;break}ae.next=27;break;case 20:if(K!=vr.IT_ALL&&K!=vr.IT_MULTIPAGE_PDF&&K!=vr.IT_MULTIPAGE_TIF){ae.next=25;break}return DR(q),ae.abrupt("return",Q.Promise.reject(kr(q)));case 25:return go(q),ae.abrupt("return",Q.Promise.reject(kr(q)));case 27:return oe=this.getViewerElement(),fe=oe._containerElement,ae.next=30,this._makeSureDefaultServiceInfo();case 30:if(this._defaultDSScanClient){ae.next=32;break}throw Cf();case 32:return ae.next=34,this._defaultDSScanClient.saveImages(B,U,K,fe);case 34:return re=ae.sent,ae.abrupt("return",re);case 36:case"end":return ae.stop()}},F,this)})),function(F,B,U){return d.apply(this,arguments)})},{key:"getImages",value:(u=s(E().mark(function F(B,U,K){var q,re,oe,fe;return E().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:if(q={},!this._bDispose){ae.next=4;break}return ra(q),ae.abrupt("return",Q.Promise.reject(kr(q)));case 4:if(this.howManyImagesInBuffer!=0){ae.next=7;break}return Ii(q),ae.abrupt("return",Q.Promise.reject(kr(q)));case 7:if(m.isNumber(U)&&m.isNumber(K)){ae.next=10;break}return mr(q),ae.abrupt("return",Q.Promise.reject(kr(q)));case 10:return oe=this.getViewerElement(),fe=oe._containerElement,ae.next=13,this._makeSureDefaultServiceInfo();case 13:if(this._defaultDSScanClient){ae.next=15;break}throw Cf();case 15:return ae.next=17,this._defaultDSScanClient.getImages(B,U,K,fe);case 17:return re=ae.sent,ae.abrupt("return",re);case 19:case"end":return ae.stop()}},F,this)})),function(F,B,U){return u.apply(this,arguments)})},{key:"__unload",value:(o=s(E().mark(function F(){var B,U,K,q;return E().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:if(this._viewer&&this._viewer.unbind(),!this._dsScanClientsMap){re.next=12;break}U=this._dsScanClientsMap,K=Object.keys(U),B=0;case 5:if(!(B<K.length)){re.next=12;break}return q=K[B],re.next=9,this._disposeDSClientByKey(q);case 9:B++,re.next=5;break;case 12:this._dsScanClientsMap=null,this._bDispose=!0;case 14:case"end":return re.stop()}},F,this)})),function(){return o.apply(this,arguments)})},{key:"dispose",value:function(){return this.__unload()}},{key:"setLogLevel",value:function(F){var B,U=this._dsScanClientsMap;if(U){var K=Object.keys(U);for(B=0;B<K.length;B++)U[K[B]]._setLogLevel(F);this._needSetLogLevel=!1,this._logLevel=-1}else this._needSetLogLevel=!0,this._logLevel=F;return!0}},{key:"getProfile",value:(i=s(E().mark(function F(B){var U,K,q,re;return E().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:if(U="",B&&B instanceof Qa){oe.next=5;break}throw mr(K={}),{code:K._errorCode,message:K._errorString};case 5:return oe.prev=5,q=B.serviceInfo,oe.next=9,this._createDSClientByServiceInfo(q,!0);case 9:if(!(re=oe.sent)){oe.next=14;break}return oe.next=13,re.getProfile(B);case 13:U=oe.sent;case 14:oe.next=19;break;case 16:throw oe.prev=16,oe.t0=oe.catch(5),oe.t0;case 19:return oe.abrupt("return",U);case 20:case"end":return oe.stop()}},F,this,[[5,16]])})),function(F){return i.apply(this,arguments)})},{key:"setProfile",value:(r=s(E().mark(function F(B,U){var K,q,re,oe;return E().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:if(K="",B&&B instanceof Qa){fe.next=5;break}throw mr(q={}),{code:q._errorCode,message:q._errorString};case 5:return fe.prev=5,re=B.serviceInfo,fe.next=9,this._createDSClientByServiceInfo(re,!0);case 9:if(!(oe=fe.sent)){fe.next=14;break}return fe.next=13,oe.setProfile(B,U);case 13:K=fe.sent;case 14:fe.next=19;break;case 16:throw fe.prev=16,fe.t0=fe.catch(5),fe.t0;case 19:return fe.abrupt("return",K);case 20:case"end":return fe.stop()}},F,this,[[5,16]])})),function(F,B){return r.apply(this,arguments)})},{key:"imageIDToIndex",value:function(F){return this._defaultDSScanClient?this._defaultDSScanClient.imageIDToIndex(F):0}},{key:"indexToImageID",value:function(F){return this._defaultDSScanClient?this._defaultDSScanClient.indexToImageID(F):""}},{key:"howManyImagesInBuffer",get:function(){return this._defaultDSScanClient?this._defaultDSScanClient.howManyImagesInBuffer:0}},{key:"currentImageIndexInBuffer",get:function(){return this._defaultDSScanClient?this._defaultDSScanClient.currentImageIndexInBuffer:-1},set:function(F){this._defaultDSScanClient&&(this._defaultDSScanClient.currentImageIndexInBuffer=F)}},{key:"showProgressBar",get:function(){return this._defaultDSScanClient?this._defaultDSScanClient.IfShowProgressBar:this._showProgressBar},set:function(F){this._defaultDSScanClient?(this._showProgressBar=F,this._defaultDSScanClient.IfShowProgressBar=F):this._showProgressBar}},{key:"registerEvent",value:function(F,B){if(this._bDispose){var U={};return ra(U),Q.Promise.reject(kr(U))}if(!m.isFunction(B)){var K={};return bR(K),Q.Promise.reject(kr(K))}if(F=="onBufferChanged"||F=="OnBufferChanged")this.onBufferChanged=B;else{if(F!="onPostTransferAsync"&&F!="OnPostTransferAsync"){var q={};return yR(q),Q.Promise.reject(kr(q))}this.onPostTransferAsync=B}return this._registEventToDefaultDS(),!0}},{key:"unregisterEvent",value:function(F,B){if(this._bDispose){var U={};return ra(U),Q.Promise.reject(kr(U))}if(F=="onBufferChanged"||F=="OnBufferChanged"){if(this.onBufferChanged=null,this._defaultDSScanClient)return this._defaultDSScanClient.unregisterEvent("OnBufferChanged",B)}else{if(F!="onPostTransferAsync"&&F!="OnPostTransferAsync"){var K={};return yR(K),Q.Promise.reject(kr(K))}if(this.onPostTransferAsync=null,this._defaultDSScanClient)return this._defaultDSScanClient.unregisterEvent("OnPostTransferAsync",B)}}},{key:"getViewerElement",value:function(){return this.Viewer&&this.Viewer.webViewer&&this.Viewer.webViewer.containerElement?{_containerElement:this.Viewer.webViewer.containerElement}:{_containerElement:document.body}}},{key:"isSameService",value:function(F,B){return!(!F||!B)&&F.server==B.server&&F.attrs.UUID==B.attrs.UUID&&F.attrs.accessmode==B.attrs.accessmode&&F.attrs.name==B.attrs.name&&F.attrs.os==B.attrs.os&&F.attrs.service_type==B.attrs.service_type&&F.attrs.tags==B.attrs.tags&&F.attrs.ty==B.attrs.ty&&F.attrs.type==B.attrs.type&&F.attrs.txtvers==B.attrs.txtvers}},{key:"_findDSClientByServiceInfo",value:function(F){var B,U=this._serviceInfos;if(U)for(B=0;B<U.length;B++){var K=U[B];if(this.isSameService(F,K)){var q=this._getDSClientFromMap(K);if(q){var re;if(el._isReady(q))return q;q.isDestroy||q.dispose();var oe=K==null||(re=K.attrs)===null||re===void 0?void 0:re.UUID;oe&&delete this._dsScanClientsMap[oe]}break}}return null}},{key:"_setRemoteUuid",value:(t=s(E().mark(function F(){var B;return E().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(!Ji()){U.next=6;break}if(this._uuidForRemoteScanObject){U.next=6;break}return U.next=4,V.DWT.lgcuid(V.DWT.lgdt(),"");case 4:B=U.sent,this._uuidForRemoteScanObject=B;case 6:case"end":return U.stop()}},F,this)})),function(){return t.apply(this,arguments)})},{key:"_registEventToDefaultDS",value:function(){this._defaultDSScanClient&&(this.onBufferChanged&&this._defaultDSScanClient.registerEvent("OnBufferChanged",this.onBufferChanged),this.onPostTransferAsync&&this._defaultDSScanClient.registerEvent("OnPostTransferAsync",this.onPostTransferAsync))}}]);var t,r,i,o,u,d,l,c,p,g,S,v,b,C,D,M,j,Y,ee,te,de,Z,ne,X}(),Q_=!1;function KE(t,r){return QE.apply(this,arguments)}function QE(){return QE=s(E().mark(function t(r,i){var o,u;return E().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return i&&wn("Checking Product Key format..."),d.next=3,It.preParseProductKey(i);case 3:if((o=V.DWT.licenseException).code==0){d.next=7;break}throw r&&$C(o),{code:o.code,message:o.message};case 7:if(Q_){d.next=15;break}if(u=!1,he.bIE&&(u=he.IEVersion<=7),u||!Ji()){d.next=15;break}if(V.DWT.IfLoadResources){d.next=14;break}return Q_=!0,d.abrupt("return");case 14:return d.abrupt("return",new Q.Promise(function(l,c){var p=Bu(),g="";!he.bFileSystem&&V.DWT.IfResourcesAddTimestamp&&(g=Q.timestamp),m.addScript([p,"/src/dynamsoft.lts.js",g].join(""),!0,!1,function(S){if(V.LTS&&V.LTS._)return Q_=!0,void l();if(S){if(he.bIE)return void c({code:-2822,message:"The WebTwain JavaScript lts.js load failed."});if(S.type=="error")return void c({code:-2822,message:"The WebTwain JavaScript lts.js load failed."})}Q_=!0,l()})}));case 15:case"end":return d.stop()}},t)})),QE.apply(this,arguments)}function mce(t,r,i){return YE.apply(this,arguments)}function YE(){return YE=s(E().mark(function t(r,i,o){var u,d,l,c,p,g,S,v,b,C,D;return E().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:u=V.DWT.Containers,d=0;case 2:if(!(d<u.length)){M.next=53;break}if(!(l=m.clone(u[d])).ContainerId){M.next=8;break}if(!V.DWT.ContainerMap[l.ContainerId]){M.next=8;break}return M.abrupt("continue",50);case 8:if(!l.WebTwainId){M.next=12;break}if(!V.DWT.WebTwainIdMap[l.WebTwainId]){M.next=12;break}return M.abrupt("continue",50);case 12:if(l.Host=r,l.SSLPort=o,l.Port=i,!m.isDOM(l.Container)){M.next=19;break}M.next=26;break;case 19:if(!l.ContainerId){M.next=26;break}if(g=l.ContainerId,m.isString(g)){M.next=23;break}throw qK();case 23:if(l.Container=m.get(g),l.Container){M.next=26;break}throw PR(g);case 26:if(!CE(l.Container)){M.next=33;break}return S=document.createElement("div"),l.Container.appendChild(S),l.Container=S,v=bE(S),M.next=33,_k(v);case 33:return rY(b=Qk(l)),C=void 0,M.prev=36,M.next=39,rU.create(b);case 39:C=M.sent,M.next=46;break;case 42:throw M.prev=42,M.t0=M.catch(36),C&&C.dispose(),M.t0;case 46:if((p=V.DWT.licenseException).code===0){M.next=49;break}throw{code:p.code,message:p.message};case 49:c=C;case 50:d++,M.next=2;break;case 53:D=window,c&&(D.DCP_DWT_OnClickCloseInstall&&D.DCP_DWT_OnClickCloseInstall(!1,!0),aU(c),cB(c)),setTimeout(function(){try{var j=0,Y=V.DWT.ContainerMap;if(Y&&(j=Object.keys(Y).length),j==0&&(Y=V.DWT.WebTwainIdMap)&&(j=Object.keys(Y).length),j==0)return;m.isFunction(V.DWT.OnWebTwainReady)?V.DWT.OnWebTwainReady():m.isFunction(D.Dynamsoft_OnReady)&&D.Dynamsoft_OnReady()}catch(ee){qr(ee)}},10);case 56:case"end":return M.stop()}},t,null,[[36,42]])})),YE.apply(this,arguments)}function uU(){return JE.apply(this,arguments)}function JE(){return JE=s(E().mark(function t(){var r,i,o,u,d,l,c,p,g,S,v,b,C;return E().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(Q.page.bUnload=Fe,Ne.bHTML5Edition){D.next=3;break}return D.abrupt("return",V.DWT._innerLoad());case 3:return D.next=5,KE(!0,!0);case 5:if((r=V.DWT.Containers)&&r.length!==0){D.next=10;break}throw AR(i={}),{code:i._errorCode,message:i._errorString};case 10:d=!1,l=[],c=[],o=0;case 12:if(!(o<r.length)){D.next=37;break}if(!(u=r[o])){D.next=32;break}if(m.isObject(u)){D.next=18;break}return d=!0,D.abrupt("break",37);case 18:if(!m.isString(u.WebTwainId)||u.WebTwainId==""){D.next=24;break}if(!bk(l,u.WebTwainId)){D.next=23;break}throw RR(i={}),{code:i._errorCode,message:i._errorString};case 23:l.push(u.WebTwainId);case 24:if(!m.isString(u.ContainerId)||u.ContainerId==""){D.next=30;break}if(!bk(c,u.ContainerId)){D.next=29;break}throw kR(i={}),{code:i._errorCode,message:i._errorString};case 29:c.push(u.ContainerId);case 30:D.next=34;break;case 32:return d=!0,D.abrupt("break",37);case 34:o++,D.next=12;break;case 37:if(!d){D.next=41;break}throw JK(p={}),{code:p._errorCode,message:p._errorString};case 41:return g={host:Yi(),port:V.DWT.Port,sslPort:V.DWT.SSLPort,bFromLoadInit:!0},D.next=44,$k(g);case 44:if(!V.DWT.IfCheckDCP){D.next=68;break}return S=In(),v=S?g.sslPort:g.port,D.next=49,sT(g.host,g.port,g.sslPort);case 49:if(!(b=D.sent)){D.next=56;break}g.port=b.port,g.sslPort=b.sslPort,v=S?g.sslPort:g.port,D.next=59;break;case 56:throw Po(C={}),kr(C);case 59:if(!V.dcp.bEnhancedMode){D.next=68;break}return D.prev=60,S=In(),D.next=64,Lu.closeWsClient(g.host,v,S);case 64:D.next=68;break;case 66:D.prev=66,D.t0=D.catch(60);case 68:return wn("Creating WebTwain from Dynamsoft.DWT.Containers..."),D.next=71,mce(g.host,g.port,g.sslPort);case 71:case"end":return D.stop()}},t,null,[[60,66]])})),JE.apply(this,arguments)}var gce=new(function(){return y(function t(){h(this,t)},[{key:"InvalidValue",value:function(t){ki(t)}},{key:"ParameterCannotEmpty",value:function(t){io(t)}},{key:"ParameterNotDWTObject",value:function(t){Me(t,-2908,"The parameter is not a Dynamic Web TWAIN object.")}},{key:"Webcam_InvalidIndex",value:function(t,r){Me(t,-2315,"The index is out of range.")}},{key:"Webcam_InvalidRemoteFilename",value:function(t){Me(t,-2316,"The RemoteFile field is empty in the Webcam Download Function.")}},{key:"InvalidDestination",value:function(t){Me(t,-2318,"Invalid destination file.")}},{key:"InvalidSourceFile",value:function(t){Me(t,-2319,"Invalid source file.")}},{key:"InvalidFile",value:function(t){nd(t)}},{key:"OCR_InvalidIndex",value:function(t,r){Me(t,-2321,"The index is out of range.")}},{key:"OCR_InvalidLeftOrTopOrRightOrBottom",value:function(t){Me(t,-2322,"The left or top or right or bottom you entered is invalid.")}},{key:"OCR_InvalidOutputFormat",value:function(t){Me(t,-2323,"The OCR output format is not supported.")}},{key:"OCR_InvalidPageSetMode",value:function(t){Me(t,-2324,"The OCR page set mode is not supported.")}},{key:"IndexOutOfRange",value:function(t){nt(t)}},{key:"IndicesNotArray",value:function(t){id(t)}},{key:"InvalidParameter",value:function(t){mr(t)}},{key:"IndicesCannotEmpty",value:function(t){gR(t)}},{key:"IndexNullOrUndefined",value:function(t){bC(t)}},{key:"InvalidIndex",value:function(t){nr(t)}},{key:"IndicesOutOfRange",value:function(t){SC(t)}},{key:"OCR_InvalidRemoteFilename",value:function(t){Me(t,-2379,"The RemoteFile field is empty in the OCR Download Function.")}},{key:"ImageEditorOpenCannotPlayVideo",value:function(t){Me(t,-2437,"The video can not be played while the Image Editor is open.")}},{key:"EventNotExist",value:function(t){Me(t,-2509,"The specified event doesn't exist.")}},{key:"CallbackNotAFunction",value:function(t){bR(t)}},{key:"WasmNotLoaded",value:function(t){Me(t,-2537,"The wasm not loaded.")}},{key:"WasmNotLoaded_UseWasmFalse",value:function(t){Me(t,-2538,"The wasm not loaded when Dynamsoft.DWT.UseCameraAddonWasm is set to false.")}},{key:"CannotDoWhenNoViewerJS",value:function(t){ty(t)}},{key:"LicenseNoDbr",value:function(t){Me(t,-2611,"The license for the Barcode module is invalid."),yn(t)}},{key:"OCR_InvalidSupportedPlatforms",value:function(t){Me(t,-2701,"The OCR Kit feature is only supported on x64 versions of Windows.")}},{key:"OCRKit_InvalidFilename",value:function(t){Me(t,-2702,"Invalid filename.")}}])}());if(Ne.bHTML5Edition){var vce=function(){var t=s(E().mark(function r(i){var o,u,d,l,c,p,g,S,v,b,C,D,M,j;return E().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return OB(),Y.next=3,KE(!0,!1);case 3:if(V.DWT.UseDefaultViewer||(i.Container=null),!CE(i.Container)){Y.next=11;break}return u=document.createElement("div"),i.Container.appendChild(u),i.Container=u,d=bE(u),Y.next=11,_k(d);case 11:return(o=Qk(i)).bFromLoadInit=!1,Y.next=15,_h();case 15:if(!V.DWT.UseDefaultViewer){Y.next=23;break}if(g=o.id,S=(l=o.container)===null||l===void 0?void 0:l.id,!(c=V.DWT.GetWebTwain(g))&&S&&(p=V.DWT.GetWebTwain(S)),!c&&!p){Y.next=23;break}throw v={},c?RR(v):kR(v),{code:v._errorCode,message:v._errorString};case 23:b=3,C=0;case 25:if(!(C<b)){Y.next=42;break}return Y.prev=26,Y.next=29,$k(o);case 29:return Y.abrupt("break",42);case 32:if(Y.prev=32,Y.t0=Y.catch(26),!(C<b-1&&Y.t0.code==er.DWTPortNotReady)){Y.next=38;break}return Y.next=37,new Q.Promise(function(ee,te){setTimeout(function(){ee()},300)});case 37:return Y.abrupt("continue",39);case 38:throw Y.t0;case 39:C++,Y.next=25;break;case 42:if(!V.DWT.IfCheckDCP){Y.next=54;break}return Y.next=45,sT(o.host,o.port,o.sslPort);case 45:if(!(D=Y.sent)){Y.next=51;break}o.port=D.port,o.sslPort=D.sslPort,Y.next=54;break;case 51:throw Po(M={}),kr(M);case 54:return wn("Creating a WebTwain instance..."),Y.next=57,dce(o);case 57:return j=Y.sent,Y.abrupt("return",j);case 59:case"end":return Y.stop()}},r,null,[[26,32]])}));return function(r){return t.apply(this,arguments)}}(),yce=window;V.DWT.OnBeforeUnload=function(t){},yce.addEventListener("beforeunload",function(t){if(Q.isFunction(V.DWT.OnBeforeUnload))return V.DWT.OnBeforeUnload(t)}),V.DWT.Unload=s(E().mark(function t(){var r;return E().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!Ne.bDWTLoading&&!Ne.bDWTUnloading){i.next=2;break}return i.abrupt("return");case 2:return Ne.bDWTUnloading=!0,i.prev=3,i.next=6,$m(!1,!0);case 6:i.next=11;break;case 8:i.prev=8,i.t0=i.catch(3),r=i.t0;case 11:try{ec(),V.DWT.CloseDialog(),Q._zdgb_xkz_dhk(),Q.unloadProgress(),Q.hideMask(),V.DWT.lts_unload()}catch{}if(Ne.bDWTLoading=!1,Ne.bDWTUnloading=!1,Ne.loadingResourcePath=!1,!r){i.next=17;break}throw r;case 17:case"end":return i.stop()}},t,null,[[3,8]])})),V.DWT.Load=s(E().mark(function t(){var r,i;return E().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!Ne.bDWTLoading){o.next=2;break}return o.abrupt("return");case 2:if(!Ne.bDWTUnloading){o.next=5;break}return setTimeout(V.DWT.Load,500),o.abrupt("return");case 5:return Ne.bDWTLoading=!0,eg(),o.prev=7,o.prev=8,o.next=11,V_();case 11:return o.next=13,_h();case 13:o.next=19;break;case 15:throw o.prev=15,o.t0=o.catch(8),py(o.t0),o.t0;case 19:return o.prev=19,V.Lib.closeProgress(),o.next=23,$m(!0,!0);case 23:o.next=29;break;case 25:return o.prev=25,o.t1=o.catch(19),o.next=29,$m();case 29:o.prev=29,V.DWT.CloseDialog(),r=3,i=0;case 33:if(!(i<r)){o.next=50;break}return o.prev=34,o.next=37,uU();case 37:return o.abrupt("break",50);case 40:if(o.prev=40,o.t2=o.catch(34),!(i<r-1&&o.t2.code==er.DWTPortNotReady)){o.next=46;break}return o.next=45,new Q.Promise(function(u,d){setTimeout(function(){u()},300)});case 45:return o.abrupt("continue",47);case 46:throw o.t2;case 47:i++,o.next=33;break;case 50:o.next=64;break;case 52:return o.prev=52,o.t3=o.catch(29),my(o.t3.code)||Q.detect.bOK||su.pushToDo(null,V.DWT.Load),py(o.t3),o.prev=57,o.next=60,$m();case 60:o.next=64;break;case 62:o.prev=62,o.t4=o.catch(57);case 64:return o.prev=64,Ne.bDWTLoading=!1,ec(),o.finish(64);case 68:case"end":return o.stop()}},t,null,[[7,,64,68],[8,15],[19,25],[29,52],[34,40],[57,62]])})),V.DWT.CheckConnectToTheService=tN,Ne.loadqueue=su,V.DWT.ConnectToTheService=function(){su.start()},V.DWT.CreateDWTObject=function(t,r,i,o,u,d){var l,c=u,p=d;m.isFunction(r)&&m.isFunction(i)?(c=r,p=i,l={}):l={Host:r,Port:i,SSLPort:o};var g,S=t;if(m.isString(S)&&!(S=m.get(S)))return function(C){Me(C,-2813,xK)}(g={}),p&&p({code:g._errorCode,message:g._errorString}),Fe;if(m.isDOM(S))l.Container=S;else{if(!m.isString(t)){var v={code:-2806,message:'Error: The argument passed to the parameter "conatinerId" is not a string.'};return m.isFunction(p)&&p(v),Fe}if(!m.get(t)){var b=PR(t);return m.isFunction(p)&&p(b),Fe}}return l.WebTwainId=Ik(),V.DWT.CreateDWTObjectEx(l,c,p)},V.DWT.CreateDWTObjectEx=function(t,r,i){su.pushToDo(V.DWT,"_QueuedCreateDWTObject",[t,r,i]),su.start()},V.DWT._QueuedCreateDWTObject=function(t,r,i){var o=arguments,u=!!t.bLoadingDialogOpened;return Ne.loadResourcePath?m.isString(t.WebTwainId)?(u||eg(),delete t.bLoadingDialogOpened,vce(t).then(function(d){ec(),cB(d),m.isFunction(r)&&r(d)},function(d){if(ec(),!Q.detect.bOK){var l=d&&d.code,c=V.DWT.licenseException;(l&&!my(l)||c.code==0)&&(su.stop(),setTimeout(function(){su.pushToDo(V.DWT,"_QueuedCreateDWTObject",o)},100))}m.isFunction(i)&&i(d)}),!0):(u&&ec(),i&&i({code:-2805,message:'Error: The "WebTwainId" is not a string.'}),Fe):(u||(eg(),t.bLoadingDialogOpened=!0),void V_().then(_h).then(function(){setTimeout(function(){V.DWT._QueuedCreateDWTObject(t,r,i)},100)},function(d){ec(),i(d)}))},V.DWT.CreateRemoteScanObjectAsync=function(){var t=s(E().mark(function r(i){var o,u;return E().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(o=null,i){d.next=5;break}throw mr(u={}),{code:u._errorCode,message:u._errorString};case 5:return Ne.bDWTLoading=!0,eg(),d.prev=7,d.next=10,_h(!0);case 10:return d.next=12,KE(!1,!1);case 12:o=new pce(i),Object.preventExtensions(o);case 14:return d.prev=14,Ne.bDWTLoading=!1,ec(),d.finish(14);case 18:return d.abrupt("return",o);case 19:case"end":return d.stop()}},r,null,[[7,,14,18]])}));return function(r){return t.apply(this,arguments)}}(),V.DWT.DeleteDWTObject=function(t){var r,i=t;return Ne.bHTML5Edition&&i?!!(r=m.isString(i)?V.DWT.GetWebTwain(i):i)&&(r.dispose(),!0):Fe}}function $m(t,r){return qE.apply(this,arguments)}function qE(){return qE=s(E().mark(function t(r,i){var o,u,d,l,c,p,g;return E().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(r&&wn("Unload..."),!i){S.next=4;break}return S.next=4,V.DWT.lunload();case 4:if(Q.dlgProgress=!1,Q.detect.bOK=!1,Q.detect.bFirst=!0,!(l=V.DWT.WebTwainIdMap)){S.next=32;break}c=Object.keys(l),o=0;case 11:if(!(o<c.length)){S.next=32;break}if(!(d=c[o])||!(d in l)){S.next=29;break}if(!(u=l[d])){S.next=29;break}if(S.prev=16,!u.__unload){S.next=22;break}return S.next=20,u.__unload();case 20:S.next=24;break;case 22:return S.next=24,u.dispose();case 24:S.next=29;break;case 26:S.prev=26,S.t0=S.catch(16),p=S.t0;case 29:o++,S.next=11;break;case 32:if(!(l=V.DWT.ContainerMap)){S.next=57;break}c=Object.keys(l),o=0;case 36:if(!(o<c.length)){S.next=57;break}if(!(d=c[o])||!(d in l)){S.next=54;break}if(!(u=l[d])){S.next=54;break}if(S.prev=41,!u.__unload){S.next=47;break}return S.next=45,u.__unload();case 45:S.next=49;break;case 47:return S.next=49,u.dispose();case 49:S.next=54;break;case 51:S.prev=51,S.t1=S.catch(41),p=S.t1;case 54:o++,S.next=36;break;case 57:if(!(l=V.DWT.RemoteScanIdMap)){S.next=82;break}c=Object.keys(l),o=0;case 61:if(!(o<c.length)){S.next=82;break}if(!(d=c[o])||!(d in l)){S.next=79;break}if(!(u=l[d])){S.next=79;break}if(S.prev=66,!u.__unload){S.next=72;break}return S.next=70,u.__unload();case 70:S.next=74;break;case 72:return S.next=74,u.dispose();case 74:S.next=79;break;case 76:S.prev=76,S.t2=S.catch(66),p=S.t2;case 79:o++,S.next=61;break;case 82:for(o=0;o<Ne.unloadQueue.length;o++)g=Ne.unloadQueue[o],m.isFunction(g)&&g();if(Ne.unloadQueue.splice(0),!p){S.next=86;break}throw p;case 86:case"end":return S.stop()}},t,null,[[16,26],[41,51],[66,76]])})),qE.apply(this,arguments)}function eg(){Ne.bHTML5Edition&&(IB(),On("openLoadingMsg",null,{width:Q.loaderBarWidth+"px"}))}function ec(){Ne.bHTML5Edition&&un("closeLoadingMsg:")}function ft(t,r){var i,o=this,u=0;(i=m.isString(t)?document.getElementById(t):t).style.backgroundColor="transparent",o.isLoaded=!1,o.displayType=0,o.progress=0,o.progressPosition=0,o.borderWidth={left:0,right:0,top:0,bottom:0},o.orientation=r.orientation||ft.Orientation.Horizontal,o.direction=r.direction||ft.Direction.LeftToRight,o.creationType=r.creationType||ft.CreationType.Replace,o.value=0,o.initialValue=r.value||0,o.minValue=r.minValue||0,o.maxValue=r.maxValue||100,o.showLabel=typeof r.showLabel>"u"||r.showLabel,o.labelText=r.labelText||"",o.width=r.width||"100%",o.height=r.height||20,o.borderRadius=r.borderRadius||10,o.orientation==ft.Orientation.Horizontal&&o.borderRadius>o.height/2&&(o.borderRadius=Math.round(o.height/2)),m.isNumber(o.width)&&o.orientation==ft.Orientation.Vertical&&o.borderRadius>o.width/2&&(o.borderRadius=Math.round(o.width/2)),o.backColor=r.backColor||"",o.color=r.color||"#50a8e1",o.animationStyle=0,o.animationInterval=r.animationInterval||100;var d=["parent","background","wrapper","left","middle","right","horizontalText","verticalText","marker"];for(o.extraClassName={},u=0;u<d.length;u++)r.extraClassName?typeof r.extraClassName=="string"?o.extraClassName[d[u]]=r.extraClassName:o.extraClassName[d[u]]=r.extraClassName[d[u]]||"":o.extraClassName[d[u]]="";o.onLoad=r.onLoad||null,o.onValueChanged=r.onValueChanged||null,o.onAnimate=r.onAnimate||null,o.creationType==ft.CreationType.Replace?o.parentElement=i:(o.parentElement=document.createElement("DIV"),i.appendChild(o.parentElement)),o.finishLoading()}Q.Errors=gce,Jm(s(E().mark(function t(){var r,i,o,u;return E().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if((r=window)&&(m.addEventListener(r,"focus",function(){var l;(l=V.DWT.WebTwainIdMap)&&m.each(l,function(c,p){c&&c._OnPageFocus&&c._OnPageFocus()})}),m.addEventListener(r,"blur",function(){he.bWin&&jB()}),i=r.document,m.addEventListener(i,"visibilitychange",function(){he.bWin&&i.visibilityState=="hidden"&&jB()})),V.navInfo){d.next=11;break}return d.prev=3,d.next=6,TE();case 6:V.navInfo=d.sent,d.next=11;break;case 9:d.prev=9,d.t0=d.catch(3);case 11:if(V.DWT.AutoLoad!==!1&&!Ne.bDWTLoading){d.next=13;break}return d.abrupt("return");case 13:return d.prev=13,d.next=16,V_();case 16:if(!(V.DWT.Containers&&V.DWT.Containers.length>0&&V.DWT.AutoLoad)||Ne.bDWTLoading){d.next=46;break}return Ne.bDWTLoading=!0,eg(),d.prev=20,d.next=23,_h(!0);case 23:o=3,u=0;case 25:if(!(u<o)){d.next=42;break}return d.prev=26,d.next=29,uU();case 29:return d.abrupt("break",42);case 32:if(d.prev=32,d.t1=d.catch(26),!(u<o-1&&d.t1.code==er.DWTPortNotReady)){d.next=38;break}return d.next=37,new Q.Promise(function(l,c){setTimeout(function(){l()},300)});case 37:return d.abrupt("continue",39);case 38:throw d.t1;case 39:u++,d.next=25;break;case 42:return d.prev=42,Ne.bDWTLoading=!1,ec(),d.finish(42);case 46:d.next=60;break;case 48:return d.prev=48,d.t2=d.catch(13),my(d.t2.code)||Q.detect.bOK||su.pushToDo(null,V.DWT.Load),py(d.t2),d.prev=53,d.next=56,$m();case 56:d.next=60;break;case 58:d.prev=58,d.t3=d.catch(53);case 60:case"end":return d.stop()}},t,null,[[3,9],[13,48],[20,,42,46],[26,32],[53,58]])}))),ft.Orientation={Horizontal:0,Vertical:1},ft.Direction={LeftToRight:0,RightToLeft:1,TopToBottom:0,BottomToTop:1},ft.CreationType={Replace:0,AppendChild:1},ft.AnimationStyle={None:0,Static:1,StaticFull:2,Custom:3,CustomFull:4,Flickering1:10,Flickering2:11,Flickering3:12,LeftToRight1:20,LeftToRight2:21,RightToLeft1:22,RightToLeft2:23,TwoWay:24},ft.prototype.finishLoading=function(){var t,r=this;r.wrapperElement=null,r.backgroundElement=null,r.valueElement=null,r.leftElement=null,r.middleElement=null,r.rightElement=null,r.backgroundElement=document.createElement("DIV"),r.backgroundElement.className="progressbar_background"+(r.extraClassName.background?" ":"")+r.extraClassName.background,r.backgroundElement.style.cssText=r.backgroundElement.style.cssText+ft._createBorderRadiusCss(r.borderRadius),r.parentElement.appendChild(r.backgroundElement);var i=["border-radius","border-bottom-right-radius"],o=0,u="";for(o=0;o<i.length&&!(u=ft._elementCurrentStyle(r.backgroundElement,i[o]))&&typeof u!="string";o++);u!=""&&ft._parseInt(u)!=r.borderRadius&&(r.borderRadius=ft._parseInt(u)),r.orientation==ft.Orientation.Horizontal||r.orientation==ft.Orientation.Vertical?r.displayType=0:r.displayType=1,r.parentElement.className=(r.parentElement.className!=""?" ":"")+"progressbar_parent dynamsoft-progressBar"+(r.extraClassName.parent?" ":"")+r.extraClassName.parent,r.displayType==0?((t=r.wrapperElement=document.createElement("DIV")).style.border="1px solid #A0A0A0",t.style.cssFloat="left",t.style.display="inline-block",t.style.width=m.isNumber(r.width)?r.width+"px":r.width,t.style.height=r.height+"px",t.style.left="0px",t.style.top=-r.height+"px",t.style.backgroundColor=r.backColor,t.style.backgroundRepeat="no-repeat",t.style.position="relative",t.style.cssText=t.style.cssText+ft._createBorderRadiusCss(r.borderRadius),r.parentElement.appendChild(t),r.borderWidth={left:ft._parseInt(ft._elementCurrentStyle(t,"border-left-width")),right:ft._parseInt(ft._elementCurrentStyle(t,"border-right-width")),top:ft._parseInt(ft._elementCurrentStyle(t,"border-top-width")),bottom:ft._parseInt(ft._elementCurrentStyle(t,"border-bottom-width"))}):r.displayType==1&&(r.orientation==ft.Orientation.Horizontal?m.isNumber(r.width)&&r.borderRadius>r.width/2&&(r.borderRadius=r.width):r.orientation==ft.Orientation.Vertical&&r.borderRadius>r.height/2&&(r.borderRadius=r.height),r.valueElement=document.createElement("DIV"),r.valueElement.className="",r.leftElement=document.createElement("DIV"),r.middleElement=document.createElement("DIV"),r.rightElement=document.createElement("DIV"),r.leftElement.style.border="1px solid #A0A0A0",r.leftElement.style.cssFloat="left",r.leftElement.style.display="inline-block",r.leftElement.style.backgroundColor=r.backColor,r.leftElement.style.backgroundRepeat="no-repeat",r.leftElement.style.position="relative",r.rightElement.style.border="1px solid #A0A0A0",r.rightElement.style.cssFloat="left",r.rightElement.style.display="inline-block",r.rightElement.style.backgroundColor=r.backColor,r.rightElement.style.backgroundRepeat="no-repeat",r.rightElement.style.position="relative",r.middleElement.style.border="1px solid #A0A0A0",r.middleElement.style.cssFloat="left",r.middleElement.style.display="inline-block",r.middleElement.style.overflow="hidden",r.middleElement.style.position="relative",r.valueElement.style.backgroundColor=r.backColor,r.valueElement.style.position="relative",r.orientation==ft.Orientation.Horizontal?(r.leftElement.style.width=r.borderRadius+"px",r.leftElement.style.height=r.height+"px",r.leftElement.style.top=-r.height+"px",r.leftElement.style.left="0px",r.leftElement.style.borderRight="none",r.leftElement.style.cssText=r.leftElement.style.cssText+ft._createBorderRadiusCss(r.borderRadius,0,0,r.borderRadius),r.rightElement.style.width=r.borderRadius+"px",r.rightElement.style.height=r.height+"px",r.rightElement.style.top=-r.height+"px",r.rightElement.style.borderLeft="none",r.rightElement.style.cssText=r.rightElement.style.cssText+ft._createBorderRadiusCss(0,r.borderRadius,r.borderRadius,0),r.middleElement.style.width=m.isNumber(r.width)?r.width-2*r.borderRadius+"px":r.width,r.middleElement.style.height=r.height+"px",r.middleElement.style.top=-r.height+"px",r.middleElement.style.borderLeft="none",r.middleElement.style.borderRight="none",r.valueElement.style.width="0px",r.valueElement.style.height=r.height+"px"):r.orientation==ft.Orientation.Vertical&&(r.leftElement.style.width=m.isNumber(r.width)?r.width+"px":r.width,r.leftElement.style.height=r.borderRadius+"px",r.leftElement.style.top=-r.height+"px",r.leftElement.style.left="0px",r.leftElement.style.borderBottom="none",r.leftElement.style.cssText=r.leftElement.style.cssText+ft._createBorderRadiusCss(r.borderRadius,r.borderRadius,0,0),r.rightElement.style.width=m.isNumber(r.width)?r.width+"px":r.width,r.rightElement.style.height=r.borderRadius+"px",r.rightElement.style.top=-r.height+"px",r.rightElement.style.left="0px",r.rightElement.style.borderTop="none",r.rightElement.style.cssText=r.rightElement.style.cssText+ft._createBorderRadiusCss(0,0,r.borderRadius,r.borderRadius),r.middleElement.style.width=m.isNumber(r.width)?r.width+"px":r.width,r.middleElement.style.height=r.height-2*r.borderRadius+"px",r.middleElement.style.top=-r.height+"px",r.middleElement.style.left="0px",r.middleElement.style.borderTop="none",r.middleElement.style.borderBottom="none",r.valueElement.style.width=m.isNumber(r.width)?r.width+"px":r.width,r.valueElement.style.height="0px"),r.middleElement.appendChild(r.valueElement),r.parentElement.appendChild(r.leftElement),r.parentElement.appendChild(r.middleElement),r.parentElement.appendChild(r.rightElement),r.orientation==ft.Orientation.Horizontal?r.borderWidth={left:ft._parseInt(ft._elementCurrentStyle(r.leftElement,"border-left-width")),right:ft._parseInt(ft._elementCurrentStyle(r.rightElement,"border-right-width")),top:ft._parseInt(ft._elementCurrentStyle(r.middleElement,"border-top-width")),bottom:ft._parseInt(ft._elementCurrentStyle(r.middleElement,"border-bottom-width"))}:r.orientation==ft.Orientation.Vertical&&(r.borderWidth={left:ft._parseInt(ft._elementCurrentStyle(r.middleElement,"border-left-width")),right:ft._parseInt(ft._elementCurrentStyle(r.middleElement,"border-right-width")),top:ft._parseInt(ft._elementCurrentStyle(r.leftElement,"border-top-width")),bottom:ft._parseInt(ft._elementCurrentStyle(r.rightElement,"border-bottom-width"))})),m.isNumber(r.width)&&(r.parentElement.style.width=r.width+r.borderWidth.left+r.borderWidth.right+"px"),r.parentElement.style.height=r.height+r.borderWidth.top+r.borderWidth.bottom+"px",r.backgroundElement.style.cssFloat="left",r.backgroundElement.style.display="inline-block",m.isNumber(r.width)&&(r.backgroundElement.style.width=r.width+r.borderWidth.left+r.borderWidth.right+"px"),r.backgroundElement.style.height=r.height+"px",r.backgroundElement.style.backgroundColor="#FFFFFF",r.backgroundElement.style.position="relative",r.displayType==0&&m.isNumber(r.width)&&(r.backgroundElement.style.width=r.width+r.borderWidth.left+r.borderWidth.right+"px"),r.backgroundElement.style.top=r.borderWidth.top+"px",r.markerElement=document.createElement("DIV"),r.markerElement.style.display="inline-block",r.markerElement.style.zoom="1.0",r.markerElement.style.width=m.isNumber(r.width)?r.width+"px":r.width,r.markerElement.style.height=r.height+"px",r.markerElement.style.top=2*-r.height-r.borderWidth.top+"px",r.markerElement.style.left=r.borderWidth.left+"px",r.markerElement.style.backgroundColor=r.color,r.markerElement.style.lineHeight=r.height+"px",r.markerElement.style.position="relative",r.parentElement.appendChild(r.markerElement),r.isLoaded=!0,r.setValue(r.initialValue),r.onLoad!=null&&r.onLoad()},ft.prototype.setValue=function(t){var r=this;if(t!==null&&t<r.minValue&&(t=r.minValue),t!==null&&t>r.maxValue&&(t=r.maxValue),t===null||(r.value=t),r.isLoaded){var i,o=0,u=r.width;if(m.isString(u)){var d=Pe.one(".dynamsoft-progressBar");d&&d.getEL()&&(u=d.getEL().offsetWidth)}if(r.orientation==ft.Orientation.Horizontal){o=r.value/r.maxValue*u,r.progressPosition=o,r.displayType==0||r.displayType==1&&(r.direction==ft.Direction.LeftToRight?o<=r.borderRadius?r.valueElement.style.width="0px":o>=u-r.borderRadius?r.valueElement.style.width=r.middleElement.style.width:r.valueElement.style.width=o-r.borderRadius+"px":o<=r.borderRadius?r.valueElement.style.width="0px":o>=u-r.borderRadius?(r.valueElement.style.left="0px",r.valueElement.style.width=r.middleElement.style.width):(r.valueElement.style.left=u-o-r.borderRadius+"px",r.valueElement.style.width=o-r.borderRadius+"px")),o>0?(r.animationStyle!=ft.AnimationStyle.StaticFull&&r.animationStyle!=ft.AnimationStyle.CustomFull?r.markerElement.style.width=o+"px":r.markerElement.style.width=u+"px",r.markerElement.style.visibility="visible"):(r.markerElement.style.width=u+"px",r.animationStyle!=ft.AnimationStyle.StaticFull&&r.animationStyle!=ft.AnimationStyle.CustomFull&&(r.markerElement.style.visibility="hidden")),r.animationStyle!=ft.AnimationStyle.StaticFull&&r.animationStyle!=ft.AnimationStyle.CustomFull?r.direction==ft.Direction.LeftToRight?r.markerElement.style.left=r.borderWidth.left+"px":r.markerElement.style.left=u-o+r.borderWidth.left+"px":r.markerElement.style.left=r.borderWidth.left+"px";var l=2*-r.height-r.borderWidth.top;if(o==0||u==o)r.markerElement.style.top=l+"px",r.markerElement.style.height=r.height+"px",r.markerElement.style.cssText=r.markerElement.style.cssText+ft._createBorderRadiusCss(r.borderRadius);else if(o<r.borderRadius){var c=r.height-2.25*(r.borderRadius-Math.sqrt(Math.pow(r.borderRadius,2)-Math.pow(r.borderRadius-o,2))),p=l+r.height/2-c/2;r.markerElement.style.top=p+"px",r.markerElement.style.height=c+"px",r.direction==ft.Direction.LeftToRight?r.markerElement.style.cssText=r.markerElement.style.cssText+ft._createBorderRadiusCss(r.borderRadius,0,0,r.borderRadius):r.markerElement.style.cssText=r.markerElement.style.cssText+ft._createBorderRadiusCss(0,r.borderRadius,r.borderRadius,0)}else u-o<r.borderRadius?(i=(2*(r.borderRadius-(u-o))+(r.borderRadius-Math.sqrt(Math.pow(r.borderRadius,2)-Math.pow(r.borderRadius-(u-o),2))))/3,r.direction==ft.Direction.LeftToRight?r.markerElement.style.cssText=r.markerElement.style.cssText+ft._createBorderRadiusCss(r.borderRadius,i,i,r.borderRadius):r.markerElement.style.cssText=r.markerElement.style.cssText+ft._createBorderRadiusCss(i,r.borderRadius,r.borderRadius,i)):(r.markerElement.style.top=l+"px",r.markerElement.style.height=r.height+"px",r.direction==ft.Direction.LeftToRight?r.markerElement.style.cssText=r.markerElement.style.cssText+ft._createBorderRadiusCss(r.borderRadius,0,0,r.borderRadius):r.markerElement.style.cssText=r.markerElement.style.cssText+ft._createBorderRadiusCss(0,r.borderRadius,r.borderRadius,0))}else if(r.orientation==ft.Orientation.Vertical){o=r.value/r.maxValue*r.height,r.progressPosition=o,r.displayType==0||r.displayType==1&&(r.direction==ft.Direction.TopToBottom?o<=r.borderRadius?r.valueElement.style.height="0px":o>=r.height-r.borderRadius?r.valueElement.style.height=r.middleElement.style.height:r.valueElement.style.height=o-r.borderRadius+"px":o<=r.borderRadius?r.valueElement.style.height="0px":o>=r.height-r.borderRadius?(r.valueElement.style.top="0px",r.valueElement.style.height=r.middleElement.style.height):(r.valueElement.style.top=r.height-o-r.borderRadius+"px",r.valueElement.style.height=o+2*r.borderRadius+"px")),o>0?(r.animationStyle!=ft.AnimationStyle.StaticFull&&r.animationStyle!=ft.AnimationStyle.CustomFull?r.markerElement.style.height=o+"px":(r.markerElement.style.height=r.height+"px",r.markerElement.style.cssText=r.markerElement.style.cssText+ft._createBorderRadiusCss(r.borderRadius)),r.markerElement.style.visibility="visible"):(r.markerElement.style.height="0px",r.animationStyle!=ft.AnimationStyle.StaticFull&&r.animationStyle!=ft.AnimationStyle.CustomFull&&(r.markerElement.style.visibility="hidden"));var g=r.borderWidth.left;if(o==0||r.height==o)r.markerElement.style.left=g+"px",r.markerElement.style.width=u+"px",r.markerElement.style.cssText=r.markerElement.style.cssText+ft._createBorderRadiusCss(r.borderRadius);else if(o<r.borderRadius){var S=2.5*o;S>u&&(S=u);var v=g+u/2-S/2;r.markerElement.style.left=v+"px",r.markerElement.style.width=S+"px",r.direction==ft.Direction.BottomToTop?r.markerElement.style.cssText=r.markerElement.style.cssText+ft._createBorderRadiusCss(0,0,r.borderRadius,r.borderRadius):r.markerElement.style.cssText=r.markerElement.style.cssText+ft._createBorderRadiusCss(r.borderRadius,r.borderRadius,0,0)}else r.height-o<r.borderRadius?(i=(2*(r.borderRadius-(r.height-o))+(r.borderRadius-Math.sqrt(Math.pow(r.borderRadius,2)-Math.pow(r.borderRadius-(r.height-o),2))))/3,r.direction==ft.Direction.BottomToTop?r.markerElement.style.cssText=r.markerElement.style.cssText+ft._createBorderRadiusCss(i,i,r.borderRadius,r.borderRadius):r.markerElement.style.cssText=r.markerElement.style.cssText+ft._createBorderRadiusCss(r.borderRadius,r.borderRadius,i,i)):(r.markerElement.style.left=g+"px",r.markerElement.style.width=u+"px",r.direction==ft.Direction.BottomToTop?r.markerElement.style.cssText=r.markerElement.style.cssText+ft._createBorderRadiusCss(0,0,r.borderRadius,r.borderRadius):r.markerElement.style.cssText=r.markerElement.style.cssText+ft._createBorderRadiusCss(r.borderRadius,r.borderRadius,0,0));r.animationStyle!=ft.AnimationStyle.StaticFull&&r.animationStyle!=ft.AnimationStyle.CustomFull?r.direction==ft.Direction.TopToBottom?r.markerElement.style.top=2*-r.height-r.borderWidth.top+"px":r.markerElement.style.top=-r.height-o-r.borderWidth.top+"px":r.markerElement.style.top=2*-r.height-r.borderWidth.top+"px"}r.progress=r.value/r.maxValue}r.onValueChanged!=null&&r.onValueChanged()},ft._elementCurrentStyle=function(t,r){if(t.currentStyle){var i=0,o="",u=!1;for(i=0;i<r.length;i++)r[i].toString()!="-"?(o+=u?r[i].toString().toUpperCase():r[i].toString(),u=!1):u=!0;return r=o,t.currentStyle[r]}return getComputedStyle(t,null).getPropertyValue(r)},ft._parseInt=function(t){var r=parseInt(t);return isNaN(r)&&(r=0),r},ft._createBorderRadiusCss=function(t,r,i,o){return t!=null&&r==null&&i==null&&o==null?";-ms-border-radius: "+t+"px;border-radius:"+t+"px;":";-ms-border-radius:"+(t=t||0)+"px "+(r=r||0)+"px "+(i=i||0)+"px "+(o=o||0)+"px;border-radius:"+t+"px "+r+"px "+i+"px "+o+"px;"};var _ce=function(){return y(function t(){h(this,t),I(this,"handlers",{})},[{key:"on",value:function(t,r){var i=m.guid();return this.handlers[t]||(this.handlers[t]=[]),this.handlers[t].push({id:i,handler:r}),i}},{key:"off",value:function(t,r){if(this.handlers[t]){var i,o=this.handlers[t];if(r){for(i=0;i<o.length;i++)if(o[i].id==r){o.splice(i,1);break}}else o.splice(0)}}},{key:"fire",value:function(t){if(this.handlers[t]){var r,i=this.handlers[t];for(r=0;r<i.length;r++)i[r].handler();return i.length}return 0}},{key:"clear",value:function(){this.handlers={}}}])}(),Sce=V.DWT;Q.ProgressBar=ft,Q.progressMessage="",Q.dialogShowStatus=!1,Q.needShowTwiceShowDialog=!1,Q.dlgProgress=!1,Q.cancelFrom=sr.Other,Q.dlgRef=0,Q.initProgress=function(t){var r,i;if(!Q.dlgProgress){(i=[]).push('<dialog class="dynamsoft-dwt-dialogProgress" closed="closed" style="top:30%"><div class="ds-dwt-progressWrap">'),i.push('<h3 class="dynamsoft-finalMessage"> </h3>'),i.push('<p class="dynamsoft-desc"></p><p class="dynamsoft-status">0%</p>'),he.bIE?i.push('<div class="dynamsoft-progressBar" value="" max="100"></div>'):i.push('<progress class="dynamsoft-progressBar" value="" max="100"></progress>'),i.push('<div style="width:100%;text-align:center;margin:5px 0;"><button class="dynamsoft-btnCancel" value="cancel" autofcus>cancel</button></div>'),i.push("</div></dialog>"),(r=Pe.one(".dynamsoft-dwt-dialogProgress"))&&r.getEL()&&r.remove();var o=Q.parseHTML(i.join(""));if(o&&o.length>0&&document.body.appendChild(o[0]),he.bIE){var u=Pe.one(".dynamsoft-progressBar"),d=u&&u.getEL();d&&(d.objProgressBar=new ft(d,{height:20}));var l=Pe.one(".ds-dwt-progressWrap").getEL();l&&(l.style.boxSizing="content-box")}(r=Pe.one(".dynamsoft-dwt-dialogProgress"))&&r.getEL()&&(Q.dlgProgress=r[0],Pe.dialog.setup(Q.dlgProgress)),Q.dlgRef=0,Q.dialogShowStatus=!1,Q.cancelFrom=sr.Other}},Q.unloadProgress=function(){Q.closeProgress(null,"");var t=Pe.one(".dynamsoft-dwt-dialogProgress");if(t&&t.getEL()){var r=t.getEL();r.show=null,r.showModal=null,r.close=null,r._dlgInfo={},r.parentNode.removeChild(r)}Q.dlgProgress=null},Q.showProgressMsg=function(){};var bce=function(t){function r(){return h(this,r),f(this,r,arguments)}return P(r,t),y(r)}(_ce);Q.progressContext=new bce;var lU=function(){var t=Q.progressContext;if(t){var r,i=t.fire("cancel");if(i>=1)for(r=0;r<i;r++)Q.closeProgress(null,"");else t.__cancelBeforObjectCreated&&(Q.closeProgress(null,""),t.__clickCancel=!0)}};Q.hideProgress=function(){var t=Q.progressContext;t&&(t.IfShowProgressBar=!1,t.IfShowCancelDialogWhenImageTransfer=!1,t.off("cancel"),t._onPercent=null)},Q.showProgress=function(t,r,i){var o,u=t;if(u.IfShowProgressBar)if(Q.progressContext&&(Q.progressContext.IfShowProgressBar=!0,Q.progressContext.IfShowCancelDialogWhenImageTransfer=u.IfShowCancelDialogWhenImageTransfer),Q.dlgRef>0)Q.dlgRef++;else{var d;if((o=V.DWT.IfConfineMaskWithinTheViewer)?u._isNoViewer&&u._isNoViewer()?d=document.body:u._containerElement?d=u._containerElement:V.DWT.Containers&&V.DWT.Containers.length>0&&V.DWT.Containers[0].ContainerId&&(d=m.get(V.DWT.Containers[0].ContainerId))||(d=document.body):d=document.body,d&&d!==document.body){var l=!1,c=d.firstElementChild;if(c&&c!==Q.dlgProgress&&c.className=="dvs-root dvs-web-viewer"&&(d=c,l=!0),l==0){for(var p=0;p<d.children.length;p++)if((c=d.children[p])&&c!==Q.dlgProgress&&c.className=="dvs-root dvs-web-viewer"){d=c;break}}var g=Q.progressContext;d.style.position!==""&&d.style.position!=="static"||(d.style.position="relative",g.progressContainer={el:d})}m.log("showProgress:"+r+",bCancel:"+i),Q.dlgProgress&&d.appendChild(Q.dlgProgress),Mu(i);var S=Pe.one(".dynamsoft-btnCancel");if(S&&S.getEL()&&(m.removeEventListener(S[0],"click",lU),m.addEventListener(S[0],"click",lU)),Q.dialogShowStatus==0){Q.dlgProgress&&(o&&d&&d!==document.body?Pe.dialog.setup(Q.dlgProgress,!0):Pe.dialog.setup(Q.dlgProgress),Q.dlgProgress.showModal()),Q.dialogShowStatus=!0;var v=Pe.one(".dynamsoft-finalMessage"),b=Pe.one(".dynamsoft-progressBar"),C=b&&b.getEL(),D=Pe.one(".dynamsoft-status");v&&v.getEL()&&v.html(""),D&&D.getEL()&&D.html("0%"),C&&(he.bIE&&C.objProgressBar?C.objProgressBar.setValue(0):C.value=0)}Q.dlgRef++}else Q.hideProgress()},Q.closeProgress=function(t,r){var i=Q.progressContext;m.log("closeProgress:"+r),i&&i.IfShowProgressBar?(Q.dlgRef--,Q.dlgRef<=0&&(Q.dlgRef=0)):Q.dlgRef=0,Q.dlgRef==0&&(i.off("cancel"),i._onPercent=null,Q.dialogShowStatus==1&&(Q.dlgProgress&&(Q.dlgProgress.close(),Q.dlgProgress&&document.body.appendChild(Q.dlgProgress),i&&i.progressContainer&&i.progressContainer.el&&(i.progressContainer.el.style.position="",i.progressContainer=null)),Q.dialogShowStatus=!1),Q.cancelFrom=sr.Other)},Sce.RemoveAllAuthorizations=function(){var t=cu.item("DWT_port"),r="http://";return cu.item("DWT_ssl")=="true"&&(r="https://"),Ca({method:"GET",xhrFields:{withCredentials:!0},url:[r,Yi(),":",t,"/dwt/",Ne.getDWTPrefix(),Ne.getServerVersionInfo(),"/RemoveAllAuthorizations?t=",m.now()].join(""),async:!0}),!0};var Cce={upload:"Uploading...",download:"Downloading...",load:"Processing...",decode:"Processing...",decodeTIFF:"Processing tiff...",decodePDF:"Processing pdf...",encodeTIFF:"Processing tiff...",encodePDF:"Processing pdf...",encode:"Processing...",transfer:"Transferring..."};Q.progressBarOnPercentDone=function(t,r,i,o,u,d){var l,c=Pe.one(".dynamsoft-progressBar"),p=Pe.one(".dynamsoft-status"),g=Pe.one(".dynamsoft-finalMessage"),S=Pe.one(".dynamsoft-desc");if(V.DWT.UseDefaultViewer&&V.DWT.IfConfineMaskWithinTheViewer&&d&&(c=Pe.one(".dynamsoft-progressBar",d),p=Pe.one(".dynamsoft-status",d),g=Pe.one(".dynamsoft-finalMessage",d),S=Pe.one(".dynamsoft-desc",d)),Q.cancelFrom==sr.FTPUpload||Q.cancelFrom==sr.FTPDownload){var v=i;v==0?Q.setBtnCancelVisibleForProgress(!1):v==1&&Q.setBtnCancelVisibleForProgress(!0)}else Q.cancelFrom==sr.HTTPUpload||Q.cancelFrom==sr.LoadImage||Q.cancelFrom==sr.HTTPPut?r=="Processing..."&&Q.setBtnCancelVisibleForProgress(!1):Q.cancelFrom==sr.ConvertToBlob&&(t==-1||Q.setBtnCancelVisibleForProgress(!1),o==100&&(r="",Q.progressMessage="Processing..."));if(t<0?(Q.progressMessage=r,l=Q.progressMessage):l=r!=""&&r!="1/1"?Q.progressMessage+"("+r+")":Q.progressMessage,g&&g.getEL()){var b="",C="";l.indexOf(" ...")&&(l=l.replace(" ...","...")),l.indexOf("(")!=-1?(b=l.substr(0,l.indexOf("(")),C=l.substr(l.indexOf("("))):b=l,m.each(Cce,function(M,j){M.indexOf(b)!=-1&&(l=Si.customProgressText[j]+C)}),l==""&&(l="&nbsp;"),g.html(l)}if(u?u==""||m.isUndefined(u)?(u="&nbsp;",S&&S.hide&&S.hide()):(m.isString(u)&&u.length>30&&(u=u.substring(0,30)+"..."),S&&(S.show&&S.show(),S.html(u))):S&&S.hide&&S.hide(),(o||o===0)&&(p&&p.getEL()&&p.html(o+"%"),c&&c.getEL())){var D=o;D>=100&&(D=100),he.bIE?c[0].objProgressBar?c[0].objProgressBar.setValue(D):c[0].value=D:(he.bEdge&&(c[0].style.display=""),c[0].value=D)}Q.dlgRef<=0&&setTimeout(function(){c&&c.getEL()&&(he.bIE?c[0].objProgressBar?c[0].objProgressBar.setValue(0):c[0].value=0:(he.bEdge&&(c[0].style.display="none"),c[0].value=0))},1e3)},Q.detect.onNoControl=function(t,r,i,o){o&&o._bRemoteMode&&!o._bNotShowMessage?m.isFunction(V.OnRemoteWebTwainNotFoundCallback)&&V.OnRemoteWebTwainNotFoundCallback(Ne.name,o._serverInfo.server,o._serverInfo.port,o._serverInfo.ssl,env.bMobile):(Jk(t,r,i),Hu(!1))},(Q.__ver||0)<vP&&(m.mix(Q,Pe),Q.__ver=vP),Q.bNode=w9,Q._defaultAgent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Safari/537.36",Q._defaultPlatform="Win64",Q.timestamp="?t=20251210194900",m.mix(Q,za),Q.ajax=Ca,Q.fetch=Tf,Q.detect.showMask=HC,Q.detect.hideMask=zC,Q.env=Tn,Q.product=Ne,Q.scannerInfo=vn,Q.License=It,Q.BIO=Dl,Q.UI.ImageUIView=Sle,Q.UI.ImageManager=EB,V.MSG=tn,Q.domReady=Jm,function t(){if(!window||document&&document.body){var r=document;if(r.readyState!==PB)if(xE(window,DB,vh),EE){var i=function(){AE(r,xB,i),vh()};xE(r,xB,i)}else{var o,u,d,l=function(){r.readyState===PB&&(AE(r,AB,l),vh())};xE(r,AB,l),u=r&&r.documentElement,d=u&&u.doScroll;try{o=window.frameElement===null}catch{o=!1}if(d&&o){var c=function(){try{d("left"),setTimeout(vh,30)}catch{setTimeout(c,40)}};c()}}else vh()}else setTimeout(t,100)}(),Jm(function(){if(V.DWT.CustomizableDisplayInfo||(V.DWT.CustomizableDisplayInfo=Si),he.bIE){V.DWT.CustomizableDisplayInfo.loaderBarSourceIE||(V.DWT.CustomizableDisplayInfo.loaderBarSourceIE=yu.loaderBarSourceIE);try{document.execCommand("BackgroundImageCache",!1,!0)}catch{}}}),V.Ready=function(t){if(!V.navInfo)return TE().then(function(r){V.navInfo=r;try{t()}catch(i){throw m.log(i.stack||i,"error"),i}});try{t()}catch(r){throw m.log(r.stack||r,"error"),r}}})({mapPackageRegister:Abe,CoreModule:Ks})}J.DWT.bNpm=!0;J.DWT.dbrCanvasMaxWH=4096;J.aryAddonReadyFun=[];J.AddonReady=function(e){J.aryAddonReadyFun.push(e)};/*! 20250418 20240828 20250225091709
* Dynamsoft JavaScript Library
* Product: Dynamic Web TWAIN
* Web Site: https://www.dynamsoft.com
*
* Copyright 2025, Dynamsoft Corporation
* Author: Dynamsoft Support Team
*
* Module: BarcodeReader
* Version: 19.3
* 
*/var J=self.Dynamsoft||{};J.DWT=J.DWT||{},J.DBR=J.DBR||{},J.aryAddonReadyFun=J.aryAddonReadyFun||[],J.AddonReady=J.AddonReady||function(e){J.aryAddonReadyFun.push(e)},function(){J.BarcodeReaderAddon=J.BarcodeReaderAddon||{};var e=J.BarcodeReaderAddon;e.Version="9.6.2.0318",e._decoding=!1,e._decodeQueue=[],e._decodeNext=function(){var n,a;e._decodeQueue.length==0?e._decoding=!1:(n=(a=e._decodeQueue[0]).method,a=a.args,e._decodeQueue.splice(0,1),n.apply(null,a))},e._defaultRuntimeSettingsStr="",e._defaultTemplateStr="",e._activeXInstance=!1,e.BarcodeReaderException=function(){var a=arguments[0],n=J.DBR.EnumErrorCode.DBR_UNKNOWN,a=typeof a=="number"?(n=a,new Error(arguments[1])):new Error(a);return a.code=n,a},e.RemoveNonPrintableChar=function(n){return J.Lib.isString(n)?n.replace(/[^\x20-\x7E]|(\\")/g,""):n},e.errors={webcamNotInstalled:"The Webcam add-on not installed.",nonServiceNotSupportWebcamDecode:"The BarcodeReader add-on does not support reading barcodes from video streams.",decodeResultEmpty:"decode result is empty.",ServiceEditionNotSupportDbr:"The BarcodeReader add-on does not support your Operating System.",ServiceEditionNotSupportWasmMode:"You cannot call this method on this WebTwain instance."},e._activeXMaxIEVersion=9,e.logLevel=3,J.DBR.EnumAccompanyingTextRecognitionMode={ATRM_GENERAL:1,ATRM_SKIP:0},J.DBR.EnumBarcodeColourMode={BICM_DARK_ON_LIGHT:1,BICM_LIGHT_ON_DARK:2,BICM_DARK_ON_DARK:4,BICM_LIGHT_ON_LIGHT:8,BICM_DARK_LIGHT_MIXED:16,BICM_DARK_ON_LIGHT_DARK_SURROUNDING:32,BICM_SKIP:0},J.DBR.EnumBarcodeComplementMode={BCM_AUTO:1,BCM_GENERAL:2,BCM_SKIP:0},J.DBR.EnumBarcodeFormat={BF_ALL:-32505857,BF_ONED:2047,BF_GS1_DATABAR:260096,BF_CODE_39:1,BF_CODE_128:2,BF_CODE_93:4,BF_CODABAR:8,BF_ITF:16,BF_EAN_13:32,BF_EAN_8:64,BF_UPC_A:128,BF_UPC_E:256,BF_INDUSTRIAL_25:512,BF_CODE_39_EXTENDED:1024,BF_GS1_DATABAR_OMNIDIRECTIONAL:2048,BF_GS1_DATABAR_TRUNCATED:4096,BF_GS1_DATABAR_STACKED:8192,BF_GS1_DATABAR_STACKED_OMNIDIRECTIONAL:16384,BF_GS1_DATABAR_EXPANDED:32768,BF_GS1_DATABAR_EXPANDED_STACKED:65536,BF_GS1_DATABAR_LIMITED:131072,BF_PATCHCODE:262144,BF_PDF417:33554432,BF_QR_CODE:67108864,BF_DATAMATRIX:134217728,BF_AZTEC:268435456,BF_MAXICODE:536870912,BF_MICRO_QR:1073741824,BF_MICRO_PDF417:524288,BF_GS1_COMPOSITE:-2147483648,BF_NULL:0},J.DBR.EnumBarcodeFormat_2={BF2_NULL:0,BF2_POSTALCODE:32505856,BF2_NONSTANDARD_BARCODE:1,BF2_USPSINTELLIGENTMAIL:1048576,BF2_POSTNET:2097152,BF2_PLANET:4194304,BF2_AUSTRALIANPOST:8388608,BF2_RM4SCC:16777216,BF2_DOTCODE:2},J.DBR.EnumBinarizationMode={BM_AUTO:1,BM_LOCAL_BLOCK:2,BM_SKIP:0},J.DBR.EnumClarityCalculationMethod={ECCM_CONTRAST:1},J.DBR.EnumClarityFilterMode={CFM_GENERAL:1},J.DBR.EnumColourClusteringMode={CCM_AUTO:1,CCM_GENERAL_HSV:2,CCM_SKIP:0},J.DBR.EnumColourConversionMode={CICM_GENERAL:1,CICM_SKIP:0},J.DBR.EnumConflictMode={CM_IGNORE:1,CM_OVERWRITE:2},J.DBR.EnumDeformationResistingMode={DRM_AUTO:1,DRM_GENERAL:2,DRM_SKIP:0},J.DBR.EnumDPMCodeReadingMode={DPMCRM_AUTO:1,DPMCRM_GENERAL:2,DPMCRM_SKIP:0},J.DBR.EnumErrorCode={DBR_SYSTEM_EXCEPTION:1,DBR_SUCCESS:0,DBR_UNKNOWN:-1e4,DBR_NO_MEMORY:-10001,DBR_NULL_REFERENCE:-10002,DBR_LICENSE_INVALID:-10003,DBR_LICENSE_EXPIRED:-10004,DBR_FILE_NOT_FOUND:-10005,DBR_FILETYPE_NOT_SUPPORTED:-10006,DBR_BPP_NOT_SUPPORTED:-10007,DBR_INDEX_INVALID:-10008,DBR_BARCODE_FORMAT_INVALID:-10009,DBR_CUSTOM_REGION_INVALID:-10010,DBR_MAX_BARCODE_NUMBER_INVALID:-10011,DBR_IMAGE_READ_FAILED:-10012,DBR_TIFF_READ_FAILED:-10013,DBR_QR_LICENSE_INVALID:-10016,DBR_1D_LICENSE_INVALID:-10017,DBR_DIB_BUFFER_INVALID:-10018,DBR_PDF417_LICENSE_INVALID:-10019,DBR_DATAMATRIX_LICENSE_INVALID:-10020,DBR_PDF_READ_FAILED:-10021,DBR_PDF_DLL_MISSING:-10022,DBR_PAGE_NUMBER_INVALID:-10023,DBR_CUSTOM_SIZE_INVALID:-10024,DBR_CUSTOM_MODULESIZE_INVALID:-10025,DBR_RECOGNITION_TIMEOUT:-10026,DBR_JSON_PARSE_FAILED:-10030,DBR_JSON_TYPE_INVALID:-10031,DBR_JSON_KEY_INVALID:-10032,DBR_JSON_VALUE_INVALID:-10033,DBR_JSON_NAME_KEY_MISSING:-10034,DBR_JSON_NAME_VALUE_DUPLICATED:-10035,DBR_TEMPLATE_NAME_INVALID:-10036,DBR_JSON_NAME_REFERENCE_INVALID:-10037,DBR_PARAMETER_VALUE_INVALID:-10038,DBR_DOMAIN_NOT_MATCHED:-10039,DBR_RESERVEDINFO_NOT_MATCHED:-10040,DBR_AZTEC_LICENSE_INVALID:-10041,DBR_LICENSE_DLL_MISSING:-10042,DBR_LICENSEKEY_NOT_MATCHED:-10043,DBR_REQUESTED_FAILED:-10044,DBR_LICENSE_INIT_FAILED:-10045,DBR_PATCHCODE_LICENSE_INVALID:-10046,DBR_POSTALCODE_LICENSE_INVALID:-10047,DBR_DPM_LICENSE_INVALID:-10048,DBR_FRAME_DECODING_THREAD_EXISTS:-10049,DBR_STOP_DECODING_THREAD_FAILED:-10050,DBR_SET_MODE_ARGUMENT_ERROR:-10051,DBR_LICENSE_CONTENT_INVALID:-10052,DBR_LICENSE_KEY_INVALID:-10053,DBR_LICENSE_DEVICE_RUNS_OUT:-10054,DBR_GET_MODE_ARGUMENT_ERROR:-10055,DBR_IRT_LICENSE_INVALID:-10056,DBR_MAXICODE_LICENSE_INVALID:-10057,DBR_GS1_DATABAR_LICENSE_INVALID:-10058,DBR_GS1_COMPOSITE_LICENSE_INVALID:-10059,DBR_DOTCODE_LICENSE_INVALID:-10061,DMERR_FAILED_TO_REACH_LTS:-20200},J.DBR.EnumGrayscaleTransformationMode={GTM_INVERTED:1,GTM_ORIGINAL:2,GTM_SKIP:0},J.DBR.EnumImagePixelFormat={IPF_Binary:0,IPF_BinaryInverted:1,IPF_GrayScaled:2,IPF_NV21:3,IPF_RGB_565:4,IPF_RGB_555:5,IPF_RGB_888:6,IPF_ARGB_8888:7,IPF_RGB_161616:8,IPF_ARGB_16161616:9,IPF_ABGR_8888:10,IPF_ABGR_16161616:11,IPF_BGR_888:12},J.DBR.EnumImagePreprocessingMode={IPM_AUTO:1,IPM_GENERAL:2,IPM_GRAY_EQUALIZE:4,IPM_GRAY_SMOOTH:8,IPM_SHARPEN_SMOOTH:16,IPM_MORPHOLOGY:32,IPM_SKIP:0},J.DBR.EnumIMResultDataType={IMRDT_IMAGE:1,IMRDT_CONTOUR:2,IMRDT_LINESEGMENT:4,IMRDT_LOCALIZATIONRESULT:8,IMRDT_REGIONOFINTEREST:16,IMRDT_QUADRILATERAL:32},J.DBR.EnumIntermediateResultSavingMode={IRSM_MEMORY:1,IRSM_FILESYSTEM:2,IRSM_BOTH:4},J.DBR.EnumIntermediateResultType={IRT_NO_RESULT:0,IRT_ORIGINAL_IMAGE:1,IRT_COLOUR_CLUSTERED_IMAGE:2,IRT_COLOUR_CONVERTED_GRAYSCALE_IMAGE:4,IRT_TRANSFORMED_GRAYSCALE_IMAGE:8,IRT_PREDETECTED_REGION:16,IRT_PREPROCESSED_IMAGE:32,IRT_BINARIZED_IMAGE:64,IRT_TEXT_ZONE:128,IRT_CONTOUR:256,IRT_LINE_SEGMENT:512,IRT_FORM:1024,IRT_SEGMENTATION_BLOCK:2048,IRT_TYPED_BARCODE_ZONE:4096,IRT_PREDETECTED_QUADRILATERAL:8192},J.DBR.EnumLocalizationMode={LM_SKIP:0,LM_AUTO:1,LM_CONNECTED_BLOCKS:2,LM_LINES:8,LM_STATISTICS:4,LM_SCAN_DIRECTLY:16,LM_STATISTICS_MARKS:32,LM_STATISTICS_POSTAL_CODE:64},J.DBR.EnumPDFReadingMode={PDFRM_RASTER:1,PDFRM_AUTO:2,PDFRM_VECTOR:4},J.DBR.EnumQRCodeErrorCorrectionLevel={QRECL_ERROR_CORRECTION_H:0,QRECL_ERROR_CORRECTION_L:1,QRECL_ERROR_CORRECTION_M:2,QRECL_ERROR_CORRECTION_Q:3},J.DBR.EnumRegionPredetectionMode={RPM_AUTO:1,RPM_GENERAL:2,RPM_GENERAL_RGB_CONTRAST:4,RPM_GENERAL_GRAY_CONTRAST:8,RPM_GENERAL_HSV_CONTRAST:16,RPM_SKIP:0},J.DBR.EnumResultCoordinateType={RCT_PIXEL:1,RCT_PERCENTAGE:2},J.DBR.EnumResultType={RT_STANDARD_TEXT:0,RT_RAW_TEXT:1,RT_CANDIDATE_TEXT:2,RT_PARTIAL_TEXT:3},J.DBR.EnumScaleUpMode={SUM_AUTO:1,SUM_LINEAR_INTERPOLATION:2,SUM_NEAREST_NEIGHBOUR_INTERPOLATION:4,SUM_SKIP:0},J.DBR.EnumTerminatePhase={TP_REGION_PREDETECTED:1,TP_IMAGE_PREPROCESSED:2,TP_IMAGE_BINARIZED:4,TP_BARCODE_LOCALIZED:8,TP_BARCODE_TYPE_DETERMINED:16,TP_BARCODE_RECOGNIZED:32},J.DBR.EnumTextAssistedCorrectionMode={TACM_AUTO:1,TACM_VERIFYING:2,TACM_VERIFYING_PATCHING:4,TACM_SKIP:0},J.DBR.EnumTextFilterMode={TFM_AUTO:1,TFM_GENERAL_CONTOUR:2,TFM_SKIP:0},J.DBR.EnumTextResultOrderMode={TROM_CONFIDENCE:1,TROM_POSITION:2,TROM_FORMAT:4,TROM_SKIP:0},J.DBR.EnumTextureDetectionMode={TDM_AUTO:1,TDM_GENERAL_WIDTH_CONCENTRATION:2,TDM_SKIP:0}}(),J.AddonReady(function(e,n){var a,s=J.BarcodeReaderAddon;function f(h){return h&&h instanceof ArrayBuffer}s.Class=function(){function h(y){this._runtimeSettings=null,this._initSettingsContent=null,this._tplContentArr=[],this._stwain=y}var _;return h.prototype._decodeBlob=function(y,T){var I=this;return new e.Promise(function(x){if(!(y instanceof Blob))throw TypeError("'_decodeBlob(blob, templateName)': Type of 'blob' should be 'Blob'.");x()}).then(function(){return I._innerDecode(0,y,T)})},h.prototype._decodeArrayBuffer=function(y,T){var I=this;return new e.Promise(function(x){if(!(y instanceof ArrayBuffer))throw TypeError("'_decodeBlob(arrayBuffer, templateName)': Type of 'arrayBuffer' should be 'ArrayBuffer'.");x()}).then(function(){return I._innerDecode(0,y,T)})},h.prototype._decodeUint8Array=function(y,T){var I=this;return new e.Promise(function(x){if(!(y instanceof Uint8Array||self.Uint8ClampedArray&&y instanceof Uint8ClampedArray))throw TypeError("'_decodeBlob(uint8Array, templateName)': Type of 'uint8Array' should be 'Uint8Array'.");x()}).then(function(){return I._innerDecode(0,y,T)})},h.prototype._decodeImage=function(y,T){var I=this;return new e.Promise(function(x){if(!(y instanceof HTMLImageElement))throw TypeError("'_decodeImage(image, templateName)': Type of 'image' should be 'HTMLImageElement'.");if(y.crossOrigin&&y.crossOrigin!="anonymous")throw"cors";T=T||"",x()}).then(function(){return y.src.substring(0,11)=="data:image/"?I._decodeBase64(y.src,T):I._decodeUrl(y.src,T).catch(function(x){return 3<=s.logLevel&&console&&console.warn&&(console.warn("'_decodeImage(image, templateName)': Image src not available. Use '_decodeCanvas' instead."),console.warn(x)),self.HTMLCanvasElement?((x=document.createElement("canvas")).width=y.naturalWidth,x.height=y.naturalHeight,x.getContext("2d").drawImage(y,0,0),I._decodeCanvas(x,T)):e.Promise.reject(Error("'_decodeImage(image, templateName)': Browser not support HTMLCanvasElement."))})})},h.prototype._decodeCanvas=function(y,T){var I=this;return new e.Promise(function(x){if(!(y instanceof HTMLCanvasElement))throw TypeError("'_decodeCanvas(canvas, templateName)': Type of 'canvas' should be 'HTMLCanvasElement'.");if(y.crossOrigin&&y.crossOrigin!="anonymous")throw"cors";T=T||"",y.toBlob?y.toBlob(function(A){x(A)}):y.msToBlob?y.msToBlob(function(A){x(A)}):x(y.toDataURL())}).then(function(x){return y.toBlob||y.msToBlob?I._decodeBlob(x,T):I._decodeBase64(x,T)})},h.prototype._decodeVideo=function(y){var T,I=this,x=arguments;return new e.Promise(function(A){if(!(y instanceof HTMLVideoElement))throw TypeError("'_decodeVideo(video [ [, sx, sy, sWidth, sHeight], dWidth, dHeight] [, templateName] )': Type of 'video' should be 'HTMLVideoElement'.");if(y.crossOrigin&&y.crossOrigin!="anonymous")throw"cors";x.length<=2?(P=R=0,E=L=y.videoWidth,O=k=y.videoHeight):k=x.length<=4?(P=R=0,E=y.videoWidth,O=y.videoHeight,L=x[1],x[2]):(P=x[1],R=x[2],E=x[3],O=x[4],L=x[5],x[6]),T=typeof x[x.length-1]=="string"?x[x.length-1]:"";var P,R,E,O,L,k,N=document.createElement("canvas");N.width=L,N.height=k,N.getContext("2d").drawImage(y,P,R,E,O,0,0,L,k),A(N)}).then(function(A){return I._decodeCanvas(A,T)})},h.prototype._decodeBase64=h.prototype.decodeBase64String=function(y,T){var I=this;return new e.Promise(function(x){if(!(typeof y=="string"||typeof y=="object"&&y instanceof String))throw TypeError("'decodeBase64(base64Str, templateName)': Type of 'base64Str' should be 'String'.");y.substring(0,11)=="data:image/"&&(y=y.substring(y.indexOf(",")+1)),x()}).then(function(){return I._innerDecode(1,y,T)})},h.prototype._decodeUrl=function(y,T){var I=this;return y&&y.indexOf&&(y.indexOf("dwt://")==0||y.indexOf("dcs://")==0)?I._decodeDynamsoftServiceInnerUrl(y,T):new e.Promise(function(x,A){var P;if(!(typeof y=="string"||typeof y=="object"&&y instanceof String))throw TypeError("'_decodeUrl(url, templateName)': Type of 'url' should be 'String'.");T=T||"",s._activeXInstance?((P=new ActiveXObject("MSXML2.XMLHTTP")).open("GET",y,!0),P.overrideMimeType?P.overrideMimeType("text/plain; charset=x-user-defined"):P.setRequestHeader("Accept-Charset","x-user-defined"),P.onreadystatechange=function(){P.readyState==4&&x(new VBArray(P.responseBody).toArray())},P.send("")):((P=new XMLHttpRequest).open("GET",y,!0),P.responseType="arraybuffer",P.send(),P.onloadend=function(){x(this.response)},P.onerror=function(){A(Error(P.error))})}).then(function(x){return s._activeXInstance?I._activeXDecodeArray(x,T):I._decodeArrayBuffer(x,T)})},h.prototype._decodeDynamsoftServiceInnerUrl=function(y,T){var I=this;return new e.Promise(function(x){if(!(typeof y=="string"||typeof y=="object"&&y instanceof String))throw TypeError("'_decodeUrl(url, templateName)': Type of 'innerUrl' should be 'String'.");if(y.indexOf("dwt://")!=0&&y.indexOf("dcs://")!=0)throw TypeError("'_decodeDynamsoftServiceInnerUrl(innerUrl, templateName)': 'innerUrl' should start with 'dwt://' or 'dcs://'.");x()}).then(function(){return I._innerDecode(4e3,y,T)})},h.prototype._activeXDecodeArray=function(y,T){var I=this;return new e.Promise(function(x,A){if(!(y instanceof Array))throw TypeError("'_activeXDecodeArray(array, templateName)': Type of 'array' should be 'Array'.");T=T||"";try{x(J.Lib.btoa(String.fromCharCode.apply(String,y)))}catch(P){A(P)}}).then(function(x){return I._decodeBase64(x,T)})},h.prototype._activeXDecodeHandle=function(y,T){var I=this;return new e.Promise(function(x){T=T||"",x()}).then(function(){return I._innerDecode(4001,y,T)})},h.prototype._decode=h.prototype.decode=function(y,T){return s._activeXInstance?typeof y=="string"||y instanceof String?this._activeXDecodeHandle(y,T):e.Promise.reject(TypeError("'_decode(source, templateName)' in activeX: Type of 'source' should be 'String(partUrl)'.")):self.Blob&&y instanceof Blob?this._decodeBlob(y,T):self.ArrayBuffer&&y instanceof ArrayBuffer?this._decodeArrayBuffer(y,T):self.Uint8Array&&y instanceof Uint8Array||self.Uint8ClampedArray&&y instanceof Uint8ClampedArray?this._decodeUint8Array(y,T):y instanceof Array?this._activeXDecodeArray(y,T):self.HTMLImageElement&&y instanceof HTMLImageElement?this._decodeImage(y,T):self.HTMLCanvasElement&&y instanceof HTMLCanvasElement?this._decodeCanvas(y,T):self.HTMLVideoElement&&y instanceof HTMLVideoElement?this._decodeVideo(y,T):isNaN(y)?typeof y=="string"||y instanceof String?y.substring(0,11)=="data:image/"?this._decodeBase64(y,T):this._decodeUrl(y,T):e.Promise.reject(TypeError("'_decode(source, templateName)' in H5: Type of 'source' should be 'Blob', 'ArrayBuffer', 'Uint8Array', 'HTMLImageElement', 'HTMLCanvasElement', 'HTMLVideoElement', 'String(base64 with image mime)' or 'String(url)'.")):this._activeXDecodeHandle(y,T)},h.prototype._innerServiceCmd=function(y,T){var I=this._stwain;return new e.Promise(function(x,A){var P,R={method:"ReadBarcode",parameter:[J.Lib.product.refProductKey,4002,"",""],updateSettings:y,initSettingsContent:T};s._activeXInstance?x(s._activeXInstance.Process(e.stringify(R),location.protocol+"//"+location.host)):(I._blts?(P="",I&&I._bRemoteMode&&I._dmService&&I._dmService.attrs&&I._dmService.attrs.UUID&&(P=I._dmService.attrs.UUID),J.DWT.lglic(J.DWT.EnumInstance.dwt_desktop,P).then(function(E){return R.parameter.push(E.ar),R.parameter.push(E.cu),R.parameter.push(0),R.parameter.push(""),e.stringify(R)})):e.Promise.resolve(e.stringify(R))).then(function(E){return e.fetch(I._dbrUrlRoot+"ReadBarcode",{mode:"cors",method:"post",body:E,dataType:"arrayBuffer"})}).then(function(E){f(E)?x(String.fromCharCode.apply(null,new Uint8Array(E))):x(E)},function(E){var O="Init template & runtimeSettings failed.";E&&(O=[O," Http info: ",E.errorString," (",E.httpCode,")"].join("")),A(O)})})},h.prototype._innerDecode=function(y,T,I,x){var A=this;return A._runtimeSettings&&A._runtimeSettings.expectedBarcodesCount==0&&(A._runtimeSettings.expectedBarcodesCount=512),new e.Promise(function(P,R){function E(W,G,le){try{var $,H,ie,pe,se=_&&_(W);for(se&&se.textResults||R(new s.BarcodeReaderException(se.exception,se.description)),e.product.bHTML5Edition&&le&&le.config.data&&($=e.parse(le.config.data),e.isArray($.parameter))&&2<$.parameter.length&&$.parameter[1]==4e3&&(4<$.parameter.length&&$.parameter[4]?se.textResults.imageid=$.parameter[4]:0<=(pe=(ie=$.parameter[2]).indexOf("&index="))&&(se.textResults.imageid=ie.substring(pe+7,ie.indexOf("&t=")))),H=0;H<se.textResults.length;H++){var ce=se.textResults[H];ce.BarcodeText=ce.barcodeText,se.exception!=J.DBR.EnumErrorCode.DBR_SUCCESS&&(ce.exception=se.exception)}se.exception!=J.DBR.EnumErrorCode.DBR_SUCCESS&&(se.textResults.exception=se.exception,se.textResults.description=se.description),s._activeXInstance&&se.records&&(J.Lib.each(se.records,function(me,we){J.DWT.lavrf(we,me,J.DWT.EnumInstance.dwt_desktop)}),J.DWT.lavrf_(1,J.DWT.EnumInstance.dwt_desktop)),P(se.textResults)}catch(me){R(me)}}var O,L,k={method:"ReadBarcode",parameter:[J.Lib.product.refProductKey,y,y!=0?T:null,I||""],updateSettings:A._runtimeSettings,conflictMode:A.conflictMode==1?"ignore":"overwrite",initSettingsContent:A._initSettingsContent,tplContent:function(){if(I){for(var W=0;W<A._tplContentArr.length;++W)if(I==A._tplContentArr[W].ImageParameter.Name)return e.stringify(A._tplContentArr[W])}return null}()},N=A._stwain;s._activeXInstance?N._blts?J.DWT.lglic(J.DWT.EnumInstance.dwt_desktop,"").then(function(W){k.parameter.push(W.ar),k.parameter.push(W.cu),k.parameter.push(0),k.parameter.push(""),E(s._activeXInstance.Process(e.stringify(k),location.protocol+"//"+location.host))}):E(s._activeXInstance.Process(e.stringify(k),location.protocol+"//"+location.host)):(O=N._dbrUrlRoot+"ReadBarcode",y==0&&(O+="/LoadZipFromBytes?cmd="+encodeURIComponent(e.stringify(k))),(y==0?e.Promise.resolve(T):N._blts?(L="",N&&N._bRemoteMode&&N._dmService&&N._dmService.attrs&&N._dmService.attrs.UUID&&(L=N._dmService.attrs.UUID),J.DWT.lglic(J.DWT.EnumInstance.dwt_desktop,L).then(function(W){return k.parameter.push(W.ar),k.parameter.push(W.cu),k.parameter.push(0),k.parameter.push([e.product.getDWTPrefix(),e.product.getServerVersionInfo(),"/verify?id=",x,"&t=",e.getRandom()].join("")),e.stringify(k)})):e.Promise.resolve(e.stringify(k))).then(function(W){return e.fetch(O,{mode:"cors",method:"post",body:W,dataType:"arrayBuffer"})}).then(function(W,G,le){f(W)?E(String.fromCharCode.apply(null,new Uint8Array(W)),0,le):E(W,0,le)},function(W){var G="ReadBarcode request fail.";W&&(G=[G," Http info: ",W.errorString," (",W.httpCode,")"].join("")),R(Error(G))}))})},_=s._handleRetJsonString=function(y){var T;if(typeof y=="string"||typeof y=="object"&&y instanceof String)try{T=e.parse(y)}catch{T=e.parse(s.RemoveNonPrintableChar(y))}else T=y;if(!T)throw s.BarcodeReaderException(J.DBR.EnumErrorCode.DBR_UNKNOWN,s.errors.decodeResultEmpty);if("textResults"in T&&e.isArray(T.textResults)||T.exception==J.DBR.EnumErrorCode.DBR_SUCCESS)return T;throw s.BarcodeReaderException(T.exception,T.description)},h.prototype.getAllParameterTemplateNames=function(){for(var y=[],T=0;T<this._tplContentArr.length;++T)y.push(this._tplContentArr[T].ImageParameter.Name);return y},h.prototype.getRuntimeSettings=function(){return this._runtimeSettings||(this._runtimeSettings=e.parse(s._defaultRuntimeSettingsStr)),e.Promise.resolve(this._runtimeSettings)},h.prototype.updateRuntimeSettings=function(y){var T,I=this;if(typeof y=="string"||typeof y=="object"&&y instanceof String){if(y=="speed"||y=="balance"||y=="coverage"||y=="default")return I.initRuntimeSettingsWithString(y=="speed"?'{"ImageParameter":{"AccompanyingTextRecognitionModes":[{"Mode":"ATRM_SKIP"}],"BarcodeColourModes":[{"LightReflection":1,"Mode":"BICM_DARK_ON_LIGHT"}],"BarcodeComplementModes":[{"Mode":"BCM_SKIP"}],"BarcodeFormatIds":["BF_ALL"],"BarcodeFormatIds_2":["BF2_POSTALCODE","BF2_DOTCODE"],"BinarizationModes":[{"BlockSizeX":0,"BlockSizeY":0,"EnableFillBinaryVacancy":1,"ImagePreprocessingModesIndex":-1,"Mode":"BM_LOCAL_BLOCK","ThreshValueCoefficient":10}],"ColourClusteringModes":[{"Mode":"CCM_SKIP"}],"ColourConversionModes":[{"BlueChannelWeight":-1,"GreenChannelWeight":-1,"Mode":"CICM_GENERAL","RedChannelWeight":-1}],"DPMCodeReadingModes":[{"Mode":"DPMCRM_SKIP"}],"DeblurLevel":3,"DeformationResistingModes":[{"Mode":"DRM_SKIP"}],"Description":"","ExpectedBarcodesCount":512,"FormatSpecificationNameArray":null,"GrayscaleTransformationModes":[{"Mode":"GTM_ORIGINAL"}],"ImagePreprocessingModes":[{"Mode":"IPM_GENERAL"}],"IntermediateResultSavingMode":{"Mode":"IRSM_MEMORY"},"IntermediateResultTypes":["IRT_NO_RESULT"],"LocalizationModes":[{"Mode":"LM_CONNECTED_BLOCKS"},{"Mode":"LM_STATISTICS_MARKS"},{"Mode":"LM_STATISTICS_POSTAL_CODE"}],"MaxAlgorithmThreadCount":4,"Name":"bestSpeed","PDFRasterDPI":300,"PDFReadingMode":{"Mode":"PDFRM_AUTO"},"Pages":"","RegionDefinitionNameArray":null,"RegionPredetectionModes":[{"Mode":"RPM_GENERAL"}],"ResultCoordinateType":"RCT_PIXEL","ReturnBarcodeZoneClarity":0,"ScaleDownThreshold":2300,"ScaleUpModes":[{"Mode":"SUM_AUTO"}],"TerminatePhase":"TP_BARCODE_RECOGNIZED","TextAssistedCorrectionMode":{"BottomTextPercentageSize":0,"LeftTextPercentageSize":0,"Mode":"TACM_VERIFYING","RightTextPercentageSize":0,"TopTextPercentageSize":0},"TextFilterModes":[{"Mode":"TFM_SKIP"}],"TextResultOrderModes":[{"Mode":"TROM_CONFIDENCE"},{"Mode":"TROM_POSITION"},{"Mode":"TROM_FORMAT"}],"TextureDetectionModes":[{"Mode":"TDM_GENERAL_WIDTH_CONCENTRATION","Sensitivity":5}],"Timeout":10000},"Version":"3.0"}':y=="balance"?'{"ImageParameter":{"AccompanyingTextRecognitionModes":[{"Mode":"ATRM_SKIP"}],"BarcodeColourModes":[{"LightReflection":1,"Mode":"BICM_DARK_ON_LIGHT"}],"BarcodeComplementModes":[{"Mode":"BCM_SKIP"}],"BarcodeFormatIds":["BF_ALL"],"BarcodeFormatIds_2":["BF2_POSTALCODE","BF2_DOTCODE"],"BinarizationModes":[{"BlockSizeX":0,"BlockSizeY":0,"EnableFillBinaryVacancy":1,"ImagePreprocessingModesIndex":-1,"Mode":"BM_LOCAL_BLOCK","ThreshValueCoefficient":10}],"ColourClusteringModes":[{"Mode":"CCM_SKIP"}],"ColourConversionModes":[{"BlueChannelWeight":-1,"GreenChannelWeight":-1,"Mode":"CICM_GENERAL","RedChannelWeight":-1}],"DPMCodeReadingModes":[{"Mode":"DPMCRM_SKIP"}],"DeblurLevel":5,"DeformationResistingModes":[{"Mode":"DRM_SKIP"}],"Description":"","ExpectedBarcodesCount":512,"FormatSpecificationNameArray":null,"GrayscaleTransformationModes":[{"Mode":"GTM_ORIGINAL"}],"ImagePreprocessingModes":[{"Mode":"IPM_GENERAL"}],"IntermediateResultSavingMode":{"Mode":"IRSM_MEMORY"},"IntermediateResultTypes":["IRT_NO_RESULT"],"LocalizationModes":[{"Mode":"LM_CONNECTED_BLOCKS"},{"Mode":"LM_STATISTICS"},{"Mode":"LM_STATISTICS_MARKS"},{"Mode":"LM_STATISTICS_POSTAL_CODE"}],"MaxAlgorithmThreadCount":4,"Name":"balance","PDFRasterDPI":300,"PDFReadingMode":{"Mode":"PDFRM_AUTO"},"Pages":"","RegionDefinitionNameArray":null,"RegionPredetectionModes":[{"Mode":"RPM_GENERAL"}],"ResultCoordinateType":"RCT_PIXEL","ReturnBarcodeZoneClarity":0,"ScaleDownThreshold":2300,"ScaleUpModes":[{"Mode":"SUM_AUTO"}],"TerminatePhase":"TP_BARCODE_RECOGNIZED","TextAssistedCorrectionMode":{"BottomTextPercentageSize":0,"LeftTextPercentageSize":0,"Mode":"TACM_VERIFYING","RightTextPercentageSize":0,"TopTextPercentageSize":0},"TextFilterModes":[{"MinImageDimension":65536,"Mode":"TFM_GENERAL_CONTOUR","Sensitivity":0}],"TextResultOrderModes":[{"Mode":"TROM_CONFIDENCE"},{"Mode":"TROM_POSITION"},{"Mode":"TROM_FORMAT"}],"TextureDetectionModes":[{"Mode":"TDM_GENERAL_WIDTH_CONCENTRATION","Sensitivity":5}],"Timeout":10000},"Version":"3.0"}':y=="coverage"?'{"ImageParameter":{"AccompanyingTextRecognitionModes":[{"Mode":"ATRM_SKIP"}],"BarcodeColourModes":[{"LightReflection":1,"Mode":"BICM_DARK_ON_LIGHT"}],"BarcodeComplementModes":[{"Mode":"BCM_SKIP"}],"BarcodeFormatIds":["BF_ALL"],"BarcodeFormatIds_2":["BF2_POSTALCODE","BF2_DOTCODE"],"BinarizationModes":[{"BlockSizeX":0,"BlockSizeY":0,"EnableFillBinaryVacancy":1,"ImagePreprocessingModesIndex":-1,"Mode":"BM_LOCAL_BLOCK","ThreshValueCoefficient":10}],"ColourClusteringModes":[{"Mode":"CCM_SKIP"}],"ColourConversionModes":[{"BlueChannelWeight":-1,"GreenChannelWeight":-1,"Mode":"CICM_GENERAL","RedChannelWeight":-1}],"DPMCodeReadingModes":[{"Mode":"DPMCRM_SKIP"}],"DeblurLevel":9,"DeformationResistingModes":[{"Mode":"DRM_SKIP"}],"Description":"","ExpectedBarcodesCount":512,"FormatSpecificationNameArray":null,"GrayscaleTransformationModes":[{"Mode":"GTM_ORIGINAL"},{"Mode":"GTM_INVERTED"}],"ImagePreprocessingModes":[{"Mode":"IPM_GENERAL"}],"IntermediateResultSavingMode":{"Mode":"IRSM_MEMORY"},"IntermediateResultTypes":["IRT_NO_RESULT"],"LocalizationModes":[{"Mode":"LM_CONNECTED_BLOCKS"},{"Mode":"LM_SCAN_DIRECTLY","ScanDirection":0,"ScanStride":0},{"Mode":"LM_STATISTICS"},{"Mode":"LM_LINES"},{"Mode":"LM_STATISTICS_MARKS"},{"Mode":"LM_STATISTICS_POSTAL_CODE"}],"MaxAlgorithmThreadCount":4,"Name":"coverage","PDFRasterDPI":300,"PDFReadingMode":{"Mode":"PDFRM_AUTO"},"Pages":"","RegionDefinitionNameArray":null,"RegionPredetectionModes":[{"Mode":"RPM_GENERAL"}],"ResultCoordinateType":"RCT_PIXEL","ReturnBarcodeZoneClarity":0,"ScaleDownThreshold":214748347,"ScaleUpModes":[{"Mode":"SUM_AUTO"}],"TerminatePhase":"TP_BARCODE_RECOGNIZED","TextAssistedCorrectionMode":{"BottomTextPercentageSize":0,"LeftTextPercentageSize":0,"Mode":"TACM_VERIFYING","RightTextPercentageSize":0,"TopTextPercentageSize":0},"TextFilterModes":[{"MinImageDimension":65536,"Mode":"TFM_GENERAL_CONTOUR","Sensitivity":0}],"TextResultOrderModes":[{"Mode":"TROM_CONFIDENCE"},{"Mode":"TROM_POSITION"},{"Mode":"TROM_FORMAT"}],"TextureDetectionModes":[{"Mode":"TDM_GENERAL_WIDTH_CONCENTRATION","Sensitivity":5}],"Timeout":10000},"Version":"3.0"}':'{"ImageParameter":{"AccompanyingTextRecognitionModes":[{"Mode":"ATRM_SKIP"}],"BarcodeColourModes":[{"LightReflection":1,"Mode":"BICM_DARK_ON_LIGHT"}],"BarcodeComplementModes":[{"Mode":"BCM_SKIP"}],"BarcodeFormatIds":["BF_ALL"],"BarcodeFormatIds_2":null,"BinarizationModes":[{"BlockSizeX":0,"BlockSizeY":0,"EnableFillBinaryVacancy":1,"ImagePreprocessingModesIndex":-1,"Mode":"BM_LOCAL_BLOCK","ThreshValueCoefficient":10}],"ColourClusteringModes":[{"Mode":"CCM_SKIP"}],"ColourConversionModes":[{"BlueChannelWeight":-1,"GreenChannelWeight":-1,"Mode":"CICM_GENERAL","RedChannelWeight":-1}],"DPMCodeReadingModes":[{"Mode":"DPMCRM_SKIP"}],"DeblurLevel":9,"DeformationResistingModes":[{"Mode":"DRM_SKIP"}],"Description":"","ExpectedBarcodesCount":512,"FormatSpecificationNameArray":null,"GrayscaleTransformationModes":[{"Mode":"GTM_ORIGINAL"}],"ImagePreprocessingModes":[{"Mode":"IPM_GENERAL"}],"IntermediateResultSavingMode":{"Mode":"IRSM_MEMORY"},"IntermediateResultTypes":["IRT_NO_RESULT"],"LocalizationModes":[{"Mode":"LM_CONNECTED_BLOCKS"},{"Mode":"LM_SCAN_DIRECTLY","ScanDirection":0,"ScanStride":0},{"Mode":"LM_STATISTICS"},{"Mode":"LM_LINES"}],"MaxAlgorithmThreadCount":4,"Name":"default","PDFRasterDPI":300,"PDFReadingMode":{"Mode":"PDFRM_AUTO"},"Pages":"","RegionDefinitionNameArray":null,"RegionPredetectionModes":[{"Mode":"RPM_GENERAL"}],"ResultCoordinateType":"RCT_PIXEL","ReturnBarcodeZoneClarity":0,"ScaleDownThreshold":2300,"ScaleUpModes":[{"Mode":"SUM_AUTO"}],"TerminatePhase":"TP_BARCODE_RECOGNIZED","TextAssistedCorrectionMode":{"BottomTextPercentageSize":0,"LeftTextPercentageSize":0,"Mode":"TACM_VERIFYING","RightTextPercentageSize":0,"TopTextPercentageSize":0},"TextFilterModes":[{"MinImageDimension":65536,"Mode":"TFM_GENERAL_CONTOUR","Sensitivity":0}],"TextResultOrderModes":[{"Mode":"TROM_CONFIDENCE"},{"Mode":"TROM_POSITION"},{"Mode":"TROM_FORMAT"}],"TextureDetectionModes":[{"Mode":"TDM_GENERAL_WIDTH_CONCENTRATION","Sensitivity":5}],"Timeout":10000},"Version":"3.0"}');T=y}else{if(typeof y!="object")throw TypeError("'setTemplateSettings(settings)': Type of 'settings' should be 'String' or 'PlainObject'.");T=e.stringify(y)}return y=e.parse(T),I._runtimeSettings=y,I._initSettingsContent=null,I._innerServiceCmd(I._runtimeSettings,null).then(function(x){return x=s._handleRetJsonString(x),I._runtimeSettings=x.settings,I._runtimeSettings||(I._runtimeSettings=e.parse(s._defaultRuntimeSettingsStr)),x.settings})},h.prototype.resetRuntimeSettings=function(){var y=this;return y._runtimeSettings=e.parse(s._defaultRuntimeSettingsStr),y._initSettingsContent=null,y._innerServiceCmd(y._runtimeSettings,null).then(function(T){return T=s._handleRetJsonString(T),y._runtimeSettings=T.settings,y._runtimeSettings||(y._runtimeSettings=e.parse(s._defaultRuntimeSettingsStr)),T.settings})},h.prototype.outputSettingsToString=function(y){if(!y)return s._defaultTemplateStr;for(var T=0;T<this._tplContentArr.length;++T)if(y==this._tplContentArr[T].ImageParameter.Name)return e.stringify(this._tplContentArr[T])},h.prototype.initRuntimeSettingsWithString=function(y){var T=this;if(e.isString(y))return T._runtimeSettings=null,T._initSettingsContent=e.parse(y),T._innerServiceCmd(null,T._initSettingsContent).then(function(I){return I=s._handleRetJsonString(I),T._runtimeSettings=I.settings,T._runtimeSettings||(T._runtimeSettings=e.parse(s._defaultRuntimeSettingsStr)),I.settings});throw TypeError("'initRuntimeSettingsWithString(settings)': Type of 'settings' should be 'String'.")},h}(),s._dbr_ax=!1,s._dbr=!1,s._initH5=function(h,_,y){return new e.Promise(function(T,I){h._bRemoteMode&&h._dmService&&h._dmService.attrs&&h._dmService.attrs.url&&(h._dbrUrlRoot=h._dmService.attrs.url+"dcp/dbr_"+s.Version.replace(/\./g,"")+"/"),h._dbrUrlRoot||(h._dbrUrlRoot=J.DWT.NetManager.getModuleUrl("dcp/dbr_"+s.Version.replace(/\./g,"")+"/"));var x=5,A={method:"POST",url:h._dbrUrlRoot+"VersionInfo?t="+e.getRandom(),data:'{"method":"VersionInfo"}',onSuccess:function(){T()},onError:function(){if(--x<=0)return I("Failed to connect to the Barcode Reader Add-on, the library may be missing in the Dynamic Web TWAIN Service directory.");setTimeout(function(){e.ajax(A)},300)},dataType:"json",async:!0,timeout:800};e.ajax(A)}).then(function(){return s._dbr=new s.Class(h),s._dbr._innerServiceCmd(null,null)}).then(function(T){try{var I=s._handleRetJsonString(T);s._dbr._runtimeSettings=I.settings,s._defaultRuntimeSettingsStr=e.stringify(I.settings),s._defaultTemplateStr=e.stringify(I.outputSettings),_(s._dbr)}catch(x){y(Error("Init template & runtimeSettings failed: "+x.message)||x)}},function(T){y(T)})},s.dbrInitPromiseFun=function(h){return new e.Promise(function(_,y){s.innerDbrInit(h,_,y)})},s.innerDbrInit=function(h,_,y){var T=!1,I=!1,x=(e.product.bHTML5Edition?T=!0:I=!0,J.BarcodeReaderAddon);if(T){if(x._dbr)return void _(x._dbr)}else if(I&&x._dbr_ax)return void _(x._dbr_ax);if(T&&x._initH5(h,_,y),I){if(T=J.navInfoSync,I={method:"ReadBarcode",parameter:[J.Lib.product.refProductKey,4002,"",""]},!T.bIE)return y(Error("The DBR init error."));try{x._activeXInstance=new ActiveXObject("DBRModule.AtlDBR");var A,P=x._activeXInstance.Process(e.stringify(I),location.protocol+"//"+location.host),R=e.parse(P);return R?"settings"in R?(x._dbr_ax=new x.Class(h),x._dbr_ax._runtimeSettings=R.settings,x._defaultRuntimeSettingsStr=e.stringify(R.settings),"outputSettings"in R&&(x._defaultTemplateStr=e.stringify(R.outputSettings)),void _(x._dbr_ax)):(A=R.description||"The DBR init error.",y(Error(A))):y(Error("The DBR init error."))}catch(E){return y(Error("The DBR .dll is missing or not accessible: "+(E.message||E)))}}},e.DynamicLoadAddonFuns&&e.DynamicLoadAddonFuns.push(function(h){if(a=h._b64bit?"dbrx64_"+J.BarcodeReaderAddon.Version+".dll":"dbr_"+J.BarcodeReaderAddon.Version+".dll",e.product.bHTML5Edition)try{h._innerSend("GetAddOnVersion",e.html5.Funs.makeParams("barcodereader",a),!0,!1,!1).catch(function(){})}catch{}function _(T){return!e.License.checkProductKey(T,{Core:!0})||!!J.Lib.env.bMobile&&(T._errorCode=J.DBR.EnumErrorCode.DBR_UNKNOWN,T._errorString=s.errors.ServiceEditionNotSupportDbr,!0)}var y={BarcodeReader:{decode:function(T){return _(h)?e.Promise.reject(s.BarcodeReaderException(h._errorCode,h._errorString)):!e.isNumber(T)||T<0||T>=h.HowManyImagesInBuffer?(e.Errors.IndexOutOfRange(h),e.Promise.reject(s.BarcodeReaderException(h._errorCode,h._errorString))):new e.Promise(function(I){s._decoding?s._decodeQueue.push({method:I,args:[T]}):(s._decoding=!0,I(T))}).then(function(I){var x;if(e.product.bHTML5Edition){if((x=h._ImgManager.convertClientIndexToServerId(I))==-1)throw e.Errors.IndexOutOfRange(h),setTimeout(s._decodeNext,0),s.BarcodeReaderException(h._errorCode,h._errorString)}else x=I;return new e.Promise(function(A,P){s.dbrInitPromiseFun(h).then(function(R){var E;if(!e.product.bHTML5Edition)return E=x,O=h.GetImagePartURL(E,-1,-1),R._innerDecode(4001,O,"").then(function(L){L.imageid=h.IndexToImageID(E),setTimeout(s._decodeNext,0),A(L)},function(L){setTimeout(s._decodeNext,0),P(L)});E=h._ImgManager.convertServerIdToClientIndex(x);var O=h.GetImagePartURL(E,-1,-1);return R._innerDecode(4e3,O,"",h._clientId).then(function(L){L.imageid=h.IndexToImageID(E),setTimeout(s._decodeNext,0),A(L),h._blts&&J.DWT.lcvrf(h)},function(L){setTimeout(s._decodeNext,0),P(L)})},function(R){setTimeout(s._decodeNext,0),P(R)})})})},resetRuntimeSettings:function(){return _(h)?e.Promise.reject(s.BarcodeReaderException(h._errorCode,h._errorString)):s.dbrInitPromiseFun(h).then(function(T){return T.resetRuntimeSettings()})},getRuntimeSettings:function(T){return _(h)?e.Promise.reject(s.BarcodeReaderException(h._errorCode,h._errorString)):!e.isString(T)||T!="speed"&&T!="balance"&&T!="coverage"&&T!="default"?s.dbrInitPromiseFun(h).then(function(I){return I.getRuntimeSettings()}):this.updateRuntimeSettings(T)},updateRuntimeSettings:function(T){return _(h)?e.Promise.reject(s.BarcodeReaderException(h._errorCode,h._errorString)):s.dbrInitPromiseFun(h).then(function(I){return I.updateRuntimeSettings(T)})},initRuntimeSettingsWithString:function(T){return _(h)?e.Promise.reject(s.BarcodeReaderException(h._errorCode,h._errorString)):s.dbrInitPromiseFun(h).then(function(I){return I.initRuntimeSettingsWithString(T)})}}};e.product.bHTML5Edition?(h.__addon=h.__addon||{},e.mix(h.__addon,y)):(h.Addon=h.Addon||{},e.mix(h.Addon,y))})});/*! 20251201182703
* Dynamsoft JavaScript Library
* Product: Dynamic Web TWAIN
* Web Site: https://www.dynamsoft.com
*
* Copyright 2025, Dynamsoft Corporation
* Author: Dynamsoft Support Team
*
* Module: PDF
* Version: 19.3
* 
*/var J=self.Dynamsoft||{};J.DWT=J.DWT||{},J.aryAddonReadyFun=J.aryAddonReadyFun||[],J.AddonReady=J.AddonReady||function(e){J.aryAddonReadyFun.push(e)},function(){J.DWT.EnumDWT_ConvertMode={CM_RENDERALL:1,CM_IMAGEONLY:2,CM_AUTO:3,CM_RENDERALLWITHANNOTATION:4},J.DWT.EnumDWT_PDFCompressionType={PDF_AUTO:0,PDF_FAX3:1,PDF_FAX4:2,PDF_LZW:3,PDF_RLE:4,PDF_JPEG:5,PDF_JP2000:6,PDF_JBIG2:7}}(),J.AddonReady(function(e,n){var a,s;e.product.bHTML5Edition&&(a={code:-2830,message:"The PDF resolution must be a positive number."},e.DynamicLoadAddonFuns)&&e.DynamicLoadAddonFuns.push(function(f){var h,_=e.html5.Funs;s=f.__serverPlatform==J.DWT.EnumDWT_PlatformType.enumMac?f._b64bit?"libDMCodecx64.dylib":"libDMCodec.dylib":f.__serverPlatform==J.DWT.EnumDWT_PlatformType.enumLinux||f.__serverPlatform==J.DWT.EnumDWT_PlatformType.enumEmbed||f.__serverPlatform==J.DWT.EnumDWT_PlatformType.enumChromeOS?"libDMCodec.so":f._b64bit?"DMCodecx64.dll":"DMCodec.dll";try{f._innerSend("GetAddOnVersion",_.makeParams("pdf",s),!0,!1,!1).catch(function(){})}catch{}h={PDF:{IsModuleInstalled:function(){var y=f;return y._resetErr(),y._innerFun("GetAddOnVersion",_.makeParams("pdf",s))!=""},IsModuleInstalledAsync:function(){var y=f;return y._resetErr(),y._innerFunV2("GetAddOnVersion",_.makeParams("pdf",s)).then(function(T){return T!=""})},ConvertToImage:function(A,T,I,x){var A=_.replaceLocalFilename(A),P="ConvertPDFToImage",R=f;return R._resetErr(),_.showMask(P),R._innerSend(P,_.makeParams(A,T),!0,function(E){return _.hideMask(P),I&&I(),!0},function(E){return _.hideMask(P),x&&x(),!1}),!0},SetPassword:function(y){var T=f,I=y||"";return T._resetErr(),!!T._checkPDFPasswordValue(I)&&(I=T._mixSavedPdfReaderOptions({password:I}),(I=T._setReaderOptions(I,!1))&&(T._pdfOptions.password=y),I)},SetConvertMode:function(y){return f._setConvertMode(y)},SetConvertModeAsync:function(y){return f._setConvertModeAsync(y)},GetConvertMode:function(){var y=f;return y._resetErr(),y._pdfConvertMode},SetResolution:function(y){var T=f,I=y;return T._resetErr(),I=T._mixSavedPdfReaderOptions({renderOptions:{resolution:I}}),(I=T._setReaderOptions(I,!1))&&(T._pdfOptions.renderOptions.resolution=y),I},SetResolutionAsync:function(y){var T=f;return T._resetErr(),!J.Lib.isNumber(y)||y<=0?J.Lib.Promise.reject(a):T._innerFunV2("SetPDFResolution",_.makeParams(y)).then(function(I){I&&(T._pdfOptions.renderOptions.resolution=y)})},SetReaderOptions:function(y){return f._setReaderOptions(y,!0)},GetReaderOptions:function(){var y,T=f;return T._resetErr(),y=f._innerFun("GetPDFReaderOptions"),y=J.Lib.parse(y),T._pdfOptions=T._mixSavedPdfReaderOptions(y),J.Lib.clone(T._pdfOptions)},IsTextBasedPDF:function(A,T,I){var x=f,A=(x._resetErr(),_.replaceLocalFilename(A)),A=f._innerFun("IsTextBasedPDF",_.makeParams(A));return x.ErrorCode==0?e.isFunction(T)&&T(A):e.isFunction(I)&&I(x.ErrorCode,x.ErrorString),A},IsRasterizationRequired:function(y){return f._resetErr(),y=_.replaceLocalFilename(y),f._innerFun("IsRasterizationRequired",_.makeParams(y))},Write:{Setup:function(I){e.isObject(I)?(T=J.Lib.clone(I),2<e.stringify(T).length&&(e.isNumber(T.version)?1<=T.version&&T.version<2&&(T.version=parseInt(10*T.version)):T.version=15)):T={version:15},e.isNumber(T.compression)&&T.compression==J.DWT.EnumDWT_PDFCompressionType.PDF_FAX3&&(T.compression=J.DWT.EnumDWT_PDFCompressionType.PDF_FAX4);var T,I=f;return I._resetErr(),!(T.password&&(e.isNumber(T.password)&&(T.password=T.password.toString()),!I._checkPDFPasswordValue(T.password)))&&(T=e.stringify(T),T=e.replaceAll(T,'"','\\"'),I._innerFun("SetPDFSettings",['["',T,'"]'].join("")))}}}},f.__addon=f.__addon||{},e.mix(f.__addon,h)})}),J.AddonReady(function(e,n){e.product.bActiveXEdition&&e.DynamicLoadAddonFuns&&e.DynamicLoadAddonFuns.push(function(a){var s,f,h;if(!a.getSWebTwain()||!a.getSWebTwain().Addon)return!1;J.navInfoSync.bWin&&(h=!J.navInfo.bOSx64||J.navInfo.bWOW64?"DMCodec.dll":"DMCodecx64.dll"),f=a.getSWebTwain(),s={PDF:{IsModuleInstalled:function(){var _=f.GetAddOnVersion("pdf",h);return e.setErrorString(a),_!=""},IsModuleInstalledAsync:function(){var _=f.GetAddOnVersion("pdf",h);return e.setErrorString(a),e.Promise.resolve(_!="")},ConvertToImage:function(_,y,T,I){return _=f.ConvertPDFToImage(_,y),e.wrapperRet(a,_,T,I)},SetPassword:function(_){return _=f.SetPDFPassword(_),e.wrapperRet(a,_)},SetConvertMode:function(_){return a._setConvertMode(_)},SetConvertModeAsync:function(_){return Promise.resolve(a._setConvertMode(_))},GetConvertMode:function(){return a._resetErr(),a._pdfConvertMode},SetResolution:function(_){return _=f.SetPDFResolution(_),e.wrapperRet(a,_)},SetResolutionAsync:function(_){return _=f.SetPDFResolution(_),e.Promise.resolve(e.wrapperRet(a,_))},SetReaderOptions:function(){return!1},GetReaderOptions:function(){return{}},IsTextBasedPDF:function(_){return _=f.IsTextBasedPDF(_),e.wrapperRet(a,_)}}},a.Addon=a.Addon||{},e.mix(a.Addon,s)})});/*! 20251201182703
* Dynamsoft JavaScript Library
* Product: Dynamic Web TWAIN
* Web Site: https://www.dynamsoft.com
*
* Copyright 2025, Dynamsoft Corporation
* Author: Dynamsoft Support Team
*
* Module: OCR
* Version: 19.3
* 
*/var J=self.Dynamsoft||{};J.DWT=J.DWT||{},J.aryAddonReadyFun=J.aryAddonReadyFun||[],J.AddonReady=J.AddonReady||function(e){J.aryAddonReadyFun.push(e)},J.DWT.OCRVerInName="10.0.0.0618",function(){for(var e=[J.DWT],n=0;n<1;n++){var a=e[n];a.EnumDWT_OCRLanguage={OCRL_ENG:"eng",OCRL_ARA:"ara",OCRL_CHI_SIM:"chi_sim",OCRL_CHI_TRA:"chi_tra",OCRL_HIN:"hin",OCRL_URD:"urd",OCRL_SPA:"spa",OCRL_FRA:"fra",OCRL_MSA:"msa",OCRL_IND:"ind",OCRL_RUS:"rus",OCRL_BEN:"ben",OCRL_POR:"por",OCRL_PAN:"pan",OCRL_DEU:"deu",OCRL_JPN:"jpn",OCRL_FAS:"fas",OCRL_SWA:"swa",OCRL_JAV:"jav",OCRL_TEL:"tel",OCRL_TUR:"tur",OCRL_KOR:"kor",OCRL_MAR:"mar",OCRL_TAM:"tam",OCRL_VIE:"vie",OCRL_ITA:"ita",OCRL_THA:"tha"},a.EnumDWT_OCRPageSetMode={OCRPSM_OSD_ONLY:0,PSM_AUTO_OSD:1,PSM_AUTO_ONLY:2,PSM_AUTO:3,PSM_SINGLE_COLUMN:4,PSM_SINGLE_BLOCK_VERT_TEXT:5,PSM_SINGLE_BLOCK:6,PSM_SINGLE_LINE:7,PSM_SINGLE_WORD:8,PSM_CIRCLE_WORD:9,PSM_SINGLE_CHAR:10},a.EnumDWT_OCROutputFormat={OCROF_TEXT:0,OCROF_PDFPLAINTEXT:1,OCROF_PDFIMAGEOVERTEXT:2,OCROF_PDFPLAINTEXT_PDFX:3,OCROF_PDFIMAGEOVERTEXT_PDFX:4},a.EnumDWT_OCRDownloadType={OCRDT_Dll:0,OCRDT_LANGUAGE:1}}}(),J.DWT.OCRLanguageData_eng="4113088",J.DWT.OCRLanguageData_ara="1432056",J.DWT.OCRLanguageData_chi_sim="2469156",J.DWT.OCRLanguageData_chi_tra="2366642",J.DWT.OCRLanguageData_hin="1122751",J.DWT.OCRLanguageData_urd="1398718",J.DWT.OCRLanguageData_spa="2294433",J.DWT.OCRLanguageData_fra="1130365",J.DWT.OCRLanguageData_msa="1747801",J.DWT.OCRLanguageData_ind="1122661",J.DWT.OCRLanguageData_rus="3861738",J.DWT.OCRLanguageData_ben="855841",J.DWT.OCRLanguageData_por="1982756",J.DWT.OCRLanguageData_pan="497721",J.DWT.OCRLanguageData_deu="1525436",J.DWT.OCRLanguageData_jpn="2471260",J.DWT.OCRLanguageData_fas="431500",J.DWT.OCRLanguageData_swa="2167651",J.DWT.OCRLanguageData_jav="2982741",J.DWT.OCRLanguageData_tel="2769654",J.DWT.OCRLanguageData_tur="4550554",J.DWT.OCRLanguageData_kor="1677415",J.DWT.OCRLanguageData_mar="2118233",J.DWT.OCRLanguageData_tam="3237963",J.DWT.OCRLanguageData_vie="531275",J.DWT.OCRLanguageData_ita="2701314",J.DWT.OCRLanguageData_tha="1072600",J.DWT.OCRLanguageData={},J.DWT.OCRLanguageData[J.DWT.EnumDWT_OCRLanguage.OCRL_ENG]=J.DWT.OCRLanguageData_eng,J.DWT.OCRLanguageData[J.DWT.EnumDWT_OCRLanguage.OCRL_ARA]=J.DWT.OCRLanguageData_ara,J.DWT.OCRLanguageData[J.DWT.EnumDWT_OCRLanguage.OCRL_CHI_TRA]=J.DWT.OCRLanguageData_chi_tra,J.DWT.OCRLanguageData[J.DWT.EnumDWT_OCRLanguage.OCRL_CHI_SIM]=J.DWT.OCRLanguageData_chi_sim,J.DWT.OCRLanguageData[J.DWT.EnumDWT_OCRLanguage.OCRL_HIN]=J.DWT.OCRLanguageData_hin,J.DWT.OCRLanguageData[J.DWT.EnumDWT_OCRLanguage.OCRL_URD]=J.DWT.OCRLanguageData_urd,J.DWT.OCRLanguageData[J.DWT.EnumDWT_OCRLanguage.OCRL_SPA]=J.DWT.OCRLanguageData_spa,J.DWT.OCRLanguageData[J.DWT.EnumDWT_OCRLanguage.OCRL_FRA]=J.DWT.OCRLanguageData_fra,J.DWT.OCRLanguageData[J.DWT.EnumDWT_OCRLanguage.OCRL_MSA]=J.DWT.OCRLanguageData_msa,J.DWT.OCRLanguageData[J.DWT.EnumDWT_OCRLanguage.OCRL_IND]=J.DWT.OCRLanguageData_ind,J.DWT.OCRLanguageData[J.DWT.EnumDWT_OCRLanguage.OCRL_RUS]=J.DWT.OCRLanguageData_rus,J.DWT.OCRLanguageData[J.DWT.EnumDWT_OCRLanguage.OCRL_BEN]=J.DWT.OCRLanguageData_ben,J.DWT.OCRLanguageData[J.DWT.EnumDWT_OCRLanguage.OCRL_POR]=J.DWT.OCRLanguageData_por,J.DWT.OCRLanguageData[J.DWT.EnumDWT_OCRLanguage.OCRL_PAN]=J.DWT.OCRLanguageData_pan,J.DWT.OCRLanguageData[J.DWT.EnumDWT_OCRLanguage.OCRL_DEU]=J.DWT.OCRLanguageData_deu,J.DWT.OCRLanguageData[J.DWT.EnumDWT_OCRLanguage.OCRL_JPN]=J.DWT.OCRLanguageData_jpn,J.DWT.OCRLanguageData[J.DWT.EnumDWT_OCRLanguage.OCRL_FAS]=J.DWT.OCRLanguageData_fas,J.DWT.OCRLanguageData[J.DWT.EnumDWT_OCRLanguage.OCRL_SWA]=J.DWT.OCRLanguageData_swa,J.DWT.OCRLanguageData[J.DWT.EnumDWT_OCRLanguage.OCRL_JAV]=J.DWT.OCRLanguageData_jav,J.DWT.OCRLanguageData[J.DWT.EnumDWT_OCRLanguage.OCRL_TEL]=J.DWT.OCRLanguageData_tel,J.DWT.OCRLanguageData[J.DWT.EnumDWT_OCRLanguage.OCRL_TUR]=J.DWT.OCRLanguageData_tur,J.DWT.OCRLanguageData[J.DWT.EnumDWT_OCRLanguage.OCRL_KOR]=J.DWT.OCRLanguageData_kor,J.DWT.OCRLanguageData[J.DWT.EnumDWT_OCRLanguage.OCRL_MAR]=J.DWT.OCRLanguageData_mar,J.DWT.OCRLanguageData[J.DWT.EnumDWT_OCRLanguage.OCRL_TAM]=J.DWT.OCRLanguageData_tam,J.DWT.OCRLanguageData[J.DWT.EnumDWT_OCRLanguage.OCRL_VIE]=J.DWT.OCRLanguageData_vie,J.DWT.OCRLanguageData[J.DWT.EnumDWT_OCRLanguage.OCRL_ITA]=J.DWT.OCRLanguageData_ita,J.DWT.OCRLanguageData[J.DWT.EnumDWT_OCRLanguage.OCRL_THA]=J.DWT.OCRLanguageData_tha,function(e){function n(){var a=this;a._text="",a._fontName="",a._fontSize="",a._left=0,a._top=0,a._right=0,a._bottom=0}n.prototype.GetText=function(){return this._text},n.prototype.GetFontName=function(){return this._fontName},n.prototype.GetFontSize=function(){return this._fontSize},n.prototype.GetWordRect=function(){var a=this;return a._left+","+a._top+","+a._right+","+a._bottom},e.NewWordBasicResult=function(){return new n}}(J.Lib),function(e){function n(){var a=this;a._count=0,a._left=0,a._top=0,a._right=0,a._bottom=0,a._wordlist=[]}n.prototype.GetWordCount=function(){return this._count},n.prototype.GetLineRect=function(){var a=this;return a._left+","+a._top+","+a._right+","+a._bottom},n.prototype.GetWordContent=function(a){var s=this,f=s._wordlist.length;return s._errorCode<0?"":a==null||f<=a||a<0?(J.Lib.Errors.OCR_InvalidIndex(s,"GetWordContent"),""):((f=J.Lib.NewWordBasicResult())._text=s._wordlist[a].text,f._fontName=s._wordlist[a].fontname,f._fontSize=s._wordlist[a].fontsize,f._left=s._wordlist[a].rect[0],f._top=s._wordlist[a].rect[1],f._right=s._wordlist[a].rect[2],f._bottom=s._wordlist[a].rect[3],f)},e.NewLineBasicResult=function(){return new n}}(J.Lib),function(e){function n(){this._count=0,this._linelist=[]}n.prototype.GetLineCount=function(){return this._count},n.prototype.GetLineContent=function(a){var s=this,f=s._linelist.length;return s._errorCode<0?"":a==null||f<=a||a<0?(J.Lib.Errors.OCR_InvalidIndex(s,"GetLineContent"),""):((f=J.Lib.NewLineBasicResult())._count=s._linelist[a].words.length,f._left=s._linelist[a].rect[0],f._top=s._linelist[a].rect[1],f._right=s._linelist[a].rect[2],f._bottom=s._linelist[a].rect[3],f._wordlist=s._linelist[a].words,f)},e.NewPageBasicResult=function(){return new n}}(J.Lib),function(e){function n(){this._count=0,this._pagelist=[]}n.prototype.GetPageCount=function(){return this._count},n.prototype.GetPageContent=function(a){var s=this,f=s._pagelist.length;return s._errorCode<0?"":a==null||f<=a||a<0?(J.Lib.Errors.OCR_InvalidIndex(s,"GetPageContent"),""):((f=J.Lib.NewPageBasicResult())._count=s._pagelist[a].lines.length,f._linelist=s._pagelist[a].lines,f)},e.NewPageSetBasicResult=function(){return new n}}(J.Lib),function(e){function n(a){var s=this;s._errorCode=0,s._errorString="",s._resultlist=[],s._stwain=a}n.prototype.GetErrorCode=function(){return this._errorCode},n.prototype.GetErrorString=function(){return this._errorString},n.prototype.GetFormat=function(){return this._resultlist[0].format},n.prototype.GetInput=function(){var a=this._resultlist[0].input;if(a){var s=Number(a);if(!isNaN(s))return this._stwain._ImgManager.convertServerIdToClientIndex(s)}return a},n.prototype.GetPageSetCount=function(){return this._resultlist[0].pagesets.length},n.prototype.GetPageSetContent=function(a){var s=this,f=s._resultlist[0].pagesets.length;return s._errorCode<0?"":a==null||f<=a||a<0?(J.Lib.Errors.OCR_InvalidIndex(s,"GetPageSetContent"),""):((f=J.Lib.NewPageSetBasicResult())._count=s._resultlist[0].pagesets[a].pages.length,f._pagelist=s._resultlist[0].pagesets[a].pages,f)},n.prototype.Get=function(){return this._stwain._innerFun("GetOCRRestult")},n.prototype.Save=function(a){return a=e.html5.Funs.replaceLocalFilename(a),this._stwain._innerFun("SaveOCRRestult",e.html5.Funs.makeParams(a))},e.NewOCRBasicResult=function(a){return new n(a)}}(J.Lib),function(e){function n(){var a=this;a.UnicodeFontName="",a.UseDetectedFont=!0,a.MinFontSizeforMoreAccurateResult=0,a.OCRLanguage=J.DWT.EnumDWT_OCRLanguage.OCRL_ENG,a.PageSetMode=J.DWT.EnumDWT_OCRPageSetMode.PSM_AUTO,a.OutputFormat=J.DWT.EnumDWT_OCROutputFormat.OCROF_PDFIMAGEOVERTEXT}n.prototype.GetUnicodeFontName=function(){return this.UnicodeFontName},n.prototype.SetUnicodeFontName=function(a){return e.isString(a)||(a=""),this.UnicodeFontName=a,!0},n.prototype.GetUseDetectedFont=function(){return!!this.UseDetectedFont},n.prototype.SetUseDetectedFont=function(a){return this.UseDetectedFont=!!a,!0},n.prototype.GetMinFontSizeforMoreAccurateResult=function(){return this.MinFontSizeforMoreAccurateResult},n.prototype.SetMinFontSizeforMoreAccurateResult=function(a){return a=+a,this.MinFontSizeforMoreAccurateResult=a=a<0?0:a,!0},n.prototype.GetOCRLanguage=function(){return this.OCRLanguage},n.prototype.SetOCRLanguage=function(a){return e.isString(a)||(a=""),this.OCRLanguage=a,!0},n.prototype.GetPageSetMode=function(){return this.PageSetMode},n.prototype.SetPageSetMode=function(a){return a=+a,(a<0||a>J.DWT.EnumDWT_OCRPageSetMode.PSM_SINGLE_CHAR)&&(a=J.DWT.EnumDWT_OCRPageSetMode.PSM_AUTO),this.PageSetMode=a,!0},n.prototype.GetOutputFormat=function(){return this.OutputFormat},n.prototype.SetOutputFormat=function(a){return a=+a,(a<0||a>J.DWT.EnumDWT_OCROutputFormat.OCROF_PDFIMAGEOVERTEXT_PDFX)&&(a=J.DWT.EnumDWT_OCROutputFormat.OCROF_PDFIMAGEOVERTEXT),this.OutputFormat=a,!0},e.NewOptions=function(){return new n}}(J.Lib),J.AddonReady(function(e,n){var a;e.product.bHTML5Edition&&e.DynamicLoadAddonFuns&&e.DynamicLoadAddonFuns.push(function(s){var f,h,_,y=e.html5.Funs,T=e.NewOptions();h=s,_=e.html5.Funs,a=e.env.bMac?"DynamicOCR_"+J.DWT.OCRVerInName+".dylib":e.env.bLinux?"DynamicOCR_"+J.DWT.OCRVerInName+".so":J.dcp.b64bit?"DynamicOCRx64_"+J.DWT.OCRVerInName+".dll":"DynamicOCR_"+J.DWT.OCRVerInName+".dll",h._isMobileMode()||h._innerSend("GetAddOnVersion",_.makeParams("ocr",a),!0,!1,!1),h.__innerOCRBasicReadFunction=function(I,x,A,P,R,E,O,L,k,N,W){return e.isFunction(N)?this.__innerOCRBasicAsyncReadFunction(I,x,A,P,R,E,O,L,k,N,W):this.__innerOCRSyncReadFunction(I,k)},h.__innerGetOCRBasicResultAsyncFunction=function(I){var x=J.Lib.NewOCRBasicResult(this);return I&&(x._errorCode=I.exception,x._errorString=I.description,x._resultlist=I.result),x},h.__innerOCRBasicAsyncReadFunction=function(I,x,A,P,R,E,O,L,k,N,W){var G=this;return _.showMask(I),G._innerSend(I,k,!0,function(le){var $;le.exception==0?(e.isFunction(N)&&(x!=-1?($=G._convertServerIdToGuid(x),P==1?N($,R,E,O,L,G.__innerGetOCRBasicResultAsyncFunction(le)):N($,G.__innerGetOCRBasicResultAsyncFunction(le))):A!=""?N(A,G.__innerGetOCRBasicResultAsyncFunction(le)):N(G.__innerGetOCRBasicResultAsyncFunction(le))),e.License.isLTS()&&J.DWT.lcvrf(h)):e.isFunction(W)&&W(le.exception,le.description),_.hideMask(I)},function(le){_.hideMask(I)}),!0},h.__innerOCRSyncReadFunction=function(I,x){return I=this._innerFunRaw(I,x,!1,!1),x=e.NewOCRBasicResult(),x._errorCode=this._errorCode,x._errorString=this._errorString,I&&e.isArray(I)&&(x._resultlist=I,x._Count=I.length,e.License.isLTS())&&J.DWT.lcvrf(h),x},h.__IsOCRBasicModuleInstalled=function(){return h._innerFun("GetAddOnVersion",_.makeParams("ocr",a)).split("|")[0]!=""},h.__innerBasicDownload=function(I,x,A,P,R){function E(){return L.IfShowProgressBar&&e.closeProgress(null,"Download"),e.isFunction(P)&&P(),!0}function O(){return L.IfShowProgressBar&&e.closeProgress(null,"Download"),e.isFunction(R)&&R(L.ErrorCode,L.ErrorString),!1}var L=h;if(e.cancelFrome=2,I=I.toString(),!e.License.checkProductKey(L,{Core:!0})||!e.License.checkProductKey(L,{OCR:!0},!0))return O();x!=J.DWT.EnumDWT_OCRDownloadType.OCRDT_Dll&&L._innerFun("SetOCRLanguage",_.makeParams(A));var k=L._innerFun("GetAddOnVersion",_.makeParams("ocr",a)).split("|");if(x==J.DWT.EnumDWT_OCRDownloadType.OCRDT_Dll){if(k[0]!="")return E(),!0}else if(A=J.DWT.OCRLanguageData[A],A&&k[1]==A)return E(),!0;if(!I||I=="")return e.Errors.OCR_InvalidRemoteFilename(L),O(),!1;if(_.isServerInvalid(L))return O(),!1;L.IfShowProgressBar&&e.showProgress(L,"Download",!0);var N=!0;x==J.DWT.EnumDWT_OCRDownloadType.OCRDT_Dll?L._OnPercentDone([0,-1,"Downloading OCR Module...","http"]):L._OnPercentDone([0,-1,"Downloading OCR Language Data...","http"]),e.isFunction(P)||(N=!1),_.loadHttpBlob(L,"get",I,N,function(W){L._OnPercentDone([0,-1,"Loading..."]);var G=100;x==J.DWT.EnumDWT_OCRDownloadType.OCRDT_LANGUAGE&&(G=101),L.__LoadImageFromBytes(W,G,"",N,E,O)},function(){L.IfShowProgressBar&&e.closeProgress(null,"Download"),O()},function(W){var G=W.total===0?100:Math.round(100*W.loaded/W.total);[W.loaded," / ",W.total].join(""),L._OnPercentDone([0,G,"","http"])})},f={OCR:{SetUnicodeFontName:function(I){var x=s;return x._resetErr(),x._isMobileMode()?x._mobileNotSupport("Addon.OCR.SetUnicodeFontName"):T.SetUnicodeFontName(I)},GetUnicodeFontName:function(){var I=s;return I._resetErr(),I._isMobileMode()?I._mobileNotSupport("Addon.OCR.GetUnicodeFontName"):T.GetUnicodeFontName()},SetIfUseDetectedFont:function(I){var x=s;return x._resetErr(),x._isMobileMode()?x._mobileNotSupport("Addon.OCR.SetIfUseDetectedFont"):T.SetUseDetectedFont(I)},GetIfUseDetectedFont:function(){var I=s;return I._resetErr(),I._isMobileMode()?I._mobileNotSupport("Addon.OCR.GetIfUseDetectedFont"):T.GetUseDetectedFont()},SetMinFontSizeforMoreAccurateResult:function(I){var x=s;return x._resetErr(),x._isMobileMode()?x._mobileNotSupport("Addon.OCR.SetMinFontSizeforMoreAccurateResult"):T.SetMinFontSizeforMoreAccurateResult(I)},GetMinFontSizeforMoreAccurateResult:function(){var I=s;return I._resetErr(),I._isMobileMode()?I._mobileNotSupport("Addon.OCR.GetMinFontSizeforMoreAccurateResult"):T.GetMinFontSizeforMoreAccurateResult()},SetLanguage:function(I){var x=s;return x._resetErr(),x._isMobileMode()?x._mobileNotSupport("Addon.OCR.SetLanguage"):T.SetOCRLanguage(I)},IsModuleInstalled:function(){var I=s;return I._resetErr(),I._isMobileMode()?I._mobileNotSupport("Addon.OCR.IsModuleInstalled"):I.__IsOCRBasicModuleInstalled()},SetPageSetMode:function(I){var x=s;return x._resetErr(),x._isMobileMode()?x._mobileNotSupport("Addon.OCR.SetPageSetMode"):(I=+I)==J.DWT.EnumDWT_OCRPageSetMode.OCRPSM_OSD_ONLY||I==J.DWT.EnumDWT_OCRPageSetMode.PSM_AUTO_OSD||I==J.DWT.EnumDWT_OCRPageSetMode.PSM_AUTO_ONLY||I==J.DWT.EnumDWT_OCRPageSetMode.PSM_AUTO||I==J.DWT.EnumDWT_OCRPageSetMode.PSM_SINGLE_COLUMN||I==J.DWT.EnumDWT_OCRPageSetMode.PSM_SINGLE_BLOCK_VERT_TEXT||I==J.DWT.EnumDWT_OCRPageSetMode.PSM_SINGLE_BLOCK||I==J.DWT.EnumDWT_OCRPageSetMode.PSM_SINGLE_LINE||I==J.DWT.EnumDWT_OCRPageSetMode.PSM_SINGLE_WORD||I==J.DWT.EnumDWT_OCRPageSetMode.PSM_CIRCLE_WORD||I==J.DWT.EnumDWT_OCRPageSetMode.PSM_SINGLE_CHAR?T.SetPageSetMode(I):(J.Lib.Errors.OCR_InvalidPageSetMode(x),!1)},SetOutputFormat:function(I){var x=s;return x._resetErr(),x._isMobileMode()?x._mobileNotSupport("Addon.OCR.SetOutputFormat"):(I=+I)==J.DWT.EnumDWT_OCROutputFormat.OCROF_TEXT||I==J.DWT.EnumDWT_OCROutputFormat.OCROF_PDFPLAINTEXT||I==J.DWT.EnumDWT_OCROutputFormat.OCROF_PDFIMAGEOVERTEXT||I==J.DWT.EnumDWT_OCROutputFormat.OCROF_PDFPLAINTEXT_PDFX||I==J.DWT.EnumDWT_OCROutputFormat.OCROF_PDFIMAGEOVERTEXT_PDFX?T.SetOutputFormat(I):(J.Lib.Errors.OCR_InvalidOutputFormat(x),!1)},Recognize:function(I,x,A){var P=s;return P._resetErr(),P._isMobileMode()?P._mobileNotSupport("Addon.OCR.Recognize"):e.License.checkProductKey(P,{OCR:!0},!0)?(I=P._ImgManager.convertClientIndexToServerId(I),P.__innerOCRBasicReadFunction("OCRRecognize",I,"",0,0,0,0,0,y.makeParams(0,I,"",0,0,0,0,T.GetUnicodeFontName(),T.GetUseDetectedFont(),T.GetMinFontSizeforMoreAccurateResult(),T.GetOCRLanguage(),T.GetPageSetMode(),T.GetOutputFormat(),""),x,A)):(e.isFunction(A)&&A(P._errorCode,P._errorString),!1)},RecognizeRect:function(I,x,A,P,R,E,O){var L,k=s;return k._resetErr(),k._isMobileMode()?k._mobileNotSupport("Addon.OCR.RecognizeRect"):!x&&x!=0||!A&&A!=0||!P&&P!=0||!R&&R!=0?(L=J.Lib.NewOCRBasicResult(k),J.Lib.Errors.OCR_InvalidLeftOrTopOrRightOrBottom(L,"RecognizeRect"),void O(L.GetErrorCode(),L.GetErrorString())):e.License.checkProductKey(k,{OCR:!0},!0)?(L=k._ImgManager.convertClientIndexToServerId(I),k.__innerOCRBasicReadFunction("OCRRecognize",L,"",1,x,A,P,R,y.makeParams(0,L,"",x,A,P,R,T.GetUnicodeFontName(),T.GetUseDetectedFont(),T.GetMinFontSizeforMoreAccurateResult(),T.GetOCRLanguage(),T.GetPageSetMode(),T.GetOutputFormat(),""),E,O)):(e.isFunction(O)&&O(k._errorCode,k._errorString),!1)},RecognizeFile:function(I,x,A){var P=s;return P._resetErr(),P._isMobileMode()?P._mobileNotSupport("Addon.OCR.RecognizeFile"):(I=y.replaceLocalFilename(I),e.License.checkProductKey(P,{OCR:!0},!0)?P.__innerOCRBasicReadFunction("OCRRecognize",-1,I,0,0,0,0,0,y.makeParams(1,-1,I,0,0,0,0,T.GetUnicodeFontName(),T.GetUseDetectedFont(),T.GetMinFontSizeforMoreAccurateResult(),T.GetOCRLanguage(),T.GetPageSetMode(),T.GetOutputFormat(),""),x,A):(e.isFunction(A)&&A(P._errorCode,P._errorString),!1))},RecognizeSelectedImages:function(I,x){var A,P,R,E=s;return E._resetErr(),E._isMobileMode()?E._mobileNotSupport("Addon.OCR.RecognizeSelectedImages"):e.License.checkProductKey(E,{OCR:!0},!0)?(R=[],(A=E)._ImgManager.count()<=0||(P=A._ImgManager.getCurrentImageIndex(),A._ImgManager.convertClientIndexToServerId(P),P=A._ImgManager.getSelectedClientIndexArray(),e.isArray(P)&&e.each(P,function(O){O=A._ImgManager.convertClientIndexToServerId(O),R.push(O)})),P=R,E.__innerOCRBasicReadFunction("OCRRecognize",-1,"",0,0,0,0,0,y.makeParams(2,-1,"",0,0,0,0,T.GetUnicodeFontName(),T.GetUseDetectedFont(),T.GetMinFontSizeforMoreAccurateResult(),T.GetOCRLanguage(),T.GetPageSetMode(),T.GetOutputFormat(),P.join(",")),I,x)):(e.isFunction(x)&&x(E._errorCode,E._errorString),!1)}}},s.__addon=s.__addon||{},e.mix(s.__addon,f)})});var J=self.Dynamsoft||{};J.DWT=J.DWT||{};J.aryAddonReadyFun=J.aryAddonReadyFun||[];J.AddonReady=J.AddonReady||function(e){J.aryAddonReadyFun.push(e)};J.ProOCRVerInName="1.2.0.0806";(function(e){function n(){var a=this;a._text="",a._left=0,a._top=0,a._right=0,a._bottom=0}n.prototype.GetText=function(){var a=this;return a._text},n.prototype.GetLetterRect=function(){var a=this;return a._left+","+a._top+","+a._right+","+a._bottom},e.NewLetterResult=function(){return new n}})(J.Lib);(function(e){function n(){var a=this;a._count=0,a._letterlist=[],a._zoneCount=0,a._zoneWords=[]}n.prototype.GetLettersCount=function(){var a=this;return a._count},n.prototype.GetZoneCount=function(){var a=this;return a._zoneCount},n.prototype.GetLetterContent=function(a){var s=this,f=s._count;if(s._errorCode<0)return"";if(a==null||a>=f||a<0)return J.Lib.Errors.OCR_InvalidIndex(s,"GetLetterContent"),"";var h=J.Lib.NewLetterResult();return h._text=s._letterlist[a].letter,h._left=s._letterlist[a].boundary[0],h._top=s._letterlist[a].boundary[1],h._right=s._letterlist[a].boundary[2],h._bottom=s._letterlist[a].boundary[3],h},n.prototype.GetZoneContent=function(a){var s=this,f=s._zoneCount;return s._errorCode<0?"":a==null||a>=f||a<0?(J.Lib.Errors.OCR_InvalidIndex(s,"GetZoneContent"),""):s._zoneWords[a]},e.NewPageResult=function(){return new n}})(J.Lib);(function(e){function n(){var a=this;a._input=0,a._message="",a._page=-1}n.prototype.GetInput=function(){var a=this;return a._input},n.prototype.GetMessage=function(){var a=this;return a._message},n.prototype.GetPage=function(){var a=this;return a._page},e.NewErrorInfo=function(){return new n}})(J.Lib);(function(e){function n(a){var s=this;s._errorCode=0,s._errorString="",s._errorlist=[],s._request="",s._ocrTotalCount=0,s._alreadyOCRCount=0,s._resultlist=[],s._resultZoneDetail=[],s._stwain=a}n.prototype.GetErrorCode=function(){var a=this;return a._errorCode},n.prototype.GetErrorString=function(){var a=this;return a._errorString},n.prototype.GetInput=function(){var a=this;if(a._request&&a._request.input){var s=a._request.input;if(s){var f=Number(s);if(!isNaN(f))return a._stwain._ImgManager.convertServerIdToClientIndex(f)}return s}else return""},n.prototype.GetErrorDetailList=function(){var a=this,s=0;a._errorlist&&(s=a._errorlist.length);for(var f=[],h=0;h<s;h++){var _=J.Lib.NewErrorInfo();_._input=a._errorlist[h].input,_._message=a._errorlist[h].message,_._page=a._errorlist[h].page,f.push(_)}return f},n.prototype.GetOCRTotalCount=function(){var a=this;return a._ocrTotalCount?a._ocrTotalCount:0},n.prototype.GetAlreadyOCRCount=function(){var a=this;return a._alreadyOCRCount?a._alreadyOCRCount:0},n.prototype.GetPageCount=function(){var a=this;return a._resultlist&&a._resultlist.length?a._resultlist.length:0},n.prototype.GetPageContent=function(a){var s=this,f=0;if(s._resultlist&&(f=s._resultlist.length),a==null||a>=f||a<0)return J.Lib.Errors.OCR_InvalidIndex(s,"GetPageContent"),"";var h=J.Lib.NewPageResult();return s._resultlist?(h._count=s._resultlist[a].length,h._letterlist=s._resultlist[a]):h._count=0,s._resultZoneDetail?(h._zoneCount=s._resultZoneDetail[a].length,h._zoneWords=s._resultZoneDetail[a]):h._zoneCount=0,h},n.prototype.Get=function(){var a=this;return a._stwain._innerFun("GetOCRRestult")},n.prototype.Save=function(a){var s=this,f=e.html5.Funs.replaceLocalFilename(a);return s._stwain._innerFun("SaveOCRRestult",e.html5.Funs.makeParams(f))},e.NewOCRProResult=function(a){return new n(a)}})(J.Lib);(function(e){for(var n=[J.DWT],a=0;a<1;a++){var s=n[a];s.EnumDWT_OCRProRecognitionModule={OCRPM_AUTO:"AUTO",OCRPM_MOSTACCURATE:"MOSTACCURATE",OCRPM_BALANCED:"BALANCED",OCRPM_FASTEST:"FASTEST"},s.EnumDWT_OCRProOutputFormat={OCRPFT_TXTS:"TXTS",OCRPFT_TXTCSV:"TXTCSV",OCRPFT_TXTF:"TXTF",OCRPFT_XML:"XML",OCRPFT_IOTPDF:"IOTPDF",OCRPFT_IOTPDF_MRC:"IOTPDF_MRC"},s.EnumDWT_OCRProPDFVersion={OCRPPDFV_0:"1.0",OCRPPDFV_1:"1.1",OCRPPDFV_2:"1.2",OCRPPDFV_3:"1.3",OCRPPDFV_4:"1.4",OCRPPDFV_5:"1.5",OCRPPDFV_6:"1.6",OCRPPDFV_7:"1.7"},s.EnumDWT_OCRProPDFAVersion={OCRPPDFAV_1A:"pdf/a-1a",OCRPPDFAV_1B:"pdf/a-1b",OCRPPDFAV_2A:"pdf/a-2a",OCRPPDFAV_2B:"pdf/a-2b",OCRPPDFAV_2U:"pdf/a-2u",OCRPPDFAV_3A:"pdf/a-3a",OCRPPDFAV_3B:"pdf/a-3b",OCRPPDFAV_3U:"pdf/a-3u"},s.EnumDWT_OCRProType={OCRDT_File:0,OCRDT_Index:1},s.EnumDWT_OCRFindTextFlags={OCRFT_WHOLEWORD:1,OCRFT_MATCHCASE:2,OCRFT_FUZZYMATCH:4},s.EnumDWT_OCRFindTextAction={OCRFT_HIGHLIGHT:0,OCRFT_STRIKEOUT:1,OCRFT_MARKFORREDACT:2}}})();(function(e){function n(){var a=this;a.FindText="",a.FindTextFlags=J.DWT.EnumDWT_OCRFindTextFlags.OCRFT_WHOLEWORD,a.FindTextAction=J.DWT.EnumDWT_OCRFindTextAction.OCRFT_MARKFORREDACT}e.NewRedaction=function(){return new n}})(J.Lib);J.WebTwain={Addon:{OCRPro:{}}};(function(e){function n(){var a=this;a.RecognitionModule="",a.Languages="eng",a.OutputFormat="",a.PDFVersion="",a.PDFAVersion="",a.LicenseChecker="",a.Redaction=J.Lib.NewRedaction()}e.NewSettings=function(){return new n}})(J.WebTwain.Addon.OCRPro);(function(){function e(n,a,s,f){var h=this;h.left=n,h.top=a,h.right=s,h.bottom=f}J.WebTwain.Addon.OCRPro.NewOCRZone=function(n,a,s,f){return new e(n,a,s,f)}})();J.AddonReady(function(e,n){if(!e.product.bHTML5Edition)return;function a($){var H=e.html5.Funs;$.__innerGetOCRProResultAsyncFunction=function(ie){var pe=J.Lib.NewOCRProResult(this);return ie&&(pe._errorCode=ie.code,pe._errorString=ie.message,pe._request=ie.request,pe._errorlist=ie.errorList,pe._ocrTotalCount=ie.ocrTotalCount,pe._alreadyOCRCount=ie.alreadyOCRCount,pe._resultlist=ie.resultDetail,pe._resultZoneDetail=ie.resultZoneDetail),pe},$.__innerIsOCRTrial=function(ie,pe){var se=this,ce=function(){var me=!1;if(se.__licenseInfo.Detail)for(var we=0;we<se.__licenseInfo.Detail.length;we++)se.__licenseInfo.Detail[we].EnumLicenseType=="10"&&se.__licenseInfo.Detail[we].Trial=="TRUE"&&(me=!0);return ie(me)};return se.__licenseInfo&&se.__licenseInfo.Detail?ce():se.GetLicenseInfo(ce,pe)},$.__innerOCRReadFunction=function(ie,pe,se,ce,me,we,ge,Ee){var _e=this;return _e.__innerOCRAsyncReadFunction(ie,pe,se,ce,me,we,ge,Ee)},$.__innerOCRAsyncReadFunction=function(ie,pe,se,ce,me,we,ge,Ee){var _e=this,Ue=function(Te){Te.code==0?(e.isFunction(ge)&&(pe!=-1?ce==1?ge(pe,me,_e.__innerGetOCRProResultAsyncFunction(Te)):ge(pe,_e.__innerGetOCRProResultAsyncFunction(Te)):se!=""?ge(se,_e.__innerGetOCRProResultAsyncFunction(Te)):ge(_e.__innerGetOCRProResultAsyncFunction(Te))),e.License.isLTS()&&J.DWT.lcvrf($)):e.isFunction(Ee)&&Ee(Te.code,Te.message,_e.__innerGetOCRProResultAsyncFunction(Te)),H.hideMask(ie)},xe=function(Te){H.hideMask(ie)};return H.showMask(ie),_e._innerSend(ie,we,!0,Ue,xe),!0},$.__innerGetRequestJson=function(ie,pe,se,ce,me){var we,ge="[{";for(ge+='"id":"'+$.clientId+'",',ge+='"method":"OCRProRecognize",',ge+='"dllName":"'+me+'",',ge+='"productkey":"'+J.DWT.ProductKey+'",',ie==J.DWT.EnumDWT_OCRProType.OCRDT_File?ge+='"inputType":"file",':ge+='"inputType":"index",',ge+='"input":[',we=0;we<pe.length;we++)ie==J.DWT.EnumDWT_OCRProType.OCRDT_File?ge+='"'+pe[we]+'"':ge+=pe[we],we+1<pe.length&&(ge+="|");if(ge+="],",ge+='"settings":{',ge+='"recognitionMethod": "Page"',se&&(se.RecognitionModule&&se.RecognitionModule.length>0&&(ge+=',"recognitionModule":"'+se.RecognitionModule+'"'),se.Languages&&se.Languages.length>0&&(ge+=',"languages":"'+se.Languages+'"'),se.OutputFormat&&se.OutputFormat.length>0&&(ge+=',"outputFormat":"'+se.OutputFormat+'"'),se.PDFVersion&&se.PDFVersion.length>0&&(ge+=',"pdfVersion":"'+se.PDFVersion+'"'),se.PDFAVersion&&se.PDFAVersion.length>0&&(ge+=',"pdfAVersion":"'+se.PDFAVersion+'"'),se.Redaction&&se.Redaction.FindText&&se.Redaction.FindText.length>0)){var Ee=parseInt(se.Redaction.FindTextFlags),_e=parseInt(se.Redaction.FindTextAction);if(!isNaN(Ee)&&!isNaN(_e)){ge+=',"redaction":{';var Ue=se.Redaction.FindText;Ue=Ue.replace(/"/g,'\\"'),ge+='"findText":"'+Ue+'"',ge+=',"findTextFlags":'+Ee,ge+=',"findTextAction":'+_e,ge+="}"}}for(ge+="},",ge+='"zones":[',we=0;we<ce.length;we++)ge+="["+ce[we].left+","+ce[we].top+","+ce[we].right+","+ce[we].bottom+"]",we+1<ce.length&&(ge+=",");return ge+="],",ge+='"outputFile":""',ge+="}]",ge},$.__LoadImageFromBytesForDownloadInner=function(ie,pe,se,ce,me,we,ge,Ee,_e){var Ue=$,xe,Te,Be;ie>=ce?(xe=we*ce,Be=pe.slice(xe,me)):(xe=ie*we,Te=(ie+1)*we,Be=pe.slice(xe,Te));var ot=function(){J.Lib.isFunction(_e)&&_e()},tt=function(){if(ie>=ce){J.Lib.isFunction(Ee)&&Ee();return}ie=ie+1,Ue.__LoadImageFromBytesForDownloadInner(ie,pe,se,ce,me,we,ge,Ee,_e)};Ue.__LoadImageFromBytes(Be,se,"",ge,tt,ot,xe,me)},$.__LoadImageFromBytesForDownload=function(ie,pe,se,ce,me,we){var ge=$,Ee=2*1e3*1e3,_e=ie.size||ie.length,Ue=parseInt(_e/Ee),xe=_e%Ee;xe==0&&(Ue=Ue-1),ge.__LoadImageFromBytesForDownloadInner(0,ie,pe,Ue,_e,Ee,ce,me,we)}}var s=function($){var H=[],ie,pe;return $._ImgManager.count()<=0||(ie=$._ImgManager.getCurrentImageIndex(),$._ImgManager.convertClientIndexToServerId(ie),pe=$._ImgManager.getSelectedClientIndexArray(),e.isArray(pe)&&e.each(pe,function(se){var ce=$._ImgManager.convertClientIndexToServerId(se);H.push(ce)})),H},f=function($,H,ie,pe){var se=e.NewOCRProResult($);se._errorCode=H,se._errorString=ie;var ce=e.NewErrorInfo();return ce.input=pe,ce.message=se._errorString,ce.page=0,se._errorlist=[ce],se},h=function($){var H=e.html5.Funs,ie,pe;e.env.bMac?pe="DynamicOCRPro_"+J.ProOCRVerInName+".dylib":e.env.bLinux?pe="DynamicOCRPro_"+J.ProOCRVerInName+".so":J.dcp.b64bit?pe="DynamicOCRProx64_"+J.ProOCRVerInName+".dll":pe="DynamicOCRPro_"+J.ProOCRVerInName+".dll",a($),ie={OCRPro:{Settings:!1,Recognize:function(se,ce,me){var we=[],ge,Ee,_e=$;if(_e._resetErr(),_e._isMobileMode())return _e._mobileNotSupport("Addon.OCRPro.Recognize");if(ge=parseInt(se),e.isNaN(ge)||!e.isNumber(ge))return Ee=f($,-2201,"Invalid parameter type.",se),e.isFunction(me)?me(Ee._errorCode,Ee._errorString,Ee):e.Errors.WebviewerError($,Ee._errorString,Ee._errorCode),!1;var Ue=$._ImgManager.convertClientIndexToServerId(ge);if(Ue==-1)return e.isFunction(me)&&(e.Errors.IndexOutOfRange($),Ee=f($,$._errorCode,$._errorString,se),me(Ee._errorCode,Ee._errorString,Ee)),!1;if(!e.License.checkProductKey($,{OCRPro:!0},!0))return e.isFunction(me)&&(Ee=f($,$._errorCode,$._errorString,se),me(Ee._errorCode,Ee._errorString,Ee)),!1;we.push(Ue);var xe=[],Te=this.Settings,Be=$.__innerGetRequestJson(J.DWT.EnumDWT_OCRProType.OCRDT_Index,we,Te,xe,pe);return $.__innerIsOCRTrial(function(ot){return ot||e.License.isLTS()?$.__innerOCRReadFunction("OCRProRecognize",se,"",0,xe,Be,ce,me):T(Te.LicenseChecker,$,"OCRProRecognize",se,"",0,xe,Be,ce,me)},me)},RecognizeRect:function(se,ce,me,we){var ge=[],Ee,_e,Ue=$;if(Ue._resetErr(),Ue._isMobileMode())return Ue._mobileNotSupport("Addon.OCRPro.RecognizeRect");if(Ee=parseInt(se),e.isNaN(Ee)||!e.isNumber(Ee))return _e=f($,-2201,"Invalid parameter type.",se),e.isFunction(we)?we(_e._errorCode,_e._errorString,_e):e.Errors.WebviewerError($,_e._errorString,_e._errorCode),!1;var xe=$._ImgManager.convertClientIndexToServerId(Ee),Te=$._ImgManager.GetImageWidth(Ee),Be=$.GetImageHeight(Ee);if(xe==-1)return e.isFunction(we)&&(e.Errors.IndexOutOfRange($),_e=f($,$._errorCode,$._errorString,se),we(_e._errorCode,_e._errorString,_e)),!1;if(!e.License.checkProductKey($,{OCRPro:!0},!0))return e.isFunction(we)&&(_e=f($,$._errorCode,$._errorString,se),we(_e._errorCode,_e._errorString,_e)),!1;if(Te>0&&Be>0)for(var ot,tt,vt,bt,Se,ye,Ie=0;Ie<ce.length;Ie++)ot=ce[Ie],tt=ot.left,vt=ot.top,bt=ot.right,Se=ot.bottom,tt<0&&(tt=0),vt<0&&(vt=0),bt<0&&(bt=0),Se<0&&(Se=0),tt>bt&&(ye=tt,tt=bt,bt=ye),vt>Se&&(ye=vt,vt=Se,Se=ye),bt>Te&&(bt=Te),Se>Be&&(Se=Be),ot.left=tt,ot.top=vt,ot.right=bt,ot.bottom=Se;ge.push(xe);var qe=this.Settings,ut=$.__innerGetRequestJson(J.DWT.EnumDWT_OCRProType.OCRDT_Index,ge,qe,ce,pe);return $.__innerIsOCRTrial(function(lt){return lt||e.License.isLTS()?$.__innerOCRReadFunction("OCRProRecognize",se,"",1,ce,ut,me,we):T(qe.LicenseChecker,$,"OCRProRecognize",se,"",1,ce,ut,me,we)},we)},RecognizeFile:function(se,ce,me){var we=$;if(we._resetErr(),we._isMobileMode())return we._mobileNotSupport("Addon.OCRPro.RecognizeFile");var ge,Ee,_e;if(se.length==0)return e.isFunction(me)&&(ge=J.Lib.NewOCRProResult($),ge._errorCode=-2201,ge._errorString="File name cannot be empty.",_e=[],Ee=J.Lib.NewErrorInfo(),Ee.input=se,Ee.message=ge._errorString,Ee.page=0,_e.push(Ee),ge._errorlist=_e,me(ge._errorCode,ge._errorString,ge)),!1;if(!e.License.checkProductKey($,{OCRPro:!0},!0))return e.isFunction(me)&&(ge=J.Lib.NewOCRProResult($),ge._errorCode=$._errorCode,ge._errorString=$._errorString,_e=[],Ee=J.Lib.NewErrorInfo(),Ee.input=se,Ee.message=ge._errorString,Ee.page=0,_e.push(Ee),ge._errorlist=_e,me(ge._errorCode,ge._errorString,ge)),!1;var Ue=H.replaceLocalFilename(se),xe=[];Ue.indexOf("|")>0?xe=Ue.split("|"):Ue.indexOf(";")>0?xe=Ue.split(";"):Ue.indexOf(",")>0&&(xe=Ue.split(","));var Te=[];if(xe.length>0)for(var Be=0;Be<xe.length;Be++)Te.push(xe[Be]);else Te.push(Ue);var ot=[],tt=this.Settings,vt=$.__innerGetRequestJson(J.DWT.EnumDWT_OCRProType.OCRDT_File,Te,tt,ot,pe);$.__innerIsOCRTrial(function(bt){return bt||e.License.isLTS()?$.__innerOCRReadFunction("OCRProRecognize",-1,se,0,ot,vt,ce,me):T(tt.LicenseChecker,$,"OCRProRecognize",-1,se,0,ot,vt,ce,me)},me)},RecognizeSelectedImages:function(se,ce){var me,we,ge,Ee=$;if(Ee._resetErr(),Ee._isMobileMode())return Ee._mobileNotSupport("Addon.OCRPro.RecognizeSelectedImages");if(!e.License.checkProductKey($,{OCRPro:!0},!0)){if(e.isFunction(ce)){var _e=J.Lib.NewOCRProResult($);_e._errorCode=$._errorCode,_e._errorString=$._errorString,we=[],ge=J.Lib.NewErrorInfo(),ge.input="",ge.message=_e._errorString,ge.page=0,we.push(ge),_e._errorlist=we,ce(_e._errorCode,_e._errorString,_e)}return!1}var Ue=[],xe=this.Settings,Te=s($),Be=$.__innerGetRequestJson(J.DWT.EnumDWT_OCRProType.OCRDT_Index,Te,xe,Ue,pe);return $.__innerIsOCRTrial(function(ot){ot||e.License.isLTS()?me=$.__innerOCRReadFunction("OCRProRecognize",-1,"",0,Ue,Be,se,ce):me=T(xe.LicenseChecker,$,"OCRProRecognize",-1,"",0,Ue,Be,se,ce)},ce),me},IsModuleInstalled:function(){var se=$;if(se._resetErr(),se._isMobileMode())return se._mobileNotSupport("Addon.OCRPro.IsModuleInstalled");var ce=se._innerFun("GetAddOnVersion",H.makeParams("proocr",pe));return ce!=""}}},$.__addon=$.__addon||{},e.mix($.__addon,ie)};e.DynamicLoadAddonFuns&&e.DynamicLoadAddonFuns.push(h);function _($,H,ie,pe,se,ce,me,we,ge,Ee){var _e=this;_e.STWAIN=H,_e.AjaxFunctionUrl=$,_e.FunctionName=ie,_e.ImageIndex=pe,_e.FileNames=se,_e.Type=ce,_e.AryZone=me,_e.JsonString=we,_e.OnSuccess=ge,_e.OnFailure=Ee}J.WebTwain.Addon.OCRPro.NewOCRReadPara=function($,H,ie,pe,se,ce,me,we,ge,Ee){return new _($,H,ie,pe,se,ce,me,we,ge,Ee)};function y($,H){var ie="",pe=$.responseText;if(pe.length==0){var se=J.WebTwain.Addon.OCRPro.NewOCRError();J.Lib.Errors.OCR_LicenseCheckerError(se,H.AjaxFunctionUrl),pe=se.responseText}ie=le(pe);var ce=ie.split(";");if(ce.length==1)H.OnFailure(-1,pe,J.Lib.NewOCRProResult());else if(ce[0]=="true"){var me=function(we,ge,Ee){J.Lib.isUndefined(Ee)?J.Lib.isUndefined(ge)?(H.OnSuccess(we),I(H.AjaxFunctionUrl,we.GetPageCount())):(H.OnSuccess(we,ge),I(H.AjaxFunctionUrl,ge.GetPageCount())):(H.OnSuccess(we,ge,Ee),I(H.AjaxFunctionUrl,Ee.GetPageCount()))};H.STWAIN.__innerOCRReadFunction(H.FunctionName,H.ImageIndex,H.FileNames,H.Type,H.AryZone,H.JsonString,me,H.OnFailure)}else H.OnFailure(ce[1],ce[2],J.Lib.NewOCRProResult())}function T($,H,ie,pe,se,ce,me,we,ge,Ee){var _e=$,Ue="DTW_AjaxMethod=CheckLicense&Productkey="+G(J.DWT.ProductKey),xe=J.WebTwain.Addon.OCRPro.NewOCRReadPara($,H,ie,pe,se,ce,me,we,ge,Ee);return R(_e,Ue,y,xe)}function I($,H){var ie=$,pe="DTW_AjaxMethod=WriteOCRCount&OCRCount="+G(H+"");R(ie,pe,x,null)}function x($,H){}function A(){var $=this;$.responseText="",$.errorString=""}J.WebTwain.Addon.OCRPro.NewOCRError=function(){return new A},J.Lib.mix(J.Lib.Errors,{OCR_LicenseCheckerEmpty:function($){var H=-2601,ie="LicenseChecker cannot be empty.";$.errorString=ie,$.responseText=G("false;"+H+";"+ie+";")},OCR_LicenseCheckerNotConnect:function($){var H=-2602,ie="Cannot connect to the LicenseChecker, please check and make sure it's set correctly.";$.errorString=ie,$.responseText=G("false;"+H+";"+ie+";")},OCR_AccessDenied:function($){var H=-2603,ie="Access denied.";$.errorString=ie,$.responseText=G("false;"+H+";"+ie+";")},OCR_LicenseCheckerError:function($,H){var ie=-2604,pe="Error occured in '"+H+"'.";$.errorString=pe,$.responseText=G("false;"+ie+";"+pe+";")},OCR_HTTPError:function($,H){var ie=-2605,pe="HTTP Error "+H+".";$.errorString=pe,$.responseText=G("false;"+ie+";"+pe+";")},OCR_LicenseCheckerUnauthorized:function($,H){var ie=-2606,pe="You do not have permission to view this directory or page using the credentials you supplied (access denied due to Access Control Lists). Ask the Web server's administrator to give you access to '"+H+"'.";$.errorString=pe,$.responseText=G("false;"+ie+";"+pe+";")},__last:!1});function P(){var $=null,H=window;try{$=new H.ActiveXObject("Msxml2.XMLHTTP")}catch{try{$=new H.ActiveXObject("Microsoft.XMLHTTP")}catch{$=new XMLHttpRequest}}return $}function R($,H,ie,pe){var se=J.WebTwain.Addon.OCRPro.NewOCRError();if($=="")return J.Lib.Errors.OCR_LicenseCheckerEmpty(se),alert(se.errorString),ie(se,pe),!1;var ce=P();return ce.open("POST",$,!0),ce.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),ce.onreadystatechange=function(){if(ce.readyState==4)if(ce.status==200)ie!=null&&typeof ie=="function"&&ie(ce,pe);else return ce.status==401?(J.Lib.Errors.OCR_LicenseCheckerUnauthorized(se,pe.AjaxFunctionUrl),ie(se,pe),!1):ce.status==404?(J.Lib.Errors.OCR_LicenseCheckerNotConnect(se),alert(se.errorString),ie(se,pe),!1):ce.status==403?(J.Lib.Errors.OCR_AccessDenied(se),ie(se,pe),!1):(J.Lib.Errors.OCR_HTTPError(se,ce.status),ie(se,pe),!1)},ce&&H&&ce.send(H),!0}var E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",O=new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1);function L($){var H,ie,pe,se,ce,me;for(pe=$.length,ie=0,H="";ie<pe;){if(se=$.charCodeAt(ie++)&255,ie==pe){H+=E.charAt(se>>2),H+=E.charAt((se&3)<<4),H+="==";break}if(ce=$.charCodeAt(ie++),ie==pe){H+=E.charAt(se>>2),H+=E.charAt((se&3)<<4|(ce&240)>>4),H+=E.charAt((ce&15)<<2),H+="=";break}me=$.charCodeAt(ie++),H+=E.charAt(se>>2),H+=E.charAt((se&3)<<4|(ce&240)>>4),H+=E.charAt((ce&15)<<2|(me&192)>>6),H+=E.charAt(me&63)}return H}function k($){var H,ie,pe,se,ce,me,we;for(me=$.length,ce=0,we="";ce<me;){do H=O[$.charCodeAt(ce++)&255];while(ce<me&&H==-1);if(H==-1)break;do ie=O[$.charCodeAt(ce++)&255];while(ce<me&&ie==-1);if(ie==-1)break;we+=String.fromCharCode(H<<2|(ie&48)>>4);do{if(pe=$.charCodeAt(ce++)&255,pe==61)return we;pe=O[pe]}while(ce<me&&pe==-1);if(pe==-1)break;we+=String.fromCharCode((ie&15)<<4|(pe&60)>>2);do{if(se=$.charCodeAt(ce++)&255,se==61)return we;se=O[se]}while(ce<me&&se==-1);if(se==-1)break;we+=String.fromCharCode((pe&3)<<6|se)}return we}function N($){var H,ie,pe,se;for(H="",pe=$.length,ie=0;ie<pe;ie++)se=$.charCodeAt(ie),se>=1&&se<=127?H+=$.charAt(ie):se>2047?(H+=String.fromCharCode(224|se>>12&15),H+=String.fromCharCode(128|se>>6&63),H+=String.fromCharCode(128|se>>0&63)):(H+=String.fromCharCode(192|se>>6&31),H+=String.fromCharCode(128|se>>0&63));return H}function W($){var H,ie,pe,se,ce,me;for(H="",pe=$.length,ie=0;ie<pe;)switch(se=$.charCodeAt(ie++),se>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:H+=$.charAt(ie-1);break;case 12:case 13:ce=$.charCodeAt(ie++),H+=String.fromCharCode((se&31)<<6|ce&63);break;case 14:ce=$.charCodeAt(ie++),me=$.charCodeAt(ie++),H+=String.fromCharCode((se&15)<<12|(ce&63)<<6|(me&63)<<0);break}return H}function G($){return L(N($))}function le($){return W(k($))}});/*! 20251201182703
* Dynamsoft JavaScript Library
* Product: Dynamic Web TWAIN
* Web Site: https://www.dynamsoft.com
*
* Copyright 2025, Dynamsoft Corporation
* Author: Dynamsoft Support Team
*
* Module: OCR
* Version: 19.3
* 
*/var J=self.Dynamsoft||{};J.DWT=J.DWT||{},J.aryAddonReadyFun=J.aryAddonReadyFun||[],J.AddonReady=J.AddonReady||function(e){J.aryAddonReadyFun.push(e)},J.DWT.OCRKitVerInName="11.0.0.1028",function(){for(var e=[J.DWT],n=0;n<1;n++){var a=e[n];a.EnumDWT_OCRKitOutputFormat={TEXT:0,PDF_PLAIN_TEXT:1,PDF_WITH_EXTRA_TEXTLAYER:2},a.EnumDWT_PageOrientation={AUTO:-1,ANGLE_0:0,ANGLE_90:90,ANGLE_180:180,ANGLE_270:270},a.EnumDWT_PageOrientationDetectionMode={FAST:0,BALANCE:1,PRECISION:2}}}(),J.AddonReady(function(e,n){function a(s,f){return"code"in f&&"message"in f&&f.code!=0&&f.message!=""&&(s._errorCode=f.code,s._errorString=f.message,{code:f.code,message:f.message})}e.product.bHTML5Edition&&e.DynamicLoadAddonFuns&&e.DynamicLoadAddonFuns.push(function(s){var f,h,_,y=e.html5.Funs;h=s,_=e.html5.Funs,h.__innerOCRReadFunction=function(A,I){var x=h,A=x._ImgManager.convertClientIndexToServerId(A),A=e.stringify({index:A,options:I});return x._innerFunV2("OCROnnx",["[",A,"]"].join("")).then(function(P){var R=a(x,P);return R?e.Promise.reject(R):P})},h.__innerGetOCRInfo=function(){var T=h;return T._innerFunV2("GetOCROnnxEnv",_.makeParams(J.DWT.OCRKitVerInName)).then(function(I){var x=a(T,I);return x?e.Promise.reject(x):I})},h.__innerDetectPageOrientation=function(A,I){var x=h,A=x._ImgManager.convertClientIndexToServerId(A),A=e.stringify({index:A,settings:I});return x._innerFunV2("DetectPageOrientation",["[",A,"]"].join("")).then(function(P){var R=a(x,P);return R?e.Promise.reject(R):{angle:P.angle||0,confidence:P.confidence||0}})},h.__innerSaveToPath=function(T,I,x){var A=h,P=[];return e.isArray(T)&&e.each(T,function(R){R=h._ImgManager.convertClientIndexToServerId(R),P.push(R)}),A._innerFunV2("SaveOCRResult",_.makeParams(0,P.join(","),I,x))},h.__innerSaveAsBlob=function(P,I){var x=h,A=[],P=(e.isArray(P)&&e.each(P,function(R){R=h._ImgManager.convertClientIndexToServerId(R),A.push(R)}),["[",1,',"',A.join(","),'",',I,"]"].join(""));return x._sendDataByHttpAsync("SaveOCRResult",P,"arraybuffer",!0).then(function(R){var E="application/pdf";return I==J.DWT.EnumDWT_OCRKitOutputFormat.TEXT&&(E="text/plain"),new Blob([R],{type:E})})},h.__innerSaveAsBase64=function(T,I){var x=h,A=[];return e.isArray(T)&&e.each(T,function(P){P=h._ImgManager.convertClientIndexToServerId(P),A.push(P)}),x._innerFunV2("SaveOCRResult",_.makeParams(2,A.join(","),I))},f={OCRKit:{GetInstalledOCRInfo:function(){var T=s,I="GetInstalledOCRInfo";return T._resetErr(),y.showMask(I),e.env.bWin&&J.dcp.b64bit?e.License.checkProductKey(T,{OCRKit:!0},!0)?T.__innerGetOCRInfo().finally(function(){y.hideMask(I)}):(y.hideMask(I),e.Promise.reject({code:T._errorCode,message:T._errorString})):(e.Errors.OCR_InvalidSupportedPlatforms(T),y.hideMask(I),e.Promise.reject({code:T._errorCode,message:T._errorString}))},DetectPageOrientation:function(T,I){var x=s,A="DetectPageOrientation";if(x._resetErr(),y.showMask(A),!e.env.bWin||!J.dcp.b64bit)return e.Errors.OCR_InvalidSupportedPlatforms(x),y.hideMask(A),e.Promise.reject({code:x._errorCode,message:x._errorString});if(!e.License.checkProductKey(x,{OCRKit:!0},!0))return y.hideMask(A),e.Promise.reject({code:x._errorCode,message:x._errorString});if(T=parseInt(T),isNaN(T))return e.Errors.InvalidIndex(x),y.hideMask(A),e.Promise.reject({code:x._errorCode,message:x._errorString});if(T<0||T>=x.HowManyImagesInBuffer)return e.Errors.IndexOutOfRange(x),y.hideMask(A),e.Promise.reject({code:x._errorCode,message:x._errorString});if(I==null)I={};else if(!e.isObject(I))return e.Errors.InvalidParameter(s),y.hideMask(A),e.Promise.reject({code:x._errorCode,message:x._errorString});return isNaN(I.detectionMode)&&(I.detectionMode=1),x.__innerDetectPageOrientation(T,I).finally(function(){y.hideMask(A)})},Recognize:function(T,I){var x=s,A="Recognize";if(x._resetErr(),y.showMask(A),!e.env.bWin||!J.dcp.b64bit)return e.Errors.OCR_InvalidSupportedPlatforms(x),y.hideMask(A),e.Promise.reject({code:x._errorCode,message:x._errorString});if(!e.License.checkProductKey(x,{OCRKit:!0},!0))return y.hideMask(A),e.Promise.reject({code:x._errorCode,message:x._errorString});if(T=parseInt(T),isNaN(T)||T<0||T>=x.HowManyImagesInBuffer)return e.Errors.IndexOutOfRange(x),y.hideMask(A),e.Promise.reject({code:x._errorCode,message:x._errorString});if(I==null)I={settings:{}};else if(I.settings==null)I.settings={};else if(!e.isObject(I.settings))return e.Errors.InvalidParameter(s),y.hideMask(A),e.Promise.reject({code:x._errorCode,message:x._errorString});if(isNaN(I.settings.pageOrientation)&&(I.settings.pageOrientation=1),isNaN(I.settings.binarizationThreshold)&&(I.settings.binarizationThreshold=.3),isNaN(I.settings.boxThreshold)&&(I.settings.boxThreshold=.1),I.rects==null)I.rects=[];else if(!e.isArray(I.rects))return e.Errors.IndicesNotArray(s),y.hideMask(A),e.Promise.reject({code:x._errorCode,message:x._errorString});return x.__innerOCRReadFunction(T,I).finally(function(){y.hideMask(A)})},SaveToPath:function(T,I,x){var A,P=s,R="SaveToPath";return P._resetErr(),y.showMask(R),e.env.bWin&&J.dcp.b64bit?e.License.checkProductKey(P,{OCRKit:!0},!0)&&P._checkIndices(T)?e.isString(x)&&x!=""&&x!="/"?(A=parseInt(I),!(isNaN(A)||A<J.DWT.EnumDWT_OCRKitOutputFormat.TEXT||A>J.DWT.EnumDWT_OCRKitOutputFormat.PDF_WITH_EXTRA_TEXTLAYER)&&(P.IfShowFileDialog||e.isString(x)&&x!=="")?(x=x,I==J.DWT.EnumDWT_OCRKitOutputFormat.TEXT&&(x=0<=(I=x.lastIndexOf("/"))?x.slice(I+1):x).slice(-4).toLowerCase()!==".txt"&&(x+=".txt"),I=e.html5.Funs.replaceLocalFilename(x),P.__innerSaveToPath(T,A,I).finally(function(){y.hideMask(R)})):(e.Errors.InvalidValue(P),y.hideMask(R),e.Promise.reject({code:P._errorCode,message:P._errorString}))):(e.Errors.OCRKit_InvalidFilename(P),y.hideMask(R),e.Promise.reject({code:P._errorCode,message:P._errorString})):(y.hideMask(R),e.Promise.reject({code:P._errorCode,message:P._errorString})):(e.Errors.OCR_InvalidSupportedPlatforms(P),y.hideMask(R),e.Promise.reject({code:P._errorCode,message:P._errorString}))},SaveAsBlob:function(T,I){var x=s,A="SaveAsBlob";return x._resetErr(),y.showMask(A),e.env.bWin&&J.dcp.b64bit?e.License.checkProductKey(x,{OCRKit:!0},!0)&&x._checkIndices(T)?(I=parseInt(I),isNaN(I)||I<J.DWT.EnumDWT_OCRKitOutputFormat.TEXT||I>J.DWT.EnumDWT_OCRKitOutputFormat.PDF_WITH_EXTRA_TEXTLAYER?(e.Errors.InvalidValue(x),y.hideMask(A),e.Promise.reject({code:x._errorCode,message:x._errorString})):x.__innerSaveAsBlob(T,I).finally(function(){y.hideMask(A)})):(y.hideMask(A),e.Promise.reject({code:x._errorCode,message:x._errorString})):(e.Errors.OCR_InvalidSupportedPlatforms(x),y.hideMask(A),e.Promise.reject({code:x._errorCode,message:x._errorString}))},SaveAsBase64:function(T,I){var x=s,A="SaveAsBase64";return x._resetErr(),y.showMask(A),e.env.bWin&&J.dcp.b64bit?e.License.checkProductKey(x,{OCRKit:!0},!0)&&x._checkIndices(T)?(I=parseInt(I),isNaN(I)||I<J.DWT.EnumDWT_OCRKitOutputFormat.TEXT||I>J.DWT.EnumDWT_OCRKitOutputFormat.PDF_WITH_EXTRA_TEXTLAYER?(e.Errors.InvalidValue(x),y.hideMask(A),e.Promise.reject({code:x._errorCode,message:x._errorString})):x.__innerSaveAsBase64(T,I).finally(function(){y.hideMask(A)})):(y.hideMask(A),e.Promise.reject({code:x._errorCode,message:x._errorString})):(e.Errors.OCR_InvalidSupportedPlatforms(x),y.hideMask(A),e.Promise.reject({code:x._errorCode,message:x._errorString}))}}},s.__addon=s.__addon||{},e.mix(s.__addon,f)})});/*! 20251201182703
* Dynamsoft JavaScript Library
* Product: Dynamic Web TWAIN
* Web Site: https://www.dynamsoft.com
*
* Copyright 2025, Dynamsoft Corporation
* Author: Dynamsoft Support Team
*
* Module: Webcam
* Version: 19.3
* 
*/var J=self.Dynamsoft||{};J.DWT=J.DWT||{},J.aryAddonReadyFun=J.aryAddonReadyFun||[],J.AddonReady=J.AddonReady||function(e){J.aryAddonReadyFun.push(e)},J.WebcamVerForActiveX="15.0.0.0625",J.WebcamVerInName="19.2.0.0826",function(){for(var e=[J.DWT],n=0;n<1;n++){var a=e[n];a.EnumDWT_VideoRotateMode={VRM_NONE:0,VRM_90_DEGREES_CLOCKWISE:1,VRM_180_DEGREES_CLOCKWISE:2,VRM_270_DEGREES_CLOCKWISE:3,VRM_FLIP_VERTICAL:4,VRM_FLIP_HORIZONTAL:5},a.EnumDWT_VideoProperty={VP_BRIGHTNESS:0,VP_CONTRAST:1,VP_HUE:2,VP_SATURATION:3,VP_SHARPNESS:4,VP_GAMMA:5,VP_COLORENABLE:6,VP_WHITEBALANCE:7,VP_BACKLIGHTCOMPENSATION:8,VP_GAIN:9},a.EnumDWT_CameraControlProperty={CCP_PAN:0,CCP_TILT:1,CCP_ROLL:2,CCP_ZOOM:3,CCP_EXPOSURE:4,CCP_IRIS:5,CCP_FOCUS:6}}}(),function(){J.Lib.WebcamErrors={InvalidParameter:function(e){e._errorCode=-10001,e._errorString="The parameter is invalid."},VideoNotPlayingWhenCapture:function(e){e._errorCode=-10002,e._errorString="To capture an image, the video must be playing."},VideoNotPlayingWhenGetURL:function(e){e._errorCode=-10003,e._errorString="To get the url for the current frame, the video must be playing."},Success:function(e){e._errorCode=0,e._errorString="Successful."}}}(),function(e){function n(a){var s=this;s._Count=0,s._resultlist=[],s._stwain=a}n.prototype.GetCount=function(){return e.WebcamErrors.Success(this._stwain),this._Count-1},n.prototype.Get=function(a){var s=this;return s._resultlist.length-1<=a||a<0?(J.Lib.Errors.Webcam_InvalidIndex(s._stwain,"Get"),""):(e.WebcamErrors.Success(s._stwain),s._resultlist[a])},n.prototype.GetCurrent=function(){var a=this,s=a._resultlist.length;return s==0?(J.Lib.Errors.Webcam_InvalidIndex(a._stwain,"GetCurrent"),""):(e.WebcamErrors.Success(a._stwain),a._resultlist[s-1])},e.NewWebcamValue=function(a){return new n(a)}}(J.Lib),function(e){function n(a){var s=this;s._Count=0,s._resultlist=[],s._stwain=a}n.prototype.GetValue=function(){var a=this;return a._resultlist.length==0?(J.Lib.Errors.Webcam_InvalidIndex(a._stwain,""),""):(e.WebcamErrors.Success(a._stwain),a._resultlist[0].current)},n.prototype.GetIfAuto=function(){var a=this;return a._resultlist.length==0?(J.Lib.Errors.Webcam_InvalidIndex(a._stwain,""),!1):(e.WebcamErrors.Success(a._stwain),a._resultlist[0].auto=="true")},e.NewWebcamSetting=function(a){return new n(a)}}(J.Lib),function(e){function n(a){var s=this;s._Count=0,s._resultlist=[],s._stwain=a}n.prototype.GetMinValue=function(){var a=this;return a._resultlist.length==0?(J.Lib.Errors.Webcam_InvalidIndex(a._stwain,""),""):a._resultlist[0].min},n.prototype.GetMaxValue=function(){var a=this;return a._resultlist.length==0?(J.Lib.Errors.Webcam_InvalidIndex(a._stwain,""),""):a._resultlist[0].max},n.prototype.GetSteppingDelta=function(){var a=this;return a._resultlist.length==0?(J.Lib.Errors.Webcam_InvalidIndex(a._stwain,""),0):a._resultlist[0].step},n.prototype.GetDefaultValue=function(){var a=this;return a._resultlist.length==0?(J.Lib.Errors.Webcam_InvalidIndex(a._stwain,""),0):a._resultlist[0].defaultValue},n.prototype.GetIfAuto=function(){var a=this;return a._resultlist.length==0?(J.Lib.Errors.Webcam_InvalidIndex(a._stwain,""),!1):a._resultlist[0].auto=="true"},e.NewWebcamMoreSetting=function(a){return new n(a)}}(J.Lib),J.AddonReady(function(e,n){e.DynamicLoadAddonFuns&&e.DynamicLoadAddonFuns.push(function(a){a._innerSetWebcamValue=function(s){var f=e.NewWebcamValue(a);return s&&e.isArray(s)&&(f._resultlist=s,f._Count=s.length),f},a._innerSetWebcamSetting=function(s){var f=e.NewWebcamSetting(a);return s&&e.isArray(s)&&(f._resultlist=s,f._Count=s.length),f},a._innerSetWebcamMoreSetting=function(s){var f=e.NewWebcamMoreSetting(a);return s&&e.isArray(s)&&(f._resultlist=s,f._Count=s.length),f}}),e.Addon_Events.push("OnFrameCaptured"),e.Addon_Events.push("OnCaptureSuccess"),e.Addon_Events.push("OnCaptureError"),e.Addon_Events.push("OnVideoStopped")}),J.AddonReady(function(e,n){e.product.bHTML5Edition&&e.DynamicLoadAddonFuns&&e.DynamicLoadAddonFuns.push(function(a){var s,f=e.html5.Funs,h=e.env.bMac?"DynamicWebcam_"+J.WebcamVerInName+".dylib":e.env.bLinux?"DynamicWebcam_"+J.WebcamVerInName+".so":a._b64bit?"DynamicWebcamx64_"+J.WebcamVerInName+".dll":"DynamicWebcam_"+J.WebcamVerInName+".dll";try{a._innerSend("GetAddOnVersion",f.makeParams("webcam",h),!0,!1,!1)}catch{}a.__frameCapturedId=-1,(s=a)._innerWebcamValueFunction=function(_,y){return _=this._innerFunRaw(_,y,!1,!1),this._innerSetWebcamValue(_)},s._innerWebcamSettingFunction=function(_,y){return _=this._innerFunRaw(_,y,!1,!1),this._innerSetWebcamSetting(_)},s._innerWebcamMoreSettingFunction=function(_,y){return _=this._innerFunRaw(_,y,!1,!1),this._innerSetWebcamMoreSetting(_)},s._OnCaptureSuccess=function(_){J.Lib.isFunction(this.__OnCaptureSuccess)&&this.__OnCaptureSuccess()},s._OnCaptureError=function(T){var y=T[1],T=T[2];J.Lib.isFunction(this.__OnCaptureError)&&this.__OnCaptureError(y,T)},s._OnFrameCaptured=function(_){var y=this,I=y.__videoQuality,T=!1,I=I||60;y.__videoDest&&J.Lib.isFunction(y.__videoDest.GetIfShowVideoContainer)&&y.__videoDest.GetIfShowVideoContainer()&&(J.navInfoSync.bIE||!_||_&&_.length<=1||_&&1<_.length&&y.__frameCapturedId!=_[1])&&(_&&1<_.length&&y.__frameCapturedId!=_[1]&&(T=y.__frameCapturedId!=_[1]),y.__frameCapturedId=_[1],y._videoSrc=y.GetImageURL(-1,-1,-1,0,I),J.Lib.isFunction(y.__videoDest.UpdateVideoContainer))&&y.__videoDest.UpdateVideoContainer(y._videoSrc),J.Lib.isFunction(y.__OnFrameCaptured)&&setTimeout(function(){J.Lib.isFunction(y.__OnFrameCaptured)&&y.__OnFrameCaptured(T,_)},200)},s._OnVideoStopped=function(T){var y=T[1],T=T[2];J.Lib.isFunction(this.__OnVideoStopped)&&this.__OnVideoStopped(y,T)},s={Webcam:{IsModuleInstalled:function(){var _=a;return _._resetErr(),_._innerFun("GetAddOnVersion",f.makeParams("webcam",h))!=""},GetSourceList:function(){var _,y=a;return y._resetErr(),e.License.checkProductKey(y,{Webcam:!0},!0)?(_=y._innerFunRaw("GetWebcamSourceList"),y.ErrorCode==0&&_&&1<_.length&&_.splice(_.length-1,1),_):[]},SelectSource:function(_){var y=a;return y._resetErr(),!!e.License.checkProductKey(y,{Webcam:!0},!0)&&(y.__videoDest&&this._isPlaying()&&y._videoSrc!=""&&J.Lib.isFunction(y.__videoDest.UpdateVideoContainer)&&y.__videoDest.UpdateVideoContainer(y._videoSrc),y._innerFun("SelectWebcam",f.makeParams(_)))},CloseSource:function(){var _=a;return _._resetErr(),this._clear(),_._innerFun("StopCapture")},GetFramePartURL:function(){var _=a;return _._resetErr(),this._isPlaying()?_.GetImageURL(-1,-1,-1,!0,_.__videoQuality):(e.WebcamErrors.VideoNotPlayingWhenGetURL(_),"")},GetFrameURL:function(){var _=a;return _._resetErr(),this._isPlaying()?_.GetImageURL(-1,-1,-1,0,_.__videoQuality):(e.WebcamErrors.VideoNotPlayingWhenGetURL(_),"")},PlayVideo:function(_,y,T,I,x){function A(){return J.Lib.isFunction(x)&&x(a._errorCode,a._errorString),!1}var P=a,R=60;return J.DWT.UseDefaultViewer?_?J.Lib.isFunction(_.ShowVideoContainer)&&J.Lib.isFunction(_.UpdateVideoContainer)&&J.Lib.isFunction(_.GetIfShowVideoContainer)?J.Lib.License.checkProductKey(a,{Webcam:!0},!0)?(P._resetErr(),P.__videoDest=_,a.__videoQuality=y?R=(R=+y)<1?60:R:R,J.Lib.isFunction(P.__videoDest.ShowVideoContainer)&&P.__videoDest.ShowVideoContainer(!0),J.Lib.isFunction(T)&&(a.__OnFrameCaptured=T),a._innerSend("PlayVideo",f.makeParams("play",R),!0,I,A),!0):A():(J.Lib.Errors.ParameterNotDWTObject(a),A()):(J.Lib.Errors.ParameterCannotEmpty(a),A()):(J.Lib.Errors.CannotDoWhenNoViewerJS(a),!1)},PauseVideo:function(_,y){return a._resetErr(),a._innerSend("PlayVideo",f.makeParams("pause"),!0,_,function(){return J.Lib.isFunction(y)&&y(a._errorCode,a._errorString),!1}),!0},_clear:function(){var _=a;_.__OnFrameCaptured=!1,_.__videoQuality=60,_.__videoDest&&J.Lib.isFunction(_.__videoDest.UpdateVideoContainer)&&J.Lib.isFunction(_.__videoDest.ShowVideoContainer)&&(_.__videoDest.UpdateVideoContainer("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAAAANSURBVBhXY/j///9/AAn7A/0FQ0XKAAAAAElFTkSuQmCC"),_._videoSrc="",_.__videoDest.ShowVideoContainer(!1))},_isPlaying:function(){var _=a;return!(!_.__videoDest||!J.Lib.isFunction(_.__videoDest.GetIfShowVideoContainer))&&_.__videoDest.GetIfShowVideoContainer()},StopVideo:function(){var _=a,y=(_._resetErr(),this._clear(),_._innerFun("PlayVideo",f.makeParams("stop"))),T=_._errorCode,I=_._errorString;return _._innerFun("StopCapture"),_._errorCode=T,_._errorString=I,y},CaptureImage:function(_,y){var T=a;if(T._resetErr(),!J.Lib.License.checkProductKey(T,{Webcam:!0},!0))return J.Lib.isFunction(y)&&y(T._errorCode,T._errorString),!1;function I(){f.hideMask(x),J.Lib.isFunction(y)&&y(T._errorCode,T._errorString)}var x="CaptureImage";f.showMask(x),T.__OnCaptureError=I,T._innerSend(x,f.makeParams(!1),!0,function(){f.hideMask(),T.ErrorCode==0?(f.hideMask(x),J.Lib.isFunction(_)&&setTimeout(_,0),J.Lib.License.isLTS()&&J.DWT.lcvrf(a)):I(T.ErrorCode,T.ErrorString)},I)},GetMediaType:function(){var _=a;return _._resetErr(),_._innerWebcamValueFunction("GetMediaType")},SetMediaType:function(_){var y=a;return y._resetErr(),e.isString(_)?y._innerFun("SetMediaType",f.makeParams(_)):(e.Errors.InvalidValue(y),!1)},GetResolution:function(){var _=a,_=(_._resetErr(),_._innerWebcamValueFunction("GetResolution"));if(_&&_._resultlist){var y,T,I=_._resultlist,x=[],A=[];for((T=0<I.length?I[I.length-1]:T)==""&&0<I.length&&(T=I[0]),y=0;y<I.length-1;y++){for(var P,R=(P=I[y]).toLowerCase().split("x"),E=(L=O=E=void 0,{value:P,p1:parseInt(R[0]),p2:parseInt(R[1])}),O=x,L=O.length-1;0<=L&&O[L].p1>=E.p1&&!(O[L].p1==E.p1&&O[L].p2<E.p2);)O[L+1]=O[L],L--;O[L+1]=E}for(y=0;y<x.length;y++)P=x[y].value,A.push(P);T&&A.push(T),_._resultlist=A,A=x=null}return _},SetResolution:function(_){var y=a;return y._resetErr(),e.isNumber(_)||e.isString(_)?y._innerFun("SetResolution",f.makeParams(_)):(e.Errors.InvalidValue(y),!1)},GetFrameRate:function(){var _=a;return _._resetErr(),_._innerWebcamValueFunction("GetFrameRate")},SetFrameRate:function(_){var y=a;return y._resetErr(),e.isNumber(_)?a._innerFun("SetFrameRate",f.makeParams(_)):(e.Errors.InvalidValue(y),!1)},GetVideoPropertySetting:function(_){var y=a;return y._resetErr(),y._innerWebcamSettingFunction("GetWebcamVideoPropertySetting",f.makeParams(_))},GetVideoPropertyMoreSetting:function(_){var y=a;return y._resetErr(),y._innerWebcamMoreSettingFunction("GetWebcamVideoPropertyMoreSetting",f.makeParams(_))},SetVideoPropertySetting:function(_,y,T){var I=a;return I._resetErr(),I._innerFun("SetWebcamVideoPropertySetting",f.makeParams(_,y,T))},SetVideoRotateMode:function(_){var y=a;return y._resetErr(),y._innerFun("SetVideoRotateMode",f.makeParams(_))},GetCameraControlPropertySetting:function(_){var y=a;return y._resetErr(),y._innerWebcamSettingFunction("GetWebcamCameraControlSetting",f.makeParams(_))},GetCameraControlPropertyMoreSetting:function(_){var y=a;return y._resetErr(),y._innerWebcamMoreSettingFunction("GetWebcamCameraControlMoreSetting",f.makeParams(_))},SetCameraControlPropertySetting:function(_,y,T){var I=a;return I._resetErr(),I._innerFun("SetWebcamCameraControlPropertySetting",f.makeParams(_,y,T))}}},a.__addon=a.__addon||{},e.mix(a.__addon,s)})}),J.AddonReady(function(e,n){var a;e.product.bActiveXEdition&&e.DynamicLoadAddonFuns&&e.DynamicLoadAddonFuns.push(function(s){var f,h,_;if(!s.getSWebTwain()||!s.getSWebTwain().Addon)return!1;J.navInfoSync.bWin&&(_=!J.navInfo.bOSx64||J.navInfo.bWOW64,a=_?"DynamicWebcam_"+J.WebcamVerForActiveX+".dll":"DynamicWebcamx64_"+J.WebcamVerForActiveX+".dll"),f=s.getSWebTwain();try{f.GetAddOnVersion("webcam",a)}catch{}(_=s)._innerRead=function(y){var T;try{T=J.Lib.parse(y)}catch{}return T.result},_._innerWebcamValueFunctionPlugin=function(y){return y=this._innerRead(y),this._innerSetWebcamValue(y)},_._innerWebcamSettingFunctionPlugin=function(y){return y=this._innerRead(y),this._innerSetWebcamSetting(y)},_._innerWebcamMoreSettingFunctionPlugin=function(y){return y=this._innerRead(y),this._innerSetWebcamMoreSetting(y)},h={Webcam:{IsModuleInstalled:function(){var y=f.GetAddOnVersion("webcam",a);return e.setErrorString(s),y!=""},GetSourceList:function(){var y,T;return e.License.checkProductKey(s,{Webcam:!0},!0)?(y=f.GetWebcamSourceList(),T=[],e.setErrorString(s),s._errorCode==0&&(T=s._innerRead(y))&&1<T.length&&T.splice(T.length-1,1),T):[]},SelectSource:function(y){return!!e.License.checkProductKey(s,{Webcam:!0},!0)&&(y=f.SelectWebcam(y),e.setErrorString(s),y)},CloseSource:function(){s._playVideoDWT=null;var y=f.StopCapture();return e.setErrorString(s),y},GetFramePartURL:function(){var y;return this._isPlaying()?(y=f.GetDIB(-1),e.setErrorString(s),y):(e.WebcamErrors.VideoNotPlayingWhenGetURL(s),"")},GetFrameURL:function(){return""},PlayVideo:function(y,T,I,x,A){function P(){return s._playVideoDWT=null,J.Lib.isFunction(A)&&A(s.ErrorCode,s.ErrorString),!1}var R;return y&&y.getSWebTwain()?e.License.checkProductKey(s,{Webcam:!0},!0)?(R=y.getSWebTwain().CurrentHWND)?(s._playVideoDWT=y,setTimeout(function(){var E=f.RunWebcamCmd("PlayVideo",R,null,null,I);e.wrapperRet(s,E,x,P)},0),!0):(e.WebcamErrors.InvalidParameter(s),P()):P():(J.Lib.WebcamErrors.InvalidParameter(s),P())},PauseVideo:function(){return!0},StopVideo:function(){s._playVideoDWT=null;var y=f.RunWebcamCmd("StopVideo",0,null,null,null);return e.setErrorString(s),f.StopCapture(),y},CaptureImage:function(y,T){function I(){return J.Lib.isFunction(T)&&T(s.ErrorCode,s.ErrorString),!1}var x;return e.License.checkProductKey(s,{Webcam:!0},!0)?(x=f.RunWebcamCmd("Capture",0,function(){J.Lib.isFunction(y)&&setTimeout(y,0),e.License.isLTS()&&J.DWT.lcvrf(s)},I,null),e.setErrorString(s),x):I()},GetMediaType:function(){var y=s._innerWebcamValueFunctionPlugin(f.GetMediaType());return e.setErrorString(s),y},SetMediaType:function(y){return e.isString(y)?(y=f.SetMediaType(y),e.setErrorString(s),y):(e.Errors.InvalidValue(s),!1)},GetResolution:function(){var y=s._innerWebcamValueFunctionPlugin(f.GetResolution());if(e.setErrorString(s),y&&y._resultlist){var T,I,x=y._resultlist,A=[],P=[];for(0<x.length&&(I=x[x.length-1]),T=0;T<x.length-1;T++){for(var R,E=(R=x[T]).toLowerCase().split("x"),O=(k=L=O=void 0,{value:R,p1:parseInt(E[0]),p2:parseInt(E[1])}),L=A,k=L.length-1;0<=k&&L[k].p1>=O.p1&&!(L[k].p1==O.p1&&L[k].p2<O.p2);)L[k+1]=L[k],k--;L[k+1]=O}for(T=0;T<A.length;T++)R=A[T].value,P.push(R);I&&P.push(I),y._resultlist=P,P=A=null}return y},SetResolution:function(y){return e.isNumber(y)||e.isString(y)?(y=f.SetResolution(y),e.setErrorString(s),y):(e.Errors.InvalidValue(s),!1)},GetFrameRate:function(){var y=s._innerWebcamValueFunctionPlugin(f.GetFrameRate());return e.setErrorString(s),y},SetFrameRate:function(y){return e.isNumber(y)?(y=f.SetFrameRate(y),e.setErrorString(s),y):(e.Errors.InvalidValue(s),!1)},GetVideoPropertySetting:function(y){return y=f.GetWebcamVideoPropertySetting(y),e.setErrorString(s),s._innerWebcamSettingFunctionPlugin(y)},GetVideoPropertyMoreSetting:function(y){return y=f.GetWebcamVideoPropertyMoreSetting(y),e.setErrorString(s),s._innerWebcamMoreSettingFunctionPlugin(y)},SetVideoPropertySetting:function(y,T,I){return y=f.SetWebcamVideoPropertySetting(y,T,I),e.setErrorString(s),y},SetVideoRotateMode:function(y){return y=f.SetVideoRotateMode(y),e.setErrorString(s),y},GetCameraControlPropertySetting:function(y){return y=f.GetWebcamCameraControlSetting(y),e.setErrorString(s),s._innerWebcamSettingFunctionPlugin(y)},GetCameraControlPropertyMoreSetting:function(y){return y=f.GetWebcamCameraControlMoreSetting(y),e.setErrorString(s),s._innerWebcamMoreSettingFunctionPlugin(y)},SetCameraControlPropertySetting:function(y,T,I){return y=f.SetWebcamCameraControlPropertySetting(y,T,I),e.setErrorString(s),y},_isPlaying:function(){return!!s._playVideoDWT}}},s.Addon=s.Addon||{},e.mix(s.Addon,h)})});/*! 20251201182703
* Dynamsoft JavaScript Library
* Product: Dynamic Web TWAIN
* Web Site: https://www.dynamsoft.com
*
* Copyright 2025, Dynamsoft Corporation
* Author: Dynamsoft Support Team
*
* Module: Upload
* Version: 19.3
* 
*/var J=window.Dynamsoft||{};(function(e){e.DWT||(e.DWT={}),e.Lib||(e.Lib={})})(J),J.aryAddonReadyFun=J.aryAddonReadyFun||[],J.AddonReady=J.AddonReady||function(e){J.aryAddonReadyFun.push(e)},J.AddonReady(function(e,n){J.DWT.EnumTransferErrorCode={TRANS_OK:0,TRANS_URL_MALFFORMAT:1,TRANS_FAILED_RESOLVE_PROXY:2,TRANS_FAILED_RESOLVE_HOST:3,TRANS_FAILED_CONNECT:4,TRANS_REMOTE_ACCESS_DENIED:5,TRANS_PARTIAL_FILE:6,TRANS_UPLOAD_FAILED:7,TRANS_READ_FAILED:8,TRANS_OUT_OF_MEMORY:9,TRANS_REMOTE_FULL_DISK:10,TRANS_OPERATION_TIMEOUT:11,TRANS_SERVICE_ERROR_404:12,TRANS_SERVICE_ERROR_500:13,TRANS_SERVICE_ERROR_503:14,TRANS_SERVICE_ERROR:15,TRANS_NOT_SEND:16,TRANS_WAITFOR_SEND:17,TRANS_SENDING:18,TRANS_PAUSE:19,TRANS_FINISHED:20,TRANS_NULL_POINTER:21,TRANS_INVALID_ID:22,TRANS_Failed:23,TRANS_SERVICE_ERROR_MORE_THAN_500:24,TRANS_SERVICE_ERROR_LESS_THAN_200:25,TRANS_SERVICE_ERROR_MORE_THAN_300:26,TRANS_CANNOT_FINDFILE:27,TRANS_ABORT:28,TRANS_NOT_FINISHED:29,TRANS_TASK_PREPARE_INIT:30,TRANS_TASK_INIT:31,TRANS_BEYOND_MAXSIZE:32};var a=J,s=e.guid(),f=5,h=(J.dcp,[1,9,0,"0318"]),_="upload_"+h.join(""),y={Version:"1.0",HttpVersion:"1.1",ServerUrl:"",FileName:"",VERIFYPEER:!1,VERIFYHOST:!1,BlockSize:10240,ThreadNum:1,OnUploadTransferPercentage:function(H,ie){},OnRunSuccess:function(H){},OnRunFailure:function(H,ie,pe){}},T=0,I="",x=function(){T=-2,I="Upload failed because the url to upload to is invalid."},A=function(H,ie,pe){T=-3,H?I="Upload cancelled.":(I=ie&&ie!=""?"Upload failed with error: "+ie:"Upload failed.",ie&&ie!=""&&(I=I+"("+pe+")"))},P=function(){T=-4,I="Upload failed because the file to upload has invalid content."},R=function(){T=-5,I="Invalid upload job id."},E=function(){T=-6,I="Cannot create an upload job."},O=function(){T=-7,I="The file name is incorrect in the upload job."},L=function(){T=-8,I="Can not cancel all jobs when at least one job is still being created."},k=function(){T=0,I=""};function N(){}function W(H){this.job=H}function G(H){this.job=H}N.prototype={runWaiting:0,CreateJob:function(){var H={HttpHeader:{},documents:[],formFields:[],bEvent:!1};return e.mix(H,y),H.SourceValue=new W(H),H.FormField=new G(H),H},Run:function(H){var ie,pe=this,se='""',ce=H.ServerUrl,me="";if(!e.isString(ce)||ce=="")return H.id=-1,x(),!H.bEvent&&e.isFunction(H.OnRunFailure)&&(H.bEvent=!0,H.OnRunFailure(H,T,I),H.bEvent=!1),!1;if(!H.documents||!e.isArray(H.documents)||H.documents.length<=0)return H.id=-1,P(),!H.bEvent&&e.isFunction(H.OnRunFailure)&&(H.bEvent=!0,H.OnRunFailure(H,T,I),H.bEvent=!1),!1;if(!H.ar||!H.cu){J.Lib.License.isLicenseMixed(null,!0)||J.Lib.License.reparseProductKey();var ge=J.DWT.licenseException;if(ge.code!=0)return H.id=-1,T=ge.code,I=ge.message,!H.bEvent&&e.isFunction(H.OnRunFailure)&&(H.bEvent=!0,H.OnRunFailure(H,T,I),H.bEvent=!1),!1;if(J.Lib.License.isLTS())return J.DWT.lglic(J.DWT.EnumInstance.dwt_desktop,"").then(function(xe){H.ar=xe.ar,H.cu=xe.cu,pe.Run(H)}),!0;e.product.refProductKey&&(se='"'+e.product.refProductKey+'"')}for(H.Url=ce,delete H.ServerUrl,ie=0;ie<H.documents;ie++){var we=H.documents[ie];if(!e.isString(we.files)||we.files=="")return H.id=-1,O(),!H.bEvent&&e.isFunction(H.OnRunFailure)&&(H.bEvent=!0,H.OnRunFailure(H,T,I),H.bEvent=!1),!1;e.isString(we.remoteName)&&we.remoteName!=""||(we.remoteName="RemoteFile")}var ge=H.SourceValue,Ee=(delete H.SourceValue,H.FormField),_e=(delete H.FormField,e.stringify(H)),_e=e.replaceAll(_e,'"',"'");return H.ServerUrl=ce,delete H.Url,H.SourceValue=ge,H.FormField=Ee,ce=['{"id":"',s,'","method":"RunUploadFile","version":"',_,'","parameter":[',se,',"',_e,'"'],H.ar&&H.cu?(me=[',"',H.ar,'","',H.cu,'",0]}'].join(""),delete H.ar,delete H.cu,ce.push(me)):ce.push("]}"),ge=ce.join(""),pe.runWaiting++,J.FileUploader._sendCmd("RunUploadFile",ge,function(Ue){var xe;pe.runWaiting--,Ue&&((xe=Ue.UploadId)&&0<xe?(H.id=xe,a.FileUploader.map[H.id]=H,a.FileUploader.ids.push(Ue.UploadId),H.OnUploadTransferPercentage&&H.OnUploadTransferPercentage(H,0)):(xe=Ue.errorcode,Ue=Ue.errorstring,xe&&Ue?(T=xe,I=Ue):E(),!H.bEvent&&e.isFunction(H.OnRunFailure)&&(H.bEvent=!0,H.OnRunFailure(H,T,I),H.bEvent=!1)))},function(Ue,xe,Te){pe.runWaiting--,a.FileUploader.parseHttpErrors(Ue,xe,Te),!H.bEvent&&e.isFunction(H.OnRunFailure)&&(H.bEvent=!0,H.OnRunFailure(H,T,I),H.bEvent=!1)}),!0},Cancel:function(H){var ie;return!H.id||H.id<0?(R(),!H.bEvent&&e.isFunction(H.OnRunFailure)&&(H.bEvent=!0,H.OnRunFailure(H,T,I),H.bEvent=!1),!1):(ie='{"id":"'+s+'","method":"DeleteUploadTask","version":"'+_+'","parameter":["'+H.id+'"]}',J.FileUploader._sendCmd("DeleteUploadTask",ie,function(pe){a.FileUploader.deleteJobById(H.id)},function(pe,se,ce){a.FileUploader.parseHttpErrors(pe,se,ce),!H.bEvent&&e.isFunction(H.OnRunFailure)&&(H.bEvent=!0,H.OnRunFailure(H,T,I),H.bEvent=!1)}),!0)},CancelAllUpload:function(){var H=a.FileUploader.ids,ie='{"id":"'+s+'","method":"DeleteUploadTask","version":"'+_+'","parameter":["'+H.join(",")+'"]}';return 0<this.runWaiting?(L(),!1):(this.runWaiting<0&&(this.runWaiting=0),H.length<=0||J.FileUploader._sendCmd("DeleteUploadTask",ie,function(pe){for(var se=0;se<H.length;se++)a.FileUploader.deleteJobById(H[se]);a.FileUploader.ids=[],a.FileUploader.map=[]},function(pe,se,ce){a.FileUploader.parseHttpErrors(pe,se,ce)}),!0)},OnUploadTransferPercentage:function(H,ie){},OnRunSuccess:function(H){},OnRunFailure:function(H,ie,pe){}},(a.SourceValue=W).prototype.Add=function(H,ie,pe){var se=this.job;e.isString(H)&&H!=""?(pe=pe||"RemoteFile",H=J.Lib.replaceAll(H,"\\\\","\\\\"),se.documents.push({files:[H],fileName:ie,remoteName:pe})):(O(),!se.bEvent&&e.isFunction(se.OnRunFailure)&&(se.bEvent=!0,se.OnRunFailure(se,T,I),se.bEvent=!1))},a.FormField=G,a.FileUploader={ids:[],map:{},port:J.dcp.Port,protocol:"https://",ip:"127.0.0.1",wsUrl:"",running:!(G.prototype.Add=function(H,ie){var pe,se,ce=ie,me=H;if(ce==null&&(ce=""),!e.isString(me)||me==""||!e.isString(ce)||(ce=encodeURI(ce),-1<(me=encodeURI(me)).indexOf("'")||-1<ce.indexOf("'")))return!1;for(pe=0;pe<this.job.formFields.length;pe++)if((se=this.job.formFields[pe]).name==me)return se.value=ce,!0;return this.job.formFields.push({name:me,value:ce}),!0}),ws:null,nextLoopTime:600,deleteJobById:function(H){var ie;if(k(),H){for(ie=0;ie<a.FileUploader.ids.length;ie++)if(H==a.FileUploader.ids[ie]){a.FileUploader.ids.splice(ie,1);break}var pe=a.FileUploader.map[H];for(pe.SourceValue.job=null,delete pe.SourceValue,pe.FormField.job=null,delete pe.FormField,delete a.FileUploader.map[H],ie=pe.documents.length-1;0<=ie;ie--)pe.documents.splice(ie,1);for(ie=pe.formFields.length-1;0<=ie;ie--)pe.formFields.splice(ie,1);var se='{"id":"'+s+'","method":"DeleteUploadTask","version":"'+_+'","parameter":["'+H+'"]}';J.FileUploader._sendCmd("DeleteUploadTask",se)}},_sendCmdByWS:function(H,ie,pe){var se=a.FileUploader.ws;return se&&se.readyState!=J.DWT.EnumDWT_WebsocketReadyState.CLOSING&&se.readyState!=J.DWT.EnumDWT_WebsocketReadyState.CLOSED||(se=J.DWT.NetManager.newWebsocket(a.FileUploader.wsUrl),a.FileUploader.ws=se),J.DWT.NetManager.postStringDataByWS(se,H).then(function(ce){ce=e.parse(ce),ce&&"result"in ce?e.isFunction(ie)&&ie(ce.result):e.isFunction(pe)&&pe()},pe),!0},_sendCmd:function(H,ie,pe,se){return J.DWT.ConnectWithSocket?a.FileUploader._sendCmdByWS(ie,pe,se):(H=[a.FileUploader.protocol,a.FileUploader.ip,":",a.FileUploader.port,"/dcp/",_,"/",H,"?type=1&dsver=",h.join(""),"&ts=",e.now()].join(""),e.ajax({url:H,method:"post",dataType:"json",processData:!1,data:ie,onSuccess:pe,onError:se}))},parseHttpErrors:function(ce,ie,pe){var se,ce=ce&&e.isArray(ce)&&2<ce.length?(se=ce[1],ce[2]):(se=ie,pe);ce.state==2&&ce.status==0?ce.statusText==="abort"?A(!0):x():A(!1,se,ce.status)},loadHttpBlob:function(H,ie,pe,se,ce,me,we){H={method:H,url:ie,dataType:"blob",async:pe,onSuccess:se,onError:function(ge,Ee,_e){a.FileUploader.parseHttpErrors(ge,Ee,_e),e.isFunction(ce)&&ce()}},e.isFunction(me)&&(H.beforeSend=function(ge){ge.addEventListener("progress",function(Ee){delete Ee.totalSize,delete Ee.position,me(Ee)},!1)}),e.ajax(H)},_OnPercentDone:function(){},Init:function(H,ie,pe){if(k(),!J.Lib.detect.bOK)return--f<=0?(e.isFunction(pe)&&pe(),void(f=5)):void setTimeout(function(){J.FileUploader.Init(H,ie,pe)},300);function se(){var ce,me=J.navInfoSync.bSSL?(ce="https://",J.dcp.SSLPort):(ce="http://",J.dcp.Port);a.FileUploader.port=me,a.FileUploader.protocol=ce,a.FileUploader.ip=J.DWT.Host,a.FileUploader.wsUrl=J.DWT.NetManager.getWsUrl(J.DWT.Host,me),a.FileUploader.running=!0,e.isFunction(ie)&&ie(new N),setTimeout(a.FileUploader.StatusLoop,500)}J.dcp.detect.bConnected?se():J.DWT.NetManager.checkModuleManager(se,function(){--f<=0?(e.isFunction(pe)&&pe(),f=5):setTimeout(function(){J.FileUploader.Init(H,ie,pe)},500)})},Close:function(){var H;J.DWT.ConnectWithSocket&&(H=J.FileUploader.ws)&&(H.readyState!=J.DWT.EnumDWT_WebsocketReadyState.CLOSED&&H.readyState!=J.DWT.EnumDWT_WebsocketReadyState.CLOSING&&H.close(),J.FileUploader.ws=null),J.FileUploader.running=!1},VersionInfo:function(H,ie){k();var pe='{"id":"'+s+'","method":"VersionInfo","version":"'+_+'","parameter":[]}';return J.FileUploader._sendCmd("VersionInfo",pe,H,function(se,ce,me){a.FileUploader.parseHttpErrors(se,ce,me),e.isFunction(ie)&&ie(T,I)}),!0},StatusLoop:function(){return k(),a.FileUploader.GetUploadStatus(),a.FileUploader.running&&setTimeout(a.FileUploader.StatusLoop,a.FileUploader.nextLoopTime),!0},GetUploadStatus:function(){var H;return k(),a.FileUploader.ids.length<=0||(H='{"id":"'+s+'","method":"GetUploadStatus","version":"'+_+'","parameter":["'+a.FileUploader.ids.join(",")+'"]}',J.FileUploader._sendCmd("GetUploadStatus",H,function(ie){if(e.isArray(ie))for(var pe=0;pe<ie.length;pe++){var se=(Ee=ie[pe]).id,ce=a.FileUploader.map[se],me=Ee.percentage,we=Ee.errorcode,ge=Ee.response,Ee=Ee.errorstring;ce&&(we==J.DWT.EnumTransferErrorCode.TRANS_FINISHED?(ce.OnUploadTransferPercentage(ce,100,$(ge)),!ce.bEvent&&e.isFunction(ce.OnRunSuccess)&&(ce.bEvent=!0,ce.OnRunSuccess(ce,$(ge)),ce.bEvent=!1),a.FileUploader.deleteJobById(se)):we==J.DWT.EnumTransferErrorCode.TRANS_OK||we==J.DWT.EnumTransferErrorCode.TRANS_NOT_SEND||we==J.DWT.EnumTransferErrorCode.TRANS_WAITFOR_SEND||we==J.DWT.EnumTransferErrorCode.TRANS_SENDING||we==J.DWT.EnumTransferErrorCode.TRANS_PAUSE||we==J.DWT.EnumTransferErrorCode.TRANS_TASK_PREPARE_INIT||we==J.DWT.EnumTransferErrorCode.TRANS_TASK_INIT?ce.OnUploadTransferPercentage(ce,me,$(ge)):(!ce.bEvent&&e.isFunction(ce.OnRunFailure)&&(ce.bEvent=!0,ce.OnRunFailure(ce,we,Ee,$(ge)),ce.bEvent=!1),a.FileUploader.deleteJobById(se)))}},function(ie,pe,se){})),!0}};var le=new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1);function $(H){for(var ie,pe,se,ce,me=H.length,we=0,ge="";we<me;){for(;ie=le[255&H.charCodeAt(we++)],we<me&&ie==-1;);if(ie==-1)break;for(;pe=le[255&H.charCodeAt(we++)],we<me&&pe==-1;);if(pe==-1)break;ge+=String.fromCharCode(ie<<2|(48&pe)>>4);do if((se=255&H.charCodeAt(we++))==61)return ge;while(se=le[se],we<me&&se==-1);if(se==-1)break;ge+=String.fromCharCode((15&pe)<<4|(60&se)>>2);do if((ce=255&H.charCodeAt(we++))==61)return ge;while(ce=le[ce],we<me&&ce==-1);if(ce==-1)break;ge+=String.fromCharCode((3&se)<<6|ce)}return ge}});/*! 202511171400
* Dynamsoft JavaScript Library
* Product: Dynamic Web TWAIN
* Web Site: https://www.dynamsoft.com
*
* Copyright 2025, Dynamsoft Corporation
* Author: Dynamsoft Support Team
* Version: 19.3
*/(function(){var e=620;J.navInfoSync.bMobile&&screen.width<620&&(e=screen.width-10);var n=!1;navigator.permissions&&navigator.permissions.query&&navigator.permissions.query({name:"local-network-access"}).then(function(f){n=!0}).catch(function(){});function a(){return n}J.OnWebTwainNotFoundOnWindowsCallback=function(f,h,_,y,T,I,x){var A=J,P={default:h};A._show_install_dialog(f,P,_,J.DWT.EnumDWT_PlatformType.enumWindow,y,T,I,x,!1)},J.OnWebTwainNotFoundOnLinuxCallback=function(f,h,_,y,T,I,x,A,P){var R=J,E={default:h,deb:h,rpm:_};P||(P=J.DWT.EnumDWT_PlatformType.enumLinux),R._show_install_dialog(f,E,y,P,T,I,x,A,!1)},J.OnWebTwainNotFoundOnMacCallback=function(f,h,_,y,T,I,x){var A=J,P={default:h};A._show_install_dialog(f,P,_,J.DWT.EnumDWT_PlatformType.enumMac,y,T,I,x,!1)},J.OnWebTwainNotFoundOnAndroidCallback=function(f,h,_,y){var T="Starting from version 19.0, Android platform is no longer supported.";J.DWT.ShowMessage(T,{width:480,headerStyle:2})},J.OnMobileNotSupportCallback=function(){var f=[];J.DWT?(f.push('<div class="ds-dwt-ui-dlg-android" style="padding-bottom:30px">'),f.push("Service Mode does not support your Operating System, please contact the site administrator."),f.push("</div>"),J.DWT.ShowMessage(f.join(""),{width:335,headerStyle:1,backgroundStyle:1})):console.log("The Dynamsoft namespace is missing")},J.OnHTTPCorsError=function(f){var h=["<div>",f,"</div>",'<div style="margin-top:10px">To fix the issue, please update your website to HTTPS or refer to <br /><a target="_blank" href="https://www.dynamsoft.com/web-twain/docs/faq/http-insecure-websites-in-chromium-browser.html?ver=latest">this article</a> for other workarounds.</div>'].join("");J.DWT.ShowMessage(h,{width:e,headerStyle:2})},J._show_install_dialog=function(f,h,_,y,T,I,x,A,P){var R=J,E,O,L,k,N=J.DWT.EnumDWT_PlatformType,W=y==N.enumLinux||y==N.enumEmbed||y==N.enumChromeOS||y==N.enumHarmonyOS,G={icn_download:"data:image/png;base64,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",icn_install:"data:image/png;base64,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",icn_scan:"data:image/png;base64,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"},le=!1;if(P?O="Update your document scanning service":O="Download the Dynamic Web TWAIN service",L="Follow the steps below to enable scanning in your browser",E=['<div class="dynamsoft-dwt-dlg-title">',O,"</div>",'<div class="dynamsoft-dwt-dlg-subtitle" style="display: none;">',L,"</div>",'<div class="dynamsoft-dwt-dlg-title-error" style="display:none"></div>'],R.DWT){var $=J.navInfoSync.bFirefox;W||$?k="RESTART":k="REFRESH",E.push('<div class="dynamsoft-dwt-installdlg-iconholder"> ');var H="134px";E.push('<div class="dynamsoft-dwt-installdlg-splitline" style="left: '+H+'"></div>'),E.push('<div class="dynamsoft-dwt-installdlg-splitline" style="left: 328px"></div>');var ie="133px";if(E.push('<img style="margin: 0px '+ie+' 0px 0px" src="'+G.icn_download+'" alt="download" />'),E.push('<img style="margin: 2px '+ie+' 2px 0px" src="'+G.icn_install+'" alt="install" />'),E.push('<img src="'+G.icn_scan+'" alt="scan" />'),E.push('<div><span class="dynamsoft-dwt-installdlg-text" style="right: 160px">Download</span>'),E.push('<span class="dynamsoft-dwt-installdlg-text" style="right: 18px">Install</span>'),E.push('<span class="dynamsoft-dwt-installdlg-text" style="left: 140px">Scan</span>'),E.push("</div>"),E.push("</div>"),_&&W){E.push('<div style="margin:10px 0 0 60px;">'),E.push('<div id="dwt-install-url-div">');var pe=J.navInfo.bArm64,se=J.navInfo.bMips64,ce=J.navInfoSync.bChromeOS,me=J.navInfoSync.bHarmonyOS;pe||se||ce||me||(E.push(`<div><input id="dwt-install-url-deb" name="dwt-install-url" type="radio" onclick="Dynamsoft._dwt_change_install_url('`+h.deb+`')" checked="checked" /><label for="dwt-install-url-deb">64 bit .deb (For Ubuntu/Debian)</label></div>`),E.push(`<div><input id="dwt-install-url-rpm" name="dwt-install-url" type="radio" onclick="Dynamsoft._dwt_change_install_url('`+h.rpm+`')" /><label for="dwt-install-url-rpm">64 bit .rpm (For Fedora)</label></div>`)),E.push("</div></div>")}E.push('<div class="ds-download-div"><a id="dwt-btn-install" href="'),E.push(h.default),E.push('"'),_?E.push(' html5="1"'):E.push(' html5="0"'),E.push(' onclick="Dynamsoft._dcp_dwt_onclickDownloadButton()">Download</a></div>'),_?T?(E.push('<div class="dynamsoft-dwt-dlg-tail" style="text-align:left; padding-left: 80px">'),E.push("If you still see the dialog after installing the Dynamic Web TWAIN Service, please<br />"),E.push("1. Add the website to the zone of trusted sites.<br />"),E.push("IE | Tools | Internet Options | Security | Trusted Sites.<br />"),E.push("2. Refresh your browser."),E.push("</div>")):(E.push('<div class="dynamsoft-dwt-dlg-tail ds-dwt-textLeft" style="padding: 0px 70px 20px 70px;background:#FFFFFF">'),W&&(E.push('<div class="dynamsoft-dwt-dlg-red">'),E.push("After the installation, please <strong>"+k+"</strong> your browser. "),E.push("</div>")),E.push("</div>"),a()&&(le=!0)):(E.push('<div class="dynamsoft-dwt-dlg-tail" style="text-align:left; padding-left: 80px">'),E.push("After the installation, please<br />"),E.push("1. Restart the browser<br />"),E.push('2. Allow "DynamicWebTWAIN" add-on to run by right clicking on the Information Bar in the browser.'),E.push("</div>")),R.DWT.ShowMessage(E.join(""),{width:e,headerStyle:1})}else console.log("The Dynamsoft namespace is missing");J.DWT&&J.DWT.OnWebTwainNotFound&&J.DWT.OnWebTwainNotFound(),le&&navigator.permissions.query({name:"local-network-access"}).then(function(we){if(we&&we.state!="granted"){var ge=document.querySelector(".dynamsoft-dwt-dlg-tail"),Ee=document.createElement("div");Ee.className="dynamsoft-dwt-dlg-tail-guide",W?Ee.innerHTML=`If you're still seeing this dialog, please enable local network access for this site(<a href="javascript: void (0)" onclick="Dynamsoft._dwt_onclickLNAGuide()">guide</a>).`:Ee.innerHTML=`If you're still seeing this dialog after installing the service, please enable local network access for this site (<a href="javascript: void (0)" onclick="Dynamsoft._dwt_onclickLNAGuide()">guide</a>).`,ge.appendChild(Ee)}})},J._dwt_onclickLNAGuide=function(){a()&&navigator.permissions.query({name:"local-network-access"}).then(function(f){var h=!0;f&&f.state=="denied"&&(h=!1),J.OnBrowserLNADenied("Local network access is blocked.",h),J._dwt_onclickLNAGuide_inner()})},J._dwt_onclickLNAGuide_inner=function(){var f=J,h=500;f.DWT.CheckConnectToTheService(function(){J.DWT.ConnectToTheService()},function(){if(J.DWT.NeedCheckWebTwainBySocket()){J.DWT.CheckWebTwainBySocket(function(){J.OnHTTPCorsError()},function(){setTimeout(J._dwt_onclickLNAGuide_inner,h)},function(){setTimeout(J._dwt_onclickLNAGuide_inner,h)});return}setTimeout(J._dwt_onclickLNAGuide_inner,h)})},J._dwt_change_install_url=function(f){var h=document.getElementById("dwt-btn-install");h&&(h.href=f)};var s=0;J._dcp_dwt_onclickDownloadButton=function(){var f=document.getElementById("dwt-install-url-div");f&&(f.style.display="none");var h=J.Lib.one(".dynamsoft-dwt-dlg-subtitle");h&&h.style("display","");var _=J.Lib.one(".dynamsoft-dwt-dlg-title");_&&_.html("Install the Dynamic Web TWAIN service");var y=document.getElementById("dwt-btn-install");if(y)if(y.getAttribute("html5")=="1"){var T=y.parentNode,I=document.createElement("div"),x=document.createElement("Button");I.id="dwt-btn-install",I.style.textAlign="center",I.style.paddingBottom="15px",I.style.font='600 16px/25px "Open Sans", sans-serif',I.innerHTML="After installation, click below to verify the service is running.",I.setAttribute("html5","1"),T.removeChild(y),T.appendChild(I),x.textContent="Verify",x.onclick=function(){J._dcp_dwt_onclickInstallButton()},x.className="dynamsoft-dwt-installdlg-button",T.appendChild(x)}else{var T=y.parentNode;T.removeChild(y)}return!0},J._dcp_dwt_onclickInstallButton=function(){var f=document.getElementById("dwt-install-url-div");f&&(f.style.display="none");var h=J.Lib.one(".dynamsoft-dwt-dlg-title");h&&h.style("display","");var _=J.Lib.one(".dynamsoft-dwt-dlg-title-error");_&&_.style("display","none");var y=J.Lib.one(".dynamsoft-dwt-dlg-subtitle");y&&y.style("display","none");var T=J.Lib.one(".dynamsoft-dwt-installdlg-button");T&&T.style("display","none");var I=document.getElementById("dwt-btn-install");return I&&setTimeout(function(){if(I.getAttribute("html5")=="1"){var x=I.parentNode;I.style.font='22px / 31px "Open Sans", sans-serif',I.style.margin="20px",I.innerHTML="Connecting to the service...",s=new Date,setTimeout(J._dwt_Reconnect,10)}else{var x=I.parentNode;x.removeChild(I)}},10),!0},J._dwt_Reconnect=function(){var f=J;if((new Date-s)/1e3>10){var h=document.getElementById("dwt-btn-install");h&&(h.style.font='600 16px/25px "Open Sans", sans-serif',h.style.margin="0px",h.innerHTML="Make sure your installation is complete and the service is running.");var _=J.Lib.one(".dynamsoft-dwt-installdlg-button");_&&(_.html("Try Reconnecting"),_.style("display",""),_.style("width","200px"));var y=J.Lib.one(".dynamsoft-dwt-dlg-title");y&&y.style("display","none");var T=J.Lib.one(".dynamsoft-dwt-dlg-title-error");T&&(T.html("Couldn't connect to the service."),T.style("display",""));return}if(f.DWT){var I=500;navigator.userAgent.indexOf("Safari")>-1&&(I=2e3),f.DWT.CheckConnectToTheService(function(){J.DWT.CloseDialog(),J.DWT.ConnectToTheService()},function(){if(J.DWT.NeedCheckWebTwainBySocket()){J.DWT.CheckWebTwainBySocket(function(){J.OnHTTPCorsError()},function(){setTimeout(J._dwt_Reconnect,I)},function(){setTimeout(J._dwt_Reconnect,I)});return}setTimeout(J._dwt_Reconnect,I)})}else console.log("The Dynamsoft namespace is missing")},J._show_android_install_dialog=function(f,h){var _;if(J.DWT.bNpm&&J.navInfoSync.bFileSystem){var y=!0,T=J.DWT.EnumDWT_PlatformType.enumAndroid;return J.DWT&&J.DWT.OnWebTwainNotFound&&J.DWT.OnWebTwainNotFound(),J.Lib.isFunction(J._show_online_download_dialog)?J._show_online_download_dialog(f,y,T):!0}_=[],J.DWT?(_.push('<div class="ds-dwt-ui-dlg-android">'),_.push("<div>Please download and "),h?_.push("update"):_.push("install"),_.push(" the <strong>DYNAMIC WEB TWAIN SERVICE</strong> app via the </div>"),_.push('<div><a href="'),_.push(f.default),_.push('" onclick="Dynamsoft._dwt_ReconnectForAndroid()">direct APK download link</a>.</div>'),_.push("</div>"),_.push('<div class="dynamsoft-dwt-dlg-tail" style="text-align:left">'),_.push("If you have "),h?_.push("updated"):_.push("installed"),_.push(" it, please click on the button below to initiate the connection."),_.push('<a target="_blank" href="'),_.push(f.openService),_.push('" onclick="Dynamsoft._dwt_ReconnectForAndroid()" class="dynamsoft-dwt-dlg-button-android"><div>Open Service</div></a>'),_.push("</div>"),_.push("</div>"),J.DWT.ShowMessage(_.join(""),{width:335,headerStyle:1,backgroundStyle:1})):console.log("The Dynamsoft namespace is missing"),J.DWT&&J.DWT.OnWebTwainNotFound&&J.DWT.OnWebTwainNotFound()},J._dwt_ReconnectForAndroid=function(){J.DWT.CheckConnectToTheService(function(f){f?(J.DWT.CloseDialog(),J.DWT.ConnectToTheService()):setTimeout(J._dwt_ReconnectForAndroid,500)},function(){setTimeout(J._dwt_ReconnectForAndroid,500)})},J.OnWebTwainNeedUpgradeCallback=function(f,h,_,y,T,I,x,A){J._show_install_dialog(f,h,_,y,T,I,x,A,!0,!0)},J.OnWebTwainNeedUpgradeOnAndroidCallback=function(f,h,_){J.OnWebTwainNotFoundOnAndroidCallback(f,h,_,!0)},J.OnLTSLicenseError=function(f,h){var _="",y;if(h==-2440||h==-2441||h==-2443||h==-2446||f.indexOf("Internet connection")>-1||f.indexOf("Storage")>-1){var T="https://www.dynamsoft.com/customer/license/trialLicense?product=dwt&deploymenttype=js";_='<div>You can register for a free 30-day trial <a href="'+T+'" target="_blank" class="dynamsoft-major-color">here</a>. Make sure to select the product Dynamic Web TWAIN.</div>'}y=[f,_],J.DWT.ShowMessage(y.join(""),{width:e,headerStyle:2})},J.OnLTSConnectionWarning=function(){var f=["Warning: You are seeing this dialog because Dynamic Web TWAIN has failed to connect to the License Tracking Server. ","A cached authorization is being used, and you can continue to use the software as usual. ","Please get connected to the network as soon as possible. ",J.DWT.isPublicLicense()?'<a class="dynamsoft-major-color" href="https://www.dynamsoft.com/company/contact/">Contact Dynamsoft</a> ':"Contact the site administrator ","for more information."].join("");J.DWT.ShowMessage(f,{width:e,caption:"Warning",headerStyle:2})},J.OnLTSPublicLicenseWarning=function(f){J.DWT.ShowMessage(f,{width:e,caption:"Warning",headerStyle:2})},J.OnLicenseExpiredWarning=function(f,h,_){var y,T,I='<a target="_blank" href="https://www.dynamsoft.com/store/dynamic-web-twain/#DynamicWebTWAIN">online store</a>',x="https://www.dynamsoft.com/customer/license/trialLicense?product=dwt&utm_source=in-product";if(!(h>5||!_)){if(h>0){var A;h<=1?A="1 day":A=parseInt(h)+" days",T="Warning",y=['<div style="padding:0 0 10px 0">Kindly note your trial key is expiring in ',A,". Two quick steps to extend your trial:</div>",'<div style="margin:0 0 0 10px">1. <a target="_blank" href="',x,'">Request a new trial key</a> and follow the instructions to set the new key</div>','<div style="margin:0 0 0 10px">2. Refresh your scan page and try again</div>','<div style="padding:0">If you are ready to purchase a full license, please go to the ',I,".</div>"].join("")}else y=['<div style="padding:0">Sorry, your Dynamic Web TWAIN product key expired on ',f,". You can purchase a full license from the ",I,".</div>",'<div style="padding:0">Alternatively, you may request a new product key from <a target="_blank" href="',x,'">this page</a>.</div>'].join("");y&&J.DWT.ShowMessage(y,{width:e,caption:T,headerStyle:2})}},J.OnLicenseError=J.OnLicenseError||function(f,h){J.DWT.ShowMessage(J.ProcessLicenseErrorContent(f),{width:e,headerStyle:2})},J.OnCorsConfigError=function(f){var h=[f," Please contact the Administrator to configure 'Access-Control-Allow-Origin'."].join("");J.DWT.ShowMessage(h,{width:e,headerStyle:2})},J.OnBrowserLNADenied=function(f,h){var _="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";J.navInfoSync.bEdge?_="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":J.navInfoSync.bFirefox&&(_="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");var y=['<div style="color:#323234;font-size:20px">',f,"</div>",'<div style="color:#606060;font-size:14px;padding:10px 0;">To resolve this issue, please follow the steps outlined below:</div>','<div><img src="data:image/webp;base64,',_,'" /></div>','<div style="color:#606060;font-size:14px;padding:10px 0;">For more detailed information, please refer to <a target="_blank" href="https://www.dynamsoft.com/web-twain/docs/faq/chromium-142-local-network-access-issue.html">this article</a>.</div>'].join(""),T=document.querySelector(".ds-dwt-ui-dlg-wrap");if(T&&h){var I=T.firstChild,x=['<div class="dynamsoft-dialog"><div class="dynamsoft-dwt-ltsdlg-header"><span style="color: rgb(255, 255, 255); line-height: 35px; margin-left: 15px;">Error</span><div class="dynamsoft-dialog-close dynamsoft-dialog-hide-lna"></div></div><div class="dynamsoft-dwt-ltsdlg-body" style="padding: 25px 40px 20px;">',y,,"</div></div>"].join(""),A=document.createElement("div");J.Lib.setHtml(A,x),T.appendChild(A),I.style.display="none",document.querySelector(".dynamsoft-dialog-hide-lna").addEventListener("click",function(){A.remove(),I.style.display=""})}else J.DWT.ShowMessage(y,{width:e,headerStyle:2,closeButton:!1})},J.ProcessLicenseErrorContent=function(f){var h=[],_=f;if(typeof _!="string"){if(_===void 0)return"";_ instanceof Error||"message"in _?_=_.message:_=""+_}var y=_.indexOf("["),T=_.indexOf("]",y),I=_.indexOf("(",T),x=_.indexOf(")",I);if(y==-1||T==-1||I==-1||x==-1)return _;y>0&&h.push(_.substring(0,y));var A=_.substring(y+1,T),P=_.substring(I+1,x);return h.push(['<a href="',P,'" target="_blank" class="dynamsoft-major-color">',A,"</a>"].join("")),h.push(_.substring(x+1)),h.join("")},J._show_online_download_dialog=function(f,h,_){var y,T=J.DWT.JSVersion.split(","),I=T[0]+"."+T[1],x=location.pathname,A,P,R;x=x.substring(0,x.lastIndexOf("/")+1),_==J.DWT.EnumDWT_PlatformType.enumLinux&&(arm64||mips64)&&(arm64?f.default=getDebPath("arm64"):mips64&&(f.default=getDebPath("mips64el"))),R=f.default.substr(f.default.length-3),A=["https://www.dynamsoft.com/web-twain/install-dynamsoft-service/?productId=1000001","&downloadLink=https://demo.dynamsoft.com/DWT/Resources/dist/DynamsoftServiceSetup_",I,".",R].join(""),P=J.Lib.Path.normalize([x,f.default].join("")),_==J.DWT.EnumDWT_PlatformType.enumWindow&&P.indexOf("/")==0&&(P=P.substr(1)),y=['<div class="dynamsoft-dwt-ltsdlg-body" style="padding:0 20px 20px 20px">',"<div>To support document scanning, please complete one-time installation of the DynamsoftServiceSetup.",R," on this machine.</div>","<div>You can download the file via this trust site:</div>",'<div><a id="dwt-btn-install" target="_blank" href="',A,'"><div class="dynamsoft-dwt-dlg-button">Open Site</div></a></div>','<div style="word-break: break-word;">Or, go to <br />',P," if the file exists.</div>","<div>After the installation, please <strong>REFRESH</strong>  your browser.<br /></div>","</div>"],J.DWT.ShowMessage(y.join(""),{width:e,headerStyle:1,closeButton:!1})}})();J.DWT.AutoLoad=!1;J.DWT.IfAddMD5InUploadHeader=!1;J.DWT.IfConfineMaskWithinTheViewer=!1;const Ai=J,Pbe={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:"https://api.archi-drive.ga",VITE_FIREBASE_API_KEY:"AIzaSyAkYQVs4XzRdGYzIJjJEPqsJkOT_0y2cB4",VITE_FIREBASE_APP_ID:"1:839824177718:web:952f05d01ac26272a7f697",VITE_FIREBASE_AUTH_DOMAIN:"archi-drive-c6770.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"839824177718",VITE_FIREBASE_PROJECT_ID:"archi-drive-c6770",VITE_FIREBASE_STORAGE_BUCKET:"archi-drive-c6770.firebasestorage.app",VITE_FIREBASE_VAPID_KEY:"BEhsZEqpZBkIy1U0pKfB9lt9O2bn-uMn8-vmNVF8WmN-FGvhOhaM39NIfUu_4Ughy0tidPRZtL6OaTMhpuPo1v8"};function n5(e){try{typeof e=="string"&&e.startsWith("blob:")&&URL.revokeObjectURL(e)}catch{}}function Rbe(e,n="image/png"){const a=String(e||"").trim();if(!a)return"";if(a.startsWith("data:"))return a;const s=a.replace(/\s+/g,"");return`data:${n};base64,${s}`}function kbe(e){if(typeof e=="string")return e;if(Array.isArray(e)){const n=e[0];if(typeof n=="string")return n}if(e&&typeof e=="object"){if(typeof e._content=="string")return e._content;const n=[e.base64,e.Base64,e.data,e.Data,e.strBase64,e.StrBase64,e.value,e.Value];for(const a of n)if(typeof a=="string")return a}return""}function i5(e){const n=document.createElement("canvas");n.width=600,n.height=800;const a=n.getContext("2d");if(!a)return"";const s=e*57%360;a.fillStyle=`hsl(${s} 70% 92%)`,a.fillRect(0,0,n.width,n.height),a.fillStyle="rgba(0,0,0,0.10)";for(let f=80;f<n.height;f+=48)a.fillRect(60,f,n.width-120,2);return a.fillStyle="rgba(0,0,0,0.75)",a.font="bold 48px system-ui, -apple-system, Segoe UI, Roboto",a.fillText(`Page ${e}`,60,90),a.fillStyle="rgba(0,0,0,0.55)",a.font="24px system-ui, -apple-system, Segoe UI, Roboto",a.fillText("Aperu scan (mock)",60,140),n.toDataURL("image/png")}const Nbe=({isOpen:e,onClose:n,folderId:a,serviceId:s,onUploaded:f})=>{const[h,_]=z.useState("main"),[y,T]=z.useState(!1),[I,x]=z.useState(!1),[A,P]=z.useState(!1),[R,E]=z.useState(null),[O,L]=z.useState(void 0),[k,N]=z.useState([]),[W,G]=z.useState(null),[le,$]=z.useState(!1),[H,ie]=z.useState([]),[pe,se]=z.useState(!1),[ce,me]=z.useState("Document scann"),we="dwtcontrolContainer",ge=z.useRef(null),Ee=z.useRef(!1),_e=void 0,Ue="/dwt-resources",xe=O&&O.trim().length>0?O:_e,Te=!!(xe&&xe.trim().length>0),Be=z.useMemo(()=>!!(Ai!=null&&Ai.DWT),[]),ot="production",tt=typeof window<"u"?window.location.origin:"",vt=typeof Pbe<"u",bt=z.useMemo(()=>H.length>0&&ce.trim().length>0,[H.length,ce]);z.useEffect(()=>{e&&(_("main"),T(!1),P(!1),E(null),L(void 0),N([]),G(null),ie(at=>(at.forEach(Nt=>n5(Nt.dataUrl)),[])),se(!1),me("Document scann"),Ee.current=!1)},[e]),z.useEffect(()=>{if(!e||Te)return;let at=!1;return(async()=>{try{const Nt=await Tt("/api/config/webtwain",{method:"GET"});if(!Nt.ok)return;const jt=await Nt.json().catch(()=>null),or=jt&&jt.dwtProductKey||void 0;at||L(or)}catch{}})(),()=>{at=!0}},[Te,e]),z.useEffect(()=>{e&&fetch(`${Ue.replace(/\/$/,"")}/dynamsoft.webtwain.min.mjs?ts=${Date.now()}`,{method:"GET"}).then(at=>E(at.ok)).catch(()=>E(!1))},[Ue,e]),z.useEffect(()=>{e&&(Ee.current||!Be||!Te||(Ee.current=!0,Se().catch(()=>{})))},[Te,Be,e]);const Se=async()=>{if(!Be)return Er.error("WebTWAIN (Dynamsoft) non dtect (lib dwt)"),!1;if(!Te)return Er.error("Cl WebTWAIN manquante (VITE_DWT_PRODUCT_KEY ou /api/config/webtwain)"),!1;try{typeof Ai.DWT.RegisterEvent=="function"&&Ai.DWT.RegisterEvent("OnWebTwainError",(at,Nt)=>{console.error("WebTWAIN OnWebTwainError",at,Nt),Er.error(String(Nt||at||"WebTWAIN error"))})}catch{}if(Ai.DWT.ProductKey=xe,Ai.DWT.ResourcesPath=Ue,Ai.DWT.IfCheckCORS=!0,Ai.DWT.Containers=[{WebTwainId:"dwtObject",ContainerId:we,Width:"0px",Height:"0px"}],await Ai.DWT.Load(),ge.current=Ai.DWT.GetWebTwain(we),!ge.current)return Er.error("WebTWAIN non prt"),!1;try{const at=ge.current,Nt=typeof at.GetSourceNameItems=="function"?at.GetSourceNameItems():void 0;if(Array.isArray(Nt)&&Nt.length>0)N(Nt),G(jt=>typeof jt=="number"?jt:0);else if(typeof at.SourceCount=="number"&&typeof at.GetSourceNameItems=="function"){const jt=at.GetSourceNameItems();Array.isArray(jt)&&jt.length>0&&(N(jt),G(or=>typeof or=="number"?or:0))}}catch{}return!0},ye=()=>{const at=ge.current;try{at&&typeof at.CloseSource=="function"&&at.CloseSource()}catch{}x(!1),$(!1),Er.message("Scanner arrt")},Ie=async()=>{_("select"),T(!0);try{await qe(),_("main")}finally{T(!1)}},qe=async()=>{if(!Be){Er.error("WebTWAIN (Dynamsoft) non dtect sur ce poste");return}if(!Te){Er.error("Cl WebTWAIN manquante (VITE_DWT_PRODUCT_KEY)");return}T(!0);try{if(!await Se())return;const Nt=ge.current;if(Nt&&typeof Nt.SelectSourceAsync=="function")try{P(!0),await Nt.SelectSourceAsync(),$(!0)}catch(jt){Er.error((jt==null?void 0:jt.message)||"Slection du scanner annule/choue");return}finally{P(!1)}else if(Nt&&typeof W=="number"&&typeof Nt.SelectSourceByIndex=="function")try{Nt.SelectSourceByIndex(W),$(!0)}catch{}x(!0),Er.success("Scanner connect")}finally{T(!1)}},ut=async()=>{var Nt,jt;const at=ge.current;if(!at)return!1;try{const or=typeof at.HowManyImagesInBuffer=="number"?at.HowManyImagesInBuffer:0,fn=(Nt=Ai==null?void 0:Ai.DWT)==null?void 0:Nt.EnumDWT_PixelType,Yr={IfShowUI:!1,PixelType:fn==null?void 0:fn.TWPT_RGB,Resolution:200,IfFeederEnabled:!0,IfDuplexEnabled:!1,IfDisableSourceAfterAcquire:!0,IfGetImageInfo:!0,IfGetExtImageInfo:!0,extendedImageInfoQueryLevel:0,IfCloseSourceAfterAcquire:!0};if(le||(typeof W=="number"&&typeof at.SelectSourceByIndex=="function"?(at.SelectSourceByIndex(W),$(!0)):typeof at.SelectSourceAsync=="function"&&(await at.SelectSourceAsync(),$(!0))),typeof at.OpenSource=="function")try{at.OpenSource()}catch{}const rn=async(Gt,xt)=>Promise.race([Gt,new Promise((he,ar)=>setTimeout(()=>ar(new Error("Timeout scanner (slection source bloque ?)")),xt))]);if(typeof at.AcquireImageAsync=="function")await rn(at.AcquireImageAsync(Yr),45e3);else if(typeof at.AcquireImage=="function")await rn(new Promise((Gt,xt)=>{try{if(typeof at.AcquireImage=="function"){at.AcquireImage(Yr,()=>{try{typeof at.CloseSource=="function"&&at.CloseSource()}catch{}Gt()},(he,ar)=>{try{typeof at.CloseSource=="function"&&at.CloseSource()}catch{}xt(new Error(ar))});return}xt(new Error("AcquireImage non disponible"))}catch(he){try{typeof at.CloseSource=="function"&&at.CloseSource()}catch{}xt(he)}}),45e3);else return!1;const nn=typeof at.HowManyImagesInBuffer=="number"?at.HowManyImagesInBuffer:0;if(nn<=or)return!0;const et=(jt=Ai==null?void 0:Ai.DWT)==null?void 0:jt.EnumDWT_ImageType,_r=et==null?void 0:et.IT_JPG,it=et==null?void 0:et.IT_PNG,Et=[];for(let Gt=or;Gt<nn;Gt+=1)Et.push(Gt);const At=[];for(let Gt=0;Gt<Et.length;Gt+=1){const xt=Et[Gt];let he="";if(typeof at.ConvertToBlob=="function"&&(_r||it)){const ar=_r||it,ke=await new Promise((Le,Ze)=>{at.ConvertToBlob([xt],ar,rt=>Le(rt),(rt,yt)=>Ze(new Error(String(yt||rt))))});he=URL.createObjectURL(ke)}else if(typeof at.ConvertToBase64=="function"&&(it||_r)){const ar=it||_r,ke=await new Promise((rt,yt)=>{at.ConvertToBase64([xt],ar,Jt=>rt(Jt),Jt=>yt(Jt))}),Le=kbe(ke);he=Rbe(Le,ar===_r?"image/jpeg":"image/png")}At.push({id:Date.now()+Gt,dataUrl:he||i5(Gt+1),bufferIndex:xt})}return ie(Gt=>[...Gt,...At]),!0}catch(or){try{typeof at.CloseSource=="function"&&at.CloseSource()}catch{}return Er.error((or==null?void 0:or.message)||"chec du scan WebTWAIN"),!1}},lt=async()=>{if(I){se(!0);try{if(Be&&await ut()){Er.success("Page ajoute");return}await new Promise(at=>setTimeout(at,600)),ie(at=>{const Nt=at.length+1,jt=[0,1,2].map(or=>({id:Date.now()+or,dataUrl:i5(Nt+or)}));return[...at,...jt]}),Er.success("Page ajoute")}finally{se(!1)}}},Vt=at=>{ie(Nt=>{const jt=Nt.find(or=>or.id===at);return jt&&n5(jt.dataUrl),Nt.filter(or=>or.id!==at)})},zt=async()=>{var nn;const at=ge.current;if(!at)return null;const Nt=H.map(et=>et.bufferIndex).filter(et=>typeof et=="number").sort((et,_r)=>et-_r);if(Nt.length===0)return null;const jt=(nn=Ai==null?void 0:Ai.DWT)==null?void 0:nn.EnumDWT_ImageType,or=jt==null?void 0:jt.IT_PDF,fn=jt==null?void 0:jt.IT_PNG,Yr=or||fn;if(!Yr||typeof at.ConvertToBlob!="function")return null;const rn=await new Promise((et,_r)=>{at.ConvertToBlob(Nt,Yr,it=>et(it),(it,Et)=>_r(new Error(String(Et||it))))});return Yr===or?{blob:rn,mime:"application/pdf",ext:"pdf"}:{blob:rn,mime:"image/png",ext:"png"}},ur=async()=>{if(!bt)return;const at=ce.trim(),Nt=typeof a=="number"?a:null,jt=typeof s=="number"?s:null;if(Nt===null&&jt===null){Er.error("Impossible denregistrer: dossier/service non dtermin");return}try{const or=await zt();if(!or){Er.error("Export WebTWAIN impossible");return}const fn=at||"Document scann",Yr=new File([or.blob],`${fn}.${or.ext}`,{type:or.mime}),rn=new FormData;rn.append("file",Yr),rn.append("name",Yr.name),Nt!==null&&rn.append("folder_id",String(Nt)),Nt===null&&jt!==null&&rn.append("service_id",String(jt));const nn=await Tt("/api/documents",{method:"POST",body:rn,toast:{error:{enabled:!0,message:"chec de lenregistrement"}}});if(!nn.ok)return;let et=null;try{et=await nn.clone().json()}catch{et=null}Er.success(`Enregistr: ${at} (${H.length} page(s))`),await(f==null?void 0:f(et??void 0)),n()}catch(or){Er.error((or==null?void 0:or.message)||"chec de lenregistrement")}};return w.jsx(eo,{open:e&&!A,onOpenChange:at=>{at||n()},children:w.jsxs(Bi,{className:"max-w-4xl",children:[w.jsx(Ui,{children:w.jsxs("div",{className:"flex items-start justify-between gap-3",children:[w.jsxs("div",{children:[w.jsx(Vi,{children:"Scanner"}),w.jsx(to,{children:h==="merge"?"Fusionnez et nommez votre document avant lenregistrement.":"Ajoutez des pages scannes puis fusionnez le document."})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(dt,{type:"button",variant:"outline",onClick:()=>{ie([]),_("main")},children:"Vider"}),w.jsx(dt,{type:"button",variant:"outline",onClick:Ie,children:"Changer scanner"})]})]})}),w.jsx("div",{id:we,className:"h-0 w-0 overflow-hidden"}),h==="select"&&w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"border rounded-md p-6 text-sm text-muted-foreground",children:[w.jsx("div",{className:"font-medium text-foreground mb-1",children:"Slection du scanner"}),w.jsx("div",{children:"Une fentre de slection va souvrir. Choisis ton scanner, puis reviens ici."})]}),w.jsxs(Au,{children:[w.jsx(dt,{type:"button",variant:"outline",onClick:()=>_("main"),children:"Annuler"}),w.jsx(dt,{type:"button",onClick:Ie,disabled:y||!Be||!Te,children:y?"Ouverture":"Choisir un scanner"})]})]}),h==="main"&&w.jsxs("div",{className:"space-y-4",children:[w.jsx("div",{className:"min-h-[320px] border rounded-md bg-background",children:H.length===0?w.jsx("div",{className:"h-[320px] flex items-center justify-center text-sm text-muted-foreground",children:"Aucun document scann pour le moment."}):w.jsx("div",{className:"p-3 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:H.map(at=>w.jsxs("div",{className:"relative border rounded-md overflow-hidden",children:[w.jsx("img",{src:at.dataUrl,alt:"Page",className:"w-full h-44 object-cover"}),w.jsx(dt,{type:"button",variant:"secondary",size:"sm",className:"absolute top-2 right-2",onClick:()=>Vt(at.id),children:""})]},at.id))})}),w.jsx(Au,{children:w.jsxs("div",{className:"w-full flex items-center justify-between gap-2",children:[w.jsx(dt,{type:"button",variant:"outline",onClick:lt,disabled:!I||pe,children:pe?"Scan":"Ajouter une page"}),I?w.jsx(dt,{type:"button",variant:"outline",onClick:ye,children:"Arrter"}):w.jsx(dt,{type:"button",onClick:qe,disabled:y||!Be||!Te,children:y?"Connexion":"Se connecter au scanner"}),w.jsx(dt,{type:"button",variant:"secondary",onClick:()=>_("merge"),disabled:H.length===0,children:"Fusionner"})]})}),(!Be||!Te||R===!1)&&w.jsxs("div",{className:"text-xs text-muted-foreground border rounded-md p-3",children:[Be?null:"WebTWAIN non disponible sur ce poste.",Be&&!Te?"Cl WebTWAIN manquante (VITE_DWT_PRODUCT_KEY).":null,R===!1?"Ressources WebTWAIN introuvables (/dwt-resources).":null,w.jsxs("div",{className:"mt-2",children:[w.jsx("span",{className:"font-medium",children:"Origin:"})," ",tt||"?","  ",w.jsx("span",{className:"font-medium",children:"Mode:"})," ",ot,"  ",w.jsx("span",{className:"font-medium",children:"env:"})," ",vt?"ok":"absent"]})]})]}),h==="merge"&&w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"border rounded-md p-4 text-sm",children:[w.jsx("div",{className:"font-medium mb-1",children:"Fusion du document"}),w.jsx("div",{className:"text-muted-foreground",children:"Donnez un nom  votre document puis enregistrez-le."})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("div",{className:"text-xs font-medium",children:"Nom du document"}),w.jsx(Ur,{value:ce,onChange:at=>me(at.target.value),placeholder:"Nom dinscription / Nom du document"})]}),w.jsxs(Au,{children:[w.jsx(dt,{type:"button",variant:"outline",onClick:()=>_("main"),children:"Retour"}),w.jsx(dt,{type:"button",onClick:ur,disabled:!bt,children:"Enregistrer"})]})]})]})})},Fbe=({folderId:e,onFolderClick:n})=>{var Nv,Fv,Ov,Mv;const a=Sl(),[s,f]=z.useState(""),[h,_]=z.useState(!1),[y,T]=z.useState(!1),[I,x]=z.useState(""),A=z.useRef(null),[P,R]=z.useState(!1),[E,O]=z.useState([]),[L,k]=z.useState([]),[N,W]=z.useState(!1),[G,le]=z.useState(0),[$,H]=z.useState(""),[ie,pe]=z.useState(null),[se,ce]=z.useState(""),[me,we]=z.useState(!1),[ge,Ee]=z.useState(null),[_e,Ue]=z.useState(null),[xe,Te]=z.useState(null),[Be,ot]=z.useState(!1),[tt,vt]=z.useState(null),[bt,Se]=z.useState(1),[ye,Ie]=z.useState({}),[qe,ut]=z.useState({}),[lt,Vt]=z.useState(!1),[zt,ur]=z.useState(!1),[at,Nt]=z.useState(!1),[jt,or]=z.useState(null),[fn,Yr]=z.useState(null),[rn,nn]=z.useState(""),{user:et}=ps(),{data:_r}=Kr({queryKey:["visible-services",(et==null?void 0:et.id)??0],queryFn:async()=>{const Oe=await Tt("/api/services/visible");if(!Oe.ok)throw new Error("Erreur chargement services visibles");return Oe.json()},staleTime:6e4}),{data:it=[]}=Kr({queryKey:["shared-folders",(et==null?void 0:et.id)??0],enabled:!!et,queryFn:async()=>{const Oe=await Tt("/api/shared-folders/visible");return Oe.ok?Oe.json():[]},staleTime:3e4}),{data:Et=[]}=Kr({queryKey:["admin-services"],enabled:!!et&&(et.role==="admin"||et.role==="super_admin"),queryFn:async()=>{const Oe=await Tt("/api/admin/services",{toast:{error:{enabled:!1}}});if(!Oe.ok)throw new Error("Erreur chargement services");return Oe.json()},staleTime:6e4,refetchOnWindowFocus:!1,retry:1}),At=e?uv(e):null,{data:Gt}=Kr({queryKey:["folder-by-id",e??0,(et==null?void 0:et.id)??0],enabled:!!e&&!At,queryFn:async()=>{const Oe=await Tt(`/api/folders/${e}`);return Oe.ok?Oe.json():null},staleTime:3e4}),xt=At??Gt??null,he=e?wV(e):[],{data:ar}=Kr({queryKey:["resolve-db-folder",e??0,(et==null?void 0:et.id)??0],enabled:!!At&&!!At.service_id&&At.parent_id!==null,queryFn:async()=>{const Oe=At.service_id,Ot=await Tt(`/api/folders?service_id=${Oe}`);if(!Ot.ok)return null;const Dt=await Ot.json();if(!Array.isArray(Dt)||Dt.length===0)return null;const ir=he.find(an=>an.parent_id===null)||he[0];let dr=(ir?Dt.find(an=>an.name===ir.name):null)||Dt[0];const en=he.filter(an=>an.parent_id!==null);for(const an of en){const zi=await Tt(`/api/folders?parent_id=${dr.id}`);if(!zi.ok)return null;const Ha=(await zi.json()).find(Fn=>Fn.name===an.name);if(!Ha)return null;dr=Ha}return dr||null},staleTime:3e4}),{data:ke}=Kr({queryKey:["db-root-for-service",(At==null?void 0:At.service_id)??0,(et==null?void 0:et.id)??0],enabled:!!At&&At.parent_id===null&&typeof At.service_id=="number",queryFn:async()=>{const Oe=await Tt(`/api/folders?service_id=${At.service_id}`);if(!Oe.ok)throw new Error("Erreur chargement dossier racine");return Oe.json()},staleTime:3e4}),Le=!!At&&At.parent_id===null,Ze=(ke??[]).map(Oe=>Oe.id).filter(Oe=>typeof Oe=="number"),{data:rt}=Kr({queryKey:["folders-by-parents",Ze.join(","),(et==null?void 0:et.id)??0],enabled:Le&&Ze.length>0,queryFn:async()=>{const Ot=(await Promise.all(Ze.map(async ir=>{const dr=await Tt(`/api/folders?parent_id=${ir}`);return dr.ok?dr.json():[]}))).flat(),Dt=new Map;for(const ir of Ot)typeof ir.id=="number"&&Dt.set(ir.id,ir);return Array.from(Dt.values())},staleTime:1e4}),yt=xt?Le?null:(ar==null?void 0:ar.id)??xt.id:null,{data:Jt}=Kr({queryKey:["folders-by-parent",yt??0,(et==null?void 0:et.id)??0],enabled:typeof yt=="number",queryFn:async()=>{const Oe=await Tt(`/api/folders?parent_id=${yt}`);if(!Oe.ok)throw new Error("Erreur chargement dossiers");return Oe.json()},staleTime:1e4}),fr=Le?rt??[]:typeof yt=="number"?Jt??[]:[],qt=xt?Le?(ke&&((Nv=ke[0])==null?void 0:Nv.id))??null:(ar==null?void 0:ar.id)??xt.id:null,Lr=typeof qt=="number"?it.find(Oe=>Oe.folder_id===qt)??null:null,{data:on=[]}=Kr({queryKey:["documents-by-folder",qt??0,(et==null?void 0:et.id)??0],enabled:typeof qt=="number",queryFn:async()=>{const Oe=await Tt(`/api/documents?folder_id=${qt}`);return Oe.ok?Oe.json():[]},staleTime:1e4,refetchInterval:!1}),Gn=on.map(Oe=>{const Ot=Number(Oe.size_bytes??0),Dt=Ot/1024,ir=Dt/1024,dr=Ot>=1024*1024?`${ir.toFixed(1)} Mo`:`${Math.max(1,Math.ceil(Dt))} Ko`,en=(Oe.mime_type||"").split("/")[1]||"";return{id:Oe.id,name:ye[Oe.id]??Oe.name,folder_id:Oe.folder_id??qt??0,size:dr,created_at:Oe.created_at||new Date().toISOString(),author:Oe.created_by_name||"",type:en}});z.useEffect(()=>{},[et==null?void 0:et.id,a]),z.useEffect(()=>{let Oe=!1,Ot=null;const Dt=()=>{if(Ot){try{URL.revokeObjectURL(Ot)}catch{}Ot=null}};return(async()=>{if(!(!me||!ge)){ot(!0),Ue(null),Te(null),Dt();try{const dr=await Tt(`/api/documents/${ge.id}`);if(dr.ok){const en=await dr.json(),an=en==null?void 0:en.mime_type;Ue(an);const zi=await Tt(xS(`/api/documents/${ge.id}/download?ts=${Date.now()}`),{method:"GET",headers:{Accept:"*/*"},toast:{error:{enabled:!1},success:{enabled:!1}},cache:"no-store"});if(zi.ok)if(an&&an.startsWith("text/")){const Ki=await zi.text();Te(Ki)}else{const Ki=await zi.blob();Ot=URL.createObjectURL(Ki),Oe||vt(Ot)}}}catch{}finally{ot(!1)}}})(),()=>{Oe=!0,Dt()}},[me,ge]);const ni=e?wV(e):[],Hi=new Map((_r??[]).map(Oe=>[Oe.id,Oe.name])),Ao=Oe=>Oe.parent_id===null&&typeof Oe.service_id=="number"?Hi.get(Oe.service_id)??Oe.name:Oe.name,$t=fr.map(Oe=>({...Oe,name:qe[Oe.id]??Ao(Oe)})),xr=(ni.length===0&&xt?[xt]:ni).map(Oe=>({...Oe,name:Ao(Oe)}));(xt==null?void 0:xt.service_id)??(ke&&((Fv=ke[0])==null||Fv.service_id));const hn=(s||"").trim().length>0,mi=Oe=>Oe.normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"").toLowerCase(),no=mi((s||"").trim()),[Ae,Re]=z.useState([]),[Ve,Xe]=z.useState(!1);z.useEffect(()=>{let Oe=!1;return hn&&typeof qt=="number"?(async Dt=>{Xe(!0);try{const ir=[],dr=[Dt],en=new Set,an=2e3;for(;dr.length&&ir.length<an&&!Oe;){const zi=dr.shift();if(en.has(zi))continue;en.add(zi);const Ki=await Tt(`/api/folders?parent_id=${zi}`);if(!Ki.ok)break;const Ha=await Ki.json();for(const Fn of Ha)if(ir.push(Fn),typeof Fn.id=="number"&&dr.push(Fn.id),ir.length>=an)break}Oe||Re(ir)}catch{Oe||Re([])}finally{Oe||Xe(!1)}})(qt):(Re([]),Xe(!1)),()=>{Oe=!0}},[hn,qt]);const wt=hn?Ae:$t,Xt=z.useMemo(()=>{const Oe=new Set((it??[]).map(Dt=>Dt.folder_id)),Ot=wt.filter(Dt=>!Oe.has(Dt.id));return hn?Ot.filter(Dt=>mi(Dt.name).includes(no)):Ot},[hn,no,wt,it]),tr=z.useMemo(()=>hn?Gn.filter(Oe=>mi(Oe.name).includes(no)):Gn,[hn,no,Gn]),Mt=Oe=>{Oe.preventDefault(),Oe.currentTarget.classList.add("border-primary","bg-primary/5")},Ht=Oe=>{Oe.currentTarget.classList.remove("border-primary","bg-primary/5")},Pt=Oe=>{Oe.preventDefault(),Oe.currentTarget.classList.remove("border-primary","bg-primary/5");const Ot=Array.from(Oe.dataTransfer.files);Er.success(`${Ot.length} fichier(s) tlvers(s)`,{description:"Les fichiers ont t ajouts au dossier."})},Bt=async Oe=>{Oe.preventDefault();const Ot=I.trim();if(!Ot)return;let Dt=null,ir=null;if(e!==null&&(typeof qt=="number"?Dt=qt:xt&&typeof xt.id=="number"&&(Dt=xt.id),ir=(xt==null?void 0:xt.service_id)??null,Dt!==null)){const dr=uv(Dt);if(dr&&dr.parent_id===null&&!__e(Dt)&&dr.service_id){const en=Dt;try{const an=await Tt(`/api/folders?service_id=${dr.service_id}`,{toast:{error:{enabled:!1},success:{enabled:!1}}});if(an.ok){const zi=await an.json(),Ki=Array.isArray(zi)?zi.find(Ha=>typeof Ha.id=="number"):null;Ki&&(Dt=Ki.id)}}catch{}Dt===en&&(Dt=null)}}if(e===null&&Dt===null&&(ir=(et==null?void 0:et.service_id)??ir,!ir&&Array.isArray(_r)&&_r.length>0&&(ir=_r[0].id),ir))try{const dr=await Tt(`/api/folders?service_id=${ir}`,{toast:{error:{enabled:!1},success:{enabled:!1}}});if(dr.ok){const en=await dr.json(),an=Array.isArray(en)?en[0]:null;an&&typeof an.id=="number"&&(Dt=an.id)}}catch{}if(Dt===null&&!ir){Er.error("Cration impossible: votre compte n'est pas assign  un service. Contactez l'administrateur.");return}try{const dr=await Tt("/api/folders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:Ot,parent_id:Dt,service_id:ir}),toast:{success:{message:"Dossier cr"}}});if(!dr.ok)throw new Error("Erreur lors de la cration du dossier");const en=await dr.json();x(""),T(!1),Dt!==null&&await a.invalidateQueries({queryKey:["folders-by-parent",Dt,(et==null?void 0:et.id)??0]}),n(en.id)}catch{Er.error("Cration du dossier choue")}},hr=()=>{A.current&&A.current.click()},[Ar,kn]=z.useState(!1),[Jr,Vr]=z.useState("enterprise"),[mn,ms]=z.useState([]),Jo=(Oe,Ot)=>{ms(Dt=>Ot?[...Dt,Oe]:Dt.filter(ir=>ir!==Oe))},ho=!!et&&(et.role==="admin"||et.role==="super_admin")&&typeof qt=="number"&&!Le,qo=async()=>{if(ho)try{const Oe={folder_id:qt,visibility:Jr};if(Jr==="services"&&(Oe.services=mn),!(await Tt("/api/admin/shared-folders/link",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Oe),toast:{success:{message:"Dossier partag"}}})).ok)throw new Error("share_failed");kn(!1),await a.invalidateQueries({queryKey:["shared-folders"]})}catch{}},bl=async()=>{if(!(!ho||!Lr))try{if(!(await Tt(`/api/admin/shared-folders/${Lr.id}`,{method:"DELETE",toast:{success:{message:"Partage retir"}}})).ok)throw new Error("unshare_failed");await a.invalidateQueries({queryKey:["shared-folders"]})}catch{}},Xo=async Oe=>{const Ot=Oe.target.files?Array.from(Oe.target.files):[];if(!Ot.length)return;let Dt=typeof qt=="number"?qt:null;if(Dt===null&&xt&&xt.parent_id===null&&typeof xt.service_id=="number")try{const ir=await Tt(`/api/folders?service_id=${xt.service_id}`);if(ir.ok){const dr=await ir.json();Array.isArray(dr)&&dr.length>0&&(Dt=dr[0].id)}}catch{}if(typeof Dt!="number"){Er.error("Veuillez slectionner un dossier avant de tlverser"),Oe.target.value="";return}try{W(!0),le(0);const ir=Ot.reduce((Fn,Zc)=>Fn+(Zc.size||0),0)||1,dr=new Map,en=()=>{const Fn=Array.from(dr.values()).reduce(($c,Zo)=>$c+Zo,0),Zc=Math.min(100,Math.max(0,Math.round(Fn/ir*100)));le(Zc)},an=Fn=>new Promise((Zc,$c)=>{const Zo=new XMLHttpRequest;Zo.open("POST","/api/documents"),Zo.withCredentials=!0,Zo.responseType="json",Zo.upload.onprogress=Lv=>{const Tl=Lv.lengthComputable?Lv.loaded:0;dr.set(Fn.name+"|"+Fn.size,Tl),H(Fn.name),en()},Zo.onload=()=>{Zo.status>=200&&Zo.status<300?(dr.set(Fn.name+"|"+Fn.size,Fn.size||0),en(),Zc()):$c(new Error("upload_failed"))},Zo.onerror=()=>$c(new Error("network_error"));const ys=new FormData;ys.append("file",Fn),ys.append("folder_id",String(Dt)),ys.append("name",Fn.name),Zo.send(ys)}),Ki=(await Promise.allSettled(Ot.map(Fn=>an(Fn)))).filter(Fn=>Fn.status==="fulfilled").length;Ki>0&&(await a.invalidateQueries({queryKey:["documents-by-folder",Dt,(et==null?void 0:et.id)??0]}),await a.refetchQueries({queryKey:["documents-by-folder",Dt,(et==null?void 0:et.id)??0]}));const Ha=Ot.length-Ki;Ha===0?Er.success(`${Ki} fichier(s) tlvers(s)`):Ki>0?Er.info(`${Ki} tlvers(s), ${Ha} chec(s)`):Er.error(`chec du tlversement (${Ha})`)}catch{Er.error("chec du tlversement")}finally{Oe.target.value="",setTimeout(()=>{W(!1),le(0),H("")},400)}},gs=Oe=>{O(Ot=>Ot.includes(Oe)?Ot.filter(Dt=>Dt!==Oe):[...Ot,Oe])},Cl=Oe=>{k(Ot=>Ot.includes(Oe)?Ot.filter(Dt=>Dt!==Oe):[...Ot,Oe])},$s=(Oe,Ot)=>{Ee({id:Oe,name:Ot}),we(!0),Se(1)},Rr=(Oe,Ot)=>{const Dt=document.createElement("a");Dt.href=xS(`/api/documents/${Oe}/download`),Dt.download=Ot,document.body.appendChild(Dt),Dt.click(),document.body.removeChild(Dt)},pn=async Oe=>{try{if(!(await Tt(`/api/documents/${Oe}`,{method:"DELETE",toast:{success:{enabled:!0,message:"Document supprim"},error:{enabled:!0,message:"chec de la suppression"}}})).ok)throw new Error("delete_failed");typeof qt=="number"&&await a.invalidateQueries({queryKey:["documents-by-folder",qt,(et==null?void 0:et.id)??0]})}catch{}},eu=(Oe,Ot)=>{pe(Oe),ce(Ot),_(!0)},vs=(Oe,Ot)=>{or({id:Oe,name:Ot});const ir=(ye[Oe]??Ot).replace(/\.[^.]+$/,"");nn(ir),Vt(!0)},Nn=(Oe,Ot)=>{Yr({id:Oe,name:Ot}),nn(qe[Oe]??Ot),ur(!0)},tu=Oe=>{if(Oe.preventDefault(),!jt)return;const Ot=rn.trim();Ot&&(async()=>{try{if(!(await Tt(`/api/documents/${jt.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:Ot}),toast:{success:{enabled:!0,message:"Document renomm"},error:{enabled:!0,message:"chec du renommage"}}})).ok)throw new Error("rename_failed");typeof qt=="number"&&await a.invalidateQueries({queryKey:["documents-by-folder",qt,(et==null?void 0:et.id)??0]})}catch{return}finally{Vt(!1),or(null)}})()},Xc=Oe=>{if(Oe.preventDefault(),!fn)return;const Ot=rn.trim();Ot&&(async()=>{try{if(!(await Tt(`/api/folders/${fn.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:Ot}),toast:{success:{enabled:!0,message:"Dossier renomm"},error:{enabled:!0,message:"chec du renommage"}}})).ok)throw new Error("rename_failed");ut(dr=>({...dr,[fn.id]:void 0}));const ir=typeof yt=="number"?yt:void 0;typeof ir=="number"&&await a.invalidateQueries({queryKey:["folders-by-parent",ir,(et==null?void 0:et.id)??0]}),Le&&await a.invalidateQueries({queryKey:["folders-by-parents"]})}catch{return}finally{ur(!1),Yr(null)}})()},Ap=async(Oe,Ot)=>{try{const Dt=await Tt(`/api/folders/${Oe}`,{method:"DELETE",toast:{success:{enabled:!0,message:"Dossier supprim"},error:{enabled:!0,message:"chec de la suppression"}}});if(!Dt.ok)if(Dt.status===405){if(!(await Tt("/api/folders/delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:Oe}),toast:{success:{enabled:!0,message:"Dossier supprim"},error:{enabled:!0,message:"chec de la suppression"}}})).ok)throw new Error("delete_failed")}else throw new Error("delete_failed");const ir=typeof yt=="number"?yt:void 0;typeof ir=="number"&&await a.invalidateQueries({queryKey:["folders-by-parent",ir,(et==null?void 0:et.id)??0]}),Le&&await a.invalidateQueries({queryKey:["folders-by-parents"]})}catch{}},Eb=async()=>{if(E.length===0&&L.length===0){Er.info("Slectionnez des dossiers ou documents  supprimer");return}const Oe=[];L.length>0&&Oe.push(`${L.length} dossier(s)`),E.length>0&&Oe.push(`${E.length} document(s)`);const Ot=Oe.join(" et ");if(window.confirm(`Voulez-vous supprimer dfinitivement ${Ot} ?`))try{const ir=new Set(L),dr=E.filter(en=>{const an=Gn.find(zi=>zi.id===en);return an?!ir.has(an.folder_id??-1):!0});for(const en of dr)if(!(await Tt(`/api/documents/${en}`,{method:"DELETE"})).ok)throw new Error("delete_doc_failed");for(const en of L)if(!(await Tt(`/api/folders/${en}`,{method:"DELETE"})).ok)throw new Error("delete_folder_failed");typeof qt=="number"&&(await a.invalidateQueries({queryKey:["documents-by-folder",qt,(et==null?void 0:et.id)??0]}),await a.invalidateQueries({queryKey:["folders-by-parent",qt,(et==null?void 0:et.id)??0]})),O([]),k([]),R(!1),Er.success("Suppression effectue")}catch{Er.error("chec de la suppression")}};return w.jsxs("div",{className:"flex-1 flex flex-col h-full min-h-0",children:[w.jsx("div",{className:"border-b border-border bg-card/50 backdrop-blur-sm shrink-0",children:w.jsxs("div",{className:"p-4 space-y-4",children:[w.jsxs("div",{className:"flex items-center justify-between gap-4",children:[w.jsxs("div",{className:"flex-1 relative",children:[w.jsx(cpe,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),w.jsx(Ur,{placeholder:"Rechercher un dossier ou document...",value:s,onChange:Oe=>f(Oe.target.value),className:"pl-10"})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[ho&&(Lr?w.jsx(dt,{variant:"destructive",size:"sm",type:"button",onClick:bl,title:"Retirer du partage (ne supprime pas le dossier sur le disque)",children:"Retirer du partage"}):w.jsx(dt,{variant:"outline",size:"sm",type:"button",onClick:()=>kn(!0),title:"Partager ce dossier (sans supprimer/crer sur le disque)",children:"Partager"})),w.jsxs(dt,{variant:"outline",size:"sm",type:"button",onClick:()=>T(!0),children:[w.jsx(ope,{className:"w-4 h-4 md:mr-2"}),w.jsx("span",{className:"hidden md:inline",children:"Nouveau dossier"})]}),w.jsxs(dt,{variant:"outline",size:"sm",type:"button",onClick:hr,children:[w.jsx(A4,{className:"w-4 h-4 md:mr-2"}),w.jsx("span",{className:"hidden md:inline",children:"Tlverser"})]}),w.jsxs(dt,{variant:"outline",size:"sm",type:"button",onClick:()=>Nt(!0),children:[w.jsx(lpe,{className:"w-4 h-4 md:mr-2"}),w.jsx("span",{className:"hidden md:inline",children:"Scanner"})]}),w.jsx(dt,{variant:P?"default":"outline",size:"sm",type:"button",onClick:()=>{P?E.length>0||L.length>0?Eb():R(!1):(R(!0),O([]),k([]))},children:P&&(E.length>0||L.length>0)?w.jsxs(w.Fragment,{children:[w.jsx(SD,{className:"w-4 h-4 md:mr-2"}),w.jsx("span",{className:"hidden md:inline",children:"Supprimer"})]}):w.jsxs(w.Fragment,{children:[w.jsx(dH,{className:"w-4 h-4 md:mr-2"}),w.jsx("span",{className:"hidden md:inline",children:"Slectionner"})]})})]})]}),N&&w.jsxs("div",{className:"space-y-2",children:[w.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[w.jsxs("span",{className:"truncate",title:$||void 0,children:["Tlversement ",$&&w.jsx(w.Fragment,{children:w.jsx("span",{className:"text-foreground",children:$})})]}),w.jsxs("span",{"aria-live":"polite",children:[G,"%"]})]}),w.jsx("div",{className:"w-full h-2 bg-muted rounded overflow-hidden",children:w.jsx("div",{className:"h-2 bg-primary transition-all",style:{width:`${G}%`},"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":G,role:"progressbar","aria-label":"Progression du tlversement"})})]}),w.jsx(sbe,{path:xr,onNavigate:n})]})}),w.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto overflow-x-hidden p-6",onDragOver:Mt,onDragLeave:Ht,onDrop:Pt,children:fr.length===0&&Gn.length===0?w.jsx("div",{className:"h-full flex items-center justify-center",children:w.jsxs("div",{className:"text-center space-y-3",children:[w.jsx("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center mx-auto",children:w.jsx(A4,{className:"w-8 h-8 text-muted-foreground"})}),w.jsx("h3",{className:"text-lg font-medium",children:"Ce dossier est vide"}),w.jsx("p",{className:"text-sm text-muted-foreground max-w-sm",children:'Glissez-dposez des fichiers ici ou utilisez le bouton "Tlverser"'})]})}):w.jsxs("div",{className:"space-y-6",children:[Xt.length>0&&w.jsx("div",{children:w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:Xt.map(Oe=>w.jsx(ibe,{folder:{...Oe,name:qe[Oe.id]??Oe.name},onClick:()=>n(Oe.id),onRename:()=>Nn(Oe.id,Oe.name),onDelete:()=>Ap(Oe.id,Oe.name),selectionMode:P,selected:L.includes(Oe.id),onToggleSelect:()=>Cl(Oe.id)},Oe.id))})}),tr.length>0&&w.jsx("div",{children:w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 space-y-2",children:tr.map(Oe=>w.jsx(abe,{document:Oe,selectionMode:P,selected:E.includes(Oe.id),onToggleSelect:()=>gs(Oe.id),onView:()=>$s(Oe.id,Oe.name),onShare:()=>eu(Oe.id,Oe.name),onDownload:()=>Rr(Oe.id,Oe.name),onDelete:()=>pn(Oe.id),onRename:()=>vs(Oe.id,Oe.name)},Oe.id))})}),hn&&Xt.length===0&&tr.length===0&&w.jsxs("div",{className:"text-sm text-muted-foreground p-8 text-center",children:["Aucun rsultat pour  ",s," "]})]})}),w.jsx("input",{ref:A,type:"file",multiple:!0,className:"hidden",onChange:Xo}),ho&&w.jsx(eo,{open:Ar,onOpenChange:kn,children:w.jsxs(Bi,{children:[w.jsxs(Ui,{children:[w.jsx(Vi,{children:"Partager ce dossier"}),w.jsx(to,{children:"Dfinissez la visibilit de ce dossier partag."})]}),w.jsxs("div",{className:"space-y-3 text-sm",children:[w.jsxs("div",{className:"space-y-1",children:[w.jsx("p",{className:"text-xs font-medium",children:"Visibilit"}),w.jsxs("select",{className:"border rounded-md px-3 py-2 text-xs w-full",value:Jr,onChange:Oe=>Vr(Oe.target.value),children:[w.jsx("option",{value:"enterprise",children:"Toute l'entreprise"}),w.jsx("option",{value:"services",children:"Services slectionns"})]})]}),Jr==="services"&&w.jsxs("div",{className:"border rounded-md p-3 space-y-2",children:[w.jsx("p",{className:"text-xs font-medium",children:"Services autoriss"}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:Et.map(Oe=>{const Ot=mn.includes(Oe.id);return w.jsxs("label",{className:"flex items-center gap-2 text-xs",children:[w.jsx(vp,{checked:Ot,onCheckedChange:Dt=>Jo(Oe.id,!!Dt)}),w.jsx("span",{children:Oe.name})]},Oe.id)})})]})]}),w.jsxs(Au,{children:[w.jsx(dt,{variant:"outline",onClick:()=>kn(!1),children:"Annuler"}),w.jsx(dt,{onClick:qo,children:"Partager"})]})]})}),w.jsx(Nbe,{isOpen:at,onClose:()=>Nt(!1),folderId:typeof qt=="number"?qt:null,serviceId:typeof(xt==null?void 0:xt.service_id)=="number"?xt.service_id:null,onUploaded:async Oe=>{if(typeof qt!="number")return;const Ot=["documents-by-folder",qt,(et==null?void 0:et.id)??0];Oe&&typeof Oe.id=="number"&&a.setQueryData(Ot,Dt=>{const ir=Array.isArray(Dt)?Dt:[];return ir.some(dr=>Number(dr==null?void 0:dr.id)===Number(Oe.id))?ir:[Oe,...ir]}),await a.invalidateQueries({queryKey:Ot}),await a.refetchQueries({queryKey:Ot})}}),w.jsx(eo,{open:y,onOpenChange:T,children:w.jsxs(Bi,{children:[w.jsxs(Ui,{children:[w.jsx(Vi,{children:"Nouveau dossier"}),w.jsx(to,{children:"Saisissez le nom du nouveau dossier puis validez pour le crer."})]}),w.jsxs("form",{onSubmit:Bt,className:"space-y-4",children:[w.jsx(Ur,{autoFocus:!0,placeholder:"Nom du dossier",value:I,onChange:Oe=>x(Oe.target.value)}),w.jsxs(Au,{className:"flex justify-end gap-2",children:[w.jsx(dt,{type:"button",variant:"outline",onClick:()=>T(!1),children:"Annuler"}),w.jsx(dt,{type:"submit",children:"Crer"})]})]})]})}),w.jsx(eo,{open:lt,onOpenChange:Vt,children:w.jsxs(Bi,{children:[w.jsxs(Ui,{children:[w.jsx(Vi,{children:"Renommer le document"}),w.jsx(to,{children:"Entrez le nouveau nom pour ce document puis validez pour renommer."})]}),w.jsxs("form",{onSubmit:tu,className:"space-y-4",children:[w.jsx(Ur,{autoFocus:!0,placeholder:"Nouveau nom",value:rn,onChange:Oe=>nn(Oe.target.value)}),w.jsxs(Au,{className:"flex justify-end gap-2",children:[w.jsx(dt,{type:"button",variant:"outline",onClick:()=>Vt(!1),children:"Annuler"}),w.jsx(dt,{type:"submit",children:"Renommer"})]})]})]})}),w.jsx(eo,{open:zt,onOpenChange:ur,children:w.jsxs(Bi,{children:[w.jsxs(Ui,{children:[w.jsx(Vi,{children:"Renommer le dossier"}),w.jsx(to,{children:"Entrez le nouveau nom pour ce dossier puis validez pour renommer."})]}),w.jsxs("form",{onSubmit:Xc,className:"space-y-4",children:[w.jsx(Ur,{autoFocus:!0,placeholder:"Nouveau nom",value:rn,onChange:Oe=>nn(Oe.target.value)}),w.jsxs(Au,{className:"flex justify-end gap-2",children:[w.jsx(dt,{type:"button",variant:"outline",onClick:()=>ur(!1),children:"Annuler"}),w.jsx(dt,{type:"submit",children:"Renommer"})]})]})]})}),w.jsx(Sbe,{isOpen:h,onClose:()=>_(!1),folderName:se||((Ov=xr[xr.length-1])==null?void 0:Ov.name)||"Document",folderId:ie||e||0}),w.jsx(eo,{open:me,onOpenChange:Oe=>{we(Oe),Oe||Se(1)},children:w.jsxs(Bi,{className:"max-w-3xl w-full h-[100vh] flex flex-col",children:[w.jsxs(Ui,{children:[w.jsx(Vi,{children:"Prvisualisation"}),w.jsx(to,{children:(Mv=ge==null?void 0:ge.name)==null?void 0:Mv.replace(/\.[^.]+$/,"")})]}),w.jsxs("div",{className:"flex items-center justify-between pb-2",children:[w.jsx("div",{className:"text-xs text-muted-foreground",children:_e!=null&&_e.includes("pdf")||_e!=null&&_e.startsWith("image/")?"Zoom disponible":""}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(dt,{type:"button",variant:"outline",size:"sm",onClick:()=>Se(Oe=>Math.max(.5,parseFloat((Oe-.1).toFixed(2)))),disabled:!(_e!=null&&_e.includes("pdf")||_e!=null&&_e.startsWith("image/")),children:""}),w.jsxs("span",{className:"text-xs w-10 text-center",children:[Math.round(bt*100),"%"]}),w.jsx(dt,{type:"button",variant:"outline",size:"sm",onClick:()=>Se(Oe=>Math.min(3,parseFloat((Oe+.1).toFixed(2)))),disabled:!(_e!=null&&_e.includes("pdf")||_e!=null&&_e.startsWith("image/")),children:"+"}),w.jsx(dt,{type:"button",variant:"ghost",size:"sm",onClick:()=>Se(1),disabled:!(_e!=null&&_e.includes("pdf")||_e!=null&&_e.startsWith("image/")),children:"Rinitialiser"})]})]}),w.jsxs("div",{className:"flex-1 overflow-auto rounded border bg-background p-2",children:[Be&&w.jsx("div",{className:"text-sm text-muted-foreground",children:"Chargement"}),!Be&&ge&&(_e!=null&&_e.startsWith("text/")&&xe!==null?w.jsx("pre",{className:"w-full h-full overflow-auto p-4 bg-muted rounded text-sm whitespace-pre-wrap break-words",children:xe}):tt?_e!=null&&_e.startsWith("image/")?w.jsx("div",{className:"w-full h-full",style:{transform:`scale(${bt})`,transformOrigin:"top left"},children:w.jsx("img",{src:tt,alt:ge.name,className:"max-w-full h-auto object-contain"})}):_e!=null&&_e.startsWith("video/")?w.jsx("video",{src:tt,controls:!0,className:"w-full h-full"}):_e!=null&&_e.startsWith("audio/")?w.jsx("audio",{src:tt,controls:!0,className:"w-full"}):_e!=null&&_e.includes("pdf")?w.jsx("div",{className:"w-full",style:{transform:`scale(${bt})`,transformOrigin:"top left"},children:w.jsx("object",{data:tt,type:"application/pdf",className:"w-full h-[1200px] border rounded",children:w.jsx("a",{href:tt,target:"_blank",rel:"noreferrer",children:"Ouvrir le PDF"})})}):w.jsx("iframe",{src:tt,title:ge.name,className:"w-full h-full border rounded"}):w.jsx("div",{className:"text-sm text-muted-foreground",children:"Prparation de laperu"}))]}),w.jsxs(Au,{className:"mt-2",children:[w.jsx(dt,{type:"button",variant:"outline",onClick:()=>we(!1),children:"Fermer"}),ge&&w.jsx(dt,{type:"button",onClick:()=>Rr(ge.id,ge.name),children:"Tlcharger"})]})]})})]})},Obe=({tabs:e,activeTab:n,onTabChange:a,onTabClose:s,onFolderClick:f})=>{const{user:h}=ps(),{data:_}=Kr({queryKey:["visible-services",(h==null?void 0:h.id)??0],queryFn:async()=>{const T=await Tt("/api/services/visible");if(!T.ok)throw new Error("Erreur chargement services visibles");return T.json()},staleTime:6e4}),y=T=>{const I=uv(T.folderId);if(I&&I.parent_id===null){const x=(_??[]).find(A=>A.id===I.service_id);if(x!=null&&x.name)return x.name}return T.folderName};return e.length===0?w.jsx("div",{className:"flex-1 flex items-center justify-center bg-muted/20",children:w.jsxs("div",{className:"text-center space-y-3",children:[w.jsx("h3",{className:"text-xl font-semibold",children:"Bienvenue dans votre espace documentaire"}),w.jsx("p",{className:"text-muted-foreground",children:"Slectionnez un dossier dans la barre latrale pour commencer"})]})}):w.jsxs(L_e,{value:n,onValueChange:a,className:"flex-1 flex flex-col min-h-0 overflow-hidden",children:[w.jsx(qz,{className:"w-full justify-start rounded-none border-b bg-transparent h-auto p-0 gap-0 overflow-x-auto",children:e.map(T=>w.jsxs(Xz,{value:T.id.toString(),className:"relative rounded-none border-r border-transparent hover:bg-muted/50 data-[state=active]:bg-card data-[state=active]:border-b-2 data-[state=active]:border-b-primary px-4 py-3 gap-2",children:[w.jsx("span",{className:"max-w-[150px] truncate",children:y(T)}),w.jsx("span",{role:"button",tabIndex:0,onClick:I=>{I.stopPropagation(),s(T.id)},onKeyDown:I=>{(I.key==="Enter"||I.key===" ")&&(I.preventDefault(),I.stopPropagation(),s(T.id))},className:"ml-2 hover:bg-muted rounded-sm p-0.5 transition-colors cursor-pointer","aria-label":"Fermer l'onglet",children:w.jsx(Tv,{className:"w-3 h-3"})})]},T.id))}),e.map(T=>w.jsx(Zz,{value:T.id.toString(),className:"flex flex-col flex-1 min-h-0 h-full m-0 data-[state=inactive]:hidden overflow-hidden",children:w.jsx(Fbe,{folderId:T.folderId,onFolderClick:f})},T.id))]})};var Z7={exports:{}},$7={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yp=z;function Mbe(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Lbe=typeof Object.is=="function"?Object.is:Mbe,Wbe=yp.useState,jbe=yp.useEffect,Bbe=yp.useLayoutEffect,Ube=yp.useDebugValue;function Vbe(e,n){var a=n(),s=Wbe({inst:{value:a,getSnapshot:n}}),f=s[0].inst,h=s[1];return Bbe(function(){f.value=a,f.getSnapshot=n,Gx(f)&&h({inst:f})},[e,a,n]),jbe(function(){return Gx(f)&&h({inst:f}),e(function(){Gx(f)&&h({inst:f})})},[e]),Ube(a),a}function Gx(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!Lbe(e,a)}catch{return!0}}function Gbe(e,n){return n()}var Hbe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Gbe:Vbe;$7.useSyncExternalStore=yp.useSyncExternalStore!==void 0?yp.useSyncExternalStore:Hbe;Z7.exports=$7;var zbe=Z7.exports;function Kbe(){return zbe.useSyncExternalStore(Qbe,()=>!0,()=>!1)}function Qbe(){return()=>{}}var fP="Avatar",[Ybe,FCe]=Va(fP),[Jbe,e9]=Ybe(fP),t9=z.forwardRef((e,n)=>{const{__scopeAvatar:a,...s}=e,[f,h]=z.useState("idle");return w.jsx(Jbe,{scope:a,imageLoadingStatus:f,onImageLoadingStatusChange:h,children:w.jsx(yr.span,{...s,ref:n})})});t9.displayName=fP;var r9="AvatarImage",n9=z.forwardRef((e,n)=>{const{__scopeAvatar:a,src:s,onLoadingStatusChange:f=()=>{},...h}=e,_=e9(r9,a),y=qbe(s,h),T=Sa(I=>{f(I),_.onImageLoadingStatusChange(I)});return hs(()=>{y!=="idle"&&T(y)},[y,T]),y==="loaded"?w.jsx(yr.img,{...h,ref:n,src:s}):null});n9.displayName=r9;var i9="AvatarFallback",o9=z.forwardRef((e,n)=>{const{__scopeAvatar:a,delayMs:s,...f}=e,h=e9(i9,a),[_,y]=z.useState(s===void 0);return z.useEffect(()=>{if(s!==void 0){const T=window.setTimeout(()=>y(!0),s);return()=>window.clearTimeout(T)}},[s]),_&&h.imageLoadingStatus!=="loaded"?w.jsx(yr.span,{...f,ref:n}):null});o9.displayName=i9;function o5(e,n){return e?n?(e.src!==n&&(e.src=n),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function qbe(e,{referrerPolicy:n,crossOrigin:a}){const s=Kbe(),f=z.useRef(null),h=s?(f.current||(f.current=new window.Image),f.current):null,[_,y]=z.useState(()=>o5(h,e));return hs(()=>{y(o5(h,e))},[h,e]),hs(()=>{const T=A=>()=>{y(A)};if(!h)return;const I=T("loaded"),x=T("error");return h.addEventListener("load",I),h.addEventListener("error",x),n&&(h.referrerPolicy=n),typeof a=="string"&&(h.crossOrigin=a),()=>{h.removeEventListener("load",I),h.removeEventListener("error",x)}},[h,a,n]),_}var a9=t9,s9=n9,u9=o9;const l9=z.forwardRef(({className:e,...n},a)=>w.jsx(a9,{ref:a,className:pr("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...n}));l9.displayName=a9.displayName;const c9=z.forwardRef(({className:e,...n},a)=>w.jsx(s9,{ref:a,className:pr("aspect-square h-full w-full",e),...n}));c9.displayName=s9.displayName;const d9=z.forwardRef(({className:e,...n},a)=>w.jsx(u9,{ref:a,className:pr("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...n}));d9.displayName=u9.displayName;const Hx=768;function Xbe(){const[e,n]=z.useState(void 0);return z.useEffect(()=>{const a=window.matchMedia(`(max-width: ${Hx-1}px)`),s=()=>{n(window.innerWidth<Hx)};return a.addEventListener("change",s),n(window.innerWidth<Hx),()=>a.removeEventListener("change",s)},[]),!!e}const wb=({onOpenMobileSidebar:e,currentFolderId:n})=>{var P;const{user:a,logout:s}=ps(),f=Xbe(),h=Dv(),_=async()=>{await s(),h("/login",{replace:!0})},y=a&&a.role!=="super_admin"?a.enterprise_name??(a.enterprise_id?((P=HD.find(R=>R.id===a.enterprise_id))==null?void 0:P.name)??null:null):null,I=a?(R=>{const E={agent:{label:"Agent",color:"bg-muted text-muted-foreground"},admin:{label:"Administrateur",color:"bg-blue-500/10 text-blue-600"},super_admin:{label:"Super admin",color:"bg-primary/10 text-primary"}};return E[R]||E.agent})(a.role):null,{data:x=[],isLoading:A}=Kr({queryKey:["recent-uploads",(a==null?void 0:a.id)??0,n??null],enabled:!!a,queryFn:async()=>{const R=new URLSearchParams;R.set("limit","5"),typeof n=="number"&&R.set("folder_id",String(n));const E=await Tt(`/api/documents/recent?${R.toString()}`,{toast:{error:{enabled:!1}}});return E.ok?E.json():[]},staleTime:15e3});return w.jsx("header",{className:"h-16 border-b bg-card/70 backdrop-blur-sm sticky top-0 z-20",children:w.jsxs("div",{className:"h-full px-4 md:px-6 flex items-center justify-between gap-3",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[f&&w.jsx(dt,{variant:"ghost",size:"icon",className:"md:hidden",onClick:e,"aria-label":"Ouvrir le menu",children:w.jsx(rb,{className:"w-5 h-5"})}),w.jsx("img",{src:"/logo-archi.png",alt:"ArchiDrive",className:"h-16 w-16 object-contain"}),y&&w.jsx("div",{className:"hidden sm:flex flex-col leading-tight",children:w.jsx("span",{className:"text-sm font-semibold truncate max-w-[180px]",children:y})})]}),w.jsxs("div",{className:"flex items-center gap-3",children:[a&&w.jsxs(RS,{children:[w.jsx(kS,{asChild:!0,children:w.jsxs(dt,{variant:"ghost",size:"icon",className:"relative","aria-label":"Notifications",children:[w.jsx(qhe,{className:"w-5 h-5"}),x.length>0&&w.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-primary rounded-full"})]})}),w.jsxs(dv,{align:"end",className:"w-80",children:[w.jsx(m1,{children:"Derniers tlversements"}),w.jsx(z0,{}),A&&w.jsx(ss,{disabled:!0,children:"Chargement"}),!A&&x.length===0&&w.jsx(ss,{disabled:!0,children:"Aucun tlversement rcent"}),!A&&x.map(R=>w.jsxs(ss,{onSelect:E=>{E.preventDefault(),h(`/documents/${R.id}`)},className:"flex flex-col items-start gap-0.5",children:[w.jsx("span",{className:"text-sm font-medium truncate w-full",children:R.name}),w.jsxs("span",{className:"text-xs text-muted-foreground truncate w-full",children:[R.created_by_name?`Par ${R.created_by_name}`:"Par ",R.created_at?`  ${new Date(R.created_at).toLocaleString("fr-FR")}`:""]})]},R.id))]})]}),w.jsxs(RS,{children:[w.jsx(kS,{asChild:!0,children:w.jsxs(dt,{variant:"ghost",className:"flex items-center gap-3 h-auto py-2 px-3",children:[w.jsxs(l9,{className:"w-8 h-8",children:[w.jsx(c9,{src:a==null?void 0:a.avatar}),w.jsx(d9,{children:a==null?void 0:a.name.split(" ").map(R=>R[0]).join("")})]}),w.jsxs("div",{className:"text-left hidden md:block",children:[w.jsx("p",{className:"text-sm font-medium",children:a==null?void 0:a.name}),I&&w.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${I.color}`,children:I.label})]})]})}),w.jsxs(dv,{align:"end",className:"w-56",children:[w.jsx(m1,{children:w.jsxs("div",{children:[w.jsx("p",{className:"font-medium",children:a==null?void 0:a.name}),w.jsx("p",{className:"text-xs text-muted-foreground",children:a==null?void 0:a.email}),w.jsx("p",{className:"text-md mt-2 text-black",children:a==null?void 0:a.service_name})]})}),w.jsx(z0,{}),w.jsxs(ss,{onSelect:R=>{R.preventDefault(),h("/profile")},children:[w.jsx(fH,{className:"w-4 h-4 mr-2"}),"Profil"]}),w.jsx(z0,{}),w.jsxs(ss,{className:"text-destructive",onSelect:R=>{R.preventDefault(),_()},children:[w.jsx(upe,{className:"w-4 h-4 mr-2"}),"Dconnexion"]})]})]})]})]})})},Zbe=F8,$be=O8,f9=z.forwardRef(({className:e,...n},a)=>w.jsx(vb,{className:pr("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...n,ref:a}));f9.displayName=vb.displayName;const eCe=tb("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),h9=z.forwardRef(({side:e="right",className:n,children:a,...s},f)=>w.jsxs($be,{children:[w.jsx(f9,{}),w.jsxs(yb,{ref:f,className:pr(eCe({side:e}),n),...s,children:[a,w.jsxs(M8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[w.jsx(Tv,{className:"h-4 w-4"}),w.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));h9.displayName=yb.displayName;const p9=({className:e,...n})=>w.jsx("div",{className:pr("flex flex-col space-y-2 text-center sm:text-left",e),...n});p9.displayName="SheetHeader";const m9=z.forwardRef(({className:e,...n},a)=>w.jsx(_b,{ref:a,className:pr("text-lg font-semibold text-foreground",e),...n}));m9.displayName=_b.displayName;const g9=z.forwardRef(({className:e,...n},a)=>w.jsx(Sb,{ref:a,className:pr("text-sm text-muted-foreground",e),...n}));g9.displayName=Sb.displayName;const tCe=()=>{var N;const[e,n]=z.useState([]),[a,s]=z.useState(""),[f,h]=z.useState(null),[_,y]=z.useState(null),[T,I]=z.useState(!1),{user:x}=ps(),A=x&&x.role!=="super_admin"?x.enterprise_name??(x.enterprise_id?((N=HD.find(W=>W.id===x.enterprise_id))==null?void 0:N.name)??null:null):null,{data:P=[]}=Kr({queryKey:["shared-folders",(x==null?void 0:x.id)??0],queryFn:async()=>{const W=await Tt("/api/shared-folders/visible");return W.ok?W.json():[]},staleTime:3e4}),[R,E]=z.useState({});z.useEffect(()=>{if(typeof f!="number")return;const W=(P||[]).find(G=>G.folder_id===f);W&&E(G=>typeof G[W.id]=="boolean"?G:{...G,[W.id]:!0})},[f,P]);const O=async W=>{f!==null&&y(f),h(W);const G=e.find(le=>le.folderId===W);if(G)s(G.id.toString());else{const le=uv(W);if(le){const $={id:Date.now(),folderId:le.id,folderName:le.name,parentId:le.parent_id};n(H=>[...H,$]),s($.id.toString())}else try{const $=await Tt(`/api/folders/${W}`,{toast:{error:{enabled:!1},success:{enabled:!1}}});if($.ok){const H=await $.json(),ie={id:Date.now(),folderId:W,folderName:(H==null?void 0:H.name)??`Dossier #${W}`,parentId:H&&typeof H.parent_id=="number"?H.parent_id:null};n(pe=>[...pe,ie]),s(ie.id.toString())}else{const H={id:Date.now(),folderId:W,folderName:`Dossier #${W}`,parentId:null};n(ie=>[...ie,H]),s(H.id.toString())}}catch{const $={id:Date.now(),folderId:W,folderName:`Dossier #${W}`,parentId:null};n(H=>[...H,$]),s($.id.toString())}}},L=W=>{const G=e.find($=>$.id===W);G&&y(G.folderId);const le=e.filter($=>$.id!==W);n(le),a===W.toString()&&(le.length>0?s(le[le.length-1].id.toString()):(s(""),h(null)))},k=W=>{const G=e.find(le=>le.folderId===W);G&&L(G.id)};return w.jsxs("div",{className:"h-screen overflow-hidden flex flex-col bg-background",children:[w.jsx(wb,{onOpenMobileSidebar:()=>I(!0),currentFolderId:f}),w.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[w.jsx("div",{className:"hidden md:block",children:w.jsx(C_e,{onFolderClick:O,currentFolderId:f,collapseFolderId:_,onCloseTabByFolderId:k})}),w.jsx("div",{className:"flex-1 flex flex-col min-h-0 overflow-hidden",children:w.jsx(Obe,{tabs:e,activeTab:a,onTabChange:s,onTabClose:L,onFolderClick:O})})]}),w.jsx(Zbe,{open:T,onOpenChange:I,children:w.jsxs(h9,{side:"left",className:"p-0 bg-gradient-to-b from-slate-900 via-slate-800 to-slate-900/90 text-slate-100",children:[w.jsxs(p9,{children:[w.jsx(m9,{className:"sr-only",children:"Navigation"}),w.jsx(g9,{className:"sr-only",children:"Menu latral de navigation"})]}),w.jsxs("div",{className:"h-full flex flex-col",children:[w.jsxs("div",{className:"border-b border-slate-700/60 px-4 h-16 flex items-center gap-2",children:[w.jsx("img",{src:"/logo-archi.png",alt:"ArchiDrive",className:"h-6 w-6 object-contain"}),w.jsx("span",{className:"text-sm font-semibold tracking-tight",children:A??"Navigation"})]}),w.jsxs("div",{className:"flex-1 overflow-y-auto px-2 py-4",children:[P.length>0&&w.jsx("div",{className:"mb-0",children:w.jsx("div",{className:"mt-2 space-y-1",children:P.map(W=>{const G=f===W.folder_id,le=!!R[W.id];return w.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg cursor-pointer transition-all ${le||G?"bg-blue-100 text-blue-700 font-medium":"text-slate-100 hover:bg-blue-100 hover:text-blue-700"}`,onClick:()=>{le?(E($=>({...$,[W.id]:!1})),k(W.folder_id)):(E($=>({...$,[W.id]:!0})),O(W.folder_id),I(!1))},title:W.name,children:[le?w.jsx(ev,{className:"w-4 h-4"}):w.jsx(tv,{className:"w-4 h-4"}),w.jsx("span",{className:"text-sm truncate",children:W.name})]},W.id)})})}),w.jsx(Rz,{onFolderClick:W=>{O(W),I(!1)},currentFolderId:f,externalCollapseId:_,onCloseTabByFolderId:k})]})]})]})})]})},rCe=()=>{const e=db();return z.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),w.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:w.jsxs("div",{className:"text-center",children:[w.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),w.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),w.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},Pn=z.forwardRef(({className:e,...n},a)=>w.jsx("div",{ref:a,className:pr("rounded-lg border bg-card text-card-foreground shadow-sm",e),...n}));Pn.displayName="Card";const hi=z.forwardRef(({className:e,...n},a)=>w.jsx("div",{ref:a,className:pr("flex flex-col space-y-1.5 p-6",e),...n}));hi.displayName="CardHeader";const pi=z.forwardRef(({className:e,...n},a)=>w.jsx("h3",{ref:a,className:pr("text-2xl font-semibold leading-none tracking-tight",e),...n}));pi.displayName="CardTitle";const nCe=z.forwardRef(({className:e,...n},a)=>w.jsx("p",{ref:a,className:pr("text-sm text-muted-foreground",e),...n}));nCe.displayName="CardDescription";const Vn=z.forwardRef(({className:e,...n},a)=>w.jsx("div",{ref:a,className:pr("p-6 pt-0",e),...n}));Vn.displayName="CardContent";const iCe=z.forwardRef(({className:e,...n},a)=>w.jsx("div",{ref:a,className:pr("flex items-center p-6 pt-0",e),...n}));iCe.displayName="CardFooter";const oCe=()=>{var W,G;const e=Dv(),{login:n}=ps(),[a,s]=z.useState(""),[f,h]=z.useState(""),[_,y]=z.useState(!1),[T,I]=z.useState(!0),[x,A]=z.useState(!1),P=((G=(W=import.meta)==null?void 0:W.env)==null?void 0:G.VITE_APP_NAME)||"ArchiDrive",R=z.useMemo(()=>[{title:`Centralisez vos documents sur ${P}`,description:`Un espace scuris pour organiser, retrouver et partager les fichiers de ${P} par service.`},{title:"Partage matris",description:`Contrlez prcisment l'accs aux dossiers partags au sein de ${P}.`},{title:"Vue admin claire",description:`Grez les services, les employs et les permissions de ${P} depuis un tableau de bord.`}],[P]),[E,O]=z.useState(0);z.useEffect(()=>{const le=window.setInterval(()=>{O($=>($+1)%R.length)},4500);return()=>window.clearInterval(le)},[R.length]);const L=()=>O(le=>(le-1+R.length)%R.length),k=()=>O(le=>(le+1)%R.length),N=async le=>{if(le.preventDefault(),!a||!f){Er.error("Veuillez renseigner l'identifiant et le mot de passe");return}A(!0);const $=await n(a,f,T);A(!1),$&&($.role==="agent"?e("/agent",{replace:!0}):$.role==="admin"?e("/admin",{replace:!0}):$.role==="super_admin"?e("/super-admin",{replace:!0}):e("/login",{replace:!0}))};return w.jsx("div",{className:"min-h-screen w-full bg-gradient-to-br from-slate-50 via-white to-blue-50 p-4",children:w.jsxs("div",{className:"mx-auto w-full max-w-6xl min-h-[calc(100vh-2rem)] grid grid-cols-1 lg:grid-cols-2 gap-0 items-stretch rounded-2xl overflow-hidden border bg-white/60 shadow-xl",children:[w.jsxs("div",{className:"hidden lg:flex relative bg-gradient-to-br from-white via-slate-50 to-blue-50 p-8 flex-col justify-center",children:[w.jsx("button",{type:"button",onClick:L,className:"absolute left-5 top-1/2 -translate-y-1/2 h-10 w-10 rounded-full border bg-white/80 backdrop-blur flex items-center justify-center text-slate-700 hover:bg-white","aria-label":"Slide prcdente",children:w.jsx(epe,{className:"w-5 h-5"})}),w.jsx("button",{type:"button",onClick:k,className:"absolute right-5 top-1/2 -translate-y-1/2 h-10 w-10 rounded-full border bg-white/80 backdrop-blur flex items-center justify-center text-slate-700 hover:bg-white","aria-label":"Slide suivante",children:w.jsx(_D,{className:"w-5 h-5"})}),w.jsxs("div",{className:"mx-auto w-full max-w-md text-center space-y-4",children:[w.jsx("div",{className:"mx-auto h-24 w-24 rounded-xl bg-blue-50 border border-blue-100 flex items-center justify-center overflow-hidden",children:w.jsx("img",{src:"logo-archi.png",alt:"ArchiDrive",className:"w-24 h-24 object-contain"})}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("p",{className:"text-base font-semibold text-slate-900",children:R[E].title}),w.jsx("p",{className:"text-sm text-slate-600",children:R[E].description})]})]}),w.jsx("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 flex items-center gap-2",children:R.map((le,$)=>w.jsx("button",{type:"button",onClick:()=>O($),className:`h-2 rounded-full transition-all ${$===E?"w-8 bg-blue-600":"w-2 bg-slate-300 hover:bg-slate-400"}`,"aria-label":`Aller  la slide ${$+1}`},$))})]}),w.jsx("div",{className:"w-full flex items-center justify-center bg-white/80 p-8",children:w.jsxs("div",{className:"w-full max-w-md",children:[w.jsxs("div",{className:"flex flex-col items-center mb-6",children:[w.jsx("div",{className:"h-12 w-12 rounded-2xl bg-blue-600 text-white flex items-center justify-center shadow-sm",children:w.jsx(x4,{className:"w-6 h-6"})}),w.jsx("div",{className:"mt-4 text-center",children:w.jsx("h1",{className:"text-2xl font-semibold text-blue-700",children:"Bienvenue"})})]}),w.jsxs(Pn,{className:"shadow-lg border bg-white/90",children:[w.jsx(hi,{className:"pb-3",children:w.jsx(pi,{className:"text-base",children:"Connexion"})}),w.jsx(Vn,{children:w.jsxs("form",{onSubmit:N,className:"space-y-5",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx(sl,{children:"Identifiant"}),w.jsxs("div",{className:"relative",children:[w.jsx(fH,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),w.jsx(Ur,{value:a,onChange:le=>s(le.target.value),placeholder:"email ou identifiant",className:"pl-10",autoComplete:"username"})]})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx(sl,{children:"Mot de passe"}),w.jsxs("div",{className:"relative",children:[w.jsx(x4,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),w.jsx(Ur,{type:_?"text":"password",value:f,onChange:le=>h(le.target.value),placeholder:"Votre mot de passe",className:"pl-10 pr-10",autoComplete:"current-password"}),w.jsx("button",{type:"button",onClick:()=>y(le=>!le),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground","aria-label":_?"Masquer le mot de passe":"Afficher le mot de passe",children:_?w.jsx(npe,{className:"w-4 h-4"}):w.jsx(sH,{className:"w-4 h-4"})})]})]}),w.jsx("div",{className:"flex items-center justify-between",children:w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(vp,{id:"remember",checked:T,onCheckedChange:le=>I(!!le)}),w.jsx(sl,{htmlFor:"remember",className:"text-sm text-muted-foreground",children:"Rester connect 2 semaines"})]})}),w.jsx(dt,{type:"submit",className:"w-full",disabled:x,"aria-label":"Se connecter",children:x?w.jsx("span",{children:"Connexion..."}):w.jsxs(w.Fragment,{children:[w.jsx(spe,{className:"w-4 h-4 md:mr-2"}),w.jsx("span",{className:"hidden md:inline",children:"Se connecter"})]})})]})})]}),w.jsxs("div",{className:"mt-6 text-center text-xs text-muted-foreground",children:[w.jsxs("p",{children:[" ",new Date().getFullYear()," ArchiDrive. Tous droits rservs."]}),w.jsxs("p",{className:"mt-1",children:["Dvelopp par ",w.jsx("a",{className:"text-primary hover:underline",href:"https://archiged-gabon.com/",children:"ARCHIGED GABON"})]})]})]})})]})})},a5=({totalDocuments:e,totalEmployees:n,totalServices:a,totalStorage:s,weeklyActivity:f,enterpriseName:h,enterpriseId:_})=>{Math.max(...f,1);const[y,T]=z.useState(0);z.useState("");const I=h||(typeof _=="number"?`Entreprise #${_}`:"votre entreprise");return w.jsx("div",{className:"space-y-4",children:w.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[w.jsxs(Pn,{className:"bg-gradient-to-r from-blue-700 via-sky-400 to-white text-slate-900 border-none shadow-lg",children:[w.jsx(hi,{className:"pb-2",children:w.jsx(pi,{className:"text-sm font-medium",children:"Documents"})}),w.jsxs(Vn,{children:[w.jsx("p",{className:"text-2xl font-semibold",children:e}),w.jsxs("p",{className:"text-xs mt-1 opacity-90",children:["Documents dans ",I]})]})]}),w.jsxs(Pn,{className:"bg-gradient-to-r from-sky-500 via-white to-orange-300 text-slate-900 border-none shadow-lg",children:[w.jsx(hi,{className:"pb-2",children:w.jsx(pi,{className:"text-sm font-medium",children:"Employs"})}),w.jsxs(Vn,{children:[w.jsx("p",{className:"text-2xl font-semibold",children:n}),w.jsxs("p",{className:"text-xs mt-1 opacity-90",children:["Utilisateurs actifs dans ",I]})]})]}),w.jsxs(Pn,{className:"bg-gradient-to-r from-blue-900 via-blue-600 to-orange-500 text-white border-none shadow-lg",children:[w.jsx(hi,{className:"pb-2",children:w.jsx(pi,{className:"text-sm font-medium",children:"Services"})}),w.jsxs(Vn,{children:[w.jsx("p",{className:"text-2xl font-semibold",children:a}),w.jsxs("p",{className:"text-xs mt-1 opacity-90",children:["Units organisationnelles dans ",I]})]})]}),w.jsxs(Pn,{className:"bg-gradient-to-r from-white via-orange-300 to-orange-500 text-slate-900 border-none shadow-lg",children:[w.jsx(hi,{className:"pb-2",children:w.jsx(pi,{className:"text-sm font-medium",children:"Stockage"})}),w.jsxs(Vn,{children:[w.jsxs("p",{className:"text-2xl font-semibold",children:[(s+y).toFixed(1)," Go"]}),w.jsxs("p",{className:"text-xs mt-1 opacity-90 mb-3",children:["Capacit alloue  ",I]})]})]})]})})},aCe=({employees:e,permissions:n,togglePermission:a})=>{const[s,f]=z.useState("light"),[h,_]=z.useState("blue");z.useState("fr"),z.useState("Europe/Paris");const{data:y}=Kr({queryKey:["ui-preferences"],queryFn:async()=>{const A=await Tt("/api/ui-preferences",{toast:{error:{enabled:!1}}});return A.ok?A.json():null},staleTime:6e4});z.useEffect(()=>{y&&(y.ui_theme&&f(y.ui_theme),y.ui_accent_color&&_(y.ui_accent_color))},[y]);const T=Pi({mutationFn:async A=>{const P=await Tt("/api/admin/ui-preferences",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(A),toast:{success:{message:"Apparence enregistre"},error:{enabled:!0,message:"chec d'enregistrement"}}});if(!P.ok)throw new Error("save_failed");return P.json()}});z.useEffect(()=>{const A=typeof window<"u"?localStorage.getItem("theme"):null,P=typeof window<"u"?localStorage.getItem("accentColor"):null;A?f(A):I("light"),P?(_(P),x(P)):x("blue")},[]),z.useEffect(()=>{if(!s)return;const A=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)"),P=()=>I(s);P();try{localStorage.setItem("theme",s)}catch{}if(s==="system"&&A)try{return A.addEventListener("change",P),()=>A.removeEventListener("change",P)}catch{return A.addListener&&A.addListener(P),()=>{A.removeListener&&A.removeListener(P)}}},[s]),z.useEffect(()=>{if(h){x(h);try{localStorage.setItem("accentColor",h)}catch{}}},[h]);function I(A){const P=document.documentElement,R=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)");(A==="system"?R?R.matches:!1:A==="dark")?P.classList.add("dark"):P.classList.remove("dark")}function x(A){const P=document.documentElement,E={blue:{"--primary":"217 91% 60%","--primary-foreground":"0 0% 100%","--accent":"217 91% 95%","--accent-foreground":"217 91% 35%","--ring":"217 91% 60%","--sidebar-primary":"217 91% 60%","--sidebar-primary-foreground":"0 0% 100%","--sidebar-accent":"217 91% 95%","--sidebar-accent-foreground":"217 91% 35%","--tab-active":"217 91% 60%","--folder-hover":"217 91% 97%"},green:{"--primary":"142 70% 45%","--primary-foreground":"0 0% 100%","--accent":"142 60% 92%","--accent-foreground":"142 70% 30%","--ring":"142 70% 45%","--sidebar-primary":"142 70% 45%","--sidebar-primary-foreground":"0 0% 100%","--sidebar-accent":"142 60% 20%","--sidebar-accent-foreground":"142 70% 70%","--tab-active":"142 70% 45%","--folder-hover":"142 60% 96%"},purple:{"--primary":"262 83% 58%","--primary-foreground":"0 0% 100%","--accent":"262 70% 94%","--accent-foreground":"262 70% 40%","--ring":"262 83% 58%","--sidebar-primary":"262 83% 58%","--sidebar-primary-foreground":"0 0% 100%","--sidebar-accent":"262 40% 22%","--sidebar-accent-foreground":"262 83% 70%","--tab-active":"262 83% 58%","--folder-hover":"262 70% 96%"}}[A];Object.entries(E).forEach(([O,L])=>{P.style.setProperty(O,L)})}return w.jsx("div",{className:"space-y-4",children:w.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[w.jsxs(Pn,{children:[w.jsx(hi,{children:w.jsx(pi,{children:"Permissions par agent"})}),w.jsx(Vn,{className:"space-y-3",children:w.jsxs("div",{className:"border rounded-md overflow-hidden",children:[w.jsxs("div",{className:"grid grid-cols-3 bg-muted text-xs font-medium px-3 py-2",children:[w.jsx("span",{children:"Agent"}),w.jsx("span",{children:"Voir tous les dossiers"})]}),e.map(A=>{const P=n[A.id]||{viewAllFolders:!1,deleteDocuments:!1};return w.jsxs("div",{className:"grid grid-cols-2 items-center text-xs px-3 py-2 border-t",children:[w.jsxs("div",{children:[w.jsxs("p",{className:"font-medium text-foreground text-xs",children:[A.firstName," ",A.lastName]}),w.jsx("p",{className:"text-[10px] text-muted-foreground",children:A.email})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(vp,{checked:P.viewAllFolders,onCheckedChange:R=>a(A.id,"viewAllFolders",!!R)}),w.jsx("span",{children:"Autoriser"})]})]},A.id)})]})})]}),w.jsxs(Pn,{children:[w.jsx(hi,{children:w.jsx(pi,{children:"Apparence et couleurs"})}),w.jsxs(Vn,{className:"space-y-3",children:[w.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[w.jsxs("div",{className:"space-y-1",children:[w.jsx("p",{className:"text-xs font-medium",children:"Thme"}),w.jsxs("select",{title:"Choisir le thme",className:"border rounded-md px-3 py-2 text-xs",value:s,onChange:A=>{const P=A.target.value;f(P),T.mutate({ui_theme:P,ui_accent_color:h})},children:[w.jsx("option",{value:"light",children:"Clair"}),w.jsx("option",{value:"dark",children:"Sombre"}),w.jsx("option",{value:"system",children:"Systme"})]})]}),w.jsxs("div",{className:"space-y-1",children:[w.jsx("p",{className:"text-xs font-medium",children:"Couleur principale"}),w.jsxs("select",{title:"Choisir la couleur principale",className:"border rounded-md px-3 py-2 text-xs",value:h,onChange:A=>{const P=A.target.value;_(P),T.mutate({ui_theme:s,ui_accent_color:P})},children:[w.jsx("option",{value:"blue",children:"Bleu"}),w.jsx("option",{value:"green",children:"Vert"}),w.jsx("option",{value:"purple",children:"Violet"})]})]})]}),w.jsx("p",{className:"text-[11px] text-muted-foreground",children:"Ces paramtres sont simuls ct interface pour personnaliser l'apparence de votre application."})]})]})]})})},sCe=()=>{const[e,n]=z.useState(""),[a,s]=z.useState(""),[f,h]=z.useState("enterprise"),[_,y]=z.useState([]),{data:T=[]}=Kr({queryKey:["admin-services"],queryFn:async()=>{const G=await Tt("/api/admin/services",{toast:{error:{enabled:!1}}});if(!G.ok)throw new Error("Erreur chargement services");return G.json()},staleTime:6e4,refetchOnWindowFocus:!1,retry:1}),{data:I=[],refetch:x}=Kr({queryKey:["shared-folders-admin"],queryFn:async()=>{const G=await Tt("/api/shared-folders/visible",{toast:{error:{enabled:!1}}});return G.ok?G.json():[]},staleTime:3e4}),[A,P]=z.useState(!1),[R,E]=z.useState(null),O=Pi({mutationFn:async G=>{const le=await Tt(`/api/admin/shared-folders/${G.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:G.name,visibility:G.visibility,services:G.services}),toast:{success:{message:"Dossier partag mis  jour"},error:{enabled:!0,message:"chec de la mise  jour"}}});if(!le.ok)throw new Error("update_failed");return le.json()},onSuccess:()=>{P(!1),E(null),x()}}),L=Pi({mutationFn:async G=>{if(!(await Tt(`/api/admin/shared-folders/${G}`,{method:"DELETE",toast:{success:{message:"Partage supprim"},error:{enabled:!0,message:"chec de la suppression"}}})).ok)throw new Error("delete_failed");return!0},onSuccess:()=>{x()}}),k=Pi({mutationFn:async G=>{const le=await Tt("/api/admin/shared-folders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(G),toast:{success:{message:"Dossier partag cr"},error:{enabled:!0,message:"chec de cration"}}});if(!le.ok)throw new Error("create_failed");return le.json()},onSuccess:()=>{n(""),s(""),h("enterprise"),y([]),x()}}),N=(G,le)=>{y($=>le?[...$,G]:$.filter(H=>H!==G))},W=e.trim().length>0&&typeof a=="number";return w.jsxs(w.Fragment,{children:[w.jsxs(Pn,{className:"mb-4",children:[w.jsx(hi,{children:w.jsx(pi,{children:"Crer un dossier partag"})}),w.jsxs(Vn,{className:"space-y-3",children:[w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-sm",children:[w.jsxs("div",{className:"space-y-1",children:[w.jsx("p",{className:"text-xs font-medium",children:"Nom du dossier"}),w.jsx(Ur,{placeholder:"Nom",value:e,onChange:G=>n(G.target.value)})]}),w.jsxs("div",{className:"space-y-1",children:[w.jsx("p",{className:"text-xs font-medium",children:"Service hte"}),w.jsxs("select",{className:"border rounded-md px-3 py-2 text-xs w-full",value:a,onChange:G=>s(G.target.value?Number(G.target.value):""),children:[w.jsx("option",{value:"",children:"Slectionner un service"}),T.map(G=>w.jsx("option",{value:G.id,children:G.name},G.id))]})]}),w.jsxs("div",{className:"space-y-1",children:[w.jsx("p",{className:"text-xs font-medium",children:"Visibilit"}),w.jsxs("select",{className:"border rounded-md px-3 py-2 text-xs w-full",value:f,onChange:G=>h(G.target.value),children:[w.jsx("option",{value:"enterprise",children:"Toute l'entreprise"}),w.jsx("option",{value:"services",children:"Services slectionns"})]})]})]}),f==="services"&&w.jsxs("div",{className:"border rounded-md p-3 space-y-2",children:[w.jsx("p",{className:"text-xs font-medium",children:"Services autoriss"}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:T.map(G=>{const le=_.includes(G.id);return w.jsxs("label",{className:"flex items-center gap-2 text-xs",children:[w.jsx(vp,{checked:le,onCheckedChange:$=>N(G.id,!!$)}),w.jsx("span",{children:G.name})]},G.id)})})]}),w.jsx("div",{className:"flex justify-end",children:w.jsx(dt,{type:"button",disabled:!W||k.isPending,onClick:()=>{W&&k.mutate({name:e.trim(),host_service_id:a,visibility:f,services:f==="services"?_:[]})},children:"Crer"})})]})]}),w.jsxs(Pn,{className:"mb-4",children:[w.jsx(hi,{children:w.jsx(pi,{children:"Dossiers partags existants"})}),w.jsx(Vn,{className:"space-y-2",children:I.length===0?w.jsx("div",{className:"text-xs text-muted-foreground",children:"Aucun dossier partag"}):w.jsx("div",{className:"space-y-2",children:I.map(G=>w.jsxs("div",{className:"flex items-center justify-between border rounded-md p-2 text-sm",children:[w.jsxs("div",{className:"flex-1 min-w-0",children:[w.jsx("div",{className:"font-medium truncate",children:G.name}),w.jsxs("div",{className:"text-xs text-muted-foreground",children:["Visibilit: ",G.visibility==="enterprise"?"Toute l'entreprise":"Services slectionns"]})]}),w.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[w.jsx(dt,{variant:"outline",size:"sm",onClick:()=>{E({...G,services:G.services??[]}),P(!0)},children:"Modifier"}),w.jsx(dt,{variant:"destructive",size:"sm",onClick:()=>{window.confirm("Supprimer le partage de ce dossier ?")&&L.mutate(G.id)},children:"Supprimer"})]})]},G.id))})})]}),w.jsx(eo,{open:A,onOpenChange:P,children:w.jsxs(Bi,{children:[w.jsx(Ui,{children:w.jsx(Vi,{children:"Modifier le dossier partag"})}),R&&w.jsxs("div",{className:"space-y-3 text-sm",children:[w.jsxs("div",{className:"space-y-1",children:[w.jsx("p",{className:"text-xs font-medium",children:"Nom"}),w.jsx(Ur,{value:R.name,onChange:G=>E({...R,name:G.target.value})})]}),w.jsxs("div",{className:"space-y-1",children:[w.jsx("p",{className:"text-xs font-medium",children:"Visibilit"}),w.jsxs("select",{className:"border rounded-md px-3 py-2 text-xs w-full",value:R.visibility,onChange:G=>E({...R,visibility:G.target.value}),children:[w.jsx("option",{value:"enterprise",children:"Toute l'entreprise"}),w.jsx("option",{value:"services",children:"Services slectionns"})]})]}),R.visibility==="services"&&w.jsxs("div",{className:"border rounded-md p-3 space-y-2",children:[w.jsx("p",{className:"text-xs font-medium",children:"Services autoriss"}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:T.map(G=>{const le=(R.services??[]).includes(G.id);return w.jsxs("label",{className:"flex items-center gap-2 text-xs",children:[w.jsx(vp,{checked:le,onCheckedChange:$=>{const H=le?(R.services??[]).filter(ie=>ie!==G.id):[...R.services??[],G.id];E({...R,services:H})}}),w.jsx("span",{children:G.name})]},G.id)})})]})]}),w.jsxs(Au,{children:[w.jsx(dt,{variant:"outline",onClick:()=>P(!1),children:"Annuler"}),w.jsx(dt,{onClick:()=>{R&&O.mutate({id:R.id,name:R.name.trim()||void 0,visibility:R.visibility,services:R.visibility==="services"?R.services??[]:[]})},children:"Enregistrer"})]})]})})]})},uCe=({services:e,serviceName:n,onServiceNameChange:a,onAddService:s,editingService:f,editServiceName:h,onEditServiceNameChange:_,onCancelEdit:y,onUpdateService:T,onDeleteService:I,onEditService:x,availableEmployees:A,responsibleId:P,onResponsibleChange:R,editResponsibleId:E,onEditResponsibleChange:O,onAddMembersToService:L,onRemoveMembersFromService:k})=>{const[N,W]=z.useState([]),[G,le]=z.useState(1),$=5,H=Math.max(1,Math.ceil(e.length/$)),ie=e.slice((G-1)*$,G*$),pe=ce=>{W(me=>me.includes(ce)?me.filter(we=>we!==ce):[...me,ce])},se=()=>{W([])};return w.jsx("div",{className:"space-y-4",children:w.jsxs(Pn,{children:[w.jsx(hi,{children:w.jsx(pi,{children:"Services"})}),w.jsxs(Vn,{className:"space-y-3",children:[w.jsxs(eo,{children:[w.jsx(Wh,{asChild:!0,children:w.jsx(dt,{type:"button",children:"Ajouter un service"})}),w.jsxs(Bi,{children:[w.jsxs(Ui,{children:[w.jsx(Vi,{children:"Ajouter un service"}),w.jsx(to,{children:"Renseignez le nom du service et ventuellement son responsable."})]}),w.jsxs("div",{className:"space-y-3 mt-4",children:[w.jsx(Ur,{placeholder:"Nom du service",value:n,onChange:ce=>a(ce.target.value)}),w.jsxs("div",{className:"space-y-1",children:[w.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Responsable du service"}),w.jsxs("select",{className:"border rounded-md px-3 py-2 text-sm w-full",value:P??"",onChange:ce=>R(ce.target.value?Number(ce.target.value):null),children:[w.jsx("option",{value:"",children:"Slectionner un responsable"}),A.map(ce=>w.jsxs("option",{value:ce.id,children:[ce.firstName," ",ce.lastName," - ",ce.email]},ce.id))]})]})]}),w.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[w.jsx(dt,{type:"button",variant:"outline",onClick:()=>{a(""),R(null)},children:"Annuler"}),w.jsx(dt,{type:"button",onClick:s,children:"Enregistrer"})]})]})]}),w.jsxs("div",{className:"border rounded-md overflow-hidden mt-4",children:[w.jsxs("div",{className:"grid grid-cols-3 bg-muted text-xs font-medium px-3 py-2",children:[w.jsx("span",{children:"Nom"}),w.jsx("span",{children:"Nombre de membres"}),w.jsx("span",{className:"text-right",children:"Actions"})]}),ie.map(ce=>{const me=A.filter(Ee=>Ee.service_id===ce.id).length,we=A.filter(Ee=>Ee.service_id==null),ge=A.filter(Ee=>Ee.service_id===ce.id);return w.jsxs("div",{className:"grid grid-cols-3 items-center text-sm px-3 py-2 border-t",children:[w.jsx("span",{children:ce.name}),w.jsx("span",{className:"text-xs text-muted-foreground",children:me}),w.jsxs("div",{className:"flex justify-end gap-2",children:[w.jsxs(eo,{children:[w.jsx(Wh,{asChild:!0,children:w.jsx(dt,{size:"sm",type:"button",className:"bg-blue-600 text-white hover:bg-blue-700",onClick:()=>se(),children:"Ajouter des membres"})}),w.jsxs(Bi,{children:[w.jsxs(Ui,{children:[w.jsx(Vi,{children:"Ajouter des membres au service"}),w.jsx(to,{children:"Slectionnez des employs sans service pour les ajouter  ce service."})]}),w.jsx("div",{className:"space-y-3 mt-4",children:we.length===0?w.jsx("p",{className:"text-sm text-muted-foreground",children:"Aucun employ disponible sans service."}):w.jsx("div",{className:"space-y-2 max-h-64 overflow-auto",children:we.map(Ee=>w.jsxs("label",{className:"flex items-center justify-between text-sm border rounded-md px-3 py-2",children:[w.jsxs("div",{children:[w.jsxs("p",{children:[Ee.firstName," ",Ee.lastName]}),w.jsx("p",{className:"text-xs text-muted-foreground",children:Ee.email})]}),w.jsx("input",{type:"checkbox",checked:N.includes(Ee.id),onChange:()=>pe(Ee.id)})]},Ee.id))})}),w.jsxs("div",{className:"flex gap-2 justify-end mt-4",children:[w.jsx(dt,{type:"button",variant:"outline",onClick:se,children:"Annuler"}),w.jsx(dt,{type:"button",onClick:()=>{N.length>0&&(L(ce.id,N),se())},children:"Ajouter"})]})]})]}),w.jsxs(eo,{children:[w.jsx(Wh,{asChild:!0,children:w.jsx(dt,{size:"sm",type:"button",className:"bg-amber-600 text-white hover:bg-amber-700",onClick:()=>se(),children:"Retirer des membres"})}),w.jsxs(Bi,{children:[w.jsxs(Ui,{children:[w.jsx(Vi,{children:"Retirer des membres du service"}),w.jsx(to,{children:"Slectionnez des employs de ce service pour les retirer."})]}),w.jsx("div",{className:"space-y-3 mt-4",children:ge.length===0?w.jsx("p",{className:"text-sm text-muted-foreground",children:"Aucun membre dans ce service."}):w.jsx("div",{className:"space-y-2 max-h-64 overflow-auto",children:ge.map(Ee=>w.jsxs("label",{className:"flex items-center justify-between text-sm border rounded-md px-3 py-2",children:[w.jsxs("div",{children:[w.jsxs("p",{children:[Ee.firstName," ",Ee.lastName]}),w.jsx("p",{className:"text-xs text-muted-foreground",children:Ee.email})]}),w.jsx("input",{type:"checkbox",checked:N.includes(Ee.id),onChange:()=>pe(Ee.id)})]},Ee.id))})}),w.jsxs("div",{className:"flex gap-2 justify-end mt-4",children:[w.jsx(dt,{type:"button",variant:"outline",onClick:se,children:"Annuler"}),w.jsx(dt,{type:"button",onClick:()=>{N.length>0&&(k(ce.id,N),se())},children:"Retirer"})]})]})]}),w.jsxs(eo,{children:[w.jsx(Wh,{asChild:!0,children:w.jsx(dt,{size:"sm",variant:"outline",type:"button",onClick:()=>x(ce),children:"Modifier"})}),f&&f.id===ce.id&&w.jsxs(Bi,{children:[w.jsxs(Ui,{children:[w.jsx(Vi,{children:"Modifier le service"}),w.jsx(to,{children:"Modifiez le nom du service et/ou son responsable puis enregistrez."})]}),w.jsxs("div",{className:"space-y-3 mt-4",children:[w.jsx(Ur,{placeholder:"Nom du service",value:h,onChange:Ee=>_(Ee.target.value)}),w.jsxs("div",{className:"space-y-1",children:[w.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Responsable du service"}),w.jsxs("select",{className:"border rounded-md px-3 py-2 text-sm w-full",value:E??"",onChange:Ee=>O(Ee.target.value?Number(Ee.target.value):null),children:[w.jsx("option",{value:"",children:"Slectionner un responsable"}),A.map(Ee=>w.jsxs("option",{value:Ee.id,children:[Ee.firstName," ",Ee.lastName," - ",Ee.email]},Ee.id))]})]})]}),w.jsxs("div",{className:"flex gap-2 justify-end mt-4",children:[w.jsx(dt,{type:"button",variant:"outline",onClick:y,children:"Annuler"}),w.jsx(dt,{type:"button",onClick:T,children:"Enregistrer"})]})]})]}),w.jsx(dt,{size:"sm",variant:"outline",type:"button",className:"text-destructive border-destructive",onClick:()=>I(ce.id),children:"Supprimer"})]})]},ce.id)})]}),e.length>$&&w.jsxs("div",{className:"flex items-center justify-end gap-2 mt-3 text-xs text-muted-foreground",children:[w.jsx(dt,{type:"button",size:"sm",variant:"outline",disabled:G===1,onClick:()=>le(ce=>Math.max(1,ce-1)),children:"Prcdent"}),w.jsxs("span",{children:["Page ",G," / ",H]}),w.jsx(dt,{type:"button",size:"sm",variant:"outline",disabled:G===H,onClick:()=>le(ce=>Math.min(H,ce+1)),children:"Suivant"})]})]})]})})},lCe=({employees:e,firstName:n,lastName:a,email:s,position:f,onFirstNameChange:h,onLastNameChange:_,onEmailChange:y,onPositionChange:T,onAddEmployee:I,addOpen:x,onAddOpenChange:A,editingEmployee:P,editFirstName:R,editLastName:E,editEmail:O,editPosition:L,onEditFirstNameChange:k,onEditLastNameChange:N,onEditEmailChange:W,onEditPositionChange:G,onCancelEdit:le,onUpdateEmployee:$,onDeleteEmployee:H,onStartEdit:ie})=>{const[pe,se]=z.useState(1),ce=5,me=Math.max(1,Math.ceil(e.length/ce)),we=e.slice((pe-1)*ce,pe*ce);return w.jsx("div",{className:"space-y-4",children:w.jsxs(Pn,{children:[w.jsx(hi,{children:w.jsx(pi,{children:"Employs"})}),w.jsxs(Vn,{className:"space-y-3",children:[w.jsxs(eo,{open:x,onOpenChange:A,children:[w.jsx(Wh,{asChild:!0,children:w.jsx(dt,{type:"button",children:"Ajouter un employ"})}),w.jsxs(Bi,{children:[w.jsxs(Ui,{children:[w.jsx(Vi,{children:"Ajouter un employ"}),w.jsx(to,{children:"Saisissez les informations de l'employ puis validez pour l'ajouter."})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mt-4",children:[w.jsx(Ur,{placeholder:"Prnom",value:n,onChange:ge=>h(ge.target.value)}),w.jsx(Ur,{placeholder:"Nom",value:a,onChange:ge=>_(ge.target.value)}),w.jsx(Ur,{type:"email",placeholder:"Email",value:s,onChange:ge=>y(ge.target.value)}),w.jsx(Ur,{placeholder:"Poste",value:f,onChange:ge=>T(ge.target.value)})]}),w.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[w.jsx(dt,{type:"button",variant:"outline",onClick:()=>{h(""),_(""),y(""),T(""),A(!1)},children:"Annuler"}),w.jsx(dt,{type:"button",onClick:I,children:"Enregistrer"})]})]})]}),w.jsxs("div",{className:"border rounded-md overflow-hidden mt-4",children:[w.jsxs("div",{className:"grid grid-cols-4 bg-muted text-xs font-medium px-3 py-2",children:[w.jsx("span",{children:"Nom complet"}),w.jsx("span",{children:"Email"}),w.jsx("span",{children:"Poste"}),w.jsx("span",{className:"text-right",children:"Actions"})]}),we.map(ge=>w.jsxs("div",{className:"grid grid-cols-4 items-center text-sm px-3 py-2 border-t",children:[w.jsxs("span",{children:[ge.firstName," ",ge.lastName]}),w.jsx("span",{className:"text-xs text-muted-foreground",children:ge.email}),w.jsx("span",{className:"text-xs text-muted-foreground",children:ge.position}),w.jsxs("div",{className:"flex justify-end gap-2",children:[w.jsxs(eo,{children:[w.jsx(Wh,{asChild:!0,children:w.jsx(dt,{size:"sm",variant:"outline",type:"button",onClick:()=>{ie(ge),k(ge.firstName),N(ge.lastName),W(ge.email),G(ge.position??"")},children:"Modifier"})}),P&&P.id===ge.id&&w.jsxs(Bi,{children:[w.jsxs(Ui,{children:[w.jsx(Vi,{children:"Modifier l'employ"}),w.jsx(to,{children:"Mettez  jour les informations de cet employ puis enregistrez."})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mt-4",children:[w.jsx(Ur,{placeholder:"Prnom",value:R,onChange:Ee=>k(Ee.target.value)}),w.jsx(Ur,{placeholder:"Nom",value:E,onChange:Ee=>N(Ee.target.value)}),w.jsx(Ur,{type:"email",placeholder:"Email",value:O,onChange:Ee=>W(Ee.target.value)}),w.jsx(Ur,{placeholder:"Poste",value:L,onChange:Ee=>G(Ee.target.value)})]}),w.jsxs("div",{className:"flex gap-2 justify-end mt-4",children:[w.jsx(dt,{type:"button",variant:"outline",onClick:le,children:"Annuler"}),w.jsx(dt,{type:"button",onClick:$,children:"Enregistrer"})]})]})]}),w.jsx(dt,{size:"sm",variant:"outline",type:"button",className:"text-destructive border-destructive",onClick:()=>H(ge.id),children:"Supprimer"})]})]},ge.id))]}),e.length>ce&&w.jsxs("div",{className:"flex items-center justify-end gap-2 mt-3 text-xs text-muted-foreground",children:[w.jsx(dt,{type:"button",size:"sm",variant:"outline",disabled:pe===1,onClick:()=>se(ge=>Math.max(1,ge-1)),children:"Prcdent"}),w.jsxs("span",{children:["Page ",pe," / ",me]}),w.jsx(dt,{type:"button",size:"sm",variant:"outline",disabled:pe===me,onClick:()=>se(ge=>Math.min(me,ge+1)),children:"Suivant"})]})]})]})})},cCe=()=>{const[e,n]=z.useState("dashboard"),[a,s]=z.useState(!1),{user:f}=ps(),h=(f==null?void 0:f.role)!=="super_admin"?(f==null?void 0:f.enterprise_name)??null:null,_=Sl(),{data:y=[]}=Kr({queryKey:["admin-services"],queryFn:async()=>{const it=await Tt("/api/admin/services");if(!it.ok)throw new Error("Erreur lors du chargement des services");return it.json()},staleTime:60*1e3,refetchOnWindowFocus:!1,retry:1,refetchInterval:(f==null?void 0:f.role)==="admin"&&(f!=null&&f.enterprise_id)?1e4:!1}),{data:T=0}=Kr({queryKey:["documents-count",f==null?void 0:f.enterprise_id],enabled:!!f,queryFn:async()=>{const it=await Tt("/api/documents?count_only=1",{toast:{error:{enabled:!1}}});if(!it.ok)return 0;const Et=await it.json();return typeof Et.count=="number"?Et.count:0},staleTime:30*1e3,refetchOnWindowFocus:!1,retry:1}),{data:I=[]}=Kr({queryKey:["admin-permissions"],enabled:(f==null?void 0:f.role)==="admin"&&!!(f!=null&&f.enterprise_id),queryFn:async()=>{const it=await Tt("/api/admin/permissions",{toast:{error:{enabled:!1}}});if(!it.ok)throw new Error("Erreur lors du chargement des permissions");return it.json()},staleTime:60*1e3,refetchOnWindowFocus:!1,retry:1}),{data:x=[]}=Kr({queryKey:["admin-employees"],enabled:(f==null?void 0:f.role)==="admin"&&!!(f!=null&&f.enterprise_id),queryFn:async()=>{const it=await Tt("/api/admin/employees",{toast:{error:{enabled:!1}}});if(!it.ok)return it.status===403?(Er.error("Cet administrateur n'a pas d'entreprise assigne. Veuillez configurer enterprise_id."),[]):_.getQueryData(["admin-employees"])||[];const At=(await it.json()).map(Gt=>({id:Gt.id,firstName:Gt.first_name,lastName:Gt.last_name,email:Gt.email,position:Gt.position??"",enterprise_id:Gt.enterprise_id,service_id:Gt.service_id}));return f!=null&&f.enterprise_id?At.filter(Gt=>Gt.enterprise_id===f.enterprise_id):At},staleTime:60*1e3,refetchOnWindowFocus:!1,retry:1,refetchInterval:(f==null?void 0:f.role)==="admin"&&(f!=null&&f.enterprise_id)?1e4:!1}),[A,P]=z.useState(""),[R,E]=z.useState(null),[O,L]=z.useState(""),[k,N]=z.useState(null),[W,G]=z.useState(null),le=Pi({mutationFn:async it=>{const Et=await Tt("/api/admin/services",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(it),toast:{success:{message:"Service cr"}}});if(!Et.ok)throw new Error("Erreur lors de la cration du service");return Et.json()},onSuccess:()=>{_.invalidateQueries({queryKey:["admin-services"]})}}),$=Pi({mutationFn:async it=>{const Et=await Tt(`/api/admin/services/${it.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:it.name,responsible_employee_id:it.responsible_employee_id}),toast:{success:{message:"Service mis  jour"}}});if(!Et.ok)throw new Error("Erreur lors de la mise  jour du service");return Et.json()},onSuccess:()=>{_.invalidateQueries({queryKey:["admin-services"]})}}),H=Pi({mutationFn:async it=>{const Et=await Tt(`/api/admin/services/${it}`,{method:"DELETE",toast:{success:{message:"Service supprim"}}});if(!Et.ok&&Et.status!==204)throw new Error("Erreur lors de la suppression du service");return!0},onSuccess:()=>{_.invalidateQueries({queryKey:["admin-services"]})}}),ie=Pi({mutationFn:async it=>{const Et=await Tt(`/api/admin/services/${it.serviceId}/assign-members`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({member_ids:it.memberIds}),toast:{success:{message:"Membres ajouts au service"}}});if(!Et.ok)throw new Error("Erreur lors de l'ajout des membres au service");return Et.json()},onSuccess:()=>{_.invalidateQueries({queryKey:["admin-employees"]})}}),pe=Pi({mutationFn:async it=>{const Et=await Tt(`/api/admin/services/${it.serviceId}/remove-members`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({member_ids:it.memberIds}),toast:{success:{message:"Membres retirs du service"}}});if(!Et.ok)throw new Error("Erreur lors du retrait des membres du service");return Et.json()},onSuccess:()=>{_.invalidateQueries({queryKey:["admin-employees"]})}}),se=()=>{if(A.trim()){if(k===null){Er.error("Veuillez slectionner un responsable du service");return}le.mutate({name:A.trim(),responsible_employee_id:k}),P(""),N(null)}},ce=()=>{if(!(!R||!O.trim())){if(W===null){Er.error("Veuillez slectionner un responsable du service");return}$.mutate({id:R.id,name:O.trim(),responsible_employee_id:W}),E(null),L(""),G(null)}},me=it=>{H.mutate(it)},[we,ge]=z.useState(""),[Ee,_e]=z.useState(""),[Ue,xe]=z.useState(""),[Te,Be]=z.useState(""),[ot,tt]=z.useState(null),[vt,bt]=z.useState(""),[Se,ye]=z.useState(""),[Ie,qe]=z.useState(""),[ut,lt]=z.useState(""),[Vt,zt]=z.useState(!1),ur=Pi({mutationFn:async it=>{const Et=await Tt("/api/admin/employees",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(it),toast:{success:{message:"Employ cr"}}});if(!Et.ok)throw new Error("Erreur lors de la cration de l'employ");return Et.json()},onMutate:async it=>{await _.cancelQueries({queryKey:["admin-employees"]});const Et=_.getQueryData(["admin-employees"])||[],At={id:-Date.now(),firstName:it.first_name,lastName:it.last_name,email:it.email,position:it.position??"",enterprise_id:(f==null?void 0:f.enterprise_id)??0,service_id:it.service_id??null};return _.setQueryData(["admin-employees"],[At,...Et]),{previous:Et}},onError:(it,Et,At)=>{At!=null&&At.previous&&_.setQueryData(["admin-employees"],At.previous)},onSuccess:()=>{zt(!1)},onSettled:()=>{_.invalidateQueries({queryKey:["admin-employees"]})}}),at=Pi({mutationFn:async it=>{const Et=await Tt(`/api/admin/employees/${it.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({first_name:it.first_name,last_name:it.last_name,email:it.email,position:it.position,service_id:it.service_id}),toast:{success:{message:"Employ mis  jour"}}});if(!Et.ok)throw new Error("Erreur lors de la mise  jour de l'employ");return Et.json()},onMutate:async it=>{await _.cancelQueries({queryKey:["admin-employees"]});const Et=_.getQueryData(["admin-employees"])||[],At=Et.map(Gt=>Gt.id===it.id?{...Gt,firstName:it.first_name,lastName:it.last_name,email:it.email,position:it.position}:Gt);return _.setQueryData(["admin-employees"],At),{previous:Et}},onError:(it,Et,At)=>{At!=null&&At.previous&&_.setQueryData(["admin-employees"],At.previous)},onSuccess:()=>{tt(null)},onSettled:()=>{_.invalidateQueries({queryKey:["admin-employees"]})}}),Nt=Pi({mutationFn:async it=>{const Et=await Tt(`/api/admin/employees/${it}`,{method:"DELETE",toast:{success:{message:"Employ supprim"}}});if(!Et.ok&&Et.status!==204)throw new Error("Erreur lors de la suppression de l'employ");return!0},onSuccess:()=>{_.invalidateQueries({queryKey:["admin-employees"]})}}),jt=()=>{if(!we.trim()||!Ee.trim()||!Ue.trim()){Er.error("Veuillez renseigner prnom, nom et email");return}ur.mutate({first_name:we.trim(),last_name:Ee.trim(),email:Ue.trim(),position:Te.trim(),service_id:null}),zt(!1),ge(""),_e(""),xe(""),Be("")},or=()=>{!ot||!vt.trim()||!Se.trim()||!Ie.trim()||(at.mutate({id:ot.id,first_name:vt.trim(),last_name:Se.trim(),email:Ie.trim(),position:ut.trim(),service_id:ot.service_id??null}),tt(null),bt(""),ye(""),qe(""),lt(""))},fn=it=>{Nt.mutate(it)},[Yr,rn]=z.useState({});z.useEffect(()=>{const it={};x.forEach(Et=>{const At=I.find(Gt=>Gt.employee_id===Et.id);it[Et.id]={viewAllFolders:(At==null?void 0:At.view_all_folders)??!1,deleteDocuments:(At==null?void 0:At.delete_documents)??!1}}),rn(it)},[x,I]);const nn=Pi({mutationFn:async it=>{const Et=await Tt("/api/admin/permissions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({employee_id:it.employee_id,view_all_folders:it.viewAllFolders,delete_documents:it.deleteDocuments}),toast:{success:{message:"Permissions mises  jour"},error:{enabled:!0,message:"Erreur lors de la mise  jour des permissions"}}});if(!Et.ok)throw new Error("Erreur API permissions");return Et.json()},onSuccess:()=>{_.invalidateQueries({queryKey:["admin-permissions"]})}}),et=(it,Et,At)=>{rn(Gt=>{const xt=Gt[it]||{viewAllFolders:!1,deleteDocuments:!1},he={...xt,[Et]:At};return nn.mutate({employee_id:it,viewAllFolders:Et==="viewAllFolders"?At:xt.viewAllFolders,deleteDocuments:Et==="deleteDocuments"?At:xt.deleteDocuments}),{...Gt,[it]:he}})},_r=()=>{if(e==="dashboard"){const it=T,Et=x.length,At=y.length,Gt=(f==null?void 0:f.enterprise_storage)??0,xt=[12,5,18,9,14,7,11];return w.jsx(a5,{totalDocuments:it,totalEmployees:Et,totalServices:At,totalStorage:Gt,weeklyActivity:xt,enterpriseName:(f==null?void 0:f.enterprise_name)??null,enterpriseId:(f==null?void 0:f.enterprise_id)??null})}if(e==="settings")return w.jsxs(w.Fragment,{children:[w.jsx(sCe,{}),w.jsx(aCe,{employees:x,permissions:Yr,togglePermission:et})]});if(e==="services"){const it=x,Et=(Gt,xt)=>{ie.mutate({serviceId:Gt,memberIds:xt})},At=(Gt,xt)=>{pe.mutate({serviceId:Gt,memberIds:xt})};return w.jsx(uCe,{services:y,serviceName:A,onServiceNameChange:P,onAddService:se,editingService:R,editServiceName:O,onEditServiceNameChange:L,onCancelEdit:()=>E(null),onUpdateService:ce,onDeleteService:me,onEditService:Gt=>{E(Gt),L(Gt.name),G(Gt.responsible_employee_id??null)},availableEmployees:it,responsibleId:k,onResponsibleChange:N,editResponsibleId:W,onEditResponsibleChange:G,onAddMembersToService:Et,onRemoveMembersFromService:At})}return(f==null?void 0:f.role)==="admin"?w.jsx(lCe,{employees:x,firstName:we,lastName:Ee,email:Ue,position:Te,onFirstNameChange:ge,onLastNameChange:_e,onEmailChange:xe,onPositionChange:Be,onAddEmployee:jt,addOpen:Vt,onAddOpenChange:zt,editingEmployee:ot,editFirstName:vt,editLastName:Se,editEmail:Ie,editPosition:ut,onEditFirstNameChange:bt,onEditLastNameChange:ye,onEditEmailChange:qe,onEditPositionChange:lt,onCancelEdit:()=>tt(null),onUpdateEmployee:or,onDeleteEmployee:fn,onStartEdit:it=>tt(it)}):w.jsx(a5,{totalDocuments:T,totalEmployees:x.length,totalServices:y.length,totalStorage:(f==null?void 0:f.enterprise_storage)??0,weeklyActivity:[12,5,18,9,14,7,11],enterpriseName:(f==null?void 0:f.enterprise_name)??null,enterpriseId:(f==null?void 0:f.enterprise_id)??null})};return w.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[w.jsx(wb,{}),w.jsxs("main",{className:"flex-1 flex",children:[w.jsxs("aside",{className:`${a?"w-16":"w-56"} border-r bg-gradient-to-b from-slate-900 via-slate-800 to-slate-900/90 p-4 space-y-4 sticky top-16 self-start h-[calc(100vh-4rem)] overflow-y-auto text-slate-100`,children:[w.jsxs("div",{className:"flex items-center justify-between gap-2 mb-2",children:[!a&&w.jsx("div",{className:"flex-1 min-w-0",children:w.jsx("p",{className:"text-sm font-semibold truncate",children:h??"Mon entreprise"})}),w.jsx(dt,{variant:"ghost",size:"icon",type:"button",className:"h-8 w-8 shrink-0",onClick:()=>s(it=>!it),children:w.jsx(rb,{className:"w-4 h-4"})})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsxs(dt,{variant:e==="dashboard"?"default":"ghost",className:`w-full ${a?"justify-center":"justify-start"} gap-2`,size:"sm",type:"button",onClick:()=>n("dashboard"),children:[w.jsx(uH,{className:"w-4 h-4"}),!a&&w.jsx("span",{children:"Tableau de bord"})]}),w.jsxs(dt,{variant:e==="settings"?"default":"ghost",className:`w-full ${a?"justify-center":"justify-start"} gap-2`,size:"sm",type:"button",onClick:()=>n("settings"),children:[w.jsx(dpe,{className:"w-4 h-4"}),!a&&w.jsx("span",{children:"Paramtres"})]}),w.jsxs(dt,{variant:e==="services"?"default":"ghost",className:`w-full ${a?"justify-center":"justify-start"} gap-2`,size:"sm",type:"button",onClick:()=>n("services"),children:[w.jsx(Xhe,{className:"w-4 h-4"}),!a&&w.jsx("span",{children:"Services"})]}),(f==null?void 0:f.role)==="admin"&&w.jsxs(dt,{variant:e==="employees"?"default":"ghost",className:`w-full ${a?"justify-center":"justify-start"} gap-2`,size:"sm",type:"button",onClick:()=>n("employees"),children:[w.jsx(bD,{className:"w-4 h-4"}),!a&&w.jsx("span",{children:"Employs"})]})]})]}),w.jsxs("section",{className:"flex-1 p-6 space-y-4 overflow-y-auto",children:[w.jsxs(Pn,{children:[w.jsx(hi,{children:w.jsx(pi,{children:"Gestion de l'entreprise"})}),w.jsx(Vn,{children:w.jsx("p",{className:"text-sm text-muted-foreground",children:"Espace administrateur : grez les paramtres, les services et les employs de votre entreprise."})})]}),_r()]})]})]})},dCe=({activeTab:e,onChangeTab:n})=>{const[a,s]=z.useState(!1),{user:f}=ps();return w.jsxs("aside",{className:`${a?"w-16":"w-56"} border-r bg-gradient-to-b from-slate-900 via-slate-800 to-slate-900/90 p-4 space-y-4 sticky top-16 self-start h-[calc(100vh-4rem)] overflow-y-auto text-slate-100`,children:[w.jsxs("div",{className:"flex items-center justify-between gap-2 mb-2",children:[!a&&w.jsx("div",{className:"flex-1 min-w-0",children:w.jsx("p",{className:"text-sm font-semibold truncate",children:(f==null?void 0:f.name)??"Super administrateur"})}),w.jsx(dt,{variant:"ghost",size:"icon",type:"button",className:"h-8 w-8 shrink-0",onClick:()=>s(h=>!h),children:w.jsx(rb,{className:"w-4 h-4"})})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsxs(dt,{variant:e==="dashboard"?"default":"ghost",className:`w-full ${a?"justify-center":"justify-start"} gap-2`,size:"sm",type:"button",onClick:()=>n("dashboard"),children:[w.jsx(uH,{className:"w-4 h-4"}),!a&&w.jsx("span",{children:"Tableau de bord"})]}),w.jsxs(dt,{variant:e==="enterprises"?"default":"ghost",className:`w-full ${a?"justify-center":"justify-start"} gap-2`,size:"sm",type:"button",onClick:()=>n("enterprises"),children:[w.jsx(Zhe,{className:"w-4 h-4"}),!a&&w.jsx("span",{children:"G des entreprises"})]}),w.jsxs(dt,{variant:e==="storage"?"default":"ghost",className:`w-full ${a?"justify-center":"justify-start"} gap-2`,size:"sm",type:"button",onClick:()=>n("storage"),children:[w.jsx(tpe,{className:"w-4 h-4"}),!a&&w.jsx("span",{children:"G du stockage"})]}),w.jsxs(dt,{variant:e==="super_admins"?"default":"ghost",className:`w-full ${a?"justify-center":"justify-start"} gap-2`,size:"sm",type:"button",onClick:()=>n("super_admins"),children:[w.jsx(bD,{className:"w-4 h-4"}),!a&&w.jsx("span",{children:"G des super admin"})]})]})]})},fCe=()=>{const e=Sl(),{data:n=[],isLoading:a,error:s}=Kr({queryKey:["enterprises"],queryFn:async()=>{const _e=await Tt("/api/enterprises");if(!_e.ok)throw new Error("Erreur lors du chargement des entreprises");return _e.json()}}),[f,h]=z.useState(!1),[_,y]=z.useState(""),[T,I]=z.useState(""),[x,A]=z.useState(""),[P,R]=z.useState(""),[E,O]=z.useState(null),[L,k]=z.useState(""),[N,W]=z.useState(""),[G,le]=z.useState(""),[$,H]=z.useState(""),ie=Pi({mutationFn:async _e=>{const Ue=await Tt("/api/enterprises",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:_e.name,admin_name:_e.adminName,email:_e.email,storage:_e.storage}),toast:{success:{message:"Entreprise cre"}}});if(!Ue.ok)throw new Error("Erreur lors de la cration de l'entreprise");return Ue.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["enterprises"]})}}),pe=Pi({mutationFn:async _e=>{const Ue=await Tt(`/api/enterprises/${_e.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:_e.name,admin_name:_e.adminName,email:_e.email,storage:_e.storage}),toast:{success:{message:"Entreprise mise  jour"}}});if(!Ue.ok)throw new Error("Erreur lors de la mise  jour de l'entreprise");return Ue.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["enterprises"]})}}),se=Pi({mutationFn:async _e=>{const Ue=await Tt(`/api/enterprises/${_e}`,{method:"DELETE",toast:{success:{message:"Entreprise supprime"}}});if(!Ue.ok&&Ue.status!==204)throw new Error("Erreur lors de la suppression de l'entreprise");return!0},onSuccess:()=>{e.invalidateQueries({queryKey:["enterprises"]})}}),ce=()=>{y(""),I(""),A(""),R("")},me=()=>{if(!_.trim()||!T.trim()||!P.trim())return;const _e=Number(x)||0;ie.mutate({name:_.trim(),adminName:T.trim(),email:P.trim(),storage:_e},{onSuccess:()=>{ce(),h(!1)}})},we=_e=>{se.mutate(_e)},ge=_e=>{O(_e),k(_e.name??""),W(_e.admin_name??""),le(_e.storage!==void 0&&_e.storage!==null?String(_e.storage):""),H(_e.email??"")},Ee=()=>{if(!E||!L.trim()||!N.trim()||!$.trim())return;const _e=Number(G)||0;pe.mutate({id:E.id,name:L.trim(),adminName:N.trim(),email:$.trim(),storage:_e},{onSuccess:()=>{O(null)}})};return w.jsxs(w.Fragment,{children:[w.jsxs(Pn,{children:[w.jsx(hi,{children:w.jsx(pi,{children:"Gestion des entreprises"})}),w.jsxs(Vn,{className:"space-y-4",children:[w.jsx("div",{children:w.jsx(dt,{type:"button",onClick:()=>h(!0),children:"Ajouter une entreprise"})}),a&&w.jsx("p",{className:"text-sm text-muted-foreground",children:"Chargement des entreprises..."}),s&&w.jsx("p",{className:"text-sm text-destructive",children:"Erreur lors du chargement des entreprises"}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 text-sm mt-4",children:n.map(_e=>w.jsxs(Pn,{className:"border rounded-md",children:[w.jsx(hi,{className:"pb-2",children:w.jsx(pi,{className:"text-sm font-medium",children:_e.name})}),w.jsxs(Vn,{className:"space-y-3",children:[w.jsxs("div",{className:"space-y-1 text-xs text-muted-foreground",children:[w.jsxs("p",{children:[w.jsx("span",{className:"font-medium text-foreground",children:"Administrateur : "}),_e.admin_name??"-"]}),w.jsxs("p",{children:[w.jsx("span",{className:"font-medium text-foreground",children:"Stockage : "}),_e.storage!==void 0?`${_e.storage} Go`:"-"]}),w.jsxs("p",{children:[w.jsx("span",{className:"font-medium text-foreground",children:"Email : "}),_e.email??"-"]})]}),w.jsxs("div",{className:"flex justify-between gap-2",children:[w.jsx(dt,{variant:"outline",size:"sm",type:"button",onClick:()=>ge(_e),children:"Modifier"}),w.jsx(dt,{variant:"outline",size:"sm",type:"button",className:"text-destructive border-destructive",onClick:()=>we(_e.id),children:"Supprimer"})]})]})]},_e.id))})]})]}),w.jsx(eo,{open:f,onOpenChange:_e=>{h(_e),_e||ce()},children:w.jsxs(Bi,{children:[w.jsxs(Ui,{children:[w.jsx(Vi,{children:"Ajouter une entreprise"}),w.jsx(to,{children:"Renseignez les informations de l'entreprise puis validez pour l'ajouter."})]}),w.jsxs("div",{className:"space-y-3 mt-2",children:[w.jsx(Ur,{placeholder:"Nom de l'entreprise",value:_,onChange:_e=>y(_e.target.value)}),w.jsx(Ur,{placeholder:"Nom de l'administrateur",value:T,onChange:_e=>I(_e.target.value)}),w.jsx(Ur,{type:"number",placeholder:"Stockage (Go)",value:x,onChange:_e=>A(_e.target.value)}),w.jsx(Ur,{type:"email",placeholder:"Email de l'administrateur",value:P,onChange:_e=>R(_e.target.value)}),w.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[w.jsx(dt,{type:"button",variant:"outline",onClick:()=>{ce(),h(!1)},children:"Annuler"}),w.jsx(dt,{type:"button",onClick:me,children:"Ajouter"})]})]})]})}),w.jsx(eo,{open:!!E,onOpenChange:_e=>!_e&&O(null),children:w.jsxs(Bi,{children:[w.jsxs(Ui,{children:[w.jsx(Vi,{children:"Modifier l'entreprise"}),w.jsx(to,{children:"Mettez  jour les informations de l'entreprise puis enregistrez."})]}),w.jsxs("div",{className:"space-y-3 mt-2",children:[w.jsx(Ur,{placeholder:"Nom de l'entreprise",value:L,onChange:_e=>k(_e.target.value)}),w.jsx(Ur,{placeholder:"Nom de l'administrateur",value:N,onChange:_e=>W(_e.target.value)}),w.jsx(Ur,{type:"number",placeholder:"Stockage (Go)",value:G,onChange:_e=>le(_e.target.value)}),w.jsx(Ur,{type:"email",placeholder:"Email de l'administrateur",value:$,onChange:_e=>H(_e.target.value)}),w.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[w.jsx(dt,{type:"button",variant:"outline",onClick:()=>O(null),children:"Annuler"}),w.jsx(dt,{type:"button",onClick:Ee,children:"Enregistrer"})]})]})]})})]})},hCe=()=>{const e=Sl(),[n,a]=z.useState("0"),{data:s,isLoading:f}=Kr({queryKey:["super-admin-storage-overview"],queryFn:async()=>{const A=await Tt("/api/super-admin-storage-overviews");if(!A.ok)throw new Error("Erreur lors du chargement du stockage global");return A.json()}}),h=Pi({mutationFn:async A=>{if(s&&s.id){const R=await Tt(`/api/super-admin-storage-overviews/${s.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({total_capacity:A.total_capacity,used_storage:s.used_storage}),toast:{success:{enabled:!1},error:{enabled:!1}}});if(!R.ok)throw new Error("Erreur lors de la mise  jour du stockage global");return R.json()}const P=await Tt("/api/super-admin-storage-overviews",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({total_capacity:A.total_capacity,used_storage:0}),toast:{success:{enabled:!1},error:{enabled:!1}}});if(!P.ok)throw new Error("Erreur lors de la cration du stockage global");return P.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["super-admin-storage-overview"]})}}),_=typeof(s==null?void 0:s.total_capacity)=="number"?s.total_capacity:0,y=(s==null?void 0:s.used_storage)??0,T=_||1,I=Math.min(100,Math.max(0,y/T*100));z.useEffect(()=>{s&&typeof s.total_capacity=="number"&&a(s.total_capacity.toString())},[s]);const x=A=>{A.preventDefault();const P=parseFloat(n.replace(",","."));if(!(f||h.isPending)){if(isNaN(P)||P<0){Er.error("Veuillez saisir une capacit totale valide (>= 0).");return}h.mutate({total_capacity:P},{onSuccess:()=>{Er.success("Stockage enregistr",{description:"La configuration de stockage global a t mise  jour."})},onError:()=>{Er.error("Une erreur est survenue lors de l'enregistrement du stockage.")}})}};return w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{children:[w.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Gestion du stockage"}),w.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Visualisez la consommation globale du stockage allou aux entreprises."})]}),w.jsxs("div",{className:"grid gap-6 md:grid-cols-2 items-center",children:[w.jsxs(Pn,{children:[w.jsx(hi,{children:w.jsx(pi,{children:"Rsum du stockage"})}),w.jsxs(Vn,{className:"space-y-2 text-sm",children:[w.jsxs("p",{children:[w.jsx("span",{className:"font-medium",children:"Capacit totale : "}),f?"Chargement...":`${T.toFixed(1)} Go`]}),w.jsxs("p",{children:[w.jsx("span",{className:"font-medium",children:"Utilis : "}),f?"-":`${y} Go (${I.toFixed(0)} %)`]}),w.jsxs("p",{children:[w.jsx("span",{className:"font-medium",children:"Restant : "}),f?"-":`${Math.max(0,T-y).toFixed(1)} Go`]}),w.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Configurez ici la capacit totale de stockage  l'chelle de l'application."}),w.jsxs("form",{onSubmit:x,className:"mt-3 flex flex-col gap-2 text-xs",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("span",{className:"w-32",children:"Capacit totale (Go)"}),w.jsx(Ur,{type:"number",step:"0.1",min:"0",value:n,onChange:A=>a(A.target.value),className:"h-8 w-32 text-xs",disabled:f||h.isPending})]}),w.jsx("div",{className:"flex justify-end",children:w.jsx(dt,{type:"submit",variant:"outline",size:"sm",className:"h-8 px-3 text-xs",disabled:f||h.isPending,children:h.isPending?"Enregistrement...":"Enregistrer"})})]})]})]}),w.jsxs("div",{className:"flex flex-col items-center gap-3",children:[w.jsxs("div",{className:"relative w-40 h-40",children:[w.jsx("div",{className:"w-full h-full rounded-full",style:{background:`conic-gradient(#3b82f6 0 ${I}%, #e5e7eb ${I}% 100%)`}}),w.jsxs("div",{className:"absolute inset-4 rounded-full bg-background flex flex-col items-center justify-center",children:[w.jsx("span",{className:"text-xs text-muted-foreground",children:"Utilis"}),w.jsxs("span",{className:"text-lg font-semibold",children:[I.toFixed(0),"%"]})]})]}),w.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[w.jsxs("div",{className:"flex items-center gap-1",children:[w.jsx("span",{className:"w-3 h-3 rounded-sm bg-blue-500"}),w.jsxs("span",{children:["Stockage utilis (",y," Go)"]})]}),w.jsxs("div",{className:"flex items-center gap-1",children:[w.jsx("span",{className:"w-3 h-3 rounded-sm bg-slate-200"}),w.jsxs("span",{children:["Disponible (",_-y," Go)"]})]})]})]})]})]})},pCe=async()=>{const e=await Tt("/api/super-admins");if(!e.ok)throw new Error("Erreur lors du chargement des super administrateurs");return e.json()},mCe=()=>{const e=Sl(),{data:n=[],isLoading:a}=Kr({queryKey:["super-admins"],queryFn:pCe,staleTime:60*1e3,refetchOnWindowFocus:!1,retry:1,refetchInterval:1e4}),[s,f]=z.useState(!1),[h,_]=z.useState(""),[y,T]=z.useState(""),[I,x]=z.useState(null),[A,P]=z.useState(""),[R,E]=z.useState(""),O=()=>{_(""),T("")},L=Pi({mutationFn:async H=>{const ie=await Tt("/api/super-admins",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(H),toast:{success:{message:"Super admin cr"}}});if(!ie.ok)throw new Error("Erreur lors de la cration du super administrateur");return ie.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["super-admins"]})}}),k=Pi({mutationFn:async H=>{const ie=await Tt(`/api/super-admins/${H.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:H.name,email:H.email}),toast:{success:{message:"Super admin mis  jour"}}});if(!ie.ok)throw new Error("Erreur lors de la mise  jour du super administrateur");return ie.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["super-admins"]})}}),N=Pi({mutationFn:async H=>{const ie=await Tt(`/api/super-admins/${H}`,{method:"DELETE",toast:{success:{message:"Super admin supprim"}}});if(!ie.ok&&ie.status!==204)throw new Error("Erreur lors de la suppression du super administrateur");return!0},onSuccess:()=>{e.invalidateQueries({queryKey:["super-admins"]})}}),W=()=>{!h.trim()||!y.trim()||(L.mutate({name:h.trim(),email:y.trim()}),O(),f(!1))},G=H=>{N.mutate(H)},le=H=>{x(H),P(H.name??""),E(H.email??"")},$=()=>{I&&(!A.trim()||!R.trim()||(k.mutate({id:I.id,name:A.trim(),email:R.trim()}),x(null)))};return w.jsxs(w.Fragment,{children:[w.jsxs(Pn,{children:[w.jsx(hi,{children:w.jsx(pi,{children:"Gestion des super administrateurs"})}),w.jsxs(Vn,{className:"space-y-4",children:[w.jsx("div",{children:w.jsx(dt,{type:"button",onClick:()=>f(!0),children:"Ajouter un super admin"})}),a&&w.jsx("p",{className:"text-sm text-muted-foreground",children:"Chargement..."}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 text-sm mt-4",children:n.map(H=>w.jsxs(Pn,{className:"border rounded-md",children:[w.jsx(hi,{className:"pb-2",children:w.jsx(pi,{className:"text-sm font-medium",children:H.name})}),w.jsxs(Vn,{className:"space-y-3",children:[w.jsx("div",{className:"space-y-1 text-xs text-muted-foreground",children:w.jsxs("p",{children:[w.jsx("span",{className:"font-medium text-foreground",children:"Email : "}),H.email??"-"]})}),w.jsxs("div",{className:"flex justify-between gap-2",children:[w.jsx(dt,{variant:"outline",size:"sm",type:"button",onClick:()=>le(H),children:"Modifier"}),w.jsx(dt,{variant:"outline",size:"sm",type:"button",className:"text-destructive border-destructive",onClick:()=>G(H.id),children:"Supprimer"})]})]})]},H.id))})]})]}),w.jsx(eo,{open:s,onOpenChange:H=>{f(H),H||O()},children:w.jsxs(Bi,{children:[w.jsxs(Ui,{children:[w.jsx(Vi,{children:"Ajouter un super administrateur"}),w.jsx(to,{children:"Renseignez le nom et l'email du super administrateur puis validez."})]}),w.jsxs("div",{className:"space-y-3 mt-2",children:[w.jsx(Ur,{placeholder:"Nom du super administrateur",value:h,onChange:H=>_(H.target.value)}),w.jsx(Ur,{type:"email",placeholder:"Email du super administrateur",value:y,onChange:H=>T(H.target.value)}),w.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[w.jsx(dt,{type:"button",variant:"outline",onClick:()=>{O(),f(!1)},children:"Annuler"}),w.jsx(dt,{type:"button",onClick:W,children:"Ajouter"})]})]})]})}),w.jsx(eo,{open:!!I,onOpenChange:H=>!H&&x(null),children:w.jsxs(Bi,{children:[w.jsxs(Ui,{children:[w.jsx(Vi,{children:"Modifier le super administrateur"}),w.jsx(to,{children:"Mettez  jour le nom ou l'email puis enregistrez les modifications."})]}),w.jsxs("div",{className:"space-y-3 mt-2",children:[w.jsx(Ur,{placeholder:"Nom du super administrateur",value:A,onChange:H=>P(H.target.value)}),w.jsx(Ur,{type:"email",placeholder:"Email du super administrateur",value:R,onChange:H=>E(H.target.value)}),w.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[w.jsx(dt,{type:"button",variant:"outline",onClick:()=>x(null),children:"Annuler"}),w.jsx(dt,{type:"button",onClick:$,children:"Enregistrer"})]})]})]})})]})},gCe=()=>{const[e,n]=z.useState("dashboard"),{data:a=[],isLoading:s}=Kr({queryKey:["enterprises"],queryFn:async()=>{const A=await Tt("/api/enterprises");if(!A.ok)throw new Error("Erreur lors du chargement des entreprises");return A.json()}}),{data:f}=Kr({queryKey:["super-admin-storage-overview"],queryFn:async()=>{const A=await Tt("/api/super-admin-storage-overviews");return A.ok?A.json():null}});Kr({queryKey:["super-admins"],queryFn:async()=>{const A=await Tt("/api/super-admins");if(!A.ok)throw new Error("Erreur lors du chargement des super administrateurs");return A.json()}});const{data:h}=Kr({queryKey:["stats"],queryFn:async()=>{const A=await Tt("/api/stats");if(!A.ok)throw new Error("Erreur lors du chargement des statistiques");return A.json()}}),_=a.length,y=typeof(f==null?void 0:f.total_capacity)=="number"?f.total_capacity:0,T=typeof(f==null?void 0:f.used_storage)=="number"?f.used_storage:0,I=()=>w.jsxs(Pn,{children:[w.jsx(hi,{children:w.jsx(pi,{children:"Entreprises"})}),w.jsx(Vn,{children:w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[s&&w.jsx("p",{className:"text-sm text-muted-foreground",children:"Chargement..."}),!s&&a.map(A=>{var P;return w.jsxs(Pn,{className:"border rounded-md p-3 space-y-2",children:[w.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:w.jsxs("div",{children:[w.jsx("div",{className:"font-medium",children:A.name}),w.jsxs("div",{className:"text-xs text-muted-foreground mt-0.5",children:["Admin : ",A.admin_name]}),w.jsxs("div",{className:"text-xs text-muted-foreground",children:["Email admin : ",A.email]})]})}),w.jsxs("div",{className:"grid grid-cols-1 gap-3 text-xs",children:[w.jsx(Pn,{className:"border-dashed",children:w.jsxs(Vn,{className:"py-3 px-3 flex flex-col gap-1",children:[w.jsx("span",{className:"text-muted-foreground",children:"Stockage allou"}),w.jsxs("span",{className:"text-base font-semibold",children:[A.storage??0," Go"]})]})}),w.jsx(Pn,{className:"border-dashed",children:w.jsxs(Vn,{className:"py-3 px-3 flex flex-col gap-1",children:[w.jsx("span",{className:"text-muted-foreground",children:"Utilisateurs"}),w.jsx("span",{className:"text-base font-semibold",children:((P=h==null?void 0:h.users_by_enterprise)==null?void 0:P[A.id])??0})]})})]})]},A.id)})]})})]}),x=()=>e==="dashboard"?w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[w.jsxs("div",{children:[w.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Gestion Super Admin"}),w.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Vue globale des donnes en base."})]}),w.jsx("div",{})]}),w.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[w.jsxs(Pn,{className:"bg-gradient-to-r from-blue-700 via-sky-400 to-white text-slate-900 border-none shadow-lg",children:[w.jsx(hi,{className:"pb-2",children:w.jsx(pi,{className:"text-sm font-medium",children:"Entreprises"})}),w.jsxs(Vn,{children:[w.jsx("p",{className:"text-2xl font-semibold",children:_}),w.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Tenants actifs"})]})]}),w.jsxs(Pn,{className:"bg-gradient-to-r from-white via-orange-300 to-orange-500 text-slate-900 border-none shadow-lg",children:[w.jsx(hi,{className:"pb-2",children:w.jsx(pi,{className:"text-sm font-medium",children:"Stockage total"})}),w.jsxs(Vn,{children:[w.jsxs("p",{className:"text-2xl font-semibold",children:[y," Go"]}),w.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Stockage allou  l'ensemble des entreprises"})]})]}),w.jsxs(Pn,{className:"bg-gradient-to-r from-blue-900 via-blue-600 to-orange-500 text-white border-none shadow-lg",children:[w.jsx(hi,{className:"pb-2",children:w.jsx(pi,{className:"text-sm font-medium",children:"Stockage utilis"})}),w.jsxs(Vn,{children:[w.jsxs("p",{className:"text-2xl font-semibold",children:[T," Go"]}),w.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["sur ",y," Go"]})]})]})]}),I()]}):e==="enterprises"?w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Gestion des entreprises"}),w.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Crez, modifiez et supprimez les entreprises clientes du tenant."})]}),w.jsx(fCe,{})]}):e==="super_admins"?w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Gestion des super administrateurs"}),w.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Crez, modifiez et supprimez les comptes super admin du tenant."})]}),w.jsx(mCe,{})]}):w.jsx(hCe,{});return w.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[w.jsx(wb,{}),w.jsxs("main",{className:"flex-1 flex",children:[w.jsx(dCe,{activeTab:e,onChangeTab:n}),w.jsx("section",{className:"flex-1 p-6 space-y-6 overflow-y-auto",children:x()})]})]})},vCe=()=>{const{user:e}=ps(),[n,a]=z.useState(""),[s,f]=z.useState(""),[h,_]=z.useState(""),y=Dv(),T=I=>{I.preventDefault(),!(!s||s!==h)&&(a(""),f(""),_(""))};return e?w.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[w.jsx(wb,{}),w.jsx("main",{className:"flex-1 flex overflow-hidden px-4 md:px-6 py-6",children:w.jsxs("div",{className:"flex-1 flex flex-col overflow-auto",children:[w.jsxs("div",{className:"w-full max-w-5xl mx-auto space-y-6",children:[w.jsxs("div",{className:"flex items-center justify-between gap-3",children:[w.jsx(dt,{variant:"outline",size:"sm",type:"button",onClick:()=>{e.role==="admin"?y("/admin"):e.role==="super_admin"?y("/super-admin"):y("/agent")},children:"Retour"}),w.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Mon profil"})]}),w.jsx("p",{className:"text-sm text-muted-foreground",children:"Consultez vos informations et mettez  jour votre mot de passe."})]}),w.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[w.jsxs("div",{className:"space-y-4 rounded-lg border bg-card p-4",children:[w.jsx("h2",{className:"text-sm font-medium text-muted-foreground",children:"Informations personnelles"}),w.jsxs("div",{className:"grid gap-3",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-xs text-muted-foreground",children:"Nom"}),w.jsx("p",{className:"text-sm font-medium",children:e.name})]}),w.jsxs("div",{children:[w.jsx("p",{className:"text-xs text-muted-foreground",children:"Email"}),w.jsx("p",{className:"text-sm font-medium",children:e.email})]}),w.jsxs("div",{children:[w.jsx("p",{className:"text-xs text-muted-foreground",children:"Rle"}),w.jsx("p",{className:"text-sm font-medium",children:e.role})]})]})]}),w.jsxs("form",{onSubmit:T,className:"space-y-4 rounded-lg border bg-card p-4",children:[w.jsx("h2",{className:"text-sm font-medium text-muted-foreground",children:"Modifier le mot de passe"}),w.jsxs("div",{className:"space-y-3",children:[w.jsxs("div",{className:"space-y-1",children:[w.jsx("label",{className:"text-xs font-medium",children:"Mot de passe actuel"}),w.jsx(Ur,{type:"password",value:n,onChange:I=>a(I.target.value),required:!0})]}),w.jsxs("div",{className:"space-y-1",children:[w.jsx("label",{className:"text-xs font-medium",children:"Nouveau mot de passe"}),w.jsx(Ur,{type:"password",value:s,onChange:I=>f(I.target.value),required:!0})]}),w.jsxs("div",{className:"space-y-1",children:[w.jsx("label",{className:"text-xs font-medium",children:"Confirmer le nouveau mot de passe"}),w.jsx(Ur,{type:"password",value:h,onChange:I=>_(I.target.value),required:!0})]})]}),w.jsx("div",{className:"pt-2 flex justify-end",children:w.jsx(dt,{type:"submit",children:"Mettre  jour le mot de passe"})})]})]})]})})]}):null},yCe=()=>{const e=Dv(),{id:n}=Uye(),a=z.useMemo(()=>{const E=Number(n);return Number.isFinite(E)?E:null},[n]),[s,f]=z.useState(!1),[h,_]=z.useState(null),[y,T]=z.useState(null),[I,x]=z.useState(null),[A,P]=z.useState(null);if(z.useEffect(()=>{let E=!1,O=null;const L=()=>{if(O){try{URL.revokeObjectURL(O)}catch{}O=null}};return(async()=>{if(typeof a=="number"){f(!0),_(null),T(null),x(null),P(null),L();try{const N=await Tt(`/api/documents/${a}`,{toast:{error:{enabled:!0,message:"Impossible de charger le document"}}});if(!N.ok)return;const W=await N.json();if(E)return;_(W);const G=(W==null?void 0:W.mime_type)??null;T(G);const le=await Tt(xS(`/api/documents/${a}/download?ts=${Date.now()}`),{method:"GET",headers:{Accept:"*/*"},toast:{error:{enabled:!1},success:{enabled:!1}},cache:"no-store"});if(!le.ok)return;if(G&&G.startsWith("text/")){const H=await le.text();E||x(H);return}const $=await le.blob();O=URL.createObjectURL($),E||P(O)}finally{E||f(!1)}}})(),()=>{E=!0,L()}},[a]),typeof a!="number")return w.jsxs("div",{className:"p-6 space-y-3",children:[w.jsx("div",{className:"text-sm text-muted-foreground",children:"Document invalide."}),w.jsx(dt,{type:"button",variant:"outline",onClick:()=>e(-1),children:"Retour"})]});const R=((h==null?void 0:h.name)??`Document #${a}`).replace(/\.[^.]+$/,"");return w.jsxs("div",{className:"p-6 space-y-4",children:[w.jsxs("div",{className:"flex items-start justify-between gap-3",children:[w.jsxs("div",{className:"min-w-0",children:[w.jsx("div",{className:"text-lg font-semibold truncate",children:R}),w.jsxs("div",{className:"text-xs text-muted-foreground truncate",children:[h!=null&&h.created_by_name?`Tlvers par ${h.created_by_name}`:"",h!=null&&h.created_at?`${h!=null&&h.created_by_name?"  ":""}${new Date(h.created_at).toLocaleString("fr-FR")}`:""]})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(dt,{type:"button",variant:"outline",onClick:()=>e(-1),children:"Retour"}),w.jsx(dt,{type:"button",onClick:()=>{const E=document.createElement("a");E.href=xS(`/api/documents/${a}/download`),E.download=(h==null?void 0:h.name)??`document-${a}`,document.body.appendChild(E),E.click(),document.body.removeChild(E)},children:"Tlcharger"})]})]}),w.jsxs("div",{className:"rounded border bg-background p-2 min-h-[60vh]",children:[s&&w.jsx("div",{className:"text-sm text-muted-foreground",children:"Chargement"}),!s&&I!==null&&w.jsx("pre",{className:"w-full h-full overflow-auto p-4 bg-muted rounded text-sm whitespace-pre-wrap break-words",children:I}),!s&&I===null&&A&&(y!=null&&y.startsWith("image/")?w.jsx("img",{src:A,alt:(h==null?void 0:h.name)??"document",className:"max-w-full h-auto object-contain"}):y!=null&&y.startsWith("video/")?w.jsx("video",{src:A,controls:!0,className:"w-full h-full"}):y!=null&&y.startsWith("audio/")?w.jsx("audio",{src:A,controls:!0,className:"w-full"}):y!=null&&y.includes("pdf")?w.jsx("object",{data:A,type:"application/pdf",className:"w-full h-[75vh] border rounded",children:w.jsx("a",{href:A,target:"_blank",rel:"noreferrer",children:"Ouvrir le PDF"})}):w.jsx("iframe",{src:A,title:(h==null?void 0:h.name)??"document",className:"w-full h-[75vh] border rounded"})),!s&&I===null&&!A&&w.jsx("div",{className:"text-sm text-muted-foreground",children:"Aperu indisponible."})]})]})},vg=({children:e,allowedRoles:n})=>{const{user:a,booting:s}=ps();return s?w.jsx("div",{className:"min-h-screen flex items-center justify-center text-sm text-muted-foreground",children:"Chargement..."}):a?n&&!n.includes(a.role)?w.jsx(d1,{to:"/login",replace:!0}):w.jsx(w.Fragment,{children:e}):w.jsx(d1,{to:"/login",replace:!0})},_Ce=new xve({defaultOptions:{queries:{staleTime:60*1e3,gcTime:5*60*1e3,refetchOnWindowFocus:!1,retry:1}}}),SCe=n_e([{path:"/login",element:w.jsx(oCe,{})},{path:"/",element:w.jsx(d1,{to:"/login",replace:!0})},{path:"/agent",element:w.jsx(vg,{allowedRoles:["agent"],children:w.jsx(tCe,{})})},{path:"/admin",element:w.jsx(vg,{allowedRoles:["admin"],children:w.jsx(cCe,{})})},{path:"/super-admin",element:w.jsx(vg,{allowedRoles:["super_admin"],children:w.jsx(gCe,{})})},{path:"/profile",element:w.jsx(vg,{allowedRoles:["agent","admin","super_admin"],children:w.jsx(vCe,{})})},{path:"/documents/:id",element:w.jsx(vg,{allowedRoles:["agent","admin","super_admin"],children:w.jsx(yCe,{})})},{path:"*",element:w.jsx(rCe,{})}]),bCe=()=>w.jsx(kve,{client:_Ce,children:w.jsxs(dve,{children:[w.jsx(Qpe,{}),w.jsx(wme,{}),w.jsx(m_e,{children:w.jsx(f_e,{router:SCe,future:{v7_startTransition:!0}})})]})});if("serviceWorker"in navigator)try{navigator.serviceWorker.getRegistrations().then(e=>{e.forEach(n=>{try{n.unregister()}catch{}})})}catch{}R6(document.getElementById("root")).render(w.jsx(bCe,{}));
