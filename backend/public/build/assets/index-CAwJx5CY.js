var l4=e=>{throw TypeError(e)};var bx=(e,r,i)=>r.has(e)||l4("Cannot "+i);var De=(e,r,i)=>(bx(e,r,"read from private field"),i?i.call(e):r.get(e)),nr=(e,r,i)=>r.has(e)?l4("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(e):r.set(e,i),kt=(e,r,i,s)=>(bx(e,r,"write to private field"),s?s.call(e,i):r.set(e,i),i),Ir=(e,r,i)=>(bx(e,r,"access private method"),i);var m0=(e,r,i,s)=>({set _(f){kt(e,r,f,i)},get _(){return De(e,r,s)}});function OG(e,r){for(var i=0;i<r.length;i++){const s=r[i];if(typeof s!="string"&&!Array.isArray(s)){for(const f in s)if(f!=="default"&&!(f in e)){const h=Object.getOwnPropertyDescriptor(s,f);h&&Object.defineProperty(e,f,h.get?h:{enumerable:!0,get:()=>s[f]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))s(f);new MutationObserver(f=>{for(const h of f)if(h.type==="childList")for(const y of h.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&s(y)}).observe(document,{childList:!0,subtree:!0});function i(f){const h={};return f.integrity&&(h.integrity=f.integrity),f.referrerPolicy&&(h.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?h.credentials="include":f.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(f){if(f.ep)return;f.ep=!0;const h=i(f);fetch(f.href,h)}})();function FG(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var MG={exports:{}},tb={},LG={exports:{}},Fr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ov=Symbol.for("react.element"),Cfe=Symbol.for("react.portal"),wfe=Symbol.for("react.fragment"),Ife=Symbol.for("react.strict_mode"),Efe=Symbol.for("react.profiler"),xfe=Symbol.for("react.provider"),Afe=Symbol.for("react.context"),Dfe=Symbol.for("react.forward_ref"),Pfe=Symbol.for("react.suspense"),Rfe=Symbol.for("react.memo"),kfe=Symbol.for("react.lazy"),c4=Symbol.iterator;function Nfe(e){return e===null||typeof e!="object"?null:(e=c4&&e[c4]||e["@@iterator"],typeof e=="function"?e:null)}var WG={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jG=Object.assign,BG={};function Np(e,r,i){this.props=e,this.context=r,this.refs=BG,this.updater=i||WG}Np.prototype.isReactComponent={};Np.prototype.setState=function(e,r){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,r,"setState")};Np.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function UG(){}UG.prototype=Np.prototype;function sD(e,r,i){this.props=e,this.context=r,this.refs=BG,this.updater=i||WG}var uD=sD.prototype=new UG;uD.constructor=sD;jG(uD,Np.prototype);uD.isPureReactComponent=!0;var d4=Array.isArray,VG=Object.prototype.hasOwnProperty,lD={current:null},GG={key:!0,ref:!0,__self:!0,__source:!0};function HG(e,r,i){var s,f={},h=null,y=null;if(r!=null)for(s in r.ref!==void 0&&(y=r.ref),r.key!==void 0&&(h=""+r.key),r)VG.call(r,s)&&!GG.hasOwnProperty(s)&&(f[s]=r[s]);var _=arguments.length-2;if(_===1)f.children=i;else if(1<_){for(var C=Array(_),w=0;w<_;w++)C[w]=arguments[w+2];f.children=C}if(e&&e.defaultProps)for(s in _=e.defaultProps,_)f[s]===void 0&&(f[s]=_[s]);return{$$typeof:Ov,type:e,key:h,ref:y,props:f,_owner:lD.current}}function Ofe(e,r){return{$$typeof:Ov,type:e.type,key:r,ref:e.ref,props:e.props,_owner:e._owner}}function cD(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ov}function Ffe(e){var r={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(i){return r[i]})}var f4=/\/+/g;function Tx(e,r){return typeof e=="object"&&e!==null&&e.key!=null?Ffe(""+e.key):r.toString(36)}function H0(e,r,i,s,f){var h=typeof e;(h==="undefined"||h==="boolean")&&(e=null);var y=!1;if(e===null)y=!0;else switch(h){case"string":case"number":y=!0;break;case"object":switch(e.$$typeof){case Ov:case Cfe:y=!0}}if(y)return y=e,f=f(y),e=s===""?"."+Tx(y,0):s,d4(f)?(i="",e!=null&&(i=e.replace(f4,"$&/")+"/"),H0(f,r,i,"",function(w){return w})):f!=null&&(cD(f)&&(f=Ofe(f,i+(!f.key||y&&y.key===f.key?"":(""+f.key).replace(f4,"$&/")+"/")+e)),r.push(f)),1;if(y=0,s=s===""?".":s+":",d4(e))for(var _=0;_<e.length;_++){h=e[_];var C=s+Tx(h,_);y+=H0(h,r,i,C,f)}else if(C=Nfe(e),typeof C=="function")for(e=C.call(e),_=0;!(h=e.next()).done;)h=h.value,C=s+Tx(h,_++),y+=H0(h,r,i,C,f);else if(h==="object")throw r=String(e),Error("Objects are not valid as a React child (found: "+(r==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return y}function g0(e,r,i){if(e==null)return e;var s=[],f=0;return H0(e,s,"","",function(h){return r.call(i,h,f++)}),s}function Mfe(e){if(e._status===-1){var r=e._result;r=r(),r.then(function(i){(e._status===0||e._status===-1)&&(e._status=1,e._result=i)},function(i){(e._status===0||e._status===-1)&&(e._status=2,e._result=i)}),e._status===-1&&(e._status=0,e._result=r)}if(e._status===1)return e._result.default;throw e._result}var Yo={current:null},z0={transition:null},Lfe={ReactCurrentDispatcher:Yo,ReactCurrentBatchConfig:z0,ReactCurrentOwner:lD};function zG(){throw Error("act(...) is not supported in production builds of React.")}Fr.Children={map:g0,forEach:function(e,r,i){g0(e,function(){r.apply(this,arguments)},i)},count:function(e){var r=0;return g0(e,function(){r++}),r},toArray:function(e){return g0(e,function(r){return r})||[]},only:function(e){if(!cD(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Fr.Component=Np;Fr.Fragment=wfe;Fr.Profiler=Efe;Fr.PureComponent=sD;Fr.StrictMode=Ife;Fr.Suspense=Pfe;Fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lfe;Fr.act=zG;Fr.cloneElement=function(e,r,i){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=jG({},e.props),f=e.key,h=e.ref,y=e._owner;if(r!=null){if(r.ref!==void 0&&(h=r.ref,y=lD.current),r.key!==void 0&&(f=""+r.key),e.type&&e.type.defaultProps)var _=e.type.defaultProps;for(C in r)VG.call(r,C)&&!GG.hasOwnProperty(C)&&(s[C]=r[C]===void 0&&_!==void 0?_[C]:r[C])}var C=arguments.length-2;if(C===1)s.children=i;else if(1<C){_=Array(C);for(var w=0;w<C;w++)_[w]=arguments[w+2];s.children=_}return{$$typeof:Ov,type:e.type,key:f,ref:h,props:s,_owner:y}};Fr.createContext=function(e){return e={$$typeof:Afe,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:xfe,_context:e},e.Consumer=e};Fr.createElement=HG;Fr.createFactory=function(e){var r=HG.bind(null,e);return r.type=e,r};Fr.createRef=function(){return{current:null}};Fr.forwardRef=function(e){return{$$typeof:Dfe,render:e}};Fr.isValidElement=cD;Fr.lazy=function(e){return{$$typeof:kfe,_payload:{_status:-1,_result:e},_init:Mfe}};Fr.memo=function(e,r){return{$$typeof:Rfe,type:e,compare:r===void 0?null:r}};Fr.startTransition=function(e){var r=z0.transition;z0.transition={};try{e()}finally{z0.transition=r}};Fr.unstable_act=zG;Fr.useCallback=function(e,r){return Yo.current.useCallback(e,r)};Fr.useContext=function(e){return Yo.current.useContext(e)};Fr.useDebugValue=function(){};Fr.useDeferredValue=function(e){return Yo.current.useDeferredValue(e)};Fr.useEffect=function(e,r){return Yo.current.useEffect(e,r)};Fr.useId=function(){return Yo.current.useId()};Fr.useImperativeHandle=function(e,r,i){return Yo.current.useImperativeHandle(e,r,i)};Fr.useInsertionEffect=function(e,r){return Yo.current.useInsertionEffect(e,r)};Fr.useLayoutEffect=function(e,r){return Yo.current.useLayoutEffect(e,r)};Fr.useMemo=function(e,r){return Yo.current.useMemo(e,r)};Fr.useReducer=function(e,r,i){return Yo.current.useReducer(e,r,i)};Fr.useRef=function(e){return Yo.current.useRef(e)};Fr.useState=function(e){return Yo.current.useState(e)};Fr.useSyncExternalStore=function(e,r,i){return Yo.current.useSyncExternalStore(e,r,i)};Fr.useTransition=function(){return Yo.current.useTransition()};Fr.version="18.3.1";LG.exports=Fr;var z=LG.exports;const Ct=FG(z),dD=OG({__proto__:null,default:Ct},[z]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wfe=z,jfe=Symbol.for("react.element"),Bfe=Symbol.for("react.fragment"),Ufe=Object.prototype.hasOwnProperty,Vfe=Wfe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Gfe={key:!0,ref:!0,__self:!0,__source:!0};function KG(e,r,i){var s,f={},h=null,y=null;i!==void 0&&(h=""+i),r.key!==void 0&&(h=""+r.key),r.ref!==void 0&&(y=r.ref);for(s in r)Ufe.call(r,s)&&!Gfe.hasOwnProperty(s)&&(f[s]=r[s]);if(e&&e.defaultProps)for(s in r=e.defaultProps,r)f[s]===void 0&&(f[s]=r[s]);return{$$typeof:jfe,type:e,key:h,ref:y,props:f,_owner:Vfe.current}}tb.Fragment=Bfe;tb.jsx=KG;tb.jsxs=KG;MG.exports=tb;var I=MG.exports,QG={exports:{}},Va={},YG={exports:{}},qG={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function r(xe,Ce){var Ve=xe.length;xe.push(Ce);e:for(;0<Ve;){var rt=Ve-1>>>1,et=xe[rt];if(0<f(et,Ce))xe[rt]=Ce,xe[Ve]=et,Ve=rt;else break e}}function i(xe){return xe.length===0?null:xe[0]}function s(xe){if(xe.length===0)return null;var Ce=xe[0],Ve=xe.pop();if(Ve!==Ce){xe[0]=Ve;e:for(var rt=0,et=xe.length,vt=et>>>1;rt<vt;){var St=2*(rt+1)-1,Se=xe[St],ve=St+1,Ie=xe[ve];if(0>f(Se,Ve))ve<et&&0>f(Ie,Se)?(xe[rt]=Ie,xe[ve]=Ve,rt=ve):(xe[rt]=Se,xe[St]=Ve,rt=St);else if(ve<et&&0>f(Ie,Ve))xe[rt]=Ie,xe[ve]=Ve,rt=ve;else break e}}return Ce}function f(xe,Ce){var Ve=xe.sortIndex-Ce.sortIndex;return Ve!==0?Ve:xe.id-Ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var h=performance;e.unstable_now=function(){return h.now()}}else{var y=Date,_=y.now();e.unstable_now=function(){return y.now()-_}}var C=[],w=[],x=1,A=null,P=3,R=!1,E=!1,O=!1,L=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(xe){for(var Ce=i(w);Ce!==null;){if(Ce.callback===null)s(w);else if(Ce.startTime<=xe)s(w),Ce.sortIndex=Ce.expirationTime,r(C,Ce);else break;Ce=i(w)}}function G(xe){if(O=!1,j(xe),!E)if(i(C)!==null)E=!0,_e(le);else{var Ce=i(w);Ce!==null&&Be(G,Ce.startTime-xe)}}function le(xe,Ce){E=!1,O&&(O=!1,k(ie),ie=-1),R=!0;var Ve=P;try{for(j(Ce),A=i(C);A!==null&&(!(A.expirationTime>Ce)||xe&&!ce());){var rt=A.callback;if(typeof rt=="function"){A.callback=null,P=A.priorityLevel;var et=rt(A.expirationTime<=Ce);Ce=e.unstable_now(),typeof et=="function"?A.callback=et:A===i(C)&&s(C),j(Ce)}else s(C);A=i(C)}if(A!==null)var vt=!0;else{var St=i(w);St!==null&&Be(G,St.startTime-Ce),vt=!1}return vt}finally{A=null,P=Ve,R=!1}}var $=!1,H=null,ie=-1,pe=5,se=-1;function ce(){return!(e.unstable_now()-se<pe)}function me(){if(H!==null){var xe=e.unstable_now();se=xe;var Ce=!0;try{Ce=H(!0,xe)}finally{Ce?we():($=!1,H=null)}}else $=!1}var we;if(typeof N=="function")we=function(){N(me)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,Ee=ge.port2;ge.port1.onmessage=me,we=function(){Ee.postMessage(null)}}else we=function(){L(me,0)};function _e(xe){H=xe,$||($=!0,we())}function Be(xe,Ce){ie=L(function(){xe(e.unstable_now())},Ce)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(xe){xe.callback=null},e.unstable_continueExecution=function(){E||R||(E=!0,_e(le))},e.unstable_forceFrameRate=function(xe){0>xe||125<xe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):pe=0<xe?Math.floor(1e3/xe):5},e.unstable_getCurrentPriorityLevel=function(){return P},e.unstable_getFirstCallbackNode=function(){return i(C)},e.unstable_next=function(xe){switch(P){case 1:case 2:case 3:var Ce=3;break;default:Ce=P}var Ve=P;P=Ce;try{return xe()}finally{P=Ve}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(xe,Ce){switch(xe){case 1:case 2:case 3:case 4:case 5:break;default:xe=3}var Ve=P;P=xe;try{return Ce()}finally{P=Ve}},e.unstable_scheduleCallback=function(xe,Ce,Ve){var rt=e.unstable_now();switch(typeof Ve=="object"&&Ve!==null?(Ve=Ve.delay,Ve=typeof Ve=="number"&&0<Ve?rt+Ve:rt):Ve=rt,xe){case 1:var et=-1;break;case 2:et=250;break;case 5:et=1073741823;break;case 4:et=1e4;break;default:et=5e3}return et=Ve+et,xe={id:x++,callback:Ce,priorityLevel:xe,startTime:Ve,expirationTime:et,sortIndex:-1},Ve>rt?(xe.sortIndex=Ve,r(w,xe),i(C)===null&&xe===i(w)&&(O?(k(ie),ie=-1):O=!0,Be(G,Ve-rt))):(xe.sortIndex=et,r(C,xe),E||R||(E=!0,_e(le))),xe},e.unstable_shouldYield=ce,e.unstable_wrapCallback=function(xe){var Ce=P;return function(){var Ve=P;P=Ce;try{return xe.apply(this,arguments)}finally{P=Ve}}}})(qG);YG.exports=qG;var Hfe=YG.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zfe=z,Ua=Hfe;function mt(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)r+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var JG=new Set,Zg={};function Sf(e,r){_p(e,r),_p(e+"Capture",r)}function _p(e,r){for(Zg[e]=r,e=0;e<r.length;e++)JG.add(r[e])}var vl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xA=Object.prototype.hasOwnProperty,Kfe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h4={},p4={};function Qfe(e){return xA.call(p4,e)?!0:xA.call(h4,e)?!1:Kfe.test(e)?p4[e]=!0:(h4[e]=!0,!1)}function Yfe(e,r,i,s){if(i!==null&&i.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return s?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qfe(e,r,i,s){if(r===null||typeof r>"u"||Yfe(e,r,i,s))return!0;if(s)return!1;if(i!==null)switch(i.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function qo(e,r,i,s,f,h,y){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=s,this.attributeNamespace=f,this.mustUseProperty=i,this.propertyName=e,this.type=r,this.sanitizeURL=h,this.removeEmptyString=y}var ho={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ho[e]=new qo(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var r=e[0];ho[r]=new qo(r,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ho[e]=new qo(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ho[e]=new qo(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ho[e]=new qo(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ho[e]=new qo(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ho[e]=new qo(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ho[e]=new qo(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ho[e]=new qo(e,5,!1,e.toLowerCase(),null,!1,!1)});var fD=/[\-:]([a-z])/g;function hD(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var r=e.replace(fD,hD);ho[r]=new qo(r,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var r=e.replace(fD,hD);ho[r]=new qo(r,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var r=e.replace(fD,hD);ho[r]=new qo(r,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ho[e]=new qo(e,1,!1,e.toLowerCase(),null,!1,!1)});ho.xlinkHref=new qo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ho[e]=new qo(e,1,!1,e.toLowerCase(),null,!0,!0)});function pD(e,r,i,s){var f=ho.hasOwnProperty(r)?ho[r]:null;(f!==null?f.type!==0:s||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(qfe(r,i,f,s)&&(i=null),s||f===null?Qfe(r)&&(i===null?e.removeAttribute(r):e.setAttribute(r,""+i)):f.mustUseProperty?e[f.propertyName]=i===null?f.type===3?!1:"":i:(r=f.attributeName,s=f.attributeNamespace,i===null?e.removeAttribute(r):(f=f.type,i=f===3||f===4&&i===!0?"":""+i,s?e.setAttributeNS(s,r,i):e.setAttribute(r,i))))}var wl=zfe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,v0=Symbol.for("react.element"),jh=Symbol.for("react.portal"),Bh=Symbol.for("react.fragment"),mD=Symbol.for("react.strict_mode"),AA=Symbol.for("react.profiler"),XG=Symbol.for("react.provider"),ZG=Symbol.for("react.context"),gD=Symbol.for("react.forward_ref"),DA=Symbol.for("react.suspense"),PA=Symbol.for("react.suspense_list"),vD=Symbol.for("react.memo"),mc=Symbol.for("react.lazy"),$G=Symbol.for("react.offscreen"),m4=Symbol.iterator;function yg(e){return e===null||typeof e!="object"?null:(e=m4&&e[m4]||e["@@iterator"],typeof e=="function"?e:null)}var ni=Object.assign,Cx;function Ng(e){if(Cx===void 0)try{throw Error()}catch(i){var r=i.stack.trim().match(/\n( *(at )?)/);Cx=r&&r[1]||""}return`
`+Cx+e}var wx=!1;function Ix(e,r){if(!e||wx)return"";wx=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(w){var s=w}Reflect.construct(e,[],r)}else{try{r.call()}catch(w){s=w}e.call(r.prototype)}else{try{throw Error()}catch(w){s=w}e()}}catch(w){if(w&&s&&typeof w.stack=="string"){for(var f=w.stack.split(`
`),h=s.stack.split(`
`),y=f.length-1,_=h.length-1;1<=y&&0<=_&&f[y]!==h[_];)_--;for(;1<=y&&0<=_;y--,_--)if(f[y]!==h[_]){if(y!==1||_!==1)do if(y--,_--,0>_||f[y]!==h[_]){var C=`
`+f[y].replace(" at new "," at ");return e.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",e.displayName)),C}while(1<=y&&0<=_);break}}}finally{wx=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?Ng(e):""}function Jfe(e){switch(e.tag){case 5:return Ng(e.type);case 16:return Ng("Lazy");case 13:return Ng("Suspense");case 19:return Ng("SuspenseList");case 0:case 2:case 15:return e=Ix(e.type,!1),e;case 11:return e=Ix(e.type.render,!1),e;case 1:return e=Ix(e.type,!0),e;default:return""}}function RA(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Bh:return"Fragment";case jh:return"Portal";case AA:return"Profiler";case mD:return"StrictMode";case DA:return"Suspense";case PA:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ZG:return(e.displayName||"Context")+".Consumer";case XG:return(e._context.displayName||"Context")+".Provider";case gD:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case vD:return r=e.displayName||null,r!==null?r:RA(e.type)||"Memo";case mc:r=e._payload,e=e._init;try{return RA(e(r))}catch{}}return null}function Xfe(e){var r=e.type;switch(e.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=r.render,e=e.displayName||e.name||"",r.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return RA(r);case 8:return r===mD?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Kc(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function e6(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Zfe(e){var r=e6(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),s=""+e[r];if(!e.hasOwnProperty(r)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var f=i.get,h=i.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return f.call(this)},set:function(y){s=""+y,h.call(this,y)}}),Object.defineProperty(e,r,{enumerable:i.enumerable}),{getValue:function(){return s},setValue:function(y){s=""+y},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function y0(e){e._valueTracker||(e._valueTracker=Zfe(e))}function t6(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var i=r.getValue(),s="";return e&&(s=e6(e)?e.checked?"true":"false":e.value),e=s,e!==i?(r.setValue(e),!0):!1}function dS(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function kA(e,r){var i=r.checked;return ni({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function g4(e,r){var i=r.defaultValue==null?"":r.defaultValue,s=r.checked!=null?r.checked:r.defaultChecked;i=Kc(r.value!=null?r.value:i),e._wrapperState={initialChecked:s,initialValue:i,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function r6(e,r){r=r.checked,r!=null&&pD(e,"checked",r,!1)}function NA(e,r){r6(e,r);var i=Kc(r.value),s=r.type;if(i!=null)s==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}r.hasOwnProperty("value")?OA(e,r.type,i):r.hasOwnProperty("defaultValue")&&OA(e,r.type,Kc(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(e.defaultChecked=!!r.defaultChecked)}function v4(e,r,i){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var s=r.type;if(!(s!=="submit"&&s!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+e._wrapperState.initialValue,i||r===e.value||(e.value=r),e.defaultValue=r}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function OA(e,r,i){(r!=="number"||dS(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Og=Array.isArray;function Zh(e,r,i,s){if(e=e.options,r){r={};for(var f=0;f<i.length;f++)r["$"+i[f]]=!0;for(i=0;i<e.length;i++)f=r.hasOwnProperty("$"+e[i].value),e[i].selected!==f&&(e[i].selected=f),f&&s&&(e[i].defaultSelected=!0)}else{for(i=""+Kc(i),r=null,f=0;f<e.length;f++){if(e[f].value===i){e[f].selected=!0,s&&(e[f].defaultSelected=!0);return}r!==null||e[f].disabled||(r=e[f])}r!==null&&(r.selected=!0)}}function FA(e,r){if(r.dangerouslySetInnerHTML!=null)throw Error(mt(91));return ni({},r,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function y4(e,r){var i=r.value;if(i==null){if(i=r.children,r=r.defaultValue,i!=null){if(r!=null)throw Error(mt(92));if(Og(i)){if(1<i.length)throw Error(mt(93));i=i[0]}r=i}r==null&&(r=""),i=r}e._wrapperState={initialValue:Kc(i)}}function n6(e,r){var i=Kc(r.value),s=Kc(r.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),r.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),s!=null&&(e.defaultValue=""+s)}function _4(e){var r=e.textContent;r===e._wrapperState.initialValue&&r!==""&&r!==null&&(e.value=r)}function i6(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function MA(e,r){return e==null||e==="http://www.w3.org/1999/xhtml"?i6(r):e==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var _0,o6=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,i,s,f){MSApp.execUnsafeLocalFunction(function(){return e(r,i,s,f)})}:e}(function(e,r){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=r;else{for(_0=_0||document.createElement("div"),_0.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=_0.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;r.firstChild;)e.appendChild(r.firstChild)}});function $g(e,r){if(r){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=r;return}}e.textContent=r}var Ug={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$fe=["Webkit","ms","Moz","O"];Object.keys(Ug).forEach(function(e){$fe.forEach(function(r){r=r+e.charAt(0).toUpperCase()+e.substring(1),Ug[r]=Ug[e]})});function a6(e,r,i){return r==null||typeof r=="boolean"||r===""?"":i||typeof r!="number"||r===0||Ug.hasOwnProperty(e)&&Ug[e]?(""+r).trim():r+"px"}function s6(e,r){e=e.style;for(var i in r)if(r.hasOwnProperty(i)){var s=i.indexOf("--")===0,f=a6(i,r[i],s);i==="float"&&(i="cssFloat"),s?e.setProperty(i,f):e[i]=f}}var ehe=ni({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function LA(e,r){if(r){if(ehe[e]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(mt(137,e));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(mt(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(mt(61))}if(r.style!=null&&typeof r.style!="object")throw Error(mt(62))}}function WA(e,r){if(e.indexOf("-")===-1)return typeof r.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jA=null;function yD(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var BA=null,$h=null,ep=null;function S4(e){if(e=Lv(e)){if(typeof BA!="function")throw Error(mt(280));var r=e.stateNode;r&&(r=ab(r),BA(e.stateNode,e.type,r))}}function u6(e){$h?ep?ep.push(e):ep=[e]:$h=e}function l6(){if($h){var e=$h,r=ep;if(ep=$h=null,S4(e),r)for(e=0;e<r.length;e++)S4(r[e])}}function c6(e,r){return e(r)}function d6(){}var Ex=!1;function f6(e,r,i){if(Ex)return e(r,i);Ex=!0;try{return c6(e,r,i)}finally{Ex=!1,($h!==null||ep!==null)&&(d6(),l6())}}function ev(e,r){var i=e.stateNode;if(i===null)return null;var s=ab(i);if(s===null)return null;i=s[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(mt(231,r,typeof i));return i}var UA=!1;if(vl)try{var _g={};Object.defineProperty(_g,"passive",{get:function(){UA=!0}}),window.addEventListener("test",_g,_g),window.removeEventListener("test",_g,_g)}catch{UA=!1}function the(e,r,i,s,f,h,y,_,C){var w=Array.prototype.slice.call(arguments,3);try{r.apply(i,w)}catch(x){this.onError(x)}}var Vg=!1,fS=null,hS=!1,VA=null,rhe={onError:function(e){Vg=!0,fS=e}};function nhe(e,r,i,s,f,h,y,_,C){Vg=!1,fS=null,the.apply(rhe,arguments)}function ihe(e,r,i,s,f,h,y,_,C){if(nhe.apply(this,arguments),Vg){if(Vg){var w=fS;Vg=!1,fS=null}else throw Error(mt(198));hS||(hS=!0,VA=w)}}function bf(e){var r=e,i=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,r.flags&4098&&(i=r.return),e=r.return;while(e)}return r.tag===3?i:null}function h6(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function b4(e){if(bf(e)!==e)throw Error(mt(188))}function ohe(e){var r=e.alternate;if(!r){if(r=bf(e),r===null)throw Error(mt(188));return r!==e?null:e}for(var i=e,s=r;;){var f=i.return;if(f===null)break;var h=f.alternate;if(h===null){if(s=f.return,s!==null){i=s;continue}break}if(f.child===h.child){for(h=f.child;h;){if(h===i)return b4(f),e;if(h===s)return b4(f),r;h=h.sibling}throw Error(mt(188))}if(i.return!==s.return)i=f,s=h;else{for(var y=!1,_=f.child;_;){if(_===i){y=!0,i=f,s=h;break}if(_===s){y=!0,s=f,i=h;break}_=_.sibling}if(!y){for(_=h.child;_;){if(_===i){y=!0,i=h,s=f;break}if(_===s){y=!0,s=h,i=f;break}_=_.sibling}if(!y)throw Error(mt(189))}}if(i.alternate!==s)throw Error(mt(190))}if(i.tag!==3)throw Error(mt(188));return i.stateNode.current===i?e:r}function p6(e){return e=ohe(e),e!==null?m6(e):null}function m6(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var r=m6(e);if(r!==null)return r;e=e.sibling}return null}var g6=Ua.unstable_scheduleCallback,T4=Ua.unstable_cancelCallback,ahe=Ua.unstable_shouldYield,she=Ua.unstable_requestPaint,Ci=Ua.unstable_now,uhe=Ua.unstable_getCurrentPriorityLevel,_D=Ua.unstable_ImmediatePriority,v6=Ua.unstable_UserBlockingPriority,pS=Ua.unstable_NormalPriority,lhe=Ua.unstable_LowPriority,y6=Ua.unstable_IdlePriority,rb=null,Nu=null;function che(e){if(Nu&&typeof Nu.onCommitFiberRoot=="function")try{Nu.onCommitFiberRoot(rb,e,void 0,(e.current.flags&128)===128)}catch{}}var qs=Math.clz32?Math.clz32:hhe,dhe=Math.log,fhe=Math.LN2;function hhe(e){return e>>>=0,e===0?32:31-(dhe(e)/fhe|0)|0}var S0=64,b0=4194304;function Fg(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mS(e,r){var i=e.pendingLanes;if(i===0)return 0;var s=0,f=e.suspendedLanes,h=e.pingedLanes,y=i&268435455;if(y!==0){var _=y&~f;_!==0?s=Fg(_):(h&=y,h!==0&&(s=Fg(h)))}else y=i&~f,y!==0?s=Fg(y):h!==0&&(s=Fg(h));if(s===0)return 0;if(r!==0&&r!==s&&!(r&f)&&(f=s&-s,h=r&-r,f>=h||f===16&&(h&4194240)!==0))return r;if(s&4&&(s|=i&16),r=e.entangledLanes,r!==0)for(e=e.entanglements,r&=s;0<r;)i=31-qs(r),f=1<<i,s|=e[i],r&=~f;return s}function phe(e,r){switch(e){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mhe(e,r){for(var i=e.suspendedLanes,s=e.pingedLanes,f=e.expirationTimes,h=e.pendingLanes;0<h;){var y=31-qs(h),_=1<<y,C=f[y];C===-1?(!(_&i)||_&s)&&(f[y]=phe(_,r)):C<=r&&(e.expiredLanes|=_),h&=~_}}function GA(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function _6(){var e=S0;return S0<<=1,!(S0&4194240)&&(S0=64),e}function xx(e){for(var r=[],i=0;31>i;i++)r.push(e);return r}function Fv(e,r,i){e.pendingLanes|=r,r!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,r=31-qs(r),e[r]=i}function ghe(e,r){var i=e.pendingLanes&~r;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=r,e.mutableReadLanes&=r,e.entangledLanes&=r,r=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<i;){var f=31-qs(i),h=1<<f;r[f]=0,s[f]=-1,e[f]=-1,i&=~h}}function SD(e,r){var i=e.entangledLanes|=r;for(e=e.entanglements;i;){var s=31-qs(i),f=1<<s;f&r|e[s]&r&&(e[s]|=r),i&=~f}}var dn=0;function S6(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var b6,bD,T6,C6,w6,HA=!1,T0=[],kc=null,Nc=null,Oc=null,tv=new Map,rv=new Map,vc=[],vhe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function C4(e,r){switch(e){case"focusin":case"focusout":kc=null;break;case"dragenter":case"dragleave":Nc=null;break;case"mouseover":case"mouseout":Oc=null;break;case"pointerover":case"pointerout":tv.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":rv.delete(r.pointerId)}}function Sg(e,r,i,s,f,h){return e===null||e.nativeEvent!==h?(e={blockedOn:r,domEventName:i,eventSystemFlags:s,nativeEvent:h,targetContainers:[f]},r!==null&&(r=Lv(r),r!==null&&bD(r)),e):(e.eventSystemFlags|=s,r=e.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),e)}function yhe(e,r,i,s,f){switch(r){case"focusin":return kc=Sg(kc,e,r,i,s,f),!0;case"dragenter":return Nc=Sg(Nc,e,r,i,s,f),!0;case"mouseover":return Oc=Sg(Oc,e,r,i,s,f),!0;case"pointerover":var h=f.pointerId;return tv.set(h,Sg(tv.get(h)||null,e,r,i,s,f)),!0;case"gotpointercapture":return h=f.pointerId,rv.set(h,Sg(rv.get(h)||null,e,r,i,s,f)),!0}return!1}function I6(e){var r=zd(e.target);if(r!==null){var i=bf(r);if(i!==null){if(r=i.tag,r===13){if(r=h6(i),r!==null){e.blockedOn=r,w6(e.priority,function(){T6(i)});return}}else if(r===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function K0(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var i=zA(e.domEventName,e.eventSystemFlags,r[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var s=new i.constructor(i.type,i);jA=s,i.target.dispatchEvent(s),jA=null}else return r=Lv(i),r!==null&&bD(r),e.blockedOn=i,!1;r.shift()}return!0}function w4(e,r,i){K0(e)&&i.delete(r)}function _he(){HA=!1,kc!==null&&K0(kc)&&(kc=null),Nc!==null&&K0(Nc)&&(Nc=null),Oc!==null&&K0(Oc)&&(Oc=null),tv.forEach(w4),rv.forEach(w4)}function bg(e,r){e.blockedOn===r&&(e.blockedOn=null,HA||(HA=!0,Ua.unstable_scheduleCallback(Ua.unstable_NormalPriority,_he)))}function nv(e){function r(f){return bg(f,e)}if(0<T0.length){bg(T0[0],e);for(var i=1;i<T0.length;i++){var s=T0[i];s.blockedOn===e&&(s.blockedOn=null)}}for(kc!==null&&bg(kc,e),Nc!==null&&bg(Nc,e),Oc!==null&&bg(Oc,e),tv.forEach(r),rv.forEach(r),i=0;i<vc.length;i++)s=vc[i],s.blockedOn===e&&(s.blockedOn=null);for(;0<vc.length&&(i=vc[0],i.blockedOn===null);)I6(i),i.blockedOn===null&&vc.shift()}var tp=wl.ReactCurrentBatchConfig,gS=!0;function She(e,r,i,s){var f=dn,h=tp.transition;tp.transition=null;try{dn=1,TD(e,r,i,s)}finally{dn=f,tp.transition=h}}function bhe(e,r,i,s){var f=dn,h=tp.transition;tp.transition=null;try{dn=4,TD(e,r,i,s)}finally{dn=f,tp.transition=h}}function TD(e,r,i,s){if(gS){var f=zA(e,r,i,s);if(f===null)Lx(e,r,s,vS,i),C4(e,s);else if(yhe(f,e,r,i,s))s.stopPropagation();else if(C4(e,s),r&4&&-1<vhe.indexOf(e)){for(;f!==null;){var h=Lv(f);if(h!==null&&b6(h),h=zA(e,r,i,s),h===null&&Lx(e,r,s,vS,i),h===f)break;f=h}f!==null&&s.stopPropagation()}else Lx(e,r,s,null,i)}}var vS=null;function zA(e,r,i,s){if(vS=null,e=yD(s),e=zd(e),e!==null)if(r=bf(e),r===null)e=null;else if(i=r.tag,i===13){if(e=h6(r),e!==null)return e;e=null}else if(i===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null);return vS=e,null}function E6(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uhe()){case _D:return 1;case v6:return 4;case pS:case lhe:return 16;case y6:return 536870912;default:return 16}default:return 16}}var Dc=null,CD=null,Q0=null;function x6(){if(Q0)return Q0;var e,r=CD,i=r.length,s,f="value"in Dc?Dc.value:Dc.textContent,h=f.length;for(e=0;e<i&&r[e]===f[e];e++);var y=i-e;for(s=1;s<=y&&r[i-s]===f[h-s];s++);return Q0=f.slice(e,1<s?1-s:void 0)}function Y0(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function C0(){return!0}function I4(){return!1}function Ga(e){function r(i,s,f,h,y){this._reactName=i,this._targetInst=f,this.type=s,this.nativeEvent=h,this.target=y,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(i=e[_],this[_]=i?i(h):h[_]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?C0:I4,this.isPropagationStopped=I4,this}return ni(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=C0)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=C0)},persist:function(){},isPersistent:C0}),r}var Op={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wD=Ga(Op),Mv=ni({},Op,{view:0,detail:0}),The=Ga(Mv),Ax,Dx,Tg,nb=ni({},Mv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ID,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Tg&&(Tg&&e.type==="mousemove"?(Ax=e.screenX-Tg.screenX,Dx=e.screenY-Tg.screenY):Dx=Ax=0,Tg=e),Ax)},movementY:function(e){return"movementY"in e?e.movementY:Dx}}),E4=Ga(nb),Che=ni({},nb,{dataTransfer:0}),whe=Ga(Che),Ihe=ni({},Mv,{relatedTarget:0}),Px=Ga(Ihe),Ehe=ni({},Op,{animationName:0,elapsedTime:0,pseudoElement:0}),xhe=Ga(Ehe),Ahe=ni({},Op,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Dhe=Ga(Ahe),Phe=ni({},Op,{data:0}),x4=Ga(Phe),Rhe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},khe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nhe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ohe(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=Nhe[e])?!!r[e]:!1}function ID(){return Ohe}var Fhe=ni({},Mv,{key:function(e){if(e.key){var r=Rhe[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=Y0(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?khe[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ID,charCode:function(e){return e.type==="keypress"?Y0(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Y0(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Mhe=Ga(Fhe),Lhe=ni({},nb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),A4=Ga(Lhe),Whe=ni({},Mv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ID}),jhe=Ga(Whe),Bhe=ni({},Op,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uhe=Ga(Bhe),Vhe=ni({},nb,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ghe=Ga(Vhe),Hhe=[9,13,27,32],ED=vl&&"CompositionEvent"in window,Gg=null;vl&&"documentMode"in document&&(Gg=document.documentMode);var zhe=vl&&"TextEvent"in window&&!Gg,A6=vl&&(!ED||Gg&&8<Gg&&11>=Gg),D4=" ",P4=!1;function D6(e,r){switch(e){case"keyup":return Hhe.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function P6(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Uh=!1;function Khe(e,r){switch(e){case"compositionend":return P6(r);case"keypress":return r.which!==32?null:(P4=!0,D4);case"textInput":return e=r.data,e===D4&&P4?null:e;default:return null}}function Qhe(e,r){if(Uh)return e==="compositionend"||!ED&&D6(e,r)?(e=x6(),Q0=CD=Dc=null,Uh=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return A6&&r.locale!=="ko"?null:r.data;default:return null}}var Yhe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function R4(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!Yhe[e.type]:r==="textarea"}function R6(e,r,i,s){u6(s),r=yS(r,"onChange"),0<r.length&&(i=new wD("onChange","change",null,i,s),e.push({event:i,listeners:r}))}var Hg=null,iv=null;function qhe(e){V6(e,0)}function ib(e){var r=Hh(e);if(t6(r))return e}function Jhe(e,r){if(e==="change")return r}var k6=!1;if(vl){var Rx;if(vl){var kx="oninput"in document;if(!kx){var k4=document.createElement("div");k4.setAttribute("oninput","return;"),kx=typeof k4.oninput=="function"}Rx=kx}else Rx=!1;k6=Rx&&(!document.documentMode||9<document.documentMode)}function N4(){Hg&&(Hg.detachEvent("onpropertychange",N6),iv=Hg=null)}function N6(e){if(e.propertyName==="value"&&ib(iv)){var r=[];R6(r,iv,e,yD(e)),f6(qhe,r)}}function Xhe(e,r,i){e==="focusin"?(N4(),Hg=r,iv=i,Hg.attachEvent("onpropertychange",N6)):e==="focusout"&&N4()}function Zhe(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ib(iv)}function $he(e,r){if(e==="click")return ib(r)}function epe(e,r){if(e==="input"||e==="change")return ib(r)}function tpe(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Xs=typeof Object.is=="function"?Object.is:tpe;function ov(e,r){if(Xs(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var i=Object.keys(e),s=Object.keys(r);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var f=i[s];if(!xA.call(r,f)||!Xs(e[f],r[f]))return!1}return!0}function O4(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function F4(e,r){var i=O4(e);e=0;for(var s;i;){if(i.nodeType===3){if(s=e+i.textContent.length,e<=r&&s>=r)return{node:i,offset:r-e};e=s}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=O4(i)}}function O6(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?O6(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function F6(){for(var e=window,r=dS();r instanceof e.HTMLIFrameElement;){try{var i=typeof r.contentWindow.location.href=="string"}catch{i=!1}if(i)e=r.contentWindow;else break;r=dS(e.document)}return r}function xD(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}function rpe(e){var r=F6(),i=e.focusedElem,s=e.selectionRange;if(r!==i&&i&&i.ownerDocument&&O6(i.ownerDocument.documentElement,i)){if(s!==null&&xD(i)){if(r=s.start,e=s.end,e===void 0&&(e=r),"selectionStart"in i)i.selectionStart=r,i.selectionEnd=Math.min(e,i.value.length);else if(e=(r=i.ownerDocument||document)&&r.defaultView||window,e.getSelection){e=e.getSelection();var f=i.textContent.length,h=Math.min(s.start,f);s=s.end===void 0?h:Math.min(s.end,f),!e.extend&&h>s&&(f=s,s=h,h=f),f=F4(i,h);var y=F4(i,s);f&&y&&(e.rangeCount!==1||e.anchorNode!==f.node||e.anchorOffset!==f.offset||e.focusNode!==y.node||e.focusOffset!==y.offset)&&(r=r.createRange(),r.setStart(f.node,f.offset),e.removeAllRanges(),h>s?(e.addRange(r),e.extend(y.node,y.offset)):(r.setEnd(y.node,y.offset),e.addRange(r)))}}for(r=[],e=i;e=e.parentNode;)e.nodeType===1&&r.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<r.length;i++)e=r[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var npe=vl&&"documentMode"in document&&11>=document.documentMode,Vh=null,KA=null,zg=null,QA=!1;function M4(e,r,i){var s=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;QA||Vh==null||Vh!==dS(s)||(s=Vh,"selectionStart"in s&&xD(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),zg&&ov(zg,s)||(zg=s,s=yS(KA,"onSelect"),0<s.length&&(r=new wD("onSelect","select",null,r,i),e.push({event:r,listeners:s}),r.target=Vh)))}function w0(e,r){var i={};return i[e.toLowerCase()]=r.toLowerCase(),i["Webkit"+e]="webkit"+r,i["Moz"+e]="moz"+r,i}var Gh={animationend:w0("Animation","AnimationEnd"),animationiteration:w0("Animation","AnimationIteration"),animationstart:w0("Animation","AnimationStart"),transitionend:w0("Transition","TransitionEnd")},Nx={},M6={};vl&&(M6=document.createElement("div").style,"AnimationEvent"in window||(delete Gh.animationend.animation,delete Gh.animationiteration.animation,delete Gh.animationstart.animation),"TransitionEvent"in window||delete Gh.transitionend.transition);function ob(e){if(Nx[e])return Nx[e];if(!Gh[e])return e;var r=Gh[e],i;for(i in r)if(r.hasOwnProperty(i)&&i in M6)return Nx[e]=r[i];return e}var L6=ob("animationend"),W6=ob("animationiteration"),j6=ob("animationstart"),B6=ob("transitionend"),U6=new Map,L4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zc(e,r){U6.set(e,r),Sf(r,[e])}for(var Ox=0;Ox<L4.length;Ox++){var Fx=L4[Ox],ipe=Fx.toLowerCase(),ope=Fx[0].toUpperCase()+Fx.slice(1);Zc(ipe,"on"+ope)}Zc(L6,"onAnimationEnd");Zc(W6,"onAnimationIteration");Zc(j6,"onAnimationStart");Zc("dblclick","onDoubleClick");Zc("focusin","onFocus");Zc("focusout","onBlur");Zc(B6,"onTransitionEnd");_p("onMouseEnter",["mouseout","mouseover"]);_p("onMouseLeave",["mouseout","mouseover"]);_p("onPointerEnter",["pointerout","pointerover"]);_p("onPointerLeave",["pointerout","pointerover"]);Sf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sf("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ape=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mg));function W4(e,r,i){var s=e.type||"unknown-event";e.currentTarget=i,ihe(s,r,void 0,e),e.currentTarget=null}function V6(e,r){r=(r&4)!==0;for(var i=0;i<e.length;i++){var s=e[i],f=s.event;s=s.listeners;e:{var h=void 0;if(r)for(var y=s.length-1;0<=y;y--){var _=s[y],C=_.instance,w=_.currentTarget;if(_=_.listener,C!==h&&f.isPropagationStopped())break e;W4(f,_,w),h=C}else for(y=0;y<s.length;y++){if(_=s[y],C=_.instance,w=_.currentTarget,_=_.listener,C!==h&&f.isPropagationStopped())break e;W4(f,_,w),h=C}}}if(hS)throw e=VA,hS=!1,VA=null,e}function Dn(e,r){var i=r[ZA];i===void 0&&(i=r[ZA]=new Set);var s=e+"__bubble";i.has(s)||(G6(r,e,2,!1),i.add(s))}function Mx(e,r,i){var s=0;r&&(s|=4),G6(i,e,s,r)}var I0="_reactListening"+Math.random().toString(36).slice(2);function av(e){if(!e[I0]){e[I0]=!0,JG.forEach(function(i){i!=="selectionchange"&&(ape.has(i)||Mx(i,!1,e),Mx(i,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[I0]||(r[I0]=!0,Mx("selectionchange",!1,r))}}function G6(e,r,i,s){switch(E6(r)){case 1:var f=She;break;case 4:f=bhe;break;default:f=TD}i=f.bind(null,r,i,e),f=void 0,!UA||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),s?f!==void 0?e.addEventListener(r,i,{capture:!0,passive:f}):e.addEventListener(r,i,!0):f!==void 0?e.addEventListener(r,i,{passive:f}):e.addEventListener(r,i,!1)}function Lx(e,r,i,s,f){var h=s;if(!(r&1)&&!(r&2)&&s!==null)e:for(;;){if(s===null)return;var y=s.tag;if(y===3||y===4){var _=s.stateNode.containerInfo;if(_===f||_.nodeType===8&&_.parentNode===f)break;if(y===4)for(y=s.return;y!==null;){var C=y.tag;if((C===3||C===4)&&(C=y.stateNode.containerInfo,C===f||C.nodeType===8&&C.parentNode===f))return;y=y.return}for(;_!==null;){if(y=zd(_),y===null)return;if(C=y.tag,C===5||C===6){s=h=y;continue e}_=_.parentNode}}s=s.return}f6(function(){var w=h,x=yD(i),A=[];e:{var P=U6.get(e);if(P!==void 0){var R=wD,E=e;switch(e){case"keypress":if(Y0(i)===0)break e;case"keydown":case"keyup":R=Mhe;break;case"focusin":E="focus",R=Px;break;case"focusout":E="blur",R=Px;break;case"beforeblur":case"afterblur":R=Px;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=E4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=whe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=jhe;break;case L6:case W6:case j6:R=xhe;break;case B6:R=Uhe;break;case"scroll":R=The;break;case"wheel":R=Ghe;break;case"copy":case"cut":case"paste":R=Dhe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=A4}var O=(r&4)!==0,L=!O&&e==="scroll",k=O?P!==null?P+"Capture":null:P;O=[];for(var N=w,j;N!==null;){j=N;var G=j.stateNode;if(j.tag===5&&G!==null&&(j=G,k!==null&&(G=ev(N,k),G!=null&&O.push(sv(N,G,j)))),L)break;N=N.return}0<O.length&&(P=new R(P,E,null,i,x),A.push({event:P,listeners:O}))}}if(!(r&7)){e:{if(P=e==="mouseover"||e==="pointerover",R=e==="mouseout"||e==="pointerout",P&&i!==jA&&(E=i.relatedTarget||i.fromElement)&&(zd(E)||E[yl]))break e;if((R||P)&&(P=x.window===x?x:(P=x.ownerDocument)?P.defaultView||P.parentWindow:window,R?(E=i.relatedTarget||i.toElement,R=w,E=E?zd(E):null,E!==null&&(L=bf(E),E!==L||E.tag!==5&&E.tag!==6)&&(E=null)):(R=null,E=w),R!==E)){if(O=E4,G="onMouseLeave",k="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(O=A4,G="onPointerLeave",k="onPointerEnter",N="pointer"),L=R==null?P:Hh(R),j=E==null?P:Hh(E),P=new O(G,N+"leave",R,i,x),P.target=L,P.relatedTarget=j,G=null,zd(x)===w&&(O=new O(k,N+"enter",E,i,x),O.target=j,O.relatedTarget=L,G=O),L=G,R&&E)t:{for(O=R,k=E,N=0,j=O;j;j=Oh(j))N++;for(j=0,G=k;G;G=Oh(G))j++;for(;0<N-j;)O=Oh(O),N--;for(;0<j-N;)k=Oh(k),j--;for(;N--;){if(O===k||k!==null&&O===k.alternate)break t;O=Oh(O),k=Oh(k)}O=null}else O=null;R!==null&&j4(A,P,R,O,!1),E!==null&&L!==null&&j4(A,L,E,O,!0)}}e:{if(P=w?Hh(w):window,R=P.nodeName&&P.nodeName.toLowerCase(),R==="select"||R==="input"&&P.type==="file")var le=Jhe;else if(R4(P))if(k6)le=epe;else{le=Zhe;var $=Xhe}else(R=P.nodeName)&&R.toLowerCase()==="input"&&(P.type==="checkbox"||P.type==="radio")&&(le=$he);if(le&&(le=le(e,w))){R6(A,le,i,x);break e}$&&$(e,P,w),e==="focusout"&&($=P._wrapperState)&&$.controlled&&P.type==="number"&&OA(P,"number",P.value)}switch($=w?Hh(w):window,e){case"focusin":(R4($)||$.contentEditable==="true")&&(Vh=$,KA=w,zg=null);break;case"focusout":zg=KA=Vh=null;break;case"mousedown":QA=!0;break;case"contextmenu":case"mouseup":case"dragend":QA=!1,M4(A,i,x);break;case"selectionchange":if(npe)break;case"keydown":case"keyup":M4(A,i,x)}var H;if(ED)e:{switch(e){case"compositionstart":var ie="onCompositionStart";break e;case"compositionend":ie="onCompositionEnd";break e;case"compositionupdate":ie="onCompositionUpdate";break e}ie=void 0}else Uh?D6(e,i)&&(ie="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ie="onCompositionStart");ie&&(A6&&i.locale!=="ko"&&(Uh||ie!=="onCompositionStart"?ie==="onCompositionEnd"&&Uh&&(H=x6()):(Dc=x,CD="value"in Dc?Dc.value:Dc.textContent,Uh=!0)),$=yS(w,ie),0<$.length&&(ie=new x4(ie,e,null,i,x),A.push({event:ie,listeners:$}),H?ie.data=H:(H=P6(i),H!==null&&(ie.data=H)))),(H=zhe?Khe(e,i):Qhe(e,i))&&(w=yS(w,"onBeforeInput"),0<w.length&&(x=new x4("onBeforeInput","beforeinput",null,i,x),A.push({event:x,listeners:w}),x.data=H))}V6(A,r)})}function sv(e,r,i){return{instance:e,listener:r,currentTarget:i}}function yS(e,r){for(var i=r+"Capture",s=[];e!==null;){var f=e,h=f.stateNode;f.tag===5&&h!==null&&(f=h,h=ev(e,i),h!=null&&s.unshift(sv(e,h,f)),h=ev(e,r),h!=null&&s.push(sv(e,h,f))),e=e.return}return s}function Oh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function j4(e,r,i,s,f){for(var h=r._reactName,y=[];i!==null&&i!==s;){var _=i,C=_.alternate,w=_.stateNode;if(C!==null&&C===s)break;_.tag===5&&w!==null&&(_=w,f?(C=ev(i,h),C!=null&&y.unshift(sv(i,C,_))):f||(C=ev(i,h),C!=null&&y.push(sv(i,C,_)))),i=i.return}y.length!==0&&e.push({event:r,listeners:y})}var spe=/\r\n?/g,upe=/\u0000|\uFFFD/g;function B4(e){return(typeof e=="string"?e:""+e).replace(spe,`
`).replace(upe,"")}function E0(e,r,i){if(r=B4(r),B4(e)!==r&&i)throw Error(mt(425))}function _S(){}var YA=null,qA=null;function JA(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var XA=typeof setTimeout=="function"?setTimeout:void 0,lpe=typeof clearTimeout=="function"?clearTimeout:void 0,U4=typeof Promise=="function"?Promise:void 0,cpe=typeof queueMicrotask=="function"?queueMicrotask:typeof U4<"u"?function(e){return U4.resolve(null).then(e).catch(dpe)}:XA;function dpe(e){setTimeout(function(){throw e})}function Wx(e,r){var i=r,s=0;do{var f=i.nextSibling;if(e.removeChild(i),f&&f.nodeType===8)if(i=f.data,i==="/$"){if(s===0){e.removeChild(f),nv(r);return}s--}else i!=="$"&&i!=="$?"&&i!=="$!"||s++;i=f}while(i);nv(r)}function Fc(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return e}function V4(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(r===0)return e;r--}else i==="/$"&&r++}e=e.previousSibling}return null}var Fp=Math.random().toString(36).slice(2),Au="__reactFiber$"+Fp,uv="__reactProps$"+Fp,yl="__reactContainer$"+Fp,ZA="__reactEvents$"+Fp,fpe="__reactListeners$"+Fp,hpe="__reactHandles$"+Fp;function zd(e){var r=e[Au];if(r)return r;for(var i=e.parentNode;i;){if(r=i[yl]||i[Au]){if(i=r.alternate,r.child!==null||i!==null&&i.child!==null)for(e=V4(e);e!==null;){if(i=e[Au])return i;e=V4(e)}return r}e=i,i=e.parentNode}return null}function Lv(e){return e=e[Au]||e[yl],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Hh(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(mt(33))}function ab(e){return e[uv]||null}var $A=[],zh=-1;function $c(e){return{current:e}}function kn(e){0>zh||(e.current=$A[zh],$A[zh]=null,zh--)}function Sn(e,r){zh++,$A[zh]=e.current,e.current=r}var Qc={},Do=$c(Qc),_a=$c(!1),uf=Qc;function Sp(e,r){var i=e.type.contextTypes;if(!i)return Qc;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===r)return s.__reactInternalMemoizedMaskedChildContext;var f={},h;for(h in i)f[h]=r[h];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=f),f}function Sa(e){return e=e.childContextTypes,e!=null}function SS(){kn(_a),kn(Do)}function G4(e,r,i){if(Do.current!==Qc)throw Error(mt(168));Sn(Do,r),Sn(_a,i)}function H6(e,r,i){var s=e.stateNode;if(r=r.childContextTypes,typeof s.getChildContext!="function")return i;s=s.getChildContext();for(var f in s)if(!(f in r))throw Error(mt(108,Xfe(e)||"Unknown",f));return ni({},i,s)}function bS(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Qc,uf=Do.current,Sn(Do,e),Sn(_a,_a.current),!0}function H4(e,r,i){var s=e.stateNode;if(!s)throw Error(mt(169));i?(e=H6(e,r,uf),s.__reactInternalMemoizedMergedChildContext=e,kn(_a),kn(Do),Sn(Do,e)):kn(_a),Sn(_a,i)}var sl=null,sb=!1,jx=!1;function z6(e){sl===null?sl=[e]:sl.push(e)}function ppe(e){sb=!0,z6(e)}function ed(){if(!jx&&sl!==null){jx=!0;var e=0,r=dn;try{var i=sl;for(dn=1;e<i.length;e++){var s=i[e];do s=s(!0);while(s!==null)}sl=null,sb=!1}catch(f){throw sl!==null&&(sl=sl.slice(e+1)),g6(_D,ed),f}finally{dn=r,jx=!1}}return null}var Kh=[],Qh=0,TS=null,CS=0,ss=[],us=0,lf=null,fl=1,hl="";function jd(e,r){Kh[Qh++]=CS,Kh[Qh++]=TS,TS=e,CS=r}function K6(e,r,i){ss[us++]=fl,ss[us++]=hl,ss[us++]=lf,lf=e;var s=fl;e=hl;var f=32-qs(s)-1;s&=~(1<<f),i+=1;var h=32-qs(r)+f;if(30<h){var y=f-f%5;h=(s&(1<<y)-1).toString(32),s>>=y,f-=y,fl=1<<32-qs(r)+f|i<<f|s,hl=h+e}else fl=1<<h|i<<f|s,hl=e}function AD(e){e.return!==null&&(jd(e,1),K6(e,1,0))}function DD(e){for(;e===TS;)TS=Kh[--Qh],Kh[Qh]=null,CS=Kh[--Qh],Kh[Qh]=null;for(;e===lf;)lf=ss[--us],ss[us]=null,hl=ss[--us],ss[us]=null,fl=ss[--us],ss[us]=null}var ja=null,Wa=null,Vn=!1,Qs=null;function Q6(e,r){var i=cs(5,null,null,0);i.elementType="DELETED",i.stateNode=r,i.return=e,r=e.deletions,r===null?(e.deletions=[i],e.flags|=16):r.push(i)}function z4(e,r){switch(e.tag){case 5:var i=e.type;return r=r.nodeType!==1||i.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(e.stateNode=r,ja=e,Wa=Fc(r.firstChild),!0):!1;case 6:return r=e.pendingProps===""||r.nodeType!==3?null:r,r!==null?(e.stateNode=r,ja=e,Wa=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(i=lf!==null?{id:fl,overflow:hl}:null,e.memoizedState={dehydrated:r,treeContext:i,retryLane:1073741824},i=cs(18,null,null,0),i.stateNode=r,i.return=e,e.child=i,ja=e,Wa=null,!0):!1;default:return!1}}function e1(e){return(e.mode&1)!==0&&(e.flags&128)===0}function t1(e){if(Vn){var r=Wa;if(r){var i=r;if(!z4(e,r)){if(e1(e))throw Error(mt(418));r=Fc(i.nextSibling);var s=ja;r&&z4(e,r)?Q6(s,i):(e.flags=e.flags&-4097|2,Vn=!1,ja=e)}}else{if(e1(e))throw Error(mt(418));e.flags=e.flags&-4097|2,Vn=!1,ja=e}}}function K4(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ja=e}function x0(e){if(e!==ja)return!1;if(!Vn)return K4(e),Vn=!0,!1;var r;if((r=e.tag!==3)&&!(r=e.tag!==5)&&(r=e.type,r=r!=="head"&&r!=="body"&&!JA(e.type,e.memoizedProps)),r&&(r=Wa)){if(e1(e))throw Y6(),Error(mt(418));for(;r;)Q6(e,r),r=Fc(r.nextSibling)}if(K4(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(mt(317));e:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(r===0){Wa=Fc(e.nextSibling);break e}r--}else i!=="$"&&i!=="$!"&&i!=="$?"||r++}e=e.nextSibling}Wa=null}}else Wa=ja?Fc(e.stateNode.nextSibling):null;return!0}function Y6(){for(var e=Wa;e;)e=Fc(e.nextSibling)}function bp(){Wa=ja=null,Vn=!1}function PD(e){Qs===null?Qs=[e]:Qs.push(e)}var mpe=wl.ReactCurrentBatchConfig;function Cg(e,r,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(mt(309));var s=i.stateNode}if(!s)throw Error(mt(147,e));var f=s,h=""+e;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===h?r.ref:(r=function(y){var _=f.refs;y===null?delete _[h]:_[h]=y},r._stringRef=h,r)}if(typeof e!="string")throw Error(mt(284));if(!i._owner)throw Error(mt(290,e))}return e}function A0(e,r){throw e=Object.prototype.toString.call(r),Error(mt(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e))}function Q4(e){var r=e._init;return r(e._payload)}function q6(e){function r(k,N){if(e){var j=k.deletions;j===null?(k.deletions=[N],k.flags|=16):j.push(N)}}function i(k,N){if(!e)return null;for(;N!==null;)r(k,N),N=N.sibling;return null}function s(k,N){for(k=new Map;N!==null;)N.key!==null?k.set(N.key,N):k.set(N.index,N),N=N.sibling;return k}function f(k,N){return k=jc(k,N),k.index=0,k.sibling=null,k}function h(k,N,j){return k.index=j,e?(j=k.alternate,j!==null?(j=j.index,j<N?(k.flags|=2,N):j):(k.flags|=2,N)):(k.flags|=1048576,N)}function y(k){return e&&k.alternate===null&&(k.flags|=2),k}function _(k,N,j,G){return N===null||N.tag!==6?(N=Kx(j,k.mode,G),N.return=k,N):(N=f(N,j),N.return=k,N)}function C(k,N,j,G){var le=j.type;return le===Bh?x(k,N,j.props.children,G,j.key):N!==null&&(N.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===mc&&Q4(le)===N.type)?(G=f(N,j.props),G.ref=Cg(k,N,j),G.return=k,G):(G=tS(j.type,j.key,j.props,null,k.mode,G),G.ref=Cg(k,N,j),G.return=k,G)}function w(k,N,j,G){return N===null||N.tag!==4||N.stateNode.containerInfo!==j.containerInfo||N.stateNode.implementation!==j.implementation?(N=Qx(j,k.mode,G),N.return=k,N):(N=f(N,j.children||[]),N.return=k,N)}function x(k,N,j,G,le){return N===null||N.tag!==7?(N=sf(j,k.mode,G,le),N.return=k,N):(N=f(N,j),N.return=k,N)}function A(k,N,j){if(typeof N=="string"&&N!==""||typeof N=="number")return N=Kx(""+N,k.mode,j),N.return=k,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case v0:return j=tS(N.type,N.key,N.props,null,k.mode,j),j.ref=Cg(k,null,N),j.return=k,j;case jh:return N=Qx(N,k.mode,j),N.return=k,N;case mc:var G=N._init;return A(k,G(N._payload),j)}if(Og(N)||yg(N))return N=sf(N,k.mode,j,null),N.return=k,N;A0(k,N)}return null}function P(k,N,j,G){var le=N!==null?N.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return le!==null?null:_(k,N,""+j,G);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case v0:return j.key===le?C(k,N,j,G):null;case jh:return j.key===le?w(k,N,j,G):null;case mc:return le=j._init,P(k,N,le(j._payload),G)}if(Og(j)||yg(j))return le!==null?null:x(k,N,j,G,null);A0(k,j)}return null}function R(k,N,j,G,le){if(typeof G=="string"&&G!==""||typeof G=="number")return k=k.get(j)||null,_(N,k,""+G,le);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case v0:return k=k.get(G.key===null?j:G.key)||null,C(N,k,G,le);case jh:return k=k.get(G.key===null?j:G.key)||null,w(N,k,G,le);case mc:var $=G._init;return R(k,N,j,$(G._payload),le)}if(Og(G)||yg(G))return k=k.get(j)||null,x(N,k,G,le,null);A0(N,G)}return null}function E(k,N,j,G){for(var le=null,$=null,H=N,ie=N=0,pe=null;H!==null&&ie<j.length;ie++){H.index>ie?(pe=H,H=null):pe=H.sibling;var se=P(k,H,j[ie],G);if(se===null){H===null&&(H=pe);break}e&&H&&se.alternate===null&&r(k,H),N=h(se,N,ie),$===null?le=se:$.sibling=se,$=se,H=pe}if(ie===j.length)return i(k,H),Vn&&jd(k,ie),le;if(H===null){for(;ie<j.length;ie++)H=A(k,j[ie],G),H!==null&&(N=h(H,N,ie),$===null?le=H:$.sibling=H,$=H);return Vn&&jd(k,ie),le}for(H=s(k,H);ie<j.length;ie++)pe=R(H,k,ie,j[ie],G),pe!==null&&(e&&pe.alternate!==null&&H.delete(pe.key===null?ie:pe.key),N=h(pe,N,ie),$===null?le=pe:$.sibling=pe,$=pe);return e&&H.forEach(function(ce){return r(k,ce)}),Vn&&jd(k,ie),le}function O(k,N,j,G){var le=yg(j);if(typeof le!="function")throw Error(mt(150));if(j=le.call(j),j==null)throw Error(mt(151));for(var $=le=null,H=N,ie=N=0,pe=null,se=j.next();H!==null&&!se.done;ie++,se=j.next()){H.index>ie?(pe=H,H=null):pe=H.sibling;var ce=P(k,H,se.value,G);if(ce===null){H===null&&(H=pe);break}e&&H&&ce.alternate===null&&r(k,H),N=h(ce,N,ie),$===null?le=ce:$.sibling=ce,$=ce,H=pe}if(se.done)return i(k,H),Vn&&jd(k,ie),le;if(H===null){for(;!se.done;ie++,se=j.next())se=A(k,se.value,G),se!==null&&(N=h(se,N,ie),$===null?le=se:$.sibling=se,$=se);return Vn&&jd(k,ie),le}for(H=s(k,H);!se.done;ie++,se=j.next())se=R(H,k,ie,se.value,G),se!==null&&(e&&se.alternate!==null&&H.delete(se.key===null?ie:se.key),N=h(se,N,ie),$===null?le=se:$.sibling=se,$=se);return e&&H.forEach(function(me){return r(k,me)}),Vn&&jd(k,ie),le}function L(k,N,j,G){if(typeof j=="object"&&j!==null&&j.type===Bh&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case v0:e:{for(var le=j.key,$=N;$!==null;){if($.key===le){if(le=j.type,le===Bh){if($.tag===7){i(k,$.sibling),N=f($,j.props.children),N.return=k,k=N;break e}}else if($.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===mc&&Q4(le)===$.type){i(k,$.sibling),N=f($,j.props),N.ref=Cg(k,$,j),N.return=k,k=N;break e}i(k,$);break}else r(k,$);$=$.sibling}j.type===Bh?(N=sf(j.props.children,k.mode,G,j.key),N.return=k,k=N):(G=tS(j.type,j.key,j.props,null,k.mode,G),G.ref=Cg(k,N,j),G.return=k,k=G)}return y(k);case jh:e:{for($=j.key;N!==null;){if(N.key===$)if(N.tag===4&&N.stateNode.containerInfo===j.containerInfo&&N.stateNode.implementation===j.implementation){i(k,N.sibling),N=f(N,j.children||[]),N.return=k,k=N;break e}else{i(k,N);break}else r(k,N);N=N.sibling}N=Qx(j,k.mode,G),N.return=k,k=N}return y(k);case mc:return $=j._init,L(k,N,$(j._payload),G)}if(Og(j))return E(k,N,j,G);if(yg(j))return O(k,N,j,G);A0(k,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,N!==null&&N.tag===6?(i(k,N.sibling),N=f(N,j),N.return=k,k=N):(i(k,N),N=Kx(j,k.mode,G),N.return=k,k=N),y(k)):i(k,N)}return L}var Tp=q6(!0),J6=q6(!1),wS=$c(null),IS=null,Yh=null,RD=null;function kD(){RD=Yh=IS=null}function ND(e){var r=wS.current;kn(wS),e._currentValue=r}function r1(e,r,i){for(;e!==null;){var s=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,s!==null&&(s.childLanes|=r)):s!==null&&(s.childLanes&r)!==r&&(s.childLanes|=r),e===i)break;e=e.return}}function rp(e,r){IS=e,RD=Yh=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&r&&(ya=!0),e.firstContext=null)}function hs(e){var r=e._currentValue;if(RD!==e)if(e={context:e,memoizedValue:r,next:null},Yh===null){if(IS===null)throw Error(mt(308));Yh=e,IS.dependencies={lanes:0,firstContext:e}}else Yh=Yh.next=e;return r}var Kd=null;function OD(e){Kd===null?Kd=[e]:Kd.push(e)}function X6(e,r,i,s){var f=r.interleaved;return f===null?(i.next=i,OD(r)):(i.next=f.next,f.next=i),r.interleaved=i,_l(e,s)}function _l(e,r){e.lanes|=r;var i=e.alternate;for(i!==null&&(i.lanes|=r),i=e,e=e.return;e!==null;)e.childLanes|=r,i=e.alternate,i!==null&&(i.childLanes|=r),i=e,e=e.return;return i.tag===3?i.stateNode:null}var gc=!1;function FD(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Z6(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function pl(e,r){return{eventTime:e,lane:r,tag:0,payload:null,callback:null,next:null}}function Mc(e,r,i){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,Jr&2){var f=s.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),s.pending=r,_l(e,i)}return f=s.interleaved,f===null?(r.next=r,OD(s)):(r.next=f.next,f.next=r),s.interleaved=r,_l(e,i)}function q0(e,r,i){if(r=r.updateQueue,r!==null&&(r=r.shared,(i&4194240)!==0)){var s=r.lanes;s&=e.pendingLanes,i|=s,r.lanes=i,SD(e,i)}}function Y4(e,r){var i=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,i===s)){var f=null,h=null;if(i=i.firstBaseUpdate,i!==null){do{var y={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};h===null?f=h=y:h=h.next=y,i=i.next}while(i!==null);h===null?f=h=r:h=h.next=r}else f=h=r;i={baseState:s.baseState,firstBaseUpdate:f,lastBaseUpdate:h,shared:s.shared,effects:s.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=r:e.next=r,i.lastBaseUpdate=r}function ES(e,r,i,s){var f=e.updateQueue;gc=!1;var h=f.firstBaseUpdate,y=f.lastBaseUpdate,_=f.shared.pending;if(_!==null){f.shared.pending=null;var C=_,w=C.next;C.next=null,y===null?h=w:y.next=w,y=C;var x=e.alternate;x!==null&&(x=x.updateQueue,_=x.lastBaseUpdate,_!==y&&(_===null?x.firstBaseUpdate=w:_.next=w,x.lastBaseUpdate=C))}if(h!==null){var A=f.baseState;y=0,x=w=C=null,_=h;do{var P=_.lane,R=_.eventTime;if((s&P)===P){x!==null&&(x=x.next={eventTime:R,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var E=e,O=_;switch(P=r,R=i,O.tag){case 1:if(E=O.payload,typeof E=="function"){A=E.call(R,A,P);break e}A=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=O.payload,P=typeof E=="function"?E.call(R,A,P):E,P==null)break e;A=ni({},A,P);break e;case 2:gc=!0}}_.callback!==null&&_.lane!==0&&(e.flags|=64,P=f.effects,P===null?f.effects=[_]:P.push(_))}else R={eventTime:R,lane:P,tag:_.tag,payload:_.payload,callback:_.callback,next:null},x===null?(w=x=R,C=A):x=x.next=R,y|=P;if(_=_.next,_===null){if(_=f.shared.pending,_===null)break;P=_,_=P.next,P.next=null,f.lastBaseUpdate=P,f.shared.pending=null}}while(!0);if(x===null&&(C=A),f.baseState=C,f.firstBaseUpdate=w,f.lastBaseUpdate=x,r=f.shared.interleaved,r!==null){f=r;do y|=f.lane,f=f.next;while(f!==r)}else h===null&&(f.shared.lanes=0);df|=y,e.lanes=y,e.memoizedState=A}}function q4(e,r,i){if(e=r.effects,r.effects=null,e!==null)for(r=0;r<e.length;r++){var s=e[r],f=s.callback;if(f!==null){if(s.callback=null,s=i,typeof f!="function")throw Error(mt(191,f));f.call(s)}}}var Wv={},Ou=$c(Wv),lv=$c(Wv),cv=$c(Wv);function Qd(e){if(e===Wv)throw Error(mt(174));return e}function MD(e,r){switch(Sn(cv,r),Sn(lv,e),Sn(Ou,Wv),e=r.nodeType,e){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:MA(null,"");break;default:e=e===8?r.parentNode:r,r=e.namespaceURI||null,e=e.tagName,r=MA(r,e)}kn(Ou),Sn(Ou,r)}function Cp(){kn(Ou),kn(lv),kn(cv)}function $6(e){Qd(cv.current);var r=Qd(Ou.current),i=MA(r,e.type);r!==i&&(Sn(lv,e),Sn(Ou,i))}function LD(e){lv.current===e&&(kn(Ou),kn(lv))}var ti=$c(0);function xS(e){for(var r=e;r!==null;){if(r.tag===13){var i=r.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Bx=[];function WD(){for(var e=0;e<Bx.length;e++)Bx[e]._workInProgressVersionPrimary=null;Bx.length=0}var J0=wl.ReactCurrentDispatcher,Ux=wl.ReactCurrentBatchConfig,cf=0,ri=null,ji=null,eo=null,AS=!1,Kg=!1,dv=0,gpe=0;function wo(){throw Error(mt(321))}function jD(e,r){if(r===null)return!1;for(var i=0;i<r.length&&i<e.length;i++)if(!Xs(e[i],r[i]))return!1;return!0}function BD(e,r,i,s,f,h){if(cf=h,ri=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,J0.current=e===null||e.memoizedState===null?Spe:bpe,e=i(s,f),Kg){h=0;do{if(Kg=!1,dv=0,25<=h)throw Error(mt(301));h+=1,eo=ji=null,r.updateQueue=null,J0.current=Tpe,e=i(s,f)}while(Kg)}if(J0.current=DS,r=ji!==null&&ji.next!==null,cf=0,eo=ji=ri=null,AS=!1,r)throw Error(mt(300));return e}function UD(){var e=dv!==0;return dv=0,e}function wu(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return eo===null?ri.memoizedState=eo=e:eo=eo.next=e,eo}function ps(){if(ji===null){var e=ri.alternate;e=e!==null?e.memoizedState:null}else e=ji.next;var r=eo===null?ri.memoizedState:eo.next;if(r!==null)eo=r,ji=e;else{if(e===null)throw Error(mt(310));ji=e,e={memoizedState:ji.memoizedState,baseState:ji.baseState,baseQueue:ji.baseQueue,queue:ji.queue,next:null},eo===null?ri.memoizedState=eo=e:eo=eo.next=e}return eo}function fv(e,r){return typeof r=="function"?r(e):r}function Vx(e){var r=ps(),i=r.queue;if(i===null)throw Error(mt(311));i.lastRenderedReducer=e;var s=ji,f=s.baseQueue,h=i.pending;if(h!==null){if(f!==null){var y=f.next;f.next=h.next,h.next=y}s.baseQueue=f=h,i.pending=null}if(f!==null){h=f.next,s=s.baseState;var _=y=null,C=null,w=h;do{var x=w.lane;if((cf&x)===x)C!==null&&(C=C.next={lane:0,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),s=w.hasEagerState?w.eagerState:e(s,w.action);else{var A={lane:x,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null};C===null?(_=C=A,y=s):C=C.next=A,ri.lanes|=x,df|=x}w=w.next}while(w!==null&&w!==h);C===null?y=s:C.next=_,Xs(s,r.memoizedState)||(ya=!0),r.memoizedState=s,r.baseState=y,r.baseQueue=C,i.lastRenderedState=s}if(e=i.interleaved,e!==null){f=e;do h=f.lane,ri.lanes|=h,df|=h,f=f.next;while(f!==e)}else f===null&&(i.lanes=0);return[r.memoizedState,i.dispatch]}function Gx(e){var r=ps(),i=r.queue;if(i===null)throw Error(mt(311));i.lastRenderedReducer=e;var s=i.dispatch,f=i.pending,h=r.memoizedState;if(f!==null){i.pending=null;var y=f=f.next;do h=e(h,y.action),y=y.next;while(y!==f);Xs(h,r.memoizedState)||(ya=!0),r.memoizedState=h,r.baseQueue===null&&(r.baseState=h),i.lastRenderedState=h}return[h,s]}function eH(){}function tH(e,r){var i=ri,s=ps(),f=r(),h=!Xs(s.memoizedState,f);if(h&&(s.memoizedState=f,ya=!0),s=s.queue,VD(iH.bind(null,i,s,e),[e]),s.getSnapshot!==r||h||eo!==null&&eo.memoizedState.tag&1){if(i.flags|=2048,hv(9,nH.bind(null,i,s,f,r),void 0,null),no===null)throw Error(mt(349));cf&30||rH(i,r,f)}return f}function rH(e,r,i){e.flags|=16384,e={getSnapshot:r,value:i},r=ri.updateQueue,r===null?(r={lastEffect:null,stores:null},ri.updateQueue=r,r.stores=[e]):(i=r.stores,i===null?r.stores=[e]:i.push(e))}function nH(e,r,i,s){r.value=i,r.getSnapshot=s,oH(r)&&aH(e)}function iH(e,r,i){return i(function(){oH(r)&&aH(e)})}function oH(e){var r=e.getSnapshot;e=e.value;try{var i=r();return!Xs(e,i)}catch{return!0}}function aH(e){var r=_l(e,1);r!==null&&Js(r,e,1,-1)}function J4(e){var r=wu();return typeof e=="function"&&(e=e()),r.memoizedState=r.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fv,lastRenderedState:e},r.queue=e,e=e.dispatch=_pe.bind(null,ri,e),[r.memoizedState,e]}function hv(e,r,i,s){return e={tag:e,create:r,destroy:i,deps:s,next:null},r=ri.updateQueue,r===null?(r={lastEffect:null,stores:null},ri.updateQueue=r,r.lastEffect=e.next=e):(i=r.lastEffect,i===null?r.lastEffect=e.next=e:(s=i.next,i.next=e,e.next=s,r.lastEffect=e)),e}function sH(){return ps().memoizedState}function X0(e,r,i,s){var f=wu();ri.flags|=e,f.memoizedState=hv(1|r,i,void 0,s===void 0?null:s)}function ub(e,r,i,s){var f=ps();s=s===void 0?null:s;var h=void 0;if(ji!==null){var y=ji.memoizedState;if(h=y.destroy,s!==null&&jD(s,y.deps)){f.memoizedState=hv(r,i,h,s);return}}ri.flags|=e,f.memoizedState=hv(1|r,i,h,s)}function X4(e,r){return X0(8390656,8,e,r)}function VD(e,r){return ub(2048,8,e,r)}function uH(e,r){return ub(4,2,e,r)}function lH(e,r){return ub(4,4,e,r)}function cH(e,r){if(typeof r=="function")return e=e(),r(e),function(){r(null)};if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function dH(e,r,i){return i=i!=null?i.concat([e]):null,ub(4,4,cH.bind(null,r,e),i)}function GD(){}function fH(e,r){var i=ps();r=r===void 0?null:r;var s=i.memoizedState;return s!==null&&r!==null&&jD(r,s[1])?s[0]:(i.memoizedState=[e,r],e)}function hH(e,r){var i=ps();r=r===void 0?null:r;var s=i.memoizedState;return s!==null&&r!==null&&jD(r,s[1])?s[0]:(e=e(),i.memoizedState=[e,r],e)}function pH(e,r,i){return cf&21?(Xs(i,r)||(i=_6(),ri.lanes|=i,df|=i,e.baseState=!0),r):(e.baseState&&(e.baseState=!1,ya=!0),e.memoizedState=i)}function vpe(e,r){var i=dn;dn=i!==0&&4>i?i:4,e(!0);var s=Ux.transition;Ux.transition={};try{e(!1),r()}finally{dn=i,Ux.transition=s}}function mH(){return ps().memoizedState}function ype(e,r,i){var s=Wc(e);if(i={lane:s,action:i,hasEagerState:!1,eagerState:null,next:null},gH(e))vH(r,i);else if(i=X6(e,r,i,s),i!==null){var f=Qo();Js(i,e,s,f),yH(i,r,s)}}function _pe(e,r,i){var s=Wc(e),f={lane:s,action:i,hasEagerState:!1,eagerState:null,next:null};if(gH(e))vH(r,f);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=r.lastRenderedReducer,h!==null))try{var y=r.lastRenderedState,_=h(y,i);if(f.hasEagerState=!0,f.eagerState=_,Xs(_,y)){var C=r.interleaved;C===null?(f.next=f,OD(r)):(f.next=C.next,C.next=f),r.interleaved=f;return}}catch{}finally{}i=X6(e,r,f,s),i!==null&&(f=Qo(),Js(i,e,s,f),yH(i,r,s))}}function gH(e){var r=e.alternate;return e===ri||r!==null&&r===ri}function vH(e,r){Kg=AS=!0;var i=e.pending;i===null?r.next=r:(r.next=i.next,i.next=r),e.pending=r}function yH(e,r,i){if(i&4194240){var s=r.lanes;s&=e.pendingLanes,i|=s,r.lanes=i,SD(e,i)}}var DS={readContext:hs,useCallback:wo,useContext:wo,useEffect:wo,useImperativeHandle:wo,useInsertionEffect:wo,useLayoutEffect:wo,useMemo:wo,useReducer:wo,useRef:wo,useState:wo,useDebugValue:wo,useDeferredValue:wo,useTransition:wo,useMutableSource:wo,useSyncExternalStore:wo,useId:wo,unstable_isNewReconciler:!1},Spe={readContext:hs,useCallback:function(e,r){return wu().memoizedState=[e,r===void 0?null:r],e},useContext:hs,useEffect:X4,useImperativeHandle:function(e,r,i){return i=i!=null?i.concat([e]):null,X0(4194308,4,cH.bind(null,r,e),i)},useLayoutEffect:function(e,r){return X0(4194308,4,e,r)},useInsertionEffect:function(e,r){return X0(4,2,e,r)},useMemo:function(e,r){var i=wu();return r=r===void 0?null:r,e=e(),i.memoizedState=[e,r],e},useReducer:function(e,r,i){var s=wu();return r=i!==void 0?i(r):r,s.memoizedState=s.baseState=r,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},s.queue=e,e=e.dispatch=ype.bind(null,ri,e),[s.memoizedState,e]},useRef:function(e){var r=wu();return e={current:e},r.memoizedState=e},useState:J4,useDebugValue:GD,useDeferredValue:function(e){return wu().memoizedState=e},useTransition:function(){var e=J4(!1),r=e[0];return e=vpe.bind(null,e[1]),wu().memoizedState=e,[r,e]},useMutableSource:function(){},useSyncExternalStore:function(e,r,i){var s=ri,f=wu();if(Vn){if(i===void 0)throw Error(mt(407));i=i()}else{if(i=r(),no===null)throw Error(mt(349));cf&30||rH(s,r,i)}f.memoizedState=i;var h={value:i,getSnapshot:r};return f.queue=h,X4(iH.bind(null,s,h,e),[e]),s.flags|=2048,hv(9,nH.bind(null,s,h,i,r),void 0,null),i},useId:function(){var e=wu(),r=no.identifierPrefix;if(Vn){var i=hl,s=fl;i=(s&~(1<<32-qs(s)-1)).toString(32)+i,r=":"+r+"R"+i,i=dv++,0<i&&(r+="H"+i.toString(32)),r+=":"}else i=gpe++,r=":"+r+"r"+i.toString(32)+":";return e.memoizedState=r},unstable_isNewReconciler:!1},bpe={readContext:hs,useCallback:fH,useContext:hs,useEffect:VD,useImperativeHandle:dH,useInsertionEffect:uH,useLayoutEffect:lH,useMemo:hH,useReducer:Vx,useRef:sH,useState:function(){return Vx(fv)},useDebugValue:GD,useDeferredValue:function(e){var r=ps();return pH(r,ji.memoizedState,e)},useTransition:function(){var e=Vx(fv)[0],r=ps().memoizedState;return[e,r]},useMutableSource:eH,useSyncExternalStore:tH,useId:mH,unstable_isNewReconciler:!1},Tpe={readContext:hs,useCallback:fH,useContext:hs,useEffect:VD,useImperativeHandle:dH,useInsertionEffect:uH,useLayoutEffect:lH,useMemo:hH,useReducer:Gx,useRef:sH,useState:function(){return Gx(fv)},useDebugValue:GD,useDeferredValue:function(e){var r=ps();return ji===null?r.memoizedState=e:pH(r,ji.memoizedState,e)},useTransition:function(){var e=Gx(fv)[0],r=ps().memoizedState;return[e,r]},useMutableSource:eH,useSyncExternalStore:tH,useId:mH,unstable_isNewReconciler:!1};function Vs(e,r){if(e&&e.defaultProps){r=ni({},r),e=e.defaultProps;for(var i in e)r[i]===void 0&&(r[i]=e[i]);return r}return r}function n1(e,r,i,s){r=e.memoizedState,i=i(s,r),i=i==null?r:ni({},r,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var lb={isMounted:function(e){return(e=e._reactInternals)?bf(e)===e:!1},enqueueSetState:function(e,r,i){e=e._reactInternals;var s=Qo(),f=Wc(e),h=pl(s,f);h.payload=r,i!=null&&(h.callback=i),r=Mc(e,h,f),r!==null&&(Js(r,e,f,s),q0(r,e,f))},enqueueReplaceState:function(e,r,i){e=e._reactInternals;var s=Qo(),f=Wc(e),h=pl(s,f);h.tag=1,h.payload=r,i!=null&&(h.callback=i),r=Mc(e,h,f),r!==null&&(Js(r,e,f,s),q0(r,e,f))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var i=Qo(),s=Wc(e),f=pl(i,s);f.tag=2,r!=null&&(f.callback=r),r=Mc(e,f,s),r!==null&&(Js(r,e,s,i),q0(r,e,s))}};function Z4(e,r,i,s,f,h,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,h,y):r.prototype&&r.prototype.isPureReactComponent?!ov(i,s)||!ov(f,h):!0}function _H(e,r,i){var s=!1,f=Qc,h=r.contextType;return typeof h=="object"&&h!==null?h=hs(h):(f=Sa(r)?uf:Do.current,s=r.contextTypes,h=(s=s!=null)?Sp(e,f):Qc),r=new r(i,h),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=lb,e.stateNode=r,r._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=f,e.__reactInternalMemoizedMaskedChildContext=h),r}function $4(e,r,i,s){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(i,s),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(i,s),r.state!==e&&lb.enqueueReplaceState(r,r.state,null)}function i1(e,r,i,s){var f=e.stateNode;f.props=i,f.state=e.memoizedState,f.refs={},FD(e);var h=r.contextType;typeof h=="object"&&h!==null?f.context=hs(h):(h=Sa(r)?uf:Do.current,f.context=Sp(e,h)),f.state=e.memoizedState,h=r.getDerivedStateFromProps,typeof h=="function"&&(n1(e,r,h,i),f.state=e.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(r=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),r!==f.state&&lb.enqueueReplaceState(f,f.state,null),ES(e,i,f,s),f.state=e.memoizedState),typeof f.componentDidMount=="function"&&(e.flags|=4194308)}function wp(e,r){try{var i="",s=r;do i+=Jfe(s),s=s.return;while(s);var f=i}catch(h){f=`
Error generating stack: `+h.message+`
`+h.stack}return{value:e,source:r,stack:f,digest:null}}function Hx(e,r,i){return{value:e,source:null,stack:i??null,digest:r??null}}function o1(e,r){try{console.error(r.value)}catch(i){setTimeout(function(){throw i})}}var Cpe=typeof WeakMap=="function"?WeakMap:Map;function SH(e,r,i){i=pl(-1,i),i.tag=3,i.payload={element:null};var s=r.value;return i.callback=function(){RS||(RS=!0,m1=s),o1(e,r)},i}function bH(e,r,i){i=pl(-1,i),i.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var f=r.value;i.payload=function(){return s(f)},i.callback=function(){o1(e,r)}}var h=e.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(i.callback=function(){o1(e,r),typeof s!="function"&&(Lc===null?Lc=new Set([this]):Lc.add(this));var y=r.stack;this.componentDidCatch(r.value,{componentStack:y!==null?y:""})}),i}function eV(e,r,i){var s=e.pingCache;if(s===null){s=e.pingCache=new Cpe;var f=new Set;s.set(r,f)}else f=s.get(r),f===void 0&&(f=new Set,s.set(r,f));f.has(i)||(f.add(i),e=Lpe.bind(null,e,r,i),r.then(e,e))}function tV(e){do{var r;if((r=e.tag===13)&&(r=e.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return e;e=e.return}while(e!==null);return null}function rV(e,r,i,s,f){return e.mode&1?(e.flags|=65536,e.lanes=f,e):(e===r?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(r=pl(-1,1),r.tag=2,Mc(i,r,1))),i.lanes|=1),e)}var wpe=wl.ReactCurrentOwner,ya=!1;function zo(e,r,i,s){r.child=e===null?J6(r,null,i,s):Tp(r,e.child,i,s)}function nV(e,r,i,s,f){i=i.render;var h=r.ref;return rp(r,f),s=BD(e,r,i,s,h,f),i=UD(),e!==null&&!ya?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~f,Sl(e,r,f)):(Vn&&i&&AD(r),r.flags|=1,zo(e,r,s,f),r.child)}function iV(e,r,i,s,f){if(e===null){var h=i.type;return typeof h=="function"&&!XD(h)&&h.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(r.tag=15,r.type=h,TH(e,r,h,s,f)):(e=tS(i.type,null,s,r,r.mode,f),e.ref=r.ref,e.return=r,r.child=e)}if(h=e.child,!(e.lanes&f)){var y=h.memoizedProps;if(i=i.compare,i=i!==null?i:ov,i(y,s)&&e.ref===r.ref)return Sl(e,r,f)}return r.flags|=1,e=jc(h,s),e.ref=r.ref,e.return=r,r.child=e}function TH(e,r,i,s,f){if(e!==null){var h=e.memoizedProps;if(ov(h,s)&&e.ref===r.ref)if(ya=!1,r.pendingProps=s=h,(e.lanes&f)!==0)e.flags&131072&&(ya=!0);else return r.lanes=e.lanes,Sl(e,r,f)}return a1(e,r,i,s,f)}function CH(e,r,i){var s=r.pendingProps,f=s.children,h=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Sn(Jh,Fa),Fa|=i;else{if(!(i&1073741824))return e=h!==null?h.baseLanes|i:i,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:e,cachePool:null,transitions:null},r.updateQueue=null,Sn(Jh,Fa),Fa|=e,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=h!==null?h.baseLanes:i,Sn(Jh,Fa),Fa|=s}else h!==null?(s=h.baseLanes|i,r.memoizedState=null):s=i,Sn(Jh,Fa),Fa|=s;return zo(e,r,f,i),r.child}function wH(e,r){var i=r.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(r.flags|=512,r.flags|=2097152)}function a1(e,r,i,s,f){var h=Sa(i)?uf:Do.current;return h=Sp(r,h),rp(r,f),i=BD(e,r,i,s,h,f),s=UD(),e!==null&&!ya?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~f,Sl(e,r,f)):(Vn&&s&&AD(r),r.flags|=1,zo(e,r,i,f),r.child)}function oV(e,r,i,s,f){if(Sa(i)){var h=!0;bS(r)}else h=!1;if(rp(r,f),r.stateNode===null)Z0(e,r),_H(r,i,s),i1(r,i,s,f),s=!0;else if(e===null){var y=r.stateNode,_=r.memoizedProps;y.props=_;var C=y.context,w=i.contextType;typeof w=="object"&&w!==null?w=hs(w):(w=Sa(i)?uf:Do.current,w=Sp(r,w));var x=i.getDerivedStateFromProps,A=typeof x=="function"||typeof y.getSnapshotBeforeUpdate=="function";A||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(_!==s||C!==w)&&$4(r,y,s,w),gc=!1;var P=r.memoizedState;y.state=P,ES(r,s,y,f),C=r.memoizedState,_!==s||P!==C||_a.current||gc?(typeof x=="function"&&(n1(r,i,x,s),C=r.memoizedState),(_=gc||Z4(r,i,_,s,P,C,w))?(A||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=s,r.memoizedState=C),y.props=s,y.state=C,y.context=w,s=_):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),s=!1)}else{y=r.stateNode,Z6(e,r),_=r.memoizedProps,w=r.type===r.elementType?_:Vs(r.type,_),y.props=w,A=r.pendingProps,P=y.context,C=i.contextType,typeof C=="object"&&C!==null?C=hs(C):(C=Sa(i)?uf:Do.current,C=Sp(r,C));var R=i.getDerivedStateFromProps;(x=typeof R=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(_!==A||P!==C)&&$4(r,y,s,C),gc=!1,P=r.memoizedState,y.state=P,ES(r,s,y,f);var E=r.memoizedState;_!==A||P!==E||_a.current||gc?(typeof R=="function"&&(n1(r,i,R,s),E=r.memoizedState),(w=gc||Z4(r,i,w,s,P,E,C)||!1)?(x||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(s,E,C),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(s,E,C)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||_===e.memoizedProps&&P===e.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&P===e.memoizedState||(r.flags|=1024),r.memoizedProps=s,r.memoizedState=E),y.props=s,y.state=E,y.context=C,s=w):(typeof y.componentDidUpdate!="function"||_===e.memoizedProps&&P===e.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&P===e.memoizedState||(r.flags|=1024),s=!1)}return s1(e,r,i,s,h,f)}function s1(e,r,i,s,f,h){wH(e,r);var y=(r.flags&128)!==0;if(!s&&!y)return f&&H4(r,i,!1),Sl(e,r,h);s=r.stateNode,wpe.current=r;var _=y&&typeof i.getDerivedStateFromError!="function"?null:s.render();return r.flags|=1,e!==null&&y?(r.child=Tp(r,e.child,null,h),r.child=Tp(r,null,_,h)):zo(e,r,_,h),r.memoizedState=s.state,f&&H4(r,i,!0),r.child}function IH(e){var r=e.stateNode;r.pendingContext?G4(e,r.pendingContext,r.pendingContext!==r.context):r.context&&G4(e,r.context,!1),MD(e,r.containerInfo)}function aV(e,r,i,s,f){return bp(),PD(f),r.flags|=256,zo(e,r,i,s),r.child}var u1={dehydrated:null,treeContext:null,retryLane:0};function l1(e){return{baseLanes:e,cachePool:null,transitions:null}}function EH(e,r,i){var s=r.pendingProps,f=ti.current,h=!1,y=(r.flags&128)!==0,_;if((_=y)||(_=e!==null&&e.memoizedState===null?!1:(f&2)!==0),_?(h=!0,r.flags&=-129):(e===null||e.memoizedState!==null)&&(f|=1),Sn(ti,f&1),e===null)return t1(r),e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(r.mode&1?e.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(y=s.children,e=s.fallback,h?(s=r.mode,h=r.child,y={mode:"hidden",children:y},!(s&1)&&h!==null?(h.childLanes=0,h.pendingProps=y):h=fb(y,s,0,null),e=sf(e,s,i,null),h.return=r,e.return=r,h.sibling=e,r.child=h,r.child.memoizedState=l1(i),r.memoizedState=u1,e):HD(r,y));if(f=e.memoizedState,f!==null&&(_=f.dehydrated,_!==null))return Ipe(e,r,y,s,_,f,i);if(h){h=s.fallback,y=r.mode,f=e.child,_=f.sibling;var C={mode:"hidden",children:s.children};return!(y&1)&&r.child!==f?(s=r.child,s.childLanes=0,s.pendingProps=C,r.deletions=null):(s=jc(f,C),s.subtreeFlags=f.subtreeFlags&14680064),_!==null?h=jc(_,h):(h=sf(h,y,i,null),h.flags|=2),h.return=r,s.return=r,s.sibling=h,r.child=s,s=h,h=r.child,y=e.child.memoizedState,y=y===null?l1(i):{baseLanes:y.baseLanes|i,cachePool:null,transitions:y.transitions},h.memoizedState=y,h.childLanes=e.childLanes&~i,r.memoizedState=u1,s}return h=e.child,e=h.sibling,s=jc(h,{mode:"visible",children:s.children}),!(r.mode&1)&&(s.lanes=i),s.return=r,s.sibling=null,e!==null&&(i=r.deletions,i===null?(r.deletions=[e],r.flags|=16):i.push(e)),r.child=s,r.memoizedState=null,s}function HD(e,r){return r=fb({mode:"visible",children:r},e.mode,0,null),r.return=e,e.child=r}function D0(e,r,i,s){return s!==null&&PD(s),Tp(r,e.child,null,i),e=HD(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function Ipe(e,r,i,s,f,h,y){if(i)return r.flags&256?(r.flags&=-257,s=Hx(Error(mt(422))),D0(e,r,y,s)):r.memoizedState!==null?(r.child=e.child,r.flags|=128,null):(h=s.fallback,f=r.mode,s=fb({mode:"visible",children:s.children},f,0,null),h=sf(h,f,y,null),h.flags|=2,s.return=r,h.return=r,s.sibling=h,r.child=s,r.mode&1&&Tp(r,e.child,null,y),r.child.memoizedState=l1(y),r.memoizedState=u1,h);if(!(r.mode&1))return D0(e,r,y,null);if(f.data==="$!"){if(s=f.nextSibling&&f.nextSibling.dataset,s)var _=s.dgst;return s=_,h=Error(mt(419)),s=Hx(h,s,void 0),D0(e,r,y,s)}if(_=(y&e.childLanes)!==0,ya||_){if(s=no,s!==null){switch(y&-y){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(s.suspendedLanes|y)?0:f,f!==0&&f!==h.retryLane&&(h.retryLane=f,_l(e,f),Js(s,e,f,-1))}return JD(),s=Hx(Error(mt(421))),D0(e,r,y,s)}return f.data==="$?"?(r.flags|=128,r.child=e.child,r=Wpe.bind(null,e),f._reactRetry=r,null):(e=h.treeContext,Wa=Fc(f.nextSibling),ja=r,Vn=!0,Qs=null,e!==null&&(ss[us++]=fl,ss[us++]=hl,ss[us++]=lf,fl=e.id,hl=e.overflow,lf=r),r=HD(r,s.children),r.flags|=4096,r)}function sV(e,r,i){e.lanes|=r;var s=e.alternate;s!==null&&(s.lanes|=r),r1(e.return,r,i)}function zx(e,r,i,s,f){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:f}:(h.isBackwards=r,h.rendering=null,h.renderingStartTime=0,h.last=s,h.tail=i,h.tailMode=f)}function xH(e,r,i){var s=r.pendingProps,f=s.revealOrder,h=s.tail;if(zo(e,r,s.children,i),s=ti.current,s&2)s=s&1|2,r.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sV(e,i,r);else if(e.tag===19)sV(e,i,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break e;for(;e.sibling===null;){if(e.return===null||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Sn(ti,s),!(r.mode&1))r.memoizedState=null;else switch(f){case"forwards":for(i=r.child,f=null;i!==null;)e=i.alternate,e!==null&&xS(e)===null&&(f=i),i=i.sibling;i=f,i===null?(f=r.child,r.child=null):(f=i.sibling,i.sibling=null),zx(r,!1,f,i,h);break;case"backwards":for(i=null,f=r.child,r.child=null;f!==null;){if(e=f.alternate,e!==null&&xS(e)===null){r.child=f;break}e=f.sibling,f.sibling=i,i=f,f=e}zx(r,!0,i,null,h);break;case"together":zx(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Z0(e,r){!(r.mode&1)&&e!==null&&(e.alternate=null,r.alternate=null,r.flags|=2)}function Sl(e,r,i){if(e!==null&&(r.dependencies=e.dependencies),df|=r.lanes,!(i&r.childLanes))return null;if(e!==null&&r.child!==e.child)throw Error(mt(153));if(r.child!==null){for(e=r.child,i=jc(e,e.pendingProps),r.child=i,i.return=r;e.sibling!==null;)e=e.sibling,i=i.sibling=jc(e,e.pendingProps),i.return=r;i.sibling=null}return r.child}function Epe(e,r,i){switch(r.tag){case 3:IH(r),bp();break;case 5:$6(r);break;case 1:Sa(r.type)&&bS(r);break;case 4:MD(r,r.stateNode.containerInfo);break;case 10:var s=r.type._context,f=r.memoizedProps.value;Sn(wS,s._currentValue),s._currentValue=f;break;case 13:if(s=r.memoizedState,s!==null)return s.dehydrated!==null?(Sn(ti,ti.current&1),r.flags|=128,null):i&r.child.childLanes?EH(e,r,i):(Sn(ti,ti.current&1),e=Sl(e,r,i),e!==null?e.sibling:null);Sn(ti,ti.current&1);break;case 19:if(s=(i&r.childLanes)!==0,e.flags&128){if(s)return xH(e,r,i);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Sn(ti,ti.current),s)break;return null;case 22:case 23:return r.lanes=0,CH(e,r,i)}return Sl(e,r,i)}var AH,c1,DH,PH;AH=function(e,r){for(var i=r.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};c1=function(){};DH=function(e,r,i,s){var f=e.memoizedProps;if(f!==s){e=r.stateNode,Qd(Ou.current);var h=null;switch(i){case"input":f=kA(e,f),s=kA(e,s),h=[];break;case"select":f=ni({},f,{value:void 0}),s=ni({},s,{value:void 0}),h=[];break;case"textarea":f=FA(e,f),s=FA(e,s),h=[];break;default:typeof f.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=_S)}LA(i,s);var y;i=null;for(w in f)if(!s.hasOwnProperty(w)&&f.hasOwnProperty(w)&&f[w]!=null)if(w==="style"){var _=f[w];for(y in _)_.hasOwnProperty(y)&&(i||(i={}),i[y]="")}else w!=="dangerouslySetInnerHTML"&&w!=="children"&&w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(Zg.hasOwnProperty(w)?h||(h=[]):(h=h||[]).push(w,null));for(w in s){var C=s[w];if(_=f!=null?f[w]:void 0,s.hasOwnProperty(w)&&C!==_&&(C!=null||_!=null))if(w==="style")if(_){for(y in _)!_.hasOwnProperty(y)||C&&C.hasOwnProperty(y)||(i||(i={}),i[y]="");for(y in C)C.hasOwnProperty(y)&&_[y]!==C[y]&&(i||(i={}),i[y]=C[y])}else i||(h||(h=[]),h.push(w,i)),i=C;else w==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,_=_?_.__html:void 0,C!=null&&_!==C&&(h=h||[]).push(w,C)):w==="children"?typeof C!="string"&&typeof C!="number"||(h=h||[]).push(w,""+C):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&(Zg.hasOwnProperty(w)?(C!=null&&w==="onScroll"&&Dn("scroll",e),h||_===C||(h=[])):(h=h||[]).push(w,C))}i&&(h=h||[]).push("style",i);var w=h;(r.updateQueue=w)&&(r.flags|=4)}};PH=function(e,r,i,s){i!==s&&(r.flags|=4)};function wg(e,r){if(!Vn)switch(e.tailMode){case"hidden":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Io(e){var r=e.alternate!==null&&e.alternate.child===e.child,i=0,s=0;if(r)for(var f=e.child;f!==null;)i|=f.lanes|f.childLanes,s|=f.subtreeFlags&14680064,s|=f.flags&14680064,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)i|=f.lanes|f.childLanes,s|=f.subtreeFlags,s|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=s,e.childLanes=i,r}function xpe(e,r,i){var s=r.pendingProps;switch(DD(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Io(r),null;case 1:return Sa(r.type)&&SS(),Io(r),null;case 3:return s=r.stateNode,Cp(),kn(_a),kn(Do),WD(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(x0(r)?r.flags|=4:e===null||e.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,Qs!==null&&(y1(Qs),Qs=null))),c1(e,r),Io(r),null;case 5:LD(r);var f=Qd(cv.current);if(i=r.type,e!==null&&r.stateNode!=null)DH(e,r,i,s,f),e.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!s){if(r.stateNode===null)throw Error(mt(166));return Io(r),null}if(e=Qd(Ou.current),x0(r)){s=r.stateNode,i=r.type;var h=r.memoizedProps;switch(s[Au]=r,s[uv]=h,e=(r.mode&1)!==0,i){case"dialog":Dn("cancel",s),Dn("close",s);break;case"iframe":case"object":case"embed":Dn("load",s);break;case"video":case"audio":for(f=0;f<Mg.length;f++)Dn(Mg[f],s);break;case"source":Dn("error",s);break;case"img":case"image":case"link":Dn("error",s),Dn("load",s);break;case"details":Dn("toggle",s);break;case"input":g4(s,h),Dn("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!h.multiple},Dn("invalid",s);break;case"textarea":y4(s,h),Dn("invalid",s)}LA(i,h),f=null;for(var y in h)if(h.hasOwnProperty(y)){var _=h[y];y==="children"?typeof _=="string"?s.textContent!==_&&(h.suppressHydrationWarning!==!0&&E0(s.textContent,_,e),f=["children",_]):typeof _=="number"&&s.textContent!==""+_&&(h.suppressHydrationWarning!==!0&&E0(s.textContent,_,e),f=["children",""+_]):Zg.hasOwnProperty(y)&&_!=null&&y==="onScroll"&&Dn("scroll",s)}switch(i){case"input":y0(s),v4(s,h,!0);break;case"textarea":y0(s),_4(s);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(s.onclick=_S)}s=f,r.updateQueue=s,s!==null&&(r.flags|=4)}else{y=f.nodeType===9?f:f.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=i6(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=y.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=y.createElement(i,{is:s.is}):(e=y.createElement(i),i==="select"&&(y=e,s.multiple?y.multiple=!0:s.size&&(y.size=s.size))):e=y.createElementNS(e,i),e[Au]=r,e[uv]=s,AH(e,r,!1,!1),r.stateNode=e;e:{switch(y=WA(i,s),i){case"dialog":Dn("cancel",e),Dn("close",e),f=s;break;case"iframe":case"object":case"embed":Dn("load",e),f=s;break;case"video":case"audio":for(f=0;f<Mg.length;f++)Dn(Mg[f],e);f=s;break;case"source":Dn("error",e),f=s;break;case"img":case"image":case"link":Dn("error",e),Dn("load",e),f=s;break;case"details":Dn("toggle",e),f=s;break;case"input":g4(e,s),f=kA(e,s),Dn("invalid",e);break;case"option":f=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},f=ni({},s,{value:void 0}),Dn("invalid",e);break;case"textarea":y4(e,s),f=FA(e,s),Dn("invalid",e);break;default:f=s}LA(i,f),_=f;for(h in _)if(_.hasOwnProperty(h)){var C=_[h];h==="style"?s6(e,C):h==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,C!=null&&o6(e,C)):h==="children"?typeof C=="string"?(i!=="textarea"||C!=="")&&$g(e,C):typeof C=="number"&&$g(e,""+C):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Zg.hasOwnProperty(h)?C!=null&&h==="onScroll"&&Dn("scroll",e):C!=null&&pD(e,h,C,y))}switch(i){case"input":y0(e),v4(e,s,!1);break;case"textarea":y0(e),_4(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Kc(s.value));break;case"select":e.multiple=!!s.multiple,h=s.value,h!=null?Zh(e,!!s.multiple,h,!1):s.defaultValue!=null&&Zh(e,!!s.multiple,s.defaultValue,!0);break;default:typeof f.onClick=="function"&&(e.onclick=_S)}switch(i){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Io(r),null;case 6:if(e&&r.stateNode!=null)PH(e,r,e.memoizedProps,s);else{if(typeof s!="string"&&r.stateNode===null)throw Error(mt(166));if(i=Qd(cv.current),Qd(Ou.current),x0(r)){if(s=r.stateNode,i=r.memoizedProps,s[Au]=r,(h=s.nodeValue!==i)&&(e=ja,e!==null))switch(e.tag){case 3:E0(s.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&E0(s.nodeValue,i,(e.mode&1)!==0)}h&&(r.flags|=4)}else s=(i.nodeType===9?i:i.ownerDocument).createTextNode(s),s[Au]=r,r.stateNode=s}return Io(r),null;case 13:if(kn(ti),s=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Vn&&Wa!==null&&r.mode&1&&!(r.flags&128))Y6(),bp(),r.flags|=98560,h=!1;else if(h=x0(r),s!==null&&s.dehydrated!==null){if(e===null){if(!h)throw Error(mt(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(mt(317));h[Au]=r}else bp(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Io(r),h=!1}else Qs!==null&&(y1(Qs),Qs=null),h=!0;if(!h)return r.flags&65536?r:null}return r.flags&128?(r.lanes=i,r):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(r.child.flags|=8192,r.mode&1&&(e===null||ti.current&1?Hi===0&&(Hi=3):JD())),r.updateQueue!==null&&(r.flags|=4),Io(r),null);case 4:return Cp(),c1(e,r),e===null&&av(r.stateNode.containerInfo),Io(r),null;case 10:return ND(r.type._context),Io(r),null;case 17:return Sa(r.type)&&SS(),Io(r),null;case 19:if(kn(ti),h=r.memoizedState,h===null)return Io(r),null;if(s=(r.flags&128)!==0,y=h.rendering,y===null)if(s)wg(h,!1);else{if(Hi!==0||e!==null&&e.flags&128)for(e=r.child;e!==null;){if(y=xS(e),y!==null){for(r.flags|=128,wg(h,!1),s=y.updateQueue,s!==null&&(r.updateQueue=s,r.flags|=4),r.subtreeFlags=0,s=i,i=r.child;i!==null;)h=i,e=s,h.flags&=14680066,y=h.alternate,y===null?(h.childLanes=0,h.lanes=e,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=y.childLanes,h.lanes=y.lanes,h.child=y.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=y.memoizedProps,h.memoizedState=y.memoizedState,h.updateQueue=y.updateQueue,h.type=y.type,e=y.dependencies,h.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Sn(ti,ti.current&1|2),r.child}e=e.sibling}h.tail!==null&&Ci()>Ip&&(r.flags|=128,s=!0,wg(h,!1),r.lanes=4194304)}else{if(!s)if(e=xS(y),e!==null){if(r.flags|=128,s=!0,i=e.updateQueue,i!==null&&(r.updateQueue=i,r.flags|=4),wg(h,!0),h.tail===null&&h.tailMode==="hidden"&&!y.alternate&&!Vn)return Io(r),null}else 2*Ci()-h.renderingStartTime>Ip&&i!==1073741824&&(r.flags|=128,s=!0,wg(h,!1),r.lanes=4194304);h.isBackwards?(y.sibling=r.child,r.child=y):(i=h.last,i!==null?i.sibling=y:r.child=y,h.last=y)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=Ci(),r.sibling=null,i=ti.current,Sn(ti,s?i&1|2:i&1),r):(Io(r),null);case 22:case 23:return qD(),s=r.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(r.flags|=8192),s&&r.mode&1?Fa&1073741824&&(Io(r),r.subtreeFlags&6&&(r.flags|=8192)):Io(r),null;case 24:return null;case 25:return null}throw Error(mt(156,r.tag))}function Ape(e,r){switch(DD(r),r.tag){case 1:return Sa(r.type)&&SS(),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return Cp(),kn(_a),kn(Do),WD(),e=r.flags,e&65536&&!(e&128)?(r.flags=e&-65537|128,r):null;case 5:return LD(r),null;case 13:if(kn(ti),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(mt(340));bp()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return kn(ti),null;case 4:return Cp(),null;case 10:return ND(r.type._context),null;case 22:case 23:return qD(),null;case 24:return null;default:return null}}var P0=!1,xo=!1,Dpe=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function qh(e,r){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(s){hi(e,r,s)}else i.current=null}function d1(e,r,i){try{i()}catch(s){hi(e,r,s)}}var uV=!1;function Ppe(e,r){if(YA=gS,e=F6(),xD(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var s=i.getSelection&&i.getSelection();if(s&&s.rangeCount!==0){i=s.anchorNode;var f=s.anchorOffset,h=s.focusNode;s=s.focusOffset;try{i.nodeType,h.nodeType}catch{i=null;break e}var y=0,_=-1,C=-1,w=0,x=0,A=e,P=null;t:for(;;){for(var R;A!==i||f!==0&&A.nodeType!==3||(_=y+f),A!==h||s!==0&&A.nodeType!==3||(C=y+s),A.nodeType===3&&(y+=A.nodeValue.length),(R=A.firstChild)!==null;)P=A,A=R;for(;;){if(A===e)break t;if(P===i&&++w===f&&(_=y),P===h&&++x===s&&(C=y),(R=A.nextSibling)!==null)break;A=P,P=A.parentNode}A=R}i=_===-1||C===-1?null:{start:_,end:C}}else i=null}i=i||{start:0,end:0}}else i=null;for(qA={focusedElem:e,selectionRange:i},gS=!1,Lt=r;Lt!==null;)if(r=Lt,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,Lt=e;else for(;Lt!==null;){r=Lt;try{var E=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var O=E.memoizedProps,L=E.memoizedState,k=r.stateNode,N=k.getSnapshotBeforeUpdate(r.elementType===r.type?O:Vs(r.type,O),L);k.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var j=r.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(mt(163))}}catch(G){hi(r,r.return,G)}if(e=r.sibling,e!==null){e.return=r.return,Lt=e;break}Lt=r.return}return E=uV,uV=!1,E}function Qg(e,r,i){var s=r.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var f=s=s.next;do{if((f.tag&e)===e){var h=f.destroy;f.destroy=void 0,h!==void 0&&d1(r,i,h)}f=f.next}while(f!==s)}}function cb(e,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.create;i.destroy=s()}i=i.next}while(i!==r)}}function f1(e){var r=e.ref;if(r!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof r=="function"?r(e):r.current=e}}function RH(e){var r=e.alternate;r!==null&&(e.alternate=null,RH(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&(delete r[Au],delete r[uv],delete r[ZA],delete r[fpe],delete r[hpe])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function kH(e){return e.tag===5||e.tag===3||e.tag===4}function lV(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||kH(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function h1(e,r,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,r?i.nodeType===8?i.parentNode.insertBefore(e,r):i.insertBefore(e,r):(i.nodeType===8?(r=i.parentNode,r.insertBefore(e,i)):(r=i,r.appendChild(e)),i=i._reactRootContainer,i!=null||r.onclick!==null||(r.onclick=_S));else if(s!==4&&(e=e.child,e!==null))for(h1(e,r,i),e=e.sibling;e!==null;)h1(e,r,i),e=e.sibling}function p1(e,r,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,r?i.insertBefore(e,r):i.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(p1(e,r,i),e=e.sibling;e!==null;)p1(e,r,i),e=e.sibling}var co=null,zs=!1;function lc(e,r,i){for(i=i.child;i!==null;)NH(e,r,i),i=i.sibling}function NH(e,r,i){if(Nu&&typeof Nu.onCommitFiberUnmount=="function")try{Nu.onCommitFiberUnmount(rb,i)}catch{}switch(i.tag){case 5:xo||qh(i,r);case 6:var s=co,f=zs;co=null,lc(e,r,i),co=s,zs=f,co!==null&&(zs?(e=co,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):co.removeChild(i.stateNode));break;case 18:co!==null&&(zs?(e=co,i=i.stateNode,e.nodeType===8?Wx(e.parentNode,i):e.nodeType===1&&Wx(e,i),nv(e)):Wx(co,i.stateNode));break;case 4:s=co,f=zs,co=i.stateNode.containerInfo,zs=!0,lc(e,r,i),co=s,zs=f;break;case 0:case 11:case 14:case 15:if(!xo&&(s=i.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){f=s=s.next;do{var h=f,y=h.destroy;h=h.tag,y!==void 0&&(h&2||h&4)&&d1(i,r,y),f=f.next}while(f!==s)}lc(e,r,i);break;case 1:if(!xo&&(qh(i,r),s=i.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=i.memoizedProps,s.state=i.memoizedState,s.componentWillUnmount()}catch(_){hi(i,r,_)}lc(e,r,i);break;case 21:lc(e,r,i);break;case 22:i.mode&1?(xo=(s=xo)||i.memoizedState!==null,lc(e,r,i),xo=s):lc(e,r,i);break;default:lc(e,r,i)}}function cV(e){var r=e.updateQueue;if(r!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new Dpe),r.forEach(function(s){var f=jpe.bind(null,e,s);i.has(s)||(i.add(s),s.then(f,f))})}}function Bs(e,r){var i=r.deletions;if(i!==null)for(var s=0;s<i.length;s++){var f=i[s];try{var h=e,y=r,_=y;e:for(;_!==null;){switch(_.tag){case 5:co=_.stateNode,zs=!1;break e;case 3:co=_.stateNode.containerInfo,zs=!0;break e;case 4:co=_.stateNode.containerInfo,zs=!0;break e}_=_.return}if(co===null)throw Error(mt(160));NH(h,y,f),co=null,zs=!1;var C=f.alternate;C!==null&&(C.return=null),f.return=null}catch(w){hi(f,r,w)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)OH(r,e),r=r.sibling}function OH(e,r){var i=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Bs(r,e),Cu(e),s&4){try{Qg(3,e,e.return),cb(3,e)}catch(O){hi(e,e.return,O)}try{Qg(5,e,e.return)}catch(O){hi(e,e.return,O)}}break;case 1:Bs(r,e),Cu(e),s&512&&i!==null&&qh(i,i.return);break;case 5:if(Bs(r,e),Cu(e),s&512&&i!==null&&qh(i,i.return),e.flags&32){var f=e.stateNode;try{$g(f,"")}catch(O){hi(e,e.return,O)}}if(s&4&&(f=e.stateNode,f!=null)){var h=e.memoizedProps,y=i!==null?i.memoizedProps:h,_=e.type,C=e.updateQueue;if(e.updateQueue=null,C!==null)try{_==="input"&&h.type==="radio"&&h.name!=null&&r6(f,h),WA(_,y);var w=WA(_,h);for(y=0;y<C.length;y+=2){var x=C[y],A=C[y+1];x==="style"?s6(f,A):x==="dangerouslySetInnerHTML"?o6(f,A):x==="children"?$g(f,A):pD(f,x,A,w)}switch(_){case"input":NA(f,h);break;case"textarea":n6(f,h);break;case"select":var P=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!h.multiple;var R=h.value;R!=null?Zh(f,!!h.multiple,R,!1):P!==!!h.multiple&&(h.defaultValue!=null?Zh(f,!!h.multiple,h.defaultValue,!0):Zh(f,!!h.multiple,h.multiple?[]:"",!1))}f[uv]=h}catch(O){hi(e,e.return,O)}}break;case 6:if(Bs(r,e),Cu(e),s&4){if(e.stateNode===null)throw Error(mt(162));f=e.stateNode,h=e.memoizedProps;try{f.nodeValue=h}catch(O){hi(e,e.return,O)}}break;case 3:if(Bs(r,e),Cu(e),s&4&&i!==null&&i.memoizedState.isDehydrated)try{nv(r.containerInfo)}catch(O){hi(e,e.return,O)}break;case 4:Bs(r,e),Cu(e);break;case 13:Bs(r,e),Cu(e),f=e.child,f.flags&8192&&(h=f.memoizedState!==null,f.stateNode.isHidden=h,!h||f.alternate!==null&&f.alternate.memoizedState!==null||(QD=Ci())),s&4&&cV(e);break;case 22:if(x=i!==null&&i.memoizedState!==null,e.mode&1?(xo=(w=xo)||x,Bs(r,e),xo=w):Bs(r,e),Cu(e),s&8192){if(w=e.memoizedState!==null,(e.stateNode.isHidden=w)&&!x&&e.mode&1)for(Lt=e,x=e.child;x!==null;){for(A=Lt=x;Lt!==null;){switch(P=Lt,R=P.child,P.tag){case 0:case 11:case 14:case 15:Qg(4,P,P.return);break;case 1:qh(P,P.return);var E=P.stateNode;if(typeof E.componentWillUnmount=="function"){s=P,i=P.return;try{r=s,E.props=r.memoizedProps,E.state=r.memoizedState,E.componentWillUnmount()}catch(O){hi(s,i,O)}}break;case 5:qh(P,P.return);break;case 22:if(P.memoizedState!==null){fV(A);continue}}R!==null?(R.return=P,Lt=R):fV(A)}x=x.sibling}e:for(x=null,A=e;;){if(A.tag===5){if(x===null){x=A;try{f=A.stateNode,w?(h=f.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(_=A.stateNode,C=A.memoizedProps.style,y=C!=null&&C.hasOwnProperty("display")?C.display:null,_.style.display=a6("display",y))}catch(O){hi(e,e.return,O)}}}else if(A.tag===6){if(x===null)try{A.stateNode.nodeValue=w?"":A.memoizedProps}catch(O){hi(e,e.return,O)}}else if((A.tag!==22&&A.tag!==23||A.memoizedState===null||A===e)&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===e)break e;for(;A.sibling===null;){if(A.return===null||A.return===e)break e;x===A&&(x=null),A=A.return}x===A&&(x=null),A.sibling.return=A.return,A=A.sibling}}break;case 19:Bs(r,e),Cu(e),s&4&&cV(e);break;case 21:break;default:Bs(r,e),Cu(e)}}function Cu(e){var r=e.flags;if(r&2){try{e:{for(var i=e.return;i!==null;){if(kH(i)){var s=i;break e}i=i.return}throw Error(mt(160))}switch(s.tag){case 5:var f=s.stateNode;s.flags&32&&($g(f,""),s.flags&=-33);var h=lV(e);p1(e,h,f);break;case 3:case 4:var y=s.stateNode.containerInfo,_=lV(e);h1(e,_,y);break;default:throw Error(mt(161))}}catch(C){hi(e,e.return,C)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function Rpe(e,r,i){Lt=e,FH(e)}function FH(e,r,i){for(var s=(e.mode&1)!==0;Lt!==null;){var f=Lt,h=f.child;if(f.tag===22&&s){var y=f.memoizedState!==null||P0;if(!y){var _=f.alternate,C=_!==null&&_.memoizedState!==null||xo;_=P0;var w=xo;if(P0=y,(xo=C)&&!w)for(Lt=f;Lt!==null;)y=Lt,C=y.child,y.tag===22&&y.memoizedState!==null?hV(f):C!==null?(C.return=y,Lt=C):hV(f);for(;h!==null;)Lt=h,FH(h),h=h.sibling;Lt=f,P0=_,xo=w}dV(e)}else f.subtreeFlags&8772&&h!==null?(h.return=f,Lt=h):dV(e)}}function dV(e){for(;Lt!==null;){var r=Lt;if(r.flags&8772){var i=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:xo||cb(5,r);break;case 1:var s=r.stateNode;if(r.flags&4&&!xo)if(i===null)s.componentDidMount();else{var f=r.elementType===r.type?i.memoizedProps:Vs(r.type,i.memoizedProps);s.componentDidUpdate(f,i.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var h=r.updateQueue;h!==null&&q4(r,h,s);break;case 3:var y=r.updateQueue;if(y!==null){if(i=null,r.child!==null)switch(r.child.tag){case 5:i=r.child.stateNode;break;case 1:i=r.child.stateNode}q4(r,y,i)}break;case 5:var _=r.stateNode;if(i===null&&r.flags&4){i=_;var C=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":C.autoFocus&&i.focus();break;case"img":C.src&&(i.src=C.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var w=r.alternate;if(w!==null){var x=w.memoizedState;if(x!==null){var A=x.dehydrated;A!==null&&nv(A)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(mt(163))}xo||r.flags&512&&f1(r)}catch(P){hi(r,r.return,P)}}if(r===e){Lt=null;break}if(i=r.sibling,i!==null){i.return=r.return,Lt=i;break}Lt=r.return}}function fV(e){for(;Lt!==null;){var r=Lt;if(r===e){Lt=null;break}var i=r.sibling;if(i!==null){i.return=r.return,Lt=i;break}Lt=r.return}}function hV(e){for(;Lt!==null;){var r=Lt;try{switch(r.tag){case 0:case 11:case 15:var i=r.return;try{cb(4,r)}catch(C){hi(r,i,C)}break;case 1:var s=r.stateNode;if(typeof s.componentDidMount=="function"){var f=r.return;try{s.componentDidMount()}catch(C){hi(r,f,C)}}var h=r.return;try{f1(r)}catch(C){hi(r,h,C)}break;case 5:var y=r.return;try{f1(r)}catch(C){hi(r,y,C)}}}catch(C){hi(r,r.return,C)}if(r===e){Lt=null;break}var _=r.sibling;if(_!==null){_.return=r.return,Lt=_;break}Lt=r.return}}var kpe=Math.ceil,PS=wl.ReactCurrentDispatcher,zD=wl.ReactCurrentOwner,ds=wl.ReactCurrentBatchConfig,Jr=0,no=null,ki=null,fo=0,Fa=0,Jh=$c(0),Hi=0,pv=null,df=0,db=0,KD=0,Yg=null,va=null,QD=0,Ip=1/0,ol=null,RS=!1,m1=null,Lc=null,R0=!1,Pc=null,kS=0,qg=0,g1=null,$0=-1,eS=0;function Qo(){return Jr&6?Ci():$0!==-1?$0:$0=Ci()}function Wc(e){return e.mode&1?Jr&2&&fo!==0?fo&-fo:mpe.transition!==null?(eS===0&&(eS=_6()),eS):(e=dn,e!==0||(e=window.event,e=e===void 0?16:E6(e.type)),e):1}function Js(e,r,i,s){if(50<qg)throw qg=0,g1=null,Error(mt(185));Fv(e,i,s),(!(Jr&2)||e!==no)&&(e===no&&(!(Jr&2)&&(db|=i),Hi===4&&yc(e,fo)),ba(e,s),i===1&&Jr===0&&!(r.mode&1)&&(Ip=Ci()+500,sb&&ed()))}function ba(e,r){var i=e.callbackNode;mhe(e,r);var s=mS(e,e===no?fo:0);if(s===0)i!==null&&T4(i),e.callbackNode=null,e.callbackPriority=0;else if(r=s&-s,e.callbackPriority!==r){if(i!=null&&T4(i),r===1)e.tag===0?ppe(pV.bind(null,e)):z6(pV.bind(null,e)),cpe(function(){!(Jr&6)&&ed()}),i=null;else{switch(S6(s)){case 1:i=_D;break;case 4:i=v6;break;case 16:i=pS;break;case 536870912:i=y6;break;default:i=pS}i=GH(i,MH.bind(null,e))}e.callbackPriority=r,e.callbackNode=i}}function MH(e,r){if($0=-1,eS=0,Jr&6)throw Error(mt(327));var i=e.callbackNode;if(np()&&e.callbackNode!==i)return null;var s=mS(e,e===no?fo:0);if(s===0)return null;if(s&30||s&e.expiredLanes||r)r=NS(e,s);else{r=s;var f=Jr;Jr|=2;var h=WH();(no!==e||fo!==r)&&(ol=null,Ip=Ci()+500,af(e,r));do try{Fpe();break}catch(_){LH(e,_)}while(!0);kD(),PS.current=h,Jr=f,ki!==null?r=0:(no=null,fo=0,r=Hi)}if(r!==0){if(r===2&&(f=GA(e),f!==0&&(s=f,r=v1(e,f))),r===1)throw i=pv,af(e,0),yc(e,s),ba(e,Ci()),i;if(r===6)yc(e,s);else{if(f=e.current.alternate,!(s&30)&&!Npe(f)&&(r=NS(e,s),r===2&&(h=GA(e),h!==0&&(s=h,r=v1(e,h))),r===1))throw i=pv,af(e,0),yc(e,s),ba(e,Ci()),i;switch(e.finishedWork=f,e.finishedLanes=s,r){case 0:case 1:throw Error(mt(345));case 2:Bd(e,va,ol);break;case 3:if(yc(e,s),(s&130023424)===s&&(r=QD+500-Ci(),10<r)){if(mS(e,0)!==0)break;if(f=e.suspendedLanes,(f&s)!==s){Qo(),e.pingedLanes|=e.suspendedLanes&f;break}e.timeoutHandle=XA(Bd.bind(null,e,va,ol),r);break}Bd(e,va,ol);break;case 4:if(yc(e,s),(s&4194240)===s)break;for(r=e.eventTimes,f=-1;0<s;){var y=31-qs(s);h=1<<y,y=r[y],y>f&&(f=y),s&=~h}if(s=f,s=Ci()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*kpe(s/1960))-s,10<s){e.timeoutHandle=XA(Bd.bind(null,e,va,ol),s);break}Bd(e,va,ol);break;case 5:Bd(e,va,ol);break;default:throw Error(mt(329))}}}return ba(e,Ci()),e.callbackNode===i?MH.bind(null,e):null}function v1(e,r){var i=Yg;return e.current.memoizedState.isDehydrated&&(af(e,r).flags|=256),e=NS(e,r),e!==2&&(r=va,va=i,r!==null&&y1(r)),e}function y1(e){va===null?va=e:va.push.apply(va,e)}function Npe(e){for(var r=e;;){if(r.flags&16384){var i=r.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var s=0;s<i.length;s++){var f=i[s],h=f.getSnapshot;f=f.value;try{if(!Xs(h(),f))return!1}catch{return!1}}}if(i=r.child,r.subtreeFlags&16384&&i!==null)i.return=r,r=i;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function yc(e,r){for(r&=~KD,r&=~db,e.suspendedLanes|=r,e.pingedLanes&=~r,e=e.expirationTimes;0<r;){var i=31-qs(r),s=1<<i;e[i]=-1,r&=~s}}function pV(e){if(Jr&6)throw Error(mt(327));np();var r=mS(e,0);if(!(r&1))return ba(e,Ci()),null;var i=NS(e,r);if(e.tag!==0&&i===2){var s=GA(e);s!==0&&(r=s,i=v1(e,s))}if(i===1)throw i=pv,af(e,0),yc(e,r),ba(e,Ci()),i;if(i===6)throw Error(mt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=r,Bd(e,va,ol),ba(e,Ci()),null}function YD(e,r){var i=Jr;Jr|=1;try{return e(r)}finally{Jr=i,Jr===0&&(Ip=Ci()+500,sb&&ed())}}function ff(e){Pc!==null&&Pc.tag===0&&!(Jr&6)&&np();var r=Jr;Jr|=1;var i=ds.transition,s=dn;try{if(ds.transition=null,dn=1,e)return e()}finally{dn=s,ds.transition=i,Jr=r,!(Jr&6)&&ed()}}function qD(){Fa=Jh.current,kn(Jh)}function af(e,r){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,lpe(i)),ki!==null)for(i=ki.return;i!==null;){var s=i;switch(DD(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&SS();break;case 3:Cp(),kn(_a),kn(Do),WD();break;case 5:LD(s);break;case 4:Cp();break;case 13:kn(ti);break;case 19:kn(ti);break;case 10:ND(s.type._context);break;case 22:case 23:qD()}i=i.return}if(no=e,ki=e=jc(e.current,null),fo=Fa=r,Hi=0,pv=null,KD=db=df=0,va=Yg=null,Kd!==null){for(r=0;r<Kd.length;r++)if(i=Kd[r],s=i.interleaved,s!==null){i.interleaved=null;var f=s.next,h=i.pending;if(h!==null){var y=h.next;h.next=f,s.next=y}i.pending=s}Kd=null}return e}function LH(e,r){do{var i=ki;try{if(kD(),J0.current=DS,AS){for(var s=ri.memoizedState;s!==null;){var f=s.queue;f!==null&&(f.pending=null),s=s.next}AS=!1}if(cf=0,eo=ji=ri=null,Kg=!1,dv=0,zD.current=null,i===null||i.return===null){Hi=1,pv=r,ki=null;break}e:{var h=e,y=i.return,_=i,C=r;if(r=fo,_.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){var w=C,x=_,A=x.tag;if(!(x.mode&1)&&(A===0||A===11||A===15)){var P=x.alternate;P?(x.updateQueue=P.updateQueue,x.memoizedState=P.memoizedState,x.lanes=P.lanes):(x.updateQueue=null,x.memoizedState=null)}var R=tV(y);if(R!==null){R.flags&=-257,rV(R,y,_,h,r),R.mode&1&&eV(h,w,r),r=R,C=w;var E=r.updateQueue;if(E===null){var O=new Set;O.add(C),r.updateQueue=O}else E.add(C);break e}else{if(!(r&1)){eV(h,w,r),JD();break e}C=Error(mt(426))}}else if(Vn&&_.mode&1){var L=tV(y);if(L!==null){!(L.flags&65536)&&(L.flags|=256),rV(L,y,_,h,r),PD(wp(C,_));break e}}h=C=wp(C,_),Hi!==4&&(Hi=2),Yg===null?Yg=[h]:Yg.push(h),h=y;do{switch(h.tag){case 3:h.flags|=65536,r&=-r,h.lanes|=r;var k=SH(h,C,r);Y4(h,k);break e;case 1:_=C;var N=h.type,j=h.stateNode;if(!(h.flags&128)&&(typeof N.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Lc===null||!Lc.has(j)))){h.flags|=65536,r&=-r,h.lanes|=r;var G=bH(h,_,r);Y4(h,G);break e}}h=h.return}while(h!==null)}BH(i)}catch(le){r=le,ki===i&&i!==null&&(ki=i=i.return);continue}break}while(!0)}function WH(){var e=PS.current;return PS.current=DS,e===null?DS:e}function JD(){(Hi===0||Hi===3||Hi===2)&&(Hi=4),no===null||!(df&268435455)&&!(db&268435455)||yc(no,fo)}function NS(e,r){var i=Jr;Jr|=2;var s=WH();(no!==e||fo!==r)&&(ol=null,af(e,r));do try{Ope();break}catch(f){LH(e,f)}while(!0);if(kD(),Jr=i,PS.current=s,ki!==null)throw Error(mt(261));return no=null,fo=0,Hi}function Ope(){for(;ki!==null;)jH(ki)}function Fpe(){for(;ki!==null&&!ahe();)jH(ki)}function jH(e){var r=VH(e.alternate,e,Fa);e.memoizedProps=e.pendingProps,r===null?BH(e):ki=r,zD.current=null}function BH(e){var r=e;do{var i=r.alternate;if(e=r.return,r.flags&32768){if(i=Ape(i,r),i!==null){i.flags&=32767,ki=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Hi=6,ki=null;return}}else if(i=xpe(i,r,Fa),i!==null){ki=i;return}if(r=r.sibling,r!==null){ki=r;return}ki=r=e}while(r!==null);Hi===0&&(Hi=5)}function Bd(e,r,i){var s=dn,f=ds.transition;try{ds.transition=null,dn=1,Mpe(e,r,i,s)}finally{ds.transition=f,dn=s}return null}function Mpe(e,r,i,s){do np();while(Pc!==null);if(Jr&6)throw Error(mt(327));i=e.finishedWork;var f=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(mt(177));e.callbackNode=null,e.callbackPriority=0;var h=i.lanes|i.childLanes;if(ghe(e,h),e===no&&(ki=no=null,fo=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||R0||(R0=!0,GH(pS,function(){return np(),null})),h=(i.flags&15990)!==0,i.subtreeFlags&15990||h){h=ds.transition,ds.transition=null;var y=dn;dn=1;var _=Jr;Jr|=4,zD.current=null,Ppe(e,i),OH(i,e),rpe(qA),gS=!!YA,qA=YA=null,e.current=i,Rpe(i),she(),Jr=_,dn=y,ds.transition=h}else e.current=i;if(R0&&(R0=!1,Pc=e,kS=f),h=e.pendingLanes,h===0&&(Lc=null),che(i.stateNode),ba(e,Ci()),r!==null)for(s=e.onRecoverableError,i=0;i<r.length;i++)f=r[i],s(f.value,{componentStack:f.stack,digest:f.digest});if(RS)throw RS=!1,e=m1,m1=null,e;return kS&1&&e.tag!==0&&np(),h=e.pendingLanes,h&1?e===g1?qg++:(qg=0,g1=e):qg=0,ed(),null}function np(){if(Pc!==null){var e=S6(kS),r=ds.transition,i=dn;try{if(ds.transition=null,dn=16>e?16:e,Pc===null)var s=!1;else{if(e=Pc,Pc=null,kS=0,Jr&6)throw Error(mt(331));var f=Jr;for(Jr|=4,Lt=e.current;Lt!==null;){var h=Lt,y=h.child;if(Lt.flags&16){var _=h.deletions;if(_!==null){for(var C=0;C<_.length;C++){var w=_[C];for(Lt=w;Lt!==null;){var x=Lt;switch(x.tag){case 0:case 11:case 15:Qg(8,x,h)}var A=x.child;if(A!==null)A.return=x,Lt=A;else for(;Lt!==null;){x=Lt;var P=x.sibling,R=x.return;if(RH(x),x===w){Lt=null;break}if(P!==null){P.return=R,Lt=P;break}Lt=R}}}var E=h.alternate;if(E!==null){var O=E.child;if(O!==null){E.child=null;do{var L=O.sibling;O.sibling=null,O=L}while(O!==null)}}Lt=h}}if(h.subtreeFlags&2064&&y!==null)y.return=h,Lt=y;else e:for(;Lt!==null;){if(h=Lt,h.flags&2048)switch(h.tag){case 0:case 11:case 15:Qg(9,h,h.return)}var k=h.sibling;if(k!==null){k.return=h.return,Lt=k;break e}Lt=h.return}}var N=e.current;for(Lt=N;Lt!==null;){y=Lt;var j=y.child;if(y.subtreeFlags&2064&&j!==null)j.return=y,Lt=j;else e:for(y=N;Lt!==null;){if(_=Lt,_.flags&2048)try{switch(_.tag){case 0:case 11:case 15:cb(9,_)}}catch(le){hi(_,_.return,le)}if(_===y){Lt=null;break e}var G=_.sibling;if(G!==null){G.return=_.return,Lt=G;break e}Lt=_.return}}if(Jr=f,ed(),Nu&&typeof Nu.onPostCommitFiberRoot=="function")try{Nu.onPostCommitFiberRoot(rb,e)}catch{}s=!0}return s}finally{dn=i,ds.transition=r}}return!1}function mV(e,r,i){r=wp(i,r),r=SH(e,r,1),e=Mc(e,r,1),r=Qo(),e!==null&&(Fv(e,1,r),ba(e,r))}function hi(e,r,i){if(e.tag===3)mV(e,e,i);else for(;r!==null;){if(r.tag===3){mV(r,e,i);break}else if(r.tag===1){var s=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Lc===null||!Lc.has(s))){e=wp(i,e),e=bH(r,e,1),r=Mc(r,e,1),e=Qo(),r!==null&&(Fv(r,1,e),ba(r,e));break}}r=r.return}}function Lpe(e,r,i){var s=e.pingCache;s!==null&&s.delete(r),r=Qo(),e.pingedLanes|=e.suspendedLanes&i,no===e&&(fo&i)===i&&(Hi===4||Hi===3&&(fo&130023424)===fo&&500>Ci()-QD?af(e,0):KD|=i),ba(e,r)}function UH(e,r){r===0&&(e.mode&1?(r=b0,b0<<=1,!(b0&130023424)&&(b0=4194304)):r=1);var i=Qo();e=_l(e,r),e!==null&&(Fv(e,r,i),ba(e,i))}function Wpe(e){var r=e.memoizedState,i=0;r!==null&&(i=r.retryLane),UH(e,i)}function jpe(e,r){var i=0;switch(e.tag){case 13:var s=e.stateNode,f=e.memoizedState;f!==null&&(i=f.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(mt(314))}s!==null&&s.delete(r),UH(e,i)}var VH;VH=function(e,r,i){if(e!==null)if(e.memoizedProps!==r.pendingProps||_a.current)ya=!0;else{if(!(e.lanes&i)&&!(r.flags&128))return ya=!1,Epe(e,r,i);ya=!!(e.flags&131072)}else ya=!1,Vn&&r.flags&1048576&&K6(r,CS,r.index);switch(r.lanes=0,r.tag){case 2:var s=r.type;Z0(e,r),e=r.pendingProps;var f=Sp(r,Do.current);rp(r,i),f=BD(null,r,s,e,f,i);var h=UD();return r.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Sa(s)?(h=!0,bS(r)):h=!1,r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,FD(r),f.updater=lb,r.stateNode=f,f._reactInternals=r,i1(r,s,e,i),r=s1(null,r,s,!0,h,i)):(r.tag=0,Vn&&h&&AD(r),zo(null,r,f,i),r=r.child),r;case 16:s=r.elementType;e:{switch(Z0(e,r),e=r.pendingProps,f=s._init,s=f(s._payload),r.type=s,f=r.tag=Upe(s),e=Vs(s,e),f){case 0:r=a1(null,r,s,e,i);break e;case 1:r=oV(null,r,s,e,i);break e;case 11:r=nV(null,r,s,e,i);break e;case 14:r=iV(null,r,s,Vs(s.type,e),i);break e}throw Error(mt(306,s,""))}return r;case 0:return s=r.type,f=r.pendingProps,f=r.elementType===s?f:Vs(s,f),a1(e,r,s,f,i);case 1:return s=r.type,f=r.pendingProps,f=r.elementType===s?f:Vs(s,f),oV(e,r,s,f,i);case 3:e:{if(IH(r),e===null)throw Error(mt(387));s=r.pendingProps,h=r.memoizedState,f=h.element,Z6(e,r),ES(r,s,null,i);var y=r.memoizedState;if(s=y.element,h.isDehydrated)if(h={element:s,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},r.updateQueue.baseState=h,r.memoizedState=h,r.flags&256){f=wp(Error(mt(423)),r),r=aV(e,r,s,i,f);break e}else if(s!==f){f=wp(Error(mt(424)),r),r=aV(e,r,s,i,f);break e}else for(Wa=Fc(r.stateNode.containerInfo.firstChild),ja=r,Vn=!0,Qs=null,i=J6(r,null,s,i),r.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(bp(),s===f){r=Sl(e,r,i);break e}zo(e,r,s,i)}r=r.child}return r;case 5:return $6(r),e===null&&t1(r),s=r.type,f=r.pendingProps,h=e!==null?e.memoizedProps:null,y=f.children,JA(s,f)?y=null:h!==null&&JA(s,h)&&(r.flags|=32),wH(e,r),zo(e,r,y,i),r.child;case 6:return e===null&&t1(r),null;case 13:return EH(e,r,i);case 4:return MD(r,r.stateNode.containerInfo),s=r.pendingProps,e===null?r.child=Tp(r,null,s,i):zo(e,r,s,i),r.child;case 11:return s=r.type,f=r.pendingProps,f=r.elementType===s?f:Vs(s,f),nV(e,r,s,f,i);case 7:return zo(e,r,r.pendingProps,i),r.child;case 8:return zo(e,r,r.pendingProps.children,i),r.child;case 12:return zo(e,r,r.pendingProps.children,i),r.child;case 10:e:{if(s=r.type._context,f=r.pendingProps,h=r.memoizedProps,y=f.value,Sn(wS,s._currentValue),s._currentValue=y,h!==null)if(Xs(h.value,y)){if(h.children===f.children&&!_a.current){r=Sl(e,r,i);break e}}else for(h=r.child,h!==null&&(h.return=r);h!==null;){var _=h.dependencies;if(_!==null){y=h.child;for(var C=_.firstContext;C!==null;){if(C.context===s){if(h.tag===1){C=pl(-1,i&-i),C.tag=2;var w=h.updateQueue;if(w!==null){w=w.shared;var x=w.pending;x===null?C.next=C:(C.next=x.next,x.next=C),w.pending=C}}h.lanes|=i,C=h.alternate,C!==null&&(C.lanes|=i),r1(h.return,i,r),_.lanes|=i;break}C=C.next}}else if(h.tag===10)y=h.type===r.type?null:h.child;else if(h.tag===18){if(y=h.return,y===null)throw Error(mt(341));y.lanes|=i,_=y.alternate,_!==null&&(_.lanes|=i),r1(y,i,r),y=h.sibling}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===r){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}zo(e,r,f.children,i),r=r.child}return r;case 9:return f=r.type,s=r.pendingProps.children,rp(r,i),f=hs(f),s=s(f),r.flags|=1,zo(e,r,s,i),r.child;case 14:return s=r.type,f=Vs(s,r.pendingProps),f=Vs(s.type,f),iV(e,r,s,f,i);case 15:return TH(e,r,r.type,r.pendingProps,i);case 17:return s=r.type,f=r.pendingProps,f=r.elementType===s?f:Vs(s,f),Z0(e,r),r.tag=1,Sa(s)?(e=!0,bS(r)):e=!1,rp(r,i),_H(r,s,f),i1(r,s,f,i),s1(null,r,s,!0,e,i);case 19:return xH(e,r,i);case 22:return CH(e,r,i)}throw Error(mt(156,r.tag))};function GH(e,r){return g6(e,r)}function Bpe(e,r,i,s){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cs(e,r,i,s){return new Bpe(e,r,i,s)}function XD(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Upe(e){if(typeof e=="function")return XD(e)?1:0;if(e!=null){if(e=e.$$typeof,e===gD)return 11;if(e===vD)return 14}return 2}function jc(e,r){var i=e.alternate;return i===null?(i=cs(e.tag,r,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=r,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,r=e.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function tS(e,r,i,s,f,h){var y=2;if(s=e,typeof e=="function")XD(e)&&(y=1);else if(typeof e=="string")y=5;else e:switch(e){case Bh:return sf(i.children,f,h,r);case mD:y=8,f|=8;break;case AA:return e=cs(12,i,r,f|2),e.elementType=AA,e.lanes=h,e;case DA:return e=cs(13,i,r,f),e.elementType=DA,e.lanes=h,e;case PA:return e=cs(19,i,r,f),e.elementType=PA,e.lanes=h,e;case $G:return fb(i,f,h,r);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case XG:y=10;break e;case ZG:y=9;break e;case gD:y=11;break e;case vD:y=14;break e;case mc:y=16,s=null;break e}throw Error(mt(130,e==null?e:typeof e,""))}return r=cs(y,i,r,f),r.elementType=e,r.type=s,r.lanes=h,r}function sf(e,r,i,s){return e=cs(7,e,s,r),e.lanes=i,e}function fb(e,r,i,s){return e=cs(22,e,s,r),e.elementType=$G,e.lanes=i,e.stateNode={isHidden:!1},e}function Kx(e,r,i){return e=cs(6,e,null,r),e.lanes=i,e}function Qx(e,r,i){return r=cs(4,e.children!==null?e.children:[],e.key,r),r.lanes=i,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}function Vpe(e,r,i,s,f){this.tag=r,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xx(0),this.expirationTimes=xx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xx(0),this.identifierPrefix=s,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function ZD(e,r,i,s,f,h,y,_,C){return e=new Vpe(e,r,i,_,C),r===1?(r=1,h===!0&&(r|=8)):r=0,h=cs(3,null,null,r),e.current=h,h.stateNode=e,h.memoizedState={element:s,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},FD(h),e}function Gpe(e,r,i){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jh,key:s==null?null:""+s,children:e,containerInfo:r,implementation:i}}function HH(e){if(!e)return Qc;e=e._reactInternals;e:{if(bf(e)!==e||e.tag!==1)throw Error(mt(170));var r=e;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Sa(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(mt(171))}if(e.tag===1){var i=e.type;if(Sa(i))return H6(e,i,r)}return r}function zH(e,r,i,s,f,h,y,_,C){return e=ZD(i,s,!0,e,f,h,y,_,C),e.context=HH(null),i=e.current,s=Qo(),f=Wc(i),h=pl(s,f),h.callback=r??null,Mc(i,h,f),e.current.lanes=f,Fv(e,f,s),ba(e,s),e}function hb(e,r,i,s){var f=r.current,h=Qo(),y=Wc(f);return i=HH(i),r.context===null?r.context=i:r.pendingContext=i,r=pl(h,y),r.payload={element:e},s=s===void 0?null:s,s!==null&&(r.callback=s),e=Mc(f,r,y),e!==null&&(Js(e,f,y,h),q0(e,f,y)),y}function OS(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function gV(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<r?i:r}}function $D(e,r){gV(e,r),(e=e.alternate)&&gV(e,r)}function Hpe(){return null}var KH=typeof reportError=="function"?reportError:function(e){console.error(e)};function eP(e){this._internalRoot=e}pb.prototype.render=eP.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(mt(409));hb(e,r,null,null)};pb.prototype.unmount=eP.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;ff(function(){hb(null,e,null,null)}),r[yl]=null}};function pb(e){this._internalRoot=e}pb.prototype.unstable_scheduleHydration=function(e){if(e){var r=C6();e={blockedOn:null,target:e,priority:r};for(var i=0;i<vc.length&&r!==0&&r<vc[i].priority;i++);vc.splice(i,0,e),i===0&&I6(e)}};function tP(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function mb(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function vV(){}function zpe(e,r,i,s,f){if(f){if(typeof s=="function"){var h=s;s=function(){var w=OS(y);h.call(w)}}var y=zH(r,s,e,0,null,!1,!1,"",vV);return e._reactRootContainer=y,e[yl]=y.current,av(e.nodeType===8?e.parentNode:e),ff(),y}for(;f=e.lastChild;)e.removeChild(f);if(typeof s=="function"){var _=s;s=function(){var w=OS(C);_.call(w)}}var C=ZD(e,0,!1,null,null,!1,!1,"",vV);return e._reactRootContainer=C,e[yl]=C.current,av(e.nodeType===8?e.parentNode:e),ff(function(){hb(r,C,i,s)}),C}function gb(e,r,i,s,f){var h=i._reactRootContainer;if(h){var y=h;if(typeof f=="function"){var _=f;f=function(){var C=OS(y);_.call(C)}}hb(r,y,e,f)}else y=zpe(i,r,e,f,s);return OS(y)}b6=function(e){switch(e.tag){case 3:var r=e.stateNode;if(r.current.memoizedState.isDehydrated){var i=Fg(r.pendingLanes);i!==0&&(SD(r,i|1),ba(r,Ci()),!(Jr&6)&&(Ip=Ci()+500,ed()))}break;case 13:ff(function(){var s=_l(e,1);if(s!==null){var f=Qo();Js(s,e,1,f)}}),$D(e,1)}};bD=function(e){if(e.tag===13){var r=_l(e,134217728);if(r!==null){var i=Qo();Js(r,e,134217728,i)}$D(e,134217728)}};T6=function(e){if(e.tag===13){var r=Wc(e),i=_l(e,r);if(i!==null){var s=Qo();Js(i,e,r,s)}$D(e,r)}};C6=function(){return dn};w6=function(e,r){var i=dn;try{return dn=e,r()}finally{dn=i}};BA=function(e,r,i){switch(r){case"input":if(NA(e,i),r=i.name,i.type==="radio"&&r!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<i.length;r++){var s=i[r];if(s!==e&&s.form===e.form){var f=ab(s);if(!f)throw Error(mt(90));t6(s),NA(s,f)}}}break;case"textarea":n6(e,i);break;case"select":r=i.value,r!=null&&Zh(e,!!i.multiple,r,!1)}};c6=YD;d6=ff;var Kpe={usingClientEntryPoint:!1,Events:[Lv,Hh,ab,u6,l6,YD]},Ig={findFiberByHostInstance:zd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Qpe={bundleType:Ig.bundleType,version:Ig.version,rendererPackageName:Ig.rendererPackageName,rendererConfig:Ig.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wl.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=p6(e),e===null?null:e.stateNode},findFiberByHostInstance:Ig.findFiberByHostInstance||Hpe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var k0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!k0.isDisabled&&k0.supportsFiber)try{rb=k0.inject(Qpe),Nu=k0}catch{}}Va.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kpe;Va.createPortal=function(e,r){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tP(r))throw Error(mt(200));return Gpe(e,r,null,i)};Va.createRoot=function(e,r){if(!tP(e))throw Error(mt(299));var i=!1,s="",f=KH;return r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(f=r.onRecoverableError)),r=ZD(e,1,!1,null,null,i,!1,s,f),e[yl]=r.current,av(e.nodeType===8?e.parentNode:e),new eP(r)};Va.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(mt(188)):(e=Object.keys(e).join(","),Error(mt(268,e)));return e=p6(r),e=e===null?null:e.stateNode,e};Va.flushSync=function(e){return ff(e)};Va.hydrate=function(e,r,i){if(!mb(r))throw Error(mt(200));return gb(null,e,r,!0,i)};Va.hydrateRoot=function(e,r,i){if(!tP(e))throw Error(mt(405));var s=i!=null&&i.hydratedSources||null,f=!1,h="",y=KH;if(i!=null&&(i.unstable_strictMode===!0&&(f=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onRecoverableError!==void 0&&(y=i.onRecoverableError)),r=zH(r,null,e,1,i??null,f,!1,h,y),e[yl]=r.current,av(e),s)for(e=0;e<s.length;e++)i=s[e],f=i._getVersion,f=f(i._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[i,f]:r.mutableSourceEagerHydrationData.push(i,f);return new pb(r)};Va.render=function(e,r,i){if(!mb(r))throw Error(mt(200));return gb(null,e,r,!1,i)};Va.unmountComponentAtNode=function(e){if(!mb(e))throw Error(mt(40));return e._reactRootContainer?(ff(function(){gb(null,null,e,!1,function(){e._reactRootContainer=null,e[yl]=null})}),!0):!1};Va.unstable_batchedUpdates=YD;Va.unstable_renderSubtreeIntoContainer=function(e,r,i,s){if(!mb(i))throw Error(mt(200));if(e==null||e._reactInternals===void 0)throw Error(mt(38));return gb(e,r,i,!1,s)};Va.version="18.3.1-next-f1338f8080-20240426";function QH(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(QH)}catch(e){console.error(e)}}QH(),QG.exports=Va;var Mp=QG.exports;const rP=FG(Mp),Ype=OG({__proto__:null,default:rP},[Mp]);var YH,yV=Mp;YH=yV.createRoot,yV.hydrateRoot;const qpe=1,Jpe=1e6;let Yx=0;function Xpe(){return Yx=(Yx+1)%Number.MAX_SAFE_INTEGER,Yx.toString()}const qx=new Map,_V=e=>{if(qx.has(e))return;const r=setTimeout(()=>{qx.delete(e),Jg({type:"REMOVE_TOAST",toastId:e})},Jpe);qx.set(e,r)},Zpe=(e,r)=>{switch(r.type){case"ADD_TOAST":return{...e,toasts:[r.toast,...e.toasts].slice(0,qpe)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(i=>i.id===r.toast.id?{...i,...r.toast}:i)};case"DISMISS_TOAST":{const{toastId:i}=r;return i?_V(i):e.toasts.forEach(s=>{_V(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===i||i===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return r.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==r.toastId)}}},rS=[];let nS={toasts:[]};function Jg(e){nS=Zpe(nS,e),rS.forEach(r=>{r(nS)})}function $pe({...e}){const r=Xpe(),i=f=>Jg({type:"UPDATE_TOAST",toast:{...f,id:r}}),s=()=>Jg({type:"DISMISS_TOAST",toastId:r});return Jg({type:"ADD_TOAST",toast:{...e,id:r,open:!0,onOpenChange:f=>{f||s()}}}),{id:r,dismiss:s,update:i}}function eme(){const[e,r]=z.useState(nS);return z.useEffect(()=>(rS.push(r),()=>{const i=rS.indexOf(r);i>-1&&rS.splice(i,1)}),[e]),{...e,toast:$pe,dismiss:i=>Jg({type:"DISMISS_TOAST",toastId:i})}}function Kt(e,r,{checkForDefaultPrevented:i=!0}={}){return function(f){if(e==null||e(f),i===!1||!f.defaultPrevented)return r==null?void 0:r(f)}}function SV(e,r){if(typeof e=="function")return e(r);e!=null&&(e.current=r)}function vb(...e){return r=>{let i=!1;const s=e.map(f=>{const h=SV(f,r);return!i&&typeof h=="function"&&(i=!0),h});if(i)return()=>{for(let f=0;f<s.length;f++){const h=s[f];typeof h=="function"?h():SV(e[f],null)}}}}function bn(...e){return z.useCallback(vb(...e),e)}function tme(e,r){const i=z.createContext(r),s=h=>{const{children:y,..._}=h,C=z.useMemo(()=>_,Object.values(_));return I.jsx(i.Provider,{value:C,children:y})};s.displayName=e+"Provider";function f(h){const y=z.useContext(i);if(y)return y;if(r!==void 0)return r;throw new Error(`\`${h}\` must be used within \`${e}\``)}return[s,f]}function Ha(e,r=[]){let i=[];function s(h,y){const _=z.createContext(y),C=i.length;i=[...i,y];const w=A=>{var k;const{scope:P,children:R,...E}=A,O=((k=P==null?void 0:P[e])==null?void 0:k[C])||_,L=z.useMemo(()=>E,Object.values(E));return I.jsx(O.Provider,{value:L,children:R})};w.displayName=h+"Provider";function x(A,P){var O;const R=((O=P==null?void 0:P[e])==null?void 0:O[C])||_,E=z.useContext(R);if(E)return E;if(y!==void 0)return y;throw new Error(`\`${A}\` must be used within \`${h}\``)}return[w,x]}const f=()=>{const h=i.map(y=>z.createContext(y));return function(_){const C=(_==null?void 0:_[e])||h;return z.useMemo(()=>({[`__scope${e}`]:{..._,[e]:C}}),[_,C])}};return f.scopeName=e,[s,rme(f,...r)]}function rme(...e){const r=e[0];if(e.length===1)return r;const i=()=>{const s=e.map(f=>({useScope:f(),scopeName:f.scopeName}));return function(h){const y=s.reduce((_,{useScope:C,scopeName:w})=>{const A=C(h)[`__scope${w}`];return{..._,...A}},{});return z.useMemo(()=>({[`__scope${r.scopeName}`]:y}),[y])}};return i.scopeName=r.scopeName,i}function Ep(e){const r=ime(e),i=z.forwardRef((s,f)=>{const{children:h,...y}=s,_=z.Children.toArray(h),C=_.find(ame);if(C){const w=C.props.children,x=_.map(A=>A===C?z.Children.count(w)>1?z.Children.only(null):z.isValidElement(w)?w.props.children:null:A);return I.jsx(r,{...y,ref:f,children:z.isValidElement(w)?z.cloneElement(w,void 0,x):null})}return I.jsx(r,{...y,ref:f,children:h})});return i.displayName=`${e}.Slot`,i}var nme=Ep("Slot");function ime(e){const r=z.forwardRef((i,s)=>{const{children:f,...h}=i;if(z.isValidElement(f)){const y=ume(f),_=sme(h,f.props);return f.type!==z.Fragment&&(_.ref=s?vb(s,y):y),z.cloneElement(f,_)}return z.Children.count(f)>1?z.Children.only(null):null});return r.displayName=`${e}.SlotClone`,r}var qH=Symbol("radix.slottable");function ome(e){const r=({children:i})=>I.jsx(I.Fragment,{children:i});return r.displayName=`${e}.Slottable`,r.__radixId=qH,r}function ame(e){return z.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===qH}function sme(e,r){const i={...r};for(const s in r){const f=e[s],h=r[s];/^on[A-Z]/.test(s)?f&&h?i[s]=(..._)=>{const C=h(..._);return f(..._),C}:f&&(i[s]=f):s==="style"?i[s]={...f,...h}:s==="className"&&(i[s]=[f,h].filter(Boolean).join(" "))}return{...e,...i}}function ume(e){var s,f;let r=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,i=r&&"isReactWarning"in r&&r.isReactWarning;return i?e.ref:(r=(f=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:f.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i?e.props.ref:e.props.ref||e.ref)}function nP(e){const r=e+"CollectionProvider",[i,s]=Ha(r),[f,h]=i(r,{collectionRef:{current:null},itemMap:new Map}),y=O=>{const{scope:L,children:k}=O,N=Ct.useRef(null),j=Ct.useRef(new Map).current;return I.jsx(f,{scope:L,itemMap:j,collectionRef:N,children:k})};y.displayName=r;const _=e+"CollectionSlot",C=Ep(_),w=Ct.forwardRef((O,L)=>{const{scope:k,children:N}=O,j=h(_,k),G=bn(L,j.collectionRef);return I.jsx(C,{ref:G,children:N})});w.displayName=_;const x=e+"CollectionItemSlot",A="data-radix-collection-item",P=Ep(x),R=Ct.forwardRef((O,L)=>{const{scope:k,children:N,...j}=O,G=Ct.useRef(null),le=bn(L,G),$=h(x,k);return Ct.useEffect(()=>($.itemMap.set(G,{ref:G,...j}),()=>void $.itemMap.delete(G))),I.jsx(P,{[A]:"",ref:le,children:N})});R.displayName=x;function E(O){const L=h(e+"CollectionConsumer",O);return Ct.useCallback(()=>{const N=L.collectionRef.current;if(!N)return[];const j=Array.from(N.querySelectorAll(`[${A}]`));return Array.from(L.itemMap.values()).sort(($,H)=>j.indexOf($.ref.current)-j.indexOf(H.ref.current))},[L.collectionRef,L.itemMap])}return[{Provider:y,Slot:w,ItemSlot:R},E,s]}var lme=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],vr=lme.reduce((e,r)=>{const i=Ep(`Primitive.${r}`),s=z.forwardRef((f,h)=>{const{asChild:y,..._}=f,C=y?i:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),I.jsx(C,{..._,ref:h})});return s.displayName=`Primitive.${r}`,{...e,[r]:s}},{});function iP(e,r){e&&Mp.flushSync(()=>e.dispatchEvent(r))}function Ta(e){const r=z.useRef(e);return z.useEffect(()=>{r.current=e}),z.useMemo(()=>(...i)=>{var s;return(s=r.current)==null?void 0:s.call(r,...i)},[])}function cme(e,r=globalThis==null?void 0:globalThis.document){const i=Ta(e);z.useEffect(()=>{const s=f=>{f.key==="Escape"&&i(f)};return r.addEventListener("keydown",s,{capture:!0}),()=>r.removeEventListener("keydown",s,{capture:!0})},[i,r])}var dme="DismissableLayer",_1="dismissableLayer.update",fme="dismissableLayer.pointerDownOutside",hme="dismissableLayer.focusOutside",bV,JH=z.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),jv=z.forwardRef((e,r)=>{const{disableOutsidePointerEvents:i=!1,onEscapeKeyDown:s,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:y,onDismiss:_,...C}=e,w=z.useContext(JH),[x,A]=z.useState(null),P=(x==null?void 0:x.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,R]=z.useState({}),E=bn(r,H=>A(H)),O=Array.from(w.layers),[L]=[...w.layersWithOutsidePointerEventsDisabled].slice(-1),k=O.indexOf(L),N=x?O.indexOf(x):-1,j=w.layersWithOutsidePointerEventsDisabled.size>0,G=N>=k,le=mme(H=>{const ie=H.target,pe=[...w.branches].some(se=>se.contains(ie));!G||pe||(f==null||f(H),y==null||y(H),H.defaultPrevented||_==null||_())},P),$=gme(H=>{const ie=H.target;[...w.branches].some(se=>se.contains(ie))||(h==null||h(H),y==null||y(H),H.defaultPrevented||_==null||_())},P);return cme(H=>{N===w.layers.size-1&&(s==null||s(H),!H.defaultPrevented&&_&&(H.preventDefault(),_()))},P),z.useEffect(()=>{if(x)return i&&(w.layersWithOutsidePointerEventsDisabled.size===0&&(bV=P.body.style.pointerEvents,P.body.style.pointerEvents="none"),w.layersWithOutsidePointerEventsDisabled.add(x)),w.layers.add(x),TV(),()=>{i&&w.layersWithOutsidePointerEventsDisabled.size===1&&(P.body.style.pointerEvents=bV)}},[x,P,i,w]),z.useEffect(()=>()=>{x&&(w.layers.delete(x),w.layersWithOutsidePointerEventsDisabled.delete(x),TV())},[x,w]),z.useEffect(()=>{const H=()=>R({});return document.addEventListener(_1,H),()=>document.removeEventListener(_1,H)},[]),I.jsx(vr.div,{...C,ref:E,style:{pointerEvents:j?G?"auto":"none":void 0,...e.style},onFocusCapture:Kt(e.onFocusCapture,$.onFocusCapture),onBlurCapture:Kt(e.onBlurCapture,$.onBlurCapture),onPointerDownCapture:Kt(e.onPointerDownCapture,le.onPointerDownCapture)})});jv.displayName=dme;var pme="DismissableLayerBranch",XH=z.forwardRef((e,r)=>{const i=z.useContext(JH),s=z.useRef(null),f=bn(r,s);return z.useEffect(()=>{const h=s.current;if(h)return i.branches.add(h),()=>{i.branches.delete(h)}},[i.branches]),I.jsx(vr.div,{...e,ref:f})});XH.displayName=pme;function mme(e,r=globalThis==null?void 0:globalThis.document){const i=Ta(e),s=z.useRef(!1),f=z.useRef(()=>{});return z.useEffect(()=>{const h=_=>{if(_.target&&!s.current){let C=function(){ZH(fme,i,w,{discrete:!0})};const w={originalEvent:_};_.pointerType==="touch"?(r.removeEventListener("click",f.current),f.current=C,r.addEventListener("click",f.current,{once:!0})):C()}else r.removeEventListener("click",f.current);s.current=!1},y=window.setTimeout(()=>{r.addEventListener("pointerdown",h)},0);return()=>{window.clearTimeout(y),r.removeEventListener("pointerdown",h),r.removeEventListener("click",f.current)}},[r,i]),{onPointerDownCapture:()=>s.current=!0}}function gme(e,r=globalThis==null?void 0:globalThis.document){const i=Ta(e),s=z.useRef(!1);return z.useEffect(()=>{const f=h=>{h.target&&!s.current&&ZH(hme,i,{originalEvent:h},{discrete:!1})};return r.addEventListener("focusin",f),()=>r.removeEventListener("focusin",f)},[r,i]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function TV(){const e=new CustomEvent(_1);document.dispatchEvent(e)}function ZH(e,r,i,{discrete:s}){const f=i.originalEvent.target,h=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:i});r&&f.addEventListener(e,r,{once:!0}),s?iP(f,h):f.dispatchEvent(h)}var vme=jv,yme=XH,ms=globalThis!=null&&globalThis.document?z.useLayoutEffect:()=>{},_me="Portal",yb=z.forwardRef((e,r)=>{var _;const{container:i,...s}=e,[f,h]=z.useState(!1);ms(()=>h(!0),[]);const y=i||f&&((_=globalThis==null?void 0:globalThis.document)==null?void 0:_.body);return y?rP.createPortal(I.jsx(vr.div,{...s,ref:r}),y):null});yb.displayName=_me;function Sme(e,r){return z.useReducer((i,s)=>r[i][s]??i,e)}var za=e=>{const{present:r,children:i}=e,s=bme(r),f=typeof i=="function"?i({present:s.isPresent}):z.Children.only(i),h=bn(s.ref,Tme(f));return typeof i=="function"||s.isPresent?z.cloneElement(f,{ref:h}):null};za.displayName="Presence";function bme(e){const[r,i]=z.useState(),s=z.useRef(null),f=z.useRef(e),h=z.useRef("none"),y=e?"mounted":"unmounted",[_,C]=Sme(y,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return z.useEffect(()=>{const w=N0(s.current);h.current=_==="mounted"?w:"none"},[_]),ms(()=>{const w=s.current,x=f.current;if(x!==e){const P=h.current,R=N0(w);e?C("MOUNT"):R==="none"||(w==null?void 0:w.display)==="none"?C("UNMOUNT"):C(x&&P!==R?"ANIMATION_OUT":"UNMOUNT"),f.current=e}},[e,C]),ms(()=>{if(r){let w;const x=r.ownerDocument.defaultView??window,A=R=>{const O=N0(s.current).includes(R.animationName);if(R.target===r&&O&&(C("ANIMATION_END"),!f.current)){const L=r.style.animationFillMode;r.style.animationFillMode="forwards",w=x.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=L)})}},P=R=>{R.target===r&&(h.current=N0(s.current))};return r.addEventListener("animationstart",P),r.addEventListener("animationcancel",A),r.addEventListener("animationend",A),()=>{x.clearTimeout(w),r.removeEventListener("animationstart",P),r.removeEventListener("animationcancel",A),r.removeEventListener("animationend",A)}}else C("ANIMATION_END")},[r,C]),{isPresent:["mounted","unmountSuspended"].includes(_),ref:z.useCallback(w=>{s.current=w?getComputedStyle(w):null,i(w)},[])}}function N0(e){return(e==null?void 0:e.animationName)||"none"}function Tme(e){var s,f;let r=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,i=r&&"isReactWarning"in r&&r.isReactWarning;return i?e.ref:(r=(f=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:f.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i?e.props.ref:e.props.ref||e.ref)}var Cme=dD[" useInsertionEffect ".trim().toString()]||ms;function td({prop:e,defaultProp:r,onChange:i=()=>{},caller:s}){const[f,h,y]=wme({defaultProp:r,onChange:i}),_=e!==void 0,C=_?e:f;{const x=z.useRef(e!==void 0);z.useEffect(()=>{const A=x.current;A!==_&&console.warn(`${s} is changing from ${A?"controlled":"uncontrolled"} to ${_?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),x.current=_},[_,s])}const w=z.useCallback(x=>{var A;if(_){const P=Ime(x)?x(e):x;P!==e&&((A=y.current)==null||A.call(y,P))}else h(x)},[_,e,h,y]);return[C,w]}function wme({defaultProp:e,onChange:r}){const[i,s]=z.useState(e),f=z.useRef(i),h=z.useRef(r);return Cme(()=>{h.current=r},[r]),z.useEffect(()=>{var y;f.current!==i&&((y=h.current)==null||y.call(h,i),f.current=i)},[i,f]),[i,s,h]}function Ime(e){return typeof e=="function"}var Eme=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),xme="VisuallyHidden",_b=z.forwardRef((e,r)=>I.jsx(vr.span,{...e,ref:r,style:{...Eme,...e.style}}));_b.displayName=xme;var Ame=_b,oP="ToastProvider",[aP,Dme,Pme]=nP("Toast"),[$H,Axe]=Ha("Toast",[Pme]),[Rme,Sb]=$H(oP),ez=e=>{const{__scopeToast:r,label:i="Notification",duration:s=5e3,swipeDirection:f="right",swipeThreshold:h=50,children:y}=e,[_,C]=z.useState(null),[w,x]=z.useState(0),A=z.useRef(!1),P=z.useRef(!1);return i.trim()||console.error(`Invalid prop \`label\` supplied to \`${oP}\`. Expected non-empty \`string\`.`),I.jsx(aP.Provider,{scope:r,children:I.jsx(Rme,{scope:r,label:i,duration:s,swipeDirection:f,swipeThreshold:h,toastCount:w,viewport:_,onViewportChange:C,onToastAdd:z.useCallback(()=>x(R=>R+1),[]),onToastRemove:z.useCallback(()=>x(R=>R-1),[]),isFocusedToastEscapeKeyDownRef:A,isClosePausedRef:P,children:y})})};ez.displayName=oP;var tz="ToastViewport",kme=["F8"],S1="toast.viewportPause",b1="toast.viewportResume",rz=z.forwardRef((e,r)=>{const{__scopeToast:i,hotkey:s=kme,label:f="Notifications ({hotkey})",...h}=e,y=Sb(tz,i),_=Dme(i),C=z.useRef(null),w=z.useRef(null),x=z.useRef(null),A=z.useRef(null),P=bn(r,A,y.onViewportChange),R=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=y.toastCount>0;z.useEffect(()=>{const L=k=>{var j;s.length!==0&&s.every(G=>k[G]||k.code===G)&&((j=A.current)==null||j.focus())};return document.addEventListener("keydown",L),()=>document.removeEventListener("keydown",L)},[s]),z.useEffect(()=>{const L=C.current,k=A.current;if(E&&L&&k){const N=()=>{if(!y.isClosePausedRef.current){const $=new CustomEvent(S1);k.dispatchEvent($),y.isClosePausedRef.current=!0}},j=()=>{if(y.isClosePausedRef.current){const $=new CustomEvent(b1);k.dispatchEvent($),y.isClosePausedRef.current=!1}},G=$=>{!L.contains($.relatedTarget)&&j()},le=()=>{L.contains(document.activeElement)||j()};return L.addEventListener("focusin",N),L.addEventListener("focusout",G),L.addEventListener("pointermove",N),L.addEventListener("pointerleave",le),window.addEventListener("blur",N),window.addEventListener("focus",j),()=>{L.removeEventListener("focusin",N),L.removeEventListener("focusout",G),L.removeEventListener("pointermove",N),L.removeEventListener("pointerleave",le),window.removeEventListener("blur",N),window.removeEventListener("focus",j)}}},[E,y.isClosePausedRef]);const O=z.useCallback(({tabbingDirection:L})=>{const N=_().map(j=>{const G=j.ref.current,le=[G,...zme(G)];return L==="forwards"?le:le.reverse()});return(L==="forwards"?N.reverse():N).flat()},[_]);return z.useEffect(()=>{const L=A.current;if(L){const k=N=>{var le,$,H;const j=N.altKey||N.ctrlKey||N.metaKey;if(N.key==="Tab"&&!j){const ie=document.activeElement,pe=N.shiftKey;if(N.target===L&&pe){(le=w.current)==null||le.focus();return}const me=O({tabbingDirection:pe?"backwards":"forwards"}),we=me.findIndex(ge=>ge===ie);Jx(me.slice(we+1))?N.preventDefault():pe?($=w.current)==null||$.focus():(H=x.current)==null||H.focus()}};return L.addEventListener("keydown",k),()=>L.removeEventListener("keydown",k)}},[_,O]),I.jsxs(yme,{ref:C,role:"region","aria-label":f.replace("{hotkey}",R),tabIndex:-1,style:{pointerEvents:E?void 0:"none"},children:[E&&I.jsx(T1,{ref:w,onFocusFromOutsideViewport:()=>{const L=O({tabbingDirection:"forwards"});Jx(L)}}),I.jsx(aP.Slot,{scope:i,children:I.jsx(vr.ol,{tabIndex:-1,...h,ref:P})}),E&&I.jsx(T1,{ref:x,onFocusFromOutsideViewport:()=>{const L=O({tabbingDirection:"backwards"});Jx(L)}})]})});rz.displayName=tz;var nz="ToastFocusProxy",T1=z.forwardRef((e,r)=>{const{__scopeToast:i,onFocusFromOutsideViewport:s,...f}=e,h=Sb(nz,i);return I.jsx(_b,{"aria-hidden":!0,tabIndex:0,...f,ref:r,style:{position:"fixed"},onFocus:y=>{var w;const _=y.relatedTarget;!((w=h.viewport)!=null&&w.contains(_))&&s()}})});T1.displayName=nz;var Bv="Toast",Nme="toast.swipeStart",Ome="toast.swipeMove",Fme="toast.swipeCancel",Mme="toast.swipeEnd",iz=z.forwardRef((e,r)=>{const{forceMount:i,open:s,defaultOpen:f,onOpenChange:h,...y}=e,[_,C]=td({prop:s,defaultProp:f??!0,onChange:h,caller:Bv});return I.jsx(za,{present:i||_,children:I.jsx(jme,{open:_,...y,ref:r,onClose:()=>C(!1),onPause:Ta(e.onPause),onResume:Ta(e.onResume),onSwipeStart:Kt(e.onSwipeStart,w=>{w.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Kt(e.onSwipeMove,w=>{const{x,y:A}=w.detail.delta;w.currentTarget.setAttribute("data-swipe","move"),w.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${x}px`),w.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${A}px`)}),onSwipeCancel:Kt(e.onSwipeCancel,w=>{w.currentTarget.setAttribute("data-swipe","cancel"),w.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),w.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),w.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),w.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Kt(e.onSwipeEnd,w=>{const{x,y:A}=w.detail.delta;w.currentTarget.setAttribute("data-swipe","end"),w.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),w.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),w.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${x}px`),w.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${A}px`),C(!1)})})})});iz.displayName=Bv;var[Lme,Wme]=$H(Bv,{onClose(){}}),jme=z.forwardRef((e,r)=>{const{__scopeToast:i,type:s="foreground",duration:f,open:h,onClose:y,onEscapeKeyDown:_,onPause:C,onResume:w,onSwipeStart:x,onSwipeMove:A,onSwipeCancel:P,onSwipeEnd:R,...E}=e,O=Sb(Bv,i),[L,k]=z.useState(null),N=bn(r,ge=>k(ge)),j=z.useRef(null),G=z.useRef(null),le=f||O.duration,$=z.useRef(0),H=z.useRef(le),ie=z.useRef(0),{onToastAdd:pe,onToastRemove:se}=O,ce=Ta(()=>{var Ee;(L==null?void 0:L.contains(document.activeElement))&&((Ee=O.viewport)==null||Ee.focus()),y()}),me=z.useCallback(ge=>{!ge||ge===1/0||(window.clearTimeout(ie.current),$.current=new Date().getTime(),ie.current=window.setTimeout(ce,ge))},[ce]);z.useEffect(()=>{const ge=O.viewport;if(ge){const Ee=()=>{me(H.current),w==null||w()},_e=()=>{const Be=new Date().getTime()-$.current;H.current=H.current-Be,window.clearTimeout(ie.current),C==null||C()};return ge.addEventListener(S1,_e),ge.addEventListener(b1,Ee),()=>{ge.removeEventListener(S1,_e),ge.removeEventListener(b1,Ee)}}},[O.viewport,le,C,w,me]),z.useEffect(()=>{h&&!O.isClosePausedRef.current&&me(le)},[h,le,O.isClosePausedRef,me]),z.useEffect(()=>(pe(),()=>se()),[pe,se]);const we=z.useMemo(()=>L?dz(L):null,[L]);return O.viewport?I.jsxs(I.Fragment,{children:[we&&I.jsx(Bme,{__scopeToast:i,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:we}),I.jsx(Lme,{scope:i,onClose:ce,children:Mp.createPortal(I.jsx(aP.ItemSlot,{scope:i,children:I.jsx(vme,{asChild:!0,onEscapeKeyDown:Kt(_,()=>{O.isFocusedToastEscapeKeyDownRef.current||ce(),O.isFocusedToastEscapeKeyDownRef.current=!1}),children:I.jsx(vr.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":h?"open":"closed","data-swipe-direction":O.swipeDirection,...E,ref:N,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Kt(e.onKeyDown,ge=>{ge.key==="Escape"&&(_==null||_(ge.nativeEvent),ge.nativeEvent.defaultPrevented||(O.isFocusedToastEscapeKeyDownRef.current=!0,ce()))}),onPointerDown:Kt(e.onPointerDown,ge=>{ge.button===0&&(j.current={x:ge.clientX,y:ge.clientY})}),onPointerMove:Kt(e.onPointerMove,ge=>{if(!j.current)return;const Ee=ge.clientX-j.current.x,_e=ge.clientY-j.current.y,Be=!!G.current,xe=["left","right"].includes(O.swipeDirection),Ce=["left","up"].includes(O.swipeDirection)?Math.min:Math.max,Ve=xe?Ce(0,Ee):0,rt=xe?0:Ce(0,_e),et=ge.pointerType==="touch"?10:2,vt={x:Ve,y:rt},St={originalEvent:ge,delta:vt};Be?(G.current=vt,O0(Ome,A,St,{discrete:!1})):CV(vt,O.swipeDirection,et)?(G.current=vt,O0(Nme,x,St,{discrete:!1}),ge.target.setPointerCapture(ge.pointerId)):(Math.abs(Ee)>et||Math.abs(_e)>et)&&(j.current=null)}),onPointerUp:Kt(e.onPointerUp,ge=>{const Ee=G.current,_e=ge.target;if(_e.hasPointerCapture(ge.pointerId)&&_e.releasePointerCapture(ge.pointerId),G.current=null,j.current=null,Ee){const Be=ge.currentTarget,xe={originalEvent:ge,delta:Ee};CV(Ee,O.swipeDirection,O.swipeThreshold)?O0(Mme,R,xe,{discrete:!0}):O0(Fme,P,xe,{discrete:!0}),Be.addEventListener("click",Ce=>Ce.preventDefault(),{once:!0})}})})})}),O.viewport)})]}):null}),Bme=e=>{const{__scopeToast:r,children:i,...s}=e,f=Sb(Bv,r),[h,y]=z.useState(!1),[_,C]=z.useState(!1);return Gme(()=>y(!0)),z.useEffect(()=>{const w=window.setTimeout(()=>C(!0),1e3);return()=>window.clearTimeout(w)},[]),_?null:I.jsx(yb,{asChild:!0,children:I.jsx(_b,{...s,children:h&&I.jsxs(I.Fragment,{children:[f.label," ",i]})})})},Ume="ToastTitle",oz=z.forwardRef((e,r)=>{const{__scopeToast:i,...s}=e;return I.jsx(vr.div,{...s,ref:r})});oz.displayName=Ume;var Vme="ToastDescription",az=z.forwardRef((e,r)=>{const{__scopeToast:i,...s}=e;return I.jsx(vr.div,{...s,ref:r})});az.displayName=Vme;var sz="ToastAction",uz=z.forwardRef((e,r)=>{const{altText:i,...s}=e;return i.trim()?I.jsx(cz,{altText:i,asChild:!0,children:I.jsx(sP,{...s,ref:r})}):(console.error(`Invalid prop \`altText\` supplied to \`${sz}\`. Expected non-empty \`string\`.`),null)});uz.displayName=sz;var lz="ToastClose",sP=z.forwardRef((e,r)=>{const{__scopeToast:i,...s}=e,f=Wme(lz,i);return I.jsx(cz,{asChild:!0,children:I.jsx(vr.button,{type:"button",...s,ref:r,onClick:Kt(e.onClick,f.onClose)})})});sP.displayName=lz;var cz=z.forwardRef((e,r)=>{const{__scopeToast:i,altText:s,...f}=e;return I.jsx(vr.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...f,ref:r})});function dz(e){const r=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&r.push(s.textContent),Hme(s)){const f=s.ariaHidden||s.hidden||s.style.display==="none",h=s.dataset.radixToastAnnounceExclude==="";if(!f)if(h){const y=s.dataset.radixToastAnnounceAlt;y&&r.push(y)}else r.push(...dz(s))}}),r}function O0(e,r,i,{discrete:s}){const f=i.originalEvent.currentTarget,h=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:i});r&&f.addEventListener(e,r,{once:!0}),s?iP(f,h):f.dispatchEvent(h)}var CV=(e,r,i=0)=>{const s=Math.abs(e.x),f=Math.abs(e.y),h=s>f;return r==="left"||r==="right"?h&&s>i:!h&&f>i};function Gme(e=()=>{}){const r=Ta(e);ms(()=>{let i=0,s=0;return i=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(r)),()=>{window.cancelAnimationFrame(i),window.cancelAnimationFrame(s)}},[r])}function Hme(e){return e.nodeType===e.ELEMENT_NODE}function zme(e){const r=[],i=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const f=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||f?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;i.nextNode();)r.push(i.currentNode);return r}function Jx(e){const r=document.activeElement;return e.some(i=>i===r?!0:(i.focus(),document.activeElement!==r))}var Kme=ez,fz=rz,hz=iz,pz=oz,mz=az,gz=uz,vz=sP;function yz(e){var r,i,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var f=e.length;for(r=0;r<f;r++)e[r]&&(i=yz(e[r]))&&(s&&(s+=" "),s+=i)}else for(i in e)e[i]&&(s&&(s+=" "),s+=i);return s}function _z(){for(var e,r,i=0,s="",f=arguments.length;i<f;i++)(e=arguments[i])&&(r=yz(e))&&(s&&(s+=" "),s+=r);return s}const wV=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,IV=_z,bb=(e,r)=>i=>{var s;if((r==null?void 0:r.variants)==null)return IV(e,i==null?void 0:i.class,i==null?void 0:i.className);const{variants:f,defaultVariants:h}=r,y=Object.keys(f).map(w=>{const x=i==null?void 0:i[w],A=h==null?void 0:h[w];if(x===null)return null;const P=wV(x)||wV(A);return f[w][P]}),_=i&&Object.entries(i).reduce((w,x)=>{let[A,P]=x;return P===void 0||(w[A]=P),w},{}),C=r==null||(s=r.compoundVariants)===null||s===void 0?void 0:s.reduce((w,x)=>{let{class:A,className:P,...R}=x;return Object.entries(R).every(E=>{let[O,L]=E;return Array.isArray(L)?L.includes({...h,..._}[O]):{...h,..._}[O]===L})?[...w,A,P]:w},[]);return IV(e,y,C,i==null?void 0:i.class,i==null?void 0:i.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qme=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Sz=(...e)=>e.filter((r,i,s)=>!!r&&r.trim()!==""&&s.indexOf(r)===i).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Yme={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qme=z.forwardRef(({color:e="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:f="",children:h,iconNode:y,..._},C)=>z.createElement("svg",{ref:C,...Yme,width:r,height:r,stroke:e,strokeWidth:s?Number(i)*24/Number(r):i,className:Sz("lucide",f),..._},[...y.map(([w,x])=>z.createElement(w,x)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=(e,r)=>{const i=z.forwardRef(({className:s,...f},h)=>z.createElement(qme,{ref:h,iconNode:r,className:Sz(`lucide-${Qme(e)}`,s),...f}));return i.displayName=`${e}`,i};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jme=Qr("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xme=Qr("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zme=Qr("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $me=Qr("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bz=Qr("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ege=Qr("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=Qr("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tz=Qr("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tge=Qr("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rge=Qr("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cz=Qr("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nge=Qr("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wz=Qr("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ige=Qr("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=Qr("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oge=Qr("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=Qr("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const age=Qr("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iz=Qr("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EV=Qr("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sge=Qr("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uge=Qr("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=Qr("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ez=Qr("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lge=Qr("ScanLine",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cge=Qr("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dge=Qr("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xz=Qr("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Az=Qr("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=Qr("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xV=Qr("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dz=Qr("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=Qr("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=Qr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),dP="-",fge=e=>{const r=pge(e),{conflictingClassGroups:i,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:y=>{const _=y.split(dP);return _[0]===""&&_.length!==1&&_.shift(),Pz(_,r)||hge(y)},getConflictingClassGroupIds:(y,_)=>{const C=i[y]||[];return _&&s[y]?[...C,...s[y]]:C}}},Pz=(e,r)=>{var y;if(e.length===0)return r.classGroupId;const i=e[0],s=r.nextPart.get(i),f=s?Pz(e.slice(1),s):void 0;if(f)return f;if(r.validators.length===0)return;const h=e.join(dP);return(y=r.validators.find(({validator:_})=>_(h)))==null?void 0:y.classGroupId},AV=/^\[(.+)\]$/,hge=e=>{if(AV.test(e)){const r=AV.exec(e)[1],i=r==null?void 0:r.substring(0,r.indexOf(":"));if(i)return"arbitrary.."+i}},pge=e=>{const{theme:r,prefix:i}=e,s={nextPart:new Map,validators:[]};return gge(Object.entries(e.classGroups),i).forEach(([h,y])=>{C1(y,s,h,r)}),s},C1=(e,r,i,s)=>{e.forEach(f=>{if(typeof f=="string"){const h=f===""?r:DV(r,f);h.classGroupId=i;return}if(typeof f=="function"){if(mge(f)){C1(f(s),r,i,s);return}r.validators.push({validator:f,classGroupId:i});return}Object.entries(f).forEach(([h,y])=>{C1(y,DV(r,h),i,s)})})},DV=(e,r)=>{let i=e;return r.split(dP).forEach(s=>{i.nextPart.has(s)||i.nextPart.set(s,{nextPart:new Map,validators:[]}),i=i.nextPart.get(s)}),i},mge=e=>e.isThemeGetter,gge=(e,r)=>r?e.map(([i,s])=>{const f=s.map(h=>typeof h=="string"?r+h:typeof h=="object"?Object.fromEntries(Object.entries(h).map(([y,_])=>[r+y,_])):h);return[i,f]}):e,vge=e=>{if(e<1)return{get:()=>{},set:()=>{}};let r=0,i=new Map,s=new Map;const f=(h,y)=>{i.set(h,y),r++,r>e&&(r=0,s=i,i=new Map)};return{get(h){let y=i.get(h);if(y!==void 0)return y;if((y=s.get(h))!==void 0)return f(h,y),y},set(h,y){i.has(h)?i.set(h,y):f(h,y)}}},Rz="!",yge=e=>{const{separator:r,experimentalParseClassName:i}=e,s=r.length===1,f=r[0],h=r.length,y=_=>{const C=[];let w=0,x=0,A;for(let L=0;L<_.length;L++){let k=_[L];if(w===0){if(k===f&&(s||_.slice(L,L+h)===r)){C.push(_.slice(x,L)),x=L+h;continue}if(k==="/"){A=L;continue}}k==="["?w++:k==="]"&&w--}const P=C.length===0?_:_.substring(x),R=P.startsWith(Rz),E=R?P.substring(1):P,O=A&&A>x?A-x:void 0;return{modifiers:C,hasImportantModifier:R,baseClassName:E,maybePostfixModifierPosition:O}};return i?_=>i({className:_,parseClassName:y}):y},_ge=e=>{if(e.length<=1)return e;const r=[];let i=[];return e.forEach(s=>{s[0]==="["?(r.push(...i.sort(),s),i=[]):i.push(s)}),r.push(...i.sort()),r},Sge=e=>({cache:vge(e.cacheSize),parseClassName:yge(e),...fge(e)}),bge=/\s+/,Tge=(e,r)=>{const{parseClassName:i,getClassGroupId:s,getConflictingClassGroupIds:f}=r,h=[],y=e.trim().split(bge);let _="";for(let C=y.length-1;C>=0;C-=1){const w=y[C],{modifiers:x,hasImportantModifier:A,baseClassName:P,maybePostfixModifierPosition:R}=i(w);let E=!!R,O=s(E?P.substring(0,R):P);if(!O){if(!E){_=w+(_.length>0?" "+_:_);continue}if(O=s(P),!O){_=w+(_.length>0?" "+_:_);continue}E=!1}const L=_ge(x).join(":"),k=A?L+Rz:L,N=k+O;if(h.includes(N))continue;h.push(N);const j=f(O,E);for(let G=0;G<j.length;++G){const le=j[G];h.push(k+le)}_=w+(_.length>0?" "+_:_)}return _};function Cge(){let e=0,r,i,s="";for(;e<arguments.length;)(r=arguments[e++])&&(i=kz(r))&&(s&&(s+=" "),s+=i);return s}const kz=e=>{if(typeof e=="string")return e;let r,i="";for(let s=0;s<e.length;s++)e[s]&&(r=kz(e[s]))&&(i&&(i+=" "),i+=r);return i};function wge(e,...r){let i,s,f,h=y;function y(C){const w=r.reduce((x,A)=>A(x),e());return i=Sge(w),s=i.cache.get,f=i.cache.set,h=_,_(C)}function _(C){const w=s(C);if(w)return w;const x=Tge(C,i);return f(C,x),x}return function(){return h(Cge.apply(null,arguments))}}const An=e=>{const r=i=>i[e]||[];return r.isThemeGetter=!0,r},Nz=/^\[(?:([a-z-]+):)?(.+)\]$/i,Ige=/^\d+\/\d+$/,Ege=new Set(["px","full","screen"]),xge=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Age=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Dge=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Pge=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Rge=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,nl=e=>ip(e)||Ege.has(e)||Ige.test(e),cc=e=>Lp(e,"length",jge),ip=e=>!!e&&!Number.isNaN(Number(e)),Xx=e=>Lp(e,"number",ip),Eg=e=>!!e&&Number.isInteger(Number(e)),kge=e=>e.endsWith("%")&&ip(e.slice(0,-1)),br=e=>Nz.test(e),dc=e=>xge.test(e),Nge=new Set(["length","size","percentage"]),Oge=e=>Lp(e,Nge,Oz),Fge=e=>Lp(e,"position",Oz),Mge=new Set(["image","url"]),Lge=e=>Lp(e,Mge,Uge),Wge=e=>Lp(e,"",Bge),xg=()=>!0,Lp=(e,r,i)=>{const s=Nz.exec(e);return s?s[1]?typeof r=="string"?s[1]===r:r.has(s[1]):i(s[2]):!1},jge=e=>Age.test(e)&&!Dge.test(e),Oz=()=>!1,Bge=e=>Pge.test(e),Uge=e=>Rge.test(e),Vge=()=>{const e=An("colors"),r=An("spacing"),i=An("blur"),s=An("brightness"),f=An("borderColor"),h=An("borderRadius"),y=An("borderSpacing"),_=An("borderWidth"),C=An("contrast"),w=An("grayscale"),x=An("hueRotate"),A=An("invert"),P=An("gap"),R=An("gradientColorStops"),E=An("gradientColorStopPositions"),O=An("inset"),L=An("margin"),k=An("opacity"),N=An("padding"),j=An("saturate"),G=An("scale"),le=An("sepia"),$=An("skew"),H=An("space"),ie=An("translate"),pe=()=>["auto","contain","none"],se=()=>["auto","hidden","clip","visible","scroll"],ce=()=>["auto",br,r],me=()=>[br,r],we=()=>["",nl,cc],ge=()=>["auto",ip,br],Ee=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],_e=()=>["solid","dashed","dotted","double","none"],Be=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],xe=()=>["start","end","center","between","around","evenly","stretch"],Ce=()=>["","0",br],Ve=()=>["auto","avoid","all","avoid-page","page","left","right","column"],rt=()=>[ip,br];return{cacheSize:500,separator:":",theme:{colors:[xg],spacing:[nl,cc],blur:["none","",dc,br],brightness:rt(),borderColor:[e],borderRadius:["none","","full",dc,br],borderSpacing:me(),borderWidth:we(),contrast:rt(),grayscale:Ce(),hueRotate:rt(),invert:Ce(),gap:me(),gradientColorStops:[e],gradientColorStopPositions:[kge,cc],inset:ce(),margin:ce(),opacity:rt(),padding:me(),saturate:rt(),scale:rt(),sepia:Ce(),skew:rt(),space:me(),translate:me()},classGroups:{aspect:[{aspect:["auto","square","video",br]}],container:["container"],columns:[{columns:[dc]}],"break-after":[{"break-after":Ve()}],"break-before":[{"break-before":Ve()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Ee(),br]}],overflow:[{overflow:se()}],"overflow-x":[{"overflow-x":se()}],"overflow-y":[{"overflow-y":se()}],overscroll:[{overscroll:pe()}],"overscroll-x":[{"overscroll-x":pe()}],"overscroll-y":[{"overscroll-y":pe()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[O]}],"inset-x":[{"inset-x":[O]}],"inset-y":[{"inset-y":[O]}],start:[{start:[O]}],end:[{end:[O]}],top:[{top:[O]}],right:[{right:[O]}],bottom:[{bottom:[O]}],left:[{left:[O]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Eg,br]}],basis:[{basis:ce()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",br]}],grow:[{grow:Ce()}],shrink:[{shrink:Ce()}],order:[{order:["first","last","none",Eg,br]}],"grid-cols":[{"grid-cols":[xg]}],"col-start-end":[{col:["auto",{span:["full",Eg,br]},br]}],"col-start":[{"col-start":ge()}],"col-end":[{"col-end":ge()}],"grid-rows":[{"grid-rows":[xg]}],"row-start-end":[{row:["auto",{span:[Eg,br]},br]}],"row-start":[{"row-start":ge()}],"row-end":[{"row-end":ge()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",br]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",br]}],gap:[{gap:[P]}],"gap-x":[{"gap-x":[P]}],"gap-y":[{"gap-y":[P]}],"justify-content":[{justify:["normal",...xe()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...xe(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...xe(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[N]}],px:[{px:[N]}],py:[{py:[N]}],ps:[{ps:[N]}],pe:[{pe:[N]}],pt:[{pt:[N]}],pr:[{pr:[N]}],pb:[{pb:[N]}],pl:[{pl:[N]}],m:[{m:[L]}],mx:[{mx:[L]}],my:[{my:[L]}],ms:[{ms:[L]}],me:[{me:[L]}],mt:[{mt:[L]}],mr:[{mr:[L]}],mb:[{mb:[L]}],ml:[{ml:[L]}],"space-x":[{"space-x":[H]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[H]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",br,r]}],"min-w":[{"min-w":[br,r,"min","max","fit"]}],"max-w":[{"max-w":[br,r,"none","full","min","max","fit","prose",{screen:[dc]},dc]}],h:[{h:[br,r,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[br,r,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[br,r,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[br,r,"auto","min","max","fit"]}],"font-size":[{text:["base",dc,cc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Xx]}],"font-family":[{font:[xg]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",br]}],"line-clamp":[{"line-clamp":["none",ip,Xx]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",nl,br]}],"list-image":[{"list-image":["none",br]}],"list-style-type":[{list:["none","disc","decimal",br]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[k]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[k]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[..._e(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",nl,cc]}],"underline-offset":[{"underline-offset":["auto",nl,br]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:me()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",br]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",br]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[k]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Ee(),Fge]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Oge]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Lge]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[E]}],"gradient-via-pos":[{via:[E]}],"gradient-to-pos":[{to:[E]}],"gradient-from":[{from:[R]}],"gradient-via":[{via:[R]}],"gradient-to":[{to:[R]}],rounded:[{rounded:[h]}],"rounded-s":[{"rounded-s":[h]}],"rounded-e":[{"rounded-e":[h]}],"rounded-t":[{"rounded-t":[h]}],"rounded-r":[{"rounded-r":[h]}],"rounded-b":[{"rounded-b":[h]}],"rounded-l":[{"rounded-l":[h]}],"rounded-ss":[{"rounded-ss":[h]}],"rounded-se":[{"rounded-se":[h]}],"rounded-ee":[{"rounded-ee":[h]}],"rounded-es":[{"rounded-es":[h]}],"rounded-tl":[{"rounded-tl":[h]}],"rounded-tr":[{"rounded-tr":[h]}],"rounded-br":[{"rounded-br":[h]}],"rounded-bl":[{"rounded-bl":[h]}],"border-w":[{border:[_]}],"border-w-x":[{"border-x":[_]}],"border-w-y":[{"border-y":[_]}],"border-w-s":[{"border-s":[_]}],"border-w-e":[{"border-e":[_]}],"border-w-t":[{"border-t":[_]}],"border-w-r":[{"border-r":[_]}],"border-w-b":[{"border-b":[_]}],"border-w-l":[{"border-l":[_]}],"border-opacity":[{"border-opacity":[k]}],"border-style":[{border:[..._e(),"hidden"]}],"divide-x":[{"divide-x":[_]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[_]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[k]}],"divide-style":[{divide:_e()}],"border-color":[{border:[f]}],"border-color-x":[{"border-x":[f]}],"border-color-y":[{"border-y":[f]}],"border-color-s":[{"border-s":[f]}],"border-color-e":[{"border-e":[f]}],"border-color-t":[{"border-t":[f]}],"border-color-r":[{"border-r":[f]}],"border-color-b":[{"border-b":[f]}],"border-color-l":[{"border-l":[f]}],"divide-color":[{divide:[f]}],"outline-style":[{outline:["",..._e()]}],"outline-offset":[{"outline-offset":[nl,br]}],"outline-w":[{outline:[nl,cc]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:we()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[k]}],"ring-offset-w":[{"ring-offset":[nl,cc]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",dc,Wge]}],"shadow-color":[{shadow:[xg]}],opacity:[{opacity:[k]}],"mix-blend":[{"mix-blend":[...Be(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Be()}],filter:[{filter:["","none"]}],blur:[{blur:[i]}],brightness:[{brightness:[s]}],contrast:[{contrast:[C]}],"drop-shadow":[{"drop-shadow":["","none",dc,br]}],grayscale:[{grayscale:[w]}],"hue-rotate":[{"hue-rotate":[x]}],invert:[{invert:[A]}],saturate:[{saturate:[j]}],sepia:[{sepia:[le]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[i]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[C]}],"backdrop-grayscale":[{"backdrop-grayscale":[w]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[x]}],"backdrop-invert":[{"backdrop-invert":[A]}],"backdrop-opacity":[{"backdrop-opacity":[k]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[le]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[y]}],"border-spacing-x":[{"border-spacing-x":[y]}],"border-spacing-y":[{"border-spacing-y":[y]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",br]}],duration:[{duration:rt()}],ease:[{ease:["linear","in","out","in-out",br]}],delay:[{delay:rt()}],animate:[{animate:["none","spin","ping","pulse","bounce",br]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[G]}],"scale-x":[{"scale-x":[G]}],"scale-y":[{"scale-y":[G]}],rotate:[{rotate:[Eg,br]}],"translate-x":[{"translate-x":[ie]}],"translate-y":[{"translate-y":[ie]}],"skew-x":[{"skew-x":[$]}],"skew-y":[{"skew-y":[$]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",br]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",br]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":me()}],"scroll-mx":[{"scroll-mx":me()}],"scroll-my":[{"scroll-my":me()}],"scroll-ms":[{"scroll-ms":me()}],"scroll-me":[{"scroll-me":me()}],"scroll-mt":[{"scroll-mt":me()}],"scroll-mr":[{"scroll-mr":me()}],"scroll-mb":[{"scroll-mb":me()}],"scroll-ml":[{"scroll-ml":me()}],"scroll-p":[{"scroll-p":me()}],"scroll-px":[{"scroll-px":me()}],"scroll-py":[{"scroll-py":me()}],"scroll-ps":[{"scroll-ps":me()}],"scroll-pe":[{"scroll-pe":me()}],"scroll-pt":[{"scroll-pt":me()}],"scroll-pr":[{"scroll-pr":me()}],"scroll-pb":[{"scroll-pb":me()}],"scroll-pl":[{"scroll-pl":me()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",br]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[nl,cc,Xx]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Gge=wge(Vge);function dr(...e){return Gge(_z(e))}const Hge=Kme,Fz=z.forwardRef(({className:e,...r},i)=>I.jsx(fz,{ref:i,className:dr("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...r}));Fz.displayName=fz.displayName;const zge=bb("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Mz=z.forwardRef(({className:e,variant:r,...i},s)=>I.jsx(hz,{ref:s,className:dr(zge({variant:r}),e),...i}));Mz.displayName=hz.displayName;const Kge=z.forwardRef(({className:e,...r},i)=>I.jsx(gz,{ref:i,className:dr("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...r}));Kge.displayName=gz.displayName;const Lz=z.forwardRef(({className:e,...r},i)=>I.jsx(vz,{ref:i,className:dr("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...r,children:I.jsx(Uv,{className:"h-4 w-4"})}));Lz.displayName=vz.displayName;const Wz=z.forwardRef(({className:e,...r},i)=>I.jsx(pz,{ref:i,className:dr("text-sm font-semibold",e),...r}));Wz.displayName=pz.displayName;const jz=z.forwardRef(({className:e,...r},i)=>I.jsx(mz,{ref:i,className:dr("text-sm opacity-90",e),...r}));jz.displayName=mz.displayName;function Qge(){const{toasts:e}=eme();return I.jsxs(Hge,{children:[e.map(function({id:r,title:i,description:s,action:f,...h}){return I.jsxs(Mz,{...h,children:[I.jsxs("div",{className:"grid gap-1",children:[i&&I.jsx(Wz,{children:i}),s&&I.jsx(jz,{children:s})]}),f,I.jsx(Lz,{})]},r)}),I.jsx(Fz,{})]})}var PV=["light","dark"],Yge="(prefers-color-scheme: dark)",qge=z.createContext(void 0),Jge={setTheme:e=>{},themes:[]},Xge=()=>{var e;return(e=z.useContext(qge))!=null?e:Jge};z.memo(({forcedTheme:e,storageKey:r,attribute:i,enableSystem:s,enableColorScheme:f,defaultTheme:h,value:y,attrs:_,nonce:C})=>{let w=h==="system",x=i==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${_.map(E=>`'${E}'`).join(",")})`};`:`var d=document.documentElement,n='${i}',s='setAttribute';`,A=f?PV.includes(h)&&h?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${h}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",P=(E,O=!1,L=!0)=>{let k=y?y[E]:E,N=O?E+"|| ''":`'${k}'`,j="";return f&&L&&!O&&PV.includes(E)&&(j+=`d.style.colorScheme = '${E}';`),i==="class"?O||k?j+=`c.add(${N})`:j+="null":k&&(j+=`d[s](n,${N})`),j},R=e?`!function(){${x}${P(e)}}()`:s?`!function(){try{${x}var e=localStorage.getItem('${r}');if('system'===e||(!e&&${w})){var t='${Yge}',m=window.matchMedia(t);if(m.media!==t||m.matches){${P("dark")}}else{${P("light")}}}else if(e){${y?`var x=${JSON.stringify(y)};`:""}${P(y?"x[e]":"e",!0)}}${w?"":"else{"+P(h,!1,!1)+"}"}${A}}catch(e){}}()`:`!function(){try{${x}var e=localStorage.getItem('${r}');if(e){${y?`var x=${JSON.stringify(y)};`:""}${P(y?"x[e]":"e",!0)}}else{${P(h,!1,!1)};}${A}}catch(t){}}();`;return z.createElement("script",{nonce:C,dangerouslySetInnerHTML:{__html:R}})});var Zge=e=>{switch(e){case"success":return tve;case"info":return nve;case"warning":return rve;case"error":return ive;default:return null}},$ge=Array(12).fill(0),eve=({visible:e,className:r})=>Ct.createElement("div",{className:["sonner-loading-wrapper",r].filter(Boolean).join(" "),"data-visible":e},Ct.createElement("div",{className:"sonner-spinner"},$ge.map((i,s)=>Ct.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),tve=Ct.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ct.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),rve=Ct.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ct.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),nve=Ct.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ct.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),ive=Ct.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ct.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),ove=Ct.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ct.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ct.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),ave=()=>{let[e,r]=Ct.useState(document.hidden);return Ct.useEffect(()=>{let i=()=>{r(document.hidden)};return document.addEventListener("visibilitychange",i),()=>window.removeEventListener("visibilitychange",i)},[]),e},w1=1,sve=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;let{message:i,...s}=e,f=typeof(e==null?void 0:e.id)=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:w1++,h=this.toasts.find(_=>_.id===f),y=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(f)&&this.dismissedToasts.delete(f),h?this.toasts=this.toasts.map(_=>_.id===f?(this.publish({..._,...e,id:f,title:i}),{..._,...e,id:f,dismissible:y,title:i}):_):this.addToast({title:i,...s,dismissible:y,id:f}),f},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(r=>{this.subscribers.forEach(i=>i({id:r.id,dismiss:!0}))}),this.subscribers.forEach(r=>r({id:e,dismiss:!0})),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let i;r.loading!==void 0&&(i=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));let s=e instanceof Promise?e:e(),f=i!==void 0,h,y=s.then(async C=>{if(h=["resolve",C],Ct.isValidElement(C))f=!1,this.create({id:i,type:"default",message:C});else if(lve(C)&&!C.ok){f=!1;let w=typeof r.error=="function"?await r.error(`HTTP error! status: ${C.status}`):r.error,x=typeof r.description=="function"?await r.description(`HTTP error! status: ${C.status}`):r.description;this.create({id:i,type:"error",message:w,description:x})}else if(r.success!==void 0){f=!1;let w=typeof r.success=="function"?await r.success(C):r.success,x=typeof r.description=="function"?await r.description(C):r.description;this.create({id:i,type:"success",message:w,description:x})}}).catch(async C=>{if(h=["reject",C],r.error!==void 0){f=!1;let w=typeof r.error=="function"?await r.error(C):r.error,x=typeof r.description=="function"?await r.description(C):r.description;this.create({id:i,type:"error",message:w,description:x})}}).finally(()=>{var C;f&&(this.dismiss(i),i=void 0),(C=r.finally)==null||C.call(r)}),_=()=>new Promise((C,w)=>y.then(()=>h[0]==="reject"?w(h[1]):C(h[1])).catch(w));return typeof i!="string"&&typeof i!="number"?{unwrap:_}:Object.assign(i,{unwrap:_})},this.custom=(e,r)=>{let i=(r==null?void 0:r.id)||w1++;return this.create({jsx:e(i),id:i,...r}),i},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},ma=new sve,uve=(e,r)=>{let i=(r==null?void 0:r.id)||w1++;return ma.addToast({title:e,...r,id:i}),i},lve=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",cve=uve,dve=()=>ma.toasts,fve=()=>ma.getActiveToasts(),_r=Object.assign(cve,{success:ma.success,info:ma.info,warning:ma.warning,error:ma.error,custom:ma.custom,message:ma.message,promise:ma.promise,dismiss:ma.dismiss,loading:ma.loading},{getHistory:dve,getToasts:fve});function hve(e,{insertAt:r}={}){if(typeof document>"u")return;let i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",r==="top"&&i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}hve(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function F0(e){return e.label!==void 0}var pve=3,mve="32px",gve="16px",RV=4e3,vve=356,yve=14,_ve=20,Sve=200;function Us(...e){return e.filter(Boolean).join(" ")}function bve(e){let[r,i]=e.split("-"),s=[];return r&&s.push(r),i&&s.push(i),s}var Tve=e=>{var r,i,s,f,h,y,_,C,w,x,A;let{invert:P,toast:R,unstyled:E,interacting:O,setHeights:L,visibleToasts:k,heights:N,index:j,toasts:G,expanded:le,removeToast:$,defaultRichColors:H,closeButton:ie,style:pe,cancelButtonStyle:se,actionButtonStyle:ce,className:me="",descriptionClassName:we="",duration:ge,position:Ee,gap:_e,loadingIcon:Be,expandByDefault:xe,classNames:Ce,icons:Ve,closeButtonAriaLabel:rt="Close toast",pauseWhenPageIsHidden:et}=e,[vt,St]=Ct.useState(null),[Se,ve]=Ct.useState(null),[Ie,Je]=Ct.useState(!1),[st,lt]=Ct.useState(!1),[Bt,Gt]=Ct.useState(!1),[nt,At]=Ct.useState(!1),[Ot,er]=Ct.useState(!1),[rn,nn]=Ct.useState(0),[Ur,Tn]=Ct.useState(0),Xr=Ct.useRef(R.duration||ge||RV),ut=Ct.useRef(null),Tr=Ct.useRef(null),it=j===0,bt=j+1<=k,xt=R.type,tr=R.dismissible!==!1,Dt=R.className||"",he=R.descriptionClassName||"",pr=Ct.useMemo(()=>N.findIndex(Zt=>Zt.toastId===R.id)||0,[N,R.id]),Ne=Ct.useMemo(()=>{var Zt;return(Zt=R.closeButton)!=null?Zt:ie},[R.closeButton,ie]),Le=Ct.useMemo(()=>R.duration||ge||RV,[R.duration,ge]),Ze=Ct.useRef(0),ot=Ct.useRef(0),Tt=Ct.useRef(0),Jt=Ct.useRef(null),[lr,Qt]=Ee.split("-"),Mr=Ct.useMemo(()=>N.reduce((Zt,Lr,Er)=>Er>=pr?Zt:Zt+Lr.height,0),[N,pr]),on=ave(),Hn=R.invert||P,ii=xt==="loading";ot.current=Ct.useMemo(()=>pr*_e+Mr,[pr,Mr]),Ct.useEffect(()=>{Xr.current=Le},[Le]),Ct.useEffect(()=>{Je(!0)},[]),Ct.useEffect(()=>{let Zt=Tr.current;if(Zt){let Lr=Zt.getBoundingClientRect().height;return Tn(Lr),L(Er=>[{toastId:R.id,height:Lr,position:R.position},...Er]),()=>L(Er=>Er.filter(fn=>fn.toastId!==R.id))}},[L,R.id]),Ct.useLayoutEffect(()=>{if(!Ie)return;let Zt=Tr.current,Lr=Zt.style.height;Zt.style.height="auto";let Er=Zt.getBoundingClientRect().height;Zt.style.height=Lr,Tn(Er),L(fn=>fn.find(gi=>gi.toastId===R.id)?fn.map(gi=>gi.toastId===R.id?{...gi,height:Er}:gi):[{toastId:R.id,height:Er,position:R.position},...fn])},[Ie,R.title,R.description,L,R.id]);let zi=Ct.useCallback(()=>{lt(!0),nn(ot.current),L(Zt=>Zt.filter(Lr=>Lr.toastId!==R.id)),setTimeout(()=>{$(R)},Sve)},[R,$,L,ot]);Ct.useEffect(()=>{if(R.promise&&xt==="loading"||R.duration===1/0||R.type==="loading")return;let Zt;return le||O||et&&on?(()=>{if(Tt.current<Ze.current){let Lr=new Date().getTime()-Ze.current;Xr.current=Xr.current-Lr}Tt.current=new Date().getTime()})():Xr.current!==1/0&&(Ze.current=new Date().getTime(),Zt=setTimeout(()=>{var Lr;(Lr=R.onAutoClose)==null||Lr.call(R,R),zi()},Xr.current)),()=>clearTimeout(Zt)},[le,O,R,xt,et,on,zi]),Ct.useEffect(()=>{R.delete&&zi()},[zi,R.delete]);function Po(){var Zt,Lr,Er;return Ve!=null&&Ve.loading?Ct.createElement("div",{className:Us(Ce==null?void 0:Ce.loader,(Zt=R==null?void 0:R.classNames)==null?void 0:Zt.loader,"sonner-loader"),"data-visible":xt==="loading"},Ve.loading):Be?Ct.createElement("div",{className:Us(Ce==null?void 0:Ce.loader,(Lr=R==null?void 0:R.classNames)==null?void 0:Lr.loader,"sonner-loader"),"data-visible":xt==="loading"},Be):Ct.createElement(eve,{className:Us(Ce==null?void 0:Ce.loader,(Er=R==null?void 0:R.classNames)==null?void 0:Er.loader),visible:xt==="loading"})}return Ct.createElement("li",{tabIndex:0,ref:Tr,className:Us(me,Dt,Ce==null?void 0:Ce.toast,(r=R==null?void 0:R.classNames)==null?void 0:r.toast,Ce==null?void 0:Ce.default,Ce==null?void 0:Ce[xt],(i=R==null?void 0:R.classNames)==null?void 0:i[xt]),"data-sonner-toast":"","data-rich-colors":(s=R.richColors)!=null?s:H,"data-styled":!(R.jsx||R.unstyled||E),"data-mounted":Ie,"data-promise":!!R.promise,"data-swiped":Ot,"data-removed":st,"data-visible":bt,"data-y-position":lr,"data-x-position":Qt,"data-index":j,"data-front":it,"data-swiping":Bt,"data-dismissible":tr,"data-type":xt,"data-invert":Hn,"data-swipe-out":nt,"data-swipe-direction":Se,"data-expanded":!!(le||xe&&Ie),style:{"--index":j,"--toasts-before":j,"--z-index":G.length-j,"--offset":`${st?rn:ot.current}px`,"--initial-height":xe?"auto":`${Ur}px`,...pe,...R.style},onDragEnd:()=>{Gt(!1),St(null),Jt.current=null},onPointerDown:Zt=>{ii||!tr||(ut.current=new Date,nn(ot.current),Zt.target.setPointerCapture(Zt.pointerId),Zt.target.tagName!=="BUTTON"&&(Gt(!0),Jt.current={x:Zt.clientX,y:Zt.clientY}))},onPointerUp:()=>{var Zt,Lr,Er,fn;if(nt||!tr)return;Jt.current=null;let gi=Number(((Zt=Tr.current)==null?void 0:Zt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),io=Number(((Lr=Tr.current)==null?void 0:Lr.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ae=new Date().getTime()-((Er=ut.current)==null?void 0:Er.getTime()),Re=vt==="x"?gi:io,Ue=Math.abs(Re)/Ae;if(Math.abs(Re)>=_ve||Ue>.11){nn(ot.current),(fn=R.onDismiss)==null||fn.call(R,R),ve(vt==="x"?gi>0?"right":"left":io>0?"down":"up"),zi(),At(!0),er(!1);return}Gt(!1),St(null)},onPointerMove:Zt=>{var Lr,Er,fn,gi;if(!Jt.current||!tr||((Lr=window.getSelection())==null?void 0:Lr.toString().length)>0)return;let io=Zt.clientY-Jt.current.y,Ae=Zt.clientX-Jt.current.x,Re=(Er=e.swipeDirections)!=null?Er:bve(Ee);!vt&&(Math.abs(Ae)>1||Math.abs(io)>1)&&St(Math.abs(Ae)>Math.abs(io)?"x":"y");let Ue={x:0,y:0};vt==="y"?(Re.includes("top")||Re.includes("bottom"))&&(Re.includes("top")&&io<0||Re.includes("bottom")&&io>0)&&(Ue.y=io):vt==="x"&&(Re.includes("left")||Re.includes("right"))&&(Re.includes("left")&&Ae<0||Re.includes("right")&&Ae>0)&&(Ue.x=Ae),(Math.abs(Ue.x)>0||Math.abs(Ue.y)>0)&&er(!0),(fn=Tr.current)==null||fn.style.setProperty("--swipe-amount-x",`${Ue.x}px`),(gi=Tr.current)==null||gi.style.setProperty("--swipe-amount-y",`${Ue.y}px`)}},Ne&&!R.jsx?Ct.createElement("button",{"aria-label":rt,"data-disabled":ii,"data-close-button":!0,onClick:ii||!tr?()=>{}:()=>{var Zt;zi(),(Zt=R.onDismiss)==null||Zt.call(R,R)},className:Us(Ce==null?void 0:Ce.closeButton,(f=R==null?void 0:R.classNames)==null?void 0:f.closeButton)},(h=Ve==null?void 0:Ve.close)!=null?h:ove):null,R.jsx||z.isValidElement(R.title)?R.jsx?R.jsx:typeof R.title=="function"?R.title():R.title:Ct.createElement(Ct.Fragment,null,xt||R.icon||R.promise?Ct.createElement("div",{"data-icon":"",className:Us(Ce==null?void 0:Ce.icon,(y=R==null?void 0:R.classNames)==null?void 0:y.icon)},R.promise||R.type==="loading"&&!R.icon?R.icon||Po():null,R.type!=="loading"?R.icon||(Ve==null?void 0:Ve[xt])||Zge(xt):null):null,Ct.createElement("div",{"data-content":"",className:Us(Ce==null?void 0:Ce.content,(_=R==null?void 0:R.classNames)==null?void 0:_.content)},Ct.createElement("div",{"data-title":"",className:Us(Ce==null?void 0:Ce.title,(C=R==null?void 0:R.classNames)==null?void 0:C.title)},typeof R.title=="function"?R.title():R.title),R.description?Ct.createElement("div",{"data-description":"",className:Us(we,he,Ce==null?void 0:Ce.description,(w=R==null?void 0:R.classNames)==null?void 0:w.description)},typeof R.description=="function"?R.description():R.description):null),z.isValidElement(R.cancel)?R.cancel:R.cancel&&F0(R.cancel)?Ct.createElement("button",{"data-button":!0,"data-cancel":!0,style:R.cancelButtonStyle||se,onClick:Zt=>{var Lr,Er;F0(R.cancel)&&tr&&((Er=(Lr=R.cancel).onClick)==null||Er.call(Lr,Zt),zi())},className:Us(Ce==null?void 0:Ce.cancelButton,(x=R==null?void 0:R.classNames)==null?void 0:x.cancelButton)},R.cancel.label):null,z.isValidElement(R.action)?R.action:R.action&&F0(R.action)?Ct.createElement("button",{"data-button":!0,"data-action":!0,style:R.actionButtonStyle||ce,onClick:Zt=>{var Lr,Er;F0(R.action)&&((Er=(Lr=R.action).onClick)==null||Er.call(Lr,Zt),!Zt.defaultPrevented&&zi())},className:Us(Ce==null?void 0:Ce.actionButton,(A=R==null?void 0:R.classNames)==null?void 0:A.actionButton)},R.action.label):null))};function kV(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function Cve(e,r){let i={};return[e,r].forEach((s,f)=>{let h=f===1,y=h?"--mobile-offset":"--offset",_=h?gve:mve;function C(w){["top","right","bottom","left"].forEach(x=>{i[`${y}-${x}`]=typeof w=="number"?`${w}px`:w})}typeof s=="number"||typeof s=="string"?C(s):typeof s=="object"?["top","right","bottom","left"].forEach(w=>{s[w]===void 0?i[`${y}-${w}`]=_:i[`${y}-${w}`]=typeof s[w]=="number"?`${s[w]}px`:s[w]}):C(_)}),i}var wve=z.forwardRef(function(e,r){let{invert:i,position:s="bottom-right",hotkey:f=["altKey","KeyT"],expand:h,closeButton:y,className:_,offset:C,mobileOffset:w,theme:x="light",richColors:A,duration:P,style:R,visibleToasts:E=pve,toastOptions:O,dir:L=kV(),gap:k=yve,loadingIcon:N,icons:j,containerAriaLabel:G="Notifications",pauseWhenPageIsHidden:le}=e,[$,H]=Ct.useState([]),ie=Ct.useMemo(()=>Array.from(new Set([s].concat($.filter(et=>et.position).map(et=>et.position)))),[$,s]),[pe,se]=Ct.useState([]),[ce,me]=Ct.useState(!1),[we,ge]=Ct.useState(!1),[Ee,_e]=Ct.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Be=Ct.useRef(null),xe=f.join("+").replace(/Key/g,"").replace(/Digit/g,""),Ce=Ct.useRef(null),Ve=Ct.useRef(!1),rt=Ct.useCallback(et=>{H(vt=>{var St;return(St=vt.find(Se=>Se.id===et.id))!=null&&St.delete||ma.dismiss(et.id),vt.filter(({id:Se})=>Se!==et.id)})},[]);return Ct.useEffect(()=>ma.subscribe(et=>{if(et.dismiss){H(vt=>vt.map(St=>St.id===et.id?{...St,delete:!0}:St));return}setTimeout(()=>{rP.flushSync(()=>{H(vt=>{let St=vt.findIndex(Se=>Se.id===et.id);return St!==-1?[...vt.slice(0,St),{...vt[St],...et},...vt.slice(St+1)]:[et,...vt]})})})}),[]),Ct.useEffect(()=>{if(x!=="system"){_e(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?_e("dark"):_e("light")),typeof window>"u")return;let et=window.matchMedia("(prefers-color-scheme: dark)");try{et.addEventListener("change",({matches:vt})=>{_e(vt?"dark":"light")})}catch{et.addListener(({matches:St})=>{try{_e(St?"dark":"light")}catch(Se){console.error(Se)}})}},[x]),Ct.useEffect(()=>{$.length<=1&&me(!1)},[$]),Ct.useEffect(()=>{let et=vt=>{var St,Se;f.every(ve=>vt[ve]||vt.code===ve)&&(me(!0),(St=Be.current)==null||St.focus()),vt.code==="Escape"&&(document.activeElement===Be.current||(Se=Be.current)!=null&&Se.contains(document.activeElement))&&me(!1)};return document.addEventListener("keydown",et),()=>document.removeEventListener("keydown",et)},[f]),Ct.useEffect(()=>{if(Be.current)return()=>{Ce.current&&(Ce.current.focus({preventScroll:!0}),Ce.current=null,Ve.current=!1)}},[Be.current]),Ct.createElement("section",{ref:r,"aria-label":`${G} ${xe}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},ie.map((et,vt)=>{var St;let[Se,ve]=et.split("-");return $.length?Ct.createElement("ol",{key:et,dir:L==="auto"?kV():L,tabIndex:-1,ref:Be,className:_,"data-sonner-toaster":!0,"data-theme":Ee,"data-y-position":Se,"data-lifted":ce&&$.length>1&&!h,"data-x-position":ve,style:{"--front-toast-height":`${((St=pe[0])==null?void 0:St.height)||0}px`,"--width":`${vve}px`,"--gap":`${k}px`,...R,...Cve(C,w)},onBlur:Ie=>{Ve.current&&!Ie.currentTarget.contains(Ie.relatedTarget)&&(Ve.current=!1,Ce.current&&(Ce.current.focus({preventScroll:!0}),Ce.current=null))},onFocus:Ie=>{Ie.target instanceof HTMLElement&&Ie.target.dataset.dismissible==="false"||Ve.current||(Ve.current=!0,Ce.current=Ie.relatedTarget)},onMouseEnter:()=>me(!0),onMouseMove:()=>me(!0),onMouseLeave:()=>{we||me(!1)},onDragEnd:()=>me(!1),onPointerDown:Ie=>{Ie.target instanceof HTMLElement&&Ie.target.dataset.dismissible==="false"||ge(!0)},onPointerUp:()=>ge(!1)},$.filter(Ie=>!Ie.position&&vt===0||Ie.position===et).map((Ie,Je)=>{var st,lt;return Ct.createElement(Tve,{key:Ie.id,icons:j,index:Je,toast:Ie,defaultRichColors:A,duration:(st=O==null?void 0:O.duration)!=null?st:P,className:O==null?void 0:O.className,descriptionClassName:O==null?void 0:O.descriptionClassName,invert:i,visibleToasts:E,closeButton:(lt=O==null?void 0:O.closeButton)!=null?lt:y,interacting:we,position:et,style:O==null?void 0:O.style,unstyled:O==null?void 0:O.unstyled,classNames:O==null?void 0:O.classNames,cancelButtonStyle:O==null?void 0:O.cancelButtonStyle,actionButtonStyle:O==null?void 0:O.actionButtonStyle,removeToast:rt,toasts:$.filter(Bt=>Bt.position==Ie.position),heights:pe.filter(Bt=>Bt.position==Ie.position),setHeights:se,expandByDefault:h,gap:k,loadingIcon:N,expanded:ce,pauseWhenPageIsHidden:le,swipeDirections:e.swipeDirections})})):null}))});const Ive=({...e})=>{const{theme:r="system"}=Xge();return I.jsx(wve,{theme:r,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var Eve=dD[" useId ".trim().toString()]||(()=>{}),xve=0;function Bc(e){const[r,i]=z.useState(Eve());return ms(()=>{e||i(s=>s??String(xve++))},[e]),e||(r?`radix-${r}`:"")}const Ave=["top","right","bottom","left"],Yc=Math.min,La=Math.max,FS=Math.round,M0=Math.floor,Fu=e=>({x:e,y:e}),Dve={left:"right",right:"left",bottom:"top",top:"bottom"},Pve={start:"end",end:"start"};function I1(e,r,i){return La(e,Yc(r,i))}function bl(e,r){return typeof e=="function"?e(r):e}function Tl(e){return e.split("-")[0]}function Wp(e){return e.split("-")[1]}function fP(e){return e==="x"?"y":"x"}function hP(e){return e==="y"?"height":"width"}const Rve=new Set(["top","bottom"]);function Ru(e){return Rve.has(Tl(e))?"y":"x"}function pP(e){return fP(Ru(e))}function kve(e,r,i){i===void 0&&(i=!1);const s=Wp(e),f=pP(e),h=hP(f);let y=f==="x"?s===(i?"end":"start")?"right":"left":s==="start"?"bottom":"top";return r.reference[h]>r.floating[h]&&(y=MS(y)),[y,MS(y)]}function Nve(e){const r=MS(e);return[E1(e),r,E1(r)]}function E1(e){return e.replace(/start|end/g,r=>Pve[r])}const NV=["left","right"],OV=["right","left"],Ove=["top","bottom"],Fve=["bottom","top"];function Mve(e,r,i){switch(e){case"top":case"bottom":return i?r?OV:NV:r?NV:OV;case"left":case"right":return r?Ove:Fve;default:return[]}}function Lve(e,r,i,s){const f=Wp(e);let h=Mve(Tl(e),i==="start",s);return f&&(h=h.map(y=>y+"-"+f),r&&(h=h.concat(h.map(E1)))),h}function MS(e){return e.replace(/left|right|bottom|top/g,r=>Dve[r])}function Wve(e){return{top:0,right:0,bottom:0,left:0,...e}}function Bz(e){return typeof e!="number"?Wve(e):{top:e,right:e,bottom:e,left:e}}function LS(e){const{x:r,y:i,width:s,height:f}=e;return{width:s,height:f,top:i,left:r,right:r+s,bottom:i+f,x:r,y:i}}function FV(e,r,i){let{reference:s,floating:f}=e;const h=Ru(r),y=pP(r),_=hP(y),C=Tl(r),w=h==="y",x=s.x+s.width/2-f.width/2,A=s.y+s.height/2-f.height/2,P=s[_]/2-f[_]/2;let R;switch(C){case"top":R={x,y:s.y-f.height};break;case"bottom":R={x,y:s.y+s.height};break;case"right":R={x:s.x+s.width,y:A};break;case"left":R={x:s.x-f.width,y:A};break;default:R={x:s.x,y:s.y}}switch(Wp(r)){case"start":R[y]-=P*(i&&w?-1:1);break;case"end":R[y]+=P*(i&&w?-1:1);break}return R}const jve=async(e,r,i)=>{const{placement:s="bottom",strategy:f="absolute",middleware:h=[],platform:y}=i,_=h.filter(Boolean),C=await(y.isRTL==null?void 0:y.isRTL(r));let w=await y.getElementRects({reference:e,floating:r,strategy:f}),{x,y:A}=FV(w,s,C),P=s,R={},E=0;for(let O=0;O<_.length;O++){const{name:L,fn:k}=_[O],{x:N,y:j,data:G,reset:le}=await k({x,y:A,initialPlacement:s,placement:P,strategy:f,middlewareData:R,rects:w,platform:y,elements:{reference:e,floating:r}});x=N??x,A=j??A,R={...R,[L]:{...R[L],...G}},le&&E<=50&&(E++,typeof le=="object"&&(le.placement&&(P=le.placement),le.rects&&(w=le.rects===!0?await y.getElementRects({reference:e,floating:r,strategy:f}):le.rects),{x,y:A}=FV(w,P,C)),O=-1)}return{x,y:A,placement:P,strategy:f,middlewareData:R}};async function vv(e,r){var i;r===void 0&&(r={});const{x:s,y:f,platform:h,rects:y,elements:_,strategy:C}=e,{boundary:w="clippingAncestors",rootBoundary:x="viewport",elementContext:A="floating",altBoundary:P=!1,padding:R=0}=bl(r,e),E=Bz(R),L=_[P?A==="floating"?"reference":"floating":A],k=LS(await h.getClippingRect({element:(i=await(h.isElement==null?void 0:h.isElement(L)))==null||i?L:L.contextElement||await(h.getDocumentElement==null?void 0:h.getDocumentElement(_.floating)),boundary:w,rootBoundary:x,strategy:C})),N=A==="floating"?{x:s,y:f,width:y.floating.width,height:y.floating.height}:y.reference,j=await(h.getOffsetParent==null?void 0:h.getOffsetParent(_.floating)),G=await(h.isElement==null?void 0:h.isElement(j))?await(h.getScale==null?void 0:h.getScale(j))||{x:1,y:1}:{x:1,y:1},le=LS(h.convertOffsetParentRelativeRectToViewportRelativeRect?await h.convertOffsetParentRelativeRectToViewportRelativeRect({elements:_,rect:N,offsetParent:j,strategy:C}):N);return{top:(k.top-le.top+E.top)/G.y,bottom:(le.bottom-k.bottom+E.bottom)/G.y,left:(k.left-le.left+E.left)/G.x,right:(le.right-k.right+E.right)/G.x}}const Bve=e=>({name:"arrow",options:e,async fn(r){const{x:i,y:s,placement:f,rects:h,platform:y,elements:_,middlewareData:C}=r,{element:w,padding:x=0}=bl(e,r)||{};if(w==null)return{};const A=Bz(x),P={x:i,y:s},R=pP(f),E=hP(R),O=await y.getDimensions(w),L=R==="y",k=L?"top":"left",N=L?"bottom":"right",j=L?"clientHeight":"clientWidth",G=h.reference[E]+h.reference[R]-P[R]-h.floating[E],le=P[R]-h.reference[R],$=await(y.getOffsetParent==null?void 0:y.getOffsetParent(w));let H=$?$[j]:0;(!H||!await(y.isElement==null?void 0:y.isElement($)))&&(H=_.floating[j]||h.floating[E]);const ie=G/2-le/2,pe=H/2-O[E]/2-1,se=Yc(A[k],pe),ce=Yc(A[N],pe),me=se,we=H-O[E]-ce,ge=H/2-O[E]/2+ie,Ee=I1(me,ge,we),_e=!C.arrow&&Wp(f)!=null&&ge!==Ee&&h.reference[E]/2-(ge<me?se:ce)-O[E]/2<0,Be=_e?ge<me?ge-me:ge-we:0;return{[R]:P[R]+Be,data:{[R]:Ee,centerOffset:ge-Ee-Be,..._e&&{alignmentOffset:Be}},reset:_e}}}),Uve=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(r){var i,s;const{placement:f,middlewareData:h,rects:y,initialPlacement:_,platform:C,elements:w}=r,{mainAxis:x=!0,crossAxis:A=!0,fallbackPlacements:P,fallbackStrategy:R="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:O=!0,...L}=bl(e,r);if((i=h.arrow)!=null&&i.alignmentOffset)return{};const k=Tl(f),N=Ru(_),j=Tl(_)===_,G=await(C.isRTL==null?void 0:C.isRTL(w.floating)),le=P||(j||!O?[MS(_)]:Nve(_)),$=E!=="none";!P&&$&&le.push(...Lve(_,O,E,G));const H=[_,...le],ie=await vv(r,L),pe=[];let se=((s=h.flip)==null?void 0:s.overflows)||[];if(x&&pe.push(ie[k]),A){const ge=kve(f,y,G);pe.push(ie[ge[0]],ie[ge[1]])}if(se=[...se,{placement:f,overflows:pe}],!pe.every(ge=>ge<=0)){var ce,me;const ge=(((ce=h.flip)==null?void 0:ce.index)||0)+1,Ee=H[ge];if(Ee&&(!(A==="alignment"?N!==Ru(Ee):!1)||se.every(xe=>xe.overflows[0]>0&&Ru(xe.placement)===N)))return{data:{index:ge,overflows:se},reset:{placement:Ee}};let _e=(me=se.filter(Be=>Be.overflows[0]<=0).sort((Be,xe)=>Be.overflows[1]-xe.overflows[1])[0])==null?void 0:me.placement;if(!_e)switch(R){case"bestFit":{var we;const Be=(we=se.filter(xe=>{if($){const Ce=Ru(xe.placement);return Ce===N||Ce==="y"}return!0}).map(xe=>[xe.placement,xe.overflows.filter(Ce=>Ce>0).reduce((Ce,Ve)=>Ce+Ve,0)]).sort((xe,Ce)=>xe[1]-Ce[1])[0])==null?void 0:we[0];Be&&(_e=Be);break}case"initialPlacement":_e=_;break}if(f!==_e)return{reset:{placement:_e}}}return{}}}};function MV(e,r){return{top:e.top-r.height,right:e.right-r.width,bottom:e.bottom-r.height,left:e.left-r.width}}function LV(e){return Ave.some(r=>e[r]>=0)}const Vve=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(r){const{rects:i}=r,{strategy:s="referenceHidden",...f}=bl(e,r);switch(s){case"referenceHidden":{const h=await vv(r,{...f,elementContext:"reference"}),y=MV(h,i.reference);return{data:{referenceHiddenOffsets:y,referenceHidden:LV(y)}}}case"escaped":{const h=await vv(r,{...f,altBoundary:!0}),y=MV(h,i.floating);return{data:{escapedOffsets:y,escaped:LV(y)}}}default:return{}}}}},Uz=new Set(["left","top"]);async function Gve(e,r){const{placement:i,platform:s,elements:f}=e,h=await(s.isRTL==null?void 0:s.isRTL(f.floating)),y=Tl(i),_=Wp(i),C=Ru(i)==="y",w=Uz.has(y)?-1:1,x=h&&C?-1:1,A=bl(r,e);let{mainAxis:P,crossAxis:R,alignmentAxis:E}=typeof A=="number"?{mainAxis:A,crossAxis:0,alignmentAxis:null}:{mainAxis:A.mainAxis||0,crossAxis:A.crossAxis||0,alignmentAxis:A.alignmentAxis};return _&&typeof E=="number"&&(R=_==="end"?E*-1:E),C?{x:R*x,y:P*w}:{x:P*w,y:R*x}}const Hve=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(r){var i,s;const{x:f,y:h,placement:y,middlewareData:_}=r,C=await Gve(r,e);return y===((i=_.offset)==null?void 0:i.placement)&&(s=_.arrow)!=null&&s.alignmentOffset?{}:{x:f+C.x,y:h+C.y,data:{...C,placement:y}}}}},zve=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(r){const{x:i,y:s,placement:f}=r,{mainAxis:h=!0,crossAxis:y=!1,limiter:_={fn:L=>{let{x:k,y:N}=L;return{x:k,y:N}}},...C}=bl(e,r),w={x:i,y:s},x=await vv(r,C),A=Ru(Tl(f)),P=fP(A);let R=w[P],E=w[A];if(h){const L=P==="y"?"top":"left",k=P==="y"?"bottom":"right",N=R+x[L],j=R-x[k];R=I1(N,R,j)}if(y){const L=A==="y"?"top":"left",k=A==="y"?"bottom":"right",N=E+x[L],j=E-x[k];E=I1(N,E,j)}const O=_.fn({...r,[P]:R,[A]:E});return{...O,data:{x:O.x-i,y:O.y-s,enabled:{[P]:h,[A]:y}}}}}},Kve=function(e){return e===void 0&&(e={}),{options:e,fn(r){const{x:i,y:s,placement:f,rects:h,middlewareData:y}=r,{offset:_=0,mainAxis:C=!0,crossAxis:w=!0}=bl(e,r),x={x:i,y:s},A=Ru(f),P=fP(A);let R=x[P],E=x[A];const O=bl(_,r),L=typeof O=="number"?{mainAxis:O,crossAxis:0}:{mainAxis:0,crossAxis:0,...O};if(C){const j=P==="y"?"height":"width",G=h.reference[P]-h.floating[j]+L.mainAxis,le=h.reference[P]+h.reference[j]-L.mainAxis;R<G?R=G:R>le&&(R=le)}if(w){var k,N;const j=P==="y"?"width":"height",G=Uz.has(Tl(f)),le=h.reference[A]-h.floating[j]+(G&&((k=y.offset)==null?void 0:k[A])||0)+(G?0:L.crossAxis),$=h.reference[A]+h.reference[j]+(G?0:((N=y.offset)==null?void 0:N[A])||0)-(G?L.crossAxis:0);E<le?E=le:E>$&&(E=$)}return{[P]:R,[A]:E}}}},Qve=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(r){var i,s;const{placement:f,rects:h,platform:y,elements:_}=r,{apply:C=()=>{},...w}=bl(e,r),x=await vv(r,w),A=Tl(f),P=Wp(f),R=Ru(f)==="y",{width:E,height:O}=h.floating;let L,k;A==="top"||A==="bottom"?(L=A,k=P===(await(y.isRTL==null?void 0:y.isRTL(_.floating))?"start":"end")?"left":"right"):(k=A,L=P==="end"?"top":"bottom");const N=O-x.top-x.bottom,j=E-x.left-x.right,G=Yc(O-x[L],N),le=Yc(E-x[k],j),$=!r.middlewareData.shift;let H=G,ie=le;if((i=r.middlewareData.shift)!=null&&i.enabled.x&&(ie=j),(s=r.middlewareData.shift)!=null&&s.enabled.y&&(H=N),$&&!P){const se=La(x.left,0),ce=La(x.right,0),me=La(x.top,0),we=La(x.bottom,0);R?ie=E-2*(se!==0||ce!==0?se+ce:La(x.left,x.right)):H=O-2*(me!==0||we!==0?me+we:La(x.top,x.bottom))}await C({...r,availableWidth:ie,availableHeight:H});const pe=await y.getDimensions(_.floating);return E!==pe.width||O!==pe.height?{reset:{rects:!0}}:{}}}};function Cb(){return typeof window<"u"}function jp(e){return Vz(e)?(e.nodeName||"").toLowerCase():"#document"}function Ba(e){var r;return(e==null||(r=e.ownerDocument)==null?void 0:r.defaultView)||window}function Lu(e){var r;return(r=(Vz(e)?e.ownerDocument:e.document)||window.document)==null?void 0:r.documentElement}function Vz(e){return Cb()?e instanceof Node||e instanceof Ba(e).Node:!1}function Zs(e){return Cb()?e instanceof Element||e instanceof Ba(e).Element:!1}function Mu(e){return Cb()?e instanceof HTMLElement||e instanceof Ba(e).HTMLElement:!1}function WV(e){return!Cb()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ba(e).ShadowRoot}const Yve=new Set(["inline","contents"]);function Vv(e){const{overflow:r,overflowX:i,overflowY:s,display:f}=$s(e);return/auto|scroll|overlay|hidden|clip/.test(r+s+i)&&!Yve.has(f)}const qve=new Set(["table","td","th"]);function Jve(e){return qve.has(jp(e))}const Xve=[":popover-open",":modal"];function wb(e){return Xve.some(r=>{try{return e.matches(r)}catch{return!1}})}const Zve=["transform","translate","scale","rotate","perspective"],$ve=["transform","translate","scale","rotate","perspective","filter"],eye=["paint","layout","strict","content"];function mP(e){const r=gP(),i=Zs(e)?$s(e):e;return Zve.some(s=>i[s]?i[s]!=="none":!1)||(i.containerType?i.containerType!=="normal":!1)||!r&&(i.backdropFilter?i.backdropFilter!=="none":!1)||!r&&(i.filter?i.filter!=="none":!1)||$ve.some(s=>(i.willChange||"").includes(s))||eye.some(s=>(i.contain||"").includes(s))}function tye(e){let r=qc(e);for(;Mu(r)&&!xp(r);){if(mP(r))return r;if(wb(r))return null;r=qc(r)}return null}function gP(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const rye=new Set(["html","body","#document"]);function xp(e){return rye.has(jp(e))}function $s(e){return Ba(e).getComputedStyle(e)}function Ib(e){return Zs(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function qc(e){if(jp(e)==="html")return e;const r=e.assignedSlot||e.parentNode||WV(e)&&e.host||Lu(e);return WV(r)?r.host:r}function Gz(e){const r=qc(e);return xp(r)?e.ownerDocument?e.ownerDocument.body:e.body:Mu(r)&&Vv(r)?r:Gz(r)}function yv(e,r,i){var s;r===void 0&&(r=[]),i===void 0&&(i=!0);const f=Gz(e),h=f===((s=e.ownerDocument)==null?void 0:s.body),y=Ba(f);if(h){const _=x1(y);return r.concat(y,y.visualViewport||[],Vv(f)?f:[],_&&i?yv(_):[])}return r.concat(f,yv(f,[],i))}function x1(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Hz(e){const r=$s(e);let i=parseFloat(r.width)||0,s=parseFloat(r.height)||0;const f=Mu(e),h=f?e.offsetWidth:i,y=f?e.offsetHeight:s,_=FS(i)!==h||FS(s)!==y;return _&&(i=h,s=y),{width:i,height:s,$:_}}function vP(e){return Zs(e)?e:e.contextElement}function op(e){const r=vP(e);if(!Mu(r))return Fu(1);const i=r.getBoundingClientRect(),{width:s,height:f,$:h}=Hz(r);let y=(h?FS(i.width):i.width)/s,_=(h?FS(i.height):i.height)/f;return(!y||!Number.isFinite(y))&&(y=1),(!_||!Number.isFinite(_))&&(_=1),{x:y,y:_}}const nye=Fu(0);function zz(e){const r=Ba(e);return!gP()||!r.visualViewport?nye:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function iye(e,r,i){return r===void 0&&(r=!1),!i||r&&i!==Ba(e)?!1:r}function hf(e,r,i,s){r===void 0&&(r=!1),i===void 0&&(i=!1);const f=e.getBoundingClientRect(),h=vP(e);let y=Fu(1);r&&(s?Zs(s)&&(y=op(s)):y=op(e));const _=iye(h,i,s)?zz(h):Fu(0);let C=(f.left+_.x)/y.x,w=(f.top+_.y)/y.y,x=f.width/y.x,A=f.height/y.y;if(h){const P=Ba(h),R=s&&Zs(s)?Ba(s):s;let E=P,O=x1(E);for(;O&&s&&R!==E;){const L=op(O),k=O.getBoundingClientRect(),N=$s(O),j=k.left+(O.clientLeft+parseFloat(N.paddingLeft))*L.x,G=k.top+(O.clientTop+parseFloat(N.paddingTop))*L.y;C*=L.x,w*=L.y,x*=L.x,A*=L.y,C+=j,w+=G,E=Ba(O),O=x1(E)}}return LS({width:x,height:A,x:C,y:w})}function yP(e,r){const i=Ib(e).scrollLeft;return r?r.left+i:hf(Lu(e)).left+i}function Kz(e,r,i){i===void 0&&(i=!1);const s=e.getBoundingClientRect(),f=s.left+r.scrollLeft-(i?0:yP(e,s)),h=s.top+r.scrollTop;return{x:f,y:h}}function oye(e){let{elements:r,rect:i,offsetParent:s,strategy:f}=e;const h=f==="fixed",y=Lu(s),_=r?wb(r.floating):!1;if(s===y||_&&h)return i;let C={scrollLeft:0,scrollTop:0},w=Fu(1);const x=Fu(0),A=Mu(s);if((A||!A&&!h)&&((jp(s)!=="body"||Vv(y))&&(C=Ib(s)),Mu(s))){const R=hf(s);w=op(s),x.x=R.x+s.clientLeft,x.y=R.y+s.clientTop}const P=y&&!A&&!h?Kz(y,C,!0):Fu(0);return{width:i.width*w.x,height:i.height*w.y,x:i.x*w.x-C.scrollLeft*w.x+x.x+P.x,y:i.y*w.y-C.scrollTop*w.y+x.y+P.y}}function aye(e){return Array.from(e.getClientRects())}function sye(e){const r=Lu(e),i=Ib(e),s=e.ownerDocument.body,f=La(r.scrollWidth,r.clientWidth,s.scrollWidth,s.clientWidth),h=La(r.scrollHeight,r.clientHeight,s.scrollHeight,s.clientHeight);let y=-i.scrollLeft+yP(e);const _=-i.scrollTop;return $s(s).direction==="rtl"&&(y+=La(r.clientWidth,s.clientWidth)-f),{width:f,height:h,x:y,y:_}}function uye(e,r){const i=Ba(e),s=Lu(e),f=i.visualViewport;let h=s.clientWidth,y=s.clientHeight,_=0,C=0;if(f){h=f.width,y=f.height;const w=gP();(!w||w&&r==="fixed")&&(_=f.offsetLeft,C=f.offsetTop)}return{width:h,height:y,x:_,y:C}}const lye=new Set(["absolute","fixed"]);function cye(e,r){const i=hf(e,!0,r==="fixed"),s=i.top+e.clientTop,f=i.left+e.clientLeft,h=Mu(e)?op(e):Fu(1),y=e.clientWidth*h.x,_=e.clientHeight*h.y,C=f*h.x,w=s*h.y;return{width:y,height:_,x:C,y:w}}function jV(e,r,i){let s;if(r==="viewport")s=uye(e,i);else if(r==="document")s=sye(Lu(e));else if(Zs(r))s=cye(r,i);else{const f=zz(e);s={x:r.x-f.x,y:r.y-f.y,width:r.width,height:r.height}}return LS(s)}function Qz(e,r){const i=qc(e);return i===r||!Zs(i)||xp(i)?!1:$s(i).position==="fixed"||Qz(i,r)}function dye(e,r){const i=r.get(e);if(i)return i;let s=yv(e,[],!1).filter(_=>Zs(_)&&jp(_)!=="body"),f=null;const h=$s(e).position==="fixed";let y=h?qc(e):e;for(;Zs(y)&&!xp(y);){const _=$s(y),C=mP(y);!C&&_.position==="fixed"&&(f=null),(h?!C&&!f:!C&&_.position==="static"&&!!f&&lye.has(f.position)||Vv(y)&&!C&&Qz(e,y))?s=s.filter(x=>x!==y):f=_,y=qc(y)}return r.set(e,s),s}function fye(e){let{element:r,boundary:i,rootBoundary:s,strategy:f}=e;const y=[...i==="clippingAncestors"?wb(r)?[]:dye(r,this._c):[].concat(i),s],_=y[0],C=y.reduce((w,x)=>{const A=jV(r,x,f);return w.top=La(A.top,w.top),w.right=Yc(A.right,w.right),w.bottom=Yc(A.bottom,w.bottom),w.left=La(A.left,w.left),w},jV(r,_,f));return{width:C.right-C.left,height:C.bottom-C.top,x:C.left,y:C.top}}function hye(e){const{width:r,height:i}=Hz(e);return{width:r,height:i}}function pye(e,r,i){const s=Mu(r),f=Lu(r),h=i==="fixed",y=hf(e,!0,h,r);let _={scrollLeft:0,scrollTop:0};const C=Fu(0);function w(){C.x=yP(f)}if(s||!s&&!h)if((jp(r)!=="body"||Vv(f))&&(_=Ib(r)),s){const R=hf(r,!0,h,r);C.x=R.x+r.clientLeft,C.y=R.y+r.clientTop}else f&&w();h&&!s&&f&&w();const x=f&&!s&&!h?Kz(f,_):Fu(0),A=y.left+_.scrollLeft-C.x-x.x,P=y.top+_.scrollTop-C.y-x.y;return{x:A,y:P,width:y.width,height:y.height}}function Zx(e){return $s(e).position==="static"}function BV(e,r){if(!Mu(e)||$s(e).position==="fixed")return null;if(r)return r(e);let i=e.offsetParent;return Lu(e)===i&&(i=i.ownerDocument.body),i}function Yz(e,r){const i=Ba(e);if(wb(e))return i;if(!Mu(e)){let f=qc(e);for(;f&&!xp(f);){if(Zs(f)&&!Zx(f))return f;f=qc(f)}return i}let s=BV(e,r);for(;s&&Jve(s)&&Zx(s);)s=BV(s,r);return s&&xp(s)&&Zx(s)&&!mP(s)?i:s||tye(e)||i}const mye=async function(e){const r=this.getOffsetParent||Yz,i=this.getDimensions,s=await i(e.floating);return{reference:pye(e.reference,await r(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function gye(e){return $s(e).direction==="rtl"}const vye={convertOffsetParentRelativeRectToViewportRelativeRect:oye,getDocumentElement:Lu,getClippingRect:fye,getOffsetParent:Yz,getElementRects:mye,getClientRects:aye,getDimensions:hye,getScale:op,isElement:Zs,isRTL:gye};function qz(e,r){return e.x===r.x&&e.y===r.y&&e.width===r.width&&e.height===r.height}function yye(e,r){let i=null,s;const f=Lu(e);function h(){var _;clearTimeout(s),(_=i)==null||_.disconnect(),i=null}function y(_,C){_===void 0&&(_=!1),C===void 0&&(C=1),h();const w=e.getBoundingClientRect(),{left:x,top:A,width:P,height:R}=w;if(_||r(),!P||!R)return;const E=M0(A),O=M0(f.clientWidth-(x+P)),L=M0(f.clientHeight-(A+R)),k=M0(x),j={rootMargin:-E+"px "+-O+"px "+-L+"px "+-k+"px",threshold:La(0,Yc(1,C))||1};let G=!0;function le($){const H=$[0].intersectionRatio;if(H!==C){if(!G)return y();H?y(!1,H):s=setTimeout(()=>{y(!1,1e-7)},1e3)}H===1&&!qz(w,e.getBoundingClientRect())&&y(),G=!1}try{i=new IntersectionObserver(le,{...j,root:f.ownerDocument})}catch{i=new IntersectionObserver(le,j)}i.observe(e)}return y(!0),h}function _ye(e,r,i,s){s===void 0&&(s={});const{ancestorScroll:f=!0,ancestorResize:h=!0,elementResize:y=typeof ResizeObserver=="function",layoutShift:_=typeof IntersectionObserver=="function",animationFrame:C=!1}=s,w=vP(e),x=f||h?[...w?yv(w):[],...yv(r)]:[];x.forEach(k=>{f&&k.addEventListener("scroll",i,{passive:!0}),h&&k.addEventListener("resize",i)});const A=w&&_?yye(w,i):null;let P=-1,R=null;y&&(R=new ResizeObserver(k=>{let[N]=k;N&&N.target===w&&R&&(R.unobserve(r),cancelAnimationFrame(P),P=requestAnimationFrame(()=>{var j;(j=R)==null||j.observe(r)})),i()}),w&&!C&&R.observe(w),R.observe(r));let E,O=C?hf(e):null;C&&L();function L(){const k=hf(e);O&&!qz(O,k)&&i(),O=k,E=requestAnimationFrame(L)}return i(),()=>{var k;x.forEach(N=>{f&&N.removeEventListener("scroll",i),h&&N.removeEventListener("resize",i)}),A==null||A(),(k=R)==null||k.disconnect(),R=null,C&&cancelAnimationFrame(E)}}const Sye=Hve,bye=zve,Tye=Uve,Cye=Qve,wye=Vve,UV=Bve,Iye=Kve,Eye=(e,r,i)=>{const s=new Map,f={platform:vye,...i},h={...f.platform,_c:s};return jve(e,r,{...f,platform:h})};var xye=typeof document<"u",Aye=function(){},iS=xye?z.useLayoutEffect:Aye;function WS(e,r){if(e===r)return!0;if(typeof e!=typeof r)return!1;if(typeof e=="function"&&e.toString()===r.toString())return!0;let i,s,f;if(e&&r&&typeof e=="object"){if(Array.isArray(e)){if(i=e.length,i!==r.length)return!1;for(s=i;s--!==0;)if(!WS(e[s],r[s]))return!1;return!0}if(f=Object.keys(e),i=f.length,i!==Object.keys(r).length)return!1;for(s=i;s--!==0;)if(!{}.hasOwnProperty.call(r,f[s]))return!1;for(s=i;s--!==0;){const h=f[s];if(!(h==="_owner"&&e.$$typeof)&&!WS(e[h],r[h]))return!1}return!0}return e!==e&&r!==r}function Jz(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function VV(e,r){const i=Jz(e);return Math.round(r*i)/i}function $x(e){const r=z.useRef(e);return iS(()=>{r.current=e}),r}function Dye(e){e===void 0&&(e={});const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:f,elements:{reference:h,floating:y}={},transform:_=!0,whileElementsMounted:C,open:w}=e,[x,A]=z.useState({x:0,y:0,strategy:i,placement:r,middlewareData:{},isPositioned:!1}),[P,R]=z.useState(s);WS(P,s)||R(s);const[E,O]=z.useState(null),[L,k]=z.useState(null),N=z.useCallback(xe=>{xe!==$.current&&($.current=xe,O(xe))},[]),j=z.useCallback(xe=>{xe!==H.current&&(H.current=xe,k(xe))},[]),G=h||E,le=y||L,$=z.useRef(null),H=z.useRef(null),ie=z.useRef(x),pe=C!=null,se=$x(C),ce=$x(f),me=$x(w),we=z.useCallback(()=>{if(!$.current||!H.current)return;const xe={placement:r,strategy:i,middleware:P};ce.current&&(xe.platform=ce.current),Eye($.current,H.current,xe).then(Ce=>{const Ve={...Ce,isPositioned:me.current!==!1};ge.current&&!WS(ie.current,Ve)&&(ie.current=Ve,Mp.flushSync(()=>{A(Ve)}))})},[P,r,i,ce,me]);iS(()=>{w===!1&&ie.current.isPositioned&&(ie.current.isPositioned=!1,A(xe=>({...xe,isPositioned:!1})))},[w]);const ge=z.useRef(!1);iS(()=>(ge.current=!0,()=>{ge.current=!1}),[]),iS(()=>{if(G&&($.current=G),le&&(H.current=le),G&&le){if(se.current)return se.current(G,le,we);we()}},[G,le,we,se,pe]);const Ee=z.useMemo(()=>({reference:$,floating:H,setReference:N,setFloating:j}),[N,j]),_e=z.useMemo(()=>({reference:G,floating:le}),[G,le]),Be=z.useMemo(()=>{const xe={position:i,left:0,top:0};if(!_e.floating)return xe;const Ce=VV(_e.floating,x.x),Ve=VV(_e.floating,x.y);return _?{...xe,transform:"translate("+Ce+"px, "+Ve+"px)",...Jz(_e.floating)>=1.5&&{willChange:"transform"}}:{position:i,left:Ce,top:Ve}},[i,_,_e.floating,x.x,x.y]);return z.useMemo(()=>({...x,update:we,refs:Ee,elements:_e,floatingStyles:Be}),[x,we,Ee,_e,Be])}const Pye=e=>{function r(i){return{}.hasOwnProperty.call(i,"current")}return{name:"arrow",options:e,fn(i){const{element:s,padding:f}=typeof e=="function"?e(i):e;return s&&r(s)?s.current!=null?UV({element:s.current,padding:f}).fn(i):{}:s?UV({element:s,padding:f}).fn(i):{}}}},Rye=(e,r)=>({...Sye(e),options:[e,r]}),kye=(e,r)=>({...bye(e),options:[e,r]}),Nye=(e,r)=>({...Iye(e),options:[e,r]}),Oye=(e,r)=>({...Tye(e),options:[e,r]}),Fye=(e,r)=>({...Cye(e),options:[e,r]}),Mye=(e,r)=>({...wye(e),options:[e,r]}),Lye=(e,r)=>({...Pye(e),options:[e,r]});var Wye="Arrow",Xz=z.forwardRef((e,r)=>{const{children:i,width:s=10,height:f=5,...h}=e;return I.jsx(vr.svg,{...h,ref:r,width:s,height:f,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?i:I.jsx("polygon",{points:"0,0 30,0 15,10"})})});Xz.displayName=Wye;var jye=Xz;function _P(e){const[r,i]=z.useState(void 0);return ms(()=>{if(e){i({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(f=>{if(!Array.isArray(f)||!f.length)return;const h=f[0];let y,_;if("borderBoxSize"in h){const C=h.borderBoxSize,w=Array.isArray(C)?C[0]:C;y=w.inlineSize,_=w.blockSize}else y=e.offsetWidth,_=e.offsetHeight;i({width:y,height:_})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else i(void 0)},[e]),r}var SP="Popper",[Zz,Eb]=Ha(SP),[Bye,$z]=Zz(SP),e8=e=>{const{__scopePopper:r,children:i}=e,[s,f]=z.useState(null);return I.jsx(Bye,{scope:r,anchor:s,onAnchorChange:f,children:i})};e8.displayName=SP;var t8="PopperAnchor",r8=z.forwardRef((e,r)=>{const{__scopePopper:i,virtualRef:s,...f}=e,h=$z(t8,i),y=z.useRef(null),_=bn(r,y);return z.useEffect(()=>{h.onAnchorChange((s==null?void 0:s.current)||y.current)}),s?null:I.jsx(vr.div,{...f,ref:_})});r8.displayName=t8;var bP="PopperContent",[Uye,Vye]=Zz(bP),n8=z.forwardRef((e,r)=>{var Ie,Je,st,lt,Bt,Gt;const{__scopePopper:i,side:s="bottom",sideOffset:f=0,align:h="center",alignOffset:y=0,arrowPadding:_=0,avoidCollisions:C=!0,collisionBoundary:w=[],collisionPadding:x=0,sticky:A="partial",hideWhenDetached:P=!1,updatePositionStrategy:R="optimized",onPlaced:E,...O}=e,L=$z(bP,i),[k,N]=z.useState(null),j=bn(r,nt=>N(nt)),[G,le]=z.useState(null),$=_P(G),H=($==null?void 0:$.width)??0,ie=($==null?void 0:$.height)??0,pe=s+(h!=="center"?"-"+h:""),se=typeof x=="number"?x:{top:0,right:0,bottom:0,left:0,...x},ce=Array.isArray(w)?w:[w],me=ce.length>0,we={padding:se,boundary:ce.filter(Hye),altBoundary:me},{refs:ge,floatingStyles:Ee,placement:_e,isPositioned:Be,middlewareData:xe}=Dye({strategy:"fixed",placement:pe,whileElementsMounted:(...nt)=>_ye(...nt,{animationFrame:R==="always"}),elements:{reference:L.anchor},middleware:[Rye({mainAxis:f+ie,alignmentAxis:y}),C&&kye({mainAxis:!0,crossAxis:!1,limiter:A==="partial"?Nye():void 0,...we}),C&&Oye({...we}),Fye({...we,apply:({elements:nt,rects:At,availableWidth:Ot,availableHeight:er})=>{const{width:rn,height:nn}=At.reference,Ur=nt.floating.style;Ur.setProperty("--radix-popper-available-width",`${Ot}px`),Ur.setProperty("--radix-popper-available-height",`${er}px`),Ur.setProperty("--radix-popper-anchor-width",`${rn}px`),Ur.setProperty("--radix-popper-anchor-height",`${nn}px`)}}),G&&Lye({element:G,padding:_}),zye({arrowWidth:H,arrowHeight:ie}),P&&Mye({strategy:"referenceHidden",...we})]}),[Ce,Ve]=a8(_e),rt=Ta(E);ms(()=>{Be&&(rt==null||rt())},[Be,rt]);const et=(Ie=xe.arrow)==null?void 0:Ie.x,vt=(Je=xe.arrow)==null?void 0:Je.y,St=((st=xe.arrow)==null?void 0:st.centerOffset)!==0,[Se,ve]=z.useState();return ms(()=>{k&&ve(window.getComputedStyle(k).zIndex)},[k]),I.jsx("div",{ref:ge.setFloating,"data-radix-popper-content-wrapper":"",style:{...Ee,transform:Be?Ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Se,"--radix-popper-transform-origin":[(lt=xe.transformOrigin)==null?void 0:lt.x,(Bt=xe.transformOrigin)==null?void 0:Bt.y].join(" "),...((Gt=xe.hide)==null?void 0:Gt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:I.jsx(Uye,{scope:i,placedSide:Ce,onArrowChange:le,arrowX:et,arrowY:vt,shouldHideArrow:St,children:I.jsx(vr.div,{"data-side":Ce,"data-align":Ve,...O,ref:j,style:{...O.style,animation:Be?void 0:"none"}})})})});n8.displayName=bP;var i8="PopperArrow",Gye={top:"bottom",right:"left",bottom:"top",left:"right"},o8=z.forwardRef(function(r,i){const{__scopePopper:s,...f}=r,h=Vye(i8,s),y=Gye[h.placedSide];return I.jsx("span",{ref:h.onArrowChange,style:{position:"absolute",left:h.arrowX,top:h.arrowY,[y]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[h.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[h.placedSide],visibility:h.shouldHideArrow?"hidden":void 0},children:I.jsx(jye,{...f,ref:i,style:{...f.style,display:"block"}})})});o8.displayName=i8;function Hye(e){return e!==null}var zye=e=>({name:"transformOrigin",options:e,fn(r){var L,k,N;const{placement:i,rects:s,middlewareData:f}=r,y=((L=f.arrow)==null?void 0:L.centerOffset)!==0,_=y?0:e.arrowWidth,C=y?0:e.arrowHeight,[w,x]=a8(i),A={start:"0%",center:"50%",end:"100%"}[x],P=(((k=f.arrow)==null?void 0:k.x)??0)+_/2,R=(((N=f.arrow)==null?void 0:N.y)??0)+C/2;let E="",O="";return w==="bottom"?(E=y?A:`${P}px`,O=`${-C}px`):w==="top"?(E=y?A:`${P}px`,O=`${s.floating.height+C}px`):w==="right"?(E=`${-C}px`,O=y?A:`${R}px`):w==="left"&&(E=`${s.floating.width+C}px`,O=y?A:`${R}px`),{data:{x:E,y:O}}}});function a8(e){const[r,i="center"]=e.split("-");return[r,i]}var s8=e8,u8=r8,l8=n8,c8=o8,[xb,Dxe]=Ha("Tooltip",[Eb]),Ab=Eb(),d8="TooltipProvider",Kye=700,A1="tooltip.open",[Qye,TP]=xb(d8),f8=e=>{const{__scopeTooltip:r,delayDuration:i=Kye,skipDelayDuration:s=300,disableHoverableContent:f=!1,children:h}=e,y=z.useRef(!0),_=z.useRef(!1),C=z.useRef(0);return z.useEffect(()=>{const w=C.current;return()=>window.clearTimeout(w)},[]),I.jsx(Qye,{scope:r,isOpenDelayedRef:y,delayDuration:i,onOpen:z.useCallback(()=>{window.clearTimeout(C.current),y.current=!1},[]),onClose:z.useCallback(()=>{window.clearTimeout(C.current),C.current=window.setTimeout(()=>y.current=!0,s)},[s]),isPointerInTransitRef:_,onPointerInTransitChange:z.useCallback(w=>{_.current=w},[]),disableHoverableContent:f,children:h})};f8.displayName=d8;var _v="Tooltip",[Yye,Db]=xb(_v),h8=e=>{const{__scopeTooltip:r,children:i,open:s,defaultOpen:f,onOpenChange:h,disableHoverableContent:y,delayDuration:_}=e,C=TP(_v,e.__scopeTooltip),w=Ab(r),[x,A]=z.useState(null),P=Bc(),R=z.useRef(0),E=y??C.disableHoverableContent,O=_??C.delayDuration,L=z.useRef(!1),[k,N]=td({prop:s,defaultProp:f??!1,onChange:H=>{H?(C.onOpen(),document.dispatchEvent(new CustomEvent(A1))):C.onClose(),h==null||h(H)},caller:_v}),j=z.useMemo(()=>k?L.current?"delayed-open":"instant-open":"closed",[k]),G=z.useCallback(()=>{window.clearTimeout(R.current),R.current=0,L.current=!1,N(!0)},[N]),le=z.useCallback(()=>{window.clearTimeout(R.current),R.current=0,N(!1)},[N]),$=z.useCallback(()=>{window.clearTimeout(R.current),R.current=window.setTimeout(()=>{L.current=!0,N(!0),R.current=0},O)},[O,N]);return z.useEffect(()=>()=>{R.current&&(window.clearTimeout(R.current),R.current=0)},[]),I.jsx(s8,{...w,children:I.jsx(Yye,{scope:r,contentId:P,open:k,stateAttribute:j,trigger:x,onTriggerChange:A,onTriggerEnter:z.useCallback(()=>{C.isOpenDelayedRef.current?$():G()},[C.isOpenDelayedRef,$,G]),onTriggerLeave:z.useCallback(()=>{E?le():(window.clearTimeout(R.current),R.current=0)},[le,E]),onOpen:G,onClose:le,disableHoverableContent:E,children:i})})};h8.displayName=_v;var D1="TooltipTrigger",p8=z.forwardRef((e,r)=>{const{__scopeTooltip:i,...s}=e,f=Db(D1,i),h=TP(D1,i),y=Ab(i),_=z.useRef(null),C=bn(r,_,f.onTriggerChange),w=z.useRef(!1),x=z.useRef(!1),A=z.useCallback(()=>w.current=!1,[]);return z.useEffect(()=>()=>document.removeEventListener("pointerup",A),[A]),I.jsx(u8,{asChild:!0,...y,children:I.jsx(vr.button,{"aria-describedby":f.open?f.contentId:void 0,"data-state":f.stateAttribute,...s,ref:C,onPointerMove:Kt(e.onPointerMove,P=>{P.pointerType!=="touch"&&!x.current&&!h.isPointerInTransitRef.current&&(f.onTriggerEnter(),x.current=!0)}),onPointerLeave:Kt(e.onPointerLeave,()=>{f.onTriggerLeave(),x.current=!1}),onPointerDown:Kt(e.onPointerDown,()=>{f.open&&f.onClose(),w.current=!0,document.addEventListener("pointerup",A,{once:!0})}),onFocus:Kt(e.onFocus,()=>{w.current||f.onOpen()}),onBlur:Kt(e.onBlur,f.onClose),onClick:Kt(e.onClick,f.onClose)})})});p8.displayName=D1;var qye="TooltipPortal",[Pxe,Jye]=xb(qye,{forceMount:void 0}),Ap="TooltipContent",m8=z.forwardRef((e,r)=>{const i=Jye(Ap,e.__scopeTooltip),{forceMount:s=i.forceMount,side:f="top",...h}=e,y=Db(Ap,e.__scopeTooltip);return I.jsx(za,{present:s||y.open,children:y.disableHoverableContent?I.jsx(g8,{side:f,...h,ref:r}):I.jsx(Xye,{side:f,...h,ref:r})})}),Xye=z.forwardRef((e,r)=>{const i=Db(Ap,e.__scopeTooltip),s=TP(Ap,e.__scopeTooltip),f=z.useRef(null),h=bn(r,f),[y,_]=z.useState(null),{trigger:C,onClose:w}=i,x=f.current,{onPointerInTransitChange:A}=s,P=z.useCallback(()=>{_(null),A(!1)},[A]),R=z.useCallback((E,O)=>{const L=E.currentTarget,k={x:E.clientX,y:E.clientY},N=r_e(k,L.getBoundingClientRect()),j=n_e(k,N),G=i_e(O.getBoundingClientRect()),le=a_e([...j,...G]);_(le),A(!0)},[A]);return z.useEffect(()=>()=>P(),[P]),z.useEffect(()=>{if(C&&x){const E=L=>R(L,x),O=L=>R(L,C);return C.addEventListener("pointerleave",E),x.addEventListener("pointerleave",O),()=>{C.removeEventListener("pointerleave",E),x.removeEventListener("pointerleave",O)}}},[C,x,R,P]),z.useEffect(()=>{if(y){const E=O=>{const L=O.target,k={x:O.clientX,y:O.clientY},N=(C==null?void 0:C.contains(L))||(x==null?void 0:x.contains(L)),j=!o_e(k,y);N?P():j&&(P(),w())};return document.addEventListener("pointermove",E),()=>document.removeEventListener("pointermove",E)}},[C,x,y,w,P]),I.jsx(g8,{...e,ref:h})}),[Zye,$ye]=xb(_v,{isInside:!1}),e_e=ome("TooltipContent"),g8=z.forwardRef((e,r)=>{const{__scopeTooltip:i,children:s,"aria-label":f,onEscapeKeyDown:h,onPointerDownOutside:y,..._}=e,C=Db(Ap,i),w=Ab(i),{onClose:x}=C;return z.useEffect(()=>(document.addEventListener(A1,x),()=>document.removeEventListener(A1,x)),[x]),z.useEffect(()=>{if(C.trigger){const A=P=>{const R=P.target;R!=null&&R.contains(C.trigger)&&x()};return window.addEventListener("scroll",A,{capture:!0}),()=>window.removeEventListener("scroll",A,{capture:!0})}},[C.trigger,x]),I.jsx(jv,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:h,onPointerDownOutside:y,onFocusOutside:A=>A.preventDefault(),onDismiss:x,children:I.jsxs(l8,{"data-state":C.stateAttribute,...w,..._,ref:r,style:{..._.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[I.jsx(e_e,{children:s}),I.jsx(Zye,{scope:i,isInside:!0,children:I.jsx(Ame,{id:C.contentId,role:"tooltip",children:f||s})})]})})});m8.displayName=Ap;var v8="TooltipArrow",t_e=z.forwardRef((e,r)=>{const{__scopeTooltip:i,...s}=e,f=Ab(i);return $ye(v8,i).isInside?null:I.jsx(c8,{...f,...s,ref:r})});t_e.displayName=v8;function r_e(e,r){const i=Math.abs(r.top-e.y),s=Math.abs(r.bottom-e.y),f=Math.abs(r.right-e.x),h=Math.abs(r.left-e.x);switch(Math.min(i,s,f,h)){case h:return"left";case f:return"right";case i:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function n_e(e,r,i=5){const s=[];switch(r){case"top":s.push({x:e.x-i,y:e.y+i},{x:e.x+i,y:e.y+i});break;case"bottom":s.push({x:e.x-i,y:e.y-i},{x:e.x+i,y:e.y-i});break;case"left":s.push({x:e.x+i,y:e.y-i},{x:e.x+i,y:e.y+i});break;case"right":s.push({x:e.x-i,y:e.y-i},{x:e.x-i,y:e.y+i});break}return s}function i_e(e){const{top:r,right:i,bottom:s,left:f}=e;return[{x:f,y:r},{x:i,y:r},{x:i,y:s},{x:f,y:s}]}function o_e(e,r){const{x:i,y:s}=e;let f=!1;for(let h=0,y=r.length-1;h<r.length;y=h++){const _=r[h],C=r[y],w=_.x,x=_.y,A=C.x,P=C.y;x>s!=P>s&&i<(A-w)*(s-x)/(P-x)+w&&(f=!f)}return f}function a_e(e){const r=e.slice();return r.sort((i,s)=>i.x<s.x?-1:i.x>s.x?1:i.y<s.y?-1:i.y>s.y?1:0),s_e(r)}function s_e(e){if(e.length<=1)return e.slice();const r=[];for(let s=0;s<e.length;s++){const f=e[s];for(;r.length>=2;){const h=r[r.length-1],y=r[r.length-2];if((h.x-y.x)*(f.y-y.y)>=(h.y-y.y)*(f.x-y.x))r.pop();else break}r.push(f)}r.pop();const i=[];for(let s=e.length-1;s>=0;s--){const f=e[s];for(;i.length>=2;){const h=i[i.length-1],y=i[i.length-2];if((h.x-y.x)*(f.y-y.y)>=(h.y-y.y)*(f.x-y.x))i.pop();else break}i.push(f)}return i.pop(),r.length===1&&i.length===1&&r[0].x===i[0].x&&r[0].y===i[0].y?r:r.concat(i)}var u_e=f8,l_e=h8,c_e=p8,y8=m8;const d_e=u_e,GV=l_e,HV=c_e,P1=z.forwardRef(({className:e,sideOffset:r=4,...i},s)=>I.jsx(y8,{ref:s,sideOffset:r,className:dr("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...i}));P1.displayName=y8.displayName;var Bp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},pf=typeof window>"u"||"Deno"in globalThis;function Ko(){}function f_e(e,r){return typeof e=="function"?e(r):e}function R1(e){return typeof e=="number"&&e>=0&&e!==1/0}function _8(e,r){return Math.max(e+(r||0)-Date.now(),0)}function Uc(e,r){return typeof e=="function"?e(r):e}function as(e,r){return typeof e=="function"?e(r):e}function zV(e,r){const{type:i="all",exact:s,fetchStatus:f,predicate:h,queryKey:y,stale:_}=e;if(y){if(s){if(r.queryHash!==CP(y,r.options))return!1}else if(!Sv(r.queryKey,y))return!1}if(i!=="all"){const C=r.isActive();if(i==="active"&&!C||i==="inactive"&&C)return!1}return!(typeof _=="boolean"&&r.isStale()!==_||f&&f!==r.state.fetchStatus||h&&!h(r))}function KV(e,r){const{exact:i,status:s,predicate:f,mutationKey:h}=e;if(h){if(!r.options.mutationKey)return!1;if(i){if(mf(r.options.mutationKey)!==mf(h))return!1}else if(!Sv(r.options.mutationKey,h))return!1}return!(s&&r.state.status!==s||f&&!f(r))}function CP(e,r){return((r==null?void 0:r.queryKeyHashFn)||mf)(e)}function mf(e){return JSON.stringify(e,(r,i)=>k1(i)?Object.keys(i).sort().reduce((s,f)=>(s[f]=i[f],s),{}):i)}function Sv(e,r){return e===r?!0:typeof e!=typeof r?!1:e&&r&&typeof e=="object"&&typeof r=="object"?Object.keys(r).every(i=>Sv(e[i],r[i])):!1}function S8(e,r){if(e===r)return e;const i=QV(e)&&QV(r);if(i||k1(e)&&k1(r)){const s=i?e:Object.keys(e),f=s.length,h=i?r:Object.keys(r),y=h.length,_=i?[]:{},C=new Set(s);let w=0;for(let x=0;x<y;x++){const A=i?x:h[x];(!i&&C.has(A)||i)&&e[A]===void 0&&r[A]===void 0?(_[A]=void 0,w++):(_[A]=S8(e[A],r[A]),_[A]===e[A]&&e[A]!==void 0&&w++)}return f===y&&w===f?e:_}return r}function jS(e,r){if(!r||Object.keys(e).length!==Object.keys(r).length)return!1;for(const i in e)if(e[i]!==r[i])return!1;return!0}function QV(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function k1(e){if(!YV(e))return!1;const r=e.constructor;if(r===void 0)return!0;const i=r.prototype;return!(!YV(i)||!i.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function YV(e){return Object.prototype.toString.call(e)==="[object Object]"}function h_e(e){return new Promise(r=>{setTimeout(r,e)})}function N1(e,r,i){return typeof i.structuralSharing=="function"?i.structuralSharing(e,r):i.structuralSharing!==!1?S8(e,r):r}function p_e(e,r,i=0){const s=[...e,r];return i&&s.length>i?s.slice(1):s}function m_e(e,r,i=0){const s=[r,...e];return i&&s.length>i?s.slice(0,-1):s}var wP=Symbol();function b8(e,r){return!e.queryFn&&(r!=null&&r.initialPromise)?()=>r.initialPromise:!e.queryFn||e.queryFn===wP?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function T8(e,r){return typeof e=="function"?e(...r):!!e}var Jd,_c,sp,wG,g_e=(wG=class extends Bp{constructor(){super();nr(this,Jd);nr(this,_c);nr(this,sp);kt(this,sp,r=>{if(!pf&&window.addEventListener){const i=()=>r();return window.addEventListener("visibilitychange",i,!1),()=>{window.removeEventListener("visibilitychange",i)}}})}onSubscribe(){De(this,_c)||this.setEventListener(De(this,sp))}onUnsubscribe(){var r;this.hasListeners()||((r=De(this,_c))==null||r.call(this),kt(this,_c,void 0))}setEventListener(r){var i;kt(this,sp,r),(i=De(this,_c))==null||i.call(this),kt(this,_c,r(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(r){De(this,Jd)!==r&&(kt(this,Jd,r),this.onFocus())}onFocus(){const r=this.isFocused();this.listeners.forEach(i=>{i(r)})}isFocused(){var r;return typeof De(this,Jd)=="boolean"?De(this,Jd):((r=globalThis.document)==null?void 0:r.visibilityState)!=="hidden"}},Jd=new WeakMap,_c=new WeakMap,sp=new WeakMap,wG),IP=new g_e,up,Sc,lp,IG,v_e=(IG=class extends Bp{constructor(){super();nr(this,up,!0);nr(this,Sc);nr(this,lp);kt(this,lp,r=>{if(!pf&&window.addEventListener){const i=()=>r(!0),s=()=>r(!1);return window.addEventListener("online",i,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",i),window.removeEventListener("offline",s)}}})}onSubscribe(){De(this,Sc)||this.setEventListener(De(this,lp))}onUnsubscribe(){var r;this.hasListeners()||((r=De(this,Sc))==null||r.call(this),kt(this,Sc,void 0))}setEventListener(r){var i;kt(this,lp,r),(i=De(this,Sc))==null||i.call(this),kt(this,Sc,r(this.setOnline.bind(this)))}setOnline(r){De(this,up)!==r&&(kt(this,up,r),this.listeners.forEach(s=>{s(r)}))}isOnline(){return De(this,up)}},up=new WeakMap,Sc=new WeakMap,lp=new WeakMap,IG),BS=new v_e;function O1(){let e,r;const i=new Promise((f,h)=>{e=f,r=h});i.status="pending",i.catch(()=>{});function s(f){Object.assign(i,f),delete i.resolve,delete i.reject}return i.resolve=f=>{s({status:"fulfilled",value:f}),e(f)},i.reject=f=>{s({status:"rejected",reason:f}),r(f)},i}function y_e(e){return Math.min(1e3*2**e,3e4)}function C8(e){return(e??"online")==="online"?BS.isOnline():!0}var w8=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function eA(e){return e instanceof w8}function I8(e){let r=!1,i=0,s=!1,f;const h=O1(),y=O=>{var L;s||(P(new w8(O)),(L=e.abort)==null||L.call(e))},_=()=>{r=!0},C=()=>{r=!1},w=()=>IP.isFocused()&&(e.networkMode==="always"||BS.isOnline())&&e.canRun(),x=()=>C8(e.networkMode)&&e.canRun(),A=O=>{var L;s||(s=!0,(L=e.onSuccess)==null||L.call(e,O),f==null||f(),h.resolve(O))},P=O=>{var L;s||(s=!0,(L=e.onError)==null||L.call(e,O),f==null||f(),h.reject(O))},R=()=>new Promise(O=>{var L;f=k=>{(s||w())&&O(k)},(L=e.onPause)==null||L.call(e)}).then(()=>{var O;f=void 0,s||(O=e.onContinue)==null||O.call(e)}),E=()=>{if(s)return;let O;const L=i===0?e.initialPromise:void 0;try{O=L??e.fn()}catch(k){O=Promise.reject(k)}Promise.resolve(O).then(A).catch(k=>{var $;if(s)return;const N=e.retry??(pf?0:3),j=e.retryDelay??y_e,G=typeof j=="function"?j(i,k):j,le=N===!0||typeof N=="number"&&i<N||typeof N=="function"&&N(i,k);if(r||!le){P(k);return}i++,($=e.onFail)==null||$.call(e,i,k),h_e(G).then(()=>w()?void 0:R()).then(()=>{r?P(k):E()})})};return{promise:h,cancel:y,continue:()=>(f==null||f(),h),cancelRetry:_,continueRetry:C,canStart:x,start:()=>(x()?E():R().then(E),h)}}var __e=e=>setTimeout(e,0);function S_e(){let e=[],r=0,i=_=>{_()},s=_=>{_()},f=__e;const h=_=>{r?e.push(_):f(()=>{i(_)})},y=()=>{const _=e;e=[],_.length&&f(()=>{s(()=>{_.forEach(C=>{i(C)})})})};return{batch:_=>{let C;r++;try{C=_()}finally{r--,r||y()}return C},batchCalls:_=>(...C)=>{h(()=>{_(...C)})},schedule:h,setNotifyFunction:_=>{i=_},setBatchNotifyFunction:_=>{s=_},setScheduler:_=>{f=_}}}var Bi=S_e(),Xd,EG,E8=(EG=class{constructor(){nr(this,Xd)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),R1(this.gcTime)&&kt(this,Xd,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(pf?1/0:5*60*1e3))}clearGcTimeout(){De(this,Xd)&&(clearTimeout(De(this,Xd)),kt(this,Xd,void 0))}},Xd=new WeakMap,EG),cp,Zd,os,$d,Eo,Pv,ef,Gs,il,xG,b_e=(xG=class extends E8{constructor(r){super();nr(this,Gs);nr(this,cp);nr(this,Zd);nr(this,os);nr(this,$d);nr(this,Eo);nr(this,Pv);nr(this,ef);kt(this,ef,!1),kt(this,Pv,r.defaultOptions),this.setOptions(r.options),this.observers=[],kt(this,$d,r.client),kt(this,os,De(this,$d).getQueryCache()),this.queryKey=r.queryKey,this.queryHash=r.queryHash,kt(this,cp,T_e(this.options)),this.state=r.state??De(this,cp),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var r;return(r=De(this,Eo))==null?void 0:r.promise}setOptions(r){this.options={...De(this,Pv),...r},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&De(this,os).remove(this)}setData(r,i){const s=N1(this.state.data,r,this.options);return Ir(this,Gs,il).call(this,{data:s,type:"success",dataUpdatedAt:i==null?void 0:i.updatedAt,manual:i==null?void 0:i.manual}),s}setState(r,i){Ir(this,Gs,il).call(this,{type:"setState",state:r,setStateOptions:i})}cancel(r){var s,f;const i=(s=De(this,Eo))==null?void 0:s.promise;return(f=De(this,Eo))==null||f.cancel(r),i?i.then(Ko).catch(Ko):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(De(this,cp))}isActive(){return this.observers.some(r=>as(r.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===wP||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(r=>Uc(r.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(r=>r.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(r=0){return this.state.data===void 0?!0:r==="static"?!1:this.state.isInvalidated?!0:!_8(this.state.dataUpdatedAt,r)}onFocus(){var i;const r=this.observers.find(s=>s.shouldFetchOnWindowFocus());r==null||r.refetch({cancelRefetch:!1}),(i=De(this,Eo))==null||i.continue()}onOnline(){var i;const r=this.observers.find(s=>s.shouldFetchOnReconnect());r==null||r.refetch({cancelRefetch:!1}),(i=De(this,Eo))==null||i.continue()}addObserver(r){this.observers.includes(r)||(this.observers.push(r),this.clearGcTimeout(),De(this,os).notify({type:"observerAdded",query:this,observer:r}))}removeObserver(r){this.observers.includes(r)&&(this.observers=this.observers.filter(i=>i!==r),this.observers.length||(De(this,Eo)&&(De(this,ef)?De(this,Eo).cancel({revert:!0}):De(this,Eo).cancelRetry()),this.scheduleGc()),De(this,os).notify({type:"observerRemoved",query:this,observer:r}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ir(this,Gs,il).call(this,{type:"invalidate"})}fetch(r,i){var w,x,A;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(i!=null&&i.cancelRefetch))this.cancel({silent:!0});else if(De(this,Eo))return De(this,Eo).continueRetry(),De(this,Eo).promise}if(r&&this.setOptions(r),!this.options.queryFn){const P=this.observers.find(R=>R.options.queryFn);P&&this.setOptions(P.options)}const s=new AbortController,f=P=>{Object.defineProperty(P,"signal",{enumerable:!0,get:()=>(kt(this,ef,!0),s.signal)})},h=()=>{const P=b8(this.options,i),E=(()=>{const O={client:De(this,$d),queryKey:this.queryKey,meta:this.meta};return f(O),O})();return kt(this,ef,!1),this.options.persister?this.options.persister(P,E,this):P(E)},_=(()=>{const P={fetchOptions:i,options:this.options,queryKey:this.queryKey,client:De(this,$d),state:this.state,fetchFn:h};return f(P),P})();(w=this.options.behavior)==null||w.onFetch(_,this),kt(this,Zd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((x=_.fetchOptions)==null?void 0:x.meta))&&Ir(this,Gs,il).call(this,{type:"fetch",meta:(A=_.fetchOptions)==null?void 0:A.meta});const C=P=>{var R,E,O,L;eA(P)&&P.silent||Ir(this,Gs,il).call(this,{type:"error",error:P}),eA(P)||((E=(R=De(this,os).config).onError)==null||E.call(R,P,this),(L=(O=De(this,os).config).onSettled)==null||L.call(O,this.state.data,P,this)),this.scheduleGc()};return kt(this,Eo,I8({initialPromise:i==null?void 0:i.initialPromise,fn:_.fetchFn,abort:s.abort.bind(s),onSuccess:P=>{var R,E,O,L;if(P===void 0){C(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(P)}catch(k){C(k);return}(E=(R=De(this,os).config).onSuccess)==null||E.call(R,P,this),(L=(O=De(this,os).config).onSettled)==null||L.call(O,P,this.state.error,this),this.scheduleGc()},onError:C,onFail:(P,R)=>{Ir(this,Gs,il).call(this,{type:"failed",failureCount:P,error:R})},onPause:()=>{Ir(this,Gs,il).call(this,{type:"pause"})},onContinue:()=>{Ir(this,Gs,il).call(this,{type:"continue"})},retry:_.options.retry,retryDelay:_.options.retryDelay,networkMode:_.options.networkMode,canRun:()=>!0})),De(this,Eo).start()}},cp=new WeakMap,Zd=new WeakMap,os=new WeakMap,$d=new WeakMap,Eo=new WeakMap,Pv=new WeakMap,ef=new WeakMap,Gs=new WeakSet,il=function(r){const i=s=>{switch(r.type){case"failed":return{...s,fetchFailureCount:r.failureCount,fetchFailureReason:r.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...x8(s.data,this.options),fetchMeta:r.meta??null};case"success":return kt(this,Zd,void 0),{...s,data:r.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:r.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!r.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const f=r.error;return eA(f)&&f.revert&&De(this,Zd)?{...De(this,Zd),fetchStatus:"idle"}:{...s,error:f,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:f,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...r.state}}};this.state=i(this.state),Bi.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),De(this,os).notify({query:this,type:"updated",action:r})})},xG);function x8(e,r){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:C8(r.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function T_e(e){const r=typeof e.initialData=="function"?e.initialData():e.initialData,i=r!==void 0,s=i?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:r,dataUpdateCount:0,dataUpdatedAt:i?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:i?"success":"pending",fetchStatus:"idle"}}var Iu,AG,C_e=(AG=class extends Bp{constructor(r={}){super();nr(this,Iu);this.config=r,kt(this,Iu,new Map)}build(r,i,s){const f=i.queryKey,h=i.queryHash??CP(f,i);let y=this.get(h);return y||(y=new b_e({client:r,queryKey:f,queryHash:h,options:r.defaultQueryOptions(i),state:s,defaultOptions:r.getQueryDefaults(f)}),this.add(y)),y}add(r){De(this,Iu).has(r.queryHash)||(De(this,Iu).set(r.queryHash,r),this.notify({type:"added",query:r}))}remove(r){const i=De(this,Iu).get(r.queryHash);i&&(r.destroy(),i===r&&De(this,Iu).delete(r.queryHash),this.notify({type:"removed",query:r}))}clear(){Bi.batch(()=>{this.getAll().forEach(r=>{this.remove(r)})})}get(r){return De(this,Iu).get(r)}getAll(){return[...De(this,Iu).values()]}find(r){const i={exact:!0,...r};return this.getAll().find(s=>zV(i,s))}findAll(r={}){const i=this.getAll();return Object.keys(r).length>0?i.filter(s=>zV(r,s)):i}notify(r){Bi.batch(()=>{this.listeners.forEach(i=>{i(r)})})}onFocus(){Bi.batch(()=>{this.getAll().forEach(r=>{r.onFocus()})})}onOnline(){Bi.batch(()=>{this.getAll().forEach(r=>{r.onOnline()})})}},Iu=new WeakMap,AG),Eu,Go,tf,xu,fc,DG,w_e=(DG=class extends E8{constructor(r){super();nr(this,xu);nr(this,Eu);nr(this,Go);nr(this,tf);this.mutationId=r.mutationId,kt(this,Go,r.mutationCache),kt(this,Eu,[]),this.state=r.state||A8(),this.setOptions(r.options),this.scheduleGc()}setOptions(r){this.options=r,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(r){De(this,Eu).includes(r)||(De(this,Eu).push(r),this.clearGcTimeout(),De(this,Go).notify({type:"observerAdded",mutation:this,observer:r}))}removeObserver(r){kt(this,Eu,De(this,Eu).filter(i=>i!==r)),this.scheduleGc(),De(this,Go).notify({type:"observerRemoved",mutation:this,observer:r})}optionalRemove(){De(this,Eu).length||(this.state.status==="pending"?this.scheduleGc():De(this,Go).remove(this))}continue(){var r;return((r=De(this,tf))==null?void 0:r.continue())??this.execute(this.state.variables)}async execute(r){var h,y,_,C,w,x,A,P,R,E,O,L,k,N,j,G,le,$,H,ie;const i=()=>{Ir(this,xu,fc).call(this,{type:"continue"})};kt(this,tf,I8({fn:()=>this.options.mutationFn?this.options.mutationFn(r):Promise.reject(new Error("No mutationFn found")),onFail:(pe,se)=>{Ir(this,xu,fc).call(this,{type:"failed",failureCount:pe,error:se})},onPause:()=>{Ir(this,xu,fc).call(this,{type:"pause"})},onContinue:i,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>De(this,Go).canRun(this)}));const s=this.state.status==="pending",f=!De(this,tf).canStart();try{if(s)i();else{Ir(this,xu,fc).call(this,{type:"pending",variables:r,isPaused:f}),await((y=(h=De(this,Go).config).onMutate)==null?void 0:y.call(h,r,this));const se=await((C=(_=this.options).onMutate)==null?void 0:C.call(_,r));se!==this.state.context&&Ir(this,xu,fc).call(this,{type:"pending",context:se,variables:r,isPaused:f})}const pe=await De(this,tf).start();return await((x=(w=De(this,Go).config).onSuccess)==null?void 0:x.call(w,pe,r,this.state.context,this)),await((P=(A=this.options).onSuccess)==null?void 0:P.call(A,pe,r,this.state.context)),await((E=(R=De(this,Go).config).onSettled)==null?void 0:E.call(R,pe,null,this.state.variables,this.state.context,this)),await((L=(O=this.options).onSettled)==null?void 0:L.call(O,pe,null,r,this.state.context)),Ir(this,xu,fc).call(this,{type:"success",data:pe}),pe}catch(pe){try{throw await((N=(k=De(this,Go).config).onError)==null?void 0:N.call(k,pe,r,this.state.context,this)),await((G=(j=this.options).onError)==null?void 0:G.call(j,pe,r,this.state.context)),await(($=(le=De(this,Go).config).onSettled)==null?void 0:$.call(le,void 0,pe,this.state.variables,this.state.context,this)),await((ie=(H=this.options).onSettled)==null?void 0:ie.call(H,void 0,pe,r,this.state.context)),pe}finally{Ir(this,xu,fc).call(this,{type:"error",error:pe})}}finally{De(this,Go).runNext(this)}}},Eu=new WeakMap,Go=new WeakMap,tf=new WeakMap,xu=new WeakSet,fc=function(r){const i=s=>{switch(r.type){case"failed":return{...s,failureCount:r.failureCount,failureReason:r.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:r.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:r.isPaused,status:"pending",variables:r.variables,submittedAt:Date.now()};case"success":return{...s,data:r.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:r.error,failureCount:s.failureCount+1,failureReason:r.error,isPaused:!1,status:"error"}}};this.state=i(this.state),Bi.batch(()=>{De(this,Eu).forEach(s=>{s.onMutationUpdate(r)}),De(this,Go).notify({mutation:this,type:"updated",action:r})})},DG);function A8(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ul,Hs,Rv,PG,I_e=(PG=class extends Bp{constructor(r={}){super();nr(this,ul);nr(this,Hs);nr(this,Rv);this.config=r,kt(this,ul,new Set),kt(this,Hs,new Map),kt(this,Rv,0)}build(r,i,s){const f=new w_e({mutationCache:this,mutationId:++m0(this,Rv)._,options:r.defaultMutationOptions(i),state:s});return this.add(f),f}add(r){De(this,ul).add(r);const i=L0(r);if(typeof i=="string"){const s=De(this,Hs).get(i);s?s.push(r):De(this,Hs).set(i,[r])}this.notify({type:"added",mutation:r})}remove(r){if(De(this,ul).delete(r)){const i=L0(r);if(typeof i=="string"){const s=De(this,Hs).get(i);if(s)if(s.length>1){const f=s.indexOf(r);f!==-1&&s.splice(f,1)}else s[0]===r&&De(this,Hs).delete(i)}}this.notify({type:"removed",mutation:r})}canRun(r){const i=L0(r);if(typeof i=="string"){const s=De(this,Hs).get(i),f=s==null?void 0:s.find(h=>h.state.status==="pending");return!f||f===r}else return!0}runNext(r){var s;const i=L0(r);if(typeof i=="string"){const f=(s=De(this,Hs).get(i))==null?void 0:s.find(h=>h!==r&&h.state.isPaused);return(f==null?void 0:f.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Bi.batch(()=>{De(this,ul).forEach(r=>{this.notify({type:"removed",mutation:r})}),De(this,ul).clear(),De(this,Hs).clear()})}getAll(){return Array.from(De(this,ul))}find(r){const i={exact:!0,...r};return this.getAll().find(s=>KV(i,s))}findAll(r={}){return this.getAll().filter(i=>KV(r,i))}notify(r){Bi.batch(()=>{this.listeners.forEach(i=>{i(r)})})}resumePausedMutations(){const r=this.getAll().filter(i=>i.state.isPaused);return Bi.batch(()=>Promise.all(r.map(i=>i.continue().catch(Ko))))}},ul=new WeakMap,Hs=new WeakMap,Rv=new WeakMap,PG);function L0(e){var r;return(r=e.options.scope)==null?void 0:r.id}function qV(e){return{onFetch:(r,i)=>{var x,A,P,R,E;const s=r.options,f=(P=(A=(x=r.fetchOptions)==null?void 0:x.meta)==null?void 0:A.fetchMore)==null?void 0:P.direction,h=((R=r.state.data)==null?void 0:R.pages)||[],y=((E=r.state.data)==null?void 0:E.pageParams)||[];let _={pages:[],pageParams:[]},C=0;const w=async()=>{let O=!1;const L=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(r.signal.aborted?O=!0:r.signal.addEventListener("abort",()=>{O=!0}),r.signal)})},k=b8(r.options,r.fetchOptions),N=async(j,G,le)=>{if(O)return Promise.reject();if(G==null&&j.pages.length)return Promise.resolve(j);const H=(()=>{const ce={client:r.client,queryKey:r.queryKey,pageParam:G,direction:le?"backward":"forward",meta:r.options.meta};return L(ce),ce})(),ie=await k(H),{maxPages:pe}=r.options,se=le?m_e:p_e;return{pages:se(j.pages,ie,pe),pageParams:se(j.pageParams,G,pe)}};if(f&&h.length){const j=f==="backward",G=j?E_e:JV,le={pages:h,pageParams:y},$=G(s,le);_=await N(le,$,j)}else{const j=e??h.length;do{const G=C===0?y[0]??s.initialPageParam:JV(s,_);if(C>0&&G==null)break;_=await N(_,G),C++}while(C<j)}return _};r.options.persister?r.fetchFn=()=>{var O,L;return(L=(O=r.options).persister)==null?void 0:L.call(O,w,{client:r.client,queryKey:r.queryKey,meta:r.options.meta,signal:r.signal},i)}:r.fetchFn=w}}}function JV(e,{pages:r,pageParams:i}){const s=r.length-1;return r.length>0?e.getNextPageParam(r[s],r,i[s],i):void 0}function E_e(e,{pages:r,pageParams:i}){var s;return r.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,r[0],r,i[0],i):void 0}var fi,bc,Tc,dp,fp,Cc,hp,pp,RG,x_e=(RG=class{constructor(e={}){nr(this,fi);nr(this,bc);nr(this,Tc);nr(this,dp);nr(this,fp);nr(this,Cc);nr(this,hp);nr(this,pp);kt(this,fi,e.queryCache||new C_e),kt(this,bc,e.mutationCache||new I_e),kt(this,Tc,e.defaultOptions||{}),kt(this,dp,new Map),kt(this,fp,new Map),kt(this,Cc,0)}mount(){m0(this,Cc)._++,De(this,Cc)===1&&(kt(this,hp,IP.subscribe(async e=>{e&&(await this.resumePausedMutations(),De(this,fi).onFocus())})),kt(this,pp,BS.subscribe(async e=>{e&&(await this.resumePausedMutations(),De(this,fi).onOnline())})))}unmount(){var e,r;m0(this,Cc)._--,De(this,Cc)===0&&((e=De(this,hp))==null||e.call(this),kt(this,hp,void 0),(r=De(this,pp))==null||r.call(this),kt(this,pp,void 0))}isFetching(e){return De(this,fi).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return De(this,bc).findAll({...e,status:"pending"}).length}getQueryData(e){var i;const r=this.defaultQueryOptions({queryKey:e});return(i=De(this,fi).get(r.queryHash))==null?void 0:i.state.data}ensureQueryData(e){const r=this.defaultQueryOptions(e),i=De(this,fi).build(this,r),s=i.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&i.isStaleByTime(Uc(r.staleTime,i))&&this.prefetchQuery(r),Promise.resolve(s))}getQueriesData(e){return De(this,fi).findAll(e).map(({queryKey:r,state:i})=>{const s=i.data;return[r,s]})}setQueryData(e,r,i){const s=this.defaultQueryOptions({queryKey:e}),f=De(this,fi).get(s.queryHash),h=f==null?void 0:f.state.data,y=f_e(r,h);if(y!==void 0)return De(this,fi).build(this,s).setData(y,{...i,manual:!0})}setQueriesData(e,r,i){return Bi.batch(()=>De(this,fi).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,r,i)]))}getQueryState(e){var i;const r=this.defaultQueryOptions({queryKey:e});return(i=De(this,fi).get(r.queryHash))==null?void 0:i.state}removeQueries(e){const r=De(this,fi);Bi.batch(()=>{r.findAll(e).forEach(i=>{r.remove(i)})})}resetQueries(e,r){const i=De(this,fi);return Bi.batch(()=>(i.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},r)))}cancelQueries(e,r={}){const i={revert:!0,...r},s=Bi.batch(()=>De(this,fi).findAll(e).map(f=>f.cancel(i)));return Promise.all(s).then(Ko).catch(Ko)}invalidateQueries(e,r={}){return Bi.batch(()=>(De(this,fi).findAll(e).forEach(i=>{i.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},r)))}refetchQueries(e,r={}){const i={...r,cancelRefetch:r.cancelRefetch??!0},s=Bi.batch(()=>De(this,fi).findAll(e).filter(f=>!f.isDisabled()&&!f.isStatic()).map(f=>{let h=f.fetch(void 0,i);return i.throwOnError||(h=h.catch(Ko)),f.state.fetchStatus==="paused"?Promise.resolve():h}));return Promise.all(s).then(Ko)}fetchQuery(e){const r=this.defaultQueryOptions(e);r.retry===void 0&&(r.retry=!1);const i=De(this,fi).build(this,r);return i.isStaleByTime(Uc(r.staleTime,i))?i.fetch(r):Promise.resolve(i.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ko).catch(Ko)}fetchInfiniteQuery(e){return e.behavior=qV(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ko).catch(Ko)}ensureInfiniteQueryData(e){return e.behavior=qV(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return BS.isOnline()?De(this,bc).resumePausedMutations():Promise.resolve()}getQueryCache(){return De(this,fi)}getMutationCache(){return De(this,bc)}getDefaultOptions(){return De(this,Tc)}setDefaultOptions(e){kt(this,Tc,e)}setQueryDefaults(e,r){De(this,dp).set(mf(e),{queryKey:e,defaultOptions:r})}getQueryDefaults(e){const r=[...De(this,dp).values()],i={};return r.forEach(s=>{Sv(e,s.queryKey)&&Object.assign(i,s.defaultOptions)}),i}setMutationDefaults(e,r){De(this,fp).set(mf(e),{mutationKey:e,defaultOptions:r})}getMutationDefaults(e){const r=[...De(this,fp).values()],i={};return r.forEach(s=>{Sv(e,s.mutationKey)&&Object.assign(i,s.defaultOptions)}),i}defaultQueryOptions(e){if(e._defaulted)return e;const r={...De(this,Tc).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return r.queryHash||(r.queryHash=CP(r.queryKey,r)),r.refetchOnReconnect===void 0&&(r.refetchOnReconnect=r.networkMode!=="always"),r.throwOnError===void 0&&(r.throwOnError=!!r.suspense),!r.networkMode&&r.persister&&(r.networkMode="offlineFirst"),r.queryFn===wP&&(r.enabled=!1),r}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...De(this,Tc).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){De(this,fi).clear(),De(this,bc).clear()}},fi=new WeakMap,bc=new WeakMap,Tc=new WeakMap,dp=new WeakMap,fp=new WeakMap,Cc=new WeakMap,hp=new WeakMap,pp=new WeakMap,RG),fa,Hr,kv,Ho,rf,mp,wc,Ic,Nv,gp,vp,nf,of,Ec,yp,sn,Lg,F1,M1,L1,W1,j1,B1,U1,D8,kG,A_e=(kG=class extends Bp{constructor(r,i){super();nr(this,sn);nr(this,fa);nr(this,Hr);nr(this,kv);nr(this,Ho);nr(this,rf);nr(this,mp);nr(this,wc);nr(this,Ic);nr(this,Nv);nr(this,gp);nr(this,vp);nr(this,nf);nr(this,of);nr(this,Ec);nr(this,yp,new Set);this.options=i,kt(this,fa,r),kt(this,Ic,null),kt(this,wc,O1()),this.options.experimental_prefetchInRender||De(this,wc).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(i)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(De(this,Hr).addObserver(this),XV(De(this,Hr),this.options)?Ir(this,sn,Lg).call(this):this.updateResult(),Ir(this,sn,W1).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return V1(De(this,Hr),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return V1(De(this,Hr),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ir(this,sn,j1).call(this),Ir(this,sn,B1).call(this),De(this,Hr).removeObserver(this)}setOptions(r){const i=this.options,s=De(this,Hr);if(this.options=De(this,fa).defaultQueryOptions(r),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof as(this.options.enabled,De(this,Hr))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ir(this,sn,U1).call(this),De(this,Hr).setOptions(this.options),i._defaulted&&!jS(this.options,i)&&De(this,fa).getQueryCache().notify({type:"observerOptionsUpdated",query:De(this,Hr),observer:this});const f=this.hasListeners();f&&ZV(De(this,Hr),s,this.options,i)&&Ir(this,sn,Lg).call(this),this.updateResult(),f&&(De(this,Hr)!==s||as(this.options.enabled,De(this,Hr))!==as(i.enabled,De(this,Hr))||Uc(this.options.staleTime,De(this,Hr))!==Uc(i.staleTime,De(this,Hr)))&&Ir(this,sn,F1).call(this);const h=Ir(this,sn,M1).call(this);f&&(De(this,Hr)!==s||as(this.options.enabled,De(this,Hr))!==as(i.enabled,De(this,Hr))||h!==De(this,Ec))&&Ir(this,sn,L1).call(this,h)}getOptimisticResult(r){const i=De(this,fa).getQueryCache().build(De(this,fa),r),s=this.createResult(i,r);return P_e(this,s)&&(kt(this,Ho,s),kt(this,mp,this.options),kt(this,rf,De(this,Hr).state)),s}getCurrentResult(){return De(this,Ho)}trackResult(r,i){return new Proxy(r,{get:(s,f)=>(this.trackProp(f),i==null||i(f),Reflect.get(s,f))})}trackProp(r){De(this,yp).add(r)}getCurrentQuery(){return De(this,Hr)}refetch({...r}={}){return this.fetch({...r})}fetchOptimistic(r){const i=De(this,fa).defaultQueryOptions(r),s=De(this,fa).getQueryCache().build(De(this,fa),i);return s.fetch().then(()=>this.createResult(s,i))}fetch(r){return Ir(this,sn,Lg).call(this,{...r,cancelRefetch:r.cancelRefetch??!0}).then(()=>(this.updateResult(),De(this,Ho)))}createResult(r,i){var pe;const s=De(this,Hr),f=this.options,h=De(this,Ho),y=De(this,rf),_=De(this,mp),w=r!==s?r.state:De(this,kv),{state:x}=r;let A={...x},P=!1,R;if(i._optimisticResults){const se=this.hasListeners(),ce=!se&&XV(r,i),me=se&&ZV(r,s,i,f);(ce||me)&&(A={...A,...x8(x.data,r.options)}),i._optimisticResults==="isRestoring"&&(A.fetchStatus="idle")}let{error:E,errorUpdatedAt:O,status:L}=A;R=A.data;let k=!1;if(i.placeholderData!==void 0&&R===void 0&&L==="pending"){let se;h!=null&&h.isPlaceholderData&&i.placeholderData===(_==null?void 0:_.placeholderData)?(se=h.data,k=!0):se=typeof i.placeholderData=="function"?i.placeholderData((pe=De(this,vp))==null?void 0:pe.state.data,De(this,vp)):i.placeholderData,se!==void 0&&(L="success",R=N1(h==null?void 0:h.data,se,i),P=!0)}if(i.select&&R!==void 0&&!k)if(h&&R===(y==null?void 0:y.data)&&i.select===De(this,Nv))R=De(this,gp);else try{kt(this,Nv,i.select),R=i.select(R),R=N1(h==null?void 0:h.data,R,i),kt(this,gp,R),kt(this,Ic,null)}catch(se){kt(this,Ic,se)}De(this,Ic)&&(E=De(this,Ic),R=De(this,gp),O=Date.now(),L="error");const N=A.fetchStatus==="fetching",j=L==="pending",G=L==="error",le=j&&N,$=R!==void 0,ie={status:L,fetchStatus:A.fetchStatus,isPending:j,isSuccess:L==="success",isError:G,isInitialLoading:le,isLoading:le,data:R,dataUpdatedAt:A.dataUpdatedAt,error:E,errorUpdatedAt:O,failureCount:A.fetchFailureCount,failureReason:A.fetchFailureReason,errorUpdateCount:A.errorUpdateCount,isFetched:A.dataUpdateCount>0||A.errorUpdateCount>0,isFetchedAfterMount:A.dataUpdateCount>w.dataUpdateCount||A.errorUpdateCount>w.errorUpdateCount,isFetching:N,isRefetching:N&&!j,isLoadingError:G&&!$,isPaused:A.fetchStatus==="paused",isPlaceholderData:P,isRefetchError:G&&$,isStale:EP(r,i),refetch:this.refetch,promise:De(this,wc),isEnabled:as(i.enabled,r)!==!1};if(this.options.experimental_prefetchInRender){const se=we=>{ie.status==="error"?we.reject(ie.error):ie.data!==void 0&&we.resolve(ie.data)},ce=()=>{const we=kt(this,wc,ie.promise=O1());se(we)},me=De(this,wc);switch(me.status){case"pending":r.queryHash===s.queryHash&&se(me);break;case"fulfilled":(ie.status==="error"||ie.data!==me.value)&&ce();break;case"rejected":(ie.status!=="error"||ie.error!==me.reason)&&ce();break}}return ie}updateResult(){const r=De(this,Ho),i=this.createResult(De(this,Hr),this.options);if(kt(this,rf,De(this,Hr).state),kt(this,mp,this.options),De(this,rf).data!==void 0&&kt(this,vp,De(this,Hr)),jS(i,r))return;kt(this,Ho,i);const s=()=>{if(!r)return!0;const{notifyOnChangeProps:f}=this.options,h=typeof f=="function"?f():f;if(h==="all"||!h&&!De(this,yp).size)return!0;const y=new Set(h??De(this,yp));return this.options.throwOnError&&y.add("error"),Object.keys(De(this,Ho)).some(_=>{const C=_;return De(this,Ho)[C]!==r[C]&&y.has(C)})};Ir(this,sn,D8).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ir(this,sn,W1).call(this)}},fa=new WeakMap,Hr=new WeakMap,kv=new WeakMap,Ho=new WeakMap,rf=new WeakMap,mp=new WeakMap,wc=new WeakMap,Ic=new WeakMap,Nv=new WeakMap,gp=new WeakMap,vp=new WeakMap,nf=new WeakMap,of=new WeakMap,Ec=new WeakMap,yp=new WeakMap,sn=new WeakSet,Lg=function(r){Ir(this,sn,U1).call(this);let i=De(this,Hr).fetch(this.options,r);return r!=null&&r.throwOnError||(i=i.catch(Ko)),i},F1=function(){Ir(this,sn,j1).call(this);const r=Uc(this.options.staleTime,De(this,Hr));if(pf||De(this,Ho).isStale||!R1(r))return;const s=_8(De(this,Ho).dataUpdatedAt,r)+1;kt(this,nf,setTimeout(()=>{De(this,Ho).isStale||this.updateResult()},s))},M1=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(De(this,Hr)):this.options.refetchInterval)??!1},L1=function(r){Ir(this,sn,B1).call(this),kt(this,Ec,r),!(pf||as(this.options.enabled,De(this,Hr))===!1||!R1(De(this,Ec))||De(this,Ec)===0)&&kt(this,of,setInterval(()=>{(this.options.refetchIntervalInBackground||IP.isFocused())&&Ir(this,sn,Lg).call(this)},De(this,Ec)))},W1=function(){Ir(this,sn,F1).call(this),Ir(this,sn,L1).call(this,Ir(this,sn,M1).call(this))},j1=function(){De(this,nf)&&(clearTimeout(De(this,nf)),kt(this,nf,void 0))},B1=function(){De(this,of)&&(clearInterval(De(this,of)),kt(this,of,void 0))},U1=function(){const r=De(this,fa).getQueryCache().build(De(this,fa),this.options);if(r===De(this,Hr))return;const i=De(this,Hr);kt(this,Hr,r),kt(this,kv,r.state),this.hasListeners()&&(i==null||i.removeObserver(this),r.addObserver(this))},D8=function(r){Bi.batch(()=>{r.listeners&&this.listeners.forEach(i=>{i(De(this,Ho))}),De(this,fa).getQueryCache().notify({query:De(this,Hr),type:"observerResultsUpdated"})})},kG);function D_e(e,r){return as(r.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&r.retryOnMount===!1)}function XV(e,r){return D_e(e,r)||e.state.data!==void 0&&V1(e,r,r.refetchOnMount)}function V1(e,r,i){if(as(r.enabled,e)!==!1&&Uc(r.staleTime,e)!=="static"){const s=typeof i=="function"?i(e):i;return s==="always"||s!==!1&&EP(e,r)}return!1}function ZV(e,r,i,s){return(e!==r||as(s.enabled,e)===!1)&&(!i.suspense||e.state.status!=="error")&&EP(e,i)}function EP(e,r){return as(r.enabled,e)!==!1&&e.isStaleByTime(Uc(r.staleTime,e))}function P_e(e,r){return!jS(e.getCurrentResult(),r)}var xc,Ac,ha,ll,gl,oS,G1,NG,R_e=(NG=class extends Bp{constructor(i,s){super();nr(this,gl);nr(this,xc);nr(this,Ac);nr(this,ha);nr(this,ll);kt(this,xc,i),this.setOptions(s),this.bindMethods(),Ir(this,gl,oS).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(i){var f;const s=this.options;this.options=De(this,xc).defaultMutationOptions(i),jS(this.options,s)||De(this,xc).getMutationCache().notify({type:"observerOptionsUpdated",mutation:De(this,ha),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&mf(s.mutationKey)!==mf(this.options.mutationKey)?this.reset():((f=De(this,ha))==null?void 0:f.state.status)==="pending"&&De(this,ha).setOptions(this.options)}onUnsubscribe(){var i;this.hasListeners()||(i=De(this,ha))==null||i.removeObserver(this)}onMutationUpdate(i){Ir(this,gl,oS).call(this),Ir(this,gl,G1).call(this,i)}getCurrentResult(){return De(this,Ac)}reset(){var i;(i=De(this,ha))==null||i.removeObserver(this),kt(this,ha,void 0),Ir(this,gl,oS).call(this),Ir(this,gl,G1).call(this)}mutate(i,s){var f;return kt(this,ll,s),(f=De(this,ha))==null||f.removeObserver(this),kt(this,ha,De(this,xc).getMutationCache().build(De(this,xc),this.options)),De(this,ha).addObserver(this),De(this,ha).execute(i)}},xc=new WeakMap,Ac=new WeakMap,ha=new WeakMap,ll=new WeakMap,gl=new WeakSet,oS=function(){var s;const i=((s=De(this,ha))==null?void 0:s.state)??A8();kt(this,Ac,{...i,isPending:i.status==="pending",isSuccess:i.status==="success",isError:i.status==="error",isIdle:i.status==="idle",mutate:this.mutate,reset:this.reset})},G1=function(i){Bi.batch(()=>{var s,f,h,y,_,C,w,x;if(De(this,ll)&&this.hasListeners()){const A=De(this,Ac).variables,P=De(this,Ac).context;(i==null?void 0:i.type)==="success"?((f=(s=De(this,ll)).onSuccess)==null||f.call(s,i.data,A,P),(y=(h=De(this,ll)).onSettled)==null||y.call(h,i.data,null,A,P)):(i==null?void 0:i.type)==="error"&&((C=(_=De(this,ll)).onError)==null||C.call(_,i.error,A,P),(x=(w=De(this,ll)).onSettled)==null||x.call(w,void 0,i.error,A,P))}this.listeners.forEach(A=>{A(De(this,Ac))})})},NG),P8=z.createContext(void 0),rd=e=>{const r=z.useContext(P8);if(!r)throw new Error("No QueryClient set, use QueryClientProvider to set one");return r},k_e=({client:e,children:r})=>(z.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),I.jsx(P8.Provider,{value:e,children:r})),R8=z.createContext(!1),N_e=()=>z.useContext(R8);R8.Provider;function O_e(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var F_e=z.createContext(O_e()),M_e=()=>z.useContext(F_e),L_e=(e,r)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(r.isReset()||(e.retryOnMount=!1))},W_e=e=>{z.useEffect(()=>{e.clearReset()},[e])},j_e=({result:e,errorResetBoundary:r,throwOnError:i,query:s,suspense:f})=>e.isError&&!r.isReset()&&!e.isFetching&&s&&(f&&e.data===void 0||T8(i,[e.error,s])),B_e=e=>{if(e.suspense){const r=s=>s==="static"?s:Math.max(s??1e3,1e3),i=e.staleTime;e.staleTime=typeof i=="function"?(...s)=>r(i(...s)):r(i),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},U_e=(e,r)=>e.isLoading&&e.isFetching&&!r,V_e=(e,r)=>(e==null?void 0:e.suspense)&&r.isPending,$V=(e,r,i)=>r.fetchOptimistic(e).catch(()=>{i.clearReset()});function G_e(e,r,i){var A,P,R,E,O;const s=N_e(),f=M_e(),h=rd(),y=h.defaultQueryOptions(e);(P=(A=h.getDefaultOptions().queries)==null?void 0:A._experimental_beforeQuery)==null||P.call(A,y),y._optimisticResults=s?"isRestoring":"optimistic",B_e(y),L_e(y,f),W_e(f);const _=!h.getQueryCache().get(y.queryHash),[C]=z.useState(()=>new r(h,y)),w=C.getOptimisticResult(y),x=!s&&e.subscribed!==!1;if(z.useSyncExternalStore(z.useCallback(L=>{const k=x?C.subscribe(Bi.batchCalls(L)):Ko;return C.updateResult(),k},[C,x]),()=>C.getCurrentResult(),()=>C.getCurrentResult()),z.useEffect(()=>{C.setOptions(y)},[y,C]),V_e(y,w))throw $V(y,C,f);if(j_e({result:w,errorResetBoundary:f,throwOnError:y.throwOnError,query:h.getQueryCache().get(y.queryHash),suspense:y.suspense}))throw w.error;if((E=(R=h.getDefaultOptions().queries)==null?void 0:R._experimental_afterQuery)==null||E.call(R,y,w),y.experimental_prefetchInRender&&!pf&&U_e(w,s)){const L=_?$V(y,C,f):(O=h.getQueryCache().get(y.queryHash))==null?void 0:O.promise;L==null||L.catch(Ko).finally(()=>{C.updateResult()})}return y.notifyOnChangeProps?w:C.trackResult(w)}function Kr(e,r){return G_e(e,A_e)}function Ri(e,r){const i=rd(),[s]=z.useState(()=>new R_e(i,e));z.useEffect(()=>{s.setOptions(e)},[s,e]);const f=z.useSyncExternalStore(z.useCallback(y=>s.subscribe(Bi.batchCalls(y)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),h=z.useCallback((y,_)=>{s.mutate(y,_).catch(Ko)},[s]);if(f.error&&T8(s.options.throwOnError,[f.error]))throw f.error;return{...f,mutate:h,mutateAsync:f.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Un(){return Un=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},Un.apply(this,arguments)}var Pi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Pi||(Pi={}));const e5="popstate";function H_e(e){e===void 0&&(e={});function r(s,f){let{pathname:h,search:y,hash:_}=s.location;return bv("",{pathname:h,search:y,hash:_},f.state&&f.state.usr||null,f.state&&f.state.key||"default")}function i(s,f){return typeof f=="string"?f:Gv(f)}return K_e(r,i,null,e)}function jr(e,r){if(e===!1||e===null||typeof e>"u")throw new Error(r)}function Dp(e,r){if(!e){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function z_e(){return Math.random().toString(36).substr(2,8)}function t5(e,r){return{usr:e.state,key:e.key,idx:r}}function bv(e,r,i,s){return i===void 0&&(i=null),Un({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof r=="string"?nd(r):r,{state:i,key:r&&r.key||s||z_e()})}function Gv(e){let{pathname:r="/",search:i="",hash:s=""}=e;return i&&i!=="?"&&(r+=i.charAt(0)==="?"?i:"?"+i),s&&s!=="#"&&(r+=s.charAt(0)==="#"?s:"#"+s),r}function nd(e){let r={};if(e){let i=e.indexOf("#");i>=0&&(r.hash=e.substr(i),e=e.substr(0,i));let s=e.indexOf("?");s>=0&&(r.search=e.substr(s),e=e.substr(0,s)),e&&(r.pathname=e)}return r}function K_e(e,r,i,s){s===void 0&&(s={});let{window:f=document.defaultView,v5Compat:h=!1}=s,y=f.history,_=Pi.Pop,C=null,w=x();w==null&&(w=0,y.replaceState(Un({},y.state,{idx:w}),""));function x(){return(y.state||{idx:null}).idx}function A(){_=Pi.Pop;let L=x(),k=L==null?null:L-w;w=L,C&&C({action:_,location:O.location,delta:k})}function P(L,k){_=Pi.Push;let N=bv(O.location,L,k);w=x()+1;let j=t5(N,w),G=O.createHref(N);try{y.pushState(j,"",G)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;f.location.assign(G)}h&&C&&C({action:_,location:O.location,delta:1})}function R(L,k){_=Pi.Replace;let N=bv(O.location,L,k);w=x();let j=t5(N,w),G=O.createHref(N);y.replaceState(j,"",G),h&&C&&C({action:_,location:O.location,delta:0})}function E(L){let k=f.location.origin!=="null"?f.location.origin:f.location.href,N=typeof L=="string"?L:Gv(L);return N=N.replace(/ $/,"%20"),jr(k,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,k)}let O={get action(){return _},get location(){return e(f,y)},listen(L){if(C)throw new Error("A history only accepts one active listener");return f.addEventListener(e5,A),C=L,()=>{f.removeEventListener(e5,A),C=null}},createHref(L){return r(f,L)},createURL:E,encodeLocation(L){let k=E(L);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:P,replace:R,go(L){return y.go(L)}};return O}var cn;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(cn||(cn={}));const Q_e=new Set(["lazy","caseSensitive","path","id","index","children"]);function Y_e(e){return e.index===!0}function US(e,r,i,s){return i===void 0&&(i=[]),s===void 0&&(s={}),e.map((f,h)=>{let y=[...i,String(h)],_=typeof f.id=="string"?f.id:y.join("-");if(jr(f.index!==!0||!f.children,"Cannot specify children on an index route"),jr(!s[_],'Found a route id collision on id "'+_+`".  Route id's must be globally unique within Data Router usages`),Y_e(f)){let C=Un({},f,r(f),{id:_});return s[_]=C,C}else{let C=Un({},f,r(f),{id:_,children:void 0});return s[_]=C,f.children&&(C.children=US(f.children,r,y,s)),C}})}function Vd(e,r,i){return i===void 0&&(i="/"),aS(e,r,i,!1)}function aS(e,r,i,s){let f=typeof r=="string"?nd(r):r,h=Hv(f.pathname||"/",i);if(h==null)return null;let y=k8(e);J_e(y);let _=null;for(let C=0;_==null&&C<y.length;++C){let w=s0e(h);_=o0e(y[C],w,s)}return _}function q_e(e,r){let{route:i,pathname:s,params:f}=e;return{id:i.id,pathname:s,params:f,data:r[i.id],handle:i.handle}}function k8(e,r,i,s){r===void 0&&(r=[]),i===void 0&&(i=[]),s===void 0&&(s="");let f=(h,y,_)=>{let C={relativePath:_===void 0?h.path||"":_,caseSensitive:h.caseSensitive===!0,childrenIndex:y,route:h};C.relativePath.startsWith("/")&&(jr(C.relativePath.startsWith(s),'Absolute route path "'+C.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),C.relativePath=C.relativePath.slice(s.length));let w=Vc([s,C.relativePath]),x=i.concat(C);h.children&&h.children.length>0&&(jr(h.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+w+'".')),k8(h.children,r,x,w)),!(h.path==null&&!h.index)&&r.push({path:w,score:n0e(w,h.index),routesMeta:x})};return e.forEach((h,y)=>{var _;if(h.path===""||!((_=h.path)!=null&&_.includes("?")))f(h,y);else for(let C of N8(h.path))f(h,y,C)}),r}function N8(e){let r=e.split("/");if(r.length===0)return[];let[i,...s]=r,f=i.endsWith("?"),h=i.replace(/\?$/,"");if(s.length===0)return f?[h,""]:[h];let y=N8(s.join("/")),_=[];return _.push(...y.map(C=>C===""?h:[h,C].join("/"))),f&&_.push(...y),_.map(C=>e.startsWith("/")&&C===""?"/":C)}function J_e(e){e.sort((r,i)=>r.score!==i.score?i.score-r.score:i0e(r.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}const X_e=/^:[\w-]+$/,Z_e=3,$_e=2,e0e=1,t0e=10,r0e=-2,r5=e=>e==="*";function n0e(e,r){let i=e.split("/"),s=i.length;return i.some(r5)&&(s+=r0e),r&&(s+=$_e),i.filter(f=>!r5(f)).reduce((f,h)=>f+(X_e.test(h)?Z_e:h===""?e0e:t0e),s)}function i0e(e,r){return e.length===r.length&&e.slice(0,-1).every((s,f)=>s===r[f])?e[e.length-1]-r[r.length-1]:0}function o0e(e,r,i){i===void 0&&(i=!1);let{routesMeta:s}=e,f={},h="/",y=[];for(let _=0;_<s.length;++_){let C=s[_],w=_===s.length-1,x=h==="/"?r:r.slice(h.length)||"/",A=n5({path:C.relativePath,caseSensitive:C.caseSensitive,end:w},x),P=C.route;if(!A&&w&&i&&!s[s.length-1].route.index&&(A=n5({path:C.relativePath,caseSensitive:C.caseSensitive,end:!1},x)),!A)return null;Object.assign(f,A.params),y.push({params:f,pathname:Vc([h,A.pathname]),pathnameBase:c0e(Vc([h,A.pathnameBase])),route:P}),A.pathnameBase!=="/"&&(h=Vc([h,A.pathnameBase]))}return y}function n5(e,r){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[i,s]=a0e(e.path,e.caseSensitive,e.end),f=r.match(i);if(!f)return null;let h=f[0],y=h.replace(/(.)\/+$/,"$1"),_=f.slice(1);return{params:s.reduce((w,x,A)=>{let{paramName:P,isOptional:R}=x;if(P==="*"){let O=_[A]||"";y=h.slice(0,h.length-O.length).replace(/(.)\/+$/,"$1")}const E=_[A];return R&&!E?w[P]=void 0:w[P]=(E||"").replace(/%2F/g,"/"),w},{}),pathname:h,pathnameBase:y,pattern:e}}function a0e(e,r,i){r===void 0&&(r=!1),i===void 0&&(i=!0),Dp(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],f="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(y,_,C)=>(s.push({paramName:_,isOptional:C!=null}),C?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),f+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?f+="\\/*$":e!==""&&e!=="/"&&(f+="(?:(?=\\/|$))"),[new RegExp(f,r?void 0:"i"),s]}function s0e(e){try{return e.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Dp(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),e}}function Hv(e,r){if(r==="/")return e;if(!e.toLowerCase().startsWith(r.toLowerCase()))return null;let i=r.endsWith("/")?r.length-1:r.length,s=e.charAt(i);return s&&s!=="/"?null:e.slice(i)||"/"}function u0e(e,r){r===void 0&&(r="/");let{pathname:i,search:s="",hash:f=""}=typeof e=="string"?nd(e):e;return{pathname:i?i.startsWith("/")?i:l0e(i,r):r,search:d0e(s),hash:f0e(f)}}function l0e(e,r){let i=r.replace(/\/+$/,"").split("/");return e.split("/").forEach(f=>{f===".."?i.length>1&&i.pop():f!=="."&&i.push(f)}),i.length>1?i.join("/"):"/"}function tA(e,r,i,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function O8(e){return e.filter((r,i)=>i===0||r.route.path&&r.route.path.length>0)}function xP(e,r){let i=O8(e);return r?i.map((s,f)=>f===i.length-1?s.pathname:s.pathnameBase):i.map(s=>s.pathnameBase)}function AP(e,r,i,s){s===void 0&&(s=!1);let f;typeof e=="string"?f=nd(e):(f=Un({},e),jr(!f.pathname||!f.pathname.includes("?"),tA("?","pathname","search",f)),jr(!f.pathname||!f.pathname.includes("#"),tA("#","pathname","hash",f)),jr(!f.search||!f.search.includes("#"),tA("#","search","hash",f)));let h=e===""||f.pathname==="",y=h?"/":f.pathname,_;if(y==null)_=i;else{let A=r.length-1;if(!s&&y.startsWith("..")){let P=y.split("/");for(;P[0]==="..";)P.shift(),A-=1;f.pathname=P.join("/")}_=A>=0?r[A]:"/"}let C=u0e(f,_),w=y&&y!=="/"&&y.endsWith("/"),x=(h||y===".")&&i.endsWith("/");return!C.pathname.endsWith("/")&&(w||x)&&(C.pathname+="/"),C}const Vc=e=>e.join("/").replace(/\/\/+/g,"/"),c0e=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),d0e=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,f0e=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class VS{constructor(r,i,s,f){f===void 0&&(f=!1),this.status=r,this.statusText=i||"",this.internal=f,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}}function Tv(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const F8=["post","put","patch","delete"],h0e=new Set(F8),p0e=["get",...F8],m0e=new Set(p0e),g0e=new Set([301,302,303,307,308]),v0e=new Set([307,308]),rA={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},y0e={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ag={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},DP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_0e=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),M8="remix-router-transitions";function S0e(e){const r=e.window?e.window:typeof window<"u"?window:void 0,i=typeof r<"u"&&typeof r.document<"u"&&typeof r.document.createElement<"u",s=!i;jr(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let f;if(e.mapRouteProperties)f=e.mapRouteProperties;else if(e.detectErrorBoundary){let Ae=e.detectErrorBoundary;f=Re=>({hasErrorBoundary:Ae(Re)})}else f=_0e;let h={},y=US(e.routes,f,void 0,h),_,C=e.basename||"/",w=e.dataStrategy||w0e,x=e.patchRoutesOnNavigation,A=Un({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),P=null,R=new Set,E=null,O=null,L=null,k=e.hydrationData!=null,N=Vd(y,e.history.location,C),j=!1,G=null;if(N==null&&!x){let Ae=pa(404,{pathname:e.history.location.pathname}),{matches:Re,route:Ue}=p5(y);N=Re,G={[Ue.id]:Ae}}N&&!e.hydrationData&&Er(N,y,e.history.location.pathname).active&&(N=null);let le;if(N)if(N.some(Ae=>Ae.route.lazy))le=!1;else if(!N.some(Ae=>Ae.route.loader))le=!0;else if(A.v7_partialHydration){let Ae=e.hydrationData?e.hydrationData.loaderData:null,Re=e.hydrationData?e.hydrationData.errors:null;if(Re){let Ue=N.findIndex(Xe=>Re[Xe.route.id]!==void 0);le=N.slice(0,Ue+1).every(Xe=>!z1(Xe.route,Ae,Re))}else le=N.every(Ue=>!z1(Ue.route,Ae,Re))}else le=e.hydrationData!=null;else if(le=!1,N=[],A.v7_partialHydration){let Ae=Er(null,y,e.history.location.pathname);Ae.active&&Ae.matches&&(j=!0,N=Ae.matches)}let $,H={historyAction:e.history.action,location:e.history.location,matches:N,initialized:le,navigation:rA,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||G,fetchers:new Map,blockers:new Map},ie=Pi.Pop,pe=!1,se,ce=!1,me=new Map,we=null,ge=!1,Ee=!1,_e=[],Be=new Set,xe=new Map,Ce=0,Ve=-1,rt=new Map,et=new Set,vt=new Map,St=new Map,Se=new Set,ve=new Map,Ie=new Map,Je;function st(){if(P=e.history.listen(Ae=>{let{action:Re,location:Ue,delta:Xe}=Ae;if(Je){Je(),Je=void 0;return}Dp(Ie.size===0||Xe!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Et=on({currentLocation:H.location,nextLocation:Ue,historyAction:Re});if(Et&&Xe!=null){let qt=new Promise(rr=>{Je=rr});e.history.go(Xe*-1),Mr(Et,{state:"blocked",location:Ue,proceed(){Mr(Et,{state:"proceeding",proceed:void 0,reset:void 0,location:Ue}),qt.then(()=>e.history.go(Xe))},reset(){let rr=new Map(H.blockers);rr.set(Et,Ag),Gt({blockers:rr})}});return}return er(Re,Ue)}),i){W0e(r,me);let Ae=()=>j0e(r,me);r.addEventListener("pagehide",Ae),we=()=>r.removeEventListener("pagehide",Ae)}return H.initialized||er(Pi.Pop,H.location,{initialHydration:!0}),$}function lt(){P&&P(),we&&we(),R.clear(),se&&se.abort(),H.fetchers.forEach((Ae,Re)=>Ne(Re)),H.blockers.forEach((Ae,Re)=>Qt(Re))}function Bt(Ae){return R.add(Ae),()=>R.delete(Ae)}function Gt(Ae,Re){Re===void 0&&(Re={}),H=Un({},H,Ae);let Ue=[],Xe=[];A.v7_fetcherPersist&&H.fetchers.forEach((Et,qt)=>{Et.state==="idle"&&(Se.has(qt)?Xe.push(qt):Ue.push(qt))}),Se.forEach(Et=>{!H.fetchers.has(Et)&&!xe.has(Et)&&Xe.push(Et)}),[...R].forEach(Et=>Et(H,{deletedFetchers:Xe,viewTransitionOpts:Re.viewTransitionOpts,flushSync:Re.flushSync===!0})),A.v7_fetcherPersist?(Ue.forEach(Et=>H.fetchers.delete(Et)),Xe.forEach(Et=>Ne(Et))):Xe.forEach(Et=>Se.delete(Et))}function nt(Ae,Re,Ue){var Xe,Et;let{flushSync:qt}=Ue===void 0?{}:Ue,rr=H.actionData!=null&&H.navigation.formMethod!=null&&Ks(H.navigation.formMethod)&&H.navigation.state==="loading"&&((Xe=Ae.state)==null?void 0:Xe._isRedirect)!==!0,Ft;Re.actionData?Object.keys(Re.actionData).length>0?Ft=Re.actionData:Ft=null:rr?Ft=H.actionData:Ft=null;let Ut=Re.loaderData?f5(H.loaderData,Re.loaderData,Re.matches||[],Re.errors):H.loaderData,Pt=H.blockers;Pt.size>0&&(Pt=new Map(Pt),Pt.forEach((xr,Nn)=>Pt.set(Nn,Ag)));let Wt=pe===!0||H.navigation.formMethod!=null&&Ks(H.navigation.formMethod)&&((Et=Ae.state)==null?void 0:Et._isRedirect)!==!0;_&&(y=_,_=void 0),ge||ie===Pi.Pop||(ie===Pi.Push?e.history.push(Ae,Ae.state):ie===Pi.Replace&&e.history.replace(Ae,Ae.state));let cr;if(ie===Pi.Pop){let xr=me.get(H.location.pathname);xr&&xr.has(Ae.pathname)?cr={currentLocation:H.location,nextLocation:Ae}:me.has(Ae.pathname)&&(cr={currentLocation:Ae,nextLocation:H.location})}else if(ce){let xr=me.get(H.location.pathname);xr?xr.add(Ae.pathname):(xr=new Set([Ae.pathname]),me.set(H.location.pathname,xr)),cr={currentLocation:H.location,nextLocation:Ae}}Gt(Un({},Re,{actionData:Ft,loaderData:Ut,historyAction:ie,location:Ae,initialized:!0,navigation:rA,revalidation:"idle",restoreScrollPosition:Lr(Ae,Re.matches||H.matches),preventScrollReset:Wt,blockers:Pt}),{viewTransitionOpts:cr,flushSync:qt===!0}),ie=Pi.Pop,pe=!1,ce=!1,ge=!1,Ee=!1,_e=[]}async function At(Ae,Re){if(typeof Ae=="number"){e.history.go(Ae);return}let Ue=H1(H.location,H.matches,C,A.v7_prependBasename,Ae,A.v7_relativeSplatPath,Re==null?void 0:Re.fromRouteId,Re==null?void 0:Re.relative),{path:Xe,submission:Et,error:qt}=i5(A.v7_normalizeFormMethod,!1,Ue,Re),rr=H.location,Ft=bv(H.location,Xe,Re&&Re.state);Ft=Un({},Ft,e.history.encodeLocation(Ft));let Ut=Re&&Re.replace!=null?Re.replace:void 0,Pt=Pi.Push;Ut===!0?Pt=Pi.Replace:Ut===!1||Et!=null&&Ks(Et.formMethod)&&Et.formAction===H.location.pathname+H.location.search&&(Pt=Pi.Replace);let Wt=Re&&"preventScrollReset"in Re?Re.preventScrollReset===!0:void 0,cr=(Re&&Re.flushSync)===!0,xr=on({currentLocation:rr,nextLocation:Ft,historyAction:Pt});if(xr){Mr(xr,{state:"blocked",location:Ft,proceed(){Mr(xr,{state:"proceeding",proceed:void 0,reset:void 0,location:Ft}),At(Ae,Re)},reset(){let Nn=new Map(H.blockers);Nn.set(xr,Ag),Gt({blockers:Nn})}});return}return await er(Pt,Ft,{submission:Et,pendingError:qt,preventScrollReset:Wt,replace:Re&&Re.replace,enableViewTransition:Re&&Re.viewTransition,flushSync:cr})}function Ot(){if(tr(),Gt({revalidation:"loading"}),H.navigation.state!=="submitting"){if(H.navigation.state==="idle"){er(H.historyAction,H.location,{startUninterruptedRevalidation:!0});return}er(ie||H.historyAction,H.navigation.location,{overrideNavigation:H.navigation,enableViewTransition:ce===!0})}}async function er(Ae,Re,Ue){se&&se.abort(),se=null,ie=Ae,ge=(Ue&&Ue.startUninterruptedRevalidation)===!0,Zt(H.location,H.matches),pe=(Ue&&Ue.preventScrollReset)===!0,ce=(Ue&&Ue.enableViewTransition)===!0;let Xe=_||y,Et=Ue&&Ue.overrideNavigation,qt=Ue!=null&&Ue.initialHydration&&H.matches&&H.matches.length>0&&!j?H.matches:Vd(Xe,Re,C),rr=(Ue&&Ue.flushSync)===!0;if(qt&&H.initialized&&!Ee&&P0e(H.location,Re)&&!(Ue&&Ue.submission&&Ks(Ue.submission.formMethod))){nt(Re,{matches:qt},{flushSync:rr});return}let Ft=Er(qt,Xe,Re.pathname);if(Ft.active&&Ft.matches&&(qt=Ft.matches),!qt){let{error:Yr,notFoundMatches:Vr,route:pn}=Hn(Re.pathname);nt(Re,{matches:Vr,loaderData:{},errors:{[pn.id]:Yr}},{flushSync:rr});return}se=new AbortController;let Ut=Fh(e.history,Re,se.signal,Ue&&Ue.submission),Pt;if(Ue&&Ue.pendingError)Pt=[Gd(qt).route.id,{type:cn.error,error:Ue.pendingError}];else if(Ue&&Ue.submission&&Ks(Ue.submission.formMethod)){let Yr=await rn(Ut,Re,Ue.submission,qt,Ft.active,{replace:Ue.replace,flushSync:rr});if(Yr.shortCircuited)return;if(Yr.pendingActionResult){let[Vr,pn]=Yr.pendingActionResult;if(Ma(pn)&&Tv(pn.error)&&pn.error.status===404){se=null,nt(Re,{matches:Yr.matches,loaderData:{},errors:{[Vr]:pn.error}});return}}qt=Yr.matches||qt,Pt=Yr.pendingActionResult,Et=nA(Re,Ue.submission),rr=!1,Ft.active=!1,Ut=Fh(e.history,Ut.url,Ut.signal)}let{shortCircuited:Wt,matches:cr,loaderData:xr,errors:Nn}=await nn(Ut,Re,qt,Ft.active,Et,Ue&&Ue.submission,Ue&&Ue.fetcherSubmission,Ue&&Ue.replace,Ue&&Ue.initialHydration===!0,rr,Pt);Wt||(se=null,nt(Re,Un({matches:cr||qt},h5(Pt),{loaderData:xr,errors:Nn})))}async function rn(Ae,Re,Ue,Xe,Et,qt){qt===void 0&&(qt={}),tr();let rr=M0e(Re,Ue);if(Gt({navigation:rr},{flushSync:qt.flushSync===!0}),Et){let Pt=await fn(Xe,Re.pathname,Ae.signal);if(Pt.type==="aborted")return{shortCircuited:!0};if(Pt.type==="error"){let Wt=Gd(Pt.partialMatches).route.id;return{matches:Pt.partialMatches,pendingActionResult:[Wt,{type:cn.error,error:Pt.error}]}}else if(Pt.matches)Xe=Pt.matches;else{let{notFoundMatches:Wt,error:cr,route:xr}=Hn(Re.pathname);return{matches:Wt,pendingActionResult:[xr.id,{type:cn.error,error:cr}]}}}let Ft,Ut=Wg(Xe,Re);if(!Ut.route.action&&!Ut.route.lazy)Ft={type:cn.error,error:pa(405,{method:Ae.method,pathname:Re.pathname,routeId:Ut.route.id})};else if(Ft=(await bt("action",H,Ae,[Ut],Xe,null))[Ut.route.id],Ae.signal.aborted)return{shortCircuited:!0};if(Yd(Ft)){let Pt;return qt&&qt.replace!=null?Pt=qt.replace:Pt=l5(Ft.response.headers.get("Location"),new URL(Ae.url),C)===H.location.pathname+H.location.search,await it(Ae,Ft,!0,{submission:Ue,replace:Pt}),{shortCircuited:!0}}if(Rc(Ft))throw pa(400,{type:"defer-action"});if(Ma(Ft)){let Pt=Gd(Xe,Ut.route.id);return(qt&&qt.replace)!==!0&&(ie=Pi.Push),{matches:Xe,pendingActionResult:[Pt.route.id,Ft]}}return{matches:Xe,pendingActionResult:[Ut.route.id,Ft]}}async function nn(Ae,Re,Ue,Xe,Et,qt,rr,Ft,Ut,Pt,Wt){let cr=Et||nA(Re,qt),xr=qt||rr||g5(cr),Nn=!ge&&(!A.v7_partialHydration||!Ut);if(Xe){if(Nn){let hn=Ur(Wt);Gt(Un({navigation:cr},hn!==void 0?{actionData:hn}:{}),{flushSync:Pt})}let Pr=await fn(Ue,Re.pathname,Ae.signal);if(Pr.type==="aborted")return{shortCircuited:!0};if(Pr.type==="error"){let hn=Gd(Pr.partialMatches).route.id;return{matches:Pr.partialMatches,loaderData:{},errors:{[hn]:Pr.error}}}else if(Pr.matches)Ue=Pr.matches;else{let{error:hn,notFoundMatches:ru,route:_s}=Hn(Re.pathname);return{matches:ru,loaderData:{},errors:{[_s.id]:hn}}}}let Yr=_||y,[Vr,pn]=a5(e.history,H,Ue,xr,Re,A.v7_partialHydration&&Ut===!0,A.v7_skipActionErrorRevalidation,Ee,_e,Be,Se,vt,et,Yr,C,Wt);if(ii(Pr=>!(Ue&&Ue.some(hn=>hn.route.id===Pr))||Vr&&Vr.some(hn=>hn.route.id===Pr)),Ve=++Ce,Vr.length===0&&pn.length===0){let Pr=Tt();return nt(Re,Un({matches:Ue,loaderData:{},errors:Wt&&Ma(Wt[1])?{[Wt[0]]:Wt[1].error}:null},h5(Wt),Pr?{fetchers:new Map(H.fetchers)}:{}),{flushSync:Pt}),{shortCircuited:!0}}if(Nn){let Pr={};if(!Xe){Pr.navigation=cr;let hn=Ur(Wt);hn!==void 0&&(Pr.actionData=hn)}pn.length>0&&(Pr.fetchers=Tn(pn)),Gt(Pr,{flushSync:Pt})}pn.forEach(Pr=>{Ze(Pr.key),Pr.controller&&xe.set(Pr.key,Pr.controller)});let vs=()=>pn.forEach(Pr=>Ze(Pr.key));se&&se.signal.addEventListener("abort",vs);let{loaderResults:Xo,fetcherResults:po}=await xt(H,Ue,Vr,pn,Ae);if(Ae.signal.aborted)return{shortCircuited:!0};se&&se.signal.removeEventListener("abort",vs),pn.forEach(Pr=>xe.delete(Pr.key));let Zo=W0(Xo);if(Zo)return await it(Ae,Zo.result,!0,{replace:Ft}),{shortCircuited:!0};if(Zo=W0(po),Zo)return et.add(Zo.key),await it(Ae,Zo.result,!0,{replace:Ft}),{shortCircuited:!0};let{loaderData:Il,errors:$o}=d5(H,Ue,Xo,Wt,pn,po,ve);ve.forEach((Pr,hn)=>{Pr.subscribe(ru=>{(ru||Pr.done)&&ve.delete(hn)})}),A.v7_partialHydration&&Ut&&H.errors&&($o=Un({},H.errors,$o));let ys=Tt(),El=Jt(Ve),tu=ys||El||pn.length>0;return Un({matches:Ue,loaderData:Il,errors:$o},tu?{fetchers:new Map(H.fetchers)}:{})}function Ur(Ae){if(Ae&&!Ma(Ae[1]))return{[Ae[0]]:Ae[1].data};if(H.actionData)return Object.keys(H.actionData).length===0?null:H.actionData}function Tn(Ae){return Ae.forEach(Re=>{let Ue=H.fetchers.get(Re.key),Xe=Dg(void 0,Ue?Ue.data:void 0);H.fetchers.set(Re.key,Xe)}),new Map(H.fetchers)}function Xr(Ae,Re,Ue,Xe){if(s)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Ze(Ae);let Et=(Xe&&Xe.flushSync)===!0,qt=_||y,rr=H1(H.location,H.matches,C,A.v7_prependBasename,Ue,A.v7_relativeSplatPath,Re,Xe==null?void 0:Xe.relative),Ft=Vd(qt,rr,C),Ut=Er(Ft,qt,rr);if(Ut.active&&Ut.matches&&(Ft=Ut.matches),!Ft){he(Ae,Re,pa(404,{pathname:rr}),{flushSync:Et});return}let{path:Pt,submission:Wt,error:cr}=i5(A.v7_normalizeFormMethod,!0,rr,Xe);if(cr){he(Ae,Re,cr,{flushSync:Et});return}let xr=Wg(Ft,Pt),Nn=(Xe&&Xe.preventScrollReset)===!0;if(Wt&&Ks(Wt.formMethod)){ut(Ae,Re,Pt,xr,Ft,Ut.active,Et,Nn,Wt);return}vt.set(Ae,{routeId:Re,path:Pt}),Tr(Ae,Re,Pt,xr,Ft,Ut.active,Et,Nn,Wt)}async function ut(Ae,Re,Ue,Xe,Et,qt,rr,Ft,Ut){tr(),vt.delete(Ae);function Pt(On){if(!On.route.action&&!On.route.lazy){let nu=pa(405,{method:Ut.formMethod,pathname:Ue,routeId:Re});return he(Ae,Re,nu,{flushSync:rr}),!0}return!1}if(!qt&&Pt(Xe))return;let Wt=H.fetchers.get(Ae);Dt(Ae,L0e(Ut,Wt),{flushSync:rr});let cr=new AbortController,xr=Fh(e.history,Ue,cr.signal,Ut);if(qt){let On=await fn(Et,new URL(xr.url).pathname,xr.signal,Ae);if(On.type==="aborted")return;if(On.type==="error"){he(Ae,Re,On.error,{flushSync:rr});return}else if(On.matches){if(Et=On.matches,Xe=Wg(Et,Ue),Pt(Xe))return}else{he(Ae,Re,pa(404,{pathname:Ue}),{flushSync:rr});return}}xe.set(Ae,cr);let Nn=Ce,Vr=(await bt("action",H,xr,[Xe],Et,Ae))[Xe.route.id];if(xr.signal.aborted){xe.get(Ae)===cr&&xe.delete(Ae);return}if(A.v7_fetcherPersist&&Se.has(Ae)){if(Yd(Vr)||Ma(Vr)){Dt(Ae,hc(void 0));return}}else{if(Yd(Vr))if(xe.delete(Ae),Ve>Nn){Dt(Ae,hc(void 0));return}else return et.add(Ae),Dt(Ae,Dg(Ut)),it(xr,Vr,!1,{fetcherSubmission:Ut,preventScrollReset:Ft});if(Ma(Vr)){he(Ae,Re,Vr.error);return}}if(Rc(Vr))throw pa(400,{type:"defer-action"});let pn=H.navigation.location||H.location,vs=Fh(e.history,pn,cr.signal),Xo=_||y,po=H.navigation.state!=="idle"?Vd(Xo,H.navigation.location,C):H.matches;jr(po,"Didn't find any matches after fetcher action");let Zo=++Ce;rt.set(Ae,Zo);let Il=Dg(Ut,Vr.data);H.fetchers.set(Ae,Il);let[$o,ys]=a5(e.history,H,po,Ut,pn,!1,A.v7_skipActionErrorRevalidation,Ee,_e,Be,Se,vt,et,Xo,C,[Xe.route.id,Vr]);ys.filter(On=>On.key!==Ae).forEach(On=>{let nu=On.key,od=H.fetchers.get(nu),Gp=Dg(void 0,od?od.data:void 0);H.fetchers.set(nu,Gp),Ze(nu),On.controller&&xe.set(nu,On.controller)}),Gt({fetchers:new Map(H.fetchers)});let El=()=>ys.forEach(On=>Ze(On.key));cr.signal.addEventListener("abort",El);let{loaderResults:tu,fetcherResults:Pr}=await xt(H,po,$o,ys,vs);if(cr.signal.aborted)return;cr.signal.removeEventListener("abort",El),rt.delete(Ae),xe.delete(Ae),ys.forEach(On=>xe.delete(On.key));let hn=W0(tu);if(hn)return it(vs,hn.result,!1,{preventScrollReset:Ft});if(hn=W0(Pr),hn)return et.add(hn.key),it(vs,hn.result,!1,{preventScrollReset:Ft});let{loaderData:ru,errors:_s}=d5(H,po,tu,void 0,ys,Pr,ve);if(H.fetchers.has(Ae)){let On=hc(Vr.data);H.fetchers.set(Ae,On)}Jt(Zo),H.navigation.state==="loading"&&Zo>Ve?(jr(ie,"Expected pending action"),se&&se.abort(),nt(H.navigation.location,{matches:po,loaderData:ru,errors:_s,fetchers:new Map(H.fetchers)})):(Gt({errors:_s,loaderData:f5(H.loaderData,ru,po,_s),fetchers:new Map(H.fetchers)}),Ee=!1)}async function Tr(Ae,Re,Ue,Xe,Et,qt,rr,Ft,Ut){let Pt=H.fetchers.get(Ae);Dt(Ae,Dg(Ut,Pt?Pt.data:void 0),{flushSync:rr});let Wt=new AbortController,cr=Fh(e.history,Ue,Wt.signal);if(qt){let Vr=await fn(Et,new URL(cr.url).pathname,cr.signal,Ae);if(Vr.type==="aborted")return;if(Vr.type==="error"){he(Ae,Re,Vr.error,{flushSync:rr});return}else if(Vr.matches)Et=Vr.matches,Xe=Wg(Et,Ue);else{he(Ae,Re,pa(404,{pathname:Ue}),{flushSync:rr});return}}xe.set(Ae,Wt);let xr=Ce,Yr=(await bt("loader",H,cr,[Xe],Et,Ae))[Xe.route.id];if(Rc(Yr)&&(Yr=await PP(Yr,cr.signal,!0)||Yr),xe.get(Ae)===Wt&&xe.delete(Ae),!cr.signal.aborted){if(Se.has(Ae)){Dt(Ae,hc(void 0));return}if(Yd(Yr))if(Ve>xr){Dt(Ae,hc(void 0));return}else{et.add(Ae),await it(cr,Yr,!1,{preventScrollReset:Ft});return}if(Ma(Yr)){he(Ae,Re,Yr.error);return}jr(!Rc(Yr),"Unhandled fetcher deferred data"),Dt(Ae,hc(Yr.data))}}async function it(Ae,Re,Ue,Xe){let{submission:Et,fetcherSubmission:qt,preventScrollReset:rr,replace:Ft}=Xe===void 0?{}:Xe;Re.response.headers.has("X-Remix-Revalidate")&&(Ee=!0);let Ut=Re.response.headers.get("Location");jr(Ut,"Expected a Location header on the redirect Response"),Ut=l5(Ut,new URL(Ae.url),C);let Pt=bv(H.location,Ut,{_isRedirect:!0});if(i){let Vr=!1;if(Re.response.headers.has("X-Remix-Reload-Document"))Vr=!0;else if(DP.test(Ut)){const pn=e.history.createURL(Ut);Vr=pn.origin!==r.location.origin||Hv(pn.pathname,C)==null}if(Vr){Ft?r.location.replace(Ut):r.location.assign(Ut);return}}se=null;let Wt=Ft===!0||Re.response.headers.has("X-Remix-Replace")?Pi.Replace:Pi.Push,{formMethod:cr,formAction:xr,formEncType:Nn}=H.navigation;!Et&&!qt&&cr&&xr&&Nn&&(Et=g5(H.navigation));let Yr=Et||qt;if(v0e.has(Re.response.status)&&Yr&&Ks(Yr.formMethod))await er(Wt,Pt,{submission:Un({},Yr,{formAction:Ut}),preventScrollReset:rr||pe,enableViewTransition:Ue?ce:void 0});else{let Vr=nA(Pt,Et);await er(Wt,Pt,{overrideNavigation:Vr,fetcherSubmission:qt,preventScrollReset:rr||pe,enableViewTransition:Ue?ce:void 0})}}async function bt(Ae,Re,Ue,Xe,Et,qt){let rr,Ft={};try{rr=await I0e(w,Ae,Re,Ue,Xe,Et,qt,h,f)}catch(Ut){return Xe.forEach(Pt=>{Ft[Pt.route.id]={type:cn.error,error:Ut}}),Ft}for(let[Ut,Pt]of Object.entries(rr))if(R0e(Pt)){let Wt=Pt.result;Ft[Ut]={type:cn.redirect,response:A0e(Wt,Ue,Ut,Et,C,A.v7_relativeSplatPath)}}else Ft[Ut]=await x0e(Pt);return Ft}async function xt(Ae,Re,Ue,Xe,Et){let qt=Ae.matches,rr=bt("loader",Ae,Et,Ue,Re,null),Ft=Promise.all(Xe.map(async Wt=>{if(Wt.matches&&Wt.match&&Wt.controller){let xr=(await bt("loader",Ae,Fh(e.history,Wt.path,Wt.controller.signal),[Wt.match],Wt.matches,Wt.key))[Wt.match.route.id];return{[Wt.key]:xr}}else return Promise.resolve({[Wt.key]:{type:cn.error,error:pa(404,{pathname:Wt.path})}})})),Ut=await rr,Pt=(await Ft).reduce((Wt,cr)=>Object.assign(Wt,cr),{});return await Promise.all([O0e(Re,Ut,Et.signal,qt,Ae.loaderData),F0e(Re,Pt,Xe)]),{loaderResults:Ut,fetcherResults:Pt}}function tr(){Ee=!0,_e.push(...ii()),vt.forEach((Ae,Re)=>{xe.has(Re)&&Be.add(Re),Ze(Re)})}function Dt(Ae,Re,Ue){Ue===void 0&&(Ue={}),H.fetchers.set(Ae,Re),Gt({fetchers:new Map(H.fetchers)},{flushSync:(Ue&&Ue.flushSync)===!0})}function he(Ae,Re,Ue,Xe){Xe===void 0&&(Xe={});let Et=Gd(H.matches,Re);Ne(Ae),Gt({errors:{[Et.route.id]:Ue},fetchers:new Map(H.fetchers)},{flushSync:(Xe&&Xe.flushSync)===!0})}function pr(Ae){return St.set(Ae,(St.get(Ae)||0)+1),Se.has(Ae)&&Se.delete(Ae),H.fetchers.get(Ae)||y0e}function Ne(Ae){let Re=H.fetchers.get(Ae);xe.has(Ae)&&!(Re&&Re.state==="loading"&&rt.has(Ae))&&Ze(Ae),vt.delete(Ae),rt.delete(Ae),et.delete(Ae),A.v7_fetcherPersist&&Se.delete(Ae),Be.delete(Ae),H.fetchers.delete(Ae)}function Le(Ae){let Re=(St.get(Ae)||0)-1;Re<=0?(St.delete(Ae),Se.add(Ae),A.v7_fetcherPersist||Ne(Ae)):St.set(Ae,Re),Gt({fetchers:new Map(H.fetchers)})}function Ze(Ae){let Re=xe.get(Ae);Re&&(Re.abort(),xe.delete(Ae))}function ot(Ae){for(let Re of Ae){let Ue=pr(Re),Xe=hc(Ue.data);H.fetchers.set(Re,Xe)}}function Tt(){let Ae=[],Re=!1;for(let Ue of et){let Xe=H.fetchers.get(Ue);jr(Xe,"Expected fetcher: "+Ue),Xe.state==="loading"&&(et.delete(Ue),Ae.push(Ue),Re=!0)}return ot(Ae),Re}function Jt(Ae){let Re=[];for(let[Ue,Xe]of rt)if(Xe<Ae){let Et=H.fetchers.get(Ue);jr(Et,"Expected fetcher: "+Ue),Et.state==="loading"&&(Ze(Ue),rt.delete(Ue),Re.push(Ue))}return ot(Re),Re.length>0}function lr(Ae,Re){let Ue=H.blockers.get(Ae)||Ag;return Ie.get(Ae)!==Re&&Ie.set(Ae,Re),Ue}function Qt(Ae){H.blockers.delete(Ae),Ie.delete(Ae)}function Mr(Ae,Re){let Ue=H.blockers.get(Ae)||Ag;jr(Ue.state==="unblocked"&&Re.state==="blocked"||Ue.state==="blocked"&&Re.state==="blocked"||Ue.state==="blocked"&&Re.state==="proceeding"||Ue.state==="blocked"&&Re.state==="unblocked"||Ue.state==="proceeding"&&Re.state==="unblocked","Invalid blocker state transition: "+Ue.state+" -> "+Re.state);let Xe=new Map(H.blockers);Xe.set(Ae,Re),Gt({blockers:Xe})}function on(Ae){let{currentLocation:Re,nextLocation:Ue,historyAction:Xe}=Ae;if(Ie.size===0)return;Ie.size>1&&Dp(!1,"A router only supports one blocker at a time");let Et=Array.from(Ie.entries()),[qt,rr]=Et[Et.length-1],Ft=H.blockers.get(qt);if(!(Ft&&Ft.state==="proceeding")&&rr({currentLocation:Re,nextLocation:Ue,historyAction:Xe}))return qt}function Hn(Ae){let Re=pa(404,{pathname:Ae}),Ue=_||y,{matches:Xe,route:Et}=p5(Ue);return ii(),{notFoundMatches:Xe,route:Et,error:Re}}function ii(Ae){let Re=[];return ve.forEach((Ue,Xe)=>{(!Ae||Ae(Xe))&&(Ue.cancel(),Re.push(Xe),ve.delete(Xe))}),Re}function zi(Ae,Re,Ue){if(E=Ae,L=Re,O=Ue||null,!k&&H.navigation===rA){k=!0;let Xe=Lr(H.location,H.matches);Xe!=null&&Gt({restoreScrollPosition:Xe})}return()=>{E=null,L=null,O=null}}function Po(Ae,Re){return O&&O(Ae,Re.map(Xe=>q_e(Xe,H.loaderData)))||Ae.key}function Zt(Ae,Re){if(E&&L){let Ue=Po(Ae,Re);E[Ue]=L()}}function Lr(Ae,Re){if(E){let Ue=Po(Ae,Re),Xe=E[Ue];if(typeof Xe=="number")return Xe}return null}function Er(Ae,Re,Ue){if(x)if(Ae){if(Object.keys(Ae[0].params).length>0)return{active:!0,matches:aS(Re,Ue,C,!0)}}else return{active:!0,matches:aS(Re,Ue,C,!0)||[]};return{active:!1,matches:null}}async function fn(Ae,Re,Ue,Xe){if(!x)return{type:"success",matches:Ae};let Et=Ae;for(;;){let qt=_==null,rr=_||y,Ft=h;try{await x({signal:Ue,path:Re,matches:Et,fetcherKey:Xe,patch:(Wt,cr)=>{Ue.aborted||u5(Wt,cr,rr,Ft,f)}})}catch(Wt){return{type:"error",error:Wt,partialMatches:Et}}finally{qt&&!Ue.aborted&&(y=[...y])}if(Ue.aborted)return{type:"aborted"};let Ut=Vd(rr,Re,C);if(Ut)return{type:"success",matches:Ut};let Pt=aS(rr,Re,C,!0);if(!Pt||Et.length===Pt.length&&Et.every((Wt,cr)=>Wt.route.id===Pt[cr].route.id))return{type:"success",matches:null};Et=Pt}}function gi(Ae){h={},_=US(Ae,f,void 0,h)}function io(Ae,Re){let Ue=_==null;u5(Ae,Re,_||y,h,f),Ue&&(y=[...y],Gt({}))}return $={get basename(){return C},get future(){return A},get state(){return H},get routes(){return y},get window(){return r},initialize:st,subscribe:Bt,enableScrollRestoration:zi,navigate:At,fetch:Xr,revalidate:Ot,createHref:Ae=>e.history.createHref(Ae),encodeLocation:Ae=>e.history.encodeLocation(Ae),getFetcher:pr,deleteFetcher:Le,dispose:lt,getBlocker:lr,deleteBlocker:Qt,patchRoutes:io,_internalFetchControllers:xe,_internalActiveDeferreds:ve,_internalSetRoutes:gi},$}function b0e(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function H1(e,r,i,s,f,h,y,_){let C,w;if(y){C=[];for(let A of r)if(C.push(A),A.route.id===y){w=A;break}}else C=r,w=r[r.length-1];let x=AP(f||".",xP(C,h),Hv(e.pathname,i)||e.pathname,_==="path");if(f==null&&(x.search=e.search,x.hash=e.hash),(f==null||f===""||f===".")&&w){let A=RP(x.search);if(w.route.index&&!A)x.search=x.search?x.search.replace(/^\?/,"?index&"):"?index";else if(!w.route.index&&A){let P=new URLSearchParams(x.search),R=P.getAll("index");P.delete("index"),R.filter(O=>O).forEach(O=>P.append("index",O));let E=P.toString();x.search=E?"?"+E:""}}return s&&i!=="/"&&(x.pathname=x.pathname==="/"?i:Vc([i,x.pathname])),Gv(x)}function i5(e,r,i,s){if(!s||!b0e(s))return{path:i};if(s.formMethod&&!N0e(s.formMethod))return{path:i,error:pa(405,{method:s.formMethod})};let f=()=>({path:i,error:pa(400,{type:"invalid-body"})}),h=s.formMethod||"get",y=e?h.toUpperCase():h.toLowerCase(),_=j8(i);if(s.body!==void 0){if(s.formEncType==="text/plain"){if(!Ks(y))return f();let P=typeof s.body=="string"?s.body:s.body instanceof FormData||s.body instanceof URLSearchParams?Array.from(s.body.entries()).reduce((R,E)=>{let[O,L]=E;return""+R+O+"="+L+`
`},""):String(s.body);return{path:i,submission:{formMethod:y,formAction:_,formEncType:s.formEncType,formData:void 0,json:void 0,text:P}}}else if(s.formEncType==="application/json"){if(!Ks(y))return f();try{let P=typeof s.body=="string"?JSON.parse(s.body):s.body;return{path:i,submission:{formMethod:y,formAction:_,formEncType:s.formEncType,formData:void 0,json:P,text:void 0}}}catch{return f()}}}jr(typeof FormData=="function","FormData is not available in this environment");let C,w;if(s.formData)C=K1(s.formData),w=s.formData;else if(s.body instanceof FormData)C=K1(s.body),w=s.body;else if(s.body instanceof URLSearchParams)C=s.body,w=c5(C);else if(s.body==null)C=new URLSearchParams,w=new FormData;else try{C=new URLSearchParams(s.body),w=c5(C)}catch{return f()}let x={formMethod:y,formAction:_,formEncType:s&&s.formEncType||"application/x-www-form-urlencoded",formData:w,json:void 0,text:void 0};if(Ks(x.formMethod))return{path:i,submission:x};let A=nd(i);return r&&A.search&&RP(A.search)&&C.append("index",""),A.search="?"+C,{path:Gv(A),submission:x}}function o5(e,r,i){i===void 0&&(i=!1);let s=e.findIndex(f=>f.route.id===r);return s>=0?e.slice(0,i?s+1:s):e}function a5(e,r,i,s,f,h,y,_,C,w,x,A,P,R,E,O){let L=O?Ma(O[1])?O[1].error:O[1].data:void 0,k=e.createURL(r.location),N=e.createURL(f),j=i;h&&r.errors?j=o5(i,Object.keys(r.errors)[0],!0):O&&Ma(O[1])&&(j=o5(i,O[0]));let G=O?O[1].statusCode:void 0,le=y&&G&&G>=400,$=j.filter((ie,pe)=>{let{route:se}=ie;if(se.lazy)return!0;if(se.loader==null)return!1;if(h)return z1(se,r.loaderData,r.errors);if(T0e(r.loaderData,r.matches[pe],ie)||C.some(we=>we===ie.route.id))return!0;let ce=r.matches[pe],me=ie;return s5(ie,Un({currentUrl:k,currentParams:ce.params,nextUrl:N,nextParams:me.params},s,{actionResult:L,actionStatus:G,defaultShouldRevalidate:le?!1:_||k.pathname+k.search===N.pathname+N.search||k.search!==N.search||L8(ce,me)}))}),H=[];return A.forEach((ie,pe)=>{if(h||!i.some(ge=>ge.route.id===ie.routeId)||x.has(pe))return;let se=Vd(R,ie.path,E);if(!se){H.push({key:pe,routeId:ie.routeId,path:ie.path,matches:null,match:null,controller:null});return}let ce=r.fetchers.get(pe),me=Wg(se,ie.path),we=!1;P.has(pe)?we=!1:w.has(pe)?(w.delete(pe),we=!0):ce&&ce.state!=="idle"&&ce.data===void 0?we=_:we=s5(me,Un({currentUrl:k,currentParams:r.matches[r.matches.length-1].params,nextUrl:N,nextParams:i[i.length-1].params},s,{actionResult:L,actionStatus:G,defaultShouldRevalidate:le?!1:_})),we&&H.push({key:pe,routeId:ie.routeId,path:ie.path,matches:se,match:me,controller:new AbortController})}),[$,H]}function z1(e,r,i){if(e.lazy)return!0;if(!e.loader)return!1;let s=r!=null&&r[e.id]!==void 0,f=i!=null&&i[e.id]!==void 0;return!s&&f?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!s&&!f}function T0e(e,r,i){let s=!r||i.route.id!==r.route.id,f=e[i.route.id]===void 0;return s||f}function L8(e,r){let i=e.route.path;return e.pathname!==r.pathname||i!=null&&i.endsWith("*")&&e.params["*"]!==r.params["*"]}function s5(e,r){if(e.route.shouldRevalidate){let i=e.route.shouldRevalidate(r);if(typeof i=="boolean")return i}return r.defaultShouldRevalidate}function u5(e,r,i,s,f){var h;let y;if(e){let w=s[e];jr(w,"No route found to patch children into: routeId = "+e),w.children||(w.children=[]),y=w.children}else y=i;let _=r.filter(w=>!y.some(x=>W8(w,x))),C=US(_,f,[e||"_","patch",String(((h=y)==null?void 0:h.length)||"0")],s);y.push(...C)}function W8(e,r){return"id"in e&&"id"in r&&e.id===r.id?!0:e.index===r.index&&e.path===r.path&&e.caseSensitive===r.caseSensitive?(!e.children||e.children.length===0)&&(!r.children||r.children.length===0)?!0:e.children.every((i,s)=>{var f;return(f=r.children)==null?void 0:f.some(h=>W8(i,h))}):!1}async function C0e(e,r,i){if(!e.lazy)return;let s=await e.lazy();if(!e.lazy)return;let f=i[e.id];jr(f,"No route found in manifest");let h={};for(let y in s){let C=f[y]!==void 0&&y!=="hasErrorBoundary";Dp(!C,'Route "'+f.id+'" has a static property "'+y+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+y+'" will be ignored.')),!C&&!Q_e.has(y)&&(h[y]=s[y])}Object.assign(f,h),Object.assign(f,Un({},r(f),{lazy:void 0}))}async function w0e(e){let{matches:r}=e,i=r.filter(f=>f.shouldLoad);return(await Promise.all(i.map(f=>f.resolve()))).reduce((f,h,y)=>Object.assign(f,{[i[y].route.id]:h}),{})}async function I0e(e,r,i,s,f,h,y,_,C,w){let x=h.map(R=>R.route.lazy?C0e(R.route,C,_):void 0),A=h.map((R,E)=>{let O=x[E],L=f.some(N=>N.route.id===R.route.id);return Un({},R,{shouldLoad:L,resolve:async N=>(N&&s.method==="GET"&&(R.route.lazy||R.route.loader)&&(L=!0),L?E0e(r,s,R,O,N,w):Promise.resolve({type:cn.data,result:void 0}))})}),P=await e({matches:A,request:s,params:h[0].params,fetcherKey:y,context:w});try{await Promise.all(x)}catch{}return P}async function E0e(e,r,i,s,f,h){let y,_,C=w=>{let x,A=new Promise((E,O)=>x=O);_=()=>x(),r.signal.addEventListener("abort",_);let P=E=>typeof w!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+i.route.id+"]"))):w({request:r,params:i.params,context:h},...E!==void 0?[E]:[]),R=(async()=>{try{return{type:"data",result:await(f?f(O=>P(O)):P())}}catch(E){return{type:"error",result:E}}})();return Promise.race([R,A])};try{let w=i.route[e];if(s)if(w){let x,[A]=await Promise.all([C(w).catch(P=>{x=P}),s]);if(x!==void 0)throw x;y=A}else if(await s,w=i.route[e],w)y=await C(w);else if(e==="action"){let x=new URL(r.url),A=x.pathname+x.search;throw pa(405,{method:r.method,pathname:A,routeId:i.route.id})}else return{type:cn.data,result:void 0};else if(w)y=await C(w);else{let x=new URL(r.url),A=x.pathname+x.search;throw pa(404,{pathname:A})}jr(y.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+i.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(w){return{type:cn.error,result:w}}finally{_&&r.signal.removeEventListener("abort",_)}return y}async function x0e(e){let{result:r,type:i}=e;if(B8(r)){let A;try{let P=r.headers.get("Content-Type");P&&/\bapplication\/json\b/.test(P)?r.body==null?A=null:A=await r.json():A=await r.text()}catch(P){return{type:cn.error,error:P}}return i===cn.error?{type:cn.error,error:new VS(r.status,r.statusText,A),statusCode:r.status,headers:r.headers}:{type:cn.data,data:A,statusCode:r.status,headers:r.headers}}if(i===cn.error){if(m5(r)){var s,f;if(r.data instanceof Error){var h,y;return{type:cn.error,error:r.data,statusCode:(h=r.init)==null?void 0:h.status,headers:(y=r.init)!=null&&y.headers?new Headers(r.init.headers):void 0}}return{type:cn.error,error:new VS(((s=r.init)==null?void 0:s.status)||500,void 0,r.data),statusCode:Tv(r)?r.status:void 0,headers:(f=r.init)!=null&&f.headers?new Headers(r.init.headers):void 0}}return{type:cn.error,error:r,statusCode:Tv(r)?r.status:void 0}}if(k0e(r)){var _,C;return{type:cn.deferred,deferredData:r,statusCode:(_=r.init)==null?void 0:_.status,headers:((C=r.init)==null?void 0:C.headers)&&new Headers(r.init.headers)}}if(m5(r)){var w,x;return{type:cn.data,data:r.data,statusCode:(w=r.init)==null?void 0:w.status,headers:(x=r.init)!=null&&x.headers?new Headers(r.init.headers):void 0}}return{type:cn.data,data:r}}function A0e(e,r,i,s,f,h){let y=e.headers.get("Location");if(jr(y,"Redirects returned/thrown from loaders/actions must have a Location header"),!DP.test(y)){let _=s.slice(0,s.findIndex(C=>C.route.id===i)+1);y=H1(new URL(r.url),_,f,!0,y,h),e.headers.set("Location",y)}return e}function l5(e,r,i){if(DP.test(e)){let s=e,f=s.startsWith("//")?new URL(r.protocol+s):new URL(s),h=Hv(f.pathname,i)!=null;if(f.origin===r.origin&&h)return f.pathname+f.search+f.hash}return e}function Fh(e,r,i,s){let f=e.createURL(j8(r)).toString(),h={signal:i};if(s&&Ks(s.formMethod)){let{formMethod:y,formEncType:_}=s;h.method=y.toUpperCase(),_==="application/json"?(h.headers=new Headers({"Content-Type":_}),h.body=JSON.stringify(s.json)):_==="text/plain"?h.body=s.text:_==="application/x-www-form-urlencoded"&&s.formData?h.body=K1(s.formData):h.body=s.formData}return new Request(f,h)}function K1(e){let r=new URLSearchParams;for(let[i,s]of e.entries())r.append(i,typeof s=="string"?s:s.name);return r}function c5(e){let r=new FormData;for(let[i,s]of e.entries())r.append(i,s);return r}function D0e(e,r,i,s,f){let h={},y=null,_,C=!1,w={},x=i&&Ma(i[1])?i[1].error:void 0;return e.forEach(A=>{if(!(A.route.id in r))return;let P=A.route.id,R=r[P];if(jr(!Yd(R),"Cannot handle redirect results in processLoaderData"),Ma(R)){let E=R.error;x!==void 0&&(E=x,x=void 0),y=y||{};{let O=Gd(e,P);y[O.route.id]==null&&(y[O.route.id]=E)}h[P]=void 0,C||(C=!0,_=Tv(R.error)?R.error.status:500),R.headers&&(w[P]=R.headers)}else Rc(R)?(s.set(P,R.deferredData),h[P]=R.deferredData.data,R.statusCode!=null&&R.statusCode!==200&&!C&&(_=R.statusCode),R.headers&&(w[P]=R.headers)):(h[P]=R.data,R.statusCode&&R.statusCode!==200&&!C&&(_=R.statusCode),R.headers&&(w[P]=R.headers))}),x!==void 0&&i&&(y={[i[0]]:x},h[i[0]]=void 0),{loaderData:h,errors:y,statusCode:_||200,loaderHeaders:w}}function d5(e,r,i,s,f,h,y){let{loaderData:_,errors:C}=D0e(r,i,s,y);return f.forEach(w=>{let{key:x,match:A,controller:P}=w,R=h[x];if(jr(R,"Did not find corresponding fetcher result"),!(P&&P.signal.aborted))if(Ma(R)){let E=Gd(e.matches,A==null?void 0:A.route.id);C&&C[E.route.id]||(C=Un({},C,{[E.route.id]:R.error})),e.fetchers.delete(x)}else if(Yd(R))jr(!1,"Unhandled fetcher revalidation redirect");else if(Rc(R))jr(!1,"Unhandled fetcher deferred data");else{let E=hc(R.data);e.fetchers.set(x,E)}}),{loaderData:_,errors:C}}function f5(e,r,i,s){let f=Un({},r);for(let h of i){let y=h.route.id;if(r.hasOwnProperty(y)?r[y]!==void 0&&(f[y]=r[y]):e[y]!==void 0&&h.route.loader&&(f[y]=e[y]),s&&s.hasOwnProperty(y))break}return f}function h5(e){return e?Ma(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Gd(e,r){return(r?e.slice(0,e.findIndex(s=>s.route.id===r)+1):[...e]).reverse().find(s=>s.route.hasErrorBoundary===!0)||e[0]}function p5(e){let r=e.length===1?e[0]:e.find(i=>i.index||!i.path||i.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:r}],route:r}}function pa(e,r){let{pathname:i,routeId:s,method:f,type:h,message:y}=r===void 0?{}:r,_="Unknown Server Error",C="Unknown @remix-run/router error";return e===400?(_="Bad Request",f&&i&&s?C="You made a "+f+' request to "'+i+'" but '+('did not provide a `loader` for route "'+s+'", ')+"so there is no way to handle the request.":h==="defer-action"?C="defer() is not supported in actions":h==="invalid-body"&&(C="Unable to encode submission body")):e===403?(_="Forbidden",C='Route "'+s+'" does not match URL "'+i+'"'):e===404?(_="Not Found",C='No route matches URL "'+i+'"'):e===405&&(_="Method Not Allowed",f&&i&&s?C="You made a "+f.toUpperCase()+' request to "'+i+'" but '+('did not provide an `action` for route "'+s+'", ')+"so there is no way to handle the request.":f&&(C='Invalid request method "'+f.toUpperCase()+'"')),new VS(e||500,_,new Error(C),!0)}function W0(e){let r=Object.entries(e);for(let i=r.length-1;i>=0;i--){let[s,f]=r[i];if(Yd(f))return{key:s,result:f}}}function j8(e){let r=typeof e=="string"?nd(e):e;return Gv(Un({},r,{hash:""}))}function P0e(e,r){return e.pathname!==r.pathname||e.search!==r.search?!1:e.hash===""?r.hash!=="":e.hash===r.hash?!0:r.hash!==""}function R0e(e){return B8(e.result)&&g0e.has(e.result.status)}function Rc(e){return e.type===cn.deferred}function Ma(e){return e.type===cn.error}function Yd(e){return(e&&e.type)===cn.redirect}function m5(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function k0e(e){let r=e;return r&&typeof r=="object"&&typeof r.data=="object"&&typeof r.subscribe=="function"&&typeof r.cancel=="function"&&typeof r.resolveData=="function"}function B8(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function N0e(e){return m0e.has(e.toLowerCase())}function Ks(e){return h0e.has(e.toLowerCase())}async function O0e(e,r,i,s,f){let h=Object.entries(r);for(let y=0;y<h.length;y++){let[_,C]=h[y],w=e.find(P=>(P==null?void 0:P.route.id)===_);if(!w)continue;let x=s.find(P=>P.route.id===w.route.id),A=x!=null&&!L8(x,w)&&(f&&f[w.route.id])!==void 0;Rc(C)&&A&&await PP(C,i,!1).then(P=>{P&&(r[_]=P)})}}async function F0e(e,r,i){for(let s=0;s<i.length;s++){let{key:f,routeId:h,controller:y}=i[s],_=r[f];e.find(w=>(w==null?void 0:w.route.id)===h)&&Rc(_)&&(jr(y,"Expected an AbortController for revalidating fetcher deferred result"),await PP(_,y.signal,!0).then(w=>{w&&(r[f]=w)}))}}async function PP(e,r,i){if(i===void 0&&(i=!1),!await e.deferredData.resolveData(r)){if(i)try{return{type:cn.data,data:e.deferredData.unwrappedData}}catch(f){return{type:cn.error,error:f}}return{type:cn.data,data:e.deferredData.data}}}function RP(e){return new URLSearchParams(e).getAll("index").some(r=>r==="")}function Wg(e,r){let i=typeof r=="string"?nd(r).search:r.search;if(e[e.length-1].route.index&&RP(i||""))return e[e.length-1];let s=O8(e);return s[s.length-1]}function g5(e){let{formMethod:r,formAction:i,formEncType:s,text:f,formData:h,json:y}=e;if(!(!r||!i||!s)){if(f!=null)return{formMethod:r,formAction:i,formEncType:s,formData:void 0,json:void 0,text:f};if(h!=null)return{formMethod:r,formAction:i,formEncType:s,formData:h,json:void 0,text:void 0};if(y!==void 0)return{formMethod:r,formAction:i,formEncType:s,formData:void 0,json:y,text:void 0}}}function nA(e,r){return r?{state:"loading",location:e,formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function M0e(e,r){return{state:"submitting",location:e,formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text}}function Dg(e,r){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:r}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function L0e(e,r){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:r?r.data:void 0}}function hc(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function W0e(e,r){try{let i=e.sessionStorage.getItem(M8);if(i){let s=JSON.parse(i);for(let[f,h]of Object.entries(s||{}))h&&Array.isArray(h)&&r.set(f,new Set(h||[]))}}catch{}}function j0e(e,r){if(r.size>0){let i={};for(let[s,f]of r)i[s]=[...f];try{e.sessionStorage.setItem(M8,JSON.stringify(i))}catch(s){Dp(!1,"Failed to save applied view transitions in sessionStorage ("+s+").")}}}/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function GS(){return GS=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},GS.apply(this,arguments)}const Pb=z.createContext(null),U8=z.createContext(null),zv=z.createContext(null),kP=z.createContext(null),id=z.createContext({outlet:null,matches:[],isDataRoute:!1}),V8=z.createContext(null);function Kv(){return z.useContext(kP)!=null}function Rb(){return Kv()||jr(!1),z.useContext(kP).location}function G8(e){z.useContext(zv).static||z.useLayoutEffect(e)}function Qv(){let{isDataRoute:e}=z.useContext(id);return e?Z0e():B0e()}function B0e(){Kv()||jr(!1);let e=z.useContext(Pb),{basename:r,future:i,navigator:s}=z.useContext(zv),{matches:f}=z.useContext(id),{pathname:h}=Rb(),y=JSON.stringify(xP(f,i.v7_relativeSplatPath)),_=z.useRef(!1);return G8(()=>{_.current=!0}),z.useCallback(function(w,x){if(x===void 0&&(x={}),!_.current)return;if(typeof w=="number"){s.go(w);return}let A=AP(w,JSON.parse(y),h,x.relative==="path");e==null&&r!=="/"&&(A.pathname=A.pathname==="/"?r:Vc([r,A.pathname])),(x.replace?s.replace:s.push)(A,x.state,x)},[r,s,y,h,e])}function U0e(){let{matches:e}=z.useContext(id),r=e[e.length-1];return r?r.params:{}}function V0e(e,r,i,s){Kv()||jr(!1);let{navigator:f}=z.useContext(zv),{matches:h}=z.useContext(id),y=h[h.length-1],_=y?y.params:{};y&&y.pathname;let C=y?y.pathnameBase:"/";y&&y.route;let w=Rb(),x;x=w;let A=x.pathname||"/",P=A;if(C!=="/"){let O=C.replace(/^\//,"").split("/");P="/"+A.replace(/^\//,"").split("/").slice(O.length).join("/")}let R=Vd(e,{pathname:P});return Q0e(R&&R.map(O=>Object.assign({},O,{params:Object.assign({},_,O.params),pathname:Vc([C,f.encodeLocation?f.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?C:Vc([C,f.encodeLocation?f.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),h,i,s)}function G0e(){let e=X0e(),r=Tv(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),i=e instanceof Error?e.stack:null,f={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},r),i?z.createElement("pre",{style:f},i):null,null)}const H0e=z.createElement(G0e,null);class z0e extends z.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,i){return i.location!==r.location||i.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:i.error,location:i.location,revalidation:r.revalidation||i.revalidation}}componentDidCatch(r,i){console.error("React Router caught the following error during render",r,i)}render(){return this.state.error!==void 0?z.createElement(id.Provider,{value:this.props.routeContext},z.createElement(V8.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function K0e(e){let{routeContext:r,match:i,children:s}=e,f=z.useContext(Pb);return f&&f.static&&f.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(f.staticContext._deepestRenderedBoundaryId=i.route.id),z.createElement(id.Provider,{value:r},s)}function Q0e(e,r,i,s){var f;if(r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),e==null){var h;if(!i)return null;if(i.errors)e=i.matches;else if((h=s)!=null&&h.v7_partialHydration&&r.length===0&&!i.initialized&&i.matches.length>0)e=i.matches;else return null}let y=e,_=(f=i)==null?void 0:f.errors;if(_!=null){let x=y.findIndex(A=>A.route.id&&(_==null?void 0:_[A.route.id])!==void 0);x>=0||jr(!1),y=y.slice(0,Math.min(y.length,x+1))}let C=!1,w=-1;if(i&&s&&s.v7_partialHydration)for(let x=0;x<y.length;x++){let A=y[x];if((A.route.HydrateFallback||A.route.hydrateFallbackElement)&&(w=x),A.route.id){let{loaderData:P,errors:R}=i,E=A.route.loader&&P[A.route.id]===void 0&&(!R||R[A.route.id]===void 0);if(A.route.lazy||E){C=!0,w>=0?y=y.slice(0,w+1):y=[y[0]];break}}}return y.reduceRight((x,A,P)=>{let R,E=!1,O=null,L=null;i&&(R=_&&A.route.id?_[A.route.id]:void 0,O=A.route.errorElement||H0e,C&&(w<0&&P===0?(E=!0,L=null):w===P&&(E=!0,L=A.route.hydrateFallbackElement||null)));let k=r.concat(y.slice(0,P+1)),N=()=>{let j;return R?j=O:E?j=L:A.route.Component?j=z.createElement(A.route.Component,null):A.route.element?j=A.route.element:j=x,z.createElement(K0e,{match:A,routeContext:{outlet:x,matches:k,isDataRoute:i!=null},children:j})};return i&&(A.route.ErrorBoundary||A.route.errorElement||P===0)?z.createElement(z0e,{location:i.location,revalidation:i.revalidation,component:O,error:R,children:N(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):N()},null)}var H8=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(H8||{}),HS=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(HS||{});function Y0e(e){let r=z.useContext(Pb);return r||jr(!1),r}function q0e(e){let r=z.useContext(U8);return r||jr(!1),r}function J0e(e){let r=z.useContext(id);return r||jr(!1),r}function z8(e){let r=J0e(),i=r.matches[r.matches.length-1];return i.route.id||jr(!1),i.route.id}function X0e(){var e;let r=z.useContext(V8),i=q0e(HS.UseRouteError),s=z8(HS.UseRouteError);return r!==void 0?r:(e=i.errors)==null?void 0:e[s]}function Z0e(){let{router:e}=Y0e(H8.UseNavigateStable),r=z8(HS.UseNavigateStable),i=z.useRef(!1);return G8(()=>{i.current=!0}),z.useCallback(function(f,h){h===void 0&&(h={}),i.current&&(typeof f=="number"?e.navigate(f):e.navigate(f,GS({fromRouteId:r},h)))},[e,r])}function $0e(e,r){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!r||r.v7_relativeSplatPath),r&&(r.v7_fetcherPersist,r.v7_normalizeFormMethod,r.v7_partialHydration,r.v7_skipActionErrorRevalidation)}function Q1(e){let{to:r,replace:i,state:s,relative:f}=e;Kv()||jr(!1);let{future:h,static:y}=z.useContext(zv),{matches:_}=z.useContext(id),{pathname:C}=Rb(),w=Qv(),x=AP(r,xP(_,h.v7_relativeSplatPath),C,f==="path"),A=JSON.stringify(x);return z.useEffect(()=>w(JSON.parse(A),{replace:i,state:s,relative:f}),[w,A,f,i,s]),null}function eSe(e){let{basename:r="/",children:i=null,location:s,navigationType:f=Pi.Pop,navigator:h,static:y=!1,future:_}=e;Kv()&&jr(!1);let C=r.replace(/^\/*/,"/"),w=z.useMemo(()=>({basename:C,navigator:h,static:y,future:GS({v7_relativeSplatPath:!1},_)}),[C,_,h,y]);typeof s=="string"&&(s=nd(s));let{pathname:x="/",search:A="",hash:P="",state:R=null,key:E="default"}=s,O=z.useMemo(()=>{let L=Hv(x,C);return L==null?null:{location:{pathname:L,search:A,hash:P,state:R,key:E},navigationType:f}},[C,x,A,P,R,E,f]);return O==null?null:z.createElement(zv.Provider,{value:w},z.createElement(kP.Provider,{children:i,value:O}))}new Promise(()=>{});function tSe(e){let r={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(r,{element:z.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(r,{hydrateFallbackElement:z.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(r,{errorElement:z.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zS(){return zS=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},zS.apply(this,arguments)}const rSe="6";try{window.__reactRouterVersion=rSe}catch{}function nSe(e,r){return S0e({basename:void 0,future:zS({},void 0,{v7_prependBasename:!0}),history:H_e({window:void 0}),hydrationData:iSe(),routes:e,mapRouteProperties:tSe,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function iSe(){var e;let r=(e=window)==null?void 0:e.__staticRouterHydrationData;return r&&r.errors&&(r=zS({},r,{errors:oSe(r.errors)})),r}function oSe(e){if(!e)return null;let r=Object.entries(e),i={};for(let[s,f]of r)if(f&&f.__type==="RouteErrorResponse")i[s]=new VS(f.status,f.statusText,f.data,f.internal===!0);else if(f&&f.__type==="Error"){if(f.__subType){let h=window[f.__subType];if(typeof h=="function")try{let y=new h(f.message);y.stack="",i[s]=y}catch{}}if(i[s]==null){let h=new Error(f.message);h.stack="",i[s]=h}}else i[s]=f;return i}const aSe=z.createContext({isTransitioning:!1}),sSe=z.createContext(new Map),uSe="startTransition",v5=dD[uSe],lSe="flushSync",y5=Ype[lSe];function cSe(e){v5?v5(e):e()}function Pg(e){y5?y5(e):e()}let dSe=class{constructor(){this.status="pending",this.promise=new Promise((r,i)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",r(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",i(s))}})}};function fSe(e){let{fallbackElement:r,router:i,future:s}=e,[f,h]=z.useState(i.state),[y,_]=z.useState(),[C,w]=z.useState({isTransitioning:!1}),[x,A]=z.useState(),[P,R]=z.useState(),[E,O]=z.useState(),L=z.useRef(new Map),{v7_startTransition:k}=s||{},N=z.useCallback(ie=>{k?cSe(ie):ie()},[k]),j=z.useCallback((ie,pe)=>{let{deletedFetchers:se,flushSync:ce,viewTransitionOpts:me}=pe;ie.fetchers.forEach((ge,Ee)=>{ge.data!==void 0&&L.current.set(Ee,ge.data)}),se.forEach(ge=>L.current.delete(ge));let we=i.window==null||i.window.document==null||typeof i.window.document.startViewTransition!="function";if(!me||we){ce?Pg(()=>h(ie)):N(()=>h(ie));return}if(ce){Pg(()=>{P&&(x&&x.resolve(),P.skipTransition()),w({isTransitioning:!0,flushSync:!0,currentLocation:me.currentLocation,nextLocation:me.nextLocation})});let ge=i.window.document.startViewTransition(()=>{Pg(()=>h(ie))});ge.finished.finally(()=>{Pg(()=>{A(void 0),R(void 0),_(void 0),w({isTransitioning:!1})})}),Pg(()=>R(ge));return}P?(x&&x.resolve(),P.skipTransition(),O({state:ie,currentLocation:me.currentLocation,nextLocation:me.nextLocation})):(_(ie),w({isTransitioning:!0,flushSync:!1,currentLocation:me.currentLocation,nextLocation:me.nextLocation}))},[i.window,P,x,L,N]);z.useLayoutEffect(()=>i.subscribe(j),[i,j]),z.useEffect(()=>{C.isTransitioning&&!C.flushSync&&A(new dSe)},[C]),z.useEffect(()=>{if(x&&y&&i.window){let ie=y,pe=x.promise,se=i.window.document.startViewTransition(async()=>{N(()=>h(ie)),await pe});se.finished.finally(()=>{A(void 0),R(void 0),_(void 0),w({isTransitioning:!1})}),R(se)}},[N,y,x,i.window]),z.useEffect(()=>{x&&y&&f.location.key===y.location.key&&x.resolve()},[x,P,f.location,y]),z.useEffect(()=>{!C.isTransitioning&&E&&(_(E.state),w({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}),O(void 0))},[C.isTransitioning,E]),z.useEffect(()=>{},[]);let G=z.useMemo(()=>({createHref:i.createHref,encodeLocation:i.encodeLocation,go:ie=>i.navigate(ie),push:(ie,pe,se)=>i.navigate(ie,{state:pe,preventScrollReset:se==null?void 0:se.preventScrollReset}),replace:(ie,pe,se)=>i.navigate(ie,{replace:!0,state:pe,preventScrollReset:se==null?void 0:se.preventScrollReset})}),[i]),le=i.basename||"/",$=z.useMemo(()=>({router:i,navigator:G,static:!1,basename:le}),[i,G,le]),H=z.useMemo(()=>({v7_relativeSplatPath:i.future.v7_relativeSplatPath}),[i.future.v7_relativeSplatPath]);return z.useEffect(()=>$0e(s,i.future),[s,i.future]),z.createElement(z.Fragment,null,z.createElement(Pb.Provider,{value:$},z.createElement(U8.Provider,{value:f},z.createElement(sSe.Provider,{value:L.current},z.createElement(aSe.Provider,{value:C},z.createElement(eSe,{basename:le,location:f.location,navigationType:f.historyAction,navigator:G,future:H},f.initialized||i.future.v7_partialHydration?z.createElement(hSe,{routes:i.routes,future:i.future,state:f}):r))))),null)}const hSe=z.memo(pSe);function pSe(e){let{routes:r,future:i,state:s}=e;return V0e(r,void 0,s,i)}var _5;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(_5||(_5={}));var S5;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(S5||(S5={}));async function wt(e,r={}){var A,P,R,E,O,L,k,N,j,G,le;const i=new Headers(r.headers||{}),s=typeof FormData<"u"&&r.body instanceof FormData;!i.has("Content-Type")&&r.body&&!s&&i.set("Content-Type","application/json");const f=(r.method||"GET").toUpperCase(),h=f!=="GET",y=((P=(A=r.toast)==null?void 0:A.success)==null?void 0:P.enabled)===!0||((R=r.toast)==null?void 0:R.always)===!0&&!h,_=((O=(E=r.toast)==null?void 0:E.error)==null?void 0:O.enabled)===!0,C=r.timeoutMs,w=C?new AbortController:void 0,x=C?setTimeout(()=>w.abort(),C):void 0;try{const $=await fetch(e,{...r,headers:i,credentials:"include",signal:w==null?void 0:w.signal}),H={GET:"Chargement russi",POST:"Cration russie",PUT:"Mise  jour russie",PATCH:"Mise  jour russie",DELETE:"Suppression russie"},ie=((k=(L=r.toast)==null?void 0:L.success)==null?void 0:k.message)||H[f]||"Action effectue",pe=((j=(N=r.toast)==null?void 0:N.error)==null?void 0:j.message)||`Erreur ${$.status}`;if($.ok)y&&_r.info(ie);else if(_){let se;try{if(($.headers.get("content-type")||"").includes("application/json")){const we=await $.clone().json();se=we&&(we.message||we.error)}else se=await $.clone().text()}catch{se=void 0}const ce=se&&se.trim()?se:pe;_r.error(ce)}return $}catch($){const H=$ instanceof DOMException&&$.name==="AbortError";_&&_r.error(((le=(G=r.toast)==null?void 0:G.error)==null?void 0:le.message)||(H?"Dlai dpass":"Erreur rseau"));const ie=H?499:520,pe={message:H?"Dlai dpass":"Erreur rseau"};return new Response(JSON.stringify(pe),{status:ie,statusText:pe.message,headers:{"content-type":"application/json"}})}finally{x&&clearTimeout(x)}}const mSe=()=>{};var b5={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K8=function(e){const r=[];let i=0;for(let s=0;s<e.length;s++){let f=e.charCodeAt(s);f<128?r[i++]=f:f<2048?(r[i++]=f>>6|192,r[i++]=f&63|128):(f&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(f=65536+((f&1023)<<10)+(e.charCodeAt(++s)&1023),r[i++]=f>>18|240,r[i++]=f>>12&63|128,r[i++]=f>>6&63|128,r[i++]=f&63|128):(r[i++]=f>>12|224,r[i++]=f>>6&63|128,r[i++]=f&63|128)}return r},gSe=function(e){const r=[];let i=0,s=0;for(;i<e.length;){const f=e[i++];if(f<128)r[s++]=String.fromCharCode(f);else if(f>191&&f<224){const h=e[i++];r[s++]=String.fromCharCode((f&31)<<6|h&63)}else if(f>239&&f<365){const h=e[i++],y=e[i++],_=e[i++],C=((f&7)<<18|(h&63)<<12|(y&63)<<6|_&63)-65536;r[s++]=String.fromCharCode(55296+(C>>10)),r[s++]=String.fromCharCode(56320+(C&1023))}else{const h=e[i++],y=e[i++];r[s++]=String.fromCharCode((f&15)<<12|(h&63)<<6|y&63)}}return r.join("")},Q8={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,r){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=r?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let f=0;f<e.length;f+=3){const h=e[f],y=f+1<e.length,_=y?e[f+1]:0,C=f+2<e.length,w=C?e[f+2]:0,x=h>>2,A=(h&3)<<4|_>>4;let P=(_&15)<<2|w>>6,R=w&63;C||(R=64,y||(P=64)),s.push(i[x],i[A],i[P],i[R])}return s.join("")},encodeString(e,r){return this.HAS_NATIVE_SUPPORT&&!r?btoa(e):this.encodeByteArray(K8(e),r)},decodeString(e,r){return this.HAS_NATIVE_SUPPORT&&!r?atob(e):gSe(this.decodeStringToByteArray(e,r))},decodeStringToByteArray(e,r){this.init_();const i=r?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let f=0;f<e.length;){const h=i[e.charAt(f++)],_=f<e.length?i[e.charAt(f)]:0;++f;const w=f<e.length?i[e.charAt(f)]:64;++f;const A=f<e.length?i[e.charAt(f)]:64;if(++f,h==null||_==null||w==null||A==null)throw new vSe;const P=h<<2|_>>4;if(s.push(P),w!==64){const R=_<<4&240|w>>2;if(s.push(R),A!==64){const E=w<<6&192|A;s.push(E)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class vSe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ySe=function(e){const r=K8(e);return Q8.encodeByteArray(r,!0)},Y8=function(e){return ySe(e).replace(/\./g,"")},_Se=function(e){try{return Q8.decodeString(e,!0)}catch(r){console.error("base64Decode failed: ",r)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SSe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bSe=()=>SSe().__FIREBASE_DEFAULTS__,TSe=()=>{if(typeof process>"u"||typeof b5>"u")return;const e=b5.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},CSe=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const r=e&&_Se(e[1]);return r&&JSON.parse(r)},wSe=()=>{try{return mSe()||bSe()||TSe()||CSe()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},q8=()=>{var e;return(e=wSe())==null?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ISe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}wrapCallback(r){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof r=="function"&&(this.promise.catch(()=>{}),r.length===1?r(i):r(i,s))}}}function J8(){try{return typeof indexedDB=="object"}catch{return!1}}function X8(){return new Promise((e,r)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",f=self.indexedDB.open(s);f.onsuccess=()=>{f.result.close(),i||self.indexedDB.deleteDatabase(s),e(!0)},f.onupgradeneeded=()=>{i=!1},f.onerror=()=>{var h;r(((h=f.error)==null?void 0:h.message)||"")}}catch(i){r(i)}})}function ESe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xSe="FirebaseError";class Up extends Error{constructor(r,i,s){super(i),this.code=r,this.customData=s,this.name=xSe,Object.setPrototypeOf(this,Up.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kb.prototype.create)}}class kb{constructor(r,i,s){this.service=r,this.serviceName=i,this.errors=s}create(r,...i){const s=i[0]||{},f=`${this.service}/${r}`,h=this.errors[r],y=h?ASe(h,s):"Error",_=`${this.serviceName}: ${y} (${f}).`;return new Up(f,_,s)}}function ASe(e,r){return e.replace(DSe,(i,s)=>{const f=r[s];return f!=null?String(f):`<${s}?>`})}const DSe=/\{\$([^}]+)}/g;function Y1(e,r){if(e===r)return!0;const i=Object.keys(e),s=Object.keys(r);for(const f of i){if(!s.includes(f))return!1;const h=e[f],y=r[f];if(T5(h)&&T5(y)){if(!Y1(h,y))return!1}else if(h!==y)return!1}for(const f of s)if(!i.includes(f))return!1;return!0}function T5(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NP(e){return e&&e._delegate?e._delegate:e}class Jc{constructor(r,i,s){this.name=r,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(r){return this.instantiationMode=r,this}setMultipleInstances(r){return this.multipleInstances=r,this}setServiceProps(r){return this.serviceProps=r,this}setInstanceCreatedCallback(r){return this.onInstanceCreated=r,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PSe{constructor(r,i){this.name=r,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(r){const i=this.normalizeInstanceIdentifier(r);if(!this.instancesDeferred.has(i)){const s=new ISe;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const f=this.getOrInitializeService({instanceIdentifier:i});f&&s.resolve(f)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(r){const i=this.normalizeInstanceIdentifier(r==null?void 0:r.identifier),s=(r==null?void 0:r.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(f){if(s)return null;throw f}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(r){if(r.name!==this.name)throw Error(`Mismatching Component ${r.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=r,!!this.shouldAutoInitialize()){if(kSe(r))try{this.getOrInitializeService({instanceIdentifier:Ud})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:f});s.resolve(h)}catch{}}}}clearInstance(r=Ud){this.instancesDeferred.delete(r),this.instancesOptions.delete(r),this.instances.delete(r)}async delete(){const r=Array.from(this.instances.values());await Promise.all([...r.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...r.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(r=Ud){return this.instances.has(r)}getOptions(r=Ud){return this.instancesOptions.get(r)||{}}initialize(r={}){const{options:i={}}=r,s=this.normalizeInstanceIdentifier(r.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const f=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,y]of this.instancesDeferred.entries()){const _=this.normalizeInstanceIdentifier(h);s===_&&y.resolve(f)}return f}onInit(r,i){const s=this.normalizeInstanceIdentifier(i),f=this.onInitCallbacks.get(s)??new Set;f.add(r),this.onInitCallbacks.set(s,f);const h=this.instances.get(s);return h&&r(h,s),()=>{f.delete(r)}}invokeOnInitCallbacks(r,i){const s=this.onInitCallbacks.get(i);if(s)for(const f of s)try{f(r,i)}catch{}}getOrInitializeService({instanceIdentifier:r,options:i={}}){let s=this.instances.get(r);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:RSe(r),options:i}),this.instances.set(r,s),this.instancesOptions.set(r,i),this.invokeOnInitCallbacks(s,r),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,r,s)}catch{}return s||null}normalizeInstanceIdentifier(r=Ud){return this.component?this.component.multipleInstances?r:Ud:r}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RSe(e){return e===Ud?void 0:e}function kSe(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NSe{constructor(r){this.name=r,this.providers=new Map}addComponent(r){const i=this.getProvider(r.name);if(i.isComponentSet())throw new Error(`Component ${r.name} has already been registered with ${this.name}`);i.setComponent(r)}addOrOverwriteComponent(r){this.getProvider(r.name).isComponentSet()&&this.providers.delete(r.name),this.addComponent(r)}getProvider(r){if(this.providers.has(r))return this.providers.get(r);const i=new PSe(r,this);return this.providers.set(r,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pn;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Pn||(Pn={}));const OSe={debug:Pn.DEBUG,verbose:Pn.VERBOSE,info:Pn.INFO,warn:Pn.WARN,error:Pn.ERROR,silent:Pn.SILENT},FSe=Pn.INFO,MSe={[Pn.DEBUG]:"log",[Pn.VERBOSE]:"log",[Pn.INFO]:"info",[Pn.WARN]:"warn",[Pn.ERROR]:"error"},LSe=(e,r,...i)=>{if(r<e.logLevel)return;const s=new Date().toISOString(),f=MSe[r];if(f)console[f](`[${s}]  ${e.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${r})`)};class WSe{constructor(r){this.name=r,this._logLevel=FSe,this._logHandler=LSe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(r){if(!(r in Pn))throw new TypeError(`Invalid value "${r}" assigned to \`logLevel\``);this._logLevel=r}setLogLevel(r){this._logLevel=typeof r=="string"?OSe[r]:r}get logHandler(){return this._logHandler}set logHandler(r){if(typeof r!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=r}get userLogHandler(){return this._userLogHandler}set userLogHandler(r){this._userLogHandler=r}debug(...r){this._userLogHandler&&this._userLogHandler(this,Pn.DEBUG,...r),this._logHandler(this,Pn.DEBUG,...r)}log(...r){this._userLogHandler&&this._userLogHandler(this,Pn.VERBOSE,...r),this._logHandler(this,Pn.VERBOSE,...r)}info(...r){this._userLogHandler&&this._userLogHandler(this,Pn.INFO,...r),this._logHandler(this,Pn.INFO,...r)}warn(...r){this._userLogHandler&&this._userLogHandler(this,Pn.WARN,...r),this._logHandler(this,Pn.WARN,...r)}error(...r){this._userLogHandler&&this._userLogHandler(this,Pn.ERROR,...r),this._logHandler(this,Pn.ERROR,...r)}}const jSe=(e,r)=>r.some(i=>e instanceof i);let C5,w5;function BSe(){return C5||(C5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function USe(){return w5||(w5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Z8=new WeakMap,q1=new WeakMap,$8=new WeakMap,iA=new WeakMap,OP=new WeakMap;function VSe(e){const r=new Promise((i,s)=>{const f=()=>{e.removeEventListener("success",h),e.removeEventListener("error",y)},h=()=>{i(ml(e.result)),f()},y=()=>{s(e.error),f()};e.addEventListener("success",h),e.addEventListener("error",y)});return r.then(i=>{i instanceof IDBCursor&&Z8.set(i,e)}).catch(()=>{}),OP.set(r,e),r}function GSe(e){if(q1.has(e))return;const r=new Promise((i,s)=>{const f=()=>{e.removeEventListener("complete",h),e.removeEventListener("error",y),e.removeEventListener("abort",y)},h=()=>{i(),f()},y=()=>{s(e.error||new DOMException("AbortError","AbortError")),f()};e.addEventListener("complete",h),e.addEventListener("error",y),e.addEventListener("abort",y)});q1.set(e,r)}let J1={get(e,r,i){if(e instanceof IDBTransaction){if(r==="done")return q1.get(e);if(r==="objectStoreNames")return e.objectStoreNames||$8.get(e);if(r==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ml(e[r])},set(e,r,i){return e[r]=i,!0},has(e,r){return e instanceof IDBTransaction&&(r==="done"||r==="store")?!0:r in e}};function HSe(e){J1=e(J1)}function zSe(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(r,...i){const s=e.call(oA(this),r,...i);return $8.set(s,r.sort?r.sort():[r]),ml(s)}:USe().includes(e)?function(...r){return e.apply(oA(this),r),ml(Z8.get(this))}:function(...r){return ml(e.apply(oA(this),r))}}function KSe(e){return typeof e=="function"?zSe(e):(e instanceof IDBTransaction&&GSe(e),jSe(e,BSe())?new Proxy(e,J1):e)}function ml(e){if(e instanceof IDBRequest)return VSe(e);if(iA.has(e))return iA.get(e);const r=KSe(e);return r!==e&&(iA.set(e,r),OP.set(r,e)),r}const oA=e=>OP.get(e);function Nb(e,r,{blocked:i,upgrade:s,blocking:f,terminated:h}={}){const y=indexedDB.open(e,r),_=ml(y);return s&&y.addEventListener("upgradeneeded",C=>{s(ml(y.result),C.oldVersion,C.newVersion,ml(y.transaction),C)}),i&&y.addEventListener("blocked",C=>i(C.oldVersion,C.newVersion,C)),_.then(C=>{h&&C.addEventListener("close",()=>h()),f&&C.addEventListener("versionchange",w=>f(w.oldVersion,w.newVersion,w))}).catch(()=>{}),_}function aA(e,{blocked:r}={}){const i=indexedDB.deleteDatabase(e);return r&&i.addEventListener("blocked",s=>r(s.oldVersion,s)),ml(i).then(()=>{})}const QSe=["get","getKey","getAll","getAllKeys","count"],YSe=["put","add","delete","clear"],sA=new Map;function I5(e,r){if(!(e instanceof IDBDatabase&&!(r in e)&&typeof r=="string"))return;if(sA.get(r))return sA.get(r);const i=r.replace(/FromIndex$/,""),s=r!==i,f=YSe.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(f||QSe.includes(i)))return;const h=async function(y,..._){const C=this.transaction(y,f?"readwrite":"readonly");let w=C.store;return s&&(w=w.index(_.shift())),(await Promise.all([w[i](..._),f&&C.done]))[0]};return sA.set(r,h),h}HSe(e=>({...e,get:(r,i,s)=>I5(r,i)||e.get(r,i,s),has:(r,i)=>!!I5(r,i)||e.has(r,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qSe{constructor(r){this.container=r}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(JSe(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function JSe(e){const r=e.getComponent();return(r==null?void 0:r.type)==="VERSION"}const X1="@firebase/app",E5="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cl=new WSe("@firebase/app"),XSe="@firebase/app-compat",ZSe="@firebase/analytics-compat",$Se="@firebase/analytics",ebe="@firebase/app-check-compat",tbe="@firebase/app-check",rbe="@firebase/auth",nbe="@firebase/auth-compat",ibe="@firebase/database",obe="@firebase/data-connect",abe="@firebase/database-compat",sbe="@firebase/functions",ube="@firebase/functions-compat",lbe="@firebase/installations",cbe="@firebase/installations-compat",dbe="@firebase/messaging",fbe="@firebase/messaging-compat",hbe="@firebase/performance",pbe="@firebase/performance-compat",mbe="@firebase/remote-config",gbe="@firebase/remote-config-compat",vbe="@firebase/storage",ybe="@firebase/storage-compat",_be="@firebase/firestore",Sbe="@firebase/ai",bbe="@firebase/firestore-compat",Tbe="firebase";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1="[DEFAULT]",Cbe={[X1]:"fire-core",[XSe]:"fire-core-compat",[$Se]:"fire-analytics",[ZSe]:"fire-analytics-compat",[tbe]:"fire-app-check",[ebe]:"fire-app-check-compat",[rbe]:"fire-auth",[nbe]:"fire-auth-compat",[ibe]:"fire-rtdb",[obe]:"fire-data-connect",[abe]:"fire-rtdb-compat",[sbe]:"fire-fn",[ube]:"fire-fn-compat",[lbe]:"fire-iid",[cbe]:"fire-iid-compat",[dbe]:"fire-fcm",[fbe]:"fire-fcm-compat",[hbe]:"fire-perf",[pbe]:"fire-perf-compat",[mbe]:"fire-rc",[gbe]:"fire-rc-compat",[vbe]:"fire-gcs",[ybe]:"fire-gcs-compat",[_be]:"fire-fst",[bbe]:"fire-fst-compat",[Sbe]:"fire-vertex","fire-js":"fire-js",[Tbe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS=new Map,wbe=new Map,$1=new Map;function x5(e,r){try{e.container.addComponent(r)}catch(i){Cl.debug(`Component ${r.name} failed to register with FirebaseApp ${e.name}`,i)}}function gf(e){const r=e.name;if($1.has(r))return Cl.debug(`There were multiple attempts to register component ${r}.`),!1;$1.set(r,e);for(const i of KS.values())x5(i,e);for(const i of wbe.values())x5(i,e);return!0}function FP(e,r){const i=e.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),e.container.getProvider(r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ibe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gc=new kb("app","Firebase",Ibe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ebe{constructor(r,i,s){this._isDeleted=!1,this._options={...r},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Jc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(r){this.checkDestroyed(),this._automaticDataCollectionEnabled=r}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(r){this._isDeleted=r}checkDestroyed(){if(this.isDeleted)throw Gc.create("app-deleted",{appName:this._name})}}function e7(e,r={}){let i=e;typeof r!="object"&&(r={name:r});const s={name:Z1,automaticDataCollectionEnabled:!0,...r},f=s.name;if(typeof f!="string"||!f)throw Gc.create("bad-app-name",{appName:String(f)});if(i||(i=q8()),!i)throw Gc.create("no-options");const h=KS.get(f);if(h){if(Y1(i,h.options)&&Y1(s,h.config))return h;throw Gc.create("duplicate-app",{appName:f})}const y=new NSe(f);for(const C of $1.values())y.addComponent(C);const _=new Ebe(i,s,y);return KS.set(f,_),_}function xbe(e=Z1){const r=KS.get(e);if(!r&&e===Z1&&q8())return e7();if(!r)throw Gc.create("no-app",{appName:e});return r}function Hc(e,r,i){let s=Cbe[e]??e;i&&(s+=`-${i}`);const f=s.match(/\s|\//),h=r.match(/\s|\//);if(f||h){const y=[`Unable to register library "${s}" with version "${r}":`];f&&y.push(`library name "${s}" contains illegal characters (whitespace or "/")`),f&&h&&y.push("and"),h&&y.push(`version name "${r}" contains illegal characters (whitespace or "/")`),Cl.warn(y.join(" "));return}gf(new Jc(`${s}-version`,()=>({library:s,version:r}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Abe="firebase-heartbeat-database",Dbe=1,Cv="firebase-heartbeat-store";let uA=null;function t7(){return uA||(uA=Nb(Abe,Dbe,{upgrade:(e,r)=>{switch(r){case 0:try{e.createObjectStore(Cv)}catch(i){console.warn(i)}}}}).catch(e=>{throw Gc.create("idb-open",{originalErrorMessage:e.message})})),uA}async function Pbe(e){try{const i=(await t7()).transaction(Cv),s=await i.objectStore(Cv).get(r7(e));return await i.done,s}catch(r){if(r instanceof Up)Cl.warn(r.message);else{const i=Gc.create("idb-get",{originalErrorMessage:r==null?void 0:r.message});Cl.warn(i.message)}}}async function A5(e,r){try{const s=(await t7()).transaction(Cv,"readwrite");await s.objectStore(Cv).put(r,r7(e)),await s.done}catch(i){if(i instanceof Up)Cl.warn(i.message);else{const s=Gc.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Cl.warn(s.message)}}}function r7(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rbe=1024,kbe=30;class Nbe{constructor(r){this.container=r,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Fbe(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var r,i;try{const f=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=D5();if(((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(y=>y.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:f}),this._heartbeatsCache.heartbeats.length>kbe){const y=Mbe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(y,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Cl.warn(s)}}async getHeartbeatsHeader(){var r;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=D5(),{heartbeatsToSend:s,unsentEntries:f}=Obe(this._heartbeatsCache.heartbeats),h=Y8(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,f.length>0?(this._heartbeatsCache.heartbeats=f,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Cl.warn(i),""}}}function D5(){return new Date().toISOString().substring(0,10)}function Obe(e,r=Rbe){const i=[];let s=e.slice();for(const f of e){const h=i.find(y=>y.agent===f.agent);if(h){if(h.dates.push(f.date),P5(i)>r){h.dates.pop();break}}else if(i.push({agent:f.agent,dates:[f.date]}),P5(i)>r){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class Fbe{constructor(r){this.app=r,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return J8()?X8().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Pbe(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(r){if(await this._canUseIndexedDBPromise){const s=await this.read();return A5(this.app,{lastSentHeartbeatDate:r.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:r.heartbeats})}else return}async add(r){if(await this._canUseIndexedDBPromise){const s=await this.read();return A5(this.app,{lastSentHeartbeatDate:r.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...r.heartbeats]})}else return}}function P5(e){return Y8(JSON.stringify({version:2,heartbeats:e})).length}function Mbe(e){if(e.length===0)return-1;let r=0,i=e[0].date;for(let s=1;s<e.length;s++)e[s].date<i&&(i=e[s].date,r=s);return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lbe(e){gf(new Jc("platform-logger",r=>new qSe(r),"PRIVATE")),gf(new Jc("heartbeat",r=>new Nbe(r),"PRIVATE")),Hc(X1,E5,e),Hc(X1,E5,"esm2020"),Hc("fire-js","")}Lbe("");var Wbe="firebase",jbe="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hc(Wbe,jbe,"app");const n7="@firebase/installations",MP="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i7=1e4,o7=`w:${MP}`,a7="FIS_v2",Bbe="https://firebaseinstallations.googleapis.com/v1",Ube=60*60*1e3,Vbe="installations",Gbe="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hbe={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},vf=new kb(Vbe,Gbe,Hbe);function s7(e){return e instanceof Up&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u7({projectId:e}){return`${Bbe}/projects/${e}/installations`}function l7(e){return{token:e.token,requestStatus:2,expiresIn:Kbe(e.expiresIn),creationTime:Date.now()}}async function c7(e,r){const s=(await r.json()).error;return vf.create("request-failed",{requestName:e,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function d7({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function zbe(e,{refreshToken:r}){const i=d7(e);return i.append("Authorization",Qbe(r)),i}async function f7(e){const r=await e();return r.status>=500&&r.status<600?e():r}function Kbe(e){return Number(e.replace("s","000"))}function Qbe(e){return`${a7} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ybe({appConfig:e,heartbeatServiceProvider:r},{fid:i}){const s=u7(e),f=d7(e),h=r.getImmediate({optional:!0});if(h){const w=await h.getHeartbeatsHeader();w&&f.append("x-firebase-client",w)}const y={fid:i,authVersion:a7,appId:e.appId,sdkVersion:o7},_={method:"POST",headers:f,body:JSON.stringify(y)},C=await f7(()=>fetch(s,_));if(C.ok){const w=await C.json();return{fid:w.fid||i,registrationStatus:2,refreshToken:w.refreshToken,authToken:l7(w.authToken)}}else throw await c7("Create Installation",C)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h7(e){return new Promise(r=>{setTimeout(r,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qbe(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jbe=/^[cdef][\w-]{21}$/,eD="";function Xbe(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const i=Zbe(e);return Jbe.test(i)?i:eD}catch{return eD}}function Zbe(e){return qbe(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p7=new Map;function m7(e,r){const i=Ob(e);g7(i,r),$be(i,r)}function g7(e,r){const i=p7.get(e);if(i)for(const s of i)s(r)}function $be(e,r){const i=eTe();i&&i.postMessage({key:e,fid:r}),tTe()}let qd=null;function eTe(){return!qd&&"BroadcastChannel"in self&&(qd=new BroadcastChannel("[Firebase] FID Change"),qd.onmessage=e=>{g7(e.data.key,e.data.fid)}),qd}function tTe(){p7.size===0&&qd&&(qd.close(),qd=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rTe="firebase-installations-database",nTe=1,yf="firebase-installations-store";let lA=null;function LP(){return lA||(lA=Nb(rTe,nTe,{upgrade:(e,r)=>{switch(r){case 0:e.createObjectStore(yf)}}})),lA}async function QS(e,r){const i=Ob(e),f=(await LP()).transaction(yf,"readwrite"),h=f.objectStore(yf),y=await h.get(i);return await h.put(r,i),await f.done,(!y||y.fid!==r.fid)&&m7(e,r.fid),r}async function v7(e){const r=Ob(e),s=(await LP()).transaction(yf,"readwrite");await s.objectStore(yf).delete(r),await s.done}async function Fb(e,r){const i=Ob(e),f=(await LP()).transaction(yf,"readwrite"),h=f.objectStore(yf),y=await h.get(i),_=r(y);return _===void 0?await h.delete(i):await h.put(_,i),await f.done,_&&(!y||y.fid!==_.fid)&&m7(e,_.fid),_}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WP(e){let r;const i=await Fb(e.appConfig,s=>{const f=iTe(s),h=oTe(e,f);return r=h.registrationPromise,h.installationEntry});return i.fid===eD?{installationEntry:await r}:{installationEntry:i,registrationPromise:r}}function iTe(e){const r=e||{fid:Xbe(),registrationStatus:0};return y7(r)}function oTe(e,r){if(r.registrationStatus===0){if(!navigator.onLine){const f=Promise.reject(vf.create("app-offline"));return{installationEntry:r,registrationPromise:f}}const i={fid:r.fid,registrationStatus:1,registrationTime:Date.now()},s=aTe(e,i);return{installationEntry:i,registrationPromise:s}}else return r.registrationStatus===1?{installationEntry:r,registrationPromise:sTe(e)}:{installationEntry:r}}async function aTe(e,r){try{const i=await Ybe(e,r);return QS(e.appConfig,i)}catch(i){throw s7(i)&&i.customData.serverCode===409?await v7(e.appConfig):await QS(e.appConfig,{fid:r.fid,registrationStatus:0}),i}}async function sTe(e){let r=await R5(e.appConfig);for(;r.registrationStatus===1;)await h7(100),r=await R5(e.appConfig);if(r.registrationStatus===0){const{installationEntry:i,registrationPromise:s}=await WP(e);return s||i}return r}function R5(e){return Fb(e,r=>{if(!r)throw vf.create("installation-not-found");return y7(r)})}function y7(e){return uTe(e)?{fid:e.fid,registrationStatus:0}:e}function uTe(e){return e.registrationStatus===1&&e.registrationTime+i7<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lTe({appConfig:e,heartbeatServiceProvider:r},i){const s=cTe(e,i),f=zbe(e,i),h=r.getImmediate({optional:!0});if(h){const w=await h.getHeartbeatsHeader();w&&f.append("x-firebase-client",w)}const y={installation:{sdkVersion:o7,appId:e.appId}},_={method:"POST",headers:f,body:JSON.stringify(y)},C=await f7(()=>fetch(s,_));if(C.ok){const w=await C.json();return l7(w)}else throw await c7("Generate Auth Token",C)}function cTe(e,{fid:r}){return`${u7(e)}/${r}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jP(e,r=!1){let i;const s=await Fb(e.appConfig,h=>{if(!_7(h))throw vf.create("not-registered");const y=h.authToken;if(!r&&hTe(y))return h;if(y.requestStatus===1)return i=dTe(e,r),h;{if(!navigator.onLine)throw vf.create("app-offline");const _=mTe(h);return i=fTe(e,_),_}});return i?await i:s.authToken}async function dTe(e,r){let i=await k5(e.appConfig);for(;i.authToken.requestStatus===1;)await h7(100),i=await k5(e.appConfig);const s=i.authToken;return s.requestStatus===0?jP(e,r):s}function k5(e){return Fb(e,r=>{if(!_7(r))throw vf.create("not-registered");const i=r.authToken;return gTe(i)?{...r,authToken:{requestStatus:0}}:r})}async function fTe(e,r){try{const i=await lTe(e,r),s={...r,authToken:i};return await QS(e.appConfig,s),i}catch(i){if(s7(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await v7(e.appConfig);else{const s={...r,authToken:{requestStatus:0}};await QS(e.appConfig,s)}throw i}}function _7(e){return e!==void 0&&e.registrationStatus===2}function hTe(e){return e.requestStatus===2&&!pTe(e)}function pTe(e){const r=Date.now();return r<e.creationTime||e.creationTime+e.expiresIn<r+Ube}function mTe(e){const r={requestStatus:1,requestTime:Date.now()};return{...e,authToken:r}}function gTe(e){return e.requestStatus===1&&e.requestTime+i7<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vTe(e){const r=e,{installationEntry:i,registrationPromise:s}=await WP(r);return s?s.catch(console.error):jP(r).catch(console.error),i.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yTe(e,r=!1){const i=e;return await _Te(i),(await jP(i,r)).token}async function _Te(e){const{registrationPromise:r}=await WP(e);r&&await r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function STe(e){if(!e||!e.options)throw cA("App Configuration");if(!e.name)throw cA("App Name");const r=["projectId","apiKey","appId"];for(const i of r)if(!e.options[i])throw cA(i);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function cA(e){return vf.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S7="installations",bTe="installations-internal",TTe=e=>{const r=e.getProvider("app").getImmediate(),i=STe(r),s=FP(r,"heartbeat");return{app:r,appConfig:i,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},CTe=e=>{const r=e.getProvider("app").getImmediate(),i=FP(r,S7).getImmediate();return{getId:()=>vTe(i),getToken:f=>yTe(i,f)}};function wTe(){gf(new Jc(S7,TTe,"PUBLIC")),gf(new Jc(bTe,CTe,"PRIVATE"))}wTe();Hc(n7,MP);Hc(n7,MP,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ITe="/firebase-messaging-sw.js",ETe="/firebase-cloud-messaging-push-scope",b7="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",xTe="https://fcmregistrations.googleapis.com/v1",T7="google.c.a.c_id",ATe="google.c.a.c_l",DTe="google.c.a.ts",PTe="google.c.a.e",N5=1e4;var O5;(function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(O5||(O5={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var wv;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(wv||(wv={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function al(e){const r=new Uint8Array(e);return btoa(String.fromCharCode(...r)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function RTe(e){const r="=".repeat((4-e.length%4)%4),i=(e+r).replace(/\-/g,"+").replace(/_/g,"/"),s=atob(i),f=new Uint8Array(s.length);for(let h=0;h<s.length;++h)f[h]=s.charCodeAt(h);return f}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA="fcm_token_details_db",kTe=5,F5="fcm_token_object_Store";async function NTe(e){if("databases"in indexedDB&&!(await indexedDB.databases()).map(h=>h.name).includes(dA))return null;let r=null;return(await Nb(dA,kTe,{upgrade:async(s,f,h,y)=>{if(f<2||!s.objectStoreNames.contains(F5))return;const _=y.objectStore(F5),C=await _.index("fcmSenderId").get(e);if(await _.clear(),!!C){if(f===2){const w=C;if(!w.auth||!w.p256dh||!w.endpoint)return;r={token:w.fcmToken,createTime:w.createTime??Date.now(),subscriptionOptions:{auth:w.auth,p256dh:w.p256dh,endpoint:w.endpoint,swScope:w.swScope,vapidKey:typeof w.vapidKey=="string"?w.vapidKey:al(w.vapidKey)}}}else if(f===3){const w=C;r={token:w.fcmToken,createTime:w.createTime,subscriptionOptions:{auth:al(w.auth),p256dh:al(w.p256dh),endpoint:w.endpoint,swScope:w.swScope,vapidKey:al(w.vapidKey)}}}else if(f===4){const w=C;r={token:w.fcmToken,createTime:w.createTime,subscriptionOptions:{auth:al(w.auth),p256dh:al(w.p256dh),endpoint:w.endpoint,swScope:w.swScope,vapidKey:al(w.vapidKey)}}}}}})).close(),await aA(dA),await aA("fcm_vapid_details_db"),await aA("undefined"),OTe(r)?r:null}function OTe(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:r}=e;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof r.auth=="string"&&r.auth.length>0&&typeof r.p256dh=="string"&&r.p256dh.length>0&&typeof r.endpoint=="string"&&r.endpoint.length>0&&typeof r.swScope=="string"&&r.swScope.length>0&&typeof r.vapidKey=="string"&&r.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FTe="firebase-messaging-database",MTe=1,Iv="firebase-messaging-store";let fA=null;function C7(){return fA||(fA=Nb(FTe,MTe,{upgrade:(e,r)=>{switch(r){case 0:e.createObjectStore(Iv)}}})),fA}async function LTe(e){const r=w7(e),s=await(await C7()).transaction(Iv).objectStore(Iv).get(r);if(s)return s;{const f=await NTe(e.appConfig.senderId);if(f)return await BP(e,f),f}}async function BP(e,r){const i=w7(e),f=(await C7()).transaction(Iv,"readwrite");return await f.objectStore(Iv).put(r,i),await f.done,r}function w7({appConfig:e}){return e.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WTe={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Ao=new kb("messaging","Messaging",WTe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jTe(e,r){const i=await VP(e),s=I7(r),f={method:"POST",headers:i,body:JSON.stringify(s)};let h;try{h=await(await fetch(UP(e.appConfig),f)).json()}catch(y){throw Ao.create("token-subscribe-failed",{errorInfo:y==null?void 0:y.toString()})}if(h.error){const y=h.error.message;throw Ao.create("token-subscribe-failed",{errorInfo:y})}if(!h.token)throw Ao.create("token-subscribe-no-token");return h.token}async function BTe(e,r){const i=await VP(e),s=I7(r.subscriptionOptions),f={method:"PATCH",headers:i,body:JSON.stringify(s)};let h;try{h=await(await fetch(`${UP(e.appConfig)}/${r.token}`,f)).json()}catch(y){throw Ao.create("token-update-failed",{errorInfo:y==null?void 0:y.toString()})}if(h.error){const y=h.error.message;throw Ao.create("token-update-failed",{errorInfo:y})}if(!h.token)throw Ao.create("token-update-no-token");return h.token}async function UTe(e,r){const s={method:"DELETE",headers:await VP(e)};try{const h=await(await fetch(`${UP(e.appConfig)}/${r}`,s)).json();if(h.error){const y=h.error.message;throw Ao.create("token-unsubscribe-failed",{errorInfo:y})}}catch(f){throw Ao.create("token-unsubscribe-failed",{errorInfo:f==null?void 0:f.toString()})}}function UP({projectId:e}){return`${xTe}/projects/${e}/registrations`}async function VP({appConfig:e,installations:r}){const i=await r.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${i}`})}function I7({p256dh:e,auth:r,endpoint:i,vapidKey:s}){const f={web:{endpoint:i,auth:r,p256dh:e}};return s!==b7&&(f.web.applicationPubKey=s),f}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VTe=7*24*60*60*1e3;async function GTe(e){const r=await zTe(e.swRegistration,e.vapidKey),i={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:r.endpoint,auth:al(r.getKey("auth")),p256dh:al(r.getKey("p256dh"))},s=await LTe(e.firebaseDependencies);if(s){if(KTe(s.subscriptionOptions,i))return Date.now()>=s.createTime+VTe?HTe(e,{token:s.token,createTime:Date.now(),subscriptionOptions:i}):s.token;try{await UTe(e.firebaseDependencies,s.token)}catch(f){console.warn(f)}return M5(e.firebaseDependencies,i)}else return M5(e.firebaseDependencies,i)}async function HTe(e,r){try{const i=await BTe(e.firebaseDependencies,r),s={...r,token:i,createTime:Date.now()};return await BP(e.firebaseDependencies,s),i}catch(i){throw i}}async function M5(e,r){const s={token:await jTe(e,r),createTime:Date.now(),subscriptionOptions:r};return await BP(e,s),s.token}async function zTe(e,r){const i=await e.pushManager.getSubscription();return i||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:RTe(r)})}function KTe(e,r){const i=r.vapidKey===e.vapidKey,s=r.endpoint===e.endpoint,f=r.auth===e.auth,h=r.p256dh===e.p256dh;return i&&s&&f&&h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L5(e){const r={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return QTe(r,e),YTe(r,e),qTe(r,e),r}function QTe(e,r){if(!r.notification)return;e.notification={};const i=r.notification.title;i&&(e.notification.title=i);const s=r.notification.body;s&&(e.notification.body=s);const f=r.notification.image;f&&(e.notification.image=f);const h=r.notification.icon;h&&(e.notification.icon=h)}function YTe(e,r){r.data&&(e.data=r.data)}function qTe(e,r){var f,h,y,_;if(!r.fcmOptions&&!((f=r.notification)!=null&&f.click_action))return;e.fcmOptions={};const i=((h=r.fcmOptions)==null?void 0:h.link)??((y=r.notification)==null?void 0:y.click_action);i&&(e.fcmOptions.link=i);const s=(_=r.fcmOptions)==null?void 0:_.analytics_label;s&&(e.fcmOptions.analyticsLabel=s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JTe(e){return typeof e=="object"&&!!e&&T7 in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XTe(e){if(!e||!e.options)throw hA("App Configuration Object");if(!e.name)throw hA("App Name");const r=["projectId","apiKey","appId","messagingSenderId"],{options:i}=e;for(const s of r)if(!i[s])throw hA(s);return{appName:e.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}function hA(e){return Ao.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZTe{constructor(r,i,s){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const f=XTe(r);this.firebaseDependencies={app:r,appConfig:f,installations:i,analyticsProvider:s}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $Te(e){try{e.swRegistration=await navigator.serviceWorker.register(ITe,{scope:ETe}),e.swRegistration.update().catch(()=>{}),await eCe(e.swRegistration)}catch(r){throw Ao.create("failed-service-worker-registration",{browserErrorMessage:r==null?void 0:r.message})}}async function eCe(e){return new Promise((r,i)=>{const s=setTimeout(()=>i(new Error(`Service worker not registered after ${N5} ms`)),N5),f=e.installing||e.waiting;e.active?(clearTimeout(s),r()):f?f.onstatechange=h=>{var y;((y=h.target)==null?void 0:y.state)==="activated"&&(f.onstatechange=null,clearTimeout(s),r())}:(clearTimeout(s),i(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tCe(e,r){if(!r&&!e.swRegistration&&await $Te(e),!(!r&&e.swRegistration)){if(!(r instanceof ServiceWorkerRegistration))throw Ao.create("invalid-sw-registration");e.swRegistration=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rCe(e,r){r?e.vapidKey=r:e.vapidKey||(e.vapidKey=b7)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E7(e,r){if(!navigator)throw Ao.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Ao.create("permission-blocked");return await rCe(e,r==null?void 0:r.vapidKey),await tCe(e,r==null?void 0:r.serviceWorkerRegistration),GTe(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nCe(e,r,i){const s=iCe(r);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(s,{message_id:i[T7],message_name:i[ATe],message_time:i[DTe],message_device_time:Math.floor(Date.now()/1e3)})}function iCe(e){switch(e){case wv.NOTIFICATION_CLICKED:return"notification_open";case wv.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oCe(e,r){const i=r.data;if(!i.isFirebaseMessaging)return;e.onMessageHandler&&i.messageType===wv.PUSH_RECEIVED&&(typeof e.onMessageHandler=="function"?e.onMessageHandler(L5(i)):e.onMessageHandler.next(L5(i)));const s=i.data;JTe(s)&&s[PTe]==="1"&&await nCe(e,i.messageType,s)}const W5="@firebase/messaging",j5="0.12.23";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aCe=e=>{const r=new ZTe(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",i=>oCe(r,i)),r},sCe=e=>{const r=e.getProvider("messaging").getImmediate();return{getToken:s=>E7(r,s)}};function uCe(){gf(new Jc("messaging",aCe,"PUBLIC")),gf(new Jc("messaging-internal",sCe,"PRIVATE")),Hc(W5,j5),Hc(W5,j5,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x7(){try{await X8()}catch{return!1}return typeof window<"u"&&J8()&&ESe()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lCe(e,r){if(!navigator)throw Ao.create("only-available-in-window");return e.onMessageHandler=r,()=>{e.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cCe(e=xbe()){return x7().then(r=>{if(!r)throw Ao.create("unsupported-browser")},r=>{throw Ao.create("indexed-db-unsupported")}),FP(NP(e),"messaging").getImmediate()}async function dCe(e,r){return e=NP(e),E7(e,r)}function fCe(e,r){return e=NP(e),lCe(e,r)}uCe();let pA=null,Pp=null,sS=null,B5=0;function A7(){const e={apiKey:"AIzaSyAkYQVs4XzRdGYzIJjJEPqsJkOT_0y2cB4",authDomain:"archi-drive-c6770.firebaseapp.com",projectId:"archi-drive-c6770",storageBucket:"archi-drive-c6770.firebasestorage.app",messagingSenderId:"839824177718",appId:"1:839824177718:web:952f05d01ac26272a7f697"},r=Object.entries(e).filter(([,i])=>!i).map(([i])=>i);if(r.length)throw new Error(`Missing Firebase env vars: ${r.join(", ")}`);return e}async function D7(){if(!await x7())throw new Error("Firebase messaging is not supported in this browser");pA||(pA=e7(A7())),Pp||(Pp=cCe(pA))}function hCe(){return"/firebase-messaging-sw.js"}async function pCe(){if(!("serviceWorker"in navigator))return null;const e=hCe();try{return await navigator.serviceWorker.register(e,{scope:"/"})}catch(r){const i=typeof window<"u"?window.location.origin:"",s=typeof Notification<"u"?Notification.permission:"",f=r!=null&&r.message?String(r.message):String(r);try{console.error(`Service worker registration failed (${f}). origin=${i} permission=${s} swUrl=${e}`)}catch{}return null}}async function mCe(e){return await D7(),Pp?fCe(Pp,i=>{e(i)}):null}async function mA(e){if(await D7(),!Pp||Notification.permission!=="granted"&&await Notification.requestPermission()!=="granted")return null;const r=await pCe(),i="BEhsZEqpZBkIy1U0pKfB9lt9O2bn-uMn8-vmNVF8WmN-FGvhOhaM39NIfUu_4Ughy0tidPRZtL6OaTMhpuPo1v8",s=A7();let f;try{f=await dCe(Pp,{vapidKey:i,serviceWorkerRegistration:r??void 0})}catch(y){const _=typeof window<"u"?window.location.origin:"",C=typeof Notification<"u"?Notification.permission:"",w=typeof navigator<"u"?"serviceWorker"in navigator:!1,x=!!(r!=null&&r.active),A=`${i.slice(0,8)}...${i.slice(-8)}`,P=y!=null&&y.message?String(y.message):String(y),R=Date.now();if(R-B5>15e3){B5=R;try{console.error(`getToken failed (${P}). origin=${_} permission=${C} serviceWorker=${w} swActive=${x} projectId=${s.projectId} senderId=${s.messagingSenderId} vapid=${A}. Push is blocked/unavailable on this browser/environment.`)}catch{}}return null}if(!f)return null;sS=f;const h=await wt("/api/fcm/token",{method:"POST",body:JSON.stringify({token:f,device:e}),toast:{error:{enabled:!1},success:{enabled:!1}}});if(!h.ok){const y=await h.text().catch(()=>"");try{console.error(`FCM token registration failed: ${h.status} ${y}`)}catch{}return f}return f}async function gCe(){if(sS)try{await wt("/api/fcm/token",{method:"DELETE",body:JSON.stringify({token:sS}),toast:{error:{enabled:!1},success:{enabled:!1}}})}catch{}finally{sS=null}}const vCe="/sonnerie.mp3";function yCe(){try{const e=window.AudioContext||window.webkitAudioContext;if(!e)return;const r=new e,i=r.createOscillator(),s=r.createGain();i.type="sine",i.frequency.value=880,s.gain.value=.05,i.connect(s),s.connect(r.destination),i.start(),setTimeout(()=>{try{i.stop()}catch{}try{r.close()}catch{}},250)}catch{}}async function _Ce(){try{const e=new Audio(vCe);e.preload="auto",e.volume=1,await e.play()}catch{yCe()}}const P7=z.createContext(void 0),SCe=({children:e})=>{const r=rd(),i=(()=>{try{const P=sessionStorage.getItem("auth:user");return P?JSON.parse(P):null}catch{return null}})(),[s,f]=z.useState(i),[h,y]=z.useState(!i);z.useEffect(()=>{let P=null;if(s)return(async()=>{try{try{await mA("web")}catch{}P=await mCe(R=>{var N,j,G;try{_Ce()}catch{}const E=((N=R==null?void 0:R.notification)==null?void 0:N.title)||"Notification",O=((j=R==null?void 0:R.notification)==null?void 0:j.body)||"",L=(G=R==null?void 0:R.data)==null?void 0:G.document_id;_r(O||E,{description:O?E:void 0,action:L?{label:"Ouvrir",onClick:()=>{try{window.location.assign(`/documents/${L}`)}catch{}}}:void 0})})}catch{}})(),()=>{try{P==null||P()}catch{}}},[s]);const _=async(P,R,E)=>{const O=await wt("/api/auth/login",{method:"POST",body:JSON.stringify({identifier:P,password:R,remember:E}),toast:{success:{message:"Connexion russie"},error:{message:"Identifiants invalides"}}});if(!O.ok)return null;const L=await O.json(),k=(L==null?void 0:L.user)??null;if(k){f(k);try{sessionStorage.setItem("auth:user",JSON.stringify(k))}catch{}try{r.clear()}catch{}try{const N=await wt("/api/ui-preferences",{toast:{error:{enabled:!1}}});if(N.ok){const j=await N.json();j.ui_theme&&U5(j.ui_theme),j.ui_accent_color&&V5(j.ui_accent_color)}}catch{}try{await mA("web")}catch{}return k}return null},C=async()=>{try{await gCe()}catch{}f(null);try{sessionStorage.removeItem("auth:user")}catch{}try{r.clear()}catch{}try{wt("/api/auth/logout",{method:"POST",toast:{error:{enabled:!1},success:{enabled:!1}}})}catch{}};z.useEffect(()=>{(async()=>{try{const R=await wt("/api/auth/me",{toast:{error:{enabled:!1}}});if(R.ok){const E=await R.json();f(E);try{sessionStorage.setItem("auth:user",JSON.stringify(E))}catch{}try{await mA("web")}catch{}try{const O=await wt("/api/ui-preferences",{toast:{error:{enabled:!1}}});if(O.ok){const L=await O.json();L.ui_theme&&U5(L.ui_theme),L.ui_accent_color&&V5(L.ui_accent_color)}}catch{}}else if(R.status===401){f(null);try{sessionStorage.removeItem("auth:user")}catch{}}}catch{}finally{y(!1)}})()},[]);const w=P=>s?s.role==="super_admin"||s.role==="admin"||s.role==="agent"&&s.service_id===P:!1,x=P=>s?s.role==="super_admin"||s.role==="admin"||s.role==="agent"&&s.service_id===P:!1,A=P=>s?s.role==="super_admin"||s.role==="admin"||s.role==="agent"&&s.service_id===P:!1;return I.jsx(P7.Provider,{value:{user:s,setUser:f,login:_,logout:C,booting:h,canEdit:w,canDelete:x,canShare:A},children:e})},gs=()=>{const e=z.useContext(P7);if(!e)throw new Error("useAuth must be used within AuthProvider");return e};function U5(e){const r=document.documentElement,i=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)");(e==="system"?i?i.matches:!1:e==="dark")?r.classList.add("dark"):r.classList.remove("dark")}function V5(e){const r=document.documentElement,s={blue:{"--primary":"217 91% 60%","--primary-foreground":"0 0% 100%","--accent":"217 91% 95%","--accent-foreground":"217 91% 35%","--ring":"217 91% 60%","--sidebar-primary":"217 91% 60%","--sidebar-primary-foreground":"0 0% 100%","--sidebar-accent":"217 91% 95%","--sidebar-accent-foreground":"217 91% 35%","--tab-active":"217 91% 60%","--folder-hover":"217 91% 97%"},green:{"--primary":"142 70% 45%","--primary-foreground":"0 0% 100%","--accent":"142 60% 92%","--accent-foreground":"142 70% 30%","--ring":"142 70% 45%","--sidebar-primary":"142 70% 45%","--sidebar-primary-foreground":"0 0% 100%","--sidebar-accent":"142 60% 20%","--sidebar-accent-foreground":"142 70% 70%","--tab-active":"142 70% 45%","--folder-hover":"142 60% 96%"},purple:{"--primary":"262 83% 58%","--primary-foreground":"0 0% 100%","--accent":"262 70% 94%","--accent-foreground":"262 70% 40%","--ring":"262 83% 58%","--sidebar-primary":"262 83% 58%","--sidebar-primary-foreground":"0 0% 100%","--sidebar-accent":"262 40% 22%","--sidebar-accent-foreground":"262 83% 70%","--tab-active":"262 83% 58%","--folder-hover":"262 70% 96%"}}[e];Object.entries(s).forEach(([f,h])=>{r.style.setProperty(f,h)})}const R7=({onFolderClick:e,currentFolderId:r,externalCollapseId:i,onCloseTabByFolderId:s})=>{const{user:f}=gs(),{data:h}=Kr({queryKey:["visible-services",(f==null?void 0:f.id)??0],queryFn:async()=>{const _=await wt("/api/services/visible");if(!_.ok)throw new Error("Erreur chargement services visibles");return _.json()},staleTime:6e4}),y=({service:_})=>{const[C,w]=z.useState(!1),{data:x}=Kr({queryKey:["service-root",_.id],queryFn:async()=>{const E=await wt(`/api/folders?service_id=${_.id}`);return E.ok?E.json():[]},staleTime:6e4}),A=(x??[])[0],{data:P}=Kr({queryKey:["folder-by-id",r??0],enabled:typeof r=="number",queryFn:async()=>{const E=await wt(`/api/folders/${r}`);return E.ok?E.json():null},staleTime:3e4}),R=typeof(A==null?void 0:A.id)=="number"&&r===A.id;return z.useEffect(()=>{const E=((P==null?void 0:P.service_id)??null)===_.id;w(E)},[P==null?void 0:P.service_id,_.id]),I.jsx("div",{children:I.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg cursor-pointer transition-all group ${R?"bg-blue-100 text-blue-700 font-medium":"text-slate-100 hover:bg-blue-100 hover:text-blue-700"}`,style:{paddingLeft:"12px"},onClick:()=>{if(typeof(A==null?void 0:A.id)=="number"){if(C){w(!1),s&&s(typeof r=="number"?r:A.id);return}w(!0),e(A.id)}},children:[C?I.jsx(mv,{className:"w-4 h-4 flex-shrink-0"}):I.jsx(gv,{className:"w-4 h-4 flex-shrink-0"}),I.jsx("span",{className:"text-sm truncate flex-1",children:_.name})]})})};return I.jsx("div",{className:"space-y-1 py-2",children:(h??[]).map(_=>I.jsx(y,{service:_},_.id))})},bCe=bb("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),dt=z.forwardRef(({className:e,variant:r,size:i,asChild:s=!1,...f},h)=>{const y=s?nme:"button";return I.jsx(y,{className:dr(bCe({variant:r,size:i,className:e})),ref:h,...f})});dt.displayName="Button";const GP=[{id:1,name:"TechCorp Solutions"}],TCe=[],CCe=()=>[],wCe=e=>TCe.some(r=>r.id===e),Ev=e=>CCe().find(r=>r.id===e),G5=e=>{const r=[];let i=e;for(;i!==null;){const s=Ev(i);if(s)r.unshift(s),i=s.parent_id;else break}return r};async function ICe(){try{const e=await wt("/api/services/visible",{toast:{error:{enabled:!1},success:{enabled:!1}}});return e.ok?e.json():[]}catch{return[]}}async function ECe(){try{const e=sessionStorage.getItem("auth:user"),r=e?JSON.parse(e):null;if(!r||r.role!=="admin"||!r.enterprise_id)return[]}catch{}try{const e=await wt("/api/admin/employees",{toast:{error:{enabled:!1},success:{enabled:!1}}});return e.ok?e.json():[]}catch{return[]}}const xCe=({onFolderClick:e,currentFolderId:r,collapseFolderId:i,onCloseTabByFolderId:s})=>{var E;const[f,h]=z.useState(!1),{user:y}=gs(),_=y&&y.role!=="super_admin"?y.enterprise_name??(y.enterprise_id?((E=GP.find(O=>O.id===y.enterprise_id))==null?void 0:E.name)??null:null):null;(y==null?void 0:y.role)==="admin"||(y==null||y.role);const{data:C}=Kr({queryKey:["visible-services",(y==null?void 0:y.id)??0],queryFn:async()=>{const O=await wt("/api/services/visible");if(!O.ok)throw new Error("Erreur chargement services visibles");return O.json()},staleTime:6e4}),{data:w=[]}=Kr({queryKey:["shared-folders",(y==null?void 0:y.id)??0],queryFn:async()=>{const O=await wt("/api/shared-folders/visible");return O.ok?O.json():[]},staleTime:3e4}),[x,A]=z.useState({});z.useEffect(()=>{if(typeof r!="number")return;const O=(w||[]).find(L=>L.folder_id===r);O&&A(L=>({...L,[O.id]:!0}))},[r,w]),z.useEffect(()=>{if(typeof i!="number")return;const O=(w||[]).find(L=>L.folder_id===i);O&&A(L=>({...L,[O.id]:!1}))},[i,w]);const{data:P}=Kr({queryKey:["sidebar-current-folder",r??0],enabled:typeof r=="number",queryFn:async()=>{const O=await wt(`/api/folders/${r}`);return O.ok?O.json():null},staleTime:3e4}),R=C??[];return(C??[]).find(O=>O.id===((y==null?void 0:y.service_id)??-1)),I.jsxs("aside",{className:`${f?"w-16":"w-60"} border-r bg-gradient-to-b from-slate-900 via-slate-800 to-slate-900/90 text-slate-100 flex flex-col transition-all duration-300 sticky top-0 self-start h-screen`,children:[I.jsxs("div",{className:"h-16 border-b border-slate-700/60 flex items-center px-4 gap-2",children:[!f&&I.jsx("div",{className:"flex-1 min-w-0",children:I.jsx("p",{className:"text-xs font-semibold truncate",children:_??"Mon entreprise"})}),I.jsx(dt,{variant:"ghost",size:"sm",onClick:()=>h(!f),className:"h-8 w-8 p-0 ml-auto shrink-0",children:I.jsx(Tb,{className:"w-4 h-4"})})]}),!f&&I.jsx("div",{className:"flex-1 overflow-y-auto px-2",children:I.jsxs("div",{className:"py-2",children:[w.length>0&&I.jsx("div",{className:"mb-0",children:I.jsx("div",{className:"mt-2 space-y-1",children:w.map(O=>{const L=!!x[O.id]||r===O.folder_id;return I.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg cursor-pointer transition-all group ${L?"bg-blue-100 text-blue-700 font-medium":"text-slate-100 hover:bg-blue-100 hover:text-blue-700"}`,onClick:()=>{L?(A(k=>({...k,[O.id]:!1})),s&&s(O.folder_id)):(A(k=>({...k,[O.id]:!0})),e(O.folder_id))},title:O.name,children:[L?I.jsx(mv,{className:"w-4 h-4 flex-shrink-0"}):I.jsx(gv,{className:"w-4 h-4 flex-shrink-0"}),I.jsx("span",{className:"text-sm truncate flex-1",children:O.name})]},O.id)})})}),I.jsx(R7,{onFolderClick:e,currentFolderId:r,externalCollapseId:i,onCloseTabByFolderId:s})]})}),f&&I.jsx("div",{className:"flex-1 overflow-y-auto px-2",children:I.jsxs("div",{className:"py-4 flex flex-col items-center gap-3",children:[w.map(O=>{const L=!!x[O.id]||r===O.folder_id;return I.jsxs(GV,{children:[I.jsx(HV,{asChild:!0,children:I.jsx("button",{onClick:()=>{L?(A(k=>({...k,[O.id]:!1})),s&&s(O.folder_id)):(A(k=>({...k,[O.id]:!0})),e(O.folder_id))},className:`w-10 h-10 rounded-md flex items-center justify-center font-semibold shadow-sm border transition-colors ${L?"bg-blue-600/20 text-white border-blue-500":"bg-black text-white border-black/60 hover:bg-blue-600 hover:border-blue-500"}`,"aria-label":O.name,title:O.name,children:L?I.jsx(mv,{className:"w-4 h-4"}):I.jsx(gv,{className:"w-4 h-4"})})}),I.jsx(P1,{side:"right",children:O.name})]},`sf-${O.id}`)}),R.map(O=>{const L=(O.name||"?").trim().charAt(0).toUpperCase(),k=((P==null?void 0:P.service_id)??null)===O.id;return I.jsxs(GV,{children:[I.jsx(HV,{asChild:!0,children:I.jsx("button",{onClick:async()=>{if(k){s&&typeof r=="number"&&s(r);return}const N=await wt(`/api/folders?service_id=${O.id}`);if(N.ok){const j=await N.json(),G=Array.isArray(j)?j[0]:null;G&&typeof G.id=="number"&&e(G.id)}},className:`w-10 h-10 rounded-md flex items-center justify-center font-semibold shadow-sm border transition-colors ${k?"bg-blue-600/20 text-white border-blue-500":"bg-black text-white border-black/60 hover:bg-blue-600 hover:text-white hover:border-blue-500"}`,"aria-label":O.name,title:O.name,children:L})}),I.jsx(P1,{side:"right",children:O.name})]},O.id)})]})})]})};var ACe=z.createContext(void 0);function Mb(e){const r=z.useContext(ACe);return e||r||"ltr"}var gA="rovingFocusGroup.onEntryFocus",DCe={bubbles:!1,cancelable:!0},Yv="RovingFocusGroup",[tD,k7,PCe]=nP(Yv),[RCe,Vp]=Ha(Yv,[PCe]),[kCe,NCe]=RCe(Yv),N7=z.forwardRef((e,r)=>I.jsx(tD.Provider,{scope:e.__scopeRovingFocusGroup,children:I.jsx(tD.Slot,{scope:e.__scopeRovingFocusGroup,children:I.jsx(OCe,{...e,ref:r})})}));N7.displayName=Yv;var OCe=z.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:i,orientation:s,loop:f=!1,dir:h,currentTabStopId:y,defaultCurrentTabStopId:_,onCurrentTabStopIdChange:C,onEntryFocus:w,preventScrollOnEntryFocus:x=!1,...A}=e,P=z.useRef(null),R=bn(r,P),E=Mb(h),[O,L]=td({prop:y,defaultProp:_??null,onChange:C,caller:Yv}),[k,N]=z.useState(!1),j=Ta(w),G=k7(i),le=z.useRef(!1),[$,H]=z.useState(0);return z.useEffect(()=>{const ie=P.current;if(ie)return ie.addEventListener(gA,j),()=>ie.removeEventListener(gA,j)},[j]),I.jsx(kCe,{scope:i,orientation:s,dir:E,loop:f,currentTabStopId:O,onItemFocus:z.useCallback(ie=>L(ie),[L]),onItemShiftTab:z.useCallback(()=>N(!0),[]),onFocusableItemAdd:z.useCallback(()=>H(ie=>ie+1),[]),onFocusableItemRemove:z.useCallback(()=>H(ie=>ie-1),[]),children:I.jsx(vr.div,{tabIndex:k||$===0?-1:0,"data-orientation":s,...A,ref:R,style:{outline:"none",...e.style},onMouseDown:Kt(e.onMouseDown,()=>{le.current=!0}),onFocus:Kt(e.onFocus,ie=>{const pe=!le.current;if(ie.target===ie.currentTarget&&pe&&!k){const se=new CustomEvent(gA,DCe);if(ie.currentTarget.dispatchEvent(se),!se.defaultPrevented){const ce=G().filter(_e=>_e.focusable),me=ce.find(_e=>_e.active),we=ce.find(_e=>_e.id===O),Ee=[me,we,...ce].filter(Boolean).map(_e=>_e.ref.current);M7(Ee,x)}}le.current=!1}),onBlur:Kt(e.onBlur,()=>N(!1))})})}),O7="RovingFocusGroupItem",F7=z.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:i,focusable:s=!0,active:f=!1,tabStopId:h,children:y,..._}=e,C=Bc(),w=h||C,x=NCe(O7,i),A=x.currentTabStopId===w,P=k7(i),{onFocusableItemAdd:R,onFocusableItemRemove:E,currentTabStopId:O}=x;return z.useEffect(()=>{if(s)return R(),()=>E()},[s,R,E]),I.jsx(tD.ItemSlot,{scope:i,id:w,focusable:s,active:f,children:I.jsx(vr.span,{tabIndex:A?0:-1,"data-orientation":x.orientation,..._,ref:r,onMouseDown:Kt(e.onMouseDown,L=>{s?x.onItemFocus(w):L.preventDefault()}),onFocus:Kt(e.onFocus,()=>x.onItemFocus(w)),onKeyDown:Kt(e.onKeyDown,L=>{if(L.key==="Tab"&&L.shiftKey){x.onItemShiftTab();return}if(L.target!==L.currentTarget)return;const k=LCe(L,x.orientation,x.dir);if(k!==void 0){if(L.metaKey||L.ctrlKey||L.altKey||L.shiftKey)return;L.preventDefault();let j=P().filter(G=>G.focusable).map(G=>G.ref.current);if(k==="last")j.reverse();else if(k==="prev"||k==="next"){k==="prev"&&j.reverse();const G=j.indexOf(L.currentTarget);j=x.loop?WCe(j,G+1):j.slice(G+1)}setTimeout(()=>M7(j))}}),children:typeof y=="function"?y({isCurrentTabStop:A,hasTabStop:O!=null}):y})})});F7.displayName=O7;var FCe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function MCe(e,r){return r!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function LCe(e,r,i){const s=MCe(e.key,i);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return FCe[s]}function M7(e,r=!1){const i=document.activeElement;for(const s of e)if(s===i||(s.focus({preventScroll:r}),document.activeElement!==i))return}function WCe(e,r){return e.map((i,s)=>e[(r+s)%e.length])}var HP=N7,zP=F7,Lb="Tabs",[jCe,Nxe]=Ha(Lb,[Vp]),L7=Vp(),[BCe,KP]=jCe(Lb),W7=z.forwardRef((e,r)=>{const{__scopeTabs:i,value:s,onValueChange:f,defaultValue:h,orientation:y="horizontal",dir:_,activationMode:C="automatic",...w}=e,x=Mb(_),[A,P]=td({prop:s,onChange:f,defaultProp:h??"",caller:Lb});return I.jsx(BCe,{scope:i,baseId:Bc(),value:A,onValueChange:P,orientation:y,dir:x,activationMode:C,children:I.jsx(vr.div,{dir:x,"data-orientation":y,...w,ref:r})})});W7.displayName=Lb;var j7="TabsList",B7=z.forwardRef((e,r)=>{const{__scopeTabs:i,loop:s=!0,...f}=e,h=KP(j7,i),y=L7(i);return I.jsx(HP,{asChild:!0,...y,orientation:h.orientation,dir:h.dir,loop:s,children:I.jsx(vr.div,{role:"tablist","aria-orientation":h.orientation,...f,ref:r})})});B7.displayName=j7;var U7="TabsTrigger",V7=z.forwardRef((e,r)=>{const{__scopeTabs:i,value:s,disabled:f=!1,...h}=e,y=KP(U7,i),_=L7(i),C=z7(y.baseId,s),w=K7(y.baseId,s),x=s===y.value;return I.jsx(zP,{asChild:!0,..._,focusable:!f,active:x,children:I.jsx(vr.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":w,"data-state":x?"active":"inactive","data-disabled":f?"":void 0,disabled:f,id:C,...h,ref:r,onMouseDown:Kt(e.onMouseDown,A=>{!f&&A.button===0&&A.ctrlKey===!1?y.onValueChange(s):A.preventDefault()}),onKeyDown:Kt(e.onKeyDown,A=>{[" ","Enter"].includes(A.key)&&y.onValueChange(s)}),onFocus:Kt(e.onFocus,()=>{const A=y.activationMode!=="manual";!x&&!f&&A&&y.onValueChange(s)})})})});V7.displayName=U7;var G7="TabsContent",H7=z.forwardRef((e,r)=>{const{__scopeTabs:i,value:s,forceMount:f,children:h,...y}=e,_=KP(G7,i),C=z7(_.baseId,s),w=K7(_.baseId,s),x=s===_.value,A=z.useRef(x);return z.useEffect(()=>{const P=requestAnimationFrame(()=>A.current=!1);return()=>cancelAnimationFrame(P)},[]),I.jsx(za,{present:f||x,children:({present:P})=>I.jsx(vr.div,{"data-state":x?"active":"inactive","data-orientation":_.orientation,role:"tabpanel","aria-labelledby":C,hidden:!P,id:w,tabIndex:0,...y,ref:r,style:{...e.style,animationDuration:A.current?"0s":void 0},children:P&&h})})});H7.displayName=G7;function z7(e,r){return`${e}-trigger-${r}`}function K7(e,r){return`${e}-content-${r}`}var UCe=W7,Q7=B7,Y7=V7,q7=H7;const VCe=UCe,J7=z.forwardRef(({className:e,...r},i)=>I.jsx(Q7,{ref:i,className:dr("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...r}));J7.displayName=Q7.displayName;const X7=z.forwardRef(({className:e,...r},i)=>I.jsx(Y7,{ref:i,className:dr("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...r}));X7.displayName=Y7.displayName;const Z7=z.forwardRef(({className:e,...r},i)=>I.jsx(q7,{ref:i,className:dr("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...r}));Z7.displayName=q7.displayName;function $7(e){const r=z.useRef({value:e,previous:e});return z.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}var Wb="Checkbox",[GCe,Oxe]=Ha(Wb),[HCe,QP]=GCe(Wb);function zCe(e){const{__scopeCheckbox:r,checked:i,children:s,defaultChecked:f,disabled:h,form:y,name:_,onCheckedChange:C,required:w,value:x="on",internal_do_not_use_render:A}=e,[P,R]=td({prop:i,defaultProp:f??!1,onChange:C,caller:Wb}),[E,O]=z.useState(null),[L,k]=z.useState(null),N=z.useRef(!1),j=E?!!y||!!E.closest("form"):!0,G={checked:P,disabled:h,setChecked:R,control:E,setControl:O,name:_,form:y,value:x,hasConsumerStoppedPropagationRef:N,required:w,defaultChecked:zc(f)?!1:f,isFormControl:j,bubbleInput:L,setBubbleInput:k};return I.jsx(HCe,{scope:r,...G,children:KCe(A)?A(G):s})}var e9="CheckboxTrigger",t9=z.forwardRef(({__scopeCheckbox:e,onKeyDown:r,onClick:i,...s},f)=>{const{control:h,value:y,disabled:_,checked:C,required:w,setControl:x,setChecked:A,hasConsumerStoppedPropagationRef:P,isFormControl:R,bubbleInput:E}=QP(e9,e),O=bn(f,x),L=z.useRef(C);return z.useEffect(()=>{const k=h==null?void 0:h.form;if(k){const N=()=>A(L.current);return k.addEventListener("reset",N),()=>k.removeEventListener("reset",N)}},[h,A]),I.jsx(vr.button,{type:"button",role:"checkbox","aria-checked":zc(C)?"mixed":C,"aria-required":w,"data-state":a9(C),"data-disabled":_?"":void 0,disabled:_,value:y,...s,ref:O,onKeyDown:Kt(r,k=>{k.key==="Enter"&&k.preventDefault()}),onClick:Kt(i,k=>{A(N=>zc(N)?!0:!N),E&&R&&(P.current=k.isPropagationStopped(),P.current||k.stopPropagation())})})});t9.displayName=e9;var YP=z.forwardRef((e,r)=>{const{__scopeCheckbox:i,name:s,checked:f,defaultChecked:h,required:y,disabled:_,value:C,onCheckedChange:w,form:x,...A}=e;return I.jsx(zCe,{__scopeCheckbox:i,checked:f,defaultChecked:h,disabled:_,required:y,onCheckedChange:w,name:s,form:x,value:C,internal_do_not_use_render:({isFormControl:P})=>I.jsxs(I.Fragment,{children:[I.jsx(t9,{...A,ref:r,__scopeCheckbox:i}),P&&I.jsx(o9,{__scopeCheckbox:i})]})})});YP.displayName=Wb;var r9="CheckboxIndicator",n9=z.forwardRef((e,r)=>{const{__scopeCheckbox:i,forceMount:s,...f}=e,h=QP(r9,i);return I.jsx(za,{present:s||zc(h.checked)||h.checked===!0,children:I.jsx(vr.span,{"data-state":a9(h.checked),"data-disabled":h.disabled?"":void 0,...f,ref:r,style:{pointerEvents:"none",...e.style}})})});n9.displayName=r9;var i9="CheckboxBubbleInput",o9=z.forwardRef(({__scopeCheckbox:e,...r},i)=>{const{control:s,hasConsumerStoppedPropagationRef:f,checked:h,defaultChecked:y,required:_,disabled:C,name:w,value:x,form:A,bubbleInput:P,setBubbleInput:R}=QP(i9,e),E=bn(i,R),O=$7(h),L=_P(s);z.useEffect(()=>{const N=P;if(!N)return;const j=window.HTMLInputElement.prototype,le=Object.getOwnPropertyDescriptor(j,"checked").set,$=!f.current;if(O!==h&&le){const H=new Event("click",{bubbles:$});N.indeterminate=zc(h),le.call(N,zc(h)?!1:h),N.dispatchEvent(H)}},[P,O,h,f]);const k=z.useRef(zc(h)?!1:h);return I.jsx(vr.input,{type:"checkbox","aria-hidden":!0,defaultChecked:y??k.current,required:_,disabled:C,name:w,value:x,form:A,...r,tabIndex:-1,ref:E,style:{...r.style,...L,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});o9.displayName=i9;function KCe(e){return typeof e=="function"}function zc(e){return e==="indeterminate"}function a9(e){return zc(e)?"indeterminate":e?"checked":"unchecked"}const Rp=z.forwardRef(({className:e,...r},i)=>I.jsx(YP,{ref:i,className:dr("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...r,children:I.jsx(n9,{className:dr("flex items-center justify-center text-current"),children:I.jsx(bz,{className:"h-4 w-4"})})}));Rp.displayName=YP.displayName;const Br=z.forwardRef(({className:e,type:r,...i},s)=>I.jsx("input",{type:r,className:dr("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...i}));Br.displayName="Input";var vA="focusScope.autoFocusOnMount",yA="focusScope.autoFocusOnUnmount",H5={bubbles:!1,cancelable:!0},QCe="FocusScope",qP=z.forwardRef((e,r)=>{const{loop:i=!1,trapped:s=!1,onMountAutoFocus:f,onUnmountAutoFocus:h,...y}=e,[_,C]=z.useState(null),w=Ta(f),x=Ta(h),A=z.useRef(null),P=bn(r,O=>C(O)),R=z.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;z.useEffect(()=>{if(s){let O=function(j){if(R.paused||!_)return;const G=j.target;_.contains(G)?A.current=G:pc(A.current,{select:!0})},L=function(j){if(R.paused||!_)return;const G=j.relatedTarget;G!==null&&(_.contains(G)||pc(A.current,{select:!0}))},k=function(j){if(document.activeElement===document.body)for(const le of j)le.removedNodes.length>0&&pc(_)};document.addEventListener("focusin",O),document.addEventListener("focusout",L);const N=new MutationObserver(k);return _&&N.observe(_,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",O),document.removeEventListener("focusout",L),N.disconnect()}}},[s,_,R.paused]),z.useEffect(()=>{if(_){K5.add(R);const O=document.activeElement;if(!_.contains(O)){const k=new CustomEvent(vA,H5);_.addEventListener(vA,w),_.dispatchEvent(k),k.defaultPrevented||(YCe($Ce(s9(_)),{select:!0}),document.activeElement===O&&pc(_))}return()=>{_.removeEventListener(vA,w),setTimeout(()=>{const k=new CustomEvent(yA,H5);_.addEventListener(yA,x),_.dispatchEvent(k),k.defaultPrevented||pc(O??document.body,{select:!0}),_.removeEventListener(yA,x),K5.remove(R)},0)}}},[_,w,x,R]);const E=z.useCallback(O=>{if(!i&&!s||R.paused)return;const L=O.key==="Tab"&&!O.altKey&&!O.ctrlKey&&!O.metaKey,k=document.activeElement;if(L&&k){const N=O.currentTarget,[j,G]=qCe(N);j&&G?!O.shiftKey&&k===G?(O.preventDefault(),i&&pc(j,{select:!0})):O.shiftKey&&k===j&&(O.preventDefault(),i&&pc(G,{select:!0})):k===N&&O.preventDefault()}},[i,s,R.paused]);return I.jsx(vr.div,{tabIndex:-1,...y,ref:P,onKeyDown:E})});qP.displayName=QCe;function YCe(e,{select:r=!1}={}){const i=document.activeElement;for(const s of e)if(pc(s,{select:r}),document.activeElement!==i)return}function qCe(e){const r=s9(e),i=z5(r,e),s=z5(r.reverse(),e);return[i,s]}function s9(e){const r=[],i=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const f=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||f?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;i.nextNode();)r.push(i.currentNode);return r}function z5(e,r){for(const i of e)if(!JCe(i,{upTo:r}))return i}function JCe(e,{upTo:r}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(r!==void 0&&e===r)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function XCe(e){return e instanceof HTMLInputElement&&"select"in e}function pc(e,{select:r=!1}={}){if(e&&e.focus){const i=document.activeElement;e.focus({preventScroll:!0}),e!==i&&XCe(e)&&r&&e.select()}}var K5=ZCe();function ZCe(){let e=[];return{add(r){const i=e[0];r!==i&&(i==null||i.pause()),e=Q5(e,r),e.unshift(r)},remove(r){var i;e=Q5(e,r),(i=e[0])==null||i.resume()}}}function Q5(e,r){const i=[...e],s=i.indexOf(r);return s!==-1&&i.splice(s,1),i}function $Ce(e){return e.filter(r=>r.tagName!=="A")}var _A=0;function u9(){z.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Y5()),document.body.insertAdjacentElement("beforeend",e[1]??Y5()),_A++,()=>{_A===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),_A--}},[])}function Y5(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Du=function(){return Du=Object.assign||function(r){for(var i,s=1,f=arguments.length;s<f;s++){i=arguments[s];for(var h in i)Object.prototype.hasOwnProperty.call(i,h)&&(r[h]=i[h])}return r},Du.apply(this,arguments)};function l9(e,r){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&r.indexOf(s)<0&&(i[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,s=Object.getOwnPropertySymbols(e);f<s.length;f++)r.indexOf(s[f])<0&&Object.prototype.propertyIsEnumerable.call(e,s[f])&&(i[s[f]]=e[s[f]]);return i}function ewe(e,r,i){if(i||arguments.length===2)for(var s=0,f=r.length,h;s<f;s++)(h||!(s in r))&&(h||(h=Array.prototype.slice.call(r,0,s)),h[s]=r[s]);return e.concat(h||Array.prototype.slice.call(r))}var uS="right-scroll-bar-position",lS="width-before-scroll-bar",twe="with-scroll-bars-hidden",rwe="--removed-body-scroll-bar-size";function SA(e,r){return typeof e=="function"?e(r):e&&(e.current=r),e}function nwe(e,r){var i=z.useState(function(){return{value:e,callback:r,facade:{get current(){return i.value},set current(s){var f=i.value;f!==s&&(i.value=s,i.callback(s,f))}}}})[0];return i.callback=r,i.facade}var iwe=typeof window<"u"?z.useLayoutEffect:z.useEffect,q5=new WeakMap;function owe(e,r){var i=nwe(null,function(s){return e.forEach(function(f){return SA(f,s)})});return iwe(function(){var s=q5.get(i);if(s){var f=new Set(s),h=new Set(e),y=i.current;f.forEach(function(_){h.has(_)||SA(_,null)}),h.forEach(function(_){f.has(_)||SA(_,y)})}q5.set(i,e)},[e]),i}function awe(e){return e}function swe(e,r){r===void 0&&(r=awe);var i=[],s=!1,f={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return i.length?i[i.length-1]:e},useMedium:function(h){var y=r(h,s);return i.push(y),function(){i=i.filter(function(_){return _!==y})}},assignSyncMedium:function(h){for(s=!0;i.length;){var y=i;i=[],y.forEach(h)}i={push:function(_){return h(_)},filter:function(){return i}}},assignMedium:function(h){s=!0;var y=[];if(i.length){var _=i;i=[],_.forEach(h),y=i}var C=function(){var x=y;y=[],x.forEach(h)},w=function(){return Promise.resolve().then(C)};w(),i={push:function(x){y.push(x),w()},filter:function(x){return y=y.filter(x),i}}}};return f}function uwe(e){e===void 0&&(e={});var r=swe(null);return r.options=Du({async:!0,ssr:!1},e),r}var c9=function(e){var r=e.sideCar,i=l9(e,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=r.read();if(!s)throw new Error("Sidecar medium not found");return z.createElement(s,Du({},i))};c9.isSideCarExport=!0;function lwe(e,r){return e.useMedium(r),c9}var d9=uwe(),bA=function(){},jb=z.forwardRef(function(e,r){var i=z.useRef(null),s=z.useState({onScrollCapture:bA,onWheelCapture:bA,onTouchMoveCapture:bA}),f=s[0],h=s[1],y=e.forwardProps,_=e.children,C=e.className,w=e.removeScrollBar,x=e.enabled,A=e.shards,P=e.sideCar,R=e.noRelative,E=e.noIsolation,O=e.inert,L=e.allowPinchZoom,k=e.as,N=k===void 0?"div":k,j=e.gapMode,G=l9(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),le=P,$=owe([i,r]),H=Du(Du({},G),f);return z.createElement(z.Fragment,null,x&&z.createElement(le,{sideCar:d9,removeScrollBar:w,shards:A,noRelative:R,noIsolation:E,inert:O,setCallbacks:h,allowPinchZoom:!!L,lockRef:i,gapMode:j}),y?z.cloneElement(z.Children.only(_),Du(Du({},H),{ref:$})):z.createElement(N,Du({},H,{className:C,ref:$}),_))});jb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};jb.classNames={fullWidth:lS,zeroRight:uS};var cwe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function dwe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var r=cwe();return r&&e.setAttribute("nonce",r),e}function fwe(e,r){e.styleSheet?e.styleSheet.cssText=r:e.appendChild(document.createTextNode(r))}function hwe(e){var r=document.head||document.getElementsByTagName("head")[0];r.appendChild(e)}var pwe=function(){var e=0,r=null;return{add:function(i){e==0&&(r=dwe())&&(fwe(r,i),hwe(r)),e++},remove:function(){e--,!e&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null)}}},mwe=function(){var e=pwe();return function(r,i){z.useEffect(function(){return e.add(r),function(){e.remove()}},[r&&i])}},f9=function(){var e=mwe(),r=function(i){var s=i.styles,f=i.dynamic;return e(s,f),null};return r},gwe={left:0,top:0,right:0,gap:0},TA=function(e){return parseInt(e||"",10)||0},vwe=function(e){var r=window.getComputedStyle(document.body),i=r[e==="padding"?"paddingLeft":"marginLeft"],s=r[e==="padding"?"paddingTop":"marginTop"],f=r[e==="padding"?"paddingRight":"marginRight"];return[TA(i),TA(s),TA(f)]},ywe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return gwe;var r=vwe(e),i=document.documentElement.clientWidth,s=window.innerWidth;return{left:r[0],top:r[1],right:r[2],gap:Math.max(0,s-i+r[2]-r[0])}},_we=f9(),ap="data-scroll-locked",Swe=function(e,r,i,s){var f=e.left,h=e.top,y=e.right,_=e.gap;return i===void 0&&(i="margin"),`
  .`.concat(twe,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(_,"px ").concat(s,`;
  }
  body[`).concat(ap,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([r&&"position: relative ".concat(s,";"),i==="margin"&&`
    padding-left: `.concat(f,`px;
    padding-top: `).concat(h,`px;
    padding-right: `).concat(y,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(_,"px ").concat(s,`;
    `),i==="padding"&&"padding-right: ".concat(_,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(uS,` {
    right: `).concat(_,"px ").concat(s,`;
  }
  
  .`).concat(lS,` {
    margin-right: `).concat(_,"px ").concat(s,`;
  }
  
  .`).concat(uS," .").concat(uS,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(lS," .").concat(lS,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(ap,`] {
    `).concat(rwe,": ").concat(_,`px;
  }
`)},J5=function(){var e=parseInt(document.body.getAttribute(ap)||"0",10);return isFinite(e)?e:0},bwe=function(){z.useEffect(function(){return document.body.setAttribute(ap,(J5()+1).toString()),function(){var e=J5()-1;e<=0?document.body.removeAttribute(ap):document.body.setAttribute(ap,e.toString())}},[])},Twe=function(e){var r=e.noRelative,i=e.noImportant,s=e.gapMode,f=s===void 0?"margin":s;bwe();var h=z.useMemo(function(){return ywe(f)},[f]);return z.createElement(_we,{styles:Swe(h,!r,f,i?"":"!important")})},rD=!1;if(typeof window<"u")try{var j0=Object.defineProperty({},"passive",{get:function(){return rD=!0,!0}});window.addEventListener("test",j0,j0),window.removeEventListener("test",j0,j0)}catch{rD=!1}var Mh=rD?{passive:!1}:!1,Cwe=function(e){return e.tagName==="TEXTAREA"},h9=function(e,r){if(!(e instanceof Element))return!1;var i=window.getComputedStyle(e);return i[r]!=="hidden"&&!(i.overflowY===i.overflowX&&!Cwe(e)&&i[r]==="visible")},wwe=function(e){return h9(e,"overflowY")},Iwe=function(e){return h9(e,"overflowX")},X5=function(e,r){var i=r.ownerDocument,s=r;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var f=p9(e,s);if(f){var h=m9(e,s),y=h[1],_=h[2];if(y>_)return!0}s=s.parentNode}while(s&&s!==i.body);return!1},Ewe=function(e){var r=e.scrollTop,i=e.scrollHeight,s=e.clientHeight;return[r,i,s]},xwe=function(e){var r=e.scrollLeft,i=e.scrollWidth,s=e.clientWidth;return[r,i,s]},p9=function(e,r){return e==="v"?wwe(r):Iwe(r)},m9=function(e,r){return e==="v"?Ewe(r):xwe(r)},Awe=function(e,r){return e==="h"&&r==="rtl"?-1:1},Dwe=function(e,r,i,s,f){var h=Awe(e,window.getComputedStyle(r).direction),y=h*s,_=i.target,C=r.contains(_),w=!1,x=y>0,A=0,P=0;do{if(!_)break;var R=m9(e,_),E=R[0],O=R[1],L=R[2],k=O-L-h*E;(E||k)&&p9(e,_)&&(A+=k,P+=E);var N=_.parentNode;_=N&&N.nodeType===Node.DOCUMENT_FRAGMENT_NODE?N.host:N}while(!C&&_!==document.body||C&&(r.contains(_)||r===_));return(x&&(Math.abs(A)<1||!f)||!x&&(Math.abs(P)<1||!f))&&(w=!0),w},B0=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Z5=function(e){return[e.deltaX,e.deltaY]},$5=function(e){return e&&"current"in e?e.current:e},Pwe=function(e,r){return e[0]===r[0]&&e[1]===r[1]},Rwe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},kwe=0,Lh=[];function Nwe(e){var r=z.useRef([]),i=z.useRef([0,0]),s=z.useRef(),f=z.useState(kwe++)[0],h=z.useState(f9)[0],y=z.useRef(e);z.useEffect(function(){y.current=e},[e]),z.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(f));var O=ewe([e.lockRef.current],(e.shards||[]).map($5),!0).filter(Boolean);return O.forEach(function(L){return L.classList.add("allow-interactivity-".concat(f))}),function(){document.body.classList.remove("block-interactivity-".concat(f)),O.forEach(function(L){return L.classList.remove("allow-interactivity-".concat(f))})}}},[e.inert,e.lockRef.current,e.shards]);var _=z.useCallback(function(O,L){if("touches"in O&&O.touches.length===2||O.type==="wheel"&&O.ctrlKey)return!y.current.allowPinchZoom;var k=B0(O),N=i.current,j="deltaX"in O?O.deltaX:N[0]-k[0],G="deltaY"in O?O.deltaY:N[1]-k[1],le,$=O.target,H=Math.abs(j)>Math.abs(G)?"h":"v";if("touches"in O&&H==="h"&&$.type==="range")return!1;var ie=X5(H,$);if(!ie)return!0;if(ie?le=H:(le=H==="v"?"h":"v",ie=X5(H,$)),!ie)return!1;if(!s.current&&"changedTouches"in O&&(j||G)&&(s.current=le),!le)return!0;var pe=s.current||le;return Dwe(pe,L,O,pe==="h"?j:G,!0)},[]),C=z.useCallback(function(O){var L=O;if(!(!Lh.length||Lh[Lh.length-1]!==h)){var k="deltaY"in L?Z5(L):B0(L),N=r.current.filter(function(le){return le.name===L.type&&(le.target===L.target||L.target===le.shadowParent)&&Pwe(le.delta,k)})[0];if(N&&N.should){L.cancelable&&L.preventDefault();return}if(!N){var j=(y.current.shards||[]).map($5).filter(Boolean).filter(function(le){return le.contains(L.target)}),G=j.length>0?_(L,j[0]):!y.current.noIsolation;G&&L.cancelable&&L.preventDefault()}}},[]),w=z.useCallback(function(O,L,k,N){var j={name:O,delta:L,target:k,should:N,shadowParent:Owe(k)};r.current.push(j),setTimeout(function(){r.current=r.current.filter(function(G){return G!==j})},1)},[]),x=z.useCallback(function(O){i.current=B0(O),s.current=void 0},[]),A=z.useCallback(function(O){w(O.type,Z5(O),O.target,_(O,e.lockRef.current))},[]),P=z.useCallback(function(O){w(O.type,B0(O),O.target,_(O,e.lockRef.current))},[]);z.useEffect(function(){return Lh.push(h),e.setCallbacks({onScrollCapture:A,onWheelCapture:A,onTouchMoveCapture:P}),document.addEventListener("wheel",C,Mh),document.addEventListener("touchmove",C,Mh),document.addEventListener("touchstart",x,Mh),function(){Lh=Lh.filter(function(O){return O!==h}),document.removeEventListener("wheel",C,Mh),document.removeEventListener("touchmove",C,Mh),document.removeEventListener("touchstart",x,Mh)}},[]);var R=e.removeScrollBar,E=e.inert;return z.createElement(z.Fragment,null,E?z.createElement(h,{styles:Rwe(f)}):null,R?z.createElement(Twe,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Owe(e){for(var r=null;e!==null;)e instanceof ShadowRoot&&(r=e.host,e=e.host),e=e.parentNode;return r}const Fwe=lwe(d9,Nwe);var JP=z.forwardRef(function(e,r){return z.createElement(jb,Du({},e,{ref:r,sideCar:Fwe}))});JP.classNames=jb.classNames;var Mwe=function(e){if(typeof document>"u")return null;var r=Array.isArray(e)?e[0]:e;return r.ownerDocument.body},Wh=new WeakMap,U0=new WeakMap,V0={},CA=0,g9=function(e){return e&&(e.host||g9(e.parentNode))},Lwe=function(e,r){return r.map(function(i){if(e.contains(i))return i;var s=g9(i);return s&&e.contains(s)?s:(console.error("aria-hidden",i,"in not contained inside",e,". Doing nothing"),null)}).filter(function(i){return!!i})},Wwe=function(e,r,i,s){var f=Lwe(r,Array.isArray(e)?e:[e]);V0[i]||(V0[i]=new WeakMap);var h=V0[i],y=[],_=new Set,C=new Set(f),w=function(A){!A||_.has(A)||(_.add(A),w(A.parentNode))};f.forEach(w);var x=function(A){!A||C.has(A)||Array.prototype.forEach.call(A.children,function(P){if(_.has(P))x(P);else try{var R=P.getAttribute(s),E=R!==null&&R!=="false",O=(Wh.get(P)||0)+1,L=(h.get(P)||0)+1;Wh.set(P,O),h.set(P,L),y.push(P),O===1&&E&&U0.set(P,!0),L===1&&P.setAttribute(i,"true"),E||P.setAttribute(s,"true")}catch(k){console.error("aria-hidden: cannot operate on ",P,k)}})};return x(r),_.clear(),CA++,function(){y.forEach(function(A){var P=Wh.get(A)-1,R=h.get(A)-1;Wh.set(A,P),h.set(A,R),P||(U0.has(A)||A.removeAttribute(s),U0.delete(A)),R||A.removeAttribute(i)}),CA--,CA||(Wh=new WeakMap,Wh=new WeakMap,U0=new WeakMap,V0={})}},v9=function(e,r,i){i===void 0&&(i="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),f=Mwe(e);return f?(s.push.apply(s,Array.from(f.querySelectorAll("[aria-live]"))),Wwe(s,f,i,"aria-hidden")):function(){return null}},Bb="Dialog",[y9,Fxe]=Ha(Bb),[jwe,eu]=y9(Bb),_9=e=>{const{__scopeDialog:r,children:i,open:s,defaultOpen:f,onOpenChange:h,modal:y=!0}=e,_=z.useRef(null),C=z.useRef(null),[w,x]=td({prop:s,defaultProp:f??!1,onChange:h,caller:Bb});return I.jsx(jwe,{scope:r,triggerRef:_,contentRef:C,contentId:Bc(),titleId:Bc(),descriptionId:Bc(),open:w,onOpenChange:x,onOpenToggle:z.useCallback(()=>x(A=>!A),[x]),modal:y,children:i})};_9.displayName=Bb;var S9="DialogTrigger",b9=z.forwardRef((e,r)=>{const{__scopeDialog:i,...s}=e,f=eu(S9,i),h=bn(r,f.triggerRef);return I.jsx(vr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":f.open,"aria-controls":f.contentId,"data-state":$P(f.open),...s,ref:h,onClick:Kt(e.onClick,f.onOpenToggle)})});b9.displayName=S9;var XP="DialogPortal",[Bwe,T9]=y9(XP,{forceMount:void 0}),C9=e=>{const{__scopeDialog:r,forceMount:i,children:s,container:f}=e,h=eu(XP,r);return I.jsx(Bwe,{scope:r,forceMount:i,children:z.Children.map(s,y=>I.jsx(za,{present:i||h.open,children:I.jsx(yb,{asChild:!0,container:f,children:y})}))})};C9.displayName=XP;var YS="DialogOverlay",w9=z.forwardRef((e,r)=>{const i=T9(YS,e.__scopeDialog),{forceMount:s=i.forceMount,...f}=e,h=eu(YS,e.__scopeDialog);return h.modal?I.jsx(za,{present:s||h.open,children:I.jsx(Vwe,{...f,ref:r})}):null});w9.displayName=YS;var Uwe=Ep("DialogOverlay.RemoveScroll"),Vwe=z.forwardRef((e,r)=>{const{__scopeDialog:i,...s}=e,f=eu(YS,i);return I.jsx(JP,{as:Uwe,allowPinchZoom:!0,shards:[f.contentRef],children:I.jsx(vr.div,{"data-state":$P(f.open),...s,ref:r,style:{pointerEvents:"auto",...s.style}})})}),_f="DialogContent",I9=z.forwardRef((e,r)=>{const i=T9(_f,e.__scopeDialog),{forceMount:s=i.forceMount,...f}=e,h=eu(_f,e.__scopeDialog);return I.jsx(za,{present:s||h.open,children:h.modal?I.jsx(Gwe,{...f,ref:r}):I.jsx(Hwe,{...f,ref:r})})});I9.displayName=_f;var Gwe=z.forwardRef((e,r)=>{const i=eu(_f,e.__scopeDialog),s=z.useRef(null),f=bn(r,i.contentRef,s);return z.useEffect(()=>{const h=s.current;if(h)return v9(h)},[]),I.jsx(E9,{...e,ref:f,trapFocus:i.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Kt(e.onCloseAutoFocus,h=>{var y;h.preventDefault(),(y=i.triggerRef.current)==null||y.focus()}),onPointerDownOutside:Kt(e.onPointerDownOutside,h=>{const y=h.detail.originalEvent,_=y.button===0&&y.ctrlKey===!0;(y.button===2||_)&&h.preventDefault()}),onFocusOutside:Kt(e.onFocusOutside,h=>h.preventDefault())})}),Hwe=z.forwardRef((e,r)=>{const i=eu(_f,e.__scopeDialog),s=z.useRef(!1),f=z.useRef(!1);return I.jsx(E9,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:h=>{var y,_;(y=e.onCloseAutoFocus)==null||y.call(e,h),h.defaultPrevented||(s.current||(_=i.triggerRef.current)==null||_.focus(),h.preventDefault()),s.current=!1,f.current=!1},onInteractOutside:h=>{var C,w;(C=e.onInteractOutside)==null||C.call(e,h),h.defaultPrevented||(s.current=!0,h.detail.originalEvent.type==="pointerdown"&&(f.current=!0));const y=h.target;((w=i.triggerRef.current)==null?void 0:w.contains(y))&&h.preventDefault(),h.detail.originalEvent.type==="focusin"&&f.current&&h.preventDefault()}})}),E9=z.forwardRef((e,r)=>{const{__scopeDialog:i,trapFocus:s,onOpenAutoFocus:f,onCloseAutoFocus:h,...y}=e,_=eu(_f,i),C=z.useRef(null),w=bn(r,C);return u9(),I.jsxs(I.Fragment,{children:[I.jsx(qP,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:f,onUnmountAutoFocus:h,children:I.jsx(jv,{role:"dialog",id:_.contentId,"aria-describedby":_.descriptionId,"aria-labelledby":_.titleId,"data-state":$P(_.open),...y,ref:w,onDismiss:()=>_.onOpenChange(!1)})}),I.jsxs(I.Fragment,{children:[I.jsx(zwe,{titleId:_.titleId}),I.jsx(Qwe,{contentRef:C,descriptionId:_.descriptionId})]})]})}),ZP="DialogTitle",x9=z.forwardRef((e,r)=>{const{__scopeDialog:i,...s}=e,f=eu(ZP,i);return I.jsx(vr.h2,{id:f.titleId,...s,ref:r})});x9.displayName=ZP;var A9="DialogDescription",D9=z.forwardRef((e,r)=>{const{__scopeDialog:i,...s}=e,f=eu(A9,i);return I.jsx(vr.p,{id:f.descriptionId,...s,ref:r})});D9.displayName=A9;var P9="DialogClose",R9=z.forwardRef((e,r)=>{const{__scopeDialog:i,...s}=e,f=eu(P9,i);return I.jsx(vr.button,{type:"button",...s,ref:r,onClick:Kt(e.onClick,()=>f.onOpenChange(!1))})});R9.displayName=P9;function $P(e){return e?"open":"closed"}var k9="DialogTitleWarning",[Mxe,N9]=tme(k9,{contentName:_f,titleName:ZP,docsSlug:"dialog"}),zwe=({titleId:e})=>{const r=N9(k9),i=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return z.useEffect(()=>{e&&(document.getElementById(e)||console.error(i))},[i,e]),null},Kwe="DialogDescriptionWarning",Qwe=({contentRef:e,descriptionId:r})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${N9(Kwe).contentName}}.`;return z.useEffect(()=>{var h;const f=(h=e.current)==null?void 0:h.getAttribute("aria-describedby");r&&f&&(document.getElementById(r)||console.warn(s))},[s,e,r]),null},O9=_9,Ywe=b9,F9=C9,Ub=w9,Vb=I9,Gb=x9,Hb=D9,M9=R9;const to=O9,Xh=Ywe,qwe=F9,L9=z.forwardRef(({className:e,...r},i)=>I.jsx(Ub,{ref:i,className:dr("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...r}));L9.displayName=Ub.displayName;const Ui=z.forwardRef(({className:e,children:r,...i},s)=>I.jsxs(qwe,{children:[I.jsx(L9,{}),I.jsxs(Vb,{ref:s,className:dr("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...i,children:[r,I.jsxs(M9,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[I.jsx(Uv,{className:"h-4 w-4"}),I.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ui.displayName=Vb.displayName;const Vi=({className:e,...r})=>I.jsx("div",{className:dr("flex flex-col space-y-1.5 text-center sm:text-left",e),...r});Vi.displayName="DialogHeader";const Pu=({className:e,...r})=>I.jsx("div",{className:dr("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...r});Pu.displayName="DialogFooter";const Gi=z.forwardRef(({className:e,...r},i)=>I.jsx(Gb,{ref:i,className:dr("text-lg font-semibold leading-none tracking-tight",e),...r}));Gi.displayName=Gb.displayName;const ro=z.forwardRef(({className:e,...r},i)=>I.jsx(Hb,{ref:i,className:dr("text-sm text-muted-foreground",e),...r}));ro.displayName=Hb.displayName;var nD=["Enter"," "],Jwe=["ArrowDown","PageUp","Home"],W9=["ArrowUp","PageDown","End"],Xwe=[...Jwe,...W9],Zwe={ltr:[...nD,"ArrowRight"],rtl:[...nD,"ArrowLeft"]},$we={ltr:["ArrowLeft"],rtl:["ArrowRight"]},qv="Menu",[xv,eIe,tIe]=nP(qv),[Tf,j9]=Ha(qv,[tIe,Eb,Vp]),zb=Eb(),B9=Vp(),[rIe,Cf]=Tf(qv),[nIe,Jv]=Tf(qv),U9=e=>{const{__scopeMenu:r,open:i=!1,children:s,dir:f,onOpenChange:h,modal:y=!0}=e,_=zb(r),[C,w]=z.useState(null),x=z.useRef(!1),A=Ta(h),P=Mb(f);return z.useEffect(()=>{const R=()=>{x.current=!0,document.addEventListener("pointerdown",E,{capture:!0,once:!0}),document.addEventListener("pointermove",E,{capture:!0,once:!0})},E=()=>x.current=!1;return document.addEventListener("keydown",R,{capture:!0}),()=>{document.removeEventListener("keydown",R,{capture:!0}),document.removeEventListener("pointerdown",E,{capture:!0}),document.removeEventListener("pointermove",E,{capture:!0})}},[]),I.jsx(s8,{..._,children:I.jsx(rIe,{scope:r,open:i,onOpenChange:A,content:C,onContentChange:w,children:I.jsx(nIe,{scope:r,onClose:z.useCallback(()=>A(!1),[A]),isUsingKeyboardRef:x,dir:P,modal:y,children:s})})})};U9.displayName=qv;var iIe="MenuAnchor",eR=z.forwardRef((e,r)=>{const{__scopeMenu:i,...s}=e,f=zb(i);return I.jsx(u8,{...f,...s,ref:r})});eR.displayName=iIe;var tR="MenuPortal",[oIe,V9]=Tf(tR,{forceMount:void 0}),G9=e=>{const{__scopeMenu:r,forceMount:i,children:s,container:f}=e,h=Cf(tR,r);return I.jsx(oIe,{scope:r,forceMount:i,children:I.jsx(za,{present:i||h.open,children:I.jsx(yb,{asChild:!0,container:f,children:s})})})};G9.displayName=tR;var fs="MenuContent",[aIe,rR]=Tf(fs),H9=z.forwardRef((e,r)=>{const i=V9(fs,e.__scopeMenu),{forceMount:s=i.forceMount,...f}=e,h=Cf(fs,e.__scopeMenu),y=Jv(fs,e.__scopeMenu);return I.jsx(xv.Provider,{scope:e.__scopeMenu,children:I.jsx(za,{present:s||h.open,children:I.jsx(xv.Slot,{scope:e.__scopeMenu,children:y.modal?I.jsx(sIe,{...f,ref:r}):I.jsx(uIe,{...f,ref:r})})})})}),sIe=z.forwardRef((e,r)=>{const i=Cf(fs,e.__scopeMenu),s=z.useRef(null),f=bn(r,s);return z.useEffect(()=>{const h=s.current;if(h)return v9(h)},[]),I.jsx(nR,{...e,ref:f,trapFocus:i.open,disableOutsidePointerEvents:i.open,disableOutsideScroll:!0,onFocusOutside:Kt(e.onFocusOutside,h=>h.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>i.onOpenChange(!1)})}),uIe=z.forwardRef((e,r)=>{const i=Cf(fs,e.__scopeMenu);return I.jsx(nR,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>i.onOpenChange(!1)})}),lIe=Ep("MenuContent.ScrollLock"),nR=z.forwardRef((e,r)=>{const{__scopeMenu:i,loop:s=!1,trapFocus:f,onOpenAutoFocus:h,onCloseAutoFocus:y,disableOutsidePointerEvents:_,onEntryFocus:C,onEscapeKeyDown:w,onPointerDownOutside:x,onFocusOutside:A,onInteractOutside:P,onDismiss:R,disableOutsideScroll:E,...O}=e,L=Cf(fs,i),k=Jv(fs,i),N=zb(i),j=B9(i),G=eIe(i),[le,$]=z.useState(null),H=z.useRef(null),ie=bn(r,H,L.onContentChange),pe=z.useRef(0),se=z.useRef(""),ce=z.useRef(0),me=z.useRef(null),we=z.useRef("right"),ge=z.useRef(0),Ee=E?JP:z.Fragment,_e=E?{as:lIe,allowPinchZoom:!0}:void 0,Be=Ce=>{var Ie,Je;const Ve=se.current+Ce,rt=G().filter(st=>!st.disabled),et=document.activeElement,vt=(Ie=rt.find(st=>st.ref.current===et))==null?void 0:Ie.textValue,St=rt.map(st=>st.textValue),Se=bIe(St,Ve,vt),ve=(Je=rt.find(st=>st.textValue===Se))==null?void 0:Je.ref.current;(function st(lt){se.current=lt,window.clearTimeout(pe.current),lt!==""&&(pe.current=window.setTimeout(()=>st(""),1e3))})(Ve),ve&&setTimeout(()=>ve.focus())};z.useEffect(()=>()=>window.clearTimeout(pe.current),[]),u9();const xe=z.useCallback(Ce=>{var rt,et;return we.current===((rt=me.current)==null?void 0:rt.side)&&CIe(Ce,(et=me.current)==null?void 0:et.area)},[]);return I.jsx(aIe,{scope:i,searchRef:se,onItemEnter:z.useCallback(Ce=>{xe(Ce)&&Ce.preventDefault()},[xe]),onItemLeave:z.useCallback(Ce=>{var Ve;xe(Ce)||((Ve=H.current)==null||Ve.focus(),$(null))},[xe]),onTriggerLeave:z.useCallback(Ce=>{xe(Ce)&&Ce.preventDefault()},[xe]),pointerGraceTimerRef:ce,onPointerGraceIntentChange:z.useCallback(Ce=>{me.current=Ce},[]),children:I.jsx(Ee,{..._e,children:I.jsx(qP,{asChild:!0,trapped:f,onMountAutoFocus:Kt(h,Ce=>{var Ve;Ce.preventDefault(),(Ve=H.current)==null||Ve.focus({preventScroll:!0})}),onUnmountAutoFocus:y,children:I.jsx(jv,{asChild:!0,disableOutsidePointerEvents:_,onEscapeKeyDown:w,onPointerDownOutside:x,onFocusOutside:A,onInteractOutside:P,onDismiss:R,children:I.jsx(HP,{asChild:!0,...j,dir:k.dir,orientation:"vertical",loop:s,currentTabStopId:le,onCurrentTabStopIdChange:$,onEntryFocus:Kt(C,Ce=>{k.isUsingKeyboardRef.current||Ce.preventDefault()}),preventScrollOnEntryFocus:!0,children:I.jsx(l8,{role:"menu","aria-orientation":"vertical","data-state":aK(L.open),"data-radix-menu-content":"",dir:k.dir,...N,...O,ref:ie,style:{outline:"none",...O.style},onKeyDown:Kt(O.onKeyDown,Ce=>{const rt=Ce.target.closest("[data-radix-menu-content]")===Ce.currentTarget,et=Ce.ctrlKey||Ce.altKey||Ce.metaKey,vt=Ce.key.length===1;rt&&(Ce.key==="Tab"&&Ce.preventDefault(),!et&&vt&&Be(Ce.key));const St=H.current;if(Ce.target!==St||!Xwe.includes(Ce.key))return;Ce.preventDefault();const ve=G().filter(Ie=>!Ie.disabled).map(Ie=>Ie.ref.current);W9.includes(Ce.key)&&ve.reverse(),_Ie(ve)}),onBlur:Kt(e.onBlur,Ce=>{Ce.currentTarget.contains(Ce.target)||(window.clearTimeout(pe.current),se.current="")}),onPointerMove:Kt(e.onPointerMove,Av(Ce=>{const Ve=Ce.target,rt=ge.current!==Ce.clientX;if(Ce.currentTarget.contains(Ve)&&rt){const et=Ce.clientX>ge.current?"right":"left";we.current=et,ge.current=Ce.clientX}}))})})})})})})});H9.displayName=fs;var cIe="MenuGroup",iR=z.forwardRef((e,r)=>{const{__scopeMenu:i,...s}=e;return I.jsx(vr.div,{role:"group",...s,ref:r})});iR.displayName=cIe;var dIe="MenuLabel",z9=z.forwardRef((e,r)=>{const{__scopeMenu:i,...s}=e;return I.jsx(vr.div,{...s,ref:r})});z9.displayName=dIe;var qS="MenuItem",eG="menu.itemSelect",Kb=z.forwardRef((e,r)=>{const{disabled:i=!1,onSelect:s,...f}=e,h=z.useRef(null),y=Jv(qS,e.__scopeMenu),_=rR(qS,e.__scopeMenu),C=bn(r,h),w=z.useRef(!1),x=()=>{const A=h.current;if(!i&&A){const P=new CustomEvent(eG,{bubbles:!0,cancelable:!0});A.addEventListener(eG,R=>s==null?void 0:s(R),{once:!0}),iP(A,P),P.defaultPrevented?w.current=!1:y.onClose()}};return I.jsx(K9,{...f,ref:C,disabled:i,onClick:Kt(e.onClick,x),onPointerDown:A=>{var P;(P=e.onPointerDown)==null||P.call(e,A),w.current=!0},onPointerUp:Kt(e.onPointerUp,A=>{var P;w.current||(P=A.currentTarget)==null||P.click()}),onKeyDown:Kt(e.onKeyDown,A=>{const P=_.searchRef.current!=="";i||P&&A.key===" "||nD.includes(A.key)&&(A.currentTarget.click(),A.preventDefault())})})});Kb.displayName=qS;var K9=z.forwardRef((e,r)=>{const{__scopeMenu:i,disabled:s=!1,textValue:f,...h}=e,y=rR(qS,i),_=B9(i),C=z.useRef(null),w=bn(r,C),[x,A]=z.useState(!1),[P,R]=z.useState("");return z.useEffect(()=>{const E=C.current;E&&R((E.textContent??"").trim())},[h.children]),I.jsx(xv.ItemSlot,{scope:i,disabled:s,textValue:f??P,children:I.jsx(zP,{asChild:!0,..._,focusable:!s,children:I.jsx(vr.div,{role:"menuitem","data-highlighted":x?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...h,ref:w,onPointerMove:Kt(e.onPointerMove,Av(E=>{s?y.onItemLeave(E):(y.onItemEnter(E),E.defaultPrevented||E.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Kt(e.onPointerLeave,Av(E=>y.onItemLeave(E))),onFocus:Kt(e.onFocus,()=>A(!0)),onBlur:Kt(e.onBlur,()=>A(!1))})})})}),fIe="MenuCheckboxItem",Q9=z.forwardRef((e,r)=>{const{checked:i=!1,onCheckedChange:s,...f}=e;return I.jsx(Z9,{scope:e.__scopeMenu,checked:i,children:I.jsx(Kb,{role:"menuitemcheckbox","aria-checked":JS(i)?"mixed":i,...f,ref:r,"data-state":aR(i),onSelect:Kt(f.onSelect,()=>s==null?void 0:s(JS(i)?!0:!i),{checkForDefaultPrevented:!1})})})});Q9.displayName=fIe;var Y9="MenuRadioGroup",[hIe,pIe]=Tf(Y9,{value:void 0,onValueChange:()=>{}}),q9=z.forwardRef((e,r)=>{const{value:i,onValueChange:s,...f}=e,h=Ta(s);return I.jsx(hIe,{scope:e.__scopeMenu,value:i,onValueChange:h,children:I.jsx(iR,{...f,ref:r})})});q9.displayName=Y9;var J9="MenuRadioItem",X9=z.forwardRef((e,r)=>{const{value:i,...s}=e,f=pIe(J9,e.__scopeMenu),h=i===f.value;return I.jsx(Z9,{scope:e.__scopeMenu,checked:h,children:I.jsx(Kb,{role:"menuitemradio","aria-checked":h,...s,ref:r,"data-state":aR(h),onSelect:Kt(s.onSelect,()=>{var y;return(y=f.onValueChange)==null?void 0:y.call(f,i)},{checkForDefaultPrevented:!1})})})});X9.displayName=J9;var oR="MenuItemIndicator",[Z9,mIe]=Tf(oR,{checked:!1}),$9=z.forwardRef((e,r)=>{const{__scopeMenu:i,forceMount:s,...f}=e,h=mIe(oR,i);return I.jsx(za,{present:s||JS(h.checked)||h.checked===!0,children:I.jsx(vr.span,{...f,ref:r,"data-state":aR(h.checked)})})});$9.displayName=oR;var gIe="MenuSeparator",eK=z.forwardRef((e,r)=>{const{__scopeMenu:i,...s}=e;return I.jsx(vr.div,{role:"separator","aria-orientation":"horizontal",...s,ref:r})});eK.displayName=gIe;var vIe="MenuArrow",tK=z.forwardRef((e,r)=>{const{__scopeMenu:i,...s}=e,f=zb(i);return I.jsx(c8,{...f,...s,ref:r})});tK.displayName=vIe;var yIe="MenuSub",[Lxe,rK]=Tf(yIe),jg="MenuSubTrigger",nK=z.forwardRef((e,r)=>{const i=Cf(jg,e.__scopeMenu),s=Jv(jg,e.__scopeMenu),f=rK(jg,e.__scopeMenu),h=rR(jg,e.__scopeMenu),y=z.useRef(null),{pointerGraceTimerRef:_,onPointerGraceIntentChange:C}=h,w={__scopeMenu:e.__scopeMenu},x=z.useCallback(()=>{y.current&&window.clearTimeout(y.current),y.current=null},[]);return z.useEffect(()=>x,[x]),z.useEffect(()=>{const A=_.current;return()=>{window.clearTimeout(A),C(null)}},[_,C]),I.jsx(eR,{asChild:!0,...w,children:I.jsx(K9,{id:f.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":f.contentId,"data-state":aK(i.open),...e,ref:vb(r,f.onTriggerChange),onClick:A=>{var P;(P=e.onClick)==null||P.call(e,A),!(e.disabled||A.defaultPrevented)&&(A.currentTarget.focus(),i.open||i.onOpenChange(!0))},onPointerMove:Kt(e.onPointerMove,Av(A=>{h.onItemEnter(A),!A.defaultPrevented&&!e.disabled&&!i.open&&!y.current&&(h.onPointerGraceIntentChange(null),y.current=window.setTimeout(()=>{i.onOpenChange(!0),x()},100))})),onPointerLeave:Kt(e.onPointerLeave,Av(A=>{var R,E;x();const P=(R=i.content)==null?void 0:R.getBoundingClientRect();if(P){const O=(E=i.content)==null?void 0:E.dataset.side,L=O==="right",k=L?-5:5,N=P[L?"left":"right"],j=P[L?"right":"left"];h.onPointerGraceIntentChange({area:[{x:A.clientX+k,y:A.clientY},{x:N,y:P.top},{x:j,y:P.top},{x:j,y:P.bottom},{x:N,y:P.bottom}],side:O}),window.clearTimeout(_.current),_.current=window.setTimeout(()=>h.onPointerGraceIntentChange(null),300)}else{if(h.onTriggerLeave(A),A.defaultPrevented)return;h.onPointerGraceIntentChange(null)}})),onKeyDown:Kt(e.onKeyDown,A=>{var R;const P=h.searchRef.current!=="";e.disabled||P&&A.key===" "||Zwe[s.dir].includes(A.key)&&(i.onOpenChange(!0),(R=i.content)==null||R.focus(),A.preventDefault())})})})});nK.displayName=jg;var iK="MenuSubContent",oK=z.forwardRef((e,r)=>{const i=V9(fs,e.__scopeMenu),{forceMount:s=i.forceMount,...f}=e,h=Cf(fs,e.__scopeMenu),y=Jv(fs,e.__scopeMenu),_=rK(iK,e.__scopeMenu),C=z.useRef(null),w=bn(r,C);return I.jsx(xv.Provider,{scope:e.__scopeMenu,children:I.jsx(za,{present:s||h.open,children:I.jsx(xv.Slot,{scope:e.__scopeMenu,children:I.jsx(nR,{id:_.contentId,"aria-labelledby":_.triggerId,...f,ref:w,align:"start",side:y.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:x=>{var A;y.isUsingKeyboardRef.current&&((A=C.current)==null||A.focus()),x.preventDefault()},onCloseAutoFocus:x=>x.preventDefault(),onFocusOutside:Kt(e.onFocusOutside,x=>{x.target!==_.trigger&&h.onOpenChange(!1)}),onEscapeKeyDown:Kt(e.onEscapeKeyDown,x=>{y.onClose(),x.preventDefault()}),onKeyDown:Kt(e.onKeyDown,x=>{var R;const A=x.currentTarget.contains(x.target),P=$we[y.dir].includes(x.key);A&&P&&(h.onOpenChange(!1),(R=_.trigger)==null||R.focus(),x.preventDefault())})})})})})});oK.displayName=iK;function aK(e){return e?"open":"closed"}function JS(e){return e==="indeterminate"}function aR(e){return JS(e)?"indeterminate":e?"checked":"unchecked"}function _Ie(e){const r=document.activeElement;for(const i of e)if(i===r||(i.focus(),document.activeElement!==r))return}function SIe(e,r){return e.map((i,s)=>e[(r+s)%e.length])}function bIe(e,r,i){const f=r.length>1&&Array.from(r).every(w=>w===r[0])?r[0]:r,h=i?e.indexOf(i):-1;let y=SIe(e,Math.max(h,0));f.length===1&&(y=y.filter(w=>w!==i));const C=y.find(w=>w.toLowerCase().startsWith(f.toLowerCase()));return C!==i?C:void 0}function TIe(e,r){const{x:i,y:s}=e;let f=!1;for(let h=0,y=r.length-1;h<r.length;y=h++){const _=r[h],C=r[y],w=_.x,x=_.y,A=C.x,P=C.y;x>s!=P>s&&i<(A-w)*(s-x)/(P-x)+w&&(f=!f)}return f}function CIe(e,r){if(!r)return!1;const i={x:e.clientX,y:e.clientY};return TIe(i,r)}function Av(e){return r=>r.pointerType==="mouse"?e(r):void 0}var wIe=U9,IIe=eR,EIe=G9,xIe=H9,AIe=iR,DIe=z9,PIe=Kb,RIe=Q9,kIe=q9,NIe=X9,OIe=$9,FIe=eK,MIe=tK,LIe=nK,WIe=oK,Qb="DropdownMenu",[jIe,Wxe]=Ha(Qb,[j9]),Jo=j9(),[BIe,sK]=jIe(Qb),uK=e=>{const{__scopeDropdownMenu:r,children:i,dir:s,open:f,defaultOpen:h,onOpenChange:y,modal:_=!0}=e,C=Jo(r),w=z.useRef(null),[x,A]=td({prop:f,defaultProp:h??!1,onChange:y,caller:Qb});return I.jsx(BIe,{scope:r,triggerId:Bc(),triggerRef:w,contentId:Bc(),open:x,onOpenChange:A,onOpenToggle:z.useCallback(()=>A(P=>!P),[A]),modal:_,children:I.jsx(wIe,{...C,open:x,onOpenChange:A,dir:s,modal:_,children:i})})};uK.displayName=Qb;var lK="DropdownMenuTrigger",cK=z.forwardRef((e,r)=>{const{__scopeDropdownMenu:i,disabled:s=!1,...f}=e,h=sK(lK,i),y=Jo(i);return I.jsx(IIe,{asChild:!0,...y,children:I.jsx(vr.button,{type:"button",id:h.triggerId,"aria-haspopup":"menu","aria-expanded":h.open,"aria-controls":h.open?h.contentId:void 0,"data-state":h.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...f,ref:vb(r,h.triggerRef),onPointerDown:Kt(e.onPointerDown,_=>{!s&&_.button===0&&_.ctrlKey===!1&&(h.onOpenToggle(),h.open||_.preventDefault())}),onKeyDown:Kt(e.onKeyDown,_=>{s||(["Enter"," "].includes(_.key)&&h.onOpenToggle(),_.key==="ArrowDown"&&h.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(_.key)&&_.preventDefault())})})})});cK.displayName=lK;var UIe="DropdownMenuPortal",dK=e=>{const{__scopeDropdownMenu:r,...i}=e,s=Jo(r);return I.jsx(EIe,{...s,...i})};dK.displayName=UIe;var fK="DropdownMenuContent",hK=z.forwardRef((e,r)=>{const{__scopeDropdownMenu:i,...s}=e,f=sK(fK,i),h=Jo(i),y=z.useRef(!1);return I.jsx(xIe,{id:f.contentId,"aria-labelledby":f.triggerId,...h,...s,ref:r,onCloseAutoFocus:Kt(e.onCloseAutoFocus,_=>{var C;y.current||(C=f.triggerRef.current)==null||C.focus(),y.current=!1,_.preventDefault()}),onInteractOutside:Kt(e.onInteractOutside,_=>{const C=_.detail.originalEvent,w=C.button===0&&C.ctrlKey===!0,x=C.button===2||w;(!f.modal||x)&&(y.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});hK.displayName=fK;var VIe="DropdownMenuGroup",GIe=z.forwardRef((e,r)=>{const{__scopeDropdownMenu:i,...s}=e,f=Jo(i);return I.jsx(AIe,{...f,...s,ref:r})});GIe.displayName=VIe;var HIe="DropdownMenuLabel",pK=z.forwardRef((e,r)=>{const{__scopeDropdownMenu:i,...s}=e,f=Jo(i);return I.jsx(DIe,{...f,...s,ref:r})});pK.displayName=HIe;var zIe="DropdownMenuItem",mK=z.forwardRef((e,r)=>{const{__scopeDropdownMenu:i,...s}=e,f=Jo(i);return I.jsx(PIe,{...f,...s,ref:r})});mK.displayName=zIe;var KIe="DropdownMenuCheckboxItem",gK=z.forwardRef((e,r)=>{const{__scopeDropdownMenu:i,...s}=e,f=Jo(i);return I.jsx(RIe,{...f,...s,ref:r})});gK.displayName=KIe;var QIe="DropdownMenuRadioGroup",YIe=z.forwardRef((e,r)=>{const{__scopeDropdownMenu:i,...s}=e,f=Jo(i);return I.jsx(kIe,{...f,...s,ref:r})});YIe.displayName=QIe;var qIe="DropdownMenuRadioItem",vK=z.forwardRef((e,r)=>{const{__scopeDropdownMenu:i,...s}=e,f=Jo(i);return I.jsx(NIe,{...f,...s,ref:r})});vK.displayName=qIe;var JIe="DropdownMenuItemIndicator",yK=z.forwardRef((e,r)=>{const{__scopeDropdownMenu:i,...s}=e,f=Jo(i);return I.jsx(OIe,{...f,...s,ref:r})});yK.displayName=JIe;var XIe="DropdownMenuSeparator",_K=z.forwardRef((e,r)=>{const{__scopeDropdownMenu:i,...s}=e,f=Jo(i);return I.jsx(FIe,{...f,...s,ref:r})});_K.displayName=XIe;var ZIe="DropdownMenuArrow",$Ie=z.forwardRef((e,r)=>{const{__scopeDropdownMenu:i,...s}=e,f=Jo(i);return I.jsx(MIe,{...f,...s,ref:r})});$Ie.displayName=ZIe;var eEe="DropdownMenuSubTrigger",SK=z.forwardRef((e,r)=>{const{__scopeDropdownMenu:i,...s}=e,f=Jo(i);return I.jsx(LIe,{...f,...s,ref:r})});SK.displayName=eEe;var tEe="DropdownMenuSubContent",bK=z.forwardRef((e,r)=>{const{__scopeDropdownMenu:i,...s}=e,f=Jo(i);return I.jsx(WIe,{...f,...s,ref:r,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});bK.displayName=tEe;var rEe=uK,nEe=cK,iEe=dK,TK=hK,CK=pK,wK=mK,IK=gK,EK=vK,xK=yK,AK=_K,DK=SK,PK=bK;const XS=rEe,ZS=nEe,oEe=z.forwardRef(({className:e,inset:r,children:i,...s},f)=>I.jsxs(DK,{ref:f,className:dr("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",r&&"pl-8",e),...s,children:[i,I.jsx(uP,{className:"ml-auto h-4 w-4"})]}));oEe.displayName=DK.displayName;const aEe=z.forwardRef(({className:e,...r},i)=>I.jsx(PK,{ref:i,className:dr("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));aEe.displayName=PK.displayName;const Dv=z.forwardRef(({className:e,sideOffset:r=4,...i},s)=>I.jsx(iEe,{children:I.jsx(TK,{ref:s,sideOffset:r,className:dr("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...i})}));Dv.displayName=TK.displayName;const ls=z.forwardRef(({className:e,inset:r,...i},s)=>I.jsx(wK,{ref:s,className:dr("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",r&&"pl-8",e),...i}));ls.displayName=wK.displayName;const sEe=z.forwardRef(({className:e,children:r,checked:i,...s},f)=>I.jsxs(IK,{ref:f,className:dr("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:i,...s,children:[I.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:I.jsx(xK,{children:I.jsx(bz,{className:"h-4 w-4"})})}),r]}));sEe.displayName=IK.displayName;const uEe=z.forwardRef(({className:e,children:r,...i},s)=>I.jsxs(EK,{ref:s,className:dr("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...i,children:[I.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:I.jsx(xK,{children:I.jsx(Tz,{className:"h-2 w-2 fill-current"})})}),r]}));uEe.displayName=EK.displayName;const iD=z.forwardRef(({className:e,inset:r,...i},s)=>I.jsx(CK,{ref:s,className:dr("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",e),...i}));iD.displayName=CK.displayName;const cS=z.forwardRef(({className:e,...r},i)=>I.jsx(AK,{ref:i,className:dr("-mx-1 my-1 h-px bg-muted",e),...r}));cS.displayName=AK.displayName;const lEe=({folder:e,onClick:r,onRename:i,onDelete:s,selectionMode:f,selected:h,onToggleSelect:y})=>I.jsxs("div",{onClick:f?y??r:r,className:`group relative flex flex-col items-center text-center gap-3 p-4 bg-card rounded-xl border transition-all cursor-pointer ${h?"border-primary bg-primary/5":"border-border hover:border-primary/50 hover:bg-folder-hover"}`,children:[f&&I.jsx("input",{type:"checkbox",checked:!!h,onChange:_=>{_.stopPropagation(),y&&y()},className:"absolute left-2 top-2 w-4 h-4"}),I.jsxs("div",{className:"flex-shrink-0 w-20 h-20 bg-primary/10 rounded-lg flex items-center justify-center group-hover:bg-primary/20 transition-colors",children:[I.jsx(gv,{className:"w-12 h-12 text-primary group-hover:hidden"}),I.jsx(mv,{className:"w-12 h-12 text-primary hidden group-hover:block"})]}),I.jsx("div",{className:"flex-1 min-w-0",children:I.jsx("h3",{className:"font-medium text-sm text-foreground truncate",children:e.name})}),I.jsx("div",{className:"absolute top-2 right-2",onClick:_=>{_.stopPropagation()},children:I.jsxs(XS,{children:[I.jsx(ZS,{asChild:!0,children:I.jsx("button",{className:"p-1 rounded-full hover:bg-accent transition-colors",children:I.jsx(Cz,{className:"w-4 h-4 text-muted-foreground"})})}),I.jsxs(Dv,{align:"end",children:[I.jsxs(ls,{onSelect:_=>{_.preventDefault(),i&&i()},children:[I.jsx(Ez,{className:"w-4 h-4 mr-2"}),"Renommer"]}),I.jsxs(ls,{onSelect:_=>{_.preventDefault(),s&&s()},children:[I.jsx(lP,{className:"w-4 h-4 mr-2"}),"Supprimer"]})]})]})}),e.shared&&I.jsx("div",{className:"absolute bottom-2 right-2",children:I.jsx(xz,{className:"w-3.5 h-3.5 text-primary"})})]}),cEe=e=>I.jsx(ige,{className:"w-5 h-5 text-primary"}),dEe=({document:e,selectionMode:r,selected:i,onToggleSelect:s,onView:f,onShare:h,onRename:y,onDownload:_,onDelete:C})=>{const w=e.name.replace(/\.[^.]+$/,"");return I.jsxs("div",{className:"flex items-center gap-3 p-3 bg-card rounded-lg border border-border hover:border-primary/30 hover:bg-accent/50 transition-all group",children:[I.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-muted rounded-lg flex items-center justify-center",children:cEe(e.type)}),I.jsxs("div",{className:"flex-1 min-w-0",children:[I.jsx("h4",{className:"font-medium text-sm text-foreground truncate",children:w}),I.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[I.jsx("span",{children:e.size}),I.jsx("span",{children:""}),I.jsx("span",{children:e.author?`Tlvers par ${e.author}`:"Tlvers par "}),I.jsx("span",{children:""}),I.jsx("span",{children:new Date(e.created_at).toLocaleDateString("fr-FR")})]})]}),r?I.jsx(dt,{variant:i?"default":"outline",size:"icon",className:"transition-colors",type:"button",onClick:s,children:I.jsx(Az,{className:"w-4 h-4"})}):I.jsxs(XS,{children:[I.jsx(ZS,{asChild:!0,children:I.jsx(dt,{variant:"ghost",size:"icon",className:"group-hover:opacity-100 transition-opacity",type:"button",children:I.jsx(Cz,{className:"w-4 h-4"})})}),I.jsxs(Dv,{align:"end",children:[I.jsxs(ls,{onSelect:x=>{x.preventDefault(),f&&f()},children:[I.jsx(wz,{className:"w-4 h-4 mr-2"}),"Voir"]}),I.jsxs(ls,{onSelect:x=>{x.preventDefault(),_&&_()},children:[I.jsx(rge,{className:"w-4 h-4 mr-2"}),"Tlcharger"]}),I.jsxs(ls,{onSelect:x=>{x.preventDefault(),y&&y()},children:[I.jsx(Ez,{className:"w-4 h-4 mr-2"}),"Renommer"]}),I.jsxs(ls,{onSelect:x=>{x.preventDefault(),C&&C()},children:[I.jsx(lP,{className:"w-4 h-4 mr-2"}),"Supprimer"]})]})]})]})},fEe=({path:e,onNavigate:r})=>I.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-4",children:[I.jsxs("button",{onClick:()=>r(null),className:"flex items-center gap-1 hover:text-foreground transition-colors",children:[I.jsx(age,{className:"w-4 h-4"}),I.jsx("span",{children:"Accueil"})]}),e.map((i,s)=>I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx(uP,{className:"w-4 h-4"}),I.jsx("button",{onClick:()=>r(i.id),className:`hover:text-foreground transition-colors ${s===e.length-1?"font-medium text-foreground":""}`,children:i.name})]},i.id))]});var hEe="Label",RK=z.forwardRef((e,r)=>I.jsx(vr.label,{...e,ref:r,onMouseDown:i=>{var f;i.target.closest("button, input, select, textarea")||((f=e.onMouseDown)==null||f.call(e,i),!i.defaultPrevented&&i.detail>1&&i.preventDefault())}}));RK.displayName=hEe;var kK=RK;const pEe=bb("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),cl=z.forwardRef(({className:e,...r},i)=>I.jsx(kK,{ref:i,className:dr(pEe(),e),...r}));cl.displayName=kK.displayName;var sR="Radio",[mEe,NK]=Ha(sR),[gEe,vEe]=mEe(sR),OK=z.forwardRef((e,r)=>{const{__scopeRadio:i,name:s,checked:f=!1,required:h,disabled:y,value:_="on",onCheck:C,form:w,...x}=e,[A,P]=z.useState(null),R=bn(r,L=>P(L)),E=z.useRef(!1),O=A?w||!!A.closest("form"):!0;return I.jsxs(gEe,{scope:i,checked:f,disabled:y,children:[I.jsx(vr.button,{type:"button",role:"radio","aria-checked":f,"data-state":WK(f),"data-disabled":y?"":void 0,disabled:y,value:_,...x,ref:R,onClick:Kt(e.onClick,L=>{f||C==null||C(),O&&(E.current=L.isPropagationStopped(),E.current||L.stopPropagation())})}),O&&I.jsx(LK,{control:A,bubbles:!E.current,name:s,value:_,checked:f,required:h,disabled:y,form:w,style:{transform:"translateX(-100%)"}})]})});OK.displayName=sR;var FK="RadioIndicator",MK=z.forwardRef((e,r)=>{const{__scopeRadio:i,forceMount:s,...f}=e,h=vEe(FK,i);return I.jsx(za,{present:s||h.checked,children:I.jsx(vr.span,{"data-state":WK(h.checked),"data-disabled":h.disabled?"":void 0,...f,ref:r})})});MK.displayName=FK;var yEe="RadioBubbleInput",LK=z.forwardRef(({__scopeRadio:e,control:r,checked:i,bubbles:s=!0,...f},h)=>{const y=z.useRef(null),_=bn(y,h),C=$7(i),w=_P(r);return z.useEffect(()=>{const x=y.current;if(!x)return;const A=window.HTMLInputElement.prototype,R=Object.getOwnPropertyDescriptor(A,"checked").set;if(C!==i&&R){const E=new Event("click",{bubbles:s});R.call(x,i),x.dispatchEvent(E)}},[C,i,s]),I.jsx(vr.input,{type:"radio","aria-hidden":!0,defaultChecked:i,...f,tabIndex:-1,ref:_,style:{...f.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});LK.displayName=yEe;function WK(e){return e?"checked":"unchecked"}var _Ee=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Yb="RadioGroup",[SEe,jxe]=Ha(Yb,[Vp,NK]),jK=Vp(),BK=NK(),[bEe,TEe]=SEe(Yb),UK=z.forwardRef((e,r)=>{const{__scopeRadioGroup:i,name:s,defaultValue:f,value:h,required:y=!1,disabled:_=!1,orientation:C,dir:w,loop:x=!0,onValueChange:A,...P}=e,R=jK(i),E=Mb(w),[O,L]=td({prop:h,defaultProp:f??null,onChange:A,caller:Yb});return I.jsx(bEe,{scope:i,name:s,required:y,disabled:_,value:O,onValueChange:L,children:I.jsx(HP,{asChild:!0,...R,orientation:C,dir:E,loop:x,children:I.jsx(vr.div,{role:"radiogroup","aria-required":y,"aria-orientation":C,"data-disabled":_?"":void 0,dir:E,...P,ref:r})})})});UK.displayName=Yb;var VK="RadioGroupItem",GK=z.forwardRef((e,r)=>{const{__scopeRadioGroup:i,disabled:s,...f}=e,h=TEe(VK,i),y=h.disabled||s,_=jK(i),C=BK(i),w=z.useRef(null),x=bn(r,w),A=h.value===f.value,P=z.useRef(!1);return z.useEffect(()=>{const R=O=>{_Ee.includes(O.key)&&(P.current=!0)},E=()=>P.current=!1;return document.addEventListener("keydown",R),document.addEventListener("keyup",E),()=>{document.removeEventListener("keydown",R),document.removeEventListener("keyup",E)}},[]),I.jsx(zP,{asChild:!0,..._,focusable:!y,active:A,children:I.jsx(OK,{disabled:y,required:h.required,checked:A,...C,...f,name:h.name,ref:x,onCheck:()=>h.onValueChange(f.value),onKeyDown:Kt(R=>{R.key==="Enter"&&R.preventDefault()}),onFocus:Kt(f.onFocus,()=>{var R;P.current&&((R=w.current)==null||R.click())})})})});GK.displayName=VK;var CEe="RadioGroupIndicator",HK=z.forwardRef((e,r)=>{const{__scopeRadioGroup:i,...s}=e,f=BK(i);return I.jsx(MK,{...f,...s,ref:r})});HK.displayName=CEe;var zK=UK,KK=GK,wEe=HK;const QK=z.forwardRef(({className:e,...r},i)=>I.jsx(zK,{className:dr("grid gap-2",e),...r,ref:i}));QK.displayName=zK.displayName;const oD=z.forwardRef(({className:e,...r},i)=>I.jsx(KK,{ref:i,className:dr("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...r,children:I.jsx(wEe,{className:"flex items-center justify-center",children:I.jsx(Tz,{className:"h-2.5 w-2.5 fill-current text-current"})})}));oD.displayName=KK.displayName;const IEe=({isOpen:e,onClose:r,folderName:i,folderId:s})=>{const[f,h]=z.useState("user"),[y,_]=z.useState([]),[C,w]=z.useState([]),{user:x}=gs(),{data:A}=Kr({queryKey:["visible-services",(x==null?void 0:x.id)??0],queryFn:ICe,staleTime:6e4}),{data:P}=Kr({queryKey:["enterprise-users",(x==null?void 0:x.id)??0],queryFn:ECe,staleTime:6e4}),R=()=>{const E=f==="service"?y.length:0,O=f==="user"?C.length:0;if(E===0&&O===0){_r.error("Slectionnez au moins un service ou un utilisateur.");return}_r.success("Partage effectu avec succs !",{description:f==="service"?`${E} service(s) ont t ajouts au partage de "${i}" (simulation).`:`${O} utilisateur(s) ont t ajouts au partage de "${i}" (simulation).`}),_([]),w([]),r()};return I.jsx(to,{open:e,onOpenChange:r,children:I.jsxs(Ui,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[I.jsxs(Vi,{children:[I.jsx(Gi,{children:"Partager le document"}),I.jsxs(ro,{children:['Choisissez les services ou utilisateurs avec qui partager "',i,'"']})]}),I.jsxs("div",{className:"space-y-6 py-4",children:[I.jsxs("div",{className:"space-y-3",children:[I.jsx(cl,{children:"Partager avec"}),I.jsxs(QK,{value:f,onValueChange:E=>h(E),children:[I.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg border hover:bg-accent cursor-pointer",children:[I.jsx(oD,{value:"user",id:"user"}),I.jsx(cP,{className:"w-4 h-4 text-muted-foreground"}),I.jsx(cl,{htmlFor:"user",className:"cursor-pointer flex-1",children:"Utilisateur spcifique"})]}),I.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg border hover:bg-accent cursor-pointer",children:[I.jsx(oD,{value:"service",id:"service"}),I.jsx($me,{className:"w-4 h-4 text-muted-foreground"}),I.jsx(cl,{htmlFor:"service",className:"cursor-pointer flex-1",children:"Service"})]})]})]}),f==="service"&&I.jsxs("div",{className:"space-y-2",children:[I.jsx(cl,{children:"Services de l'entreprise"}),I.jsx("div",{className:"max-h-60 overflow-y-auto space-y-1",children:(A??[]).map(E=>{const O=y.includes(E.id);return I.jsx("button",{type:"button",onClick:()=>_(L=>L.includes(E.id)?L.filter(k=>k!==E.id):[...L,E.id]),className:`w-full flex items-center justify-between px-3 py-2 rounded-md border text-left text-sm transition-colors ${O?"bg-primary/10 border-primary text-primary":"border-border hover:bg-accent"}`,children:I.jsx("span",{children:E.name})},E.id)})})]}),f==="user"&&I.jsxs("div",{className:"space-y-2",children:[I.jsx(cl,{children:"Utilisateurs de l'entreprise"}),I.jsx("div",{className:"max-h-60 overflow-y-auto space-y-1",children:(P??[]).map(E=>{const O=C.includes(E.id);return I.jsxs("button",{type:"button",onClick:()=>w(L=>L.includes(E.id)?L.filter(k=>k!==E.id):[...L,E.id]),className:`w-full flex items-center justify-between px-3 py-2 rounded-md border text-left text-sm transition-colors ${O?"bg-primary/10 border-primary text-primary":"border-border hover:bg-accent"}`,children:[I.jsx("span",{children:`${E.first_name} ${E.last_name}`.trim()}),I.jsx("span",{className:"text-xs text-muted-foreground",children:E.email})]},E.id)})})]})]}),I.jsxs("div",{className:"flex justify-end gap-2",children:[I.jsxs(dt,{variant:"outline",onClick:r,"aria-label":"Annuler",children:[I.jsx(Uv,{className:"w-4 h-4 md:mr-2"}),I.jsx("span",{className:"hidden md:inline",children:"Annuler"})]}),I.jsxs(dt,{onClick:R,"aria-label":"Partager",children:[I.jsx(xz,{className:"w-4 h-4 md:mr-2"}),I.jsx("span",{className:"hidden md:inline",children:"Partager"})]})]})]})})};/*!
 * Dynamsoft JavaScript Library
 * @product Dynamsoft Core JS Edition
 * @website https://www.dynamsoft.com
 * @copyright Copyright 2024, Dynamsoft Corporation
 * @author Dynamsoft
 * @version 3.4.31
 * @fileoverview Dynamsoft JavaScript Library for Core
 * More info on Dynamsoft Core JS: https://www.dynamsoft.com/capture-vision/docs/web/programming/javascript/api-reference/core/core-module.html
 */const tG=e=>e&&typeof e=="object"&&typeof e.then=="function",rG=(async()=>{})().constructor;class uR extends rG{get status(){return this._s}get isPending(){return this._s==="pending"}get isFulfilled(){return this._s==="fulfilled"}get isRejected(){return this._s==="rejected"}get task(){return this._task}set task(r){let i;this._task=r,tG(r)?i=r:typeof r=="function"&&(i=new rG(r)),i&&(async()=>{try{const s=await i;r===this._task&&this.resolve(s)}catch(s){r===this._task&&this.reject(s)}})()}get isEmpty(){return this._task==null}constructor(r){let i,s;super((f,h)=>{i=f,s=h}),this._s="pending",this.resolve=f=>{this.isPending&&(tG(f)?this.task=f:(this._s="fulfilled",i(f)))},this.reject=f=>{this.isPending&&(this._s="rejected",s(f))},this.task=r}}var nG,iG,oG;typeof SuppressedError=="function"&&SuppressedError,function(e){e[e.BOPM_BLOCK=0]="BOPM_BLOCK",e[e.BOPM_UPDATE=1]="BOPM_UPDATE"}(nG||(nG={})),function(e){e[e.CCUT_AUTO=0]="CCUT_AUTO",e[e.CCUT_FULL_CHANNEL=1]="CCUT_FULL_CHANNEL",e[e.CCUT_Y_CHANNEL_ONLY=2]="CCUT_Y_CHANNEL_ONLY",e[e.CCUT_RGB_R_CHANNEL_ONLY=3]="CCUT_RGB_R_CHANNEL_ONLY",e[e.CCUT_RGB_G_CHANNEL_ONLY=4]="CCUT_RGB_G_CHANNEL_ONLY",e[e.CCUT_RGB_B_CHANNEL_ONLY=5]="CCUT_RGB_B_CHANNEL_ONLY"}(iG||(iG={})),function(e){e[e.IPF_BINARY=0]="IPF_BINARY",e[e.IPF_BINARYINVERTED=1]="IPF_BINARYINVERTED",e[e.IPF_GRAYSCALED=2]="IPF_GRAYSCALED",e[e.IPF_NV21=3]="IPF_NV21",e[e.IPF_RGB_565=4]="IPF_RGB_565",e[e.IPF_RGB_555=5]="IPF_RGB_555",e[e.IPF_RGB_888=6]="IPF_RGB_888",e[e.IPF_ARGB_8888=7]="IPF_ARGB_8888",e[e.IPF_RGB_161616=8]="IPF_RGB_161616",e[e.IPF_ARGB_16161616=9]="IPF_ARGB_16161616",e[e.IPF_ABGR_8888=10]="IPF_ABGR_8888",e[e.IPF_ABGR_16161616=11]="IPF_ABGR_16161616",e[e.IPF_BGR_888=12]="IPF_BGR_888",e[e.IPF_BINARY_8=13]="IPF_BINARY_8",e[e.IPF_NV12=14]="IPF_NV12",e[e.IPF_BINARY_8_INVERTED=15]="IPF_BINARY_8_INVERTED"}(oG||(oG={}));const $S=typeof self>"u",YK=typeof importScripts=="function",aG=(()=>{if(!YK){if(!$S&&document.currentScript){let e=document.currentScript.src,r=e.indexOf("?");if(r!=-1)e=e.substring(0,r);else{let i=e.indexOf("#");i!=-1&&(e=e.substring(0,i))}return e.substring(0,e.lastIndexOf("/")+1)}return"./"}})(),qK=e=>{if(e==null&&(e="./"),!($S||YK)){let r=document.createElement("a");r.href=e,e=r.href}return e.endsWith("/")||(e+="/"),e},EEe=e=>{const r={},i={std:"dynamsoft-capture-vision-std",dip:"dynamsoft-image-processing",core:"dynamsoft-core",dnn:"dynamsoft-capture-vision-dnn",license:"dynamsoft-license",utility:"dynamsoft-utility",cvr:"dynamsoft-capture-vision-router",dbr:"dynamsoft-barcode-reader",dlr:"dynamsoft-label-recognizer",ddn:"dynamsoft-document-normalizer",dcp:"dynamsoft-code-parser",dcpd:"dynamsoft-code-parser",dlrData:"dynamsoft-label-recognizer-data",dce:"dynamsoft-camera-enhancer",ddv:"dynamsoft-document-viewer"};for(let s in e){if(s==="rootDirectory")continue;let f=s,h=e[f],y=h&&typeof h=="object"&&h.path?h.path:h,_=e.rootDirectory;if(_&&!_.endsWith("/")&&(_+="/"),typeof h=="object"&&h.isInternal)_&&(y=e[f].version?`${_}${i[f]}@${e[f].version}/dist/${f==="ddv"?"engine":""}`:`${_}${i[f]}/dist/${f==="ddv"?"engine":""}`);else{const C=/^@engineRootDirectory(\/?)/;if(typeof y=="string"&&(y=y.replace(C,_||"")),typeof y=="object"&&f==="dwt"){const w=e[f].resourcesPath,x=e[f].serviceInstallerLocation;r[f]={resourcesPath:w.replace(C,_||""),serviceInstallerLocation:x.replace(C,_||"")};continue}}r[f]=qK(y)}return r};let Rg,dl,G0,eb,ga;typeof navigator<"u"&&(Rg=navigator,dl=Rg.userAgent,G0=Rg.platform,eb=Rg.mediaDevices),function(){if(!$S){const e={Edge:{search:"Edg",verSearch:"Edg"},OPR:null,Chrome:null,Safari:{str:Rg.vendor,search:"Apple",verSearch:["Version","iPhone OS","CPU OS"]},Firefox:null,Explorer:{search:"MSIE",verSearch:"MSIE"}},r={HarmonyOS:null,Android:null,iPhone:null,iPad:null,Windows:{str:G0,search:"Win"},Mac:{str:G0},Linux:{str:G0}};let i="unknownBrowser",s=0,f="unknownOS";for(let h in e){const y=e[h]||{};let _=y.str||dl,C=y.search||h,w=y.verStr||dl,x=y.verSearch||h;if(x instanceof Array||(x=[x]),_.indexOf(C)!=-1){i=h;for(let A of x){let P=w.indexOf(A);if(P!=-1){s=parseFloat(w.substring(P+A.length+1));break}}break}}for(let h in r){const y=r[h]||{};let _=y.str||dl,C=y.search||h;if(_.indexOf(C)!=-1){f=h;break}}f=="Linux"&&dl.indexOf("Windows NT")!=-1&&(f="HarmonyOS"),ga={browser:i,version:s,OS:f}}$S&&(ga={browser:"ssr",version:0,OS:"ssr"})}();const xEe=typeof WebAssembly<"u"&&dl&&!(/Safari/.test(dl)&&!/Chrome/.test(dl)&&/\(.+\s11_2_([2-6]).*\)/.test(dl)),AEe=!(typeof Worker>"u"),JK=!(!eb||!eb.getUserMedia),DEe=async()=>{let e=!1;if(JK)try{(await eb.getUserMedia({video:!0})).getTracks().forEach(r=>{r.stop()}),e=!0}catch{}return e};ga.browser==="Chrome"&&ga.version>66||ga.browser==="Safari"&&ga.version>13||ga.browser==="OPR"&&ga.version>43||ga.browser==="Edge"&&ga.version;const Xc={},sG=async e=>{let r=typeof e=="string"?[e]:e,i=[];for(let s of r)i.push(Xc[s]=Xc[s]||new uR);await Promise.all(i)},PEe=async(e,r)=>{let i,s=typeof e=="string"?[e]:e,f=[];for(let h of s){let y;f.push(y=Xc[h]=Xc[h]||new uR(i=i||r())),y.isEmpty&&(y.task=i=i||r())}await Promise.all(f)};let ku,XK=0;const uG=()=>XK++,Hd={};let Xg;const REe=e=>{Xg=e,ku&&ku.postMessage({type:"setBLog",body:{value:!!e}})};let lR=!1;const kEe=e=>{lR=e,ku&&ku.postMessage({type:"setBDebug",body:{value:!!e}})},Bg={},NEe={},wA={dip:{wasm:!0}},aD={std:{version:"1.4.21",path:qK(aG+"../../dynamsoft-capture-vision-std@1.4.21/dist/"),isInternal:!0},core:{version:"3.4.31",path:aG,isInternal:!0}},OEe=async e=>{let r;e instanceof Array||(e=e?[e]:[]);let i=Xc.core;r=!i||i.isEmpty;let s=new Map;const f=_=>{if((_=_.toLowerCase())=="std"||_=="core")return;if(!wA[_])throw Error("The '"+_+"' module cannot be found.");let C=wA[_].deps;if(C!=null&&C.length)for(let x of C)f(x);let w=Xc[_];s.has(_)||s.set(_,!w||w.isEmpty)};for(let _ of e)f(_);let h=[];r&&h.push("core"),h.push(...s.keys());const y=[...s.entries()].filter(_=>!_[1]).map(_=>_[0]);await PEe(h,async()=>{const _=[...s.entries()].filter(R=>R[1]).map(R=>R[0]);await sG(y);const C=EEe(aD),w={};for(let R of _)w[R]=wA[R];const x={engineResourcePaths:C,autoResources:w,names:_};let A=new uR;if(r){x.needLoadCore=!0;let R=C.core+Ys._workerName;R.startsWith(location.origin)||(R=await fetch(R).then(E=>E.blob()).then(E=>URL.createObjectURL(E))),ku=new Worker(R),ku.onerror=E=>{let O=new Error(E.message);A.reject(O)},ku.addEventListener("message",E=>{let O=E.data?E.data:E,L=O.type,k=O.id,N=O.body;switch(L){case"log":Xg&&Xg(O.message);break;case"task":try{Hd[k](N),delete Hd[k]}catch(j){throw delete Hd[k],j}break;case"event":try{Hd[k](N)}catch(j){throw j}break;default:console.log(E)}}),x.bLog=!!Xg,x.bd=lR,x.dm=location.origin.startsWith("http")?location.origin:"https://localhost"}else await sG("core");let P=XK++;Hd[P]=R=>{if(R.success)Object.assign(Bg,R.versions),JSON.stringify(R.versions)!=="{}"&&(Ys._versions=R.versions),A.resolve(void 0);else{const E=Error(R.message);R.stack&&(E.stack=R.stack),A.reject(E)}},ku.postMessage({type:"loadWasm",body:x,id:P}),await A})};class Ys{static get engineResourcePaths(){return aD}static set engineResourcePaths(r){Object.assign(aD,r)}static get bSupportDce4Module(){return this._bSupportDce4Module}static get bSupportIRTModule(){return this._bSupportIRTModule}static get versions(){return this._versions}static get _onLog(){return Xg}static set _onLog(r){REe(r)}static get _bDebug(){return lR}static set _bDebug(r){kEe(r)}static isModuleLoaded(r){return r=(r=r||"core").toLowerCase(),!!Xc[r]&&Xc[r].isFulfilled}static async loadWasm(r){return await OEe(r)}static async detectEnvironment(){return await(async()=>({wasm:xEe,worker:AEe,getUserMedia:JK,camera:await DEe(),browser:ga.browser,version:ga.version,OS:ga.OS}))()}static async getModuleVersion(){return await new Promise((r,i)=>{let s=uG();Hd[s]=async f=>{if(f.success)return r(f.versions);{let h=new Error(f.message);return h.stack=f.stack+`
`+h.stack,i(h)}},ku.postMessage({type:"getModuleVersion",id:s})})}static getVersion(){const r=Bg.core&&Bg.core.worker,i=Bg.core&&Bg.core.wasm;return`3.4.31(Worker: ${r||"Not Loaded"}, Wasm: ${i||"Not Loaded"})`}static enableLogging(){Ys._onLog=console.log}static disableLogging(){Ys._onLog=null}static async cfd(r){return await new Promise((i,s)=>{let f=uG();Hd[f]=async h=>{if(h.success)return i();{let y=new Error(h.message);return y.stack=h.stack+`
`+y.stack,s(y)}},ku.postMessage({type:"cfd",id:f,body:{count:r}})})}}var lG,cG,dG,fG,hG,pG,mG,gG,vG;Ys._bSupportDce4Module=-1,Ys._bSupportIRTModule=-1,Ys._versions=null,Ys._workerName="core.worker.js",Ys.browserInfo=ga,function(e){e[e.CRIT_ORIGINAL_IMAGE=1]="CRIT_ORIGINAL_IMAGE",e[e.CRIT_BARCODE=2]="CRIT_BARCODE",e[e.CRIT_TEXT_LINE=4]="CRIT_TEXT_LINE",e[e.CRIT_DETECTED_QUAD=8]="CRIT_DETECTED_QUAD",e[e.CRIT_NORMALIZED_IMAGE=16]="CRIT_NORMALIZED_IMAGE",e[e.CRIT_PARSED_RESULT=32]="CRIT_PARSED_RESULT"}(lG||(lG={})),function(e){e[e.CT_NORMAL_INTERSECTED=0]="CT_NORMAL_INTERSECTED",e[e.CT_T_INTERSECTED=1]="CT_T_INTERSECTED",e[e.CT_CROSS_INTERSECTED=2]="CT_CROSS_INTERSECTED",e[e.CT_NOT_INTERSECTED=3]="CT_NOT_INTERSECTED"}(cG||(cG={})),function(e){e[e.EC_OK=0]="EC_OK",e[e.EC_UNKNOWN=-1e4]="EC_UNKNOWN",e[e.EC_NO_MEMORY=-10001]="EC_NO_MEMORY",e[e.EC_NULL_POINTER=-10002]="EC_NULL_POINTER",e[e.EC_LICENSE_INVALID=-10003]="EC_LICENSE_INVALID",e[e.EC_LICENSE_EXPIRED=-10004]="EC_LICENSE_EXPIRED",e[e.EC_FILE_NOT_FOUND=-10005]="EC_FILE_NOT_FOUND",e[e.EC_FILE_TYPE_NOT_SUPPORTED=-10006]="EC_FILE_TYPE_NOT_SUPPORTED",e[e.EC_BPP_NOT_SUPPORTED=-10007]="EC_BPP_NOT_SUPPORTED",e[e.EC_INDEX_INVALID=-10008]="EC_INDEX_INVALID",e[e.EC_CUSTOM_REGION_INVALID=-10010]="EC_CUSTOM_REGION_INVALID",e[e.EC_IMAGE_READ_FAILED=-10012]="EC_IMAGE_READ_FAILED",e[e.EC_TIFF_READ_FAILED=-10013]="EC_TIFF_READ_FAILED",e[e.EC_DIB_BUFFER_INVALID=-10018]="EC_DIB_BUFFER_INVALID",e[e.EC_PDF_READ_FAILED=-10021]="EC_PDF_READ_FAILED",e[e.EC_PDF_DLL_MISSING=-10022]="EC_PDF_DLL_MISSING",e[e.EC_PAGE_NUMBER_INVALID=-10023]="EC_PAGE_NUMBER_INVALID",e[e.EC_CUSTOM_SIZE_INVALID=-10024]="EC_CUSTOM_SIZE_INVALID",e[e.EC_TIMEOUT=-10026]="EC_TIMEOUT",e[e.EC_JSON_PARSE_FAILED=-10030]="EC_JSON_PARSE_FAILED",e[e.EC_JSON_TYPE_INVALID=-10031]="EC_JSON_TYPE_INVALID",e[e.EC_JSON_KEY_INVALID=-10032]="EC_JSON_KEY_INVALID",e[e.EC_JSON_VALUE_INVALID=-10033]="EC_JSON_VALUE_INVALID",e[e.EC_JSON_NAME_KEY_MISSING=-10034]="EC_JSON_NAME_KEY_MISSING",e[e.EC_JSON_NAME_VALUE_DUPLICATED=-10035]="EC_JSON_NAME_VALUE_DUPLICATED",e[e.EC_TEMPLATE_NAME_INVALID=-10036]="EC_TEMPLATE_NAME_INVALID",e[e.EC_JSON_NAME_REFERENCE_INVALID=-10037]="EC_JSON_NAME_REFERENCE_INVALID",e[e.EC_PARAMETER_VALUE_INVALID=-10038]="EC_PARAMETER_VALUE_INVALID",e[e.EC_DOMAIN_NOT_MATCH=-10039]="EC_DOMAIN_NOT_MATCH",e[e.EC_RESERVED_INFO_NOT_MATCH=-10040]="EC_RESERVED_INFO_NOT_MATCH",e[e.EC_LICENSE_KEY_NOT_MATCH=-10043]="EC_LICENSE_KEY_NOT_MATCH",e[e.EC_REQUEST_FAILED=-10044]="EC_REQUEST_FAILED",e[e.EC_LICENSE_INIT_FAILED=-10045]="EC_LICENSE_INIT_FAILED",e[e.EC_SET_MODE_ARGUMENT_ERROR=-10051]="EC_SET_MODE_ARGUMENT_ERROR",e[e.EC_LICENSE_CONTENT_INVALID=-10052]="EC_LICENSE_CONTENT_INVALID",e[e.EC_LICENSE_KEY_INVALID=-10053]="EC_LICENSE_KEY_INVALID",e[e.EC_LICENSE_DEVICE_RUNS_OUT=-10054]="EC_LICENSE_DEVICE_RUNS_OUT",e[e.EC_GET_MODE_ARGUMENT_ERROR=-10055]="EC_GET_MODE_ARGUMENT_ERROR",e[e.EC_IRT_LICENSE_INVALID=-10056]="EC_IRT_LICENSE_INVALID",e[e.EC_FILE_SAVE_FAILED=-10058]="EC_FILE_SAVE_FAILED",e[e.EC_STAGE_TYPE_INVALID=-10059]="EC_STAGE_TYPE_INVALID",e[e.EC_IMAGE_ORIENTATION_INVALID=-10060]="EC_IMAGE_ORIENTATION_INVALID",e[e.EC_CONVERT_COMPLEX_TEMPLATE_ERROR=-10061]="EC_CONVERT_COMPLEX_TEMPLATE_ERROR",e[e.EC_CALL_REJECTED_WHEN_CAPTURING=-10062]="EC_CALL_REJECTED_WHEN_CAPTURING",e[e.EC_NO_IMAGE_SOURCE=-10063]="EC_NO_IMAGE_SOURCE",e[e.EC_READ_DIRECTORY_FAILED=-10064]="EC_READ_DIRECTORY_FAILED",e[e.EC_MODULE_NOT_FOUND=-10065]="EC_MODULE_NOT_FOUND",e[e.EC_MULTI_PAGES_NOT_SUPPORTED=-10066]="EC_MULTI_PAGES_NOT_SUPPORTED",e[e.EC_FILE_ALREADY_EXISTS=-10067]="EC_FILE_ALREADY_EXISTS",e[e.EC_CREATE_FILE_FAILED=-10068]="EC_CREATE_FILE_FAILED",e[e.EC_IMGAE_DATA_INVALID=-10069]="EC_IMGAE_DATA_INVALID",e[e.EC_IMAGE_SIZE_NOT_MATCH=-10070]="EC_IMAGE_SIZE_NOT_MATCH",e[e.EC_IMAGE_PIXEL_FORMAT_NOT_MATCH=-10071]="EC_IMAGE_PIXEL_FORMAT_NOT_MATCH",e[e.EC_SECTION_LEVEL_RESULT_IRREPLACEABLE=-10072]="EC_SECTION_LEVEL_RESULT_IRREPLACEABLE",e[e.EC_AXIS_DEFINITION_INCORRECT=-10073]="EC_AXIS_DEFINITION_INCORRECT",e[e.EC_RESULT_TYPE_MISMATCH_IRREPLACEABLE=-10074]="EC_RESULT_TYPE_MISMATCH_IRREPLACEABLE",e[e.EC_PDF_LIBRARY_LOAD_FAILED=-10075]="EC_PDF_LIBRARY_LOAD_FAILED",e[e.EC_NO_LICENSE=-2e4]="EC_NO_LICENSE",e[e.EC_HANDSHAKE_CODE_INVALID=-20001]="EC_HANDSHAKE_CODE_INVALID",e[e.EC_LICENSE_BUFFER_FAILED=-20002]="EC_LICENSE_BUFFER_FAILED",e[e.EC_LICENSE_SYNC_FAILED=-20003]="EC_LICENSE_SYNC_FAILED",e[e.EC_DEVICE_NOT_MATCH=-20004]="EC_DEVICE_NOT_MATCH",e[e.EC_BIND_DEVICE_FAILED=-20005]="EC_BIND_DEVICE_FAILED",e[e.EC_INSTANCE_COUNT_OVER_LIMIT=-20008]="EC_INSTANCE_COUNT_OVER_LIMIT",e[e.EC_LICENSE_INIT_SEQUENCE_FAILED=-20009]="EC_LICENSE_INIT_SEQUENCE_FAILED",e[e.EC_TRIAL_LICENSE=-20010]="EC_TRIAL_LICENSE",e[e.EC_FAILED_TO_REACH_DLS=-20200]="EC_FAILED_TO_REACH_DLS",e[e.EC_LICENSE_CACHE_USED=-20012]="EC_LICENSE_CACHE_USED",e[e.EC_BARCODE_FORMAT_INVALID=-30009]="EC_BARCODE_FORMAT_INVALID",e[e.EC_QR_LICENSE_INVALID=-30016]="EC_QR_LICENSE_INVALID",e[e.EC_1D_LICENSE_INVALID=-30017]="EC_1D_LICENSE_INVALID",e[e.EC_PDF417_LICENSE_INVALID=-30019]="EC_PDF417_LICENSE_INVALID",e[e.EC_DATAMATRIX_LICENSE_INVALID=-30020]="EC_DATAMATRIX_LICENSE_INVALID",e[e.EC_CUSTOM_MODULESIZE_INVALID=-30025]="EC_CUSTOM_MODULESIZE_INVALID",e[e.EC_AZTEC_LICENSE_INVALID=-30041]="EC_AZTEC_LICENSE_INVALID",e[e.EC_PATCHCODE_LICENSE_INVALID=-30046]="EC_PATCHCODE_LICENSE_INVALID",e[e.EC_POSTALCODE_LICENSE_INVALID=-30047]="EC_POSTALCODE_LICENSE_INVALID",e[e.EC_DPM_LICENSE_INVALID=-30048]="EC_DPM_LICENSE_INVALID",e[e.EC_FRAME_DECODING_THREAD_EXISTS=-30049]="EC_FRAME_DECODING_THREAD_EXISTS",e[e.EC_STOP_DECODING_THREAD_FAILED=-30050]="EC_STOP_DECODING_THREAD_FAILED",e[e.EC_MAXICODE_LICENSE_INVALID=-30057]="EC_MAXICODE_LICENSE_INVALID",e[e.EC_GS1_DATABAR_LICENSE_INVALID=-30058]="EC_GS1_DATABAR_LICENSE_INVALID",e[e.EC_GS1_COMPOSITE_LICENSE_INVALID=-30059]="EC_GS1_COMPOSITE_LICENSE_INVALID",e[e.EC_DOTCODE_LICENSE_INVALID=-30061]="EC_DOTCODE_LICENSE_INVALID",e[e.EC_PHARMACODE_LICENSE_INVALID=-30062]="EC_PHARMACODE_LICENSE_INVALID",e[e.EC_CHARACTER_MODEL_FILE_NOT_FOUND=-40100]="EC_CHARACTER_MODEL_FILE_NOT_FOUND",e[e.EC_TEXT_LINE_GROUP_LAYOUT_CONFLICT=-40101]="EC_TEXT_LINE_GROUP_LAYOUT_CONFLICT",e[e.EC_TEXT_LINE_GROUP_REGEX_CONFLICT=-40102]="EC_TEXT_LINE_GROUP_REGEX_CONFLICT",e[e.EC_QUADRILATERAL_INVALID=-50057]="EC_QUADRILATERAL_INVALID",e[e.EC_PANORAMA_LICENSE_INVALID=-70060]="EC_PANORAMA_LICENSE_INVALID",e[e.EC_RESOURCE_PATH_NOT_EXIST=-90001]="EC_RESOURCE_PATH_NOT_EXIST",e[e.EC_RESOURCE_LOAD_FAILED=-90002]="EC_RESOURCE_LOAD_FAILED",e[e.EC_CODE_SPECIFICATION_NOT_FOUND=-90003]="EC_CODE_SPECIFICATION_NOT_FOUND",e[e.EC_FULL_CODE_EMPTY=-90004]="EC_FULL_CODE_EMPTY",e[e.EC_FULL_CODE_PREPROCESS_FAILED=-90005]="EC_FULL_CODE_PREPROCESS_FAILED",e[e.EC_ZA_DL_LICENSE_INVALID=-90006]="EC_ZA_DL_LICENSE_INVALID",e[e.EC_AAMVA_DL_ID_LICENSE_INVALID=-90007]="EC_AAMVA_DL_ID_LICENSE_INVALID",e[e.EC_AADHAAR_LICENSE_INVALID=-90008]="EC_AADHAAR_LICENSE_INVALID",e[e.EC_MRTD_LICENSE_INVALID=-90009]="EC_MRTD_LICENSE_INVALID",e[e.EC_VIN_LICENSE_INVALID=-90010]="EC_VIN_LICENSE_INVALID",e[e.EC_CUSTOMIZED_CODE_TYPE_LICENSE_INVALID=-90011]="EC_CUSTOMIZED_CODE_TYPE_LICENSE_INVALID",e[e.EC_LICENSE_WARNING=-10076]="EC_LICENSE_WARNING",e[e.EC_BARCODE_READER_LICENSE_NOT_FOUND=-30063]="EC_BARCODE_READER_LICENSE_NOT_FOUND",e[e.EC_LABEL_RECOGNIZER_LICENSE_NOT_FOUND=-40103]="EC_LABEL_RECOGNIZER_LICENSE_NOT_FOUND",e[e.EC_DOCUMENT_NORMALIZER_LICENSE_NOT_FOUND=-50058]="EC_DOCUMENT_NORMALIZER_LICENSE_NOT_FOUND",e[e.EC_CODE_PARSER_LICENSE_NOT_FOUND=-90012]="EC_CODE_PARSER_LICENSE_NOT_FOUND"}(dG||(dG={})),function(e){e[e.GEM_SKIP=0]="GEM_SKIP",e[e.GEM_AUTO=1]="GEM_AUTO",e[e.GEM_GENERAL=2]="GEM_GENERAL",e[e.GEM_GRAY_EQUALIZE=4]="GEM_GRAY_EQUALIZE",e[e.GEM_GRAY_SMOOTH=8]="GEM_GRAY_SMOOTH",e[e.GEM_SHARPEN_SMOOTH=16]="GEM_SHARPEN_SMOOTH",e[e.GEM_REV=-2147483648]="GEM_REV"}(fG||(fG={})),function(e){e[e.GTM_SKIP=0]="GTM_SKIP",e[e.GTM_INVERTED=1]="GTM_INVERTED",e[e.GTM_ORIGINAL=2]="GTM_ORIGINAL",e[e.GTM_AUTO=4]="GTM_AUTO",e[e.GTM_REV=-2147483648]="GTM_REV"}(hG||(hG={})),function(e){e[e.ITT_FILE_IMAGE=0]="ITT_FILE_IMAGE",e[e.ITT_VIDEO_FRAME=1]="ITT_VIDEO_FRAME"}(pG||(pG={})),function(e){e[e.PDFRM_VECTOR=1]="PDFRM_VECTOR",e[e.PDFRM_RASTER=2]="PDFRM_RASTER",e[e.PDFRM_REV=-2147483648]="PDFRM_REV"}(mG||(mG={})),function(e){e[e.RDS_RASTERIZED_PAGES=0]="RDS_RASTERIZED_PAGES",e[e.RDS_EXTRACTED_IMAGES=1]="RDS_EXTRACTED_IMAGES"}(gG||(gG={})),function(e){e[e.CVS_NOT_VERIFIED=0]="CVS_NOT_VERIFIED",e[e.CVS_PASSED=1]="CVS_PASSED",e[e.CVS_FAILED=2]="CVS_FAILED"}(vG||(vG={}));BigInt(0),BigInt(1),BigInt(2),BigInt(4),BigInt(8),BigInt(16),BigInt(32),BigInt(64),BigInt(128),BigInt(256),BigInt(512),BigInt(1024),BigInt(2048),BigInt(4096),BigInt(8192),BigInt(16384),BigInt(32768),BigInt(65536),BigInt(1<<17),BigInt(1<<18),BigInt(1<<19),BigInt(1<<20),BigInt(1<<21),BigInt(1<<22),BigInt(1<<23),BigInt(1<<24),BigInt(1<<25),BigInt(1<<26),BigInt(1<<27),BigInt(1<<28),BigInt(1<<29),BigInt("0xFFFFFFFFFFFFFFFF");var yG,_G;(function(e){e[e.ROET_PREDETECTED_REGION=0]="ROET_PREDETECTED_REGION",e[e.ROET_LOCALIZED_BARCODE=1]="ROET_LOCALIZED_BARCODE",e[e.ROET_DECODED_BARCODE=2]="ROET_DECODED_BARCODE",e[e.ROET_LOCALIZED_TEXT_LINE=3]="ROET_LOCALIZED_TEXT_LINE",e[e.ROET_RECOGNIZED_TEXT_LINE=4]="ROET_RECOGNIZED_TEXT_LINE",e[e.ROET_DETECTED_QUAD=5]="ROET_DETECTED_QUAD",e[e.ROET_NORMALIZED_IMAGE=6]="ROET_NORMALIZED_IMAGE",e[e.ROET_SOURCE_IMAGE=7]="ROET_SOURCE_IMAGE",e[e.ROET_TARGET_ROI=8]="ROET_TARGET_ROI"})(yG||(yG={})),function(e){e[e.ST_NULL=0]="ST_NULL",e[e.ST_REGION_PREDETECTION=1]="ST_REGION_PREDETECTION",e[e.ST_BARCODE_LOCALIZATION=2]="ST_BARCODE_LOCALIZATION",e[e.ST_BARCODE_DECODING=3]="ST_BARCODE_DECODING",e[e.ST_TEXT_LINE_LOCALIZATION=4]="ST_TEXT_LINE_LOCALIZATION",e[e.ST_TEXT_LINE_RECOGNITION=5]="ST_TEXT_LINE_RECOGNITION",e[e.ST_DOCUMENT_DETECTION=6]="ST_DOCUMENT_DETECTION",e[e.ST_DOCUMENT_NORMALIZATION=7]="ST_DOCUMENT_NORMALIZATION"}(_G||(_G={}));var SG={};/*! 20251210194900 - 20230504
* Dynamsoft JavaScript Library
* Product: Dynamic Web TWAIN
* Web Site: https://www.dynamsoft.com
*
* Copyright 2025, Dynamsoft Corporation
* Author: Dynamsoft Support Team
* Version: 19.3
*/var cR=function(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}}(),q=cR.Dynamsoft||{};(function(e){e.DWT||(e.DWT={}),e.DWT.LTS||(e.DWT.LTS={}),e.Lib||(e.Lib={}),e.Lib.UI||(e.Lib.UI={}),e.Lib.html5||(e.Lib.html5={}),cR.Dynamsoft=e})(q);(function(e){if(!e.WeakSet){let y=function(_){this.name="__st"+(1e9*Math.random()>>>0)+(r+++"__"),_&&_.forEach&&_.forEach(this.add,this)};e.WeakSet=y;var r=Date.now()%1e9,i=y.prototype;i.add=function(_){var C=this.name;return _[C]||Object.defineProperty(_,C,{value:!0,writable:!0}),this},i.delete=function(_){return _[this.name]?(_[this.name]=void 0,!0):!1},i.has=function(_){return!!_[this.name]}}if(!e.WeakMap){let y=function(_){return Object(_)===_};var s=Object.prototype.hasOwnProperty,f=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{value:1}).x===1}catch{}}(),h=function(_,C,w){f?Object.defineProperty(_,C,{configurable:!0,writable:!0,value:w}):_[C]=w};e.WeakMap=function(){function _(){if(this===void 0)throw new TypeError("Constructor WeakMap requires 'new'");if(h(this,"_id",w("_WeakMap")),arguments.length>0)throw new TypeError("WeakMap iterable is not supported")}h(_.prototype,"delete",function(A){if(C(this,"delete"),!y(A))return!1;var P=A[this._id];return P&&P[0]===A?(delete A[this._id],!0):!1}),h(_.prototype,"get",function(A){if(C(this,"get"),!!y(A)){var P=A[this._id];if(P&&P[0]===A)return P[1]}}),h(_.prototype,"has",function(A){if(C(this,"has"),!y(A))return!1;var P=A[this._id];return!!(P&&P[0]===A)}),h(_.prototype,"set",function(A,P){if(C(this,"set"),!y(A))throw new TypeError("Invalid value used as weak map key");var R=A[this._id];return R&&R[0]===A?(R[1]=P,this):(h(A,this._id,[A,P]),this)});function C(A,P){if(!y(A)||!s.call(A,"_id"))throw new TypeError(P+" method called on incompatible receiver "+typeof A)}function w(A){return A+"_"+x()+"."+x()}function x(){return Math.random().toString().substring(2)}return h(_,"_polyfill",!0),_}()}})(cR);if(!q.Lib.jsinited){if(q.Lib.jsinited=1,function(e){if(typeof exports=="object")module.exports=e();else if(typeof define=="function"&&define.amd)define(e);else{var r;try{r=window}catch{r=self}r.SparkMD5=e()}}(function(e){var r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function i(O,L){var k=O[0],N=O[1],j=O[2],G=O[3];k+=(N&j|~N&G)+L[0]-680876936|0,k=(k<<7|k>>>25)+N|0,G+=(k&N|~k&j)+L[1]-389564586|0,G=(G<<12|G>>>20)+k|0,j+=(G&k|~G&N)+L[2]+606105819|0,j=(j<<17|j>>>15)+G|0,N+=(j&G|~j&k)+L[3]-1044525330|0,N=(N<<22|N>>>10)+j|0,k+=(N&j|~N&G)+L[4]-176418897|0,k=(k<<7|k>>>25)+N|0,G+=(k&N|~k&j)+L[5]+1200080426|0,G=(G<<12|G>>>20)+k|0,j+=(G&k|~G&N)+L[6]-1473231341|0,j=(j<<17|j>>>15)+G|0,N+=(j&G|~j&k)+L[7]-45705983|0,N=(N<<22|N>>>10)+j|0,k+=(N&j|~N&G)+L[8]+1770035416|0,k=(k<<7|k>>>25)+N|0,G+=(k&N|~k&j)+L[9]-1958414417|0,G=(G<<12|G>>>20)+k|0,j+=(G&k|~G&N)+L[10]-42063|0,j=(j<<17|j>>>15)+G|0,N+=(j&G|~j&k)+L[11]-1990404162|0,N=(N<<22|N>>>10)+j|0,k+=(N&j|~N&G)+L[12]+1804603682|0,k=(k<<7|k>>>25)+N|0,G+=(k&N|~k&j)+L[13]-40341101|0,G=(G<<12|G>>>20)+k|0,j+=(G&k|~G&N)+L[14]-1502002290|0,j=(j<<17|j>>>15)+G|0,N+=(j&G|~j&k)+L[15]+1236535329|0,N=(N<<22|N>>>10)+j|0,k+=(N&G|j&~G)+L[1]-165796510|0,k=(k<<5|k>>>27)+N|0,G+=(k&j|N&~j)+L[6]-1069501632|0,G=(G<<9|G>>>23)+k|0,j+=(G&N|k&~N)+L[11]+643717713|0,j=(j<<14|j>>>18)+G|0,N+=(j&k|G&~k)+L[0]-373897302|0,N=(N<<20|N>>>12)+j|0,k+=(N&G|j&~G)+L[5]-701558691|0,k=(k<<5|k>>>27)+N|0,G+=(k&j|N&~j)+L[10]+38016083|0,G=(G<<9|G>>>23)+k|0,j+=(G&N|k&~N)+L[15]-660478335|0,j=(j<<14|j>>>18)+G|0,N+=(j&k|G&~k)+L[4]-405537848|0,N=(N<<20|N>>>12)+j|0,k+=(N&G|j&~G)+L[9]+568446438|0,k=(k<<5|k>>>27)+N|0,G+=(k&j|N&~j)+L[14]-1019803690|0,G=(G<<9|G>>>23)+k|0,j+=(G&N|k&~N)+L[3]-187363961|0,j=(j<<14|j>>>18)+G|0,N+=(j&k|G&~k)+L[8]+1163531501|0,N=(N<<20|N>>>12)+j|0,k+=(N&G|j&~G)+L[13]-1444681467|0,k=(k<<5|k>>>27)+N|0,G+=(k&j|N&~j)+L[2]-51403784|0,G=(G<<9|G>>>23)+k|0,j+=(G&N|k&~N)+L[7]+1735328473|0,j=(j<<14|j>>>18)+G|0,N+=(j&k|G&~k)+L[12]-1926607734|0,N=(N<<20|N>>>12)+j|0,k+=(N^j^G)+L[5]-378558|0,k=(k<<4|k>>>28)+N|0,G+=(k^N^j)+L[8]-2022574463|0,G=(G<<11|G>>>21)+k|0,j+=(G^k^N)+L[11]+1839030562|0,j=(j<<16|j>>>16)+G|0,N+=(j^G^k)+L[14]-35309556|0,N=(N<<23|N>>>9)+j|0,k+=(N^j^G)+L[1]-1530992060|0,k=(k<<4|k>>>28)+N|0,G+=(k^N^j)+L[4]+1272893353|0,G=(G<<11|G>>>21)+k|0,j+=(G^k^N)+L[7]-155497632|0,j=(j<<16|j>>>16)+G|0,N+=(j^G^k)+L[10]-1094730640|0,N=(N<<23|N>>>9)+j|0,k+=(N^j^G)+L[13]+681279174|0,k=(k<<4|k>>>28)+N|0,G+=(k^N^j)+L[0]-358537222|0,G=(G<<11|G>>>21)+k|0,j+=(G^k^N)+L[3]-722521979|0,j=(j<<16|j>>>16)+G|0,N+=(j^G^k)+L[6]+76029189|0,N=(N<<23|N>>>9)+j|0,k+=(N^j^G)+L[9]-640364487|0,k=(k<<4|k>>>28)+N|0,G+=(k^N^j)+L[12]-421815835|0,G=(G<<11|G>>>21)+k|0,j+=(G^k^N)+L[15]+530742520|0,j=(j<<16|j>>>16)+G|0,N+=(j^G^k)+L[2]-995338651|0,N=(N<<23|N>>>9)+j|0,k+=(j^(N|~G))+L[0]-198630844|0,k=(k<<6|k>>>26)+N|0,G+=(N^(k|~j))+L[7]+1126891415|0,G=(G<<10|G>>>22)+k|0,j+=(k^(G|~N))+L[14]-1416354905|0,j=(j<<15|j>>>17)+G|0,N+=(G^(j|~k))+L[5]-57434055|0,N=(N<<21|N>>>11)+j|0,k+=(j^(N|~G))+L[12]+1700485571|0,k=(k<<6|k>>>26)+N|0,G+=(N^(k|~j))+L[3]-1894986606|0,G=(G<<10|G>>>22)+k|0,j+=(k^(G|~N))+L[10]-1051523|0,j=(j<<15|j>>>17)+G|0,N+=(G^(j|~k))+L[1]-2054922799|0,N=(N<<21|N>>>11)+j|0,k+=(j^(N|~G))+L[8]+1873313359|0,k=(k<<6|k>>>26)+N|0,G+=(N^(k|~j))+L[15]-30611744|0,G=(G<<10|G>>>22)+k|0,j+=(k^(G|~N))+L[6]-1560198380|0,j=(j<<15|j>>>17)+G|0,N+=(G^(j|~k))+L[13]+1309151649|0,N=(N<<21|N>>>11)+j|0,k+=(j^(N|~G))+L[4]-145523070|0,k=(k<<6|k>>>26)+N|0,G+=(N^(k|~j))+L[11]-1120210379|0,G=(G<<10|G>>>22)+k|0,j+=(k^(G|~N))+L[2]+718787259|0,j=(j<<15|j>>>17)+G|0,N+=(G^(j|~k))+L[9]-343485551|0,N=(N<<21|N>>>11)+j|0,O[0]=k+O[0]|0,O[1]=N+O[1]|0,O[2]=j+O[2]|0,O[3]=G+O[3]|0}function s(O){var L=[],k;for(k=0;k<64;k+=4)L[k>>2]=O.charCodeAt(k)+(O.charCodeAt(k+1)<<8)+(O.charCodeAt(k+2)<<16)+(O.charCodeAt(k+3)<<24);return L}function f(O){var L=[],k;for(k=0;k<64;k+=4)L[k>>2]=O[k]+(O[k+1]<<8)+(O[k+2]<<16)+(O[k+3]<<24);return L}function h(O){var L=O.length,k=[1732584193,-271733879,-1732584194,271733878],N,j,G,le,$,H;for(N=64;N<=L;N+=64)i(k,s(O.substring(N-64,N)));for(O=O.substring(N-64),j=O.length,G=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],N=0;N<j;N+=1)G[N>>2]|=O.charCodeAt(N)<<(N%4<<3);if(G[N>>2]|=128<<(N%4<<3),N>55)for(i(k,G),N=0;N<16;N+=1)G[N]=0;return le=L*8,le=le.toString(16).match(/(.*?)(.{0,8})$/),$=parseInt(le[2],16),H=parseInt(le[1],16)||0,G[14]=$,G[15]=H,i(k,G),k}function y(O){var L=O.length,k=[1732584193,-271733879,-1732584194,271733878],N,j,G,le,$,H;for(N=64;N<=L;N+=64)i(k,f(O.subarray(N-64,N)));for(O=N-64<L?O.subarray(N-64):new Uint8Array(0),j=O.length,G=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],N=0;N<j;N+=1)G[N>>2]|=O[N]<<(N%4<<3);if(G[N>>2]|=128<<(N%4<<3),N>55)for(i(k,G),N=0;N<16;N+=1)G[N]=0;return le=L*8,le=le.toString(16).match(/(.*?)(.{0,8})$/),$=parseInt(le[2],16),H=parseInt(le[1],16)||0,G[14]=$,G[15]=H,i(k,G),k}function _(O){var L="",k;for(k=0;k<4;k+=1)L+=r[O>>k*8+4&15]+r[O>>k*8&15];return L}function C(O){var L;for(L=0;L<O.length;L+=1)O[L]=_(O[L]);return O.join("")}C(h("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function O(L,k){return L=L|0||0,L<0?Math.max(L+k,0):Math.min(L,k)}ArrayBuffer.prototype.slice=function(L,k){var N=this.byteLength,j=O(L,N),G=N,le,$,H,ie;return k!==e&&(G=O(k,N)),j>G?new ArrayBuffer(0):(le=G-j,$=new ArrayBuffer(le),H=new Uint8Array($),ie=new Uint8Array(this,j,le),H.set(ie),$)}}();function w(O){return/[\u0080-\uFFFF]/.test(O)&&(O=unescape(encodeURIComponent(O))),O}function x(O,L){var k=O.length,N=new ArrayBuffer(k),j=new Uint8Array(N),G;for(G=0;G<k;G+=1)j[G]=O.charCodeAt(G);return L?j:N}function A(O){return String.fromCharCode.apply(null,new Uint8Array(O))}function P(O,L,k){var N=new Uint8Array(O.byteLength+L.byteLength);return N.set(new Uint8Array(O)),N.set(new Uint8Array(L),O.byteLength),N}function R(O){var L=[],k=O.length,N;for(N=0;N<k-1;N+=2)L.push(parseInt(O.substr(N,2),16));return String.fromCharCode.apply(String,L)}function E(){this.reset()}return E.prototype.append=function(O){return this.appendBinary(w(O)),this},E.prototype.appendBinary=function(O){this._buff+=O,this._length+=O.length;var L=this._buff.length,k;for(k=64;k<=L;k+=64)i(this._hash,s(this._buff.substring(k-64,k)));return this._buff=this._buff.substring(k-64),this},E.prototype.end=function(O){var L=this._buff,k=L.length,N,j=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],G;for(N=0;N<k;N+=1)j[N>>2]|=L.charCodeAt(N)<<(N%4<<3);return this._finish(j,k),G=C(this._hash),O&&(G=R(G)),this.reset(),G},E.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},E.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},E.prototype.setState=function(O){return this._buff=O.buff,this._length=O.length,this._hash=O.hash,this},E.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},E.prototype._finish=function(O,L){var k=L,N,j,G;if(O[k>>2]|=128<<(k%4<<3),k>55)for(i(this._hash,O),k=0;k<16;k+=1)O[k]=0;N=this._length*8,N=N.toString(16).match(/(.*?)(.{0,8})$/),j=parseInt(N[2],16),G=parseInt(N[1],16)||0,O[14]=j,O[15]=G,i(this._hash,O)},E.hash=function(O,L){return E.hashBinary(w(O),L)},E.hashBinary=function(O,L){var k=h(O),N=C(k);return L?R(N):N},E.ArrayBuffer=function(){this.reset()},E.ArrayBuffer.prototype.append=function(O){var L=P(this._buff.buffer,O),k=L.length,N;for(this._length+=O.byteLength,N=64;N<=k;N+=64)i(this._hash,f(L.subarray(N-64,N)));return this._buff=N-64<k?new Uint8Array(L.buffer.slice(N-64)):new Uint8Array(0),this},E.ArrayBuffer.prototype.end=function(O){var L=this._buff,k=L.length,N=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],j,G;for(j=0;j<k;j+=1)N[j>>2]|=L[j]<<(j%4<<3);return this._finish(N,k),G=C(this._hash),O&&(G=R(G)),this.reset(),G},E.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},E.ArrayBuffer.prototype.getState=function(){var O=E.prototype.getState.call(this);return O.buff=A(O.buff),O},E.ArrayBuffer.prototype.setState=function(O){return O.buff=x(O.buff,!0),E.prototype.setState.call(this,O)},E.ArrayBuffer.prototype.destroy=E.prototype.destroy,E.ArrayBuffer.prototype._finish=E.prototype._finish,E.ArrayBuffer.hash=function(O,L){var k=y(new Uint8Array(O)),N=C(k);return L?R(N):N},E}),window&&!window.Promise){/* @preserve
 * The MIT License (MIT)
 * 
 * Copyright (c) 2013-2018 Petka Antonov
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 * 
 */(function(e){if(typeof exports=="object"&&typeof module<"u")module.exports=e();else if(typeof define=="function"&&define.amd)define([],e);else{var r;typeof window<"u"?r=window:typeof global<"u"?r=global:typeof self<"u"&&(r=self),r.Promise=e()}})(function(){return function e(r,i,s){function f(_,C){if(!i[_]){if(!r[_]){var w=typeof _dereq_=="function"&&_dereq_;if(!C&&w)return w(_,!0);if(h)return h(_,!0);var x=new Error("Cannot find module '"+_+"'");throw x.code="MODULE_NOT_FOUND",x}var A=i[_]={exports:{}};r[_][0].call(A.exports,function(P){var R=r[_][1][P];return f(R||P)},A,A.exports,e,r,i,s)}return i[_].exports}for(var h=typeof _dereq_=="function"&&_dereq_,y=0;y<s.length;y++)f(s[y]);return f}({1:[function(e,r,i){r.exports=function(s){function f(y){var _=new h(y),C=_.promise();return _.setHowMany(1),_.setUnwrap(),_.init(),C}var h=s._SomePromiseArray;s.any=function(y){return f(y)},s.prototype.any=function(){return f(this)}}},{}],2:[function(e,r,i){function s(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new A(16),this._normalQueue=new A(16),this._haveDrainedQueues=!1;var P=this;this.drainQueues=function(){P._drainQueues()},this._schedule=x}function f(P,R,E){this._lateQueue.push(P,R,E),this._queueTick()}function h(P,R,E){this._normalQueue.push(P,R,E),this._queueTick()}function y(P){this._normalQueue._pushOne(P),this._queueTick()}function _(P){for(;P.length()>0;)C(P)}function C(P){var R=P.shift();if(typeof R!="function")R._settlePromises();else{var E=P.shift(),O=P.shift();R.call(E,O)}}var w;try{throw new Error}catch(P){w=P}var x=e("./schedule"),A=e("./queue");s.prototype.setScheduler=function(P){var R=this._schedule;return this._schedule=P,this._customScheduler=!0,R},s.prototype.hasCustomScheduler=function(){return this._customScheduler},s.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},s.prototype.fatalError=function(P,R){R?(process.stderr.write("Fatal "+(P instanceof Error?P.stack:P)+`
`),process.exit(2)):this.throwLater(P)},s.prototype.throwLater=function(P,R){if(arguments.length===1&&(R=P,P=function(){throw R}),typeof setTimeout<"u")setTimeout(function(){P(R)},0);else try{this._schedule(function(){P(R)})}catch{throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}},s.prototype.invokeLater=f,s.prototype.invoke=h,s.prototype.settlePromises=y,s.prototype._drainQueues=function(){_(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,_(this._lateQueue)},s.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},s.prototype._reset=function(){this._isTickUsed=!1},r.exports=s,r.exports.firstLineError=w},{"./queue":26,"./schedule":29}],3:[function(e,r,i){r.exports=function(s,f,h,y){var _=!1,C=function(P,R){this._reject(R)},w=function(P,R){R.promiseRejectionQueued=!0,R.bindingPromise._then(C,C,null,this,P)},x=function(P,R){!(50397184&this._bitField)&&this._resolveCallback(R.target)},A=function(P,R){R.promiseRejectionQueued||this._reject(P)};s.prototype.bind=function(P){_||(_=!0,s.prototype._propagateFrom=y.propagateFromFunction(),s.prototype._boundValue=y.boundValueFunction());var R=h(P),E=new s(f);E._propagateFrom(this,1);var O=this._target();if(E._setBoundTo(R),R instanceof s){var L={promiseRejectionQueued:!1,promise:E,target:O,bindingPromise:R};O._then(f,w,void 0,E,L),R._then(x,A,void 0,E,L),E._setOnCancel(R)}else E._resolveCallback(O);return E},s.prototype._setBoundTo=function(P){P!==void 0?(this._bitField=2097152|this._bitField,this._boundTo=P):this._bitField=-2097153&this._bitField},s.prototype._isBound=function(){return(2097152&this._bitField)===2097152},s.bind=function(P,R){return s.resolve(R).bind(P)}}},{}],4:[function(e,r,i){function s(){try{Promise===h&&(Promise=f)}catch{}return h}var f;typeof Promise<"u"&&(f=Promise);var h=e("./promise")();h.noConflict=s,r.exports=h},{"./promise":22}],5:[function(e,r,i){var s=Object.create;if(s){var f=s(null),h=s(null);f[" size"]=h[" size"]=0}r.exports=function(y){function _(E,O){var L;if(E!=null&&(L=E[O]),typeof L!="function"){var k="Object "+P.classString(E)+" has no method '"+P.toString(O)+"'";throw new y.TypeError(k)}return L}function C(E){var O=this.pop(),L=_(E,O);return L.apply(E,this)}function w(E){return E[this]}function x(E){var O=+this;return 0>O&&(O=Math.max(0,O+E.length)),E[O]}var A,P=e("./util"),R=P.canEvaluate;P.isIdentifier,y.prototype.call=function(E){var O=[].slice.call(arguments,1);return O.push(E),this._then(C,void 0,void 0,O,void 0)},y.prototype.get=function(E){var O,L=typeof E=="number";if(L)O=x;else if(R){var k=A(E);O=k!==null?k:w}else O=w;return this._then(O,void 0,void 0,E,void 0)}}},{"./util":36}],6:[function(e,r,i){r.exports=function(s,f,h,y){var _=e("./util"),C=_.tryCatch,w=_.errorObj,x=s._async;s.prototype.break=s.prototype.cancel=function(){if(!y.cancellation())return this._warn("cancellation is disabled");for(var A=this,P=A;A._isCancellable();){if(!A._cancelBy(P)){P._isFollowing()?P._followee().cancel():P._cancelBranched();break}var R=A._cancellationParent;if(R==null||!R._isCancellable()){A._isFollowing()?A._followee().cancel():A._cancelBranched();break}A._isFollowing()&&A._followee().cancel(),A._setWillBeCancelled(),P=A,A=R}},s.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},s.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},s.prototype._cancelBy=function(A){return A===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),this._enoughBranchesHaveCancelled()?(this._invokeOnCancel(),!0):!1)},s.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},s.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),x.invoke(this._cancelPromises,this,void 0))},s.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},s.prototype._unsetOnCancel=function(){this._onCancelField=void 0},s.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},s.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},s.prototype._doInvokeOnCancel=function(A,P){if(_.isArray(A))for(var R=0;R<A.length;++R)this._doInvokeOnCancel(A[R],P);else if(A!==void 0)if(typeof A=="function"){if(!P){var E=C(A).call(this._boundValue());E===w&&(this._attachExtraTrace(E.e),x.throwLater(E.e))}}else A._resultCancelled(this)},s.prototype._invokeOnCancel=function(){var A=this._onCancel();this._unsetOnCancel(),x.invoke(this._doInvokeOnCancel,this,A)},s.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},s.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(e,r,i){r.exports=function(s){function f(w,x,A){return function(P){var R=A._boundValue();e:for(var E=0;E<w.length;++E){var O=w[E];if(O===Error||O!=null&&O.prototype instanceof Error){if(P instanceof O)return _(x).call(R,P)}else if(typeof O=="function"){var L=_(O).call(R,P);if(L===C)return L;if(L)return _(x).call(R,P)}else if(h.isObject(P)){for(var k=y(O),N=0;N<k.length;++N){var j=k[N];if(O[j]!=P[j])continue e}return _(x).call(R,P)}}return s}}var h=e("./util"),y=e("./es5").keys,_=h.tryCatch,C=h.errorObj;return f}},{"./es5":13,"./util":36}],8:[function(e,r,i){r.exports=function(s){function f(){this._trace=new f.CapturedTrace(y())}function h(){return _?new f:void 0}function y(){var w=C.length-1;return w>=0?C[w]:void 0}var _=!1,C=[];return s.prototype._promiseCreated=function(){},s.prototype._pushContext=function(){},s.prototype._popContext=function(){return null},s._peekContext=s.prototype._peekContext=function(){},f.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,C.push(this._trace))},f.prototype._popContext=function(){if(this._trace!==void 0){var w=C.pop(),x=w._promiseCreated;return w._promiseCreated=null,x}return null},f.CapturedTrace=null,f.create=h,f.deactivateLongStackTraces=function(){},f.activateLongStackTraces=function(){var w=s.prototype._pushContext,x=s.prototype._popContext,A=s._peekContext,P=s.prototype._peekContext,R=s.prototype._promiseCreated;f.deactivateLongStackTraces=function(){s.prototype._pushContext=w,s.prototype._popContext=x,s._peekContext=A,s.prototype._peekContext=P,s.prototype._promiseCreated=R,_=!1},_=!0,s.prototype._pushContext=f.prototype._pushContext,s.prototype._popContext=f.prototype._popContext,s._peekContext=s.prototype._peekContext=y,s.prototype._promiseCreated=function(){var E=this._peekContext();E&&E._promiseCreated==null&&(E._promiseCreated=this)}},f}},{}],9:[function(e,r,i){r.exports=function(s,f,h,y){function _(Ne,Le){return{promise:Le}}function C(){return!1}function w(Ne,Le,Ze){var ot=this;try{Ne(Le,Ze,function(Tt){if(typeof Tt!="function")throw new TypeError("onCancel must be a function, got: "+Ie.toString(Tt));ot._attachCancellationCallback(Tt)})}catch(Tt){return Tt}}function x(Ne){if(!this._isCancellable())return this;var Le=this._onCancel();Le!==void 0?Ie.isArray(Le)?Le.push(Ne):this._setOnCancel([Le,Ne]):this._setOnCancel(Ne)}function A(){return this._onCancelField}function P(Ne){this._onCancelField=Ne}function R(){this._cancellationParent=void 0,this._onCancelField=void 0}function E(Ne,Le){if(1&Le){this._cancellationParent=Ne;var Ze=Ne._branchesRemainingToCancel;Ze===void 0&&(Ze=0),Ne._branchesRemainingToCancel=Ze+1}2&Le&&Ne._isBound()&&this._setBoundTo(Ne._boundTo)}function O(Ne,Le){2&Le&&Ne._isBound()&&this._setBoundTo(Ne._boundTo)}function L(){var Ne=this._boundTo;return Ne!==void 0&&Ne instanceof s?Ne.isFulfilled()?Ne.value():void 0:Ne}function k(){this._trace=new Ve(this._peekContext())}function N(Ne,Le){if(st(Ne)){var Ze=this._trace;if(Ze!==void 0&&Le&&(Ze=Ze._parent),Ze!==void 0)Ze.attachExtraTrace(Ne);else if(!Ne.__stackCleaned__){var ot=me(Ne);Ie.notEnumerableProp(Ne,"stack",ot.message+`
`+ot.stack.join(`
`)),Ie.notEnumerableProp(Ne,"__stackCleaned__",!0)}}}function j(){this._trace=void 0}function G(Ne,Le,Ze,ot,Tt){if(Ne===void 0&&Le!==null&&Ur){if(Tt!==void 0&&Tt._returnedNonUndefined()||!(65535&ot._bitField))return;Ze&&(Ze+=" ");var Jt="",lr="";if(Le._trace){for(var Qt=Le._trace.stack.split(`
`),Mr=se(Qt),on=Mr.length-1;on>=0;--on){var Hn=Mr[on];if(!Bt.test(Hn)){var ii=Hn.match(Gt);ii&&(Jt="at "+ii[1]+":"+ii[2]+":"+ii[3]+" ");break}}if(Mr.length>0){for(var zi=Mr[0],on=0;on<Qt.length;++on)if(Qt[on]===zi){on>0&&(lr=`
`+Qt[on-1]);break}}}var Po="a promise was created in a "+Ze+"handler "+Jt+"but was not returned from it, see http://goo.gl/rRqMUw"+lr;ot._warn(Po,!0,Le)}}function le(Ne,Le){var Ze=Ne+" is deprecated and will be removed in a future version.";return Le&&(Ze+=" Use "+Le+" instead."),$(Ze)}function $(Ne,Le,Ze){if(pr.warnings){var ot,Tt=new ve(Ne);if(Le)Ze._attachExtraTrace(Tt);else if(pr.longStackTraces&&(ot=s._peekContext()))ot.attachExtraTrace(Tt);else{var Jt=me(Tt);Tt.stack=Jt.message+`
`+Jt.stack.join(`
`)}bt("warning",Tt)||we(Tt,"",!0)}}function H(Ne,Le){for(var Ze=0;Ze<Le.length-1;++Ze)Le[Ze].push("From previous event:"),Le[Ze]=Le[Ze].join(`
`);return Ze<Le.length&&(Le[Ze]=Le[Ze].join(`
`)),Ne+`
`+Le.join(`
`)}function ie(Ne){for(var Le=0;Le<Ne.length;++Le)(Ne[Le].length===0||Le+1<Ne.length&&Ne[Le][0]===Ne[Le+1][0])&&(Ne.splice(Le,1),Le--)}function pe(Ne){for(var Le=Ne[0],Ze=1;Ze<Ne.length;++Ze){for(var ot=Ne[Ze],Tt=Le.length-1,Jt=Le[Tt],lr=-1,Qt=ot.length-1;Qt>=0;--Qt)if(ot[Qt]===Jt){lr=Qt;break}for(var Qt=lr;Qt>=0;--Qt){var Mr=ot[Qt];if(Le[Tt]!==Mr)break;Le.pop(),Tt--}Le=ot}}function se(Ne){for(var Le=[],Ze=0;Ze<Ne.length;++Ze){var ot=Ne[Ze],Tt=ot==="    (No stack trace)"||nt.test(ot),Jt=Tt&&tr(ot);Tt&&!Jt&&(Ot&&ot.charAt(0)!==" "&&(ot="    "+ot),Le.push(ot))}return Le}function ce(Ne){for(var Le=Ne.stack.replace(/\s+$/g,"").split(`
`),Ze=0;Ze<Le.length;++Ze){var ot=Le[Ze];if(ot==="    (No stack trace)"||nt.test(ot))break}return Ze>0&&Ne.name!="SyntaxError"&&(Le=Le.slice(Ze)),Le}function me(Ne){var Le=Ne.stack,Ze=Ne.toString();return Le=typeof Le=="string"&&Le.length>0?ce(Ne):["    (No stack trace)"],{message:Ze,stack:Ne.name=="SyntaxError"?Le:se(Le)}}function we(Ne,Le,Ze){if(typeof console<"u"){var ot;if(Ie.isObject(Ne)){var Tt=Ne.stack;ot=Le+At(Tt,Ne)}else ot=Le+String(Ne);typeof vt=="function"?vt(ot,Ze):(typeof console.log=="function"||typeof console.log=="object")&&console.log(ot)}}function ge(Ne,Le,Ze,ot){var Tt=!1;try{typeof Le=="function"&&(Tt=!0,Ne==="rejectionHandled"?Le(ot):Le(Ze,ot))}catch(Jt){Se.throwLater(Jt)}Ne==="unhandledRejection"?bt(Ne,Ze,ot)||Tt||we(Ze,"Unhandled rejection "):bt(Ne,ot)}function Ee(Ne){var Le;if(typeof Ne=="function")Le="[function "+(Ne.name||"anonymous")+"]";else{Le=Ne&&typeof Ne.toString=="function"?Ne.toString():Ie.toString(Ne);var Ze=/\[object [a-zA-Z0-9$_]+\]/;if(Ze.test(Le))try{var ot=JSON.stringify(Ne);Le=ot}catch{}Le.length===0&&(Le="(empty array)")}return"(<"+_e(Le)+">, no stack trace)"}function _e(Ne){var Le=41;return Ne.length<Le?Ne:Ne.substr(0,Le-3)+"..."}function Be(){return typeof he=="function"}function xe(Ne){var Le=Ne.match(Dt);return Le?{fileName:Le[1],line:parseInt(Le[2],10)}:void 0}function Ce(Ne,Le){if(Be()){for(var Ze,ot,Tt=(Ne.stack||"").split(`
`),Jt=(Le.stack||"").split(`
`),lr=-1,Qt=-1,Mr=0;Mr<Tt.length;++Mr){var on=xe(Tt[Mr]);if(on){Ze=on.fileName,lr=on.line;break}}for(var Mr=0;Mr<Jt.length;++Mr){var on=xe(Jt[Mr]);if(on){ot=on.fileName,Qt=on.line;break}}0>lr||0>Qt||!Ze||!ot||Ze!==ot||lr>=Qt||(tr=function(Hn){if(lt.test(Hn))return!0;var ii=xe(Hn);return!!(ii&&ii.fileName===Ze&&lr<=ii.line&&ii.line<=Qt)})}}function Ve(Ne){this._parent=Ne,this._promisesCreated=0;var Le=this._length=1+(Ne===void 0?0:Ne._length);he(this,Ve),Le>32&&this.uncycle()}var rt,et,vt,St,Se=s._async,ve=e("./errors").Warning,Ie=e("./util"),Je=e("./es5"),st=Ie.canAttachTrace,lt=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,Bt=/\((?:timers\.js):\d+:\d+\)/,Gt=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,nt=null,At=null,Ot=!1,er=!(Ie.env("BLUEBIRD_DEBUG")==0||!Ie.env("BLUEBIRD_DEBUG")&&Ie.env("NODE_ENV")!=="development"),rn=!(Ie.env("BLUEBIRD_WARNINGS")==0||!er&&!Ie.env("BLUEBIRD_WARNINGS")),nn=!(Ie.env("BLUEBIRD_LONG_STACK_TRACES")==0||!er&&!Ie.env("BLUEBIRD_LONG_STACK_TRACES")),Ur=Ie.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(rn||!!Ie.env("BLUEBIRD_W_FORGOTTEN_RETURN"));(function(){function Ne(){for(var ot=0;ot<Ze.length;++ot)Ze[ot]._notifyUnhandledRejection();Le()}function Le(){Ze.length=0}var Ze=[];St=function(ot){Ze.push(ot),setTimeout(Ne,1)},Je.defineProperty(s,"_unhandledRejectionCheck",{value:Ne}),Je.defineProperty(s,"_unhandledRejectionClear",{value:Le})})(),s.prototype.suppressUnhandledRejections=function(){var Ne=this._target();Ne._bitField=-1048577&Ne._bitField|524288},s.prototype._ensurePossibleRejectionHandled=function(){!(524288&this._bitField)&&(this._setRejectionIsUnhandled(),St(this))},s.prototype._notifyUnhandledRejectionIsHandled=function(){ge("rejectionHandled",rt,void 0,this)},s.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},s.prototype._returnedNonUndefined=function(){return(268435456&this._bitField)!==0},s.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var Ne=this._settledValue();this._setUnhandledRejectionIsNotified(),ge("unhandledRejection",et,Ne,this)}},s.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},s.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},s.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},s.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},s.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},s.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},s.prototype._warn=function(Ne,Le,Ze){return $(Ne,Le,Ze||this)},s.onPossiblyUnhandledRejection=function(Ne){var Le=s._getContext();et=Ie.contextBind(Le,Ne)},s.onUnhandledRejectionHandled=function(Ne){var Le=s._getContext();rt=Ie.contextBind(Le,Ne)};var Tn=function(){};s.longStackTraces=function(){if(Se.haveItemsQueued()&&!pr.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!pr.longStackTraces&&Be()){var Ne=s.prototype._captureStackTrace,Le=s.prototype._attachExtraTrace,Ze=s.prototype._dereferenceTrace;pr.longStackTraces=!0,Tn=function(){if(Se.haveItemsQueued()&&!pr.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);s.prototype._captureStackTrace=Ne,s.prototype._attachExtraTrace=Le,s.prototype._dereferenceTrace=Ze,f.deactivateLongStackTraces(),pr.longStackTraces=!1},s.prototype._captureStackTrace=k,s.prototype._attachExtraTrace=N,s.prototype._dereferenceTrace=j,f.activateLongStackTraces()}},s.hasLongStackTraces=function(){return pr.longStackTraces&&Be()};var Xr={unhandledrejection:{before:function(){var Ne=Ie.global.onunhandledrejection;return Ie.global.onunhandledrejection=null,Ne},after:function(Ne){Ie.global.onunhandledrejection=Ne}},rejectionhandled:{before:function(){var Ne=Ie.global.onrejectionhandled;return Ie.global.onrejectionhandled=null,Ne},after:function(Ne){Ie.global.onrejectionhandled=Ne}}},ut=function(){var Ne=function(Ze,ot){if(!Ze)return!Ie.global.dispatchEvent(ot);var Tt;try{return Tt=Ze.before(),!Ie.global.dispatchEvent(ot)}finally{Ze.after(Tt)}};try{if(typeof CustomEvent=="function"){var Le=new CustomEvent("CustomEvent");return Ie.global.dispatchEvent(Le),function(ot,Tt){ot=ot.toLowerCase();var Jt={detail:Tt,cancelable:!0},lr=new CustomEvent(ot,Jt);return Je.defineProperty(lr,"promise",{value:Tt.promise}),Je.defineProperty(lr,"reason",{value:Tt.reason}),Ne(Xr[ot],lr)}}if(typeof Event=="function"){var Le=new Event("CustomEvent");return Ie.global.dispatchEvent(Le),function(ot,Tt){ot=ot.toLowerCase();var Jt=new Event(ot,{cancelable:!0});return Jt.detail=Tt,Je.defineProperty(Jt,"promise",{value:Tt.promise}),Je.defineProperty(Jt,"reason",{value:Tt.reason}),Ne(Xr[ot],Jt)}}var Le=document.createEvent("CustomEvent");return Le.initCustomEvent("testingtheevent",!1,!0,{}),Ie.global.dispatchEvent(Le),function(Ze,ot){Ze=Ze.toLowerCase();var Tt=document.createEvent("CustomEvent");return Tt.initCustomEvent(Ze,!1,!0,ot),Ne(Xr[Ze],Tt)}}catch{}return function(){return!1}}(),Tr=function(){return Ie.isNode?function(){return process.emit.apply(process,arguments)}:Ie.global?function(Ne){var Le="on"+Ne.toLowerCase(),Ze=Ie.global[Le];return Ze?(Ze.apply(Ie.global,[].slice.call(arguments,1)),!0):!1}:function(){return!1}}(),it={promiseCreated:_,promiseFulfilled:_,promiseRejected:_,promiseResolved:_,promiseCancelled:_,promiseChained:function(Ne,Le,Ze){return{promise:Le,child:Ze}},warning:function(Ne,Le){return{warning:Le}},unhandledRejection:function(Ne,Le,Ze){return{reason:Le,promise:Ze}},rejectionHandled:_},bt=function(Ne){var Le=!1;try{Le=Tr.apply(null,arguments)}catch(ot){Se.throwLater(ot),Le=!0}var Ze=!1;try{Ze=ut(Ne,it[Ne].apply(null,arguments))}catch(ot){Se.throwLater(ot),Ze=!0}return Ze||Le};s.config=function(Ne){if(Ne=Object(Ne),"longStackTraces"in Ne&&(Ne.longStackTraces?s.longStackTraces():!Ne.longStackTraces&&s.hasLongStackTraces()&&Tn()),"warnings"in Ne){var Le=Ne.warnings;pr.warnings=!!Le,Ur=pr.warnings,Ie.isObject(Le)&&"wForgottenReturn"in Le&&(Ur=!!Le.wForgottenReturn)}if("cancellation"in Ne&&Ne.cancellation&&!pr.cancellation){if(Se.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");s.prototype._clearCancellationData=R,s.prototype._propagateFrom=E,s.prototype._onCancel=A,s.prototype._setOnCancel=P,s.prototype._attachCancellationCallback=x,s.prototype._execute=w,xt=E,pr.cancellation=!0}if("monitoring"in Ne&&(Ne.monitoring&&!pr.monitoring?(pr.monitoring=!0,s.prototype._fireEvent=bt):!Ne.monitoring&&pr.monitoring&&(pr.monitoring=!1,s.prototype._fireEvent=C)),"asyncHooks"in Ne&&Ie.nodeSupportsAsyncResource){var Ze=pr.asyncHooks,ot=!!Ne.asyncHooks;Ze!==ot&&(pr.asyncHooks=ot,ot?h():y())}return s},s.prototype._fireEvent=C,s.prototype._execute=function(Ne,Le,Ze){try{Ne(Le,Ze)}catch(ot){return ot}},s.prototype._onCancel=function(){},s.prototype._setOnCancel=function(Ne){},s.prototype._attachCancellationCallback=function(Ne){},s.prototype._captureStackTrace=function(){},s.prototype._attachExtraTrace=function(){},s.prototype._dereferenceTrace=function(){},s.prototype._clearCancellationData=function(){},s.prototype._propagateFrom=function(Ne,Le){};var xt=O,tr=function(){return!1},Dt=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;Ie.inherits(Ve,Error),f.CapturedTrace=Ve,Ve.prototype.uncycle=function(){var Ne=this._length;if(!(2>Ne)){for(var Le=[],Ze={},ot=0,Tt=this;Tt!==void 0;++ot)Le.push(Tt),Tt=Tt._parent;Ne=this._length=ot;for(var ot=Ne-1;ot>=0;--ot){var Jt=Le[ot].stack;Ze[Jt]===void 0&&(Ze[Jt]=ot)}for(var ot=0;Ne>ot;++ot){var lr=Le[ot].stack,Qt=Ze[lr];if(Qt!==void 0&&Qt!==ot){Qt>0&&(Le[Qt-1]._parent=void 0,Le[Qt-1]._length=1),Le[ot]._parent=void 0,Le[ot]._length=1;var Mr=ot>0?Le[ot-1]:this;Ne-1>Qt?(Mr._parent=Le[Qt+1],Mr._parent.uncycle(),Mr._length=Mr._parent._length+1):(Mr._parent=void 0,Mr._length=1);for(var on=Mr._length+1,Hn=ot-2;Hn>=0;--Hn)Le[Hn]._length=on,on++;return}}}},Ve.prototype.attachExtraTrace=function(Ne){if(!Ne.__stackCleaned__){this.uncycle();for(var Le=me(Ne),Ze=Le.message,ot=[Le.stack],Tt=this;Tt!==void 0;)ot.push(se(Tt.stack.split(`
`))),Tt=Tt._parent;pe(ot),ie(ot),Ie.notEnumerableProp(Ne,"stack",H(Ze,ot)),Ie.notEnumerableProp(Ne,"__stackCleaned__",!0)}};var he=function(){var Ne=/^\s*at\s*/,Le=function(Jt,lr){return typeof Jt=="string"?Jt:lr.name!==void 0&&lr.message!==void 0?lr.toString():Ee(lr)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,nt=Ne,At=Le;var Ze=Error.captureStackTrace;return tr=function(Jt){return lt.test(Jt)},function(Jt,lr){Error.stackTraceLimit+=6,Ze(Jt,lr),Error.stackTraceLimit-=6}}var ot=new Error;if(typeof ot.stack=="string"&&ot.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return nt=/@/,At=Le,Ot=!0,function(Jt){Jt.stack=new Error().stack};var Tt;try{throw new Error}catch(Jt){Tt="stack"in Jt}return"stack"in ot||!Tt||typeof Error.stackTraceLimit!="number"?(At=function(Jt,lr){return typeof Jt=="string"?Jt:typeof lr!="object"&&typeof lr!="function"||lr.name===void 0||lr.message===void 0?Ee(lr):lr.toString()},null):(nt=Ne,At=Le,function(Jt){Error.stackTraceLimit+=6;try{throw new Error}catch(lr){Jt.stack=lr.stack}Error.stackTraceLimit-=6})}();typeof console<"u"&&typeof console.warn<"u"&&(vt=function(Ne){console.warn(Ne)},Ie.isNode&&process.stderr.isTTY?vt=function(Ne,Le){var Ze=Le?"\x1B[33m":"\x1B[31m";console.warn(Ze+Ne+`\x1B[0m
`)}:Ie.isNode||typeof new Error().stack!="string"||(vt=function(Ne,Le){console.warn("%c"+Ne,Le?"color: darkorange":"color: red")}));var pr={warnings:rn,longStackTraces:!1,cancellation:!1,monitoring:!1,asyncHooks:!1};return nn&&s.longStackTraces(),{asyncHooks:function(){return pr.asyncHooks},longStackTraces:function(){return pr.longStackTraces},warnings:function(){return pr.warnings},cancellation:function(){return pr.cancellation},monitoring:function(){return pr.monitoring},propagateFromFunction:function(){return xt},boundValueFunction:function(){return L},checkForgottenReturns:G,setBounds:Ce,warn:$,deprecated:le,CapturedTrace:Ve,fireDomEvent:ut,fireGlobalEvent:Tr}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(e,r,i){r.exports=function(s){function f(){return this.value}function h(){throw this.reason}s.prototype.return=s.prototype.thenReturn=function(y){return y instanceof s&&y.suppressUnhandledRejections(),this._then(f,void 0,void 0,{value:y},void 0)},s.prototype.throw=s.prototype.thenThrow=function(y){return this._then(h,void 0,void 0,{reason:y},void 0)},s.prototype.catchThrow=function(y){if(arguments.length<=1)return this._then(void 0,h,void 0,{reason:y},void 0);var _=arguments[1],C=function(){throw _};return this.caught(y,C)},s.prototype.catchReturn=function(y){if(arguments.length<=1)return y instanceof s&&y.suppressUnhandledRejections(),this._then(void 0,f,void 0,{value:y},void 0);var _=arguments[1];_ instanceof s&&_.suppressUnhandledRejections();var C=function(){return _};return this.caught(y,C)}}},{}],11:[function(e,r,i){r.exports=function(s,f){function h(){return C(this)}function y(w,x){return _(w,x,f,f)}var _=s.reduce,C=s.all;s.prototype.each=function(w){return _(this,w,f,0)._then(h,void 0,void 0,this,void 0)},s.prototype.mapSeries=function(w){return _(this,w,f,f)},s.each=function(w,x){return _(w,x,f,0)._then(h,void 0,void 0,w,void 0)},s.mapSeries=y}},{}],12:[function(e,r,i){function s(G,le){function $(H){return this instanceof $?(A(this,"message",typeof H=="string"?H:le),A(this,"name",G),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new $(H)}return x($,Error),$}function f(G){return this instanceof f?(A(this,"name","OperationalError"),A(this,"message",G),this.cause=G,this.isOperational=!0,void(G instanceof Error?(A(this,"message",G.message),A(this,"stack",G.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new f(G)}var h,y,_=e("./es5"),C=_.freeze,w=e("./util"),x=w.inherits,A=w.notEnumerableProp,P=s("Warning","warning"),R=s("CancellationError","cancellation error"),E=s("TimeoutError","timeout error"),O=s("AggregateError","aggregate error");try{h=TypeError,y=RangeError}catch{h=s("TypeError","type error"),y=s("RangeError","range error")}for(var L="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),k=0;k<L.length;++k)typeof Array.prototype[L[k]]=="function"&&(O.prototype[L[k]]=Array.prototype[L[k]]);_.defineProperty(O.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),O.prototype.isOperational=!0;var N=0;O.prototype.toString=function(){var G=Array(4*N+1).join(" "),le=`
`+G+`AggregateError of:
`;N++,G=Array(4*N+1).join(" ");for(var $=0;$<this.length;++$){for(var H=this[$]===this?"[Circular AggregateError]":this[$]+"",ie=H.split(`
`),pe=0;pe<ie.length;++pe)ie[pe]=G+ie[pe];H=ie.join(`
`),le+=H+`
`}return N--,le},x(f,Error);var j=Error.__BluebirdErrorTypes__;j||(j=C({CancellationError:R,TimeoutError:E,OperationalError:f,RejectionError:f,AggregateError:O}),_.defineProperty(Error,"__BluebirdErrorTypes__",{value:j,writable:!1,enumerable:!1,configurable:!1})),r.exports={Error,TypeError:h,RangeError:y,CancellationError:j.CancellationError,OperationalError:j.OperationalError,TimeoutError:j.TimeoutError,AggregateError:j.AggregateError,Warning:P}},{"./es5":13,"./util":36}],13:[function(e,r,i){var s=function(){return this===void 0}();if(s)r.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:s,propertyIsWritable:function(R,E){var O=Object.getOwnPropertyDescriptor(R,E);return!(O&&!O.writable&&!O.set)}};else{var f={}.hasOwnProperty,h={}.toString,y={}.constructor.prototype,_=function(R){var E=[];for(var O in R)f.call(R,O)&&E.push(O);return E},C=function(R,E){return{value:R[E]}},w=function(R,E,O){return R[E]=O.value,R},x=function(R){return R},A=function(R){try{return Object(R).constructor.prototype}catch{return y}},P=function(R){try{return h.call(R)==="[object Array]"}catch{return!1}};r.exports={isArray:P,keys:_,names:_,defineProperty:w,getDescriptor:C,freeze:x,getPrototypeOf:A,isES5:s,propertyIsWritable:function(){return!0}}}},{}],14:[function(e,r,i){r.exports=function(s,f){var h=s.map;s.prototype.filter=function(y,_){return h(this,y,_,f)},s.filter=function(y,_,C){return h(y,_,C,f)}}},{}],15:[function(e,r,i){r.exports=function(s,f,h){function y(L,k,N){this.promise=L,this.type=k,this.handler=N,this.called=!1,this.cancelPromise=null}function _(L){this.finallyHandler=L}function C(L,k){return L.cancelPromise!=null?(arguments.length>1?L.cancelPromise._reject(k):L.cancelPromise._cancel(),L.cancelPromise=null,!0):!1}function w(){return A.call(this,this.promise._target()._settledValue())}function x(L){return C(this,L)?void 0:(E.e=L,E)}function A(L){var k=this.promise,N=this.handler;if(!this.called){this.called=!0;var j=this.isFinallyHandler()?N.call(k._boundValue()):N.call(k._boundValue(),L);if(j===h)return j;if(j!==void 0){k._setReturnedNonUndefined();var G=f(j,k);if(G instanceof s){if(this.cancelPromise!=null){if(G._isCancelled()){var le=new R("late cancellation observer");return k._attachExtraTrace(le),E.e=le,E}G.isPending()&&G._attachCancellationCallback(new _(this))}return G._then(w,x,void 0,this,void 0)}}}return k.isRejected()?(C(this),E.e=L,E):(C(this),L)}var P=e("./util"),R=s.CancellationError,E=P.errorObj,O=e("./catch_filter")(h);return y.prototype.isFinallyHandler=function(){return this.type===0},_.prototype._resultCancelled=function(){C(this.finallyHandler)},s.prototype._passThrough=function(L,k,N,j){return typeof L!="function"?this.then():this._then(N,j,void 0,new y(this,k,L),void 0)},s.prototype.lastly=s.prototype.finally=function(L){return this._passThrough(L,0,A,A)},s.prototype.tap=function(L){return this._passThrough(L,1,A)},s.prototype.tapCatch=function(L){var k=arguments.length;if(k===1)return this._passThrough(L,1,void 0,A);var N,j=new Array(k-1),G=0;for(N=0;k-1>N;++N){var le=arguments[N];if(!P.isObject(le))return s.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+P.classString(le)));j[G++]=le}j.length=G;var $=arguments[N];return this._passThrough(O(j,$,this),1,void 0,A)},y}},{"./catch_filter":7,"./util":36}],16:[function(e,r,i){r.exports=function(s,f,h,y,_,C){function w(k,N,j){for(var G=0;G<N.length;++G){j._pushContext();var le=O(N[G])(k);if(j._popContext(),le===E){j._pushContext();var $=s.reject(E.e);return j._popContext(),$}var H=y(le,j);if(H instanceof s)return H}return null}function x(k,N,j,G){if(C.cancellation()){var le=new s(h),$=this._finallyPromise=new s(h);this._promise=le.lastly(function(){return $}),le._captureStackTrace(),le._setOnCancel(this)}else{var H=this._promise=new s(h);H._captureStackTrace()}this._stack=G,this._generatorFunction=k,this._receiver=N,this._generator=void 0,this._yieldHandlers=typeof j=="function"?[j].concat(L):L,this._yieldedPromise=null,this._cancellationPhase=!1}var A=e("./errors"),P=A.TypeError,R=e("./util"),E=R.errorObj,O=R.tryCatch,L=[];R.inherits(x,_),x.prototype._isResolved=function(){return this._promise===null},x.prototype._cleanup=function(){this._promise=this._generator=null,C.cancellation()&&this._finallyPromise!==null&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},x.prototype._promiseCancelled=function(){if(!this._isResolved()){var k,N=typeof this._generator.return<"u";if(N)this._promise._pushContext(),k=O(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var j=new s.CancellationError("generator .return() sentinel");s.coroutine.returnSentinel=j,this._promise._attachExtraTrace(j),this._promise._pushContext(),k=O(this._generator.throw).call(this._generator,j),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(k)}},x.prototype._promiseFulfilled=function(k){this._yieldedPromise=null,this._promise._pushContext();var N=O(this._generator.next).call(this._generator,k);this._promise._popContext(),this._continue(N)},x.prototype._promiseRejected=function(k){this._yieldedPromise=null,this._promise._attachExtraTrace(k),this._promise._pushContext();var N=O(this._generator.throw).call(this._generator,k);this._promise._popContext(),this._continue(N)},x.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof s){var k=this._yieldedPromise;this._yieldedPromise=null,k.cancel()}},x.prototype.promise=function(){return this._promise},x.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},x.prototype._continue=function(k){var N=this._promise;if(k===E)return this._cleanup(),this._cancellationPhase?N.cancel():N._rejectCallback(k.e,!1);var j=k.value;if(k.done===!0)return this._cleanup(),this._cancellationPhase?N.cancel():N._resolveCallback(j);var G=y(j,this._promise);if(!(G instanceof s)&&(G=w(G,this._yieldHandlers,this._promise),G===null))return void this._promiseRejected(new P(`A value %s was yielded that could not be treated as a promise

    See http://goo.gl/MqrFmX

`.replace("%s",String(j))+`From coroutine:
`+this._stack.split(`
`).slice(1,-7).join(`
`)));G=G._target();var le=G._bitField;50397184&le?33554432&le?s._async.invoke(this._promiseFulfilled,this,G._value()):16777216&le?s._async.invoke(this._promiseRejected,this,G._reason()):this._promiseCancelled():(this._yieldedPromise=G,G._proxy(this,null))},s.coroutine=function(k,N){if(typeof k!="function")throw new P(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var j=Object(N).yieldHandler,G=x,le=new Error().stack;return function(){var $=k.apply(this,arguments),H=new G(void 0,void 0,j,le),ie=H.promise();return H._generator=$,H._promiseFulfilled(void 0),ie}},s.coroutine.addYieldHandler=function(k){if(typeof k!="function")throw new P("expecting a function but got "+R.classString(k));L.push(k)},s.spawn=function(k){if(C.deprecated("Promise.spawn()","Promise.coroutine()"),typeof k!="function")return f(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var N=new x(k,this),j=N.promise();return N._run(s.spawn),j}}},{"./errors":12,"./util":36}],17:[function(e,r,i){r.exports=function(s,f,h,y,_){var C=e("./util");C.canEvaluate,C.tryCatch,C.errorObj,s.join=function(){var w,x=arguments.length-1;if(x>0&&typeof arguments[x]=="function"){w=arguments[x];var P}var A=[].slice.call(arguments);w&&A.pop();var P=new f(A).promise();return w!==void 0?P.spread(w):P}}},{"./util":36}],18:[function(e,r,i){r.exports=function(s,f,h,y,_,C){function w(O,L,k,N){this.constructor$(O),this._promise._captureStackTrace();var j=s._getContext();if(this._callback=A.contextBind(j,L),this._preservedValues=N===_?new Array(this.length()):null,this._limit=k,this._inFlight=0,this._queue=[],E.invoke(this._asyncInit,this,void 0),A.isArray(O))for(var G=0;G<O.length;++G){var le=O[G];le instanceof s&&le.suppressUnhandledRejections()}}function x(O,L,k,N){if(typeof L!="function")return h("expecting a function but got "+A.classString(L));var j=0;if(k!==void 0){if(typeof k!="object"||k===null)return s.reject(new TypeError("options argument must be an object but it is "+A.classString(k)));if(typeof k.concurrency!="number")return s.reject(new TypeError("'concurrency' must be a number but it is "+A.classString(k.concurrency)));j=k.concurrency}return j=typeof j=="number"&&isFinite(j)&&j>=1?j:0,new w(O,L,j,N).promise()}var A=e("./util"),P=A.tryCatch,R=A.errorObj,E=s._async;A.inherits(w,f),w.prototype._asyncInit=function(){this._init$(void 0,-2)},w.prototype._init=function(){},w.prototype._promiseFulfilled=function(O,L){var k=this._values,N=this.length(),j=this._preservedValues,G=this._limit;if(0>L){if(L=-1*L-1,k[L]=O,G>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(G>=1&&this._inFlight>=G)return k[L]=O,this._queue.push(L),!1;j!==null&&(j[L]=O);var le=this._promise,$=this._callback,H=le._boundValue();le._pushContext();var ie=P($).call(H,O,L,N),pe=le._popContext();if(C.checkForgottenReturns(ie,pe,j!==null?"Promise.filter":"Promise.map",le),ie===R)return this._reject(ie.e),!0;var se=y(ie,this._promise);if(se instanceof s){se=se._target();var ce=se._bitField;if(!(50397184&ce))return G>=1&&this._inFlight++,k[L]=se,se._proxy(this,-1*(L+1)),!1;if(!(33554432&ce))return 16777216&ce?(this._reject(se._reason()),!0):(this._cancel(),!0);ie=se._value()}k[L]=ie}var me=++this._totalResolved;return me>=N?(j!==null?this._filter(k,j):this._resolve(k),!0):!1},w.prototype._drainQueue=function(){for(var O=this._queue,L=this._limit,k=this._values;O.length>0&&this._inFlight<L;){if(this._isResolved())return;var N=O.pop();this._promiseFulfilled(k[N],N)}},w.prototype._filter=function(O,L){for(var k=L.length,N=new Array(k),j=0,G=0;k>G;++G)O[G]&&(N[j++]=L[G]);N.length=j,this._resolve(N)},w.prototype.preservedValues=function(){return this._preservedValues},s.prototype.map=function(O,L){return x(this,O,L,null)},s.map=function(O,L,k,N){return x(O,L,k,N)}}},{"./util":36}],19:[function(e,r,i){r.exports=function(s,f,h,y,_){var C=e("./util"),w=C.tryCatch;s.method=function(x){if(typeof x!="function")throw new s.TypeError("expecting a function but got "+C.classString(x));return function(){var A=new s(f);A._captureStackTrace(),A._pushContext();var P=w(x).apply(this,arguments),R=A._popContext();return _.checkForgottenReturns(P,R,"Promise.method",A),A._resolveFromSyncValue(P),A}},s.attempt=s.try=function(x){if(typeof x!="function")return y("expecting a function but got "+C.classString(x));var A=new s(f);A._captureStackTrace(),A._pushContext();var P;if(arguments.length>1){_.deprecated("calling Promise.try with more than 1 argument");var R=arguments[1],E=arguments[2];P=C.isArray(R)?w(x).apply(E,R):w(x).call(E,R)}else P=w(x)();var O=A._popContext();return _.checkForgottenReturns(P,O,"Promise.try",A),A._resolveFromSyncValue(P),A},s.prototype._resolveFromSyncValue=function(x){x===C.errorObj?this._rejectCallback(x.e,!1):this._resolveCallback(x,!0)}}},{"./util":36}],20:[function(e,r,i){function s(P){return P instanceof Error&&x.getPrototypeOf(P)===Error.prototype}function f(P){var R;if(s(P)){R=new w(P),R.name=P.name,R.message=P.message,R.stack=P.stack;for(var E=x.keys(P),O=0;O<E.length;++O){var L=E[O];A.test(L)||(R[L]=P[L])}return R}return y.markAsOriginatingFromRejection(P),P}function h(P,R){return function(E,O){if(P!==null){if(E){var L=f(_(E));P._attachExtraTrace(L),P._reject(L)}else if(R){var k=[].slice.call(arguments,1);P._fulfill(k)}else P._fulfill(O);P=null}}}var y=e("./util"),_=y.maybeWrapAsError,C=e("./errors"),w=C.OperationalError,x=e("./es5"),A=/^(?:name|message|stack|cause)$/;r.exports=h},{"./errors":12,"./es5":13,"./util":36}],21:[function(e,r,i){r.exports=function(s){function f(A,P){var R=this;if(!_.isArray(A))return h.call(R,A,P);var E=w(P).apply(R._boundValue(),[null].concat(A));E===x&&C.throwLater(E.e)}function h(A,P){var R=this,E=R._boundValue(),O=A===void 0?w(P).call(E,null):w(P).call(E,null,A);O===x&&C.throwLater(O.e)}function y(A,P){var R=this;if(!A){var E=new Error(A+"");E.cause=A,A=E}var O=w(P).call(R._boundValue(),A);O===x&&C.throwLater(O.e)}var _=e("./util"),C=s._async,w=_.tryCatch,x=_.errorObj;s.prototype.asCallback=s.prototype.nodeify=function(A,P){if(typeof A=="function"){var R=h;P!==void 0&&Object(P).spread&&(R=f),this._then(R,y,void 0,this,A)}return this}}},{"./util":36}],22:[function(e,r,i){r.exports=function(){function s(){}function f(Se,ve){if(Se==null||Se.constructor!==h&&typeof Promise<"u"&&Se.constructor!==Promise)throw new se(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`);if(typeof ve!="function")throw new se("expecting a function but got "+R.classString(ve))}function h(Se){Se!==me&&f(this,Se),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(Se),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function y(Se){this.promise._resolveCallback(Se)}function _(Se){this.promise._rejectCallback(Se,!1)}function C(Se){var ve=new h(me);ve._fulfillmentHandler0=Se,ve._rejectionHandler0=Se,ve._promise0=Se,ve._receiver0=Se}var w=function(){return new se(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},x=function(){return new h.PromiseInspection(this._target())},A=function(Se){return h.reject(new se(Se))},P={},R=e("./util");R.setReflectHandler(x);var E=function(){var Se=process.domain;return Se===void 0?null:Se},O=function(){return null},L=function(){return{domain:E(),async:null}},k=R.isNode&&R.nodeSupportsAsyncResource?e("async_hooks").AsyncResource:null,N=function(){return{domain:E(),async:new k("Bluebird::Promise")}},j=R.isNode?L:O;R.notEnumerableProp(h,"_getContext",j);var G=function(){j=N,R.notEnumerableProp(h,"_getContext",N)},le=function(){j=L,R.notEnumerableProp(h,"_getContext",L)},$=e("./es5"),H=e("./async"),ie=new H;$.defineProperty(h,"_async",{value:ie});var pe=e("./errors"),se=h.TypeError=pe.TypeError;h.RangeError=pe.RangeError;var ce=h.CancellationError=pe.CancellationError;h.TimeoutError=pe.TimeoutError,h.OperationalError=pe.OperationalError,h.RejectionError=pe.OperationalError,h.AggregateError=pe.AggregateError;var me=function(){},we={},ge={},Ee=e("./thenables")(h,me),_e=e("./promise_array")(h,me,Ee,A,s),Be=e("./context")(h),xe=Be.create,Ce=e("./debuggability")(h,Be,G,le),Ve=(Ce.CapturedTrace,e("./finally")(h,Ee,ge)),rt=e("./catch_filter")(ge),et=e("./nodeback"),vt=R.errorObj,St=R.tryCatch;return h.prototype.toString=function(){return"[object Promise]"},h.prototype.caught=h.prototype.catch=function(Se){var ve=arguments.length;if(ve>1){var Ie,Je=new Array(ve-1),st=0;for(Ie=0;ve-1>Ie;++Ie){var lt=arguments[Ie];if(!R.isObject(lt))return A("Catch statement predicate: expecting an object but got "+R.classString(lt));Je[st++]=lt}if(Je.length=st,Se=arguments[Ie],typeof Se!="function")throw new se("The last argument to .catch() must be a function, got "+R.toString(Se));return this.then(void 0,rt(Je,Se,this))}return this.then(void 0,Se)},h.prototype.reflect=function(){return this._then(x,x,void 0,this,void 0)},h.prototype.then=function(Se,ve){if(Ce.warnings()&&arguments.length>0&&typeof Se!="function"&&typeof ve!="function"){var Ie=".then() only accepts functions but was passed: "+R.classString(Se);arguments.length>1&&(Ie+=", "+R.classString(ve)),this._warn(Ie)}return this._then(Se,ve,void 0,void 0,void 0)},h.prototype.done=function(Se,ve){var Ie=this._then(Se,ve,void 0,void 0,void 0);Ie._setIsFinal()},h.prototype.spread=function(Se){return typeof Se!="function"?A("expecting a function but got "+R.classString(Se)):this.all()._then(Se,void 0,void 0,we,void 0)},h.prototype.toJSON=function(){var Se={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(Se.fulfillmentValue=this.value(),Se.isFulfilled=!0):this.isRejected()&&(Se.rejectionReason=this.reason(),Se.isRejected=!0),Se},h.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new _e(this).promise()},h.prototype.error=function(Se){return this.caught(R.originatesFromRejection,Se)},h.getNewLibraryCopy=r.exports,h.is=function(Se){return Se instanceof h},h.fromNode=h.fromCallback=function(Se){var ve=new h(me);ve._captureStackTrace();var Ie=arguments.length>1?!!Object(arguments[1]).multiArgs:!1,Je=St(Se)(et(ve,Ie));return Je===vt&&ve._rejectCallback(Je.e,!0),ve._isFateSealed()||ve._setAsyncGuaranteed(),ve},h.all=function(Se){return new _e(Se).promise()},h.cast=function(Se){var ve=Ee(Se);return ve instanceof h||(ve=new h(me),ve._captureStackTrace(),ve._setFulfilled(),ve._rejectionHandler0=Se),ve},h.resolve=h.fulfilled=h.cast,h.reject=h.rejected=function(Se){var ve=new h(me);return ve._captureStackTrace(),ve._rejectCallback(Se,!0),ve},h.setScheduler=function(Se){if(typeof Se!="function")throw new se("expecting a function but got "+R.classString(Se));return ie.setScheduler(Se)},h.prototype._then=function(Se,ve,Ie,Je,st){var lt=st!==void 0,Bt=lt?st:new h(me),Gt=this._target(),nt=Gt._bitField;lt||(Bt._propagateFrom(this,3),Bt._captureStackTrace(),Je===void 0&&2097152&this._bitField&&(Je=50397184&nt?this._boundValue():Gt===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,Bt));var At=j();if(50397184&nt){var Ot,er,rn=Gt._settlePromiseCtx;33554432&nt?(er=Gt._rejectionHandler0,Ot=Se):16777216&nt?(er=Gt._fulfillmentHandler0,Ot=ve,Gt._unsetRejectionIsUnhandled()):(rn=Gt._settlePromiseLateCancellationObserver,er=new ce("late cancellation observer"),Gt._attachExtraTrace(er),Ot=ve),ie.invoke(rn,Gt,{handler:R.contextBind(At,Ot),promise:Bt,receiver:Je,value:er})}else Gt._addCallbacks(Se,ve,Bt,Je,At);return Bt},h.prototype._length=function(){return 65535&this._bitField},h.prototype._isFateSealed=function(){return(117506048&this._bitField)!==0},h.prototype._isFollowing=function(){return(67108864&this._bitField)===67108864},h.prototype._setLength=function(Se){this._bitField=-65536&this._bitField|65535&Se},h.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},h.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},h.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},h.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},h.prototype._isFinal=function(){return(4194304&this._bitField)>0},h.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},h.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},h.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},h.prototype._setAsyncGuaranteed=function(){if(!ie.hasCustomScheduler()){var Se=this._bitField;this._bitField=Se|(536870912&Se)>>2^134217728}},h.prototype._setNoAsyncGuarantee=function(){this._bitField=-134217729&(536870912|this._bitField)},h.prototype._receiverAt=function(Se){var ve=Se===0?this._receiver0:this[4*Se-4+3];return ve===P?void 0:ve===void 0&&this._isBound()?this._boundValue():ve},h.prototype._promiseAt=function(Se){return this[4*Se-4+2]},h.prototype._fulfillmentHandlerAt=function(Se){return this[4*Se-4+0]},h.prototype._rejectionHandlerAt=function(Se){return this[4*Se-4+1]},h.prototype._boundValue=function(){},h.prototype._migrateCallback0=function(Se){var ve=(Se._bitField,Se._fulfillmentHandler0),Ie=Se._rejectionHandler0,Je=Se._promise0,st=Se._receiverAt(0);st===void 0&&(st=P),this._addCallbacks(ve,Ie,Je,st,null)},h.prototype._migrateCallbackAt=function(Se,ve){var Ie=Se._fulfillmentHandlerAt(ve),Je=Se._rejectionHandlerAt(ve),st=Se._promiseAt(ve),lt=Se._receiverAt(ve);lt===void 0&&(lt=P),this._addCallbacks(Ie,Je,st,lt,null)},h.prototype._addCallbacks=function(Se,ve,Ie,Je,st){var lt=this._length();if(lt>=65531&&(lt=0,this._setLength(0)),lt===0)this._promise0=Ie,this._receiver0=Je,typeof Se=="function"&&(this._fulfillmentHandler0=R.contextBind(st,Se)),typeof ve=="function"&&(this._rejectionHandler0=R.contextBind(st,ve));else{var Bt=4*lt-4;this[Bt+2]=Ie,this[Bt+3]=Je,typeof Se=="function"&&(this[Bt+0]=R.contextBind(st,Se)),typeof ve=="function"&&(this[Bt+1]=R.contextBind(st,ve))}return this._setLength(lt+1),lt},h.prototype._proxy=function(Se,ve){this._addCallbacks(void 0,void 0,ve,Se,null)},h.prototype._resolveCallback=function(Se,ve){if(!(117506048&this._bitField)){if(Se===this)return this._rejectCallback(w(),!1);var Ie=Ee(Se,this);if(!(Ie instanceof h))return this._fulfill(Se);ve&&this._propagateFrom(Ie,2);var Je=Ie._target();if(Je===this)return void this._reject(w());var st=Je._bitField;if(50397184&st)if(33554432&st)this._fulfill(Je._value());else if(16777216&st)this._reject(Je._reason());else{var Gt=new ce("late cancellation observer");Je._attachExtraTrace(Gt),this._reject(Gt)}else{var lt=this._length();lt>0&&Je._migrateCallback0(this);for(var Bt=1;lt>Bt;++Bt)Je._migrateCallbackAt(this,Bt);this._setFollowing(),this._setLength(0),this._setFollowee(Ie)}}},h.prototype._rejectCallback=function(Se,ve,Ie){var Je=R.ensureErrorObject(Se),st=Je===Se;if(!st&&!Ie&&Ce.warnings()){var lt="a promise was rejected with a non-error: "+R.classString(Se);this._warn(lt,!0)}this._attachExtraTrace(Je,ve?st:!1),this._reject(Se)},h.prototype._resolveFromExecutor=function(Se){if(Se!==me){var ve=this;this._captureStackTrace(),this._pushContext();var Ie=!0,Je=this._execute(Se,function(st){ve._resolveCallback(st)},function(st){ve._rejectCallback(st,Ie)});Ie=!1,this._popContext(),Je!==void 0&&ve._rejectCallback(Je,!0)}},h.prototype._settlePromiseFromHandler=function(Se,ve,Ie,Je){var st=Je._bitField;if(!(65536&st)){Je._pushContext();var lt;ve===we?Ie&&typeof Ie.length=="number"?lt=St(Se).apply(this._boundValue(),Ie):(lt=vt,lt.e=new se("cannot .spread() a non-array: "+R.classString(Ie))):lt=St(Se).call(ve,Ie);var Bt=Je._popContext();st=Je._bitField,!(65536&st)&&(lt===ge?Je._reject(Ie):lt===vt?Je._rejectCallback(lt.e,!1):(Ce.checkForgottenReturns(lt,Bt,"",Je,this),Je._resolveCallback(lt)))}},h.prototype._target=function(){for(var Se=this;Se._isFollowing();)Se=Se._followee();return Se},h.prototype._followee=function(){return this._rejectionHandler0},h.prototype._setFollowee=function(Se){this._rejectionHandler0=Se},h.prototype._settlePromise=function(Se,ve,Ie,Je){var st=Se instanceof h,lt=this._bitField,Bt=(134217728&lt)!==0;65536&lt?(st&&Se._invokeInternalOnCancel(),Ie instanceof Ve&&Ie.isFinallyHandler()?(Ie.cancelPromise=Se,St(ve).call(Ie,Je)===vt&&Se._reject(vt.e)):ve===x?Se._fulfill(x.call(Ie)):Ie instanceof s?Ie._promiseCancelled(Se):st||Se instanceof _e?Se._cancel():Ie.cancel()):typeof ve=="function"?st?(Bt&&Se._setAsyncGuaranteed(),this._settlePromiseFromHandler(ve,Ie,Je,Se)):ve.call(Ie,Je,Se):Ie instanceof s?Ie._isResolved()||(33554432&lt?Ie._promiseFulfilled(Je,Se):Ie._promiseRejected(Je,Se)):st&&(Bt&&Se._setAsyncGuaranteed(),33554432&lt?Se._fulfill(Je):Se._reject(Je))},h.prototype._settlePromiseLateCancellationObserver=function(Se){var ve=Se.handler,Ie=Se.promise,Je=Se.receiver,st=Se.value;typeof ve=="function"?Ie instanceof h?this._settlePromiseFromHandler(ve,Je,st,Ie):ve.call(Je,st,Ie):Ie instanceof h&&Ie._reject(st)},h.prototype._settlePromiseCtx=function(Se){this._settlePromise(Se.promise,Se.handler,Se.receiver,Se.value)},h.prototype._settlePromise0=function(Se,ve,Ie){var Je=this._promise0,st=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(Je,Se,st,ve)},h.prototype._clearCallbackDataAtIndex=function(Se){var ve=4*Se-4;this[ve+2]=this[ve+3]=this[ve+0]=this[ve+1]=void 0},h.prototype._fulfill=function(Se){var ve=this._bitField;if(!((117506048&ve)>>>16)){if(Se===this){var Ie=w();return this._attachExtraTrace(Ie),this._reject(Ie)}this._setFulfilled(),this._rejectionHandler0=Se,(65535&ve)>0&&(134217728&ve?this._settlePromises():ie.settlePromises(this),this._dereferenceTrace())}},h.prototype._reject=function(Se){var ve=this._bitField;if(!((117506048&ve)>>>16))return this._setRejected(),this._fulfillmentHandler0=Se,this._isFinal()?ie.fatalError(Se,R.isNode):void((65535&ve)>0?ie.settlePromises(this):this._ensurePossibleRejectionHandled())},h.prototype._fulfillPromises=function(Se,ve){for(var Ie=1;Se>Ie;Ie++){var Je=this._fulfillmentHandlerAt(Ie),st=this._promiseAt(Ie),lt=this._receiverAt(Ie);this._clearCallbackDataAtIndex(Ie),this._settlePromise(st,Je,lt,ve)}},h.prototype._rejectPromises=function(Se,ve){for(var Ie=1;Se>Ie;Ie++){var Je=this._rejectionHandlerAt(Ie),st=this._promiseAt(Ie),lt=this._receiverAt(Ie);this._clearCallbackDataAtIndex(Ie),this._settlePromise(st,Je,lt,ve)}},h.prototype._settlePromises=function(){var Se=this._bitField,ve=65535&Se;if(ve>0){if(16842752&Se){var Ie=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,Ie,Se),this._rejectPromises(ve,Ie)}else{var Je=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,Je,Se),this._fulfillPromises(ve,Je)}this._setLength(0)}this._clearCancellationData()},h.prototype._settledValue=function(){var Se=this._bitField;return 33554432&Se?this._rejectionHandler0:16777216&Se?this._fulfillmentHandler0:void 0},typeof Symbol<"u"&&Symbol.toStringTag&&$.defineProperty(h.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),h.defer=h.pending=function(){Ce.deprecated("Promise.defer","new Promise");var Se=new h(me);return{promise:Se,resolve:y,reject:_}},R.notEnumerableProp(h,"_makeSelfResolutionError",w),e("./method")(h,me,Ee,A,Ce),e("./bind")(h,me,Ee,Ce),e("./cancel")(h,_e,A,Ce),e("./direct_resolve")(h),e("./synchronous_inspection")(h),e("./join")(h,_e,Ee,me,ie),h.Promise=h,h.version="3.7.2",e("./call_get.js")(h),e("./generators.js")(h,A,me,Ee,s,Ce),e("./map.js")(h,_e,A,Ee,me,Ce),e("./nodeify.js")(h),e("./promisify.js")(h,me),e("./props.js")(h,_e,Ee,A),e("./race.js")(h,me,Ee,A),e("./reduce.js")(h,_e,A,Ee,me,Ce),e("./settle.js")(h,_e,Ce),e("./some.js")(h,_e,A),e("./timers.js")(h,me,Ce),e("./using.js")(h,A,Ee,xe,me,Ce),e("./any.js")(h),e("./each.js")(h,me),e("./filter.js")(h,me),R.toFastProperties(h),R.toFastProperties(h.prototype),C({a:1}),C({b:2}),C({c:3}),C(1),C(function(){}),C(void 0),C(!1),C(new h(me)),Ce.setBounds(H.firstLineError,R.lastLineError),h}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36,async_hooks:void 0}],23:[function(e,r,i){r.exports=function(s,f,h,y,_){function C(A){switch(A){case-2:return[];case-3:return{};case-6:return new Map}}function w(A){var P=this._promise=new s(f);A instanceof s&&(P._propagateFrom(A,3),A.suppressUnhandledRejections()),P._setOnCancel(this),this._values=A,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var x=e("./util");return x.isArray,x.inherits(w,_),w.prototype.length=function(){return this._length},w.prototype.promise=function(){return this._promise},w.prototype._init=function A(P,R){var E=h(this._values,this._promise);if(E instanceof s){E=E._target();var O=E._bitField;if(this._values=E,(50397184&O)===0)return this._promise._setAsyncGuaranteed(),E._then(A,this._reject,void 0,this,R);if(!(33554432&O))return 16777216&O?this._reject(E._reason()):this._cancel();E=E._value()}if(E=x.asArray(E),E===null){var L=y("expecting an array or an iterable object but got "+x.classString(E)).reason();return void this._promise._rejectCallback(L,!1)}return E.length===0?void(R===-5?this._resolveEmptyArray():this._resolve(C(R))):void this._iterate(E)},w.prototype._iterate=function(A){var P=this.getActualLength(A.length);this._length=P,this._values=this.shouldCopyValues()?new Array(P):this._values;for(var R=this._promise,E=!1,O=null,L=0;P>L;++L){var k=h(A[L],R);k instanceof s?(k=k._target(),O=k._bitField):O=null,E?O!==null&&k.suppressUnhandledRejections():O!==null?50397184&O?E=33554432&O?this._promiseFulfilled(k._value(),L):16777216&O?this._promiseRejected(k._reason(),L):this._promiseCancelled(L):(k._proxy(this,L),this._values[L]=k):E=this._promiseFulfilled(k,L)}E||R._setAsyncGuaranteed()},w.prototype._isResolved=function(){return this._values===null},w.prototype._resolve=function(A){this._values=null,this._promise._fulfill(A)},w.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},w.prototype._reject=function(A){this._values=null,this._promise._rejectCallback(A,!1)},w.prototype._promiseFulfilled=function(A,P){this._values[P]=A;var R=++this._totalResolved;return R>=this._length?(this._resolve(this._values),!0):!1},w.prototype._promiseCancelled=function(){return this._cancel(),!0},w.prototype._promiseRejected=function(A){return this._totalResolved++,this._reject(A),!0},w.prototype._resultCancelled=function(){if(!this._isResolved()){var A=this._values;if(this._cancel(),A instanceof s)A.cancel();else for(var P=0;P<A.length;++P)A[P]instanceof s&&A[P].cancel()}},w.prototype.shouldCopyValues=function(){return!0},w.prototype.getActualLength=function(A){return A},w}},{"./util":36}],24:[function(e,r,i){r.exports=function(s,f){function h(me){return!ie.test(me)}function y(me){try{return me.__isPromisified__===!0}catch{return!1}}function _(me,we,ge){var Ee=O.getDataPropertyOrDefault(me,we+ge,$);return Ee?y(Ee):!1}function C(me,we,ge){for(var Ee=0;Ee<me.length;Ee+=2){var _e=me[Ee];if(ge.test(_e)){for(var Be=_e.replace(ge,""),xe=0;xe<me.length;xe+=2)if(me[xe]===Be)throw new G(`Cannot promisify an API that has normal methods with '%s'-suffix

    See http://goo.gl/MqrFmX
`.replace("%s",we))}}}function w(me,we,ge,Ee){for(var _e=O.inheritedDataKeys(me),Be=[],xe=0;xe<_e.length;++xe){var Ce=_e[xe],Ve=me[Ce],rt=Ee===pe?!0:pe(Ce);typeof Ve!="function"||y(Ve)||_(me,Ce,we)||!Ee(Ce,Ve,me,rt)||Be.push(Ce,Ve)}return C(Be,we,ge),Be}function x(me,we,ge,Ee,_e,Be){function xe(){var rt=we;we===E&&(rt=this);var et=new s(f);et._captureStackTrace();var vt=typeof Ve=="string"&&this!==Ce?this[Ve]:me,St=L(et,Be);try{vt.apply(rt,k(arguments,St))}catch(Se){et._rejectCallback(N(Se),!0,!0)}return et._isFateSealed()||et._setAsyncGuaranteed(),et}var Ce=function(){return this}(),Ve=me;return typeof Ve=="string"&&(me=Ee),O.notEnumerableProp(xe,"__isPromisified__",!0),xe}function A(me,we,ge,Ee,_e){for(var Be=new RegExp(se(we)+"$"),xe=w(me,we,Be,ge),Ce=0,Ve=xe.length;Ve>Ce;Ce+=2){var rt=xe[Ce],et=xe[Ce+1],vt=rt+we;if(Ee===ce)me[vt]=ce(rt,E,rt,et,we,_e);else{var St=Ee(et,function(){return ce(rt,E,rt,et,we,_e)});O.notEnumerableProp(St,"__isPromisified__",!0),me[vt]=St}}return O.toFastProperties(me),me}function P(me,we,ge){return ce(me,we,void 0,me,null,ge)}var R,E={},O=e("./util"),L=e("./nodeback"),k=O.withAppended,N=O.maybeWrapAsError,j=O.canEvaluate,G=e("./errors").TypeError,le="Async",$={__isPromisified__:!0},H=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],ie=new RegExp("^(?:"+H.join("|")+")$"),pe=function(me){return O.isIdentifier(me)&&me.charAt(0)!=="_"&&me!=="constructor"},se=function(me){return me.replace(new RegExp(/\$/,"g"),"\\$")},ce=j?R:x;s.promisify=function(me,we){if(typeof me!="function")throw new G("expecting a function but got "+O.classString(me));if(y(me))return me;we=Object(we);var ge=we.context===void 0?E:we.context,Ee=!!we.multiArgs,_e=P(me,ge,Ee);return O.copyDescriptors(me,_e,h),_e},s.promisifyAll=function(me,we){if(typeof me!="function"&&typeof me!="object")throw new G(`the target of promisifyAll must be an object or a function

    See http://goo.gl/MqrFmX
`);we=Object(we);var ge=!!we.multiArgs,Ee=we.suffix;typeof Ee!="string"&&(Ee=le);var _e=we.filter;typeof _e!="function"&&(_e=pe);var Be=we.promisifier;if(typeof Be!="function"&&(Be=ce),!O.isIdentifier(Ee))throw new RangeError(`suffix must be a valid identifier

    See http://goo.gl/MqrFmX
`);for(var xe=O.inheritedDataKeys(me),Ce=0;Ce<xe.length;++Ce){var Ve=me[xe[Ce]];xe[Ce]!=="constructor"&&O.isClass(Ve)&&(A(Ve.prototype,Ee,_e,Be,ge),A(Ve,Ee,_e,Be,ge))}return A(me,Ee,_e,Be,ge)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(e,r,i){r.exports=function(s,f,h,y){function _(O){var L,k=!1;if(w!==void 0&&O instanceof w)L=R(O),k=!0;else{var N=P.keys(O),j=N.length;L=new Array(2*j);for(var G=0;j>G;++G){var le=N[G];L[G]=O[le],L[G+j]=le}}this.constructor$(L),this._isMap=k,this._init$(void 0,k?-6:-3)}function C(O){var L,k=h(O);return A(k)?(L=k instanceof s?k._then(s.props,void 0,void 0,void 0,void 0):new _(k).promise(),k instanceof s&&L._propagateFrom(k,2),L):y(`cannot await properties of a non-object

    See http://goo.gl/MqrFmX
`)}var w,x=e("./util"),A=x.isObject,P=e("./es5");typeof Map=="function"&&(w=Map);var R=function(){function O(N,j){this[L]=N,this[L+k]=j,L++}var L=0,k=0;return function(N){k=N.size,L=0;var j=new Array(2*N.size);return N.forEach(O,j),j}}(),E=function(O){for(var L=new w,k=O.length/2|0,N=0;k>N;++N){var j=O[k+N],G=O[N];L.set(j,G)}return L};x.inherits(_,f),_.prototype._init=function(){},_.prototype._promiseFulfilled=function(O,L){this._values[L]=O;var k=++this._totalResolved;if(k>=this._length){var N;if(this._isMap)N=E(this._values);else{N={};for(var j=this.length(),G=0,le=this.length();le>G;++G)N[this._values[G+j]]=this._values[G]}return this._resolve(N),!0}return!1},_.prototype.shouldCopyValues=function(){return!1},_.prototype.getActualLength=function(O){return O>>1},s.prototype.props=function(){return C(this)},s.props=function(O){return C(O)}}},{"./es5":13,"./util":36}],26:[function(e,r,i){function s(h,y,_,C,w){for(var x=0;w>x;++x)_[x+C]=h[x+y],h[x+y]=void 0}function f(h){this._capacity=h,this._length=0,this._front=0}f.prototype._willBeOverCapacity=function(h){return this._capacity<h},f.prototype._pushOne=function(h){var y=this.length();this._checkCapacity(y+1);var _=this._front+y&this._capacity-1;this[_]=h,this._length=y+1},f.prototype.push=function(h,y,_){var C=this.length()+3;if(this._willBeOverCapacity(C))return this._pushOne(h),this._pushOne(y),void this._pushOne(_);var w=this._front+C-3;this._checkCapacity(C);var x=this._capacity-1;this[w+0&x]=h,this[w+1&x]=y,this[w+2&x]=_,this._length=C},f.prototype.shift=function(){var h=this._front,y=this[h];return this[h]=void 0,this._front=h+1&this._capacity-1,this._length--,y},f.prototype.length=function(){return this._length},f.prototype._checkCapacity=function(h){this._capacity<h&&this._resizeTo(this._capacity<<1)},f.prototype._resizeTo=function(h){var y=this._capacity;this._capacity=h;var _=this._front,C=this._length,w=_+C&y-1;s(this,0,this,y,w)},r.exports=f},{}],27:[function(e,r,i){r.exports=function(s,f,h,y){function _(x,A){var P=h(x);if(P instanceof s)return w(P);if(x=C.asArray(x),x===null)return y("expecting an array or an iterable object but got "+C.classString(x));var R=new s(f);A!==void 0&&R._propagateFrom(A,3);for(var E=R._fulfill,O=R._reject,L=0,k=x.length;k>L;++L){var N=x[L];(N!==void 0||L in x)&&s.cast(N)._then(E,O,void 0,R,null)}return R}var C=e("./util"),w=function(x){return x.then(function(A){return _(A,x)})};s.race=function(x){return _(x,void 0)},s.prototype.race=function(){return _(this,void 0)}}},{"./util":36}],28:[function(e,r,i){r.exports=function(s,f,h,y,_,C){function w(L,k,N,j){this.constructor$(L);var G=s._getContext();this._fn=E.contextBind(G,k),N!==void 0&&(N=s.resolve(N),N._attachCancellationCallback(this)),this._initialValue=N,this._currentCancellable=null,j===_?this._eachValues=Array(this._length):j===0?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function x(L,k){this.isFulfilled()?k._resolve(L):k._reject(L)}function A(L,k,N,j){if(typeof k!="function")return h("expecting a function but got "+E.classString(k));var G=new w(L,k,N,j);return G.promise()}function P(L){this.accum=L,this.array._gotAccum(L);var k=y(this.value,this.array._promise);return k instanceof s?(this.array._currentCancellable=k,k._then(R,void 0,void 0,this,void 0)):R.call(this,k)}function R(L){var k=this.array,N=k._promise,j=O(k._fn);N._pushContext();var G;G=k._eachValues!==void 0?j.call(N._boundValue(),L,this.index,this.length):j.call(N._boundValue(),this.accum,L,this.index,this.length),G instanceof s&&(k._currentCancellable=G);var le=N._popContext();return C.checkForgottenReturns(G,le,k._eachValues!==void 0?"Promise.each":"Promise.reduce",N),G}var E=e("./util"),O=E.tryCatch;E.inherits(w,f),w.prototype._gotAccum=function(L){this._eachValues!==void 0&&this._eachValues!==null&&L!==_&&this._eachValues.push(L)},w.prototype._eachComplete=function(L){return this._eachValues!==null&&this._eachValues.push(L),this._eachValues},w.prototype._init=function(){},w.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==void 0?this._eachValues:this._initialValue)},w.prototype.shouldCopyValues=function(){return!1},w.prototype._resolve=function(L){this._promise._resolveCallback(L),this._values=null},w.prototype._resultCancelled=function(L){return L===this._initialValue?this._cancel():void(this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof s&&this._currentCancellable.cancel(),this._initialValue instanceof s&&this._initialValue.cancel()))},w.prototype._iterate=function(L){this._values=L;var k,N,j=L.length;this._initialValue!==void 0?(k=this._initialValue,N=0):(k=s.resolve(L[0]),N=1),this._currentCancellable=k;for(var G=N;j>G;++G){var le=L[G];le instanceof s&&le.suppressUnhandledRejections()}if(!k.isRejected())for(;j>N;++N){var $={accum:null,value:L[N],index:N,length:j,array:this};k=k._then(P,void 0,void 0,$,void 0),!(127&N)&&k._setNoAsyncGuarantee()}this._eachValues!==void 0&&(k=k._then(this._eachComplete,void 0,void 0,this,void 0)),k._then(x,x,void 0,k,this)},s.prototype.reduce=function(L,k){return A(this,L,k,null)},s.reduce=function(L,k,N,j){return A(L,k,N,j)}}},{"./util":36}],29:[function(e,r,i){var s,f=e("./util"),h=function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)},y=f.getNativePromise();if(f.isNode&&typeof MutationObserver>"u"){var _=global.setImmediate,C=process.nextTick;s=f.isRecentNode?function(x){_.call(global,x)}:function(x){C.call(process,x)}}else if(typeof y=="function"&&typeof y.resolve=="function"){var w=y.resolve();s=function(x){w.then(x)}}else s=typeof MutationObserver<"u"&&(typeof window>"u"||!window.navigator||!window.navigator.standalone&&!window.cordova)&&"classList"in document.documentElement?function(){var x=document.createElement("div"),A={attributes:!0},P=!1,R=document.createElement("div"),E=new MutationObserver(function(){x.classList.toggle("foo"),P=!1});E.observe(R,A);var O=function(){P||(P=!0,R.classList.toggle("foo"))};return function(L){var k=new MutationObserver(function(){k.disconnect(),L()});k.observe(x,A),O()}}():typeof setImmediate<"u"?function(x){setImmediate(x)}:typeof setTimeout<"u"?function(x){setTimeout(x,0)}:h;r.exports=s},{"./util":36}],30:[function(e,r,i){r.exports=function(s,f,h){function y(w){this.constructor$(w)}var _=s.PromiseInspection,C=e("./util");C.inherits(y,f),y.prototype._promiseResolved=function(w,x){this._values[w]=x;var A=++this._totalResolved;return A>=this._length?(this._resolve(this._values),!0):!1},y.prototype._promiseFulfilled=function(w,x){var A=new _;return A._bitField=33554432,A._settledValueField=w,this._promiseResolved(x,A)},y.prototype._promiseRejected=function(w,x){var A=new _;return A._bitField=16777216,A._settledValueField=w,this._promiseResolved(x,A)},s.settle=function(w){return h.deprecated(".settle()",".reflect()"),new y(w).promise()},s.allSettled=function(w){return new y(w).promise()},s.prototype.settle=function(){return s.settle(this)}}},{"./util":36}],31:[function(e,r,i){r.exports=function(s,f,h){function y(R){this.constructor$(R),this._howMany=0,this._unwrap=!1,this._initialized=!1}function _(R,E){if((0|E)!==E||0>E)return h(`expecting a positive integer

    See http://goo.gl/MqrFmX
`);var O=new y(R),L=O.promise();return O.setHowMany(E),O.init(),L}var C=e("./util"),w=e("./errors").RangeError,x=e("./errors").AggregateError,A=C.isArray,P={};C.inherits(y,f),y.prototype._init=function(){if(this._initialized){if(this._howMany===0)return void this._resolve([]);this._init$(void 0,-5);var R=A(this._values);!this._isResolved()&&R&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},y.prototype.init=function(){this._initialized=!0,this._init()},y.prototype.setUnwrap=function(){this._unwrap=!0},y.prototype.howMany=function(){return this._howMany},y.prototype.setHowMany=function(R){this._howMany=R},y.prototype._promiseFulfilled=function(R){return this._addFulfilled(R),this._fulfilled()===this.howMany()?(this._values.length=this.howMany(),this.howMany()===1&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0):!1},y.prototype._promiseRejected=function(R){return this._addRejected(R),this._checkOutcome()},y.prototype._promiseCancelled=function(){return this._values instanceof s||this._values==null?this._cancel():(this._addRejected(P),this._checkOutcome())},y.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var R=new x,E=this.length();E<this._values.length;++E)this._values[E]!==P&&R.push(this._values[E]);return R.length>0?this._reject(R):this._cancel(),!0}return!1},y.prototype._fulfilled=function(){return this._totalResolved},y.prototype._rejected=function(){return this._values.length-this.length()},y.prototype._addRejected=function(R){this._values.push(R)},y.prototype._addFulfilled=function(R){this._values[this._totalResolved++]=R},y.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},y.prototype._getRangeError=function(R){var E="Input array must contain at least "+this._howMany+" items but contains only "+R+" items";return new w(E)},y.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},s.some=function(R,E){return _(R,E)},s.prototype.some=function(R){return _(this,R)},s._SomePromiseArray=y}},{"./errors":12,"./util":36}],32:[function(e,r,i){r.exports=function(s){function f(A){A!==void 0?(A=A._target(),this._bitField=A._bitField,this._settledValueField=A._isFateSealed()?A._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}f.prototype._settledValue=function(){return this._settledValueField};var h=f.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},y=f.prototype.error=f.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},_=f.prototype.isFulfilled=function(){return(33554432&this._bitField)!==0},C=f.prototype.isRejected=function(){return(16777216&this._bitField)!==0},w=f.prototype.isPending=function(){return(50397184&this._bitField)===0},x=f.prototype.isResolved=function(){return(50331648&this._bitField)!==0};f.prototype.isCancelled=function(){return(8454144&this._bitField)!==0},s.prototype.__isCancelled=function(){return(65536&this._bitField)===65536},s.prototype._isCancelled=function(){return this._target().__isCancelled()},s.prototype.isCancelled=function(){return(8454144&this._target()._bitField)!==0},s.prototype.isPending=function(){return w.call(this._target())},s.prototype.isRejected=function(){return C.call(this._target())},s.prototype.isFulfilled=function(){return _.call(this._target())},s.prototype.isResolved=function(){return x.call(this._target())},s.prototype.value=function(){return h.call(this._target())},s.prototype.reason=function(){var A=this._target();return A._unsetRejectionIsUnhandled(),y.call(A)},s.prototype._value=function(){return this._settledValue()},s.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},s.PromiseInspection=f}},{}],33:[function(e,r,i){r.exports=function(s,f){function h(E,O){if(P(E)){if(E instanceof s)return E;var L=_(E);if(L===A){O&&O._pushContext();var k=s.reject(L.e);return O&&O._popContext(),k}if(typeof L=="function"){if(C(E)){var k=new s(f);return E._then(k._fulfill,k._reject,void 0,k,null),k}return w(E,L,O)}}return E}function y(E){return E.then}function _(E){try{return y(E)}catch(O){return A.e=O,A}}function C(E){try{return R.call(E,"_promise0")}catch{return!1}}function w(E,O,L){function k(H){j&&(j._resolveCallback(H),j=null)}function N(H){j&&(j._rejectCallback(H,le,!0),j=null)}var j=new s(f),G=j;L&&L._pushContext(),j._captureStackTrace(),L&&L._popContext();var le=!0,$=x.tryCatch(O).call(E,k,N);return le=!1,j&&$===A&&(j._rejectCallback($.e,!0,!0),j=null),G}var x=e("./util"),A=x.errorObj,P=x.isObject,R={}.hasOwnProperty;return h}},{"./util":36}],34:[function(e,r,i){r.exports=function(s,f,h){function y(E){this.handle=E}function _(E){return clearTimeout(this.handle),E}function C(E){throw clearTimeout(this.handle),E}var w=e("./util"),x=s.TimeoutError;y.prototype._resultCancelled=function(){clearTimeout(this.handle)};var A=function(E){return P(+this).thenReturn(E)},P=s.delay=function(E,O){var L,k;return O!==void 0?(L=s.resolve(O)._then(A,null,null,E,void 0),h.cancellation()&&O instanceof s&&L._setOnCancel(O)):(L=new s(f),k=setTimeout(function(){L._fulfill()},+E),h.cancellation()&&L._setOnCancel(new y(k)),L._captureStackTrace()),L._setAsyncGuaranteed(),L};s.prototype.delay=function(E){return P(E,this)};var R=function(E,O,L){var k;k=typeof O!="string"?O instanceof Error?O:new x("operation timed out"):new x(O),w.markAsOriginatingFromRejection(k),E._attachExtraTrace(k),E._reject(k),L!=null&&L.cancel()};s.prototype.timeout=function(E,O){E=+E;var L,k,N=new y(setTimeout(function(){L.isPending()&&R(L,O,k)},E));return h.cancellation()?(k=this.then(),L=k._then(_,C,void 0,N,void 0),L._setOnCancel(N)):L=this._then(_,C,void 0,N,void 0),L}}},{"./util":36}],35:[function(e,r,i){r.exports=function(s,f,h,y,_,C){function w($){setTimeout(function(){throw $},0)}function x($){var H=h($);return H!==$&&typeof $._isDisposable=="function"&&typeof $._getDisposer=="function"&&$._isDisposable()&&H._setDisposable($._getDisposer()),H}function A($,H){function ie(){if(pe>=se)return ce._fulfill();var me=x($[pe++]);if(me instanceof s&&me._isDisposable()){try{me=h(me._getDisposer().tryDispose(H),$.promise)}catch(we){return w(we)}if(me instanceof s)return me._then(ie,w,null,null,null)}ie()}var pe=0,se=$.length,ce=new s(_);return ie(),ce}function P($,H,ie){this._data=$,this._promise=H,this._context=ie}function R($,H,ie){this.constructor$($,H,ie)}function E($){return P.isDisposer($)?(this.resources[this.index]._setDisposable($),$.promise()):$}function O($){this.length=$,this.promise=null,this[$-1]=null}var L=e("./util"),k=e("./errors").TypeError,N=e("./util").inherits,j=L.errorObj,G=L.tryCatch,le={};P.prototype.data=function(){return this._data},P.prototype.promise=function(){return this._promise},P.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():le},P.prototype.tryDispose=function($){var H=this.resource(),ie=this._context;ie!==void 0&&ie._pushContext();var pe=H!==le?this.doDispose(H,$):null;return ie!==void 0&&ie._popContext(),this._promise._unsetDisposable(),this._data=null,pe},P.isDisposer=function($){return $!=null&&typeof $.resource=="function"&&typeof $.tryDispose=="function"},N(R,P),R.prototype.doDispose=function($,H){var ie=this.data();return ie.call($,$,H)},O.prototype._resultCancelled=function(){for(var $=this.length,H=0;$>H;++H){var ie=this[H];ie instanceof s&&ie.cancel()}},s.using=function(){var $=arguments.length;if(2>$)return f("you must pass at least 2 arguments to Promise.using");var H=arguments[$-1];if(typeof H!="function")return f("expecting a function but got "+L.classString(H));var ie,pe=!0;$===2&&Array.isArray(arguments[0])?(ie=arguments[0],$=ie.length,pe=!1):(ie=arguments,$--);for(var se=new O($),ce=0;$>ce;++ce){var me=ie[ce];if(P.isDisposer(me)){var we=me;me=me.promise(),me._setDisposable(we)}else{var ge=h(me);ge instanceof s&&(me=ge._then(E,null,null,{resources:se,index:ce},void 0))}se[ce]=me}for(var Ee=new Array(se.length),ce=0;ce<Ee.length;++ce)Ee[ce]=s.resolve(se[ce]).reflect();var _e=s.all(Ee).then(function(xe){for(var Ce=0;Ce<xe.length;++Ce){var Ve=xe[Ce];if(Ve.isRejected())return j.e=Ve.error(),j;if(!Ve.isFulfilled())return void _e.cancel();xe[Ce]=Ve.value()}Be._pushContext(),H=G(H);var rt=pe?H.apply(void 0,xe):H(xe),et=Be._popContext();return C.checkForgottenReturns(rt,et,"Promise.using",Be),rt}),Be=_e.lastly(function(){var xe=new s.PromiseInspection(_e);return A(se,xe)});return se.promise=Be,Be._setOnCancel(se),Be},s.prototype._setDisposable=function($){this._bitField=131072|this._bitField,this._disposer=$},s.prototype._isDisposable=function(){return(131072&this._bitField)>0},s.prototype._getDisposer=function(){return this._disposer},s.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},s.prototype.disposer=function($){if(typeof $=="function")return new R($,this,y());throw new k}}},{"./errors":12,"./util":36}],36:[function(e,r,i){function s(){try{var ve=we;return we=null,ve.apply(this,arguments)}catch(Ie){return me.e=Ie,me}}function f(ve){return we=ve,s}function h(ve){return ve==null||ve===!0||ve===!1||typeof ve=="string"||typeof ve=="number"}function y(ve){return typeof ve=="function"||typeof ve=="object"&&ve!==null}function _(ve){return h(ve)?new Error(L(ve)):ve}function C(ve,Ie){var Je,st=ve.length,lt=new Array(st+1);for(Je=0;st>Je;++Je)lt[Je]=ve[Je];return lt[Je]=Ie,lt}function w(ve,Ie,Je){if(!se.isES5)return{}.hasOwnProperty.call(ve,Ie)?ve[Ie]:void 0;var st=Object.getOwnPropertyDescriptor(ve,Ie);return st!=null?st.get==null&&st.set==null?st.value:Je:void 0}function x(ve,Ie,Je){if(h(ve))return ve;var st={value:Je,configurable:!0,enumerable:!1,writable:!0};return se.defineProperty(ve,Ie,st),ve}function A(ve){throw ve}function P(ve){try{if(typeof ve=="function"){var Ie=se.names(ve.prototype),Je=se.isES5&&Ie.length>1,st=Ie.length>0&&!(Ie.length===1&&Ie[0]==="constructor"),lt=Be.test(ve+"")&&se.names(ve).length>0;if(Je||st||lt)return!0}return!1}catch{return!1}}function R(ve){function Ie(){}function Je(){return typeof st.foo}Ie.prototype=ve;var st=new Ie;return Je(),Je(),ve}function E(ve){return xe.test(ve)}function O(ve,Ie,Je){for(var st=new Array(ve),lt=0;ve>lt;++lt)st[lt]=Ie+lt+Je;return st}function L(ve){try{return ve+""}catch{return"[no string representation]"}}function k(ve){return ve instanceof Error||ve!==null&&typeof ve=="object"&&typeof ve.message=="string"&&typeof ve.name=="string"}function N(ve){try{x(ve,"isOperational",!0)}catch{}}function j(ve){return ve==null?!1:ve instanceof Error.__BluebirdErrorTypes__.OperationalError||ve.isOperational===!0}function G(ve){return k(ve)&&se.propertyIsWritable(ve,"stack")}function le(ve){return{}.toString.call(ve)}function $(ve,Ie,Je){for(var st=se.names(ve),lt=0;lt<st.length;++lt){var Bt=st[lt];if(Je(Bt))try{se.defineProperty(Ie,Bt,se.getDescriptor(ve,Bt))}catch{}}}function H(ve){return vt?SG[ve]:void 0}function ie(){if(typeof Promise=="function")try{var ve=new Promise(function(){});if(le(ve)==="[object Promise]")return Promise}catch{}}function pe(ve,Ie){if(ve===null||typeof Ie!="function"||Ie===St)return Ie;ve.domain!==null&&(Ie=ve.domain.bind(Ie));var Je=ve.async;if(Je!==null){var st=Ie;Ie=function(){var lt=new Array(2).concat([].slice.call(arguments));return lt[0]=st,lt[1]=this,Je.runInAsyncScope.apply(Je,lt)}}return Ie}var se=e("./es5"),ce=typeof navigator>"u",me={e:{}},we,ge=typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:this!==void 0?this:null,Ee=function(ve,Ie){function Je(){this.constructor=ve,this.constructor$=Ie;for(var lt in Ie.prototype)st.call(Ie.prototype,lt)&&lt.charAt(lt.length-1)!=="$"&&(this[lt+"$"]=Ie.prototype[lt])}var st={}.hasOwnProperty;return Je.prototype=Ie.prototype,ve.prototype=new Je,ve.prototype},_e=function(){var ve=[Array.prototype,Object.prototype,Function.prototype],Ie=function(lt){for(var Bt=0;Bt<ve.length;++Bt)if(ve[Bt]===lt)return!0;return!1};if(se.isES5){var Je=Object.getOwnPropertyNames;return function(lt){for(var Bt=[],Gt=Object.create(null);lt!=null&&!Ie(lt);){var nt;try{nt=Je(lt)}catch{return Bt}for(var At=0;At<nt.length;++At){var Ot=nt[At];if(!Gt[Ot]){Gt[Ot]=!0;var er=Object.getOwnPropertyDescriptor(lt,Ot);er!=null&&er.get==null&&er.set==null&&Bt.push(Ot)}}lt=se.getPrototypeOf(lt)}return Bt}}var st={}.hasOwnProperty;return function(lt){if(Ie(lt))return[];var Bt=[];e:for(var Gt in lt)if(st.call(lt,Gt))Bt.push(Gt);else{for(var nt=0;nt<ve.length;++nt)if(st.call(ve[nt],Gt))continue e;Bt.push(Gt)}return Bt}}(),Be=/this\s*\.\s*\S+\s*=/,xe=/^[a-z$_][a-z$_0-9]*$/i,Ce=function(){return"stack"in new Error?function(ve){return G(ve)?ve:new Error(L(ve))}:function(ve){if(G(ve))return ve;try{throw new Error(L(ve))}catch(Ie){return Ie}}}(),Ve=function(ve){return se.isArray(ve)?ve:null};if(typeof Symbol<"u"&&Symbol.iterator){var rt=typeof Array.from=="function"?function(ve){return Array.from(ve)}:function(ve){for(var Ie,Je=[],st=ve[Symbol.iterator]();!(Ie=st.next()).done;)Je.push(Ie.value);return Je};Ve=function(ve){return se.isArray(ve)?ve:ve!=null&&typeof ve[Symbol.iterator]=="function"?rt(ve):null}}var et=typeof process<"u"&&le(process).toLowerCase()==="[object process]",vt=typeof process<"u"&&typeof SG<"u",St,Se={setReflectHandler:function(ve){St=ve},isClass:P,isIdentifier:E,inheritedDataKeys:_e,getDataPropertyOrDefault:w,thrower:A,isArray:se.isArray,asArray:Ve,notEnumerableProp:x,isPrimitive:h,isObject:y,isError:k,canEvaluate:ce,errorObj:me,tryCatch:f,inherits:Ee,withAppended:C,maybeWrapAsError:_,toFastProperties:R,filledRange:O,toString:L,canAttachTrace:G,ensureErrorObject:Ce,originatesFromRejection:j,markAsOriginatingFromRejection:N,classString:le,copyDescriptors:$,isNode:et,hasEnvVariables:vt,env:H,global:ge,getNativePromise:ie,contextBind:pe};Se.isRecentNode=Se.isNode&&function(){var ve;return process.versions&&process.versions.node?ve=process.versions.node.split(".").map(Number):process.version&&(ve=process.version.split(".").map(Number)),ve[0]===0&&ve[1]>10||ve[0]>0}(),Se.nodeSupportsAsyncResource=Se.isNode&&function(){var ve=!1;try{var Ie=e("async_hooks").AsyncResource;ve=typeof Ie.prototype.runInAsyncScope=="function"}catch{ve=!1}return ve}(),Se.isNode&&Se.toFastProperties(process);try{throw new Error}catch(ve){Se.lastLineError=ve}r.exports=Se},{"./es5":13,async_hooks:void 0}]},{},[4])(4)}),typeof window<"u"&&window!==null?window.P=window.Promise:typeof self<"u"&&self!==null&&(self.P=self.Promise)}(function(e){function r(t,n){(n==null||n>t.length)&&(n=t.length);for(var o=0,a=Array(n);o<n;o++)a[o]=t[o];return a}function i(t,n,o,a,u,d,l){try{var c=t[d](l),p=c.value}catch(g){return void o(g)}c.done?n(p):Promise.resolve(p).then(a,u)}function s(t){return function(){var n=this,o=arguments;return new Promise(function(a,u){var d=t.apply(n,o);function l(p){i(d,a,u,l,c,"next",p)}function c(p){i(d,a,u,l,c,"throw",p)}l(void 0)})}}function f(t,n,o){return n=A(n),function(a,u){if(u&&(typeof u=="object"||typeof u=="function"))return u;if(u!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}(a)}(t,R()?Reflect.construct(n,o||[],A(t).constructor):n.apply(t,o))}function h(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function y(t,n){for(var o=0;o<n.length;o++){var a=n[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,k(a.key),a)}}function _(t,n,o){return n&&y(t.prototype,n),o&&y(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}function C(t,n){var o=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!o){if(Array.isArray(t)||(o=j(t))||n){o&&(t=o);var a=0,u=function(){};return{s:u,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(p){throw p},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var d,l=!0,c=!1;return{s:function(){o=o.call(t)},n:function(){var p=o.next();return l=p.done,p},e:function(p){c=!0,d=p},f:function(){try{l||o.return==null||o.return()}finally{if(c)throw d}}}}function w(t,n,o){return(n=k(n))in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t}function x(){return x=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(t,n,o){var a=function(d,l){for(;!{}.hasOwnProperty.call(d,l)&&(d=A(d))!==null;);return d}(t,n);if(a){var u=Object.getOwnPropertyDescriptor(a,n);return u.get?u.get.call(arguments.length<3?t:o):u.value}},x.apply(null,arguments)}function A(t){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},A(t)}function P(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&O(t,n)}function R(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R=function(){return!!t})()}function E(){E=function(){return n};var t,n={},o=Object.prototype,a=o.hasOwnProperty,u=Object.defineProperty||function(ae,ue,ye){ae[ue]=ye.value},d=typeof Symbol=="function"?Symbol:{},l=d.iterator||"@@iterator",c=d.asyncIterator||"@@asyncIterator",p=d.toStringTag||"@@toStringTag";function g(ae,ue,ye){return Object.defineProperty(ae,ue,{value:ye,enumerable:!0,configurable:!0,writable:!0}),ae[ue]}try{g({},"")}catch{g=function(ue,ye,be){return ue[ye]=be}}function S(ae,ue,ye,be){var Te=ue&&ue.prototype instanceof Y?ue:Y,je=Object.create(Te.prototype),Ye=new oe(be||[]);return u(je,"_invoke",{value:U(ae,ye,Ye)}),je}function v(ae,ue,ye){try{return{type:"normal",arg:ae.call(ue,ye)}}catch(be){return{type:"throw",arg:be}}}n.wrap=S;var b="suspendedStart",T="suspendedYield",D="executing",M="completed",W={};function Y(){}function ee(){}function te(){}var de={};g(de,l,function(){return this});var Z=Object.getPrototypeOf,ne=Z&&Z(Z(fe([])));ne&&ne!==o&&a.call(ne,l)&&(de=ne);var X=te.prototype=Y.prototype=Object.create(de);function F(ae){["next","throw","return"].forEach(function(ue){g(ae,ue,function(ye){return this._invoke(ue,ye)})})}function B(ae,ue){function ye(Te,je,Ye,He){var _t=v(ae[Te],ae,je);if(_t.type!=="throw"){var ct=_t.arg,gt=ct.value;return gt&&typeof gt=="object"&&a.call(gt,"__await")?ue.resolve(gt.__await).then(function($e){ye("next",$e,Ye,He)},function($e){ye("throw",$e,Ye,He)}):ue.resolve(gt).then(function($e){ct.value=$e,Ye(ct)},function($e){return ye("throw",$e,Ye,He)})}He(_t.arg)}var be;u(this,"_invoke",{value:function(Te,je){function Ye(){return new ue(function(He,_t){ye(Te,je,He,_t)})}return be=be?be.then(Ye,Ye):Ye()}})}function U(ae,ue,ye){var be=b;return function(Te,je){if(be===D)throw Error("Generator is already running");if(be===M){if(Te==="throw")throw je;return{value:t,done:!0}}for(ye.method=Te,ye.arg=je;;){var Ye=ye.delegate;if(Ye){var He=K(Ye,ye);if(He){if(He===W)continue;return He}}if(ye.method==="next")ye.sent=ye._sent=ye.arg;else if(ye.method==="throw"){if(be===b)throw be=M,ye.arg;ye.dispatchException(ye.arg)}else ye.method==="return"&&ye.abrupt("return",ye.arg);be=D;var _t=v(ae,ue,ye);if(_t.type==="normal"){if(be=ye.done?M:T,_t.arg===W)continue;return{value:_t.arg,done:ye.done}}_t.type==="throw"&&(be=M,ye.method="throw",ye.arg=_t.arg)}}}function K(ae,ue){var ye=ue.method,be=ae.iterator[ye];if(be===t)return ue.delegate=null,ye==="throw"&&ae.iterator.return&&(ue.method="return",ue.arg=t,K(ae,ue),ue.method==="throw")||ye!=="return"&&(ue.method="throw",ue.arg=new TypeError("The iterator does not provide a '"+ye+"' method")),W;var Te=v(be,ae.iterator,ue.arg);if(Te.type==="throw")return ue.method="throw",ue.arg=Te.arg,ue.delegate=null,W;var je=Te.arg;return je?je.done?(ue[ae.resultName]=je.value,ue.next=ae.nextLoc,ue.method!=="return"&&(ue.method="next",ue.arg=t),ue.delegate=null,W):je:(ue.method="throw",ue.arg=new TypeError("iterator result is not an object"),ue.delegate=null,W)}function J(ae){var ue={tryLoc:ae[0]};1 in ae&&(ue.catchLoc=ae[1]),2 in ae&&(ue.finallyLoc=ae[2],ue.afterLoc=ae[3]),this.tryEntries.push(ue)}function re(ae){var ue=ae.completion||{};ue.type="normal",delete ue.arg,ae.completion=ue}function oe(ae){this.tryEntries=[{tryLoc:"root"}],ae.forEach(J,this),this.reset(!0)}function fe(ae){if(ae||ae===""){var ue=ae[l];if(ue)return ue.call(ae);if(typeof ae.next=="function")return ae;if(!isNaN(ae.length)){var ye=-1,be=function Te(){for(;++ye<ae.length;)if(a.call(ae,ye))return Te.value=ae[ye],Te.done=!1,Te;return Te.value=t,Te.done=!0,Te};return be.next=be}}throw new TypeError(typeof ae+" is not iterable")}return ee.prototype=te,u(X,"constructor",{value:te,configurable:!0}),u(te,"constructor",{value:ee,configurable:!0}),ee.displayName=g(te,p,"GeneratorFunction"),n.isGeneratorFunction=function(ae){var ue=typeof ae=="function"&&ae.constructor;return!!ue&&(ue===ee||(ue.displayName||ue.name)==="GeneratorFunction")},n.mark=function(ae){return Object.setPrototypeOf?Object.setPrototypeOf(ae,te):(ae.__proto__=te,g(ae,p,"GeneratorFunction")),ae.prototype=Object.create(X),ae},n.awrap=function(ae){return{__await:ae}},F(B.prototype),g(B.prototype,c,function(){return this}),n.AsyncIterator=B,n.async=function(ae,ue,ye,be,Te){Te===void 0&&(Te=Promise);var je=new B(S(ae,ue,ye,be),Te);return n.isGeneratorFunction(ue)?je:je.next().then(function(Ye){return Ye.done?Ye.value:je.next()})},F(X),g(X,p,"Generator"),g(X,l,function(){return this}),g(X,"toString",function(){return"[object Generator]"}),n.keys=function(ae){var ue=Object(ae),ye=[];for(var be in ue)ye.push(be);return ye.reverse(),function Te(){for(;ye.length;){var je=ye.pop();if(je in ue)return Te.value=je,Te.done=!1,Te}return Te.done=!0,Te}},n.values=fe,oe.prototype={constructor:oe,reset:function(ae){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(re),!ae)for(var ue in this)ue.charAt(0)==="t"&&a.call(this,ue)&&!isNaN(+ue.slice(1))&&(this[ue]=t)},stop:function(){this.done=!0;var ae=this.tryEntries[0].completion;if(ae.type==="throw")throw ae.arg;return this.rval},dispatchException:function(ae){if(this.done)throw ae;var ue=this;function ye(_t,ct){return je.type="throw",je.arg=ae,ue.next=_t,ct&&(ue.method="next",ue.arg=t),!!ct}for(var be=this.tryEntries.length-1;be>=0;--be){var Te=this.tryEntries[be],je=Te.completion;if(Te.tryLoc==="root")return ye("end");if(Te.tryLoc<=this.prev){var Ye=a.call(Te,"catchLoc"),He=a.call(Te,"finallyLoc");if(Ye&&He){if(this.prev<Te.catchLoc)return ye(Te.catchLoc,!0);if(this.prev<Te.finallyLoc)return ye(Te.finallyLoc)}else if(Ye){if(this.prev<Te.catchLoc)return ye(Te.catchLoc,!0)}else{if(!He)throw Error("try statement without catch or finally");if(this.prev<Te.finallyLoc)return ye(Te.finallyLoc)}}}},abrupt:function(ae,ue){for(var ye=this.tryEntries.length-1;ye>=0;--ye){var be=this.tryEntries[ye];if(be.tryLoc<=this.prev&&a.call(be,"finallyLoc")&&this.prev<be.finallyLoc){var Te=be;break}}Te&&(ae==="break"||ae==="continue")&&Te.tryLoc<=ue&&ue<=Te.finallyLoc&&(Te=null);var je=Te?Te.completion:{};return je.type=ae,je.arg=ue,Te?(this.method="next",this.next=Te.finallyLoc,W):this.complete(je)},complete:function(ae,ue){if(ae.type==="throw")throw ae.arg;return ae.type==="break"||ae.type==="continue"?this.next=ae.arg:ae.type==="return"?(this.rval=this.arg=ae.arg,this.method="return",this.next="end"):ae.type==="normal"&&ue&&(this.next=ue),W},finish:function(ae){for(var ue=this.tryEntries.length-1;ue>=0;--ue){var ye=this.tryEntries[ue];if(ye.finallyLoc===ae)return this.complete(ye.completion,ye.afterLoc),re(ye),W}},catch:function(ae){for(var ue=this.tryEntries.length-1;ue>=0;--ue){var ye=this.tryEntries[ue];if(ye.tryLoc===ae){var be=ye.completion;if(be.type==="throw"){var Te=be.arg;re(ye)}return Te}}throw Error("illegal catch attempt")},delegateYield:function(ae,ue,ye){return this.delegate={iterator:fe(ae),resultName:ue,nextLoc:ye},this.method==="next"&&(this.arg=t),W}},n}function O(t,n){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,a){return o.__proto__=a,o},O(t,n)}function L(t,n){return function(o){if(Array.isArray(o))return o}(t)||function(o,a){var u=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(u!=null){var d,l,c,p,g=[],S=!0,v=!1;try{if(c=(u=u.call(o)).next,a!==0)for(;!(S=(d=c.call(u)).done)&&(g.push(d.value),g.length!==a);S=!0);}catch(b){v=!0,l=b}finally{try{if(!S&&u.return!=null&&(p=u.return(),Object(p)!==p))return}finally{if(v)throw l}}return g}}(t,n)||j(t,n)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function k(t){var n=function(o,a){if(typeof o!="object"||!o)return o;var u=o[Symbol.toPrimitive];if(u!==void 0){var d=u.call(o,a||"default");if(typeof d!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(o)}(t,"string");return typeof n=="symbol"?n:n+""}function N(t){return N=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},N(t)}function j(t,n){if(t){if(typeof t=="string")return r(t,n);var o={}.toString.call(t).slice(8,-1);return o==="Object"&&t.constructor&&(o=t.constructor.name),o==="Map"||o==="Set"?Array.from(t):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?r(t,n):void 0}}var G;function le(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function $(t){return $=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},$(t)}function H(t){var n=function(o,a){if($(o)!="object"||!o)return o;var u=o[Symbol.toPrimitive];if(u!==void 0){var d=u.call(o,a||"default");if($(d)!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(o)}(t,"string");return $(n)=="symbol"?n:n+""}function ie(t,n){for(var o=0;o<n.length;o++){var a=n[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,H(a.key),a)}}function pe(t,n,o){return n&&ie(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var se=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ce(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var me={exports:{}},we={exports:{}};(function(t){function n(o){return t.exports=n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},t.exports.__esModule=!0,t.exports.default=t.exports,n(o)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports})(we);var ge=we.exports;(function(t){var n=ge.default;function o(){t.exports=o=function(){return u},t.exports.__esModule=!0,t.exports.default=t.exports;var a,u={},d=Object.prototype,l=d.hasOwnProperty,c=Object.defineProperty||function(be,Te,je){be[Te]=je.value},p=typeof Symbol=="function"?Symbol:{},g=p.iterator||"@@iterator",S=p.asyncIterator||"@@asyncIterator",v=p.toStringTag||"@@toStringTag";function b(be,Te,je){return Object.defineProperty(be,Te,{value:je,enumerable:!0,configurable:!0,writable:!0}),be[Te]}try{b({},"")}catch{b=function(Te,je,Ye){return Te[je]=Ye}}function T(be,Te,je,Ye){var He=Te&&Te.prototype instanceof de?Te:de,_t=Object.create(He.prototype),ct=new ue(Ye||[]);return c(_t,"_invoke",{value:re(be,je,ct)}),_t}function D(be,Te,je){try{return{type:"normal",arg:be.call(Te,je)}}catch(Ye){return{type:"throw",arg:Ye}}}u.wrap=T;var M="suspendedStart",W="suspendedYield",Y="executing",ee="completed",te={};function de(){}function Z(){}function ne(){}var X={};b(X,g,function(){return this});var F=Object.getPrototypeOf,B=F&&F(F(ye([])));B&&B!==d&&l.call(B,g)&&(X=B);var U=ne.prototype=de.prototype=Object.create(X);function K(be){["next","throw","return"].forEach(function(Te){b(be,Te,function(je){return this._invoke(Te,je)})})}function J(be,Te){function je(He,_t,ct,gt){var $e=D(be[He],be,_t);if($e.type!=="throw"){var qe=$e.arg,We=qe.value;return We&&n(We)=="object"&&l.call(We,"__await")?Te.resolve(We.__await).then(function(Ke){je("next",Ke,ct,gt)},function(Ke){je("throw",Ke,ct,gt)}):Te.resolve(We).then(function(Ke){qe.value=Ke,ct(qe)},function(Ke){return je("throw",Ke,ct,gt)})}gt($e.arg)}var Ye;c(this,"_invoke",{value:function(He,_t){function ct(){return new Te(function(gt,$e){je(He,_t,gt,$e)})}return Ye=Ye?Ye.then(ct,ct):ct()}})}function re(be,Te,je){var Ye=M;return function(He,_t){if(Ye===Y)throw Error("Generator is already running");if(Ye===ee){if(He==="throw")throw _t;return{value:a,done:!0}}for(je.method=He,je.arg=_t;;){var ct=je.delegate;if(ct){var gt=oe(ct,je);if(gt){if(gt===te)continue;return gt}}if(je.method==="next")je.sent=je._sent=je.arg;else if(je.method==="throw"){if(Ye===M)throw Ye=ee,je.arg;je.dispatchException(je.arg)}else je.method==="return"&&je.abrupt("return",je.arg);Ye=Y;var $e=D(be,Te,je);if($e.type==="normal"){if(Ye=je.done?ee:W,$e.arg===te)continue;return{value:$e.arg,done:je.done}}$e.type==="throw"&&(Ye=ee,je.method="throw",je.arg=$e.arg)}}}function oe(be,Te){var je=Te.method,Ye=be.iterator[je];if(Ye===a)return Te.delegate=null,je==="throw"&&be.iterator.return&&(Te.method="return",Te.arg=a,oe(be,Te),Te.method==="throw")||je!=="return"&&(Te.method="throw",Te.arg=new TypeError("The iterator does not provide a '"+je+"' method")),te;var He=D(Ye,be.iterator,Te.arg);if(He.type==="throw")return Te.method="throw",Te.arg=He.arg,Te.delegate=null,te;var _t=He.arg;return _t?_t.done?(Te[be.resultName]=_t.value,Te.next=be.nextLoc,Te.method!=="return"&&(Te.method="next",Te.arg=a),Te.delegate=null,te):_t:(Te.method="throw",Te.arg=new TypeError("iterator result is not an object"),Te.delegate=null,te)}function fe(be){var Te={tryLoc:be[0]};1 in be&&(Te.catchLoc=be[1]),2 in be&&(Te.finallyLoc=be[2],Te.afterLoc=be[3]),this.tryEntries.push(Te)}function ae(be){var Te=be.completion||{};Te.type="normal",delete Te.arg,be.completion=Te}function ue(be){this.tryEntries=[{tryLoc:"root"}],be.forEach(fe,this),this.reset(!0)}function ye(be){if(be||be===""){var Te=be[g];if(Te)return Te.call(be);if(typeof be.next=="function")return be;if(!isNaN(be.length)){var je=-1,Ye=function He(){for(;++je<be.length;)if(l.call(be,je))return He.value=be[je],He.done=!1,He;return He.value=a,He.done=!0,He};return Ye.next=Ye}}throw new TypeError(n(be)+" is not iterable")}return Z.prototype=ne,c(U,"constructor",{value:ne,configurable:!0}),c(ne,"constructor",{value:Z,configurable:!0}),Z.displayName=b(ne,v,"GeneratorFunction"),u.isGeneratorFunction=function(be){var Te=typeof be=="function"&&be.constructor;return!!Te&&(Te===Z||(Te.displayName||Te.name)==="GeneratorFunction")},u.mark=function(be){return Object.setPrototypeOf?Object.setPrototypeOf(be,ne):(be.__proto__=ne,b(be,v,"GeneratorFunction")),be.prototype=Object.create(U),be},u.awrap=function(be){return{__await:be}},K(J.prototype),b(J.prototype,S,function(){return this}),u.AsyncIterator=J,u.async=function(be,Te,je,Ye,He){He===void 0&&(He=Promise);var _t=new J(T(be,Te,je,Ye),He);return u.isGeneratorFunction(Te)?_t:_t.next().then(function(ct){return ct.done?ct.value:_t.next()})},K(U),b(U,v,"Generator"),b(U,g,function(){return this}),b(U,"toString",function(){return"[object Generator]"}),u.keys=function(be){var Te=Object(be),je=[];for(var Ye in Te)je.push(Ye);return je.reverse(),function He(){for(;je.length;){var _t=je.pop();if(_t in Te)return He.value=_t,He.done=!1,He}return He.done=!0,He}},u.values=ye,ue.prototype={constructor:ue,reset:function(be){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(ae),!be)for(var Te in this)Te.charAt(0)==="t"&&l.call(this,Te)&&!isNaN(+Te.slice(1))&&(this[Te]=a)},stop:function(){this.done=!0;var be=this.tryEntries[0].completion;if(be.type==="throw")throw be.arg;return this.rval},dispatchException:function(be){if(this.done)throw be;var Te=this;function je($e,qe){return _t.type="throw",_t.arg=be,Te.next=$e,qe&&(Te.method="next",Te.arg=a),!!qe}for(var Ye=this.tryEntries.length-1;Ye>=0;--Ye){var He=this.tryEntries[Ye],_t=He.completion;if(He.tryLoc==="root")return je("end");if(He.tryLoc<=this.prev){var ct=l.call(He,"catchLoc"),gt=l.call(He,"finallyLoc");if(ct&&gt){if(this.prev<He.catchLoc)return je(He.catchLoc,!0);if(this.prev<He.finallyLoc)return je(He.finallyLoc)}else if(ct){if(this.prev<He.catchLoc)return je(He.catchLoc,!0)}else{if(!gt)throw Error("try statement without catch or finally");if(this.prev<He.finallyLoc)return je(He.finallyLoc)}}}},abrupt:function(be,Te){for(var je=this.tryEntries.length-1;je>=0;--je){var Ye=this.tryEntries[je];if(Ye.tryLoc<=this.prev&&l.call(Ye,"finallyLoc")&&this.prev<Ye.finallyLoc){var He=Ye;break}}He&&(be==="break"||be==="continue")&&He.tryLoc<=Te&&Te<=He.finallyLoc&&(He=null);var _t=He?He.completion:{};return _t.type=be,_t.arg=Te,He?(this.method="next",this.next=He.finallyLoc,te):this.complete(_t)},complete:function(be,Te){if(be.type==="throw")throw be.arg;return be.type==="break"||be.type==="continue"?this.next=be.arg:be.type==="return"?(this.rval=this.arg=be.arg,this.method="return",this.next="end"):be.type==="normal"&&Te&&(this.next=Te),te},finish:function(be){for(var Te=this.tryEntries.length-1;Te>=0;--Te){var je=this.tryEntries[Te];if(je.finallyLoc===be)return this.complete(je.completion,je.afterLoc),ae(je),te}},catch:function(be){for(var Te=this.tryEntries.length-1;Te>=0;--Te){var je=this.tryEntries[Te];if(je.tryLoc===be){var Ye=je.completion;if(Ye.type==="throw"){var He=Ye.arg;ae(je)}return He}}throw Error("illegal catch attempt")},delegateYield:function(be,Te,je){return this.delegate={iterator:ye(be),resultName:Te,nextLoc:je},this.method==="next"&&(this.arg=a),te}},u}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports})(me);var Ee=(0,me.exports)(),_e=Ee;try{regeneratorRuntime=Ee}catch{(typeof globalThis>"u"?"undefined":N(globalThis))==="object"?globalThis.regeneratorRuntime=Ee:Function("r","regeneratorRuntime = r")(Ee)}var Be,xe,Ce=ce(_e);function Ve(t){var n=t?new Date(t):new Date,o="yyyy-MM-dd HH:mm:ss.SSSZ",a={"M+":n.getUTCMonth()+1,"d+":n.getUTCDate(),"H+":n.getUTCHours(),"h+":n.getUTCHours()%12||12,"m+":n.getUTCMinutes(),"s+":n.getUTCSeconds(),"q+":Math.floor((n.getUTCMonth()+3)/3),"S+":n.getUTCMilliseconds()};for(var u in/(y+)/.test(o)&&(o=o.replace(RegExp.$1,(n.getUTCFullYear()+"").substr(4-RegExp.$1.length))),a)new RegExp("("+u+")").test(o)&&(o=o.replace(RegExp.$1,RegExp.$1.length==1?a[u]:("000"+a[u]).substr(("000"+a[u]).length-RegExp.$1.length)));return o}function rt(t){return t===xe}function et(t){return t!==xe}function vt(t){return t===null}Be=(typeof window>"u"?"undefined":$(window))==="object"?window:{};var St={"[object Function]":"function","[object AsyncFunction]":"function","[object String]":"string","[object Object]":"object","[object Boolean]":"boolean","[object Number]":"number","[object Array]":"array"};function Se(t){return vt(t)||rt(t)?String(t):St[{}.toString.call(t)]||"object"}function ve(t){return Se(t)==="function"}function Ie(t){return Se(t)==="string"}function Je(t){return Se(t)==="object"}function st(t){return Se(t)==="boolean"}function lt(t){return Se(t)==="number"}function Bt(t){return Array.isArray?Array.isArray(t):Se(t)==="array"}function Gt(t){if(t==null)return[];if(Bt(t))return t;var n=$(t.length),o=$(t);if(n!=="number"||t.alert||o==="string"||o==="function"&&(!("item"in t)||n!=="number"))return[t];for(var a=[],u=0,d=t.length;u<d;u++)a[u]=t[u];return a}var nt,At,Ot={debug:!1,showConsoleError:!1};function er(){return nt}function rn(t){nt=t}function nn(t,n,o,a){if(Ot.debug&&At&&ve(At.log)){var u=Ve(new Date().getTime()),d=Gt(arguments);At.log(["[",u,"] ",d].join(""))}}function Ur(t,n,o,a){if((Ot.debug||Ot.showConsoleError)&&At&&ve(At.error)){var u=Ve(new Date().getTime()),d=Gt(arguments);At.error(["[",u,"] ",d].join(""))}}function Tn(t,n,o,a){if(Ot.debug&&At&&ve(At.warn)){var u=Ve(new Date().getTime()),d=Gt(arguments);At.warn(["[",u,"] ",d].join(""))}}function Xr(t,n,o,a){if(Ot.debug&&At&&ve(At.info)){var u=Ve(new Date().getTime()),d=Gt(arguments);At.info(["[",u,"] ",d].join(""))}}Be&&et(Be.console)&&(ve((At=Be.console).log)&&ve(At.error)?nt={log:nn,error:Ur,info:Xr,warn:Tn,debug:function(t,n,o,a){if(Ot.debug&&At&&ve(At.debug)){var u=Ve(new Date().getTime()),d=Gt(arguments);At.debug(["[",u,"] ",d].join(""))}}}:(At=!1,nt=!1));var ut={queue:[],doNextStarted:!1,timer:null,pushToDo:function(t,n,o){ut.queue.push({obj:t,method:n,args:o})},doNext:function(){if(ut.doNextStarted)if(ut.queue.length!=0){var t=ut.queue[0],n=t.obj,o=t.method,a=t.args;if(ut.queue.splice(0,1),n&&ve(n[o])){var u=!1;if(a.length>2){var d=a[a.length-2],l=a[a.length-1];ve(d)&&ve(l)&&(a[a.length-2]=function(){try{d.apply(n,arguments)}catch{}ut.timer=setTimeout(ut.doNext,0)},a[a.length-1]=function(){try{l.apply(n,arguments)}catch{}ut.timer=setTimeout(ut.doNext,0)},u=!0)}try{n[o].apply(n,a)}catch{}u||(ut.timer=setTimeout(ut.doNext,0))}else if(n===null&&ve(o)){try{o.apply(null,a)}catch{}ut.timer=setTimeout(ut.doNext,0)}else nn("not invoke a function: "+o),ut.timer=setTimeout(ut.doNext,0)}else ut.stop();else ut.stop()},start:function(){ut.doNextStarted||(ut.doNextStarted=!0,ut.timer=setTimeout(ut.doNext,0))},stop:function(){clearTimeout(ut.timer),ut.timer=null,ut.doNextStarted=!1,ut.queue=[]}},Tr=!0,it=!1;function bt(t,n,o){if(t){var a,u,d,l=0,c=t.length;if(o=o||null,rt(c)||ve(t))for(d=Object.keys(t);l<d.length&&(a=d[l],n.call(o,t[a],a,t)!==it);l++);else for(u=t[0];l<c&&n.call(o,u,l,t)!==it;u=t[++l]);}return t}var xt,tr={fire:function(t){var n,o=this;o.exec=o.exec||{},t=t.toLowerCase(),n=Array.prototype.slice.call(arguments,1),bt(o.exec[t]||[],function(a){var u=a.f,d=a.c||o;try{u.apply(d,n)}catch(l){nn(l)}})},on:function(t,n,o){var a=this;a.exec=a.exec||{},t=t.toLowerCase(),a.exec[t]=a.exec[t]||[],a.exec[t].push({f:n,c:o})},off:function(t,n,o){var a=this.exec;if(a)if(t)if(t=t.toLowerCase(),n)for(var u=a[t]||[],d=u.length-1;d>=0;d--)u[d]===n&&u.splice(d,1);else a[t]=null;else this.exec=null}},Dt="",he,pr,Ne,Le,Ze=navigator,ot=!0;if("userAgentData"in Ze){var Tt=Ze.userAgentData,Jt=[];Tt.platform&&Tt.platform!=""&&("brands"in Tt&&Array.isArray(Tt.brands)&&Tt.brands.length>0?Jt=Tt.brands:"uaList"in Tt&&Array.isArray(Tt.uaList)&&Tt.uaList.length>0&&(Jt=Tt.uaList),Jt.length>0&&(ot=!1,pr=Tt.platform.toLowerCase(),he=function(t,n,o){var a,u,d,l,c,p,g,S,v,b=!1,T=!1,D=!1,M=t.mobile,W=!1,Y=Dt,ee=navigator.maxTouchPoints||0;for(u=n.length,a=0;a<u;a++){var te=n[a].brand.toLowerCase();if(te.indexOf("chrome")>=0){D=!0,Y=n[a].version;break}if(te.indexOf("edge")>=0){b=!0,Y=n[a].version;break}if(te.indexOf("opera")>=0){T=!0,Y=n[a].version;break}}return D||b||T||(D=!0,Y="100"),d=/windows/g.test(o),l=/mac/g.test(o),c=/linux/g.test(o),p=/android/g.test(o),g=/harmony/g.test(o),S=/(chromeos|chrome\sos)/g.test(o),v=/iphone/g.test(o),d||p||c||v||(W=/macintel/g.test(o)&&ee>1),(p||g||v||W)&&(M=!0),{bUseUserAgent:!1,bWin:d,bMac:l,bLinux:c,bAndroid:p,bHarmonyOS:g,bChromeOS:S,bIE:!1,bEdge:b,bUC:!1,bPlaybook:!1,bBlackBerry:!1,bHuaWeiBrowser:!1,bOpera:T,bFirefox:!1,bChrome:D,bJSDom:!1,biPhone:v,biPad:W,bPad:p&&!t.mobile,bSafari:!1,bMobile:M,strBrowserVersion:Y,bHTML5Edition:!0,IEVersion:0,IEMode:0}}(Tt,Jt,pr)))}ot&&(Ne||(Ne=Ze.userAgent.toLowerCase()),Le||(Le=Ze.platform.toLowerCase()),he=function(t,n){var o,a=t.toLowerCase(),u=n.toLowerCase(),d=/harmonyos/g.test(a);u=="linux"&&a.indexOf("windows nt")>=0&&(u="harmonyos",d=!0);var l=!d&&/cros/.test(a),c=!d&&/android/g.test(a)||/android/g.test(u),p=/iphone/g.test(a)||/iphone/g.test(u),g=/macintosh/.test(a),S=navigator.maxTouchPoints||0,v=/ipad/g.test(a)||(g||u=="macintel")&&S>1,b=/ucweb|ucbrowser/g.test(a),T=!b&&/nexus/g.test(a)&&/version\/[\d.]+.*safari\//g.test(a),D=/playbook/g.test(a),M=/hp-tablet/g.test(a),W=/blackberry|bb10/g.test(a),Y=/symbian/g.test(a),ee=/windows phone/g.test(a),te=/mobile/g.test(a),de=/arm64|aarch64/g.test(a),Z=/mips64/g.test(a),ne=/huaweibrowser/g.test(a),X=/jsdom/g.test(a),F=D||v||M,B=!F&&!l&&(p||T||W||Y||ee||c||d||te),U=!B&&!F&&!l,K=U&&/win32|win64|windows/.test(u),J=K&&/win64|x64/.test(a),re=U&&/mac68k|macppc|macintosh|macintel/.test(a),oe=U&&/linux/.test(u),fe=u=="win64"||/wow64|x86_64|win64|x64/.test(a)||de||Z,ae=/wow64/g.test(a),ue=it,ye=/opera|opr/g.test(a),be=/360se/g.test(a),Te=/maxthon/g.test(a),je=/tencenttraveler|qqbrowser/g.test(a),Ye=/the world/g.test(a),He=/metasr/g.test(a),_t=/avant/g.test(a),ct=/firefox|fxios/g.test(a),gt=/gecko/g.test(a),$e=!(ct||ne)&&/edge\/|edga\/|edgios\/|edg\//g.test(a),qe=!(W||D||b||ye||$e||ne||X)&&/chrome|crios/g.test(a),We=!1,Ke=Dt,zt=0,Mt=0,ze=Dt;if(K&&!$e&&!ct&&!qe){var sr=a.indexOf("msie "),Ar=a.indexOf("trident"),ln=a.indexOf("rv:");We=sr!=-1||Ar!=-1||ln!=-1}if(!(re||p||v||K||W||D||T)||b||ye||$e||We||ct||(o=a.match(/version\/([\d.]+).*safari\//))&&(W||D||T||(ue=Tr,qe=it),ze=o[1]),$e){var xn=a.indexOf("edge/");xn>-1?xn+=5:(xn=a.indexOf("edg/"))>-1?xn+=4:(xn=a.indexOf("edga/"))>-1?xn+=5:(xn=a.indexOf("edgios/"))>-1&&(xn+=7),xn>-1&&(o=(ze=a.slice(xn)).indexOf(" "))>-1&&(ze=ze.slice(0,o))}else if(ct)if((o=a.indexOf("firefox/"))>-1){var wr=(o=a.slice(o+8)).indexOf(" ");wr>-1&&(o=o.slice(0,wr)),ze=o,(wr=o.indexOf("."))>-1&&(o=ze.slice(0,wr))}else(p||v)&&(o=a.indexOf("fxios/"))>-1&&(ze=o=(o=a.slice(o+6)).slice(0,o.indexOf(" ")));else if(We){var $r=a.indexOf("msie "),di=a.indexOf("trident"),oc=a.indexOf("rv:");$r!=-1?Ke=o=(o=a.slice($r+5)).slice(0,o.indexOf(";")):oc!=-1?Ke=o=(o=(o=a.slice(oc+3)).slice(0,o.indexOf(";"))).slice(0,o.indexOf(")")):di!=-1&&(Ke=o=(o=a.slice(di+7)).slice(0,o.indexOf(";"))),ze=o}else if(ue)(o=ze.indexOf("."))>-1&&(o=ze.slice(0,o));else if(b)(o=a.indexOf("ucweb"))>-1?ze=a.slice(o+5):(o=a.indexOf("ucbrowser/"))>-1&&(o=(ze=a.slice(o+10)).indexOf(" "))>-1&&(ze=ze.slice(0,o));else if(ye)(o=a.indexOf("version/"))>-1?ze=a.slice(o+8):(o=a.indexOf("opr/"))>-1&&(ze=a.slice(o+4));else if(Y)(o=a.indexOf("browserng/"))>-1&&(ze=a.slice(o+10));else if(ee)(o=a.indexOf("iemobile/"))>-1&&(ze=a.slice(o+9));else if(qe){var Li=a.indexOf("chrome/");Li>-1?(o=(ze=a.slice(Li+7)).indexOf(" "))>-1&&(ze=ze.slice(0,o)):(Li=a.indexOf("crios/"))>-1&&(o=(ze=a.slice(Li+6)).indexOf(" "))>-1&&(ze=ze.slice(0,o)),(o=ze.indexOf("."))>-1&&(o=ze.slice(0,o))}else if(ne){var bo=a.indexOf("huaweibrowser");bo>-1&&(o=(ze=a.slice(bo+14)).indexOf(" "))>-1&&(ze=ze.slice(0,o))}else if(X){var To=a.indexOf("jsdom");To>-1&&(o=(ze=a.slice(To+6)).indexOf(" "))>-1&&(ze=ze.slice(0,o))}if($e||We){var Bo=window.document;Bo&&Bo.documentMode?zt=Bo.documentMode:(zt=5,Bo.compatMode&&Bo.compatMode=="CSS1Compat"&&(zt=7)),We&&(Mt=parseInt(ze))}(re||oe)&&(fe=!0,re&&(o=a.match(/mac os x (\d+)(_|\.)(\d+)/))&&o.length>3&&(o[1]==10&&o[3]<14||o[1]<10)&&(fe=!1)),K||re||oe||de||Z||(B=!0);var $n=!0;if(We)if(Ke===""||parseInt(Ke)>=10){var Co=Be.Dynamsoft;Co&&Co.DWT&&Co.DWT.IfUseActiveXForIE10Plus&&($n=it)}else $n=it;return{bUseUserAgent:!0,bWin:K,bMac:re,bLinux:oe,bMobile:B,bPad:F,bChromeOS:l,bHarmonyOS:d,bArm64:de,bMips64:Z,bEmbed:de||Z,bAndroid:c,biPhone:p,biPad:v,bWin64:J,bWOW64:ae,bOSx64:fe,bIE:We,bEdge:$e,bChrome:qe,bFirefox:ct,bSafari:ue,bOpera:ye,bNexus:T,bUC:b,b360SE:be,bMaxthon:Te,bTencentTraveler:je,bTheWorld:Ye,bMetaSr:He,bAvant:_t,bHuaWeiBrowser:ne,bJSDom:X,bGecko:gt,bHTML5Edition:$n,strBrowserVersion:ze,IEVersion:Mt,IEMode:zt}}(Ne,Le));var lr=(xt=document==null?void 0:document.location)===null||xt===void 0?void 0:xt.protocol;function Qt(t){return he.bGecko&&t==="mousewheel"?"DOMMouseScroll":t}function Mr(t,n,o){var a=Qt(n);t&&t.addEventListener(a,o,!1)}function on(t,n,o){var a=Qt(n);t&&t.removeEventListener(a,o,!1)}function Hn(t){var n=t||Be.event;n.preventDefault&&n.preventDefault(),n.stopPropagation&&n.stopPropagation(),n.returnValue=!1,n.cancelBubble=!0}function ii(t,n){var o=Be.document.createEvent("HTMLEvents");o.initEvent(t,Tr,Tr),n.dispatchEvent&&n.dispatchEvent(o)}lr||(lr="https:"),he.protocol=lr,he.bSSL=lr==="https:",he.bFileSystem=lr!=="https:"&&lr!=="http:";var zi,Po,Zt,Lr,Er=Be.document,fn=[],gi=fn.push,io=fn.slice,Ae=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Re=function(){Po()};function Ue(t,n,o,a){var u,d,l,c=n&&n.ownerDocument,p=n?n.nodeType:9;if(o=o||[],typeof t!="string"||!t||p!==1&&p!==9&&p!==11)return o;if(!a&&((n?n.ownerDocument||n:Er)!==Zt&&Po(n),n=n||Zt,p!==11&&(l=Ae.exec(t))))if(u=l[1]){if(p===9){if(!(d=n.getElementById(u)))return o;if(d.id===u)return o.push(d),o}else if(c&&(d=c.getElementById(u))&&Lr(n,d)&&d.id===u)return o.push(d),o}else{if(l[2])return gi.apply(o,n.getElementsByTagName(t)),o;if((u=l[3])&&n.getElementsByClassName)return gi.apply(o,n.getElementsByClassName(u)),o}return o}gi.apply(io.call(Er.childNodes),Er.childNodes),Po=Ue.setDocument=function(t){var n,o=t?t.ownerDocument||t:Er;return o!==Zt&&o.nodeType===9&&o.documentElement&&(Er!==(Zt=o)&&(n=Zt.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Re,!1):n.attachEvent&&n.attachEvent("onunload",Re)),Lr=function(a,u){if(u){for(;u=u.parentNode;)if(u===a)return!0}return!1}),Zt},Ue.contains=function(t,n){return(t.ownerDocument||t)!==Zt&&Po(t),Lr(t,n)},Ue.error=function(t){throw new Error("Syntax error: "+t)},zi=Ue.getText=function(t){var n,o="",a=0,u=t.nodeType;if(u){if(u===1||u===9||u===11){if(typeof t.textContent=="string")return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)o+=zi(t)}else if(u===3||u===4)return t.nodeValue}else for(;n=t[a++];)o+=zi(n);return o},Po();var Xe={encodeChars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",decodeChars:[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1]},Et={UTF16ToUTF8:function(t){for(var n,o,a=[],u=t.length,d=0;d<u;d++){var l=t.charCodeAt(d);if(l>0&&l<=127)a.push(t.charAt(d));else if(l>=128&&l<=2047)n=192|l>>6&31,o=128|63&l,a.push(String.fromCharCode(n),String.fromCharCode(o));else if(l>=2048&&l<=65535){n=224|l>>12&15,o=128|l>>6&63;var c=128|63&l;a.push(String.fromCharCode(n),String.fromCharCode(o),String.fromCharCode(c))}}return a.join("")},UTF8ToUTF16:function(t){var n,o,a,u,d=[],l=t.length;for(n=0;n<l;n++)(o=t.charCodeAt(n))>>7&255?(o>>5&255)==6?(u=(31&o)<<6|63&(a=t.charCodeAt(++n)),d.push(String.fromCharCode(u))):(o>>4&255)==14&&(u=(255&(o<<4|(a=t.charCodeAt(++n))>>2&15))<<8|((3&a)<<6|63&t.charCodeAt(++n)),d.push(String.fromCharCode(u))):d.push(t.charAt(n));return d.join("")},encode:function(t){for(var n,o,a,u=this.UTF16ToUTF8(t),d=[],l=0,c=u.length;l<c;){if(n=255&u.charCodeAt(l++),l==c){d.push(Xe.encodeChars.charAt(n>>2)),d.push(Xe.encodeChars.charAt((3&n)<<4)),d.push("==");break}if(o=u.charCodeAt(l++),l==c){d.push(Xe.encodeChars.charAt(n>>2)),d.push(Xe.encodeChars.charAt((3&n)<<4|(240&o)>>4)),d.push(Xe.encodeChars.charAt((15&o)<<2)),d.push("=");break}a=u.charCodeAt(l++),d.push(Xe.encodeChars.charAt(n>>2)),d.push(Xe.encodeChars.charAt((3&n)<<4|(240&o)>>4)),d.push(Xe.encodeChars.charAt((15&o)<<2|(192&a)>>6)),d.push(Xe.encodeChars.charAt(63&a))}return d.join("")},encodeArray:function(t){if(window.ArrayBuffer&&window.Uint8Array&&t instanceof window.ArrayBuffer){var n=new window.Uint8Array(t);return this.encodeArray(n)}for(var o,a,u,d=[],l=0,c=t.length;l<c;){if(o=255&t[l++],l==c){d.push(Xe.encodeChars.charAt(o>>2)),d.push(Xe.encodeChars.charAt((3&o)<<4)),d.push("==");break}if(a=255&t[l++],l==c){d.push(Xe.encodeChars.charAt(o>>2)),d.push(Xe.encodeChars.charAt((3&o)<<4|(240&a)>>4)),d.push(Xe.encodeChars.charAt((15&a)<<2)),d.push("=");break}u=255&t[l++],d.push(Xe.encodeChars.charAt(o>>2)),d.push(Xe.encodeChars.charAt((3&o)<<4|(240&a)>>4)),d.push(Xe.encodeChars.charAt((15&a)<<2|(192&u)>>6)),d.push(Xe.encodeChars.charAt(63&u))}return d.join("")},decode:function(t,n){for(var o,a,u,d,l=this,c=[],p=0,g=t.length;p<g;){do o=Xe.decodeChars[255&t.charCodeAt(p++)];while(p<g&&o==-1);if(o==-1)break;do a=Xe.decodeChars[255&t.charCodeAt(p++)];while(p<g&&a==-1);if(a==-1)break;n?c.push(o<<2|(48&a)>>4):c.push(String.fromCharCode(o<<2|(48&a)>>4));do{if((u=255&t.charCodeAt(p++))==61)return n?c:l.UTF8ToUTF16(c.join(""));u=Xe.decodeChars[u]}while(p<g&&u==-1);if(u==-1)break;n?c.push((15&a)<<4|(60&u)>>2):c.push(String.fromCharCode((15&a)<<4|(60&u)>>2));do{if((d=255&t.charCodeAt(p++))==61)return n?c:l.UTF8ToUTF16(c.join(""));d=Xe.decodeChars[d]}while(p<g&&d==-1);if(d==-1)break;n?c.push((3&u)<<6|d):c.push(String.fromCharCode((3&u)<<6|d))}return n?c:l.UTF8ToUTF16(c.join(""))}},qt={fromUTF16:function(t){for(var n,o=[],a=0,u=t.length;a<u;)(n=t.charCodeAt(a))>=1&&n<=127?o.push(t.charAt(a)):n>2047?(o.push(String.fromCharCode(224|n>>12&15)),o.push(String.fromCharCode(128|n>>6&63)),o.push(String.fromCharCode(128|63&n))):(o.push(String.fromCharCode(192|n>>6&31)),o.push(String.fromCharCode(128|63&n))),a++;return o.join("")},toUTF16:function(t){for(var n,o,a,u=[],d=0,l=t.length;d<l;)switch((n=t.charCodeAt(d++))>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:u.push(t.charAt(d-1));break;case 12:case 13:o=t.charCodeAt(d++),u.push(String.fromCharCode((31&n)<<6|63&o));break;case 14:o=t.charCodeAt(d++),a=t.charCodeAt(d++),u.push(String.fromCharCode((15&n)<<12|(63&o)<<6|63&a))}return u.join("")}},rr=typeof self<"u"?self:global,Ft=rr.btoa?function(t){return rr.btoa(t)}:function(t){for(var n,o,a=String(t),u=0,d=Xe.encodeChars,l="";a.charAt(0|u)||(d="=",u%1);l+=d.charAt(63&n>>8-u%1*8)){if((o=a.charCodeAt(u+=3/4))>255)throw new Error("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");n=n<<8|o}return l},Ut=rr.atob?function(t){return rr.atob(t)}:function(t){var n=String(t).replace(/[=]+$/,"");if(n.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var o,a,u=0,d=0,l="";a=n.charAt(d++);~a&&(o=u%4?64*o+a:a,u++%4)?l+=String.fromCharCode(255&o>>(-2*u&6)):0)a=Xe.encodeChars.indexOf(a);return l};function Pt(t){if(t==null||$(t)!="object")return t;var n,o,a;if(t instanceof Date)return(n=new Date).setTime(t.getTime()),n;if(t instanceof Array){for(n=[],a=t.length,o=0;o<a;o++)n[o]=Pt(t[o]);return n}if(t instanceof Object){for(o in n={},t)t.hasOwnProperty(o)&&(n[o]=Pt(t[o]));return n}return 0}function Wt(t){return Math.random().toString(16).substring(2,2+t)}function cr(t){var n=[Wt(8),"-",Wt(4),"-",Wt(4),"-",Wt(4),"-",Wt(8)];return t&&n.unshift(t),n.join("")}var xr=Date.now||function(){return+new Date},Nn=function(){return""+xr()};function Yr(){for(var t,n=xr()%1e4,o=[],a=0;a<5;a++)t=Math.floor(10*Math.random()),a!=0||t!=0?o.push(t):a=-1;return n<10?o.push("000"):n<100?o.push("00"):n<1e3&&o.push("0"),o.push(n),o.join("")}function Vr(t,n){var o;for(o in n)if(n.hasOwnProperty(o)){if(o==="__proto__"||o==="constructor")continue;t[o]=n[o]}return t}function pn(t,n,o,a){return new(o||(o=Promise))(function(u,d){function l(g){try{p(a.next(g))}catch(S){d(S)}}function c(g){try{p(a.throw(g))}catch(S){d(S)}}function p(g){var S;g.done?u(g.value):(S=g.value,S instanceof o?S:new o(function(v){v(S)})).then(l,c)}p((a=a.apply(t,[])).next())})}typeof SuppressedError=="function"&&SuppressedError;var vs=!1;"wakeLock"in navigator&&(vs=!0);var Xo=null;function po(){vs&&(Xo==null?function(){pn(this,void 0,void 0,Ce.mark(function t(){return Ce.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,navigator.wakeLock.request("screen");case 3:Xo=n.sent,n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),Xo=null;case 9:case"end":return n.stop()}},t,null,[[0,6]])}))}():Xo.release().then(function(){Xo=null}))}function Zo(){return Xo}var Il=Array.prototype;function $o(t,n,o){return Il.filter.call(t,n,o||this)}function ys(t,n){return Il.indexOf.call(n,t)}function El(t){var n,o,a=[],u=t.length;for(n=0;n<u;n++){for(o=n+1;o<u;o++)t[n]===t[o]&&(o=++n);a.push(t[n])}return a}var tu=/^(\/?)([\s\S]+\/(?!$)|\/)?((?:\.{1,2}$|[\s\S]+?)?(\.[^.\/]*)?)$/;function Pr(t,n){var o,a=[];for(o=0;o<t.length;o++){var u=t[o];u&&u!=="."&&(u===".."?a.length&&a[a.length-1]!==".."?a.pop():n&&a.push(".."):a.push(u))}return a}function hn(t){var n=t.charAt(0)==="/",o=t.slice(-1)==="/";return(t=Pr($o(t.split("/"),function(a){return!!a}),!n).join("/"))||n||(t="."),t&&o&&(t+="/"),(n?"/":"")+t}var ru=function(){return pe(function t(){le(this,t)},[{key:"resolve",value:function(){var t,n,o="",a=arguments,u=!1;for(t=a.length-1;t>=0&&!u;t--)Ie(n=a[t])&&n&&(o=n+"/"+o,u=n.charAt(0)==="/");return(u?"/":"")+Pr($o(o.split("/"),function(d){return!!d}),!u).join("/")||"."}},{key:"join",value:function(){return hn($o(Gt(arguments),function(t){return t&&Ie(t)}).join("/"))}},{key:"relative",value:function(t,n){t=hn(t),n=hn(n);var o,a,u=$o(t.split("/"),function(p){return!!p}),d=[],l=$o(n.split("/"),function(p){return!!p}),c=Math.min(u.length,l.length);for(o=0;o<c&&u[o]===l[o];o++);for(a=o;o<u.length;)d.push(".."),o++;return(d=d.concat(l.slice(a))).join("/")}},{key:"basename",value:function(t,n){var o;return o=(t.match(tu)||[])[3]||"",n&&o&&o.slice(-1*n.length)===n&&(o=o.slice(0,-1*n.length)),o}},{key:"dirname",value:function(t){var n=t.match(tu)||[],o=n[1]||"",a=n[2]||"";return o||a?(a&&(a=a.substring(0,a.length-1)),o+a):"."}},{key:"extname",value:function(t){return(t.match(tu)||[])[4]||""}}])}(),_s={}.hasOwnProperty;function On(t){if(!t||Se(t)!=="object"||t.nodeType||t.window==t)return it;var n,o;try{if((o=t.constructor)&&!_s(t,"constructor")&&!_s(o.prototype,"isPrototypeOf"))return it}catch{return it}for(n in t);return rt(n)||_s(t,n)}var nu=(typeof HTMLElement>"u"?"undefined":$(HTMLElement))==="object";function od(t){return nu?t instanceof HTMLElement:t&&$(t)==="object"&&(t.nodeType===1||t.nodeType===9)&&typeof t.nodeName=="string"}function Gp(t){var n=t;if(od(t))for(;!n&&n!=document.body;)n=n.parentNode;else n=0;return!!n}function Jb(t,n){return t.lastIndexOf(n,0)===0}function Xv(t,n){var o=t.length-n.length;return o>=0&&t.indexOf(n,o)===o}function Zv(t){return t==null?Dt:String.prototype.trim.call(t)}function $v(t){var n;if(t){for(n in t)if(!rt(n))return!1}return!0}function ey(t){return Ie(t)?t.replace(/[^\x20-\x7E]/g,""):t}function Fe(t,n,o){return t.replace(new RegExp(n,"gi"),o)}function Yt(t){return t.charAt(0).toUpperCase()+t.substr(1)}var Vt,ur="none",mr={getOffset:function(t,n,o){var a,u;t=t||Be.event;for(var d,l,c=o||t.target,p=0,g=0,S=0,v=0,b=!1,T=Be.document;c&&!isNaN(c.offsetLeft)&&!isNaN(c.offsetTop);)l=c.scrollLeft,d=c.scrollTop,c.tagName==="BODY"?b?(l=0,d=0):(l|=(a=T.documentElement)===null||a===void 0?void 0:a.scrollLeft,d|=(u=T.documentElement)===null||u===void 0?void 0:u.scrollTop):c.style.position==="fixed"&&(b=!0),p+=c.offsetLeft-l,g+=c.offsetTop-d,c=c.offsetParent;return n&&(S=n.Left,v=n.Top),{x:p=t.clientX-p-S,y:g=t.clientY-g-v}},getElDimensions:function(t,n){var o,a;return t?(o=t.style.display,t.style.display="",a=n?{offsetTop:t.offsetTop,offsetLeft:t.offsetLeft,offsetWidth:t.offsetWidth,offsetHeight:t.offsetHeight}:{clientTop:t.clientTop,clientLeft:t.clientLeft,clientWidth:t.clientWidth?t.clientWidth:parseInt(t.style.width)?parseInt(t.style.width):0,clientHeight:t.clientHeight?t.clientHeight:parseInt(t.style.height)?parseInt(t.style.height):0},t.style.display=o,a):{offsetTop:0,offsetLeft:0,offsetWidth:0,offsetHeight:0}}};function en(t){return document.getElementById(t)}function an(t){var n=Ie(t)?en(t):t;n&&(n.length>0&&(n=n[0]),n.style.display=ur)}function Ki(t){var n=Ie(t)?en(t):t;n&&(n.length>0&&(n=n[0]),n.style.display=Dt)}function Qi(t){var n=Ie(t)?en(t):t;n&&(n.length>0&&(n=n[0]),n.style.display===ur?n.style.display=Dt:n.style.display=ur)}function Ka(t){if(t)for(;t.firstChild;)t.removeChild(t.firstChild)}function Fn(t){return encodeURIComponent(String(t))}function ad(t){return decodeURIComponent(t.replace(/\+/g," "))}if(window.trustedTypes)try{Vt=window.trustedTypes.createPolicy("d-create-script",{createScriptURL:function(t){return t}})}catch{}function sd(t){return Vt?Vt.createScriptURL(t):t}var ea=!0,Ss=document,ty=Ss&&Ss.documentElement,xl=Ss.getElementsByTagName("head")[0]||ty,Xb=Ss.createElement("script").readyState?function(t,n){var o=t.onreadystatechange;t.onreadystatechange=function(){var a=t.readyState;a==="loaded"||a==="complete"?(t.onreadystatechange=null,o&&o(),n.call(this,{type:"load",path:[t]})):a==="loading"||n.call(this,{type:"error",path:[t]})}}:function(t,n){t.addEventListener("load",n,it),t.addEventListener("error",n,it)};function vQ(t,n,o){return Zb(t,n,!1,o)}function Zb(t,n,o,a){var u,d,l=a;if(ve(l)||(l=function(){}),Ie(t)&&t!=Dt)return u=Ss.createElement("script"),d=["",t].join(Dt),u.src=sd(d),n&&(u.async=ea),u.charset="utf-8",Xb(u,l),o?xl.appendChild(u):xl.insertBefore(u,xl.firstChild),u;l()}function yQ(t,n,o){return fR(t,n,!1,o)}function fR(t,n,o,a){var u=a;if(ve(u)||(u=function(){}),he.bJSDom)u("ok");else if(Bt(t)){var d=t.length,l=function(c){c&&c.type=="load"?d--:(c&&c.type=="error"&&Ur(["Failed to load resource: ",c.target.src,"."].join("")),u()),d<=0&&u("ok")};d<=0?u("ok"):bt(t,function(c){Zb(c,n,o,l)})}else u()}function _Q(t,n){return $b(t,!1,n)}function $b(t,n,o){var a,u=o;if(ve(u)||(u=!1),Ie(t)&&t!=Dt){if(!he.bJSDom)return(a=Ss.createElement("link")).href=sd(t),a.rel="stylesheet",a.async=ea,u&&Xb(a,u),n?xl.appendChild(a):xl.insertBefore(a,xl.firstChild),a;u&&u()}else u&&u()}function SQ(t,n){return hR(t,!1,n)}function hR(t,n,o){if(he.bJSDom)o&&o("ok");else if(Bt(t)){var a=t.length,u=function(d){d&&d.type=="load"&&a--,d&&d.type!="load"&&(d&&d.type=="error"&&Ur(["Failed to load resource: ",d.target.href,"."].join("")),o()),a<=0&&o("ok")};bt(t,function(d){$b(d,n,u)})}else o&&o()}function pR(t){var n,o;if(!he.bJSDom){var a=document;if(a&&Ie(o=t.body)&&o!=Dt){(n=a.createElement("script")).charset="utf-8",he.bIE?n.text=o:n.appendChild(a.createTextNode(o)),t.language?n.language=t.language:n.language="javascript",t.type?n.type=t.type:n.type="text/javascript";var u=a&&a.documentElement,d=a.getElementsByTagName("head")[0]||u;d.insertBefore(n,d.firstChild)}}}function bQ(t){pR({body:t})}function TQ(t){pR({body:t,language:"vbscript",type:"text/vbscript"})}function CQ(t){return t!=null&&t==t.window}var Q,mR,wQ=function(){return pe(function t(){le(this,t),this.nil=void 0,this.bNode=!1,this.noop=function(){},this.mix=Vr,this.clone=Pt,this.keys=Object.keys,this.now=Nn,this.getFormatedNow=Ve,this.getRandom=Yr,this.guid=cr,this.get=en,this.show=Ki,this.hide=an,this.toggle=Qi,this.empty=Ka,this.stringify=Be.JSON.stringify,this.parse=Be.JSON.parse,this.isDef=et,this.isUndef=rt,this.isUndefined=rt,this.isNull=vt,this.isNaN=isNaN,this.isFunction=ve,this.isString=Ie,this.isObject=Je,this.isBoolean=st,this.isNumber=lt,this.isArray=Bt,this.type=Se,this.isPlainObject=On,this.isDOM=od,this.isDOMInBody=Gp,this.each=bt,this.getLogger=er,this.setLogger=rn,this.log=nn,this.error=Ur,this.warn=Tn,this.info=Xr,this.filter=$o,this.indexOf=ys,this.uniq=El,this.startsWith=Jb,this.endsWith=Xv,this.replaceAll=Fe,this.upperCaseFirst=Yt,this.removeNonPrintableChar=ey,this.trim=Zv,this.makeArray=Gt,this.isEmptyObject=$v,this.Path=new ru,this.DOM=mr,this.isWindow=CQ,this.obj={customEvent:tr},this.addEventListener=Mr,this.removeEventListener=on,this.stopPropagation=Hn,this.fireEvent=ii,this.base64=Et,this.utf8=qt,this.btoa=Ft,this.atob=Ut,this.asyncQueue=ut,this.sizzle=Ue,this.toggleWakeLock=po,this.getWakeLock=Zo,this.urlEncode=Fn,this.urlDecode=ad,this.scriptOnload=Xb,this.addAllCss=hR,this.getAllCss=SQ,this.addCss=$b,this.getCss=_Q,this.addScripts=fR,this.getScripts=yQ,this.addScript=Zb,this.getScript=vQ,this.addJS=bQ,this.addVBS=TQ},[{key:"debug",get:function(){return Ot.debug},set:function(t){Ot.debug=t}},{key:"showConsoleError",get:function(){return Ot.debug},set:function(t){Ot.showConsoleError=t}}])}(),m=new wQ,gR=20241120,vR=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{},IQ=!!((typeof global>"u"?"undefined":N(global))=="object"&&global.process&&global.process.release&&global.process.release.name&&typeof HTMLCanvasElement>"u"),V=vR.Dynamsoft;function wi(t){return Math.floor(t)}function Nt(t,n,o){return(n=H(n))in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t}function yR(t,n){(function(o,a){if(a.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,n),n.add(t)}function oi(t,n,o){if(typeof t=="function"?t===n:t.has(n))return arguments.length<3?n:o;throw new TypeError("Private element is not present on this object")}function EQ(t){var n,o,a="0x";if(/^(rgb|RGB)/.test(t)){var u=t.replace(/[^\d,.]/g,"").split(",");for(o=0;o<3;++o)(n=Number(u[o]).toString(16)).length==1&&(n="0"+n),a+=n;u.length==4?((n=Math.round(255*Number(u[o])).toString(16)).length==1&&(n="0"+n),a+=n):a+="ff"}else if(t=="transparent")a+="00000000";else if(/^#[0-9a-fA-F]{6}$/.test(t))a+=t.replace(/#/,"")+"ff";else if(/^#[0-9a-fA-F]{3}$/.test(t)){for(o=0;o<3;++o)a+=t[o]+t[o];a+="ff"}else a="-1";return Number(a)}function xQ(t){if(t>4294967295||t<0)return null;var n;if(he.bHTML5Edition)n="rgba("+Math.floor(t/16777216)+","+Math.floor(t/65536)%256+","+Math.floor(t/256)%256+","+t%256/255+")";else if(t%256==0)n="transparent";else{for(n=Math.floor(t/256).toString(16);n.length!=6;)n="0"+n;n="#"+n}return n}function AQ(t){var n,o=(t=t||window.event).wheelDelta,a=t.detail;return o&&(n=o/120),a&&(n=-(a%3==0?a/3:a)),n}V?V.Lib||(V.Lib={}):(V={Lib:{},DWT:{}},vR.Dynamsoft=V),V.navInfoSync=he,Q=m.mix(V.Lib,m),function(t){t.DWT||(t.DWT={}),t.DWT.LTS||(t.DWT.LTS={}),t.Lib.UI||(t.Lib.UI={}),t.Lib.html5||(t.Lib.html5={})}(V),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Dt)}),mR={registedClass:[],registedObjs:[]};var ud={LEFT:0,MIDDLE:1,RIGHT:2};function DQ(t){var n=t||window.event;return n.which==null?n.button<2?ud.LEFT:n.button==4?ud.MIDDLE:ud.RIGHT:n.which<2?ud.LEFT:n.which==2?ud.MIDDLE:ud.RIGHT}var eT,tT,PQ=/[\-#$\^*()+\[\]{}|\\,.?\s]/g,rT={"&amp;":"&","&gt;":">","&lt;":"<","&nbsp;":" ","&#x60;":"`","&#x2F;":"/","&quot;":'"',"&#x27;":"'"},nT={};function RQ(t){return t.replace(/\\u([a-f\d]{4})/gi,function(n,o){return String.fromCharCode(parseInt(o,16))})}function kQ(t){return(t+"").replace(function(){if(eT)return eT;var n=Dt;return m.each(rT,function(o){n+=o+"|"}),n=n.slice(0,-1),eT=new RegExp(n,"g")}(),function(n){return nT[n]})}function NQ(t){return t.replace(PQ,"\\$&")}function _R(t){return t.replace(function(){if(tT)return tT;var n=Dt;return m.each(nT,function(o){n+=o+"|"}),n+="&#(\\d{1,5});",tT=new RegExp(n,"g")}(),function(n,o){return rT[n]||String.fromCharCode(+o)})}m.each(rT,function(t,n){nT[t]=n});var iT,ry,wf=window;wf&&m.isFunction(wf.__zone_symbol__Promise)&&(ry=wf.__zone_symbol__Promise);var OQ=pe(function t(){le(this,t)});function FQ(t){return(t=t||window.event).which==null?t.which=t.button<2?1:t.button==4?2:3:t.which=t.which<2?1:t.which==2?2:3,t}function MQ(t,n){return t.currentStyle?t.currentStyle[n]:window.getComputedStyle?document.defaultView.getComputedStyle(t,null)[n]:null}iT=self&&self.Promise?self.Promise:wf&&wf.Promise?wf.Promise:OQ,ry||(ry=iT);function SR(t){var n=$(t);return t==null||n!=="object"&&n!=="function"}function LQ(t,n,o,a){n=n||"&",o=o||"=",m.isUndefined(a)&&(a=Tr);var u=[];return m.each(t,function(d,l){var c=m.urlEncode(l);SR(d)?(u.push(c),m.isDef(d)&&u.push(o,m.urlEncode(d+Dt)),u.push(n)):m.isArray(d)&&d.length&&m.each(d,function(p){SR(p)&&(u.push(c,a?m.urlEncode("[]"):Dt),m.isDef(p)&&u.push(o,m.urlEncode(p+Dt)),u.push(n))})}),u.pop(),u.join(Dt)}function WQ(t,n,o){if(!m.isString(t)||!(t=m.trim(t)))return{};n=n||"&",o=o||"=";for(var a,u,d,l={},c=m.urlDecode,p=t.split(n),g=0,S=p.length;g<S;++g){if((a=m.indexOf(o,p[g]))===-1)u=c(p[g]),d=void 0;else{u=c(p[g].substring(0,a)),d=p[g].substring(a+1);try{d=c(d)}catch(v){m.error("decodeURIComponent error : "+d),m.error(v)}m.endsWith(u,"[]")&&(u=u.substring(0,u.length-2))}u in l?m.isArray(l[u])?l[u].push(d):l[u]=[l[u],d]:l[u]=d}return l}m.each({"&amp;":"&","&gt;":">","&lt;":"<","&#x60;":"`","&#x2F;":"/","&quot;":'"',"&#x27;":"'"},function(t,n){});var kr,bR=pe(function t(n){le(this,t),Nt(this,"tagName",void 0),Nt(this,"attr",void 0),Nt(this,"childNodes",void 0),this.tagName=n,this.attr={},this.childNodes=[]}),oT=pe(function t(n){le(this,t),Nt(this,"value",void 0),this.value=n||""}),If=new WeakSet,jQ=function(){return pe(function t(){le(this,t),yR(this,If),Nt(this,"stack",void 0),Nt(this,"stacks",void 0),this.stack=[],this.stacks=[]},[{key:"getStacks",value:function(){return this.stacks}},{key:"receiveInput",value:function(t){var n=this.stack;if(t.type==="startTag")n.push(new bR(t.value));else if(t.type==="attr"){var o,a,u=t.value,d=u.indexOf("=");d>-1?(o=u.substring(0,d),a=u.charAt(d+1)==='"'||u.charAt(d+1)==="'"?u.substring(d+2,u.length-1):u.substring(d+1),n[n.length-1].attr[o]=a):u!=="readonly"&&u!=="disabled"&&u!=="checked"||(n[n.length-1].attr[u]=u)}else if(t.type==="text")n.length?n[n.length-1].childNodes.push(new oT(t.value)):this.stacks.push(new oT(t.value));else if(t.type==="endTag"){var l=n.pop();n.length?n[n.length-1].childNodes.push(l):this.stacks.push(l)}}},{key:"getOutPutHtml",value:function(){var t,n=document.createDocumentFragment(),o=this.stacks;for(t=0;t<o.length;t++){var a=o[t],u=oi(If,this,TR).call(this,a);u&&n.appendChild(u)}return n}}])}();function BQ(t){return t.replace(/-([a-z])/g,function(n,o){return o.toUpperCase()})}function UQ(t){var n={};if(!t)return n;var o,a=t.split(";");for(o=0;o<a.length;o++){var u=a[o].split(":");if(u.length===2){var d=u[0].trim(),l=u[1].trim();l!==""&&(n[d=oi(If,this,BQ).call(this,d)]=l)}}return n}function VQ(t,n){var o=oi(If,this,UQ).call(this,n);for(var a in o)t.style[a]=o[a]}function TR(t){if(t instanceof bR){var n=document.createElement(t.tagName);for(var o in t.attr)o!==""&&t.attr[o]!==""&&(o==="style"?oi(If,this,VQ).call(this,n,t.attr[o]):n.setAttribute(o,t.attr[o]));if(t.childNodes.length)for(var a=0;a<t.childNodes.length;a++){var u=t.childNodes[a];n.appendChild(oi(If,this,TR).call(this,u))}return n}if(t instanceof oT)return document.createTextNode(_R(t.value))}(function(t){t[t.None=0]="None",t[t.AttrKey=1]="AttrKey",t[t.AttrKeyQuoteStart=2]="AttrKeyQuoteStart",t[t.AttrKeyQuoteEnd=3]="AttrKeyQuoteEnd",t[t.AttrValueQuoteStart=4]="AttrValueQuoteStart",t[t.AttrSpace=5]="AttrSpace",t[t.AttrSplite=6]="AttrSplite"})(kr||(kr={}));var aT,GQ=pe(function t(n,o){le(this,t),Nt(this,"allChars",void 0),Nt(this,"curIndex",void 0),Nt(this,"state",void 0),Nt(this,"attrStatus",void 0),Nt(this,"attrQuoteChar",void 0),this.allChars=n,this.curIndex=0,this.state=o,this.attrStatus=kr.None,this.attrQuoteChar=""}),Yi=new WeakSet,HQ=function(){return pe(function t(n,o){le(this,t),yR(this,Yi),Nt(this,"token",void 0),Nt(this,"tokens",void 0),Nt(this,"htmlString",void 0),Nt(this,"tokenHandler",void 0),Nt(this,"thisStartTagName",void 0),Nt(this,"attrStatus",void 0),this.token=[],this.tokens=[],this.attrStatus=kr.None,this.thisStartTagName=null,m.isString(n)?this.htmlString=n:n&&(this.htmlString=n.toString()),this.tokenHandler=o},[{key:"start",value:function(t){var n=t.allChars[t.curIndex];return n==="<"?(this.token.push(n),t.state=this.tagState,t):this.textState(t)}},{key:"textState",value:function(t){var n=t.allChars[t.curIndex];return n==="<"?(oi(Yi,this,ta).call(this,"text",this.token.join("")),this.token=[],this.start(t)):(this.token.push(n),t.state=this.textState,t)}},{key:"tagState",value:function(t){var n=t.allChars[t.curIndex];return this.token.push(n),n==="/"?(t.state=this.endTagState,t):(t.state=this.startTagState,t)}},{key:"startTagState",value:function(t){var n=t.curIndex,o=t.allChars,a=o[n];if(a.match(/[a-zA-Z]/))return this.token.push(a),t.state=this.startTagState,t;if(a===" "){if(this.thisStartTagName=this.token.join("").substring(1),oi(Yi,this,ta).call(this,"startTag",this.thisStartTagName.toLowerCase()),this.token=[],n<o.length-2){var u=o[n+1],d=o[n+2];if(u==="/"&&d===">")return oi(Yi,this,ta).call(this,"endTag",this.thisStartTagName),this.token=[],t.state=this.start,t.curIndex+=2,t}return t.attrQuoteChar="",t.attrStatus=kr.None,t.state=this.attrState,t}return a===">"?(this.thisStartTagName=this.token.join("").substring(1),oi(Yi,this,ta).call(this,"startTag",this.thisStartTagName.toLowerCase()),this.token=[],t.state=this.start,oi(Yi,this,sT).call(this)&&t.curIndex++,t):void 0}},{key:"attrState",value:function(t){var n=t.curIndex,o=t.allChars,a=o[n],u=!1,d=!1;if(t.attrStatus==kr.AttrSplite?a.match(/[0-9|^<&;#]/)&&(u=!0):t.attrStatus!=kr.AttrKey&&t.attrStatus!=kr.AttrKeyQuoteStart||(a.match(/[0-9]/)||a==="."||a==="-")&&(d=!0),a.match(/[:|a-z|A-Z|_]/)||u||d){if(t.attrStatus==kr.None||t.attrStatus==kr.AttrKey||t.attrStatus==kr.AttrKeyQuoteStart)return this.token.push(a),t.state=this.attrState,t.attrStatus==kr.None&&(t.attrStatus=kr.AttrKey),t;if(t.attrStatus==kr.AttrSpace){var l=this.token.join("");return l!=="readonly"&&l!=="disabled"&&l!=="checked"||oi(Yi,this,ta).call(this,"attr",l),this.token=[a],t.state=this.attrState,t.attrStatus=kr.AttrKey,t}var c;if(t.attrStatus==kr.AttrSplite){for(c=n;c<o.length;c++)if(this.token.push(o[c]),c+1<o.length){var p=o[c+1],g=!1,S=!1;if(p===" "||p===">"?g=!0:p==="/"&&c+2<o.length&&o[c+2]===">"&&(g=!0,S=!0),g)return t.curIndex=c,t.attrStatus=kr.None,t.attrQuoteChar="",oi(Yi,this,ta).call(this,"attr",this.token.join("")),this.token=[],t.state=this.attrState,p===">"&&oi(Yi,this,sT).call(this)&&(this.token=[],t.curIndex++,t.state=this.start),S&&(oi(Yi,this,ta).call(this,"endTag",this.thisStartTagName),this.token=[],t.curIndex+=2,t.state=this.start),t}}}if(a==="="&&(t.attrStatus==kr.AttrKey||t.attrStatus==kr.AttrKeyQuoteEnd||t.attrStatus==kr.AttrSpace))return this.token.push(a),t.state=this.attrState,t.attrStatus=kr.AttrSplite,t;if(a.match(/['"]/)){if(t.attrStatus==kr.AttrValueQuoteStart||t.attrStatus==kr.AttrKeyQuoteStart){if(a===t.attrQuoteChar)return t.attrStatus==kr.AttrValueQuoteStart?(this.token.push(a),oi(Yi,this,ta).call(this,"attr",this.token.join("")),this.token=[],t.attrStatus=kr.None):t.attrStatus=kr.AttrKeyQuoteEnd,t.attrQuoteChar="",t.state=this.attrState,t;this.token.push(a)}else t.attrStatus==kr.None?t.attrStatus=kr.AttrKeyQuoteStart:t.attrStatus==kr.AttrSplite&&(t.attrStatus=kr.AttrValueQuoteStart,this.token.push(a)),t.attrQuoteChar=a;return t.state=this.attrState,t}if(t.attrStatus==kr.AttrValueQuoteStart){if(this.token.push(a),a==="\\"&&n<o.length-1){var v=o[n+1];this.token.push(v),t.curIndex++}return t.state=this.attrState,t}if(a===" "){if(t.attrStatus==kr.AttrKey||t.attrStatus==kr.AttrKeyQuoteEnd)return t.attrStatus=kr.AttrSpace,t.state=this.attrState,t;if(t.attrStatus==kr.None||t.attrStatus==kr.AttrSplite||t.attrStatus==kr.AttrSpace)return t.state=this.attrState,t}return a==="/"?n<o.length-1&&o[n+1]===">"?(oi(Yi,this,ta).call(this,"attr",this.token.join("")),oi(Yi,this,ta).call(this,"endTag",this.thisStartTagName),this.token=[],t.state=this.start,t.curIndex++,t):(this.token.push(a),t.state=this.attrState,t):a===">"?(oi(Yi,this,ta).call(this,"attr",this.token.join("")),this.token=[],oi(Yi,this,sT).call(this),t.state=this.start,t):(t.state=this.attrState,t)}},{key:"endTagState",value:function(t){var n=t.allChars[t.curIndex];if(n.match(/[a-zA-Z]/))return this.token.push(n.toLowerCase()),t.state=this.endTagState,t;if(n===">"){var o=this.token.join("").toLowerCase();return o=o.replace("</",""),oi(Yi,this,ta).call(this,"endTag",o),this.token=[],t.state=this.start,t}}},{key:"doParse",value:function(){if(this.htmlString){var t=this.htmlString.split(""),n=new GQ(t,this.start);do n.state.bind(this)(n),n.curIndex++;while(n.curIndex<t.length)}}},{key:"getTokens",value:function(){return this.tokens}}])}();function ta(t,n){var o={type:t,value:n};t=="attr"&&n===""||(this.tokens.push(o),this.tokenHandler&&this.tokenHandler(o))}function sT(){if(this.thisStartTagName){if(this.thisStartTagName=="img")return oi(Yi,this,ta).call(this,"endTag","img"),!0;if(this.thisStartTagName=="input")return oi(Yi,this,ta).call(this,"endTag","input"),!0}return!1}function uT(t,n){if(document.body)if(he.bIE)t.innerHTML=n;else{var o=new jQ;new HQ(n,o.receiveInput.bind(o)).doParse();var a=o.getOutPutHtml();a.children.length>0&&function(u,d){for(;u.firstChild;)u.removeChild(u.firstChild);for(;d.firstChild;){var l=d.firstChild;d.removeChild(l),u.appendChild(l)}}(t,a)}}var CR="ds-dwt-loaderBar",lT="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjAiIHdpZHRoPSIxMDBweCIgaGVpZ2h0PSIxMDBweCIgdmlld0JveD0iMCAwIDEyOCAxMjgiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxnPjxjaXJjbGUgY3g9IjE2IiBjeT0iNjQiIHI9IjE2IiBmaWxsPSIjZmU4ZTE0Ii8+PGNpcmNsZSBjeD0iMTYiIGN5PSI2NCIgcj0iMTQuMzQ0IiBmaWxsPSIjZmU4ZTE0IiB0cmFuc2Zvcm09InJvdGF0ZSg0NSA2NCA2NCkiLz48Y2lyY2xlIGN4PSIxNiIgY3k9IjY0IiByPSIxMi41MzEiIGZpbGw9IiNmZThlMTQiIHRyYW5zZm9ybT0icm90YXRlKDkwIDY0IDY0KSIvPjxjaXJjbGUgY3g9IjE2IiBjeT0iNjQiIHI9IjEwLjc1IiBmaWxsPSIjZmU4ZTE0IiB0cmFuc2Zvcm09InJvdGF0ZSgxMzUgNjQgNjQpIi8+PGNpcmNsZSBjeD0iMTYiIGN5PSI2NCIgcj0iMTAuMDYzIiBmaWxsPSIjZmU4ZTE0IiB0cmFuc2Zvcm09InJvdGF0ZSgxODAgNjQgNjQpIi8+PGNpcmNsZSBjeD0iMTYiIGN5PSI2NCIgcj0iOC4wNjMiIGZpbGw9IiNmZThlMTQiIHRyYW5zZm9ybT0icm90YXRlKDIyNSA2NCA2NCkiLz48Y2lyY2xlIGN4PSIxNiIgY3k9IjY0IiByPSI2LjQzOCIgZmlsbD0iI2ZlOGUxNCIgdHJhbnNmb3JtPSJyb3RhdGUoMjcwIDY0IDY0KSIvPjxjaXJjbGUgY3g9IjE2IiBjeT0iNjQiIHI9IjUuMzc1IiBmaWxsPSIjZmU4ZTE0IiB0cmFuc2Zvcm09InJvdGF0ZSgzMTUgNjQgNjQpIi8+PGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJyb3RhdGUiIHZhbHVlcz0iNDUgNjQgNjQ7OTAgNjQgNjQ7MTM1IDY0IDY0OzE4MCA2NCA2NDsyMjUgNjQgNjQ7MjcwIDY0IDY0OzMxNSA2NCA2NDswIDY0IDY0IiBjYWxjTW9kZT0iZGlzY3JldGUiIGR1cj0iNzIwbXMiIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIj48L2FuaW1hdGVUcmFuc2Zvcm0+PC9nPjwvc3ZnPg==";function wR(t){var n,o="",a="230px",u="240px",d=0,l="",c=0,p="",g="px";return t&&(t.unix&&(g=t.unix)==="rem"&&(a="14.375rem",u="15rem"),t.background&&(o=";background:"+t.background),t.width&&(a=t.width),t.height&&(u=t.height),t.imageSource&&(n=t.imageSource)),n||(n=lT),g==="px"?(c=parseInt(a)/2,m.isNumber(c)&&c>0&&(p=";width:"+c+"px"),d=parseInt(u)/2,m.isNumber(d)&&d>0&&(l=";height:"+d+"px")):(p=";width:"+a,l=";height:"+u),['<div align="center" ','class="',CR,'" ','style="margin:0 auto;max-width:',a,";max-height:",u,";line-height:",u,o,'"><img style="user-select:none',l,p,";max-width:",a,";max-height:",u,';vertical-align:middle" src="',n,'" draggable="false" /></div>'].join("")}var Ca,Hp=window,zn=document,IR=5e5;function zQ(t,n){for(var o=0;o<t.length;++o)if(t[o]==n)return Tr;return it}function KQ(t){var n;return Hp.getComputedStyle?n=Hp.getComputedStyle(t):t.currentStyle&&(n=t.currentStyle),n&&n.position!="absolute"||t.style.top!="auto"&&t.style.top!=""||t.style.bottom!="auto"&&t.style.bottom!=""?it:!function(o){for(var a=0;a<zn.styleSheets.length;++a){var u=zn.styleSheets[a],d=void 0,l=void 0,c=void 0,p=void 0;try{d=u.cssRules,l=zn.querySelectorAll}catch{}if(d&&l)for(var g=0;g<d.length;++g){c=d[g],p=it;try{p=l(c.selectorText)}catch{}if(p&&zQ(p,o)){var S=c.style.getPropertyValue("top"),v=c.style.getPropertyValue("bottom");if(S&&S!="auto"||v&&v!="auto")return Tr}}}return it}(t)}function ER(t){var n=zn.createEvent("MouseEvents");return n==null||n.initMouseEvent(t.type,t.bubbles,t.cancelable,Hp,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget),n}function xR(t){var n;(n=zn.body)===null||n===void 0||n.dispatchEvent(ER(t))}function AR(t,n){if(Ca){var o=Ca.style;o.backgroundColor=["rgba(",n,",",n,",",n,",",t,")"].join(""),o.filter=["alpha(opacity=",100*t,")"].join(""),o.opacity=o.MozOpacity=t}}function QQ(t,n){Ca===aT?function(o,a){if(Ca=zn.createElement("div")){var u=Ca.style;if(u.position="fixed",u.display="block",u.left=u.top=u.margin=u.padding=0,AR(o,a),u.zIndex=IR,u.width=u.height="100%",he.bIE&&he.IEVersion<10){var d=zn.createElement("iframe");d.style.background="none",d.style.margin="0px auto",d.style.border="0",d.style.width="100%",d.style.height="100%",d.style.position="relative",d.style.zIndex="9999",d.src="javascript:''",Ca.appendChild(d)}zn.createEvent&&m.addEventListener(Ca,"click",xR)}}(t,n):AR(t,n),zn.body&&!zn.body.contains(Ca)&&zn.body.appendChild(Ca)}var cT,mo,Al={pendingDialogStack:[],pendingDialogTopmostStack:[],opacity:.1,grayHex:128,_updateStacking:function(t){var n,o;(n=this.pendingDialogStack).length!=0?(t!=1&&QQ(Al.opacity,Al.grayHex),o=IR,m.each(n,function(a){o++,a._dlgInfo.mask&&(a._dlgInfo.mask.style.zIndex=o++),a.style.zIndex=o})):Ca!==aT&&(m.removeEventListener(Ca,"click",xR),zn&&zn.body&&zn.body.removeChild(Ca),Ca=aT)},pushDialog:function(t,n){var o,a,u=this;if(t.getBoundingClientRect(),(a=t.bTopmost?u.pendingDialogTopmostStack:u.pendingDialogStack).length>=1e3)m.error("Too many modal dialogs.");else{if((o=zn.createElement("div")).style.zIndex="10000",o.className="dynamsoft-backdrop",n==1?(o.style.left=0,o.style.top=0,o.style.position="absolute"):(o.style.left=0,o.style.top=0,o.style.width="100%",o.style.height="100%",o.style.position="fixed"),zn.createEvent&&m.addEventListener(o,"click",function(l){if(t.dispatchEvent){var c=ER(l);t.dispatchEvent(c)}}),t.parentNode.insertBefore(o,t.nextSibling),t._dlgInfo.mask=o,t.bTopmost){var d=501e3;t._dlgInfo.mask&&(t._dlgInfo.mask.style.zIndex=d),t.style.zIndex=501001}a.push(t),u._updateStacking(n)}},removeDialog:function(t){var n,o,a,u=this;a=t.bTopmost?u.pendingDialogTopmostStack:u.pendingDialogStack,(n=m.isArray(a)?m.indexOf(t,a):-1)!=-1&&(a.splice(n,1),(o=t._dlgInfo.mask).parentNode&&o.parentNode.removeChild(o),t._dlgInfo.mask=null,u._updateStacking())}};function DR(t,n){var o,a,u,d,l,c,p=this,g=!0,S=n==1?"absolute":"fixed",v="50%",b="50%",T="",D="",M=null;if(p._dlgInfo&&p._dlgInfo.styleConfig){var W=p._dlgInfo.styleConfig;m.isString(W.position)&&(S=W.position,g=!1),(m.isString(W.left)||m.isNumber(W.left))&&(b=W.left,g=!1),(m.isString(W.top)||m.isNumber(W.top))&&(v=W.top,g=!1),(m.isString(W.width)||m.isNumber(W.width))&&(T=W.width,g=!1),(m.isString(W.height)||m.isNumber(W.height))&&(D=W.height,g=!1),m.isString(W.transform)&&(M=W.transform,g=!1)}p.opened?m.error("showDialog called on open dialog."):(p.opened=Tr,p.removeAttribute("closed"),p.setAttribute("opened","true"),g?o=he.bIE&&S=="fixed"?{display:"block",position:"fixed",top:"35%",margin:"0 auto",left:0,right:0}:{display:"block",position:S,left:"50%",top:"50%",transform:"translate(-50%,-50%)"}:(o={display:"block",position:S,left:b,top:v,width:T,height:D},M&&(o.transform=M)),p.tagName=="DIALOG"?(he.bIE?o.margin="0 auto":o.margin="0",o.broderRadius="6px",o.boxShadow="2px 2px 0 0 rgba(0,0,0,.05)",o.webkitBoxSizing="border-box",o.boxSizing="border-box"):(o.border="0",he.bIE?o.margin="0 auto":o.margin="0",o.webkitBoxSizing="border-box",o.boxSizing="border-box"),m.mix(p.style,o),KQ(p)&&(a=p,c=(((u=zn.body)===null||u===void 0?void 0:u.scrollTop)||((d=zn.documentElement)===null||d===void 0?void 0:d.scrollTop)||0)+((Hp.innerHeight?Hp.innerHeight:(l=zn.documentElement)===null||l===void 0?void 0:l.clientHeight)-a.offsetHeight)/2,a.style.top=c+"px",a._dlgInfo.isTopOverridden=Tr),t&&(p._dlgInfo.modal=Tr,Al.pushDialog(p,n)))}function YQ(t){var n=this;return n.opened||m.error("closeDialog called on closed dialog."),n.opened=it,n.removeAttribute("opened"),n.setAttribute("closed","closed"),n.style.display="none",t!==void 0&&(n.returnValue=t),n._dlgInfo.isTopOverridden&&(n.style.top="auto"),n._dlgInfo.modal&&Al.removeDialog(n),n.returnValue}function PR(t){m.isNumber(t.opacity)?Al.opacity=t.opacity:Al.opacity=.1,m.isNumber(t.grayHex)?Al.grayHex=t.grayHex:Al.grayHex=128}function qQ(t){var n,o,a,u;if(!mo.dlgMask){var d,l,c,p,g=!1;if(t&&(p={},(m.isString(t.top)||m.isNumber(t.top))&&(p.top=t.top),(m.isString(t.left)||m.isNumber(t.left))&&(p.left=t.left),m.isString(t.position)&&(p.position=t.position),t.confined&&(document.getElementsByClassName("dwt-viewer-imageEditor-fullScreen")[0]||(g=t.confined)),(m.isString(t.width)||m.isNumber(t.width))&&(n=t.width),(m.isString(t.height)||m.isNumber(t.height))&&(o=t.height),m.isString(t.background)&&(a=t.background),m.isString(t.imageSource)&&(u=t.imageSource),PR(t),g&&t.wrapperEl&&(l=t.wrapperEl,m.isString(l)&&(l=zn.getElementById(l)))),!u){var S;if(window&&window.Dynamsoft){var v=window.Dynamsoft.DWT;v&&v.CustomizableDisplayInfo&&(S=v.CustomizableDisplayInfo)}S?(he.bIE&&m.isString(S.loaderBarSourceIE)&&S.loaderBarSourceIE!=""&&(u=S.loaderBarSourceIE),!u&&m.isString(S.loaderBarSource)&&S.loaderBarSource!=""&&(u=S.loaderBarSource)):u=lT}if(l&&(c=l.getBoundingClientRect(),l.style.position="relative"),d=zn.createElement("div")){var b;d.className="dynamsoft-dialog-wrap",uT(d,wR({width:n,height:o,backgroundColor:a,imageSource:u})),l?(l.appendChild(d),d.style.position="absolute",d.style.top="50%",d.style.left="50%",d.style.transform="translate(-50%, -50%)"):(b=zn.body)===null||b===void 0||b.appendChild(d),g&&c&&(window.onresize?mo.preOnresize=window.onresize:mo.preOnresize=!1,window.onscroll?mo.preOnscroll=window.onscroll:mo.preOnscroll=!1),mo.dlgMask=d,cT.setup(d,g),p&&(d._dlgInfo.styleConfig=p),l&&(d._dlgInfo.wrapperEl=l),d.showModal()}}}function JQ(){var t=mo.dlgMask;if(t){var n;t.close(),t._dlgInfo&&t._dlgInfo.wrapperEl?(t._dlgInfo.wrapperEl.removeChild(t),t._dlgInfo.wrapperEl=null):(n=zn.body)===null||n===void 0||n.removeChild(t),mo.dlgMask=!1}mo.preOnresize?window.onresize=mo.preOnresize:window.onresize=null,mo.preOnresize=!1,mo.preOnscroll?window.onscroll=mo.preOnscroll:window.onscroll=null,mo.preOnscroll=!1}cT={setup:function(t,n){t.show=DR.bind(t,it,n),t.showModal=DR.bind(t,Tr,n),t.close=YQ.bind(t),t._dlgInfo={}}},mo={dlgMask:!1,preOnresize:!1,preOnscroll:!1};var XQ=function(){return pe(function t(n){le(this,t),Nt(this,"div",void 0),Nt(this,"container",void 0),Nt(this,"docElem",void 0),Nt(this,"opacity",void 0),Nt(this,"cssFloat",void 0),Nt(this,"clearCloneStyle",void 0),Nt(this,"boxSizing",void 0),Nt(this,"pixelPositionVal",void 0),Nt(this,"pixelMarginRightVal",void 0),Nt(this,"boxSizingReliableVal",void 0),Nt(this,"pixelBoxStylesVal",void 0),Nt(this,"reliableHiddenOffsetsVal",void 0),Nt(this,"reliableMarginRightVal",void 0),Nt(this,"reliableMarginLeftVal",void 0),Nt(this,"leadingWhitespace",void 0),Nt(this,"tbody",void 0),Nt(this,"htmlSerialize",void 0);var o=n.createElement("div"),a=n.createElement("div");if(a.style){this.div=a,this.container=o,this.docElem=n.documentElement,a.textContent=" ";var u=document.createElement("link");a.appendChild(u);var d=document.createElement("table");a.appendChild(d);var l=document.createElement("a");l.href="/a",a.appendChild(l);var c=document.createElement("input");for(c.type="checkbox",a.appendChild(c),this.leadingWhitespace=a.firstChild.nodeType===3,this.tbody=!a.getElementsByTagName("tbody").length,this.htmlSerialize=!!a.getElementsByTagName("link").length,a.style.cssText="float:left;opacity:.5",this.opacity=a.style.opacity==="0.5",this.cssFloat=!!a.style.cssFloat,a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",this.clearCloneStyle=a.style.backgroundClip==="content-box",(o=document.createElement("div")).style.cssText="border:0;width:60px;height:0;top:0;left:-11111px;padding:0;margin-top:1px;position:absolute";a.firstChild;)a.removeChild(a.firstChild);o.appendChild(a),this.boxSizing=a.style.boxSizing===""||a.style.MozBoxSizing===""||a.style.WebkitBoxSizing===""}},[{key:"reliableHiddenOffsets",value:function(){return this.pixelPositionVal==null&&this.computeStyleTests(),this.reliableHiddenOffsetsVal}},{key:"boxSizingReliable",value:function(){return this.pixelPositionVal==null&&this.computeStyleTests(),this.boxSizingReliableVal}},{key:"pixelBoxStyles",value:function(){return this.pixelPositionVal==null&&this.computeStyleTests(),this.pixelBoxStylesVal}},{key:"pixelMarginRight",value:function(){return this.pixelPositionVal==null&&this.computeStyleTests(),this.pixelMarginRightVal}},{key:"pixelPosition",value:function(){return this.pixelPositionVal==null&&this.computeStyleTests(),this.pixelPositionVal}},{key:"reliableMarginRight",value:function(){return this.pixelPositionVal==null&&this.computeStyleTests(),this.reliableMarginRightVal}},{key:"reliableMarginLeft",value:function(){return this.pixelPositionVal==null&&this.computeStyleTests(),this.reliableMarginLeftVal}},{key:"roundPixelMeasures",value:function(t){return Math.round(parseFloat(t))}},{key:"computeStyleTests",value:function(){var t,n,o=this.div;if(this.docElem&&this.docElem.appendChild(this.container),o.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;overflow:scroll;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:60%",this.pixelPositionVal=this.boxSizingReliableVal=this.reliableMarginLeftVal=this.pixelBoxStylesVal=!1,this.pixelMarginRightVal=this.reliableMarginRightVal=!0,window.getComputedStyle)return n=window.getComputedStyle(o),this.pixelPositionVal=(n||{}).top!=="1%",this.reliableMarginLeftVal=(n||{}).marginLeft==="2px",this.boxSizingReliableVal=(n||{width:"4px"}).width==="4px",o.style.marginRight="50%",this.pixelMarginRightVal=(n||{marginRight:"4px"}).marginRight==="4px",(t=o.appendChild(document.createElement("div"))).style.cssText=o.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",o.style.width="1px",this.reliableMarginRightVal=!parseFloat((window.getComputedStyle(t)||{}).marginRight),o.style.right="60%",this.pixelBoxStylesVal=this.roundPixelMeasures(n.right)===36,o&&o.removeChild(t),void(o=null);if(o.style.display="none",this.reliableHiddenOffsetsVal=o.getClientRects().length===0,this.reliableHiddenOffsetsVal){o.style.display="";var a=document.createElement("table"),u=document.createElement("tr"),d=document.createElement("td");u.appendChild(d);var l=document.createElement("td");l.textContent="t",u.appendChild(l),a.appendChild(u),o.appendChild(u),o.childNodes[0].style.borderCollapse="separate",(t=o.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",this.reliableHiddenOffsetsVal=t[0].offsetHeight===0,this.reliableHiddenOffsetsVal&&(t[0].style.display="",t[1].style.display="none",this.reliableHiddenOffsetsVal=t[0].offsetHeight===0)}this.docElem&&this.docElem.removeChild(this.container)}},{key:"createHTMLDocument",get:function(){if(document.implementation){var t=document.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",t.childNodes.length===2}return!1}}])}(),bs=new XQ(document),ny=bs.docElem;m.sizzle;var Ef,iy,ZQ=/^(top|right|bottom|left)$/,dT=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,fT=new RegExp("^("+dT+")(?!px)[a-z%]+$","i"),$Q=new RegExp("^("+dT+")(.*)$","i");window.getComputedStyle?Ef=function(t){var n,o;return(o=(n=m.isFunction(t.getEL)?t.getEL():t).ownerDocument.defaultView)&&o.opener||(o=window),o.getComputedStyle(n)}:ny&&ny.currentStyle&&(Ef=function(t){return t.currentStyle});var hT=/^--/,RR="[\\x20\\t\\r\\n\\f]",eY=new RegExp("^"+RR+"+|((?:^|[^\\\\])(?:\\\\.)*)"+RR+"+$","g"),xf=["Top","Right","Bottom","Left"],tY=new RegExp(xf.join("|"),"i");window.getComputedStyle?iy=function(t,n,o){var a,u,d,l,c=hT.test(n),p=t.style;return(o=o||Ef(t))&&(l=o.getPropertyValue(n)||o[n],c&&l&&(l=l.replace(eY,"$1")||void 0),l!==""||function(g){return go.contains(g.ownerDocument,g)}(t)||(l=zp(t,n)),!bs.pixelBoxStyles()&&fT.test(l)&&tY.test(n)&&(a=p.width,u=p.minWidth,d=p.maxWidth,p.minWidth=p.maxWidth=p.width=l,l=o.width,p.width=a,p.minWidth=u,p.maxWidth=d)),l===void 0?l:l+""}:ny&&ny.currentStyle&&(iy=function(t,n,o){var a,u,d,l,c=t.style;return(l=(o=o||Ef(t))?o[n]:void 0)==null&&c&&c[n]&&(l=c[n]),fT.test(l)&&!ZQ.test(n)&&(a=c.left,(d=(u=t.runtimeStyle)&&u.left)&&(u.left=t.currentStyle.left),c.left=n==="fontSize"?"1em":l,l=c.pixelLeft+"px",c.left=a,d&&(u.left=d)),l===void 0?l:l+""||"auto"});var oy,rY=/<([\w:-]+)/,nY=/<|&#?\w+;/,iY=/^-ms-/,oY=/-([\da-z])/gi,aY=/^(none|table(?!-c[ea]).+)/,sY=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,uY={position:"absolute",visibility:"hidden",display:"block"},kR={letterSpacing:"0",fontWeight:"400"},NR={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:bs.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},OR=document.createElement("div");oy=OR.style,bs.cssFloat=!!OR.style.cssFloat;var lY=function(t,n){return n.toUpperCase()},FR=["Webkit","Moz","ms"],MR={};function LR(t){var n=go.cssProps[t]||MR[t];return n||(t in oy?t:MR[t]=function(o){if(o in oy)return o;for(var a=o.charAt(0).toUpperCase()+o.slice(1),u=FR.length;u--;)if((o=FR[u]+a)in oy)return o}(t)||t)}var go={cssHooks:{},contains:function(t,n){var o=n&&n.parentNode;return t===o||!(!o||o.nodeType!==1||!(t.contains?t.contains(o):t.compareDocumentPosition&&16&t.compareDocumentPosition(o)))},merge:function(t,n){for(var o=+n.length,a=0,u=t.length;a<o;)t[u++]=n[a++];if(o!=o)for(;n[a]!==void 0;)t[u++]=n[a++];return t.length=u,t},camelCase:function(t){return t.replace(iY,"ms-").replace(oY,lY)},cssProps:{},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0}},cY=["flo","at"].join("");go.cssProps[cY]=bs.cssFloat?"cssFloat":"styleFloat";function WR(t,n,o,a,u){for(var d=o===(a?"border":"content")?4:n==="width"?1:0,l=0;d<4;d+=2)o==="margin"&&(l+=Ts(t,o+xf[d],!0,u)),a?(o==="content"&&(l-=Ts(t,"padding"+xf[d],!0,u)),o!=="margin"&&(l-=Ts(t,"border"+xf[d]+"Width",!0,u))):(l+=Ts(t,"padding"+xf[d],!0,u),o!=="padding"&&(l+=Ts(t,"border"+xf[d]+"Width",!0,u)));return l}function jR(t,n,o){var a=!0,u=n==="width"?t.offsetWidth:t.offsetHeight,d=Ef(t),l=bs.boxSizing&&Ts(t,"boxSizing",!1,d)==="border-box";if(u<=0||u==null){if(((u=iy(t,n,d))<0||u==null)&&(u=t.style[n]),fT.test(u))return u;a=l&&(bs.boxSizingReliable()||u===t.style[n]),u=parseFloat(u)||0}return u+WR(t,n,o||(l?"border":"content"),a,d)}function BR(t){return new RegExp("^(?:([+-])=|)("+dT+")([a-z%]*)$","i").exec(t)}function zp(t,n,o,a){if(t&&t.nodeType!==3&&t.nodeType!==8&&t.style){var u,d,l,c=go.camelCase(n),p=hT.test(n),g=t.style;if(p||(n=LR(c)),l=go.cssHooks[n]||go.cssHooks[c],o===void 0)return l&&"get"in l&&(u=l.get(t,!1,a))!==void 0?u:g[n];(d=$(o))==="string"&&(u=BR(o))&&u[1]&&(o=function(S,v,b,T){var D,M=1,W=20,Y=function(){return Ts(S,v,"")},ee=Y(),te=b&&b[3]||(go.cssNumber[v]?"":"px"),de=(go.cssNumber[v]||te!=="px"&&+ee)&&BR(Ts(S,v));if(de&&de[3]!==te){te=te||de[3],b=b||[],de=+ee||1;do zp(S,v,(de/=M=M||".5")+te);while(M!==(M=Y()/ee)&&M!==1&&--W)}return b&&(de=+de||+ee||0,D=b[1]?de+(b[1]+1)*b[2]:+b[2]),D}(t,n,u),d="number"),o!=null&&o==o&&(d!=="number"||p||(o+=u&&u[3]||(go.cssNumber[c]?"":"px")),bs.clearCloneStyle||o!==""||n.indexOf("background")!==0||(g[n]="inherit"),l&&"set"in l&&(o=l.set(t,o,a))===void 0||(p?g.setProperty(n,o):g[n]=o))}}function Ts(t,n,o,a){var u,d,l,c=go.camelCase(n);return hT.test(n)||(n=LR(c)),(l=go.cssHooks[n]||go.cssHooks[c])&&"get"in l&&(u=l.get(t,!0,o)),u===void 0&&(u=iy(t,n,a)),u==="normal"&&n in kR&&(u=kR[n]),o===""||o?(d=parseFloat(u),o===!0||isFinite(d)?d||0:u):u}function ay(t,n){if(!t||typeof t!="string")return[];if(typeof n=="boolean"&&(n=!1),!n)if(bs.createHTMLDocument){var o=(n=document.implementation.createHTMLDocument("")).createElement("base");o.href=document.location.href,n.head.appendChild(o)}else n=document;var a=sY.exec(t);return a?[n.createElement(a[1])]:(a=function(u,d){for(var l,c,p,g,S,v=d.createDocumentFragment(),b=[],T=0,D=u.length;T<D;T++)if((l=u[T])||l===0)if(m.type(l)==="object")go.merge(b,l.nodeType?[l]:l);else if(nY.test(l)){for(c=c||v.appendChild(d.createElement("div")),p=(rY.exec(l)||["",""])[1].toLowerCase(),uT(c,(g=NR[p]||NR._default)[1]+l+g[2]),S=g[0];S--;)c=c.lastChild;go.merge(b,c.childNodes),(c=v.firstChild).textContent=""}else b.push(d.createTextNode(l));for(v.textContent="",T=0;l=b[T++];)v.appendChild(l);return c=null,v}([t],n),go.merge([],a.childNodes))}m.each(["height","width"],function(t,n){go.cssHooks[t]={get:function(o,a,u){if(a)return aY.test(Ts(o,"display"))&&o.offsetWidth===0?function(d,l,c,p){var g,S={};return m.each(l,function(v,b){S[b]=d.style[b],d.style[b]=l[b]}),g=c.apply(d,[]),m.each(l,function(v,b){d.style[b]=S[b]}),g}(o,uY,function(){return jR(o,t,u)}):jR(o,t,u)},set:function(o,a,u){var d=u&&Ef(o);return function(l,c,p){var g=$Q.exec(c);return g?Math.max(0,parseInt(g[1])-(p||0))+(g[2]||"px"):c}(0,a,u?WR(o,t,u,bs.boxSizing&&Ts(o,"boxSizing",!1,d)==="border-box",d):0)}}});var UR,VR=Array.prototype.slice,ra=" ",dY=he.bIE&&he.IEMode<10,GR=/[\n\t\r\.]/g,pT=function(){function t(n,o,a){le(this,t),Nt(this,"isNodeList",!0),Nt(this,"length",0);var u=this;return!n||m.isString(n)?u:m.isArray(n)||n.isNodeList?(Array.prototype.push.apply(u,m.makeArray(n)),u):(u[0]=n,u.length=1,u)}return pe(t,[{key:"item",value:function(n){return m.isNumber(n)?n>=this.length?null:new t(this[n]):new t(n)}},{key:"slice",value:function(){return new t(VR.apply(this,arguments))}},{key:"getDOMNodes",value:function(){return VR.call(this)}},{key:"each",value:function(n,o){var a=this;return m.each(a,function(u,d){return u=new t(u),n.call(o||u,u,d,a)}),a}},{key:"getEL",value:function(){return this.length>0?this[0]:void 0}},{key:"all",value:function(n){return this.length>0?yT(n,this):new t}},{key:"one",value:function(n){var o=this.all(n);return o.length?o.slice(0,1):o}},{key:"attr",value:function(n,o){var a=this.getEL();if(a){if(m.isUndefined(o))return n==="readonly"?a.readOnly?"readonly":"":(n!=="style"&&dY?a=a[n]:(a=a.attributes[n])&&(a=a.value),a);n=="class"?a.className=o:a[n]=o}}},{key:"addClass",value:function(n){var o=this.getEL();o&&function(a,u){var d,l,c,p,g=a.className,S=u.length;if(g){for(d=gT(g),l=g,c=0;c<S;c++)p=vT(u[c]),d.indexOf(ra+p+ra)<0&&(l+=ra+p);l=m.trim(l)}else l=u.join(" ");a.className=l}(o,n.split(ra))}},{key:"removeClass",value:function(n){var o=this.getEL();o&&function(a,u){var d,l,c,p=a.className,g=u.length;if(p&&g){for(d=gT(p),l=0;l<g;l++)for(c=ra+vT(u[l])+ra;d.indexOf(c)>=0;)d=d.replace(c,ra);a.className=m.trim(d)}}(o,n.split(ra))}},{key:"hasClass",value:function(n){var o=this.getEL();if(o)return function(a,u){var d,l,c,p=a.className,g=u.length;if(p&&g){for(d=gT(p),l=0;l<g;l++)if(c=ra+vT(u[l])+ra,d.indexOf(c)<0)return it;return Tr}return it}(o,n.split(ra))}},{key:"parent",value:function(){var n=this.getEL();return n&&(n=n.parentNode),new t(n)}},{key:"remove",value:function(){var n=this.getEL();n&&n.parentNode&&n.parentNode.removeChild(n)}},{key:"offset",value:function(){var n=this.getEL();return m.DOM.getElDimensions(n,Tr)}},{key:"before",value:function(n){var o=this.getEL(),a=[n];o&&(mT(n)&&(a=ay(n)),m.each(a,function(u){o.insertBefore(u,o.childNodes[0])}))}},{key:"append",value:function(n){var o=this.getEL(),a=[n];o&&(mT(n)&&(a=ay(n)),m.each(a,function(u){o.appendChild(u)}))}},{key:"html",value:function(n){var o=this.getEL();if(o){if(m.isUndefined(n))return function(a){var u=a.innerHTML;if(!document.all)return u;var d=/(\s+\w+)\s*=\s*([^<>"\s]+)(?=[^<>]*\/>)/gi,l=/"'([^'"]*)'"/gi;return(u=u.replace(d,'$1="$2"').replace(l,'"$1"')).replace(/<(\/?)(\w+)([^>]*)>/g,function(c,p,g,S){return p?"</"+g.toLowerCase()+">":("<"+g.toLowerCase()+S+">").replace(/=(("[^"]*?")|('[^']*?')|([\w\-\.]+))([\s>])/g,function(v,b,T,D,M,W,Y,ee){return M?'="'+M+'"'+W:v})}).replace(/<\/?([^>]+)>/g,function(c){return c})}(o);for(;o.firstChild;)o.removeChild(o.firstChild);m.each(ay(n),function(a){o.appendChild(a)})}}},{key:"style",value:function(n,o){var a=this.getEL();if(a)return zp(a,n,o)}},{key:"css",value:function(n){m.each(this,function(o){m.each(n,function(a,u){zp(o,u,a)})})}},{key:"show",value:function(){m.each(this,function(n){n.style.display=""})}},{key:"hide",value:function(){m.each(this,function(n){n.style.display="none"})}}])}();function mT(t){return m.isString(t)&&(t=m.trim(t))&&t.length>=3&&m.startsWith(t,"<")&&m.endsWith(t,">")}function gT(t){return(ra+t+ra).replace(GR,ra)}function vT(t){return t.replace(GR,"")}function yT(t,n){var o=n;return o&&o.isNodeList&&(o=o.getEL()),m.isString(t)?(mT(t)&&m.error("Err 4002."),new pT(m.sizzle(t,o))):t.isNodeList?t:new pT(t)}function fY(t,n){var o=yT(t,n);return o.length?o.slice(0,1):o}function hY(t){return t instanceof pT}(UR=self||{}).Map||(UR.Map=function(){this.keys=[],this.data={},this.set=function(t,n){this.data[t]==null&&this.keys.indexOf(t)==-1&&this.keys.push(t),this.data[t]=n},this.get=function(t){return this.data[t]}});var Pe=new(pe(function t(){le(this,t),Nt(this,"__ver",20230516),Nt(this,"Events",mR),Nt(this,"EnumMouseButton",ud),Nt(this,"detectButton",DQ),Nt(this,"getWheelDelta",AQ),Nt(this,"fromUnicode",RQ),Nt(this,"escapeHtml",kQ),Nt(this,"escapeRegExp",NQ),Nt(this,"unEscapeHtml",_R),Nt(this,"param",LQ),Nt(this,"unparam",WQ),Nt(this,"colorStrToInt",EQ),Nt(this,"IntToColorStr",xQ),Nt(this,"currentStyle",MQ),Nt(this,"parseHTML",ay),Nt(this,"setHtml",uT),Nt(this,"css",Ts),Nt(this,"style",zp),Nt(this,"support",bs),Nt(this,"all",yT),Nt(this,"one",fY),Nt(this,"isNodeList",hY),Nt(this,"Promise",iT),Nt(this,"nativePromise",ry),Nt(this,"loaderBarClassName",CR),Nt(this,"loaderBarSource",lT),Nt(this,"createShowMaskContent",wR),Nt(this,"switchEvent",FQ),Nt(this,"setBackOpacity",PR),Nt(this,"showMask",qQ),Nt(this,"hideMask",JQ),Nt(this,"dialog",cT),Nt(this,"mask",mo)})),Qa={getHex:function(t){var n=Number(t).toString(16).toUpperCase();return n.length==1&&(n=["0",n].join("")),n},getColor:function(t){var n,o,a;return a=t>>16,o=(65280&t)>>8,n=255&t,["#",Qa.getHex(a),Qa.getHex(o),Qa.getHex(n)].join("")},RGB2BGR:function(t){return(255&t)<<16|65280&t|t>>16}};Qa.BGR2RGB=Qa.RGB2BGR;var Oe=!1,at=!0,HR=/[#\/\?@]/g,pY=/[#\?]/g,zR={scheme:1,userInfo:2,hostname:3,port:4,path:5},mY=new RegExp("^(?:([\\w\\d+.-]+):)?(?://(?:([^/?#@]*)@)?([\\w\\d\\-\\u0100-\\uffff.+%]*|\\[[^\\]]+\\])(?::([0-9]+))?)?(.+)?$");function _T(t,n){return m.isString(t)&&m.isString(n)?t.toLowerCase()===n.toLowerCase():t===n}function ST(t,n){return encodeURI(t).replace(n,function(o){return"%"+function(a){return a.length===1?"0"+a:a}(o.charCodeAt(0).toString(16))})}var KR,sy=function(){function t(n){if(h(this,t),w(this,"scheme",""),w(this,"userInfo",""),w(this,"hostname",""),w(this,"port",""),w(this,"path",""),n instanceof t)return m.clone(n);t.getComponents(n,this)}return _(t,[{key:"clone",value:function(){var n=new t,o=this;return m.each(zR,function(a,u){n[u]=o[u]}),n}},{key:"getScheme",value:function(){return this.scheme}},{key:"setScheme",value:function(n){return this.scheme=n,this}},{key:"getHostname",value:function(){return this.hostname}},{key:"setHostname",value:function(n){return this.hostname=n,this}},{key:"setUserInfo",value:function(n){return this.userInfo=n,this}},{key:"getUserInfo",value:function(){return this.userInfo}},{key:"setPort",value:function(n){return this.port=n,this}},{key:"getPort",value:function(){return this.port}},{key:"setPath",value:function(n){return this.path=n,this}},{key:"getPath",value:function(){return this.path}},{key:"isSameOriginAs",value:function(n){var o=this;return _T(o.hostname,n.hostname)&&_T(o.scheme,n.scheme)&&_T(o.port,n.port)}},{key:"toString",value:function(n){var o,a,u,d,l,c=[],p=this;return(o=p.scheme)&&(c.push(ST(o,HR)),c.push(":")),(a=p.hostname)&&(c.push("//"),(l=p.userInfo)&&(c.push(ST(l,HR)),c.push("@")),c.push(encodeURIComponent(a)),(d=p.port)&&(c.push(":"),c.push(d))),(u=p.path)&&(a&&!m.startsWith(u,"/")&&(u="/"+u),c.push(ST(u,pY))),c.join("")}}],[{key:"getComponents",value:function(n,o){var a=(n=n||Dt).match(mY)||[],u=o||{};return m.each(zR,function(d,l){u[l]=a[d]}),u}}])}(),uy=m.each,iu=m.error,bT=m.isFunction,TT=m.isString,CT=he.bIE&&he.IEVersion<=9,gY=he.bIE&&he.IEVersion<=10,Dl=window,wT=new sy(location.href),QR=wT&&/^(?:about|app|app\-storage|.+\-extension|file|widget)$/.test(wT.getScheme()),vY=!1,IT=function(){try{return new Dl.XMLHttpRequest}catch{}},YR=function(){try{var t=Oe;return uy(["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.3.0","Msxml3.XMLHTTP"],function(n){try{if(!t)return t=new Dl.ActiveXObject(n),Oe}catch(o){iu("new xhr error: "+o.message)}}),t}catch{}},yY=!(QR||!Dl.XMLHttpRequest)&&"withCredentials"in(IT()||[]),_Y=Dl.ActiveXObject?function(t){return CT?YR():!QR&&IT()||YR()}:IT,qR=function(t){return vY},SY=/^(?:GET|HEAD)$/,bY=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,ET={xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":"*/*"},xT=KR;gY&&(xT=m.noop);var TY=function(){function t(){h(this,t),w(this,"url",!1),w(this,"onSuccess",!1),w(this,"onError",!1),w(this,"onComplete",!1),w(this,"method","GET"),w(this,"async",!0),w(this,"xhrFields",!1),w(this,"mimeType",!1),w(this,"username",!1),w(this,"password",!1),w(this,"data",!1),w(this,"dataType","text"),w(this,"headers",!1),w(this,"contentType","application/x-www-form-urlencoded; charset=UTF-8"),w(this,"beforeSend",!1),w(this,"afterSend",!1),w(this,"timeout",0),w(this,"cache",!0),w(this,"crossDomain",!1),w(this,"retry",0)}return _(t,[{key:"setRequestHeader",value:function(n,o){this.headers[n]=o}},{key:"getAllResponseHeaders",value:function(){return this.state===2?this.responseHeadersString:null}},{key:"getNativeXhr",value:function(){return this.nativeXhr}},{key:"getResponseHeader",value:function(n){var o,a;if(n=n.toLowerCase(),this.state===2){if(!(a=this.responseHeaders))for(a=this.responseHeaders={};o=bY.exec(this.responseHeadersString);)a[o[1].toLowerCase()]=o[2];o=a[n]}return o===void 0?null:o}},{key:"overrideMimeType",value:function(n){return this.state||(this.mimeType=n),this}},{key:"abort",value:function(n){return this.state=3,this.status=0,this.statusText=n??"abort",this.nativeXhr&&this.nativeXhr.abort(),this._callback(),this}},{key:"_ioReady",value:function(n,o){var a=!1,u=this;if(this.state!==2&&this.state!==3){this.state===1&&(this.state=2),this.readyState=4,n>=200&&n<300||n===304?n===304?(o="not modified",a=!0):(o="success",a=!0):n<0&&(n=0);try{n>=200&&this.handleResponseData()}catch(d){iu(d,"error"),o=d.message||"parser error"}return(n<200||!a)&&this.retry>0?(this.retry=this.retry-1,void setTimeout(function(){u.sendInternal()},200)):(this.status=n,this.statusText=o,this._callback(a),a)}}},{key:"_callback",value:function(n){var o=this,a=this.timeoutTimer;a&&(clearTimeout(a),this.timeoutTimer=0),uy([n?this.onSuccess:this.onError,this.onComplete],function(u){bT(u)&&u.apply(o.context,[o.responseData,o.statusText,o])}),this.responseData=null}},{key:"handleResponseData",value:function(){var n,o=this.dataType,a=this.nativeXhr;if(o==="blob"||o==="arraybuffer")if(CT){var u,d,l;if("responseBody"in a)u=a.responseBody,d=Dl.dsVbsBinGetLength(u),n=new Dl.VBArray(Dl.dsVbsBinGetBytes(u,0,d)).toArray();else for(n=[],d=(u=a.responseText).length,l=0;l<d;++l)n.push(255&u.charCodeAt(l));u=null}else n=Dl.Blob?a.response:"responseBody"in a?a.responseBody:a.responseText;else if(o=="json")n=a.responseType&&a.responseType.toLowerCase()=="json"?a.response:a.responseText?m.parse(a.responseText):m.parse(a.response);else if(o==="user-defined")n=a.response!==void 0?a.response:a.responseText;else{this.responseText=n=a.responseText||"";try{var c=a.responseXML;c&&c.documentElement&&(this.responseXML=c)}catch{}}this.responseData=n}},{key:"sendInternal",value:function(n){var o,a,u,d,l,c,p,g,S,v,b,T=this;if(a=(o=this._setup(n)).method,TT(a)&&(a=a.toUpperCase()),l=o.contentType,u=o.url,d=o.dataType,g=o.mimeType,TT(u)&&(this.nativeXhr=c=_Y(o.crossDomain),c)){try{if(this.state=1,o.username?c.open(a,u,o.async,o.username,o.password):c.open(a,u,o.async),(o.async||he.bIE)&&d&&d!="user-defined"&&"responseType"in c)try{c.responseType=d}catch{}}catch(D){return void(this.state<2?(iu(D,"error"),this._ioReady(-1,"open error: "+(m.isNumber(D.number)?"("+D.number+")":"")+(D.message||""))):iu(D))}"withCredentials"in(p=o.xhrFields||{})&&(yY||delete p.withCredentials),uy(p,function(D,M){try{c[M]=D}catch(W){iu(W)}}),g&&c.overrideMimeType&&c.overrideMimeType(g),(S=o.headers||{})["X-Requested-With"]===!1&&delete S["X-Requested-With"],"setRequestHeader"in c&&(l&&c.setRequestHeader("Content-Type",o.contentType),c.setRequestHeader("Accept",d&&ET[d]?ET[d]+(d==="*"?"":", */*; q=0.01"):ET["*"]),uy(S,function(D,M){c.setRequestHeader(M,D)})),a!="GET"||o.cache||(c.setRequestHeader("If-Modified-Since","0"),c.setRequestHeader("Cache-Control","no-cache")),b=(v=!SY.test(o.method))&&o.data||null,v&&CT&&(b=o.data),o.async&&o.timeout>0&&(o.timeout<300&&(o.timeout=300),this.timeoutTimer=setTimeout(function(){T.abort("timeout")},o.timeout));try{if(this.state=1,bT(this.beforeSend)&&this.beforeSend(c,T)===!1)return void this.abort("cancel");c.send(b),b=null,o.data=null,bT(this.afterSend)&&this.afterSend(T)}catch(D){this.state<2?(iu(D,"error"),this._ioReady(-1,"send error: "+(D.message||""))):iu(D)}if(!o.async||c.readyState===4)return T._xhrCallback();c.onreadystatechange=function(){T._xhrCallback()}}}},{key:"_xhrCallback",value:function(n,o){var a,u=this.nativeXhr;try{if(u.readyState===4||o)if(qR()||(u.onreadystatechange=xT),o)u.readyState!==4&&u.abort();else{qR()||(this.responseHeadersString=u.getAllResponseHeaders());var d,l=u.status;try{d=u.statusText}catch(c){iu("xhr statusText error: "),iu(c),d=""}a=this._ioReady(l,d)}}catch(c){iu(c,"error"),u.onreadystatechange=xT,o||this._ioReady(-1,c.message||"process error")}return a}},{key:"_setup",value:function(n){var o,a,u,d,l;if(n){for(a in this.context=n.context,delete n.context,n instanceof t&&(n=n.config),this.config=n,d=n.url,m.startsWith(d,"//")&&(n.url=d="http:"+d),(m.startsWith(d,"http://")||m.startsWith(d,"https://"))&&(l=new sy(d)),o=n.dataType?n.dataType.toLowerCase():"text",n.dataType=o,n.method?n.method=n.method.toUpperCase():n.method="GET",l&&!("crossDomain"in n)&&(n.crossDomain=!l.isSameOriginAs(wT)),u=n.headers)CY(u[a])&&delete u[a];m.mix(this,n)}return this.state=1,this}},{key:"dispose",value:function(){this.responseHeaders=null,this.responseHeadersString=null,this.responseData=null,this.responseText=null,this.responseXML=null,this.context=null,this.config=null,this.onSuccess=null,this.onError=null,this.onComplete=null,this.xhrFields=null,this.data=null,this.headers=null,this.beforeSend=null,this.afterSend=null}}])}();function wa(t){if(t&&TT(t.url)){var n=new TY;return t.async?(t.async=!0,n.sendInternal(t),n):(t.async=!1,n.sendInternal(t))}m.log("the url is error.")}function CY(t){return t===KR}var wY="Please make sure the Dynamic Web TWAIN Service has been installed.",JR="Error: This browser is currently not supported.",IY="Error: Duplicate ContainerId detected while creating a Dynamic Web TWAIN object.",EY="Error: Duplicate WebTwainId detected while creating a Dynamic Web TWAIN object.",xY="Error: The ID of the target DIV for the new DWT object is invalid.",na="19",Kp="3",Qp="0",Pl="1028",AT="3",DT="0",ly="".concat(na,",").concat(Kp,",").concat(Qp,",").concat(Pl),AY="".concat(na,",").concat(AT,",").concat(DT,",").concat("1028"),PT=parseInt(na),RT=parseInt(Kp),kT=parseInt(Qp),XR=[PT,RT,kT,Pl],ZR=[PT,RT,kT,Pl],$R=[PT,RT,kT,Pl],ek=[1,9,2,Pl],tk=[1,9,2,Pl],rk=[1,9,2,Pl];function nk(){if(!he.bWin){if(he.bMac)return ZR;if(he.bLinux)return $R}return XR}function NT(){if(!he.bWin){if(he.bMac)return tk;if(he.bLinux)return rk}return ek}function cy(){return"dcp/dwasm2_"+Af()}function Af(){return nk().join("")}var Cs=function(t){return t.NONE=0,t.TRACE=1,t.DEBUG=2,t.INFO=4,t.WARN=8,t.ERROR=16,t}({}),Yp=m.getLogger(),dy=(G=function(){return _(function t(){h(this,t)},null,[{key:"LogLevel",get:function(){return this._logLevel},set:function(t){this._logLevel=t}},{key:"LogFunc",set:function(t){this._logFunc=t}},{key:"all",value:function(t,n){if((this._logLevel&t)==t)if(this._logFunc)this._logFunc(n,t);else switch(t){case Cs.DEBUG:Yp.debug(n);break;case Cs.ERROR:Yp.error(n);break;case Cs.INFO:Yp.info(n);break;case Cs.WARN:Yp.warn(n);break;case Cs.TRACE:Yp.trace(n)}}},{key:"trace",value:function(t){this.all(Cs.TRACE,t)}},{key:"debug",value:function(t){this.all(Cs.DEBUG,t)}},{key:"info",value:function(t){this.all(Cs.INFO,t)}},{key:"warn",value:function(t){this.all(Cs.WARN,t)}},{key:"error",value:function(t){this.all(Cs.ERROR,t)}}])}(),w(G,"_logLevel",Cs.ERROR),w(G,"_logFunc",void 0),G);function qr(t){var n;window.console&&(t instanceof Error||m.isString(t)?(n=t,V.navInfoSync.bIE&&(n=m.stringify(t))):n=m.stringify(t),window.console.error(n))}var ik,Df="127.0.0.1";he.bAndroid&&he.bSSL&&(Df="local.dynamsoft.com"),ik=DT.toLowerCase()=="0"?"Dynamic Web TWAIN "+[na,AT].join("."):"Dynamic Web TWAIN "+[na,AT,DT].join(".");var Rl={JSVersion:AY,ServerVersionInfo:ly,ServerLinuxVersionInfo:ly,ServerMacVersionInfo:ly,ServerAndroidVersionInfo:ly,ActiveXVersion:"18,0,0,1025",ActiveXPdfVersion:"11.5.2.0312",PdfVersion:"11.5.2.0312",PdfLinuxVersion:"11.5.2.0312",PdfMacVersion:"11.5.2.0312"},DY={ProductName:ik,Containers:void 0,ContainerMap:{},WebTwainIdMap:{},RemoteScanIdMap:{},Trial:!1,ResourcesPath:"Resources",Debug:!1,IfUpdateService:!1,AutoLoad:!0,ReConnectToService:!0,OnWebTwainReady:!1,OnWebTwainError:function(t){qr(t)},OnWebTwainNotFound:!1,OnWebTwainOldPluginNotAllowed:!1,OnWebTwainNeedUpgrade:!1,OnWebTwainNeedUpgradeWebJavascript:!1,OnWebTwainInitMessage:!1,ViewerJSIntegerited:!0,ActiveXInstallWithCAB:!1,IfUseActiveXForIE10Plus:!1,IfUseEmbeddedDownloadNoticeForActiveX:!1,IfCheckDCP:!1,IfDisableDefaultSettings:!1,OnWebTwainWillInit:!1,IfAddMD5InUploadHeader:!1,IfAlwaysFocusOnPopupWindow:!0,IfConfineMaskWithinTheViewer:!1,fetchOptions:{mode:"cors",credentials:"same-origin"},HideTrialMessage:!1,CheckCertExpired:!0,ConnectWithSocket:!1,SSLPort:18623,Port:18622,showLoadingMsgDialog:!0,licenseServer:void 0,sessionPassword:void 0,organizationID:void 0,handshakeCode:void 0,UseDefaultViewer:!0,Host:Df,DeviceFriendlyName:"",LocalHosts:["127.0.0.1","localhost","local.dynamsoft.com"],IfCheckCORS:!1,IfCheckCert:!0,IfChromeExtension:!1,IfLoadResources:!0,IfResourcesAddTimestamp:!0,IfCheckCssFiles:!0,EnableLocalNetworkMixedContent:!1};function qi(){var t=V.DWT.Host;return m.isString(t)&&t!=""||(V.DWT.Host=t=Df),t}function PY(){var t=300,n=V.DWT.RemoteScanConfig;return n&&m.isNumber(n.sessionTimeout)&&n.sessionTimeout>0&&(t=n.sessionTimeout),t}var OT={URL:"",UpdateDaysBeforeExpired:30},ok=he.bWin,RY=he.bMac,kY=he.bLinux,NY=he.bSafari,OY=he.bFirefox,FY=he.bChrome,MY=location.hostname,ws=location.pathname,FT=0,fy=he.bMobile,ak=parseFloat(he.strBrowserVersion);if(he.bWin||he.bMac||he.bLinux||he.bChromeOS){if(V.navInfo){var hy=V.navInfo;fy=fy||hy.bAndroid||hy.bPad||hy.biPhone||hy.biPad}}else fy=!0;MY===""?ok&&ws.lastIndexOf("\\")>1?ws=ws.substring(1,ws.lastIndexOf("\\")).replace(/%20/g," "):(FT=1,ws=ws.substring(1,ws.lastIndexOf("/")).replace(/%20/g," ")):(FT=1,ws=ws.substring(0,ws.lastIndexOf("/")));var Cn={bChrome:FY,bFirefox:OY,bSafari:NY,bIE:he.bIE,bEdge:he.bEdge,bWin:ok,bMac:RY,bLinux:kY,iPluginLength:0,bFileSystem:he.bFileSystem,bMobile:fy,strIEVersion:he.IEVersion,strChromeVersion:he.bChrome?ak:"",strFirefoxVersion:he.bFirefox?ak:"",basePath:ws,pathType:FT,isDesktopViewer:function(){return he.bWin||he.bLinux||he.bChromeOS||he.bMac},isPadViewer:function(){return he.bPad||he.biPad},isMobileViewer:function(){return he.bMobile||he.biPhone||he.bAndroid||he.bHarmonyOS},WSVersion:"18.5.0",WSSession:new Date().getTime(),bDiscardBlankImage:Oe},py=!0,MT=!1,kl=he.bHTML5Edition,LT=0,my=MT;he.bIE&&((LT=he.IEVersion)===""||LT>=10?V.DWT.IfUseActiveXForIE10Plus?(kl=MT,my=py,he.bHTML5Edition=kl):kl=py:(kl=MT,LT>=9&&(my=py))),my||kl||(kl=py);var Xt={SSLPort:18626,Port:18625,bEnhancedMode:!1,oldDWASMVerStr:"dwasm_13000404",oldDWASMVer:[13,0,0,"0404"],wsProtocol:"dwt_command",managerVersion:XR,managerVersionMac:ZR,managerVersionLinux:$R,serviceVersion:ek,serviceVersionMac:tk,serviceVersionLinux:rk,detect:{dcpStatus:0,ddmPort:0,dwtPort:0,dwtSSLPort:0,bConnected:!1,connectedResult:"",MaxManagerModuleConnectCount:1,EnumDCP_DetectStatus:{Init:0,Connected:1,CheckingManagerVer:15,CheckingServiceVer:16,NotInstalled:17,CheckedService:5,VerifyingZip:6,VerifiedZip:7,UpdatingService:8,UpdateSucceed:9,UpdateFailed:10,UpdateSkipped:11}},strSID:"",b64bit:!0,objEnhancedPorts:{}};function gy(t){var n=qp(),o=t;return o||(o=he.bWin?".msi":he.bMac?".pkg":V.navInfo.bArm64?"-arm64.deb":V.navInfo.bMips64?"-mips64el.deb":V.navInfo.bAndroid?".apk":he.bLinux||he.bChromeOS||he.bHarmonyOS?".deb":".msi"),[n,"DynamicWebTWAINServiceSetup",o].join("")}function qp(){var t,n,o=ke.refServiceInstallerLocation||null;if(!o){var a;if(e.CoreModule&&e.CoreModule.engineResourcePaths?(t=e.CoreModule.engineResourcePaths.dwt,n=e.CoreModule.engineResourcePaths.rootDirectory):(a=window)!==null&&a!==void 0&&(a=a.Dynamsoft)!==null&&a!==void 0&&(a=a.Core)!==null&&a!==void 0&&(a=a.CoreModule)!==null&&a!==void 0&&(a=a.engineResourcePaths)!==null&&a!==void 0&&a.dwt&&(t=window.Dynamsoft.Core.CoreModule.engineResourcePaths.dwt,window.Dynamsoft.Core.CoreModule.engineResourcePaths.rootDirectory&&(n=window.Dynamsoft.Core.CoreModule.engineResourcePaths.rootDirectory)),t&&(m.isString(t)||m.isString(t.serviceInstallerLocation)&&(o=t.serviceInstallerLocation),m.isString(o))&&!(m.startsWith(o,"https://")||m.startsWith(o,"http://"))){if(n&&m.isString(n)&&n.length>0){var u="";n.charAt(n.length-1)=="/"||(u="/"),o=[n,u,o].join("")}}if(m.isString(o)||(o=V.DWT.ServiceInstallerLocation||""),m.isString(o)&&o.length>0)o[o.length-1]!="/"&&(o+="/");else{var d=sk();if(m.isString(d)&&d.length>0){var l="";d.charAt(d.length-1)=="/"||(l="/"),o=[d,l,"dist/"].join("")}else o="Resources/dist/"}ke.refServiceInstallerLocation=o}return o}function sk(){var t=ke.refResourcesPath||null;if(!t){var n,o,a;if(e.CoreModule&&e.CoreModule.engineResourcePaths?(n=e.CoreModule.engineResourcePaths.dwt,o=e.CoreModule.engineResourcePaths.rootDirectory):(a=window)!==null&&a!==void 0&&(a=a.Dynamsoft)!==null&&a!==void 0&&(a=a.Core)!==null&&a!==void 0&&(a=a.CoreModule)!==null&&a!==void 0&&(a=a.engineResourcePaths)!==null&&a!==void 0&&a.dwt&&(n=window.Dynamsoft.Core.CoreModule.engineResourcePaths.dwt,window.Dynamsoft.Core.CoreModule.engineResourcePaths.rootDirectory&&(o=window.Dynamsoft.Core.CoreModule.engineResourcePaths.rootDirectory)),n&&(m.isString(n)?t=n:m.isString(n.resourcesPath)&&(t=n.resourcesPath),m.isString(t))&&!(m.startsWith(t,"https://")||m.startsWith(t,"http://"))){if(o&&m.isString(o)&&o.length>0){var u="";o.charAt(o.length-1)=="/"||(u="/"),t=[o,u,t].join("")}}m.isString(t)||(t=V.DWT.ResourcesPath||""),!he.bFileSystem&&(t!==void 0&&t!=""||(t=Cn.basePath||""),t.length>0&&t.charAt(t.length-1)=="/"&&(t=t.substr(0,t.length-1)),ke.refResourcesPath=t)}return t}var ke={name:"Dynamic Web TWAIN",bHTML5Edition:kl,bActiveXEdition:my,_iImageCaptureDriverType:3,_iBrokerProcessType:1,getChromeEditionPath:gy,getPKGPath:function(){return qp()+"DynamicWebTWAINMacEdition.pkg"},getMSIPath:function(){return qp()+"DynamicWebTWAINPlugIn.msi"},getActiveXCABx86Path:function(){return qp()+"DynamicWebTWAIN.cab"},getActiveXCABx64Path:function(){return qp()+"DynamicWebTWAINx64.cab"},onlineResources:"https://demo.dynamsoft.com/DWT/Resources/",strMIMEType:"Application/DynamicWebTwain-Plugin",strFullClassID:"E7DA7F8D-27AB-4EE9-8FC0-3FEC9ECFE758",scripts:{},dwtConfigLoaded:!1,dwtConfigLoading:!1,getServerVersionInfo:function(t){var n=Rl.ServerVersionInfo;return he.bWin||(he.bMac?n=Rl.ServerMacVersionInfo:he.bAndroid?n=Rl.ServerAndroidVersionInfo:(he.bLinux||he.bChromeOS||he.bHarmonyOS)&&(n=Rl.ServerLinuxVersionInfo)),t?n:m.replaceAll(n,",","")},getDWTPrefix:function(){return V.DWT.CustomMode===!0?"dwtc_":"dwt_"},loadResourcePath:!1,loadingResourcePath:!1,handshakeCode:void 0,organizationID:void 0,licenseServer:void 0,sessionPassword:"",bPublicLTS:!0,refProductKey:void 0,ltsDebug:!1,bDWTLoading:!1,bDWTUnloading:!1,bAndroidConnected:!1,unloadQueue:[],appendBrowserLicenseWhenServiceMode:function(){},bDCPChecked:!1,bDWTChecked:!1,bUseDynamsoftLicenseManager:!1,bChromeEdition:kl,bIgnoreHttpsMixedContent:!1,bPortChanged:!1},gn={bFullEdition:!1,getVersionStrForCheck:function(){return"".concat(na,"000000")},versionInfoFromServer:"",hostForCheckCert:Df,RemoteReconnectMaxTimes:200,RemoteReconnectTimeSpan:5e3,LocalReconnectMaxTimes:60,LocaleReconnectTimeSpan:3e3,HttpConnectTimeout:he.bSSL?3e3:1e3,WebSocketConnectTimeout:he.bSSL?1e3:600};function Pf(){return gn.HttpConnectTimeout}function Jp(){return gn.WebSocketConnectTimeout}function ld(t){return function(n){return n=="localhost"||n=="127.0.0.1"}(t)?(ke.bIgnoreHttpsMixedContent||!he.bSSL||!V.DWT.EnableLocalNetworkMixedContent)&&he.bSSL:he.bSSL}function wn(){return ld(V.DWT.Host)}function Ji(){return ke.bUseDynamsoftLicenseManager?m.isString(ke.refProductKey)&&(m.startsWith(ke.refProductKey,"DLS2")||ke.refProductKey===""):m.isString(ke.handshakeCode)||m.isString(ke.organizationID)||ke.bPublicLTS||m.isString(V.DWT.ProductKey)&&m.startsWith(V.DWT.ProductKey,"DLS2")}function Ro(t){if(t===void 0)return!0;var n;if(t){for(n=0;n<V.DWT.LocalHosts.length;n++)if(t===V.DWT.LocalHosts[n])return!0}return!1}function uk(t){return t.indexOf("text/json")!=-1||t.indexOf("application/json")!=-1}function cd(t){return t==="text/json"||t==="application/json"}var Xi=function(t){return t.LicenseInvalid=-2325,t.LicenseExpired=-2326,t.LicenseParseFailed=-2546,t.LicenseExpiredForDLS=-2808,t.LicenseNoCoreForDLS=-2809,t.LicenseNoCore=-2810,t.LicenseIsFuture=-2396,t.LicenseVersionNotCurrent=-2539,t}({});function Me(t,n,o){t._errorCode=n,t._errorString=o}function vn(t){var n=V.DWT.licenseException;n.code=t._errorCode,n.message=t._errorString,n.fromLTS=!1}function vi(){return V.DWT.IfChromeExtension?"":"Please contact the site administrator."}V.DWT.EnumDWT_LicenseErrorCode=Xi;var $t=function(t){return t.UserCancelled=-1032,t.CORSErrorFromService=-2137,t.CommonError=-2201,t.ModuleNotExists=-2371,t.MustUpgrade=-2207,t.RemoteDynamsoftServiceStopped=-2613,t.ResponseDataTypeError=-2801,t.HTSTError=-2817,t.SSLCertExpired=-2818,t.SSLCertInvalid=-2819,t.CORSError=-2820,t.DWTPortNotReady=-2821,t.HTTPRedirected=-2823,t.BboError=-2827,t.HTTPServerError=-2842,t.ChromeLNADenied=-2909,t}({});function ir(t){Me(t,-1033,"Invalid index.")}function Ni(t){Me(t,-1034,"Invalid value.")}function Ii(t){Me(t,-1035,"There is no image.")}function lk(t){Me(t,-1110,"Unrecognized file extension.")}function ck(t){Me(t,-2007,"The system is busy, some operations are not completed. Please try later.")}function Rf(t,n){var o=n?["[",n,"]"].join(""):"your device";Me(t,$t.MustUpgrade,"The Dynamic Web TWAIN Service installed on "+o+" is outdated and no longer works with the JavaScript code on the website.")}function Xp(t){Me(t,-2209,"The HTML5 edition does not support this method or property.")}function WT(t){Me(t,-2300,"Http upload error: the HTTP Server name/ip cannot be empty.")}function vy(t){Me(t,-2301,"Network error.")}function jT(t){Me(t,-2302,"The result format is invalid.")}function BT(t,n,o,a){if(n)Ea(t);else if(t._errorCode=-2003,a&&a>0||o){var u;u=a&&a>=200&&a<300?["HTTP process: "]:["HTTP process error: "],o&&(o.indexOf("HTTP process error: ")>=0&&(u=[""]),u.push(o)),a&&a>0&&(u.push(" ("+a+")"),a>=300&&(t._errorCode=$t.HTTPServerError));var d=u.toString().lastIndexOf(".");d>=0&&d==u.toString().length-1?t._errorString=u.join(""):t._errorString=u.join("")+"."}else t._errorString="HTTP process error."}function dk(t){Me(t,-2304,"Http download error: the url is invalid.")}function fk(t,n,o,a){if(n)Me(t,-2305,"User cancelled the operation.");else if(t._errorCode=-2003,a&&a>0||o){var u=["HTTP put error: "];o&&(o.indexOf("HTTP put error: ")>=0&&(u=[""]),u.push(o)),a&&a>=300&&(t._errorCode=$t.HTTPServerError);var d=u.toString().lastIndexOf(".");d>=0&&d==u.toString().length-1?t._errorString=u.join(""):t._errorString=u.join("")+"."}else t._errorString="HTTP put error."}function UT(t,n,o,a){if(n)Me(t,-2305,"User cancelled the operation.");else if(t._errorCode=-2003,a&&a>0||o){var u=["HTTP process error: "];o&&(o.indexOf("HTTP process error: ")>=0&&(u=[""]),u.push(o));var d=u.toString().lastIndexOf(".");d>=0&&d==u.toString().length-1?t._errorString=u.join(""):t._errorString=u.join("")+"."}else t._errorString="HTTP process error."}function Kn(t){Me(t,-2306,"Upload Error: the upload file cannot be empty.")}function hk(t){Me(t,-2307,"The width or height you entered is invalid.")}function ou(t){Me(t,-2313,"The size of the images you are about to upload has exceeded the limit.")}function oo(t){Me(t,-2314,"The parameter cannot be empty.")}function dd(t){Me(t,-2320,"Invalid file.")}function Ia(t){Me(t,Xi.LicenseInvalid,Ji()?"The license is invalid.":"The current product key is empty or invalid."),vn(t)}var VT,Zp,LY=["January","February","March","April","May","June","July","August","September","October","November","December"];function GT(t){if(V.DWT&&m.isFunction(V.DWT.GetFormatedDate))return V.DWT.GetFormatedDate(t);var n,o,a=t;a=a.replace(/-/g,"/"),n=Date.parse(a),isNaN(n)&&(n=0);var u=(o=new Date(n)).getFullYear(),d=LY[o.getMonth()],l=o.getDate();return"".concat(d," ").concat(l,", ").concat(u)}function pk(t,n,o){t._errorCode=Xi.LicenseExpired;var a="",u=o?"Dynamic Web TWAIN":"document scanning SDK";if(n&&n!=""&&(n.indexOf("on")==-1&&(a=" on "+GT(n)),t.__licenseInfo&&(t.__licenseInfo.ExpireDate=n)),Ji()){var d,l,c,p;d=V.DWT.lgdt(),t._bRemoteMode?l=(c=(p=t._dmService)===null||p===void 0||(p=p.attrs)===null||p===void 0?void 0:p.UUID)!==null&&c!==void 0?c:"":l="",t._errorString="The "+u+" license expired"+a+". Please contact the website developer for further assistance.",V.DWT.lcexp(d,l).then(function(){t._errorString=V.DWT.licenseException.message})}else t._errorString="The "+u+" product key expired"+a+". Please contact the website developer for further assistance.",vn(t)}function $p(t,n){Ji()?n==111?(t._errorCode=Xi.LicenseExpiredForDLS,t._errorString="The license for v"+na+" Service Core Module has expired."):(t._errorCode=Xi.LicenseNoCoreForDLS,t._errorString="The license for v"+na+" Service Core Module is not found."):(t._errorCode=Xi.LicenseNoCore,t._errorString="The product key for the current operating system is missing the Service Core license. "+vi()),vn(t)}function kf(t){t._errorCode=-2339,Ji()?t._errorString="The license for the module pdf rasterizer is not found or has expired.":t._errorString="The current product key does not support pdf rasterizer. "+vi(),vn(t)}function mk(t){Me(t,-2350,"The indices cannot be empty.")}function Nf(t){Me(t,-2351,"You cannot upload more than one image when the format is BMP, JPG or PNG")}function HT(t){Me(t,-2352,"The indices are out of range.")}function WY(t){Me(t,-2353,"The header name being used is a protected keyword and is not allowed.")}function fd(t){Me(t,-2358,"The type of the parameter indices must be an Array.")}function tt(t){Me(t,-2359,"The index is out of range.")}function zT(t){Me(t,-2360,"The index is null or undefined.")}function vo(t){Me(t,-2362,"The image type is not supported.")}function gk(t){Me(t,-2363,"The data format is not supported.")}function em(t){Me(t,-2365,"The url is invalid.")}function jY(t){Me(t,-2366,"Converting images to a base64 string failed.")}function KT(t){Me(t,-2376,"The generate url failed.")}function yy(t){Me(t,-2377,"Failed to set Image Capture Driver Type.")}function vk(t){Me(t,-2391,"Invalid event name.")}function yk(t){Me(t,-2393,"Failed to convert the data to blob.")}function _k(t){Me(t,-2399,"Invalid imageId.")}function BY(t,n){Me(t,-2401,"Failed to load image: "+function(o){return m.isString(o)?o:("errorMessage"in o&&(a=o.errorMessage),"message"in o&&(a=o.message),m.isString(a)||(a="message"in a?a.message:""),"errorCode"in o&&a.indexOf("(")==-1&&(a+="("+o.errorCode+")"),"code"in o&&a.indexOf("(")==-1&&(a+="("+o.code+")"),a);var a}(n))}function fr(t){Me(t,-2416,"Invalid parameter.")}function UY(t){Me(t,-2426,"You have used a full license with a trial license which is not permitted. Please check and update Dynamsoft.DWT.ProductKey.")}function Sk(t){Me(t,-2510,"The callback is not a function.")}function bk(t){Me(t,-2513,"The WebTwain instance has been destroyed and can not be used anymore.")}function QT(t){Me(t,-2530,"Document name cannot be empty.")}function tm(t){Me(t,-2531,"Document name is not a string.")}function _y(t){Me(t,-2548,"You cannot call this function when Dynamsoft.DWT.UseDefaultViewer is set to false.")}function YT(t){Me(t,-2549,"You cannot call this function when there is no ui binding.")}function Qn(t){Me(t,0,"")}function Tk(t){var n=t;return n||(n="[]"),{code:-2601,message:"Failed to connect to the Dynamic Web TWAIN Service on "+n+". Please make sure Dynamic Web TWAIN Service is running or the certificate is valid."}}function VY(){return{code:-2602,message:'The parameter "SendTo" is invalid.'}}function Ck(){return{code:-2604,message:"Failed to connect to the Proxy Service. Please make sure the Proxy Service is configured successfully, Dynamic Web TWAIN Service is running, or the certificate is valid."}}function wk(t){var n;return t._bRemoteMode?Tk((n=t._dmService)===null||n===void 0||(n=n.attrs)===null||n===void 0?void 0:n.name).message:"The Dynamic Web TWAIN Service has been stopped."}function Ik(t){Me(t,-2607,"The device selected was not found under the current service object.")}function qT(t){Me(t,-2608,"IfShowFileDialog cannot be set to true when Object is created by CreateRemoteScanObjectAsync.")}function GY(){return{code:-2612,message:"The devices must be an Array."}}function hd(t,n){m.isString(n)&&n!=""?Me(t,$t.RemoteDynamsoftServiceStopped,"The Dynamic Web TWAIN Service on ["+n+"] has been stopped."):Me(t,-2308,"The Dynamic Web TWAIN Service has been stopped.")}function HY(t){Me(t,-2614,"The Dynamic Web TWAIN Service has been restarted.")}function Ea(t){Me(t,-2615,"User cancelled the operation.")}function Ek(t){Me(t,-2616,"Invalid image format type.")}function zY(t){Me(t,-2617,"ShareImages is only supported on Android devices.")}function KY(t){Me(t,-2618,"Only single index selection is allowed when enumImageType is set to BMP, JPG or PNG.")}function QY(t){Me(t,-2619,"Only single index selection is allowed when enumImageFormatType is set to url.")}function ia(t){Me(t,-2620,"The RemoteScan object has been disposed.")}function xk(t){Me(t,-2621,"Dynamsoft.DWT.Containers was not set.")}function Ak(t){Me(t,-2622,'Please do not set enumImageType to "IT_MULTIPAGE_PDF", "IT_MULTIPAGE_TIF" or "IT_ALL".')}function YY(t){Me(t,-2623,"Saving multiple images is not allowable when the selected output format is BMP, JPG or PNG.")}function qY(t){Me(t,-2624,"The element within Dynamsoft.DWT.Containers should be a valid object.")}function Of(t){Me(t,-2800,wY)}function ko(t){Me(t,$t.ResponseDataTypeError,"Invalid response data was returned from the Dynamic Web TWAIN Service.")}function JY(){return{code:-2806,message:'Error: The argument passed to the parameter "conatinerId" is not a string.'}}function Dk(t){return{code:-2807,message:'Error: The element specified by the id "'+t+`" doesn't exist.`}}function XY(t,n){Me(t,-2811,n)}function Pk(t){Me(t,-2812,EY)}function Rk(t){Me(t,-2815,IY)}function kk(t,n,o){Me(t,-2816,["HTTP process error: ",o," (",n,")."].join(""))}function Nk(){return{code:$t.HTSTError,message:"The Connection from the insecure (HTTP) web page failed for HTST."}}function ZY(){return{code:$t.SSLCertExpired,message:"The Dynamic Web TWAIN Service SSL certificate has expired."}}function $Y(){return{code:$t.SSLCertInvalid,message:"The Dynamic Web TWAIN Service SSL certificate is invalid."}}function eq(){return{code:$t.CORSError,message:'The Connection from the insecure (HTTP) web page to the local "Dynamic Web TWAIN Service" failed!'}}function JT(){return{code:$t.DWTPortNotReady,message:"The Dynamic Web TWAIN Service is not ready, please try again later."}}function Ff(){return{code:-2825,message:"Failed to setup the Default Dynamic Web TWAIN Service."}}function tq(t){return{code:-2826,message:"Failed to connect the Dynamic Web TWAIN Service on ["+t+"]."}}function rq(){return{code:-2827,message:"Failed to get Machine ID."}}function XT(t){Me(t,-2828,"Invalid PDF Convert Mode Value.")}function nq(t){Me(t,-2844,"Only Blob of JPEG, PNG, BMP, TIFF and PDF image types can be saved.")}function iq(t){Me(t,-2848,"The capability value is out of range.")}function oq(t){Me(t,-2853,"The imageId cannot be empty.")}function Ok(t){Me(t,-2854,"The imageId does not exist.")}function aq(t){Me(t,-2855,"The blob cannot be empty.")}function sq(t){Me(t,-2857,"Invalid blob value.")}function Sy(t){Me(t,-2901,"Source document does not exist. Please check the document name or create the document before performing this operation.")}function by(t){Me(t,-2902,"Target document does not exist. Please check the document name or create the document before performing this operation.")}function ZT(t){Me(t,-2906,"After initialization, the product key cannot be changed.")}function uq(t){Me(t,-2909,"Local network access is blocked.")}var Fk=he.bIE&&he.IEVersion<=9;VT=self&&self.fetch?self.fetch:window.fetch;var Ty=0;function $T(t,n){var o,a=!1;return Ty=n,VT?o=function(u,d){var l=!1,c="text",p=!1;if(d&&(d.dataType&&(c=d.dataType),d.fetchRaw&&(p=!0),d.timeout)){var g=d.timeout;g<300&&(g=300);var S=new AbortController;d.signal=S.signal,setTimeout(function(){l||S.abort("timeout")},g)}a=!1;var v=VT(u,d).then(function(b){if(b.ok){var T,D;if(l=!0,!t)return b;if(t.__clickCancel)return t.__clickCancel=!1,t.__cancelBeforObjectCreated=!1,a=!0,b;t.IfShowCancelDialogWhenImageTransfer?(Wu(!0),D=t.on("cancel",function(){a=!0})):Wu(!1);var M=b.headers.get("Content-Length"),W=0;t._onPercent&&Ty==n&&t._onPercent({loaded:W,total:M});var Y=b==null||(T=b.body)===null||T===void 0?void 0:T.getReader(),ee=new ReadableStream({start:function(Z){var ne=function(){return Y.read().then(function(X){if(X.done||a)return a?Y.cancel():D&&t.off("cancel",D),Z.close(),void(D=null);var F=X.value;W+=F.length,t._onPercent&&Ty==n&&t._onPercent({loaded:W,total:M});try{return Z.enqueue(F),ne()}catch(B){m.error(B)}})};Y?setTimeout(ne,0):Z.close()}}),te=b.headers.get("Content-Type");return te&&te!=""||(te="application/octet-stream"),new Response(ee,{headers:{"Content-Type":te}})}if(b.type=="opaqueredirect")throw{code:$t.HTTPRedirected,message:"The http url redirected."};var de;throw kk(de={},b.status,b.statusText),{code:de._errorCode,message:de._errorString,httpCode:b.status}});return p?v:(v=c=="blob"?v.then(function(b){var T=b.headers.get("content-type");return cd(T)?b.json():he.bLinux?b.arrayBuffer().then(function(D){return new Blob([D],{type:T})}):b.blob()}):c=="json"?v.then(function(b){return b.json()}):c=="arraybuffer"?v.then(function(b){return cd(b.headers.get("content-type"))?b.json():b.arrayBuffer()}):v.then(function(b){return b.text()})).then(function(b){var T;if(a)throw Ea(T={}),{code:T._errorCode,message:T._errorString};return b})}:(Fk&&m.addVBS([`Function dsVbsBinGetAt(strBinary,iOffset)\r
`,` dsVbsBinGetAt=AscB(MidB(strBinary,iOffset+1,1))\r
`,`End Function\r
`,`Function dsVbsBinGetBytes(strBinary,iOffset,iLength)\r
`,` Dim aBytes()\r
`,` ReDim aBytes(iLength-1)\r
`,` For i=0 To iLength-1\r
`,`  aBytes(i)=dsVbsBinGetAt(strBinary,iOffset+i)\r
`,` Next\r
`,` dsVbsBinGetBytes=aBytes\r
`,`End Function\r
`,`Function dsVbsBinGetLength(strBinary)\r
`,` dsVbsBinGetLength=LenB(strBinary)\r
`,"End Function"].join("")),o=function(u,d){return new(Q.nativePromise||window.Promise)(function(l,c){var p,g=!1;p={url:u,async:!0,onSuccess:function(v,b,T){var D=!1;if(T.responseHeadersString&&uk(T.responseHeadersString)&&(m.isArray(v)||v instanceof ArrayBuffer)&&(D=!0),D){var M=v;v instanceof ArrayBuffer&&(M=new Uint8Array(v));var W=String.fromCharCode.apply(null,M);l(W)}else l(v)},onError:function(v,b,T){var D;kk(D={},T.status,b),c({code:D._errorCode,message:D._errorString,httpCode:T.status})},dataType:"text",method:Zp,data:Zp,headers:Zp,contentType:Zp,mimeType:Zp},d&&(d.method&&(p.method=d.method),d.body&&(p.data=d.body),d.headers&&(p.headers||(p.headers={}),m.each(d.headers,function(v,b){b.toLowerCase()=="content-type"&&(g=!0),p.headers[b]=v})),d.dataType&&(p.dataType=d.dataType),d.contentType&&(p.contentType=d.contentType),m.isNumber(d.timeout)&&d.timeout>0&&(p.timeout=d.timeout)),g&&(p.contentType=!1),p.dataType=="blob"&&Fk&&(p.mimeType="text/plain; charset=x-user-defined"),t&&(t._onPercent&&(p.beforeSend=function(v,b,T){v.upload.addEventListener("progress",function(D){t._onPercent&&Ty==n&&t._onPercent(D)},!1)}),t.IfShowCancelDialogWhenImageTransfer?Wu(!0):Wu(!1));var S=wa(p);t&&t.IfShowCancelDialogWhenImageTransfer&&t.on("cancel",function(){S.abort()})})}),o}var Mf=$T(null,0);function Wu(t){var n=m.sizzle(".dynamsoft-btnCancel");if(n.length>0){var o=n[0];o.style.display=t?"":"none"}}String.prototype.startsWith||(String.prototype.startsWith=function(t){return this.indexOf(t)==0});var Mk=function(t){var n,o=t,a=o._license||"",u=JSON.parse(JSON.stringify(o._licenseServer)),d=o._sessionPassword,l=0;if(a.startsWith("t")||a.startsWith("f"))l=0;else if(a.length===0||a.startsWith("P")||a.startsWith("L")||a.startsWith("Y")||a.startsWith("A"))l=1;else{l=2;var c=a.indexOf(":");if(c!=-1&&(a=a.substring(c+1)),a.startsWith("DLS2")){var p;try{var g=a.substring(4);g=q.Lib.atob(g),p=JSON.parse(g)}catch{throw new Error("Format Error: The license string you specified is invalid, please check to make sure it is correct.")}if(typeof(a=p.handshakeCode?p.handshakeCode:p.organizationID?p.organizationID:"")=="number"&&(a=JSON.stringify(a)),u.length===0){var S=[];p.mainServerURL&&(S[0]=p.mainServerURL),p.standbyServerURL&&(S[1]=p.standbyServerURL),u=function(v){if(v==null)v=[];else{v instanceof Array||(v=[v]);for(var b=0;b<v.length;++b){if(document&&document.createElement){var T=document.createElement("a");T.href=v[b],v[b]=T.href}v[b].lastIndexOf("/")!=v[b].length-1&&(v[b]+="/")}}return v}(S)}!d&&p.sessionPassword&&(d=p.sessionPassword),n=p.remark}a&&a!=="200001"&&!a.startsWith("200001-")||(l=1)}return l===1&&(a=""),{lt:l,l:a,ls:u,sp:d,rmk:n}},pd=_(function t(n,o,a,u,d){h(this,t),this.server=n,this.port=o,this.ssl=a,this.useWS=u,this.protocol=d});function Lk(t,n){return(t==null?void 0:t.port)==(n==null?void 0:n.port)&&(t==null?void 0:t.protocol)==(n==null?void 0:n.protocol)&&(t==null?void 0:t.server)==(n==null?void 0:n.server)&&(t==null?void 0:t.ssl)==(n==null?void 0:n.ssl)&&(t==null?void 0:t.useWS)==(n==null?void 0:n.useWS)}var Is=function(t){return t.OK=0,t.Custom=-1,t.NWB=-4200,t.WS_DISCONN=-4201,t.CB=-5e3,t.JSON_REQUIRED=-5001,t.OBJECT_DISPOSED=-5002,t.INVALID_TASK=-5003,t.OBJECT_DISPOSING=-5004,t}({}),rm=function(t){return t.WS_DISCONN="The Web Socket connection failed.",t.JSON_REQUIRED="The input is not a JSON object or JSON styled string.",t.OBJECT_DISPOSED="The object has been disposed.",t.INVALID_TASK="The task is invalid.",t.OBJECT_DISPOSING="The object need to be disposed.",t}({}),eC=function(){return _(function t(){h(this,t)},null,[{key:"message",value:function(t){return this._errorMessage[t]}},{key:"init",value:function(){this._errorMessage[Is.OK]="Successful.",this._errorMessage[Is.WS_DISCONN]=rm.WS_DISCONN,this._errorMessage[Is.JSON_REQUIRED]=rm.JSON_REQUIRED,this._errorMessage[Is.OBJECT_DISPOSED]=rm.OBJECT_DISPOSED,this._errorMessage[Is.INVALID_TASK]=rm.INVALID_TASK,this._errorMessage[Is.OBJECT_DISPOSING]=rm.OBJECT_DISPOSING}}])}();w(eC,"_errorMessage",Object.create(null)),eC.init();var xa=function(){return _(function t(n,o){h(this,t),w(this,"_code",Is.OK),this.name="DSError",this.message=o??(typeof n=="string"?n:eC.message(n)),this._code=typeof n=="string"?Is.Custom:n},[{key:"code",get:function(){return this._code}}])}();function Rr(t){return{code:t._errorCode,message:t._errorString}}function oa(t){return"exception"in t&&"description"in t&&t.exception!=0&&t.description!=""}function yo(t){return t&&"cause"in t?t.cause:null}function Wk(t){return t==-1416}var yn=function(t){return t.GET_TASKID=0,t.GET_EVENT_TASKID=1,t.ONMESSAGE_PROCESS_DATA=2,t.ONMESSAGE_GET_TASKID=3,t.ONMESSAGE_GET_EVENT_TASKID=4,t.HANDLE_RAW_MESSAGE=5,t.HANDLE_PROCESSED_MESSAGE=6,t}({}),jk=function(){return _(function a(u){h(this,a),w(this,"_serverInfo",void 0),w(this,"_disposed",!1),this._serverInfo=u,this._ref=1},[{key:"serverInfo",get:function(){return this._serverInfo}},{key:"requestSync",value:function(a,u){return dy.error("requestSync should be implemented in child class"),void 0}},{key:"request",value:function(a,u,d,l){return dy.error("request should be implemented in child class"),Promise.resolve(null)}},{key:"send",value:(o=s(E().mark(function a(u,d,l){return E().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:dy.error("reqsenduestSync should be implemented in child class");case 1:case"end":return c.stop()}},a)})),function(a,u,d){return o.apply(this,arguments)})},{key:"testConnection",value:function(a,u,d,l){return dy.error("testConnection should be implemented in child class"),Promise.resolve(null)}},{key:"disposed",get:function(){return this._disposed}},{key:"dispose",value:(n=s(E().mark(function a(){return E().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(this._ref--,!(this._ref>0)){u.next=3;break}return u.abrupt("return",!1);case 3:return this._disposed=!0,u.next=6,this._terminate();case 6:case"end":return u.stop()}},a,this)})),function(){return n.apply(this,arguments)})},{key:"_terminate",value:(t=s(E().mark(function a(){return E().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:case"end":return u.stop()}},a)})),function(){return t.apply(this,arguments)})},{key:"addRef",value:function(){this._ref++}}]);var t,n,o}();function lq(t,n){(function(o,a){if(a.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,n),n.add(t)}function tC(t,n,o){if(typeof t=="function"?t===n:t.has(n))return arguments.length<3?n:o;throw new TypeError("Private element is not present on this object")}var Cy,Bk=m.getLogger(),wy=new WeakSet,cq=function(t){function n(){var a;h(this,n);for(var u=arguments.length,d=new Array(u),l=0;l<u;l++)d[l]=arguments[l];return lq(a=f(this,n,[].concat(d)),wy),a}return P(n,t),_(n,[{key:"send",value:(o=s(E().mark(function a(u,d,l){return E().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:Bk.error("HTTP Client send not supported");case 1:case"end":return c.stop()}},a)})),function(a,u,d){return o.apply(this,arguments)})},{key:"requestSync",value:function(a,u,d){}},{key:"request",value:function(a,u,d,l){return tC(wy,this,Uk).call(this,a,u,d,void 0,void 0,l)}},{key:"testConnection",value:function(a,u,d,l){return tC(wy,this,Uk).call(this,void 0,void 0,a,u,d,l)}}]);var o}(jk);function dq(t){var n=this.serverInfo,o="";return o=n.ssl?"https://":"http://",o+=n.server,n.port&&(o+=":",o+=n.port),t&&(m.startsWith(t,"/")||m.endsWith(o,"/")||(o+="/"),m.endsWith(t,"/")?o+=t.slice(0,-1):o+=t),o}function Uk(t,n,o,a,u,d){return rC.apply(this,arguments)}function rC(){return rC=s(E().mark(function t(n,o,a,u,d,l){var c,p;return E().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.prev=0,c=a??{},n&&(c.body=n),c.method||(c.method="POST"),l&&(c.timeout=l),p=tC(wy,this,dq).call(this,o),Bk.debug("HTTP URL: "+p),g.next=9,Mf(p,c);case 9:return g.abrupt("return",g.sent);case 12:if(g.prev=12,g.t0=g.catch(0),!(g.t0 instanceof xa||g.t0&&g.t0.code&&g.t0.message)){g.next=18;break}throw g.t0;case 18:if(!g.t0.message){g.next=20;break}throw new xa(g.t0.message);case 20:case"end":return g.stop()}},t,this,[[0,12]])})),rC.apply(this,arguments)}function fq(t){try{return N(t)==="object"?t:(t=typeof t!="string"?m.stringify(t):t,m.parse(t))}catch(n){throw n instanceof xa?n:new xa(Is.JSON_REQUIRED)}}function nm(t){return Math.random().toString(16).substring(2,2+t)}function hq(t){var n=[nm(8),"-",nm(4),"-",nm(4),"-",nm(4),"-",nm(8)];return n.join("")}function pq(t,n){(function(o,a){if(a.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,n),n.add(t)}function im(t,n,o){return(n=function(a){var u=function(d,l){if(N(d)!="object"||!d)return d;var c=d[Symbol.toPrimitive];if(c!==void 0){var p=c.call(d,l||"default");if(N(p)!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(d)}(a,"string");return N(u)=="symbol"?u:u+""}(n))in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t}function au(t,n,o){if(typeof t=="function"?t===n:t.has(n))return arguments.length<3?n:o;throw new TypeError("Private element is not present on this object")}var Iy,Vk,ao=m.getLogger(),Es=new WeakSet,nC=function(t){function n(d){var l;return h(this,n),pq(l=f(this,n,[d]),Es),im(l,"_defaultRetries",1),im(l,"_ws",Iy),im(l,"_events",{}),im(l,"_bHeartBeatStarted",!1),im(l,"_heartBeatTicks",6e4),l._ws=Iy,l.bUseParentWS=!1,l._tasks=Object.create(null),l.bReady=!1,l._blob_callbacks=[],l._processing_blob=!1,l}return P(n,t),_(n,[{key:"ws",get:function(){return this._ws}},{key:"requestSync",value:function(d,l,c){return ao.error("WebSocket Client requestSync not supported"),void 0}},{key:"send",value:(u=s(E().mark(function d(l,c,p){var g,S,v,b;return E().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(g=p.client,T.prev=1,(S=p.taskId)!==void 0){T.next=7;break}return T.next=6,c(l,yn.GET_TASKID,g._requestTaskId,p);case 6:S=T.sent;case 7:if(v=g._tasks[S]){T.next=11;break}throw ao.error("invalid task id: "+S),new xa(Is.INVALID_TASK);case 11:return T.next=13,au(Es,g,aC).call(g,!1);case 13:return T.next=15,au(Es,g,Gk).call(g,l,c,p,v);case 15:ao.debug("begin to send data "+S),g.disposed||g._ws.send(l),l=null,ao.debug("end to send data "+S),T.next=27;break;case 21:T.prev=21,T.t0=T.catch(1),ao.debug("failed to send data."),ao.error(T.t0),delete g._tasks[S],(b=v)===null||b===void 0||(b=b.resolver)===null||b===void 0||b.reject(T.t0.message);case 27:case"end":return T.stop()}},d,null,[[1,21]])})),function(d,l,c){return u.apply(this,arguments)})},{key:"request",value:function(d,l,c,p){var g=this._defaultRetries,S=l??au(Es,this,yq),v=c??{client:this,userData:this};return au(Es,this,_q).call(this,d,S,v,g,!1,void 0,p)}},{key:"connected",get:function(){var d;return((d=this._ws)===null||d===void 0?void 0:d.readyState)==WebSocket.OPEN}},{key:"testConnection",value:function(d,l,c,p){return au(Es,this,aC).call(this,!0,l??0,c,p)}},{key:"_terminate",value:(a=s(E().mark(function d(){var l,c;return E().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:for(c in ao.debug("terminate WSClient"),this.fireEvent("disposed"),l=!1,this._tasks)this._tasks[c]!==void 0&&this._tasks[c].resolver&&(l=!0);if(this._lic_callback=Iy,this._blob_callbacks=[],this._processing_blob=!1,this._ws&&(this._ws.onopen=null,this._ws.onerror=null,this._ws.onmessage=null,this._ws.onclose=null,this._ws.close()),this._ws=Iy,this._tasks=Object.create(null),!l){p.next=12;break}throw new xa(Is.OBJECT_DISPOSING);case 12:case"end":return p.stop()}},d,this)})),function(){return a.apply(this,arguments)})},{key:"setRetry",value:function(d){this._defaultRetries=d??1}},{key:"addEvent",value:function(d,l,c){var p=this._events[d];p||(this._events[d]={},p=this._events[d]),m.isString(l)&&m.isFunction(c)&&(p[l]=c)}},{key:"removeEvent",value:function(d,l){var c=this._events[d];c&&m.isString(l)&&delete c[l]}},{key:"clearEvent",value:function(d){this._events[d]&&(this._events[d]={})}},{key:"fireEvent",value:function(d){var l,c=this._events[d];if(c){var p=Object.keys(c);for(l=0;l<p.length;l++)m.isFunction(c[p[l]])&&c[p[l]]()}}},{key:"getRequestTaskId",value:function(){return this._requestTaskId?this._requestTaskId:0}}],[{key:"_waitForPreBlob",value:(o=s(E().mark(function d(l){return E().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!l._processing_blob){c.next=3;break}return setTimeout(function(){n._waitForPreBlob(l)},500),c.abrupt("return");case 3:n._preBlobResolv&&n._preBlobResolv();case 4:case"end":return c.stop()}},d)})),function(d){return o.apply(this,arguments)})}]);var o,a,u}(jk);function mq(t){var n="";return n=t.ssl?"wss://":"ws://",n+=t.server,t.port&&(n+=":",n+=t.port),n}function gq(t,n,o,a){var u=this;return new Q.Promise(function(d,l){try{var c,p,g=l,S=d;if(a&&(p=setTimeout(function(){var D=new xa("createWebSocket timed out.");ao.debug(D.message),g&&(g(D),g=null,S=null),p&&clearTimeout(p),c&&c.close()},a)),t.bUseParentWS){var v=window,b=parent,T=v.WebSocket;try{for(;v!=b&&b&&b.WebSocket;)T=b.WebSocket,v=b.window,b=b.parent}catch{T=window.WebSocket}c=o?new T(n,o):new T(n)}else c=o?new WebSocket(n,o):new WebSocket(n);c.onopen=function(){p&&clearTimeout(p),t._ws=c,S&&(S(c),g=null,S=null)},c.onerror=function(D){c.close(),t.bReady=!1,p&&clearTimeout(p),u.fireEvent("error"),g&&(g(new xa("websocket error")),g=null,S=null)},c.onmessage=function(D){au(Es,t,vq).call(t,t,D.data)},c.onclose=function(D){t.bReady=!1,p&&clearTimeout(p),u.fireEvent("close"),g&&(D&&D.code==1006?g(new xa("websocket error")):g(D),g=null,S=null)}}catch(D){if(D instanceof xa||D&&D.code&&D.message)throw D;if(D.message)throw new xa(D.message)}})}function vq(t,n){return iC.apply(this,arguments)}function iC(){return iC=s(E().mark(function t(n,o){var a,u,d,l,c,p,g,S,v,b;return E().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(a=n,T.prev=1,l={client:a,userData:void 0},N(o)!=="object"){T.next=17;break}if(!(a._blob_callbacks.length>0)){T.next=17;break}if(!a._processing_blob){T.next=9;break}return T.next=8,new Q.Promise(function(D){Cy._preBlobResolv=D,Cy._waitForPreBlob(a)});case 8:Cy._preBlobResolv=null;case 9:return a._processing_blob=!0,c=a._blob_callbacks.shift(),T.next=13,c(o);case 13:return T.sent,a._processing_blob=!1,T.abrupt("return");case 17:if(!(a.bReady&&m.isString(o)&&(o.indexOf("Function not found")>0||o.indexOf("Version not found")>0))){T.next=19;break}return T.abrupt("return");case 19:if(a._cbToGetTaskId){T.next=21;break}return T.abrupt("return");case 21:return T.next=23,a._cbToGetTaskId(o,yn.ONMESSAGE_PROCESS_DATA,a._requestTaskId,l);case 23:return p=T.sent,g=!1,T.next=27,a._cbToGetTaskId(p,yn.ONMESSAGE_GET_TASKID,a._requestTaskId,l);case 27:if(d=T.sent){T.next=36;break}if(!p.Detail||!p.Domain){T.next=32;break}return a._lic_callback&&a._lic_callback(p),T.abrupt("return");case 32:return T.next=34,a._cbToGetTaskId(p,yn.ONMESSAGE_GET_EVENT_TASKID,a._requestTaskId,l);case 34:(d=T.sent)&&(g=!0);case 36:if(u=a._tasks[d]){T.next=46;break}if(!g){T.next=42;break}u={},T.next=44;break;case 42:return d!=""&&ao.log("invalid task id: "+d),T.abrupt("return");case 44:T.next=48;break;case 46:if(!u.timedout){T.next=48;break}return T.abrupt("return");case 48:return v=u.cb?u.cb:a._cbToGetTaskId,T.next=51,v({rawData:o,jsonData:p},yn.HANDLE_RAW_MESSAGE,a._requestTaskId,u.ctx);case 51:if((S=T.sent)!==void 0){T.next=56;break}return T.next=55,v(p,yn.HANDLE_PROCESSED_MESSAGE,a._requestTaskId,u.ctx);case 55:S=T.sent;case 56:S&&!g&&(u.tmid&&clearTimeout(u.tmid),delete a._tasks[d],u.resolver&&u.resolver.resolve(S)),T.next=65;break;case 59:T.prev=59,T.t0=T.catch(1),ao.debug("failed to handle message."),T.t0 instanceof Error?ao.error(T.t0):ao.error(m.stringify(T.t0)),delete a._tasks[d],(b=u)===null||b===void 0||(b=b.resolver)===null||b===void 0||b.reject(T.t0.message);case 65:case"end":return T.stop()}},t,null,[[1,59]])})),iC.apply(this,arguments)}function yq(t,n,o){return oC.apply(this,arguments)}function oC(){return oC=s(E().mark(function t(n,o,a){var u,d;return E().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:l.t0=o,l.next=l.t0===yn.GET_TASKID?3:l.t0===yn.HANDLE_RAW_MESSAGE?7:9;break;case 3:return(d=fq(n)).cmdId=(u=d.cmdId)!==null&&u!==void 0?u:hq(),Q.Promise.resolve(["cmdId"]),l.abrupt("break",9);case 7:return Q.Promise.resolve(n),l.abrupt("break",9);case 9:case"end":return l.stop()}},t)})),oC.apply(this,arguments)}function aC(t,n,o,a){return sC.apply(this,arguments)}function sC(){return sC=s(E().mark(function t(n,o,a,u){var d,l;return E().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!this.connected&&!this.disposed){c.next=2;break}return c.abrupt("return");case 2:if(!(d=this)._connectPromise){c.next=7;break}return c.next=6,d._connectPromise;case 6:return c.abrupt("return");case 7:return o=o??this._defaultRetries,a=a??100,l=au(Es,d,mq).call(d,d.serverInfo),ao.debug("WebSocket URL: "+l+", try to create websocket "+o+"/"+a),d._connectPromise=new Q.Promise(function(p,g){var S=function(b){au(Es,d,gq).call(d,d,l,d.serverInfo.protocol,u).then(function(T){p(T)}).catch(function(T){ao.debug("create websocket failed: "+T.message),b<o?v(b):g(T)})};function v(b,T,D){setTimeout(function(){S(++b)},a)}S(0)}),c.prev=12,c.next=15,d._connectPromise;case 15:c.next=20;break;case 17:throw c.prev=17,c.t0=c.catch(12),c.t0;case 20:return c.prev=20,d._connectPromise=null,c.finish(20);case 23:case"end":return c.stop()}},t,this,[[12,17,20,23]])})),sC.apply(this,arguments)}function Gk(t,n,o,a){return uC.apply(this,arguments)}function uC(){return uC=s(E().mark(function t(n,o,a,u){var d,l,c,p;return E().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(d=this,l=a.eventTaskId,c=a.lastEventTaskId,l!==void 0){g.next=7;break}return g.next=6,o(n,yn.GET_EVENT_TASKID,d._requestTaskId,a);case 6:l=g.sent;case 7:l&&(d._tasks[l]?a&&a.userData&&a.userData.command&&((p=d._tasks[l]).ctx=a,c&&((p=d._tasks[c]).ctx=a)):(p={id:u.id,resolver:null,ctx:a,timedout:!1},d._tasks[l]=p,c&&(d._tasks[c]=p)));case 8:case"end":return g.stop()}},t,this)})),uC.apply(this,arguments)}function _q(t,n,o,a,u,d,l){return lC.apply(this,arguments)}function lC(){return lC=s(E().mark(function t(n,o,a,u,d,l,c){var p,g,S,v;return E().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return p=this,b.prev=1,a.client=p,b.next=5,au(Es,p,aC).call(p,d,u,l,c);case 5:if((g=a.taskId)!="0"){b.next=12;break}return p.disposed||p._ws.send(n),n=null,b.abrupt("return");case 12:if(g!==void 0){b.next=16;break}return b.next=15,o(n,yn.GET_TASKID,null,a);case 15:g=b.sent;case 16:return g===void 0&&ao.debug("websocket send: task id is invalid."),(S={}).promise=new Q.Promise(function(T,D){S.resolve=T,S.reject=D}),v={id:g,resolver:S,ctx:a,timedout:!1,cb:o},p._tasks[g]=v,p._requestTaskId=g,b.next=24,au(Es,p,Gk).call(p,n,o,a,v);case 24:return p._cbToGetTaskId=o,c&&(v.tmid=setTimeout(function(){ao.debug("ws request time out."),v.timedout=!0,v.resolver.reject("request timed out.")},c)),p.disposed||p._ws.send(n),ao.debug("end to send task "+g),n=null,b.abrupt("return",S.promise);case 32:if(b.prev=32,b.t0=b.catch(1),g&&delete p._tasks[g],!(b.t0 instanceof xa||b.t0&&b.t0.code&&b.t0.message)){b.next=39;break}throw b.t0;case 39:if(!b.t0.message){b.next=41;break}throw new xa(b.t0.message);case 41:return b.prev=41,n=null,b.finish(41);case 44:case"end":return b.stop()}},t,this,[[1,32,41,44]])})),lC.apply(this,arguments)}function Sq(t,n){(function(o,a){if(a.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,n),n.add(t)}function cC(t,n,o){return(n=function(a){var u=function(d,l){if(N(d)!="object"||!d)return d;var c=d[Symbol.toPrimitive];if(c!==void 0){var p=c.call(d,l||"default");if(N(p)!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(d)}(a,"string");return N(u)=="symbol"?u:u+""}(n))in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t}function Hk(t,n,o){if(typeof t=="function"?t===n:t.has(n))return arguments.length<3?n:o;throw new TypeError("Private element is not present on this object")}Cy=nC;var dC=new WeakSet,su=function(){function t(){h(this,t),Sq(this,dC),cC(this,"_maxWebSocketCon",10),cC(this,"_wsClients",[])}return _(t,[{key:"removeTerminatedWSClient",value:function(){this._wsClients=this._wsClients.filter(function(o){return!o.disposed})}},{key:"getClient",value:function(o,a){return o.useWS?Hk(dC,this,Tq).call(this,o,a):new cq(o)}},{key:"closeClient",value:(n=s(E().mark(function o(a){var u,d,l,c;return E().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:u=this._wsClients,d=C(u),p.prev=2,d.s();case 4:if((l=d.n()).done){p.next=12;break}if(!Lk((c=l.value).serverInfo,a)){p.next=10;break}if(c.disposed){p.next=10;break}return p.next=10,c.dispose();case 10:p.next=4;break;case 12:p.next=17;break;case 14:p.prev=14,p.t0=p.catch(2),d.e(p.t0);case 17:return p.prev=17,d.f(),p.finish(17);case 20:this.removeTerminatedWSClient();case 21:case"end":return p.stop()}},o,this,[[2,14,17,20]])})),function(o){return n.apply(this,arguments)})},{key:"terminate",value:function(){var o=this._wsClients.slice();this._wsClients=[],o.forEach(function(a){try{a.dispose()}catch{}})}}],[{key:"Instance",get:function(){return this._gClientPool||(this._gClientPool=new t),this._gClientPool}}]);var n}();function bq(t){this.removeTerminatedWSClient();var n,o=C(this._wsClients);try{for(o.s();!(n=o.n()).done;){var a=n.value;if(Lk(a.serverInfo,t)&&!a.disposed)return a.addRef(),a}}catch(u){o.e(u)}finally{o.f()}return null}function Tq(t,n){var o;return n||(o=Hk(dC,this,bq).call(this,t)),o||(this._wsClients.length<this._maxWebSocketCon?((o=new nC(t)).addEvent("disposed","1",function(){Vk.Instance.removeTerminatedWSClient()}),this._wsClients.push(o),o):null)}Vk=su,cC(su,"_gClientPool",null);var ju=function(){function t(){h(this,t)}return _(t,null,[{key:"getHttpClientForDcp",value:function(n,o){var a,u=V.dcp,d=wn();if(o||!d?(a=u.Port,d=!1):(a=u.SSLPort,d=!0),m.isString(n)){var l=new pd;return m.startsWith(n,"https://")?(l.ssl=!0,l.server=n.substring(8)):m.startsWith(n,"http://")?(l.ssl=!1,l.server=n.substring(7)):(l.ssl=wn(),l.server=n),su.Instance.getClient(l)}return t.getHttpClient(null,a,d)}},{key:"getHttpClient",value:function(n,o,a){var u=a?"https":"http",d=new pd(n||qi(),o,a,!1,u);return su.Instance.getClient(d)}},{key:"getWsClient",value:function(n,o,a,u){var d=new pd(n||qi(),o,a,!0,Xt.wsProtocol);return su.Instance.getClient(d,u)}},{key:"closeWsClient",value:function(n,o,a){var u=new pd(n||qi(),o,a,!0,Xt.wsProtocol);return su.Instance.closeClient(u)}}])}();Q.ClientPool=su;var Cq=parseInt(na),wq=parseInt(Kp),Iq=parseInt(Qp),zk="ddm/",Bu="ddm_"+[Cq,wq,Iq,Pl].join("");function Kk(){return zk+Bu}function Eq(t){return Qk.apply(this,arguments)}function Qk(){return(Qk=s(E().mark(function t(n){var o,a,u,d;return E().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return o=Pf(),a=[Kk(),"/VersionInfo?","ts=",m.now()].join(""),u=['{"id":"',m.guid(),'","method":"VersionInfo"}'].join(""),d=ju.getHttpClientForDcp(n),l.abrupt("return",d.request(u,a,{dataType:"json"},o));case 4:case"end":return l.stop()}},t)}))).apply(this,arguments)}function In(t){m.log(t)}var Ht=function(t){return t.enumUnknown=-1,t.enumWindow=0,t.enumMac=1,t.enumLinux=2,t.enumEmbed=3,t.enumChromeOS=4,t.enumHarmonyOS=5,t.enumAndroid=6,t.enumiOS=7,t}({}),om=function(t){return gy(t)},Yk=function(){return gy(".deb")},qk=function(){return gy(".rpm")},Jk=function(){return he.bAndroid?Ht.enumAndroid:he.bMac?Ht.enumMac:he.bChromeOS?Ht.enumChromeOS:he.bHarmonyOS?Ht.enumHarmonyOS:V.navInfo.bEmbed?Ht.enumEmbed:he.bLinux?Ht.enumLinux:he.biPhone||he.biPad?Ht.enumiOS:Ht.enumWindow},Xk="Getting the WebTwain port...",Zk="The WebTwain version not compatible.",$k="Decoding the license...",eN="Checking the license...",zr=function(t){return t.CM_RENDERALL=1,t.CM_IMAGEONLY=2,t.CM_AUTO=3,t.CM_RENDERALLWITHANNOTATION=4,t}({});function xq(t,n){(function(o,a){if(a.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,n),n.add(t)}function Aq(t,n,o){return(n=function(a){var u=function(d,l){if(N(d)!="object"||!d)return d;var c=d[Symbol.toPrimitive];if(c!==void 0){var p=c.call(d,l||"default");if(N(p)!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(d)}(a,"string");return N(u)=="symbol"?u:u+""}(n))in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t}function aa(t,n,o){if(typeof t=="function"?t===n:t.has(n))return arguments.length<3?n:o;throw new TypeError("Private element is not present on this object")}var tN=na+".",Dq=parseInt(na),Pq=0,Rq=1,kq=2,Nq=3,Oq=4,Fq=7,Mq=8,Lq=9,Wq=10,jq=50,Bq=51,Uq=52;function Lf(t){return m.isString(t)?m.trim(t):t}var No=new WeakSet,Vq=function(){return _(function n(){h(this,n),xq(this,No),Aq(this,"isLTS",Ji)},[{key:"isLongKey",value:function(n){if(m.isString(n)&&n.length>0){var o=n.charAt(0);if(o=="f"||o=="t")return!0;if(m.startsWith(n,"DLS")||m.isNumber(n))return!1;var a=parseInt(n)+"-";return!m.startsWith(n,a)}return!1}},{key:"isLicenseMixed",value:function(n,o){var a,u=!1,d=n||V.DWT.ProductKey;if(V.DWT.lclex(),o&&(Lf(V.DWT.organizationID)||Lf(V.DWT.handshakeCode))&&d&&(u=!0,Me(a={},-2444,"A license can only be specified once and has already been set using the ProductKey API.")),!u&&m.isString(d)&&(d=m.trim(d),!(m.startsWith(d,"f")||m.startsWith(d,"t")))){if(d!="")if(m.startsWith(d,"DLS2"))try{aa(No,this,Gq).call(this,d)}catch(c){u=!0,Me(a={},-2440,""),a._errorString=c.message}else aa(No,this,rN).call(this,d).LTS||(u=!0,function(c){Me(c,Xi.LicenseParseFailed,"The license is invalid.")}(a={}))}if(u&&a){vn(a);var l=V.DWT.licenseException;m.error(l.message)}return u}},{key:"getLicenseFromDynamsoftCore",value:function(){var n,o,a=null;if(e.mapPackageRegister&&e.mapPackageRegister.license)a=(o=e.mapPackageRegister.license.LicenseManager)===null||o===void 0?void 0:o.license;else if((n=window)!==null&&n!==void 0&&(n=n.Dynamsoft)!==null&&n!==void 0&&(n=n.Core)!==null&&n!==void 0&&(n=n.mapPackageRegister)!==null&&n!==void 0&&n.license){var u;a=(u=window.Dynamsoft.Core.mapPackageRegister.license.LicenseManager)===null||u===void 0?void 0:u.license}if(a!==null){if(a==="")return"";if(m.isString(a))return a=m.trim(a)}return null}},{key:"_initAR",value:function(n){var o,a;n&&(n.pk||(o=n.ar,a=n.u,o&&a&&(ke.bUseDynamsoftLicenseManager=!0,V.DWT.lsdt(V.DWT.EnumInstance.dwt_browser),V.DWT.lsmid(a,""),V.DWT.lsar(o,""))))}},{key:"preParseProductKey",value:(t=s(E().mark(function n(o){var a,u,d,l;return E().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(a=null,u=!1,a=this.getLicenseFromDynamsoftCore(),!m.isString(a)){c.next=32;break}if(a===""||!this.isLongKey(a)){c.next=8;break}return this.isLicenseMixed(a,!1)||(this._innerResetLicense(),ke.bPublicLTS=!1,ke.refProductKey=a),c.abrupt("return");case 8:if(!e.mapPackageRegister||!e.mapPackageRegister.license){c.next=14;break}return c.next=11,e.mapPackageRegister.license.getAR();case 11:l=c.sent,c.next=18;break;case 14:if((d=window)===null||d===void 0||(d=d.Dynamsoft)===null||d===void 0||(d=d.Core)===null||d===void 0||(d=d.mapPackageRegister)===null||d===void 0||!d.license){c.next=18;break}return c.next=17,window.Dynamsoft.Core.mapPackageRegister.license.getAR();case 17:l=c.sent;case 18:if(!l){c.next=32;break}if(this._initAR(l),a!==""){c.next=26;break}return this._innerResetLicense(),ke.refProductKey="",ke.bPublicLTS=!0,ke.handshakeCode="200001",c.abrupt("return");case 26:if(!l.pk){c.next=31;break}return this.isLicenseMixed(l.pk,!1)||(this._innerResetLicense(),ke.bPublicLTS=!1,ke.refProductKey=l.pk),c.abrupt("return");case 31:ke.refProductKey!==a&&(u=!0);case 32:!u&&this.isLicenseMixed(null,!0)||this.reparseProductKey(o);case 33:case"end":return c.stop()}},n,this)})),function(n){return t.apply(this,arguments)})},{key:"reparseProductKey",value:function(n){n&&In("Parsing Product Key...");var o=this.getLicenseFromDynamsoftCore(),a=!1;if(o===null||o===""){var u=Lf(V.DWT.organizationID),d=Lf(V.DWT.handshakeCode),l=u||d;if(o=m.trim(V.DWT.ProductKey),!l){var c=aa(No,this,rN).call(this,o);c.LTS&&(d=Lf(c.handshakeCode),l=(u=Lf(c.organizationID))||d)}if(l)return this._innerResetLicense(),m.isNumber(o)&&(u=o),ke.handshakeCode=d,ke.organizationID=u,ke.licenseServer=V.DWT.licenseServer,ke.sessionPassword=V.DWT.sessionPassword,void(ke.bPublicLTS=aa(No,this,nN).call(this,ke.licenseServer,l))}if(ke.refProductKey!==o&&(this._innerResetLicense(),m.isString(o)&&o.length>0&&(ke.refProductKey=o,a=!0)),a)if(this.isLongKey(ke.refProductKey))ke.bPublicLTS=!1;else{var p,g={_pLoad:{isEmpty:at},_license:ke.refProductKey,_licenseServer:[]};try{p=Mk(g)}catch(v){m.error(v),p=!1}if(p&&m.isString(p.l)){var S=m.trim(p.l);S==""?(S="200001",ke.organizationID=S,ke.handshakeCode=S):(S.indexOf("-")!=-1||(ke.organizationID=S),ke.handshakeCode=S),m.isArray(p.ls)&&p.ls.length>0&&(ke.licenseServer=p.ls),ke.bPublicLTS=aa(No,this,nN).call(this,ke.licenseServer,S),ke.sessionPassword=p.sp}else ke.bPublicLTS=!1,p&&m.isNumber(p.l)&&(ke.handshakeCode=""+p.l)}}},{key:"_innerResetLicense",value:function(){ke.refProductKey="",ke.handshakeCode=void 0,ke.organizationID=void 0,ke.licenseServer=void 0,ke.sessionPassword="",ke.bPublicLTS=!0}},{key:"checkOSForAllowCore",value:function(n,o,a){if(ke.bHTML5Edition){if(n)return aa(No,this,iN).call(this,o);var u=a._bRemoteMode,d=a.__serverPlatform;return this.isOSOK(o,u,d)}return at}},{key:"checkLocalPlatformForRemoteService",value:function(n){var o,a,u,d=n.__licenseInfo,l=Jk(),c=!1;for(o=0;o<d.Detail.length&&(a=d.Detail[o],!((u=aa(No,this,fC).call(this,a.EnumLicenseType,a.LicenseType)).Core&&m.isString(a.Version)&&a.Version.indexOf(tN)==0&&((c=aa(No,this,iN).call(this,a.OS))||(c=this.isOSOK(a.OS,!0,l))||!n._blts&&n._bScanForProxyRemote&&u.RemoteScan)));o++);return c||(l==Ht.enumWindow?function(p){Me(p,-2344,"The current product key does not support Windows OS. "+vi()),vn(p)}(n):l==Ht.enumLinux?function(p){Me(p,-2346,"The current product key does not support Linux OS. "+vi()),vn(p)}(n):l==Ht.enumMac?function(p){Me(p,-2345,"The current product key does not support MAC OS. "+vi()),vn(p)}(n):function(p){Me(p,-2347,"The current product key does not support your OS. "+vi()),vn(p)}(n)),c}},{key:"checkProductKey",value:function(n,o,a){var u,d=V.DWT.licenseException;return!o.Camera&&(n.__licenseInfo||(n.__licenseInfo={}),(u=aa(No,this,zq).call(this,n,n.__licenseInfo,Oe,o,a))||(d.code=n._errorCode,d.message=n._getErrorString(),d.fromLTS=!1),u)}},{key:"isBindDomainOK",value:function(n){if(m.isUndefined(n)||n==null||n==""||n=="*"||n=="*.*")return at;var o=location.hostname,a=Oe;if(o=="")return at;for(var u=o.toLowerCase().split("."),d=u.length,l=n.toLowerCase().split(";"),c=0;c<l.length;c++){var p=l[c];if(p=="*.*"){a=at;break}var g=p.split("."),S=g.length;if(S>0&&S-1<=d){for(var v=at,b=S-1;b>0;b--){if(g[b].indexOf("*")>-1){a=at;break}if(b+d-S>=0){if(u[b+d-S]!=g[b]){v=Oe;break}}else if(g[b]!="*"){v=Oe;break}}if(v&&(g[0]=="*"||d>=S&&u[d-S]==g[0])){a=at;break}}}return a}},{key:"isExpiredOrFuture",value:function(n,o){if(n=="")return Oe;if(!o){var a=n.length;if(a>2&&n[a-2]=="/"&&n[a-1]=="0")return Oe}var u=Wf(n),d=new Date().getTime(),l=d+5184e6;return u.getTime()<d||o&&u.getTime()>l?at:Oe}},{key:"willTrialExpire",value:function(n){if(n=="")return Oe;var o=Wf(n),a=new Date().getTime();return o.getTime()<a+432e6&&o.getTime()>a?at:Oe}},{key:"isOSOK",value:function(n,o,a){var u=!1,d=!1,l=!1,c=!1,p=!1,g=!1,S=!1,v=!1;return n==""||n=="0"?at:(o?a==Ht.enumWindow?l=!0:a==Ht.enumLinux?d=!0:a==Ht.enumMac?u=!0:a==Ht.enumEmbed?p=!0:a==Ht.enumChromeOS?g=!0:a==Ht.enumAndroid?S=!0:a==Ht.enumHarmonyOS?v=!0:a==Ht.enumiOS&&(c=!0):(u=he.bMac,d=he.bLinux,l=he.bWin,c=he.biPhone||he.biPad,g=he.bChromeOS,p=V.navInfo.bEmbed,S=he.bAndroid,v=he.bHarmonyOS),(n=n.toLowerCase()).indexOf("windows")>-1&&l||n.indexOf("mac")>-1&&u||n.indexOf("linux")>-1&&(d||g||v)||n.indexOf("android")>-1&&S||n.indexOf("ios")>-1&&c||n.indexOf("embed")>-1&&p?at:Oe)}},{key:"isBrowserOK",value:function(n){if(m.isString(n)){if(n==""||n=="0")return at;var o=(n=n.toLowerCase()).split(";"),a=Oe;return m.each(o,function(u){(m.trim(u)=="chrome"&&(he.bChrome||he.bSafari||he.bOpera||he.bEdge)||m.trim(u)=="ie"&&he.bIE||m.trim(u)=="firefox"&&he.bFirefox)&&(a=at)}),a}return Oe}},{key:"isAllowLicenseType",value:function(n,o){return o.Core?n.Core:o.PDFRasterizer?n.PDFRasterizer:o.Webcam||o.Camera?n.Webcam:o.barcode1D?n.barcode1D:o.QR?n.QR:o.PDF417?n.PDF417:o.DataMatrix?n.DataMatrix:o.OCRKit?n.OCRKit:o.OCRPro?n.OCRPro:o.OCR?n.OCR:n.Core}},{key:"setNoAllowedLicenseTypeError",value:function(n,o,a){a.Core?$p(n):a.Webcam||a.Camera?o||a.Camera?function(u){u._errorCode=-2431,Ji()?u._errorString="The license for the Camera Addon is not found or has expired.":Me(u,-2431,"The current product key does not support Camera Addon. "+vi()),vn(u)}(n):function(u){u._errorCode=-2338,Ji()?u._errorString="The license for the module direct show is not found or has expired.":u._errorString="The current product key does not support Webcam. "+vi(),vn(u)}(n):a.PDFRasterizer?o?function(u){u._errorCode=-2370,Ji()?u._errorString="The license for the module pdf rasterizer is not found or has expired.":u._errorString="The current product key does not support Pdf Rasterizer Wasm. "+vi(),vn(u)}(n):kf(n):a.OCRKit?function(u){u._errorCode=-2340,Ji()?u._errorString="The license for the module OCR Kit is not found or has expired.":u._errorString="The current product key does not support OCR Kit. "+vi(),vn(u)}(n):a.OCRPro?function(u){u._errorCode=-2341,Ji()?u._errorString="The license for the module OCR pro is not found or has expired.":u._errorString="The current product key does not support OCR pro. "+vi(),vn(u)}(n):a.OCR?function(u){u._errorCode=-2340,Ji()?u._errorString="The license for the module OCR is not found or has expired.":u._errorString="The current product key does not support OCR. "+vi(),vn(u)}(n):Ia(n)}},{key:"getLicenseDateString",value:function(n){var o,a=n.getFullYear();return[(o=n.getMonth()+1)>=10?""+o:"0"+o,"/",n.getDate()>=10?""+n.getDate():"0"+n.getDate(),"/",a].join("")}},{key:"hasPDFRProductKey",value:function(n){return!!this.checkProductKey(n,{PDFRasterizer:!0},!0)||(n._resetErr(),!1)}},{key:"checkPDFProductKeyWhenNeeds",value:function(n,o){var a;return(o==V.DWT.EnumDWT_ImageType.IT_PDF||o==V.DWT.EnumDWT_ImageType.IT_MULTIPAGE_PDF)&&(ke.bHTML5Edition?n.__addon&&n.__addon.PDF&&(a=n._getConvertMode()):n.Addon&&n.Addon.PDF&&(a=n._getConvertMode()),a==zr.CM_RENDERALL||a==zr.CM_RENDERALLWITHANNOTATION)?this.checkProductKey(n,{PDFRasterizer:!0},!0):at}},{key:"getPublicLicenseContent",value:function(n){var o=[],a=n;if(!m.isString(a)){if(m.isUndefined(a))return"";a=a instanceof Error||"message"in a?a.message:""+a}var u=a.indexOf("["),d=a.indexOf("]",u),l=a.indexOf("(",d),c=a.indexOf(")",l);if(u==-1||d==-1||l==-1||c==-1)return a;u>0&&o.push(a.substring(0,u));var p=a.substring(u+1,d),g=a.substring(l+1,c);return o.push(['<a href="',g,'" target="_blank" class="dynamsoft-major-color">',p,"</a>"].join("")),o.push(a.substring(c+1)),o.join("")}},{key:"getLTSLicense",value:function(){return ke.bPublicLTS?"":ke.handshakeCode||ke.organizationID}}]);var t}();function rN(t){var n,o,a=t,u=t.indexOf("-"),d=u!=-1;return o={},d&&(a=t.substring(0,u)),n=Number(a),isNaN(n)||String(Number(n))!==a||(d?o.handshakeCode=t:o.organizationID=t,o.LTS=at),o}function Gq(t){Mk({_pLoad:{isEmpty:at},_license:t,_licenseServer:[]})}function nN(t,n){var o=!0;if(m.isArray(t)&&t.length>0){var a=t[0];m.isString(a)&&a!=""&&new sy(a).getHostname()!=="mlts.dynamsoft.com"&&(o=!1)}return o&&(!n||n==="200001"||m.startsWith(n,"200001-"))}function Hq(t,n,o){return this.checkOSForAllowCore(t,n,o)}function zq(t,n,o,a,u){var d,l=!1;if(ke.bHTML5Edition&&m.isFunction(t._needCheckProxyRemoteScanLicense)&&(l=t._needCheckProxyRemoteScanLicense()),n&&n.LTS){if(!n||!m.isArray(n.Detail)||n.Detail.length==0)return this.isLTS()?$p(t):Ia(t),Oe}else if(!n||!m.isArray(n.Detail)||n.Detail.length==0)return this.isLTS()?$p(t):Ia(t),Oe;var c,p,g,S,v=0,b=0,T=[],D=[],M=Oe,W=Oe,Y=Oe,ee=Oe,te=Oe,de=Oe,Z=Oe,ne=Oe;if(!this.isBindDomainOK(n.Domain))return function(ye){Me(ye,-2342,"The domain of your current site does not match the domain bound in the current product key. "+vi()),vn(ye)}(t),Oe;for(n.Detail.length>0&&(d=(g=n.Detail[0]).Trial!="FALSE"),p=1;p<n.Detail.length;p++)if((g=n.Detail[p]).Trial=="FALSE"&&d||g.Trial=="TRUE"&&!d)return UY(t),Oe;if(n.bTrial=d,a.Core||a.Webcam){var X=[],F=!1;for(p=0;p<n.Detail.length;p++)if(g=n.Detail[p],S=aa(No,this,fC).call(this,g.EnumLicenseType,g.LicenseType),a.Core&&S.Core&&this.checkOSForAllowCore(o,g.OS,t)||a.Core&&S.Core&&ke.bActiveXEdition&&S.ActiveX||a.Webcam&&S.Webcam&&!o){if(!n.LTS){if(!m.isString(g.Version)||g.Version.indexOf(tN)!=0){X.push(g);continue}}if(ke.bHTML5Edition){if(S.ActiveX&&!S.Html5||l&&!S.RemoteScan)continue;D.push(g)}else{if(!S.ActiveX&&S.Html5)continue;D.push(g)}F=!0}if(!F&&X.length>0)return X.splice(0),function(ye,be){var Te=vi();Me(ye,Xi.LicenseVersionNotCurrent,"The current product key is not for version ".concat(be,". ").concat(Te)),vn(ye)}(t,Qp.toString()=="0"?[na,Kp].join("."):[na,Kp,Qp].join(".")),!1;X.splice(0)}else D=n.Detail;for(p=0;p<D.length;p++){var B=at;if(g=D[p],S=aa(No,this,fC).call(this,g.EnumLicenseType,g.LicenseType),a.Core&&S.Core||this.isAllowLicenseType(S,a)){c=g.ExpireDate.replace(/-/g,"/");var U=g.Trial!="FALSE";if(this.isExpiredOrFuture(c,U))T.push(c);else if(U&&S.Core&&this.willTrialExpire(c)&&(n.ExpireDate=c),n.LTS||S.Core&&ke.bHTML5Edition&&parseInt(g.Version)>=Dq||S.Core&&ke.bActiveXEdition||!S.Core){var K=!1;if(S.Core)(this.checkOSForAllowCore(o,g.OS,t)||ke.bActiveXEdition&&S.ActiveX)&&(K=!0);else{var J=o;a.Camera&&(J=!0),aa(No,this,Hq).call(this,J,g.OS,t)&&(K=!0)}K?this.isBrowserOK(g.Browser)||u?(v++,B=Oe):W=at:a.Core?M=at:a.PDFRasterizer?ee=at:a.Webcam||a.Camera?te=at:a.OCRKit?Z=at:a.OCRPro?ne=at:a.OCR&&(de=at)}else Y=at;B&&b++}}if(v>0)return at;if(b==0)return this.setNoAllowedLicenseTypeError(t,o,a),Oe;if(T.length>0){var re,oe=0,fe=1e20,ae="",ue=new Date().getTime();for(c="",p=0;p<T.length;p++)(re=Wf(T[p])).getTime()<ue&&re.getTime()>oe?(oe=re.getTime(),c=T[p]):re.getTime()>ue&&re.getTime()<fe&&(fe=re.getTime(),ae=T[p]);return c!=""?(re=Wf(c),pk(t,c=this.getLicenseDateString(re),d)):ae!=""?(re=Wf(ae),ae=this.getLicenseDateString(re),function(ye){Me(ye,Xi.LicenseIsFuture,"The current product key is invalid. "+vi()),vn(ye)}(t)):pk(t,"",d),Oe}return Y?(function(ye){Me(ye,-2348,"The current product key is invalid because it's generated with the licenses of a different major version."),vn(ye)}(t),Oe):W?(he.bEdge?function(ye){Me(ye,-2330,"The current product key does not support Edge. "+vi()),vn(ye)}(t):he.bChrome?function(ye){Me(ye,-2327,"The current product key does not support Chrome. "+vi()),vn(ye)}(t):he.bFirefox?function(ye){Me(ye,-2328,"The current product key does not support Firefox. "+vi()),vn(ye)}(t):he.bIE?function(ye){Me(ye,-2329,"The current product key does not support IE. "+vi()),vn(ye)}(t):he.bSafari?function(ye){Me(ye,-2392,"The current product key does not support Safari. "+vi()),vn(ye)}(t):function(ye){Me(ye,-2343,"The current product key does not support your browser. "+vi()),vn(ye)}(t),Oe):M?(this.setNoAllowedLicenseTypeError(t,o,{Core:!0}),Oe):ee?(this.setNoAllowedLicenseTypeError(t,o,{PDFRasterizer:!0}),Oe):te?(this.setNoAllowedLicenseTypeError(t,o,{Webcam:!0}),Oe):Z?(this.setNoAllowedLicenseTypeError(t,o,{OCRKit:!0}),Oe):ne?(this.setNoAllowedLicenseTypeError(t,o,{OCRPro:!0}),Oe):de?(this.setNoAllowedLicenseTypeError(t,o,{OCR:!0}),Oe):(Ia(t),Oe)}function Kq(t){var n=Oe,o=Oe,a=Oe,u=Oe,d=Oe,l=Oe,c=Oe,p=Oe,g=Oe;return m.isString(t)&&t!=""&&m.each(t.split(";"),function(S){var v=1*S;v==kq||v==Nq||v==Pq||v==Rq?n=at:v==Oq?o=at:v==jq?a=at:v==Bq?u=at:v==Uq?d=at:v==Fq?l=at:v==Mq?c=at:v==Lq?p=at:v==Wq&&(g=at)}),{Core:n,PDFRasterizer:p,Webcam:c,barcode1D:o,QR:a,PDF417:u,DataMatrix:d,OCR:l,OCRPro:g,OCRKit:!1}}function fC(t,n){var o=aa(No,this,Kq).call(this,t),a=aa(No,this,Qq).call(this,n);return m.each(["Core","Html5","RemoteScan","LocalScan","ActiveX","PDFRasterizer","Webcam","barcode1D","QR","PDF417","DataMatrix","OCR","OCRPro","OCRKit"],function(u){o[u]=o[u]||a[u]}),o}function Qq(t){var n=Oe,o=Oe,a=Oe,u=Oe,d=Oe,l=Oe,c=Oe,p=Oe,g=Oe,S=Oe,v=Oe,b=Oe,T=Oe,D=Oe;return t&&t!=""&&((t=t.toLowerCase()).indexOf("html5")>-1||t=="win=(aph) or mac=(ph) or linux(h)"?(n=at,t.indexOf("html5;activex;oldie")>-1?u=at:t.indexOf("html5;activex")>-1?(o=at,T=at,u=at):(o=at,T=at),t.indexOf(";remotescan")>-1&&(o=at,b=at,t.indexOf(";onlyremote")>-1&&(T=Oe))):t=="1d barcode reader"?a=at:t=="2d barcode reader(qrcode)"?d=at:t=="2d barcode reader(pdf417)"?l=at:t=="2d barcode reader(data matrix)"?c=at:t=="webcam"?g=at:t=="pdf rasterizer"?S=at:t=="proocr"?v=at:t.indexOf("ocr")>-1&&(t.indexOf("ocr kit")>-1&&(D=at),p=at)),{Core:n,Html5:o,RemoteScan:b,LocalScan:T,ActiveX:u,PDFRasterizer:S,Webcam:g,barcode1D:a,QR:d,PDF417:l,DataMatrix:c,OCR:p,OCRPro:v,OCRKit:D}}function iN(t){var n=t.toLowerCase();return n.indexOf("wasm")>-1||n.indexOf("mobile")>-1}var It=new Vq;function oN(t,n){return aN.apply(this,arguments)}function aN(){return(aN=s(E().mark(function t(n,o){var a;return E().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(Ji()){u.next=2;break}return u.abrupt("return");case 2:if(u.prev=2,V.DWT.li({instanceMode:V.DWT.lgdt()},"")){u.next=17;break}return o&&In("Getting Machine ID."),u.prev=6,u.next=9,Eq();case 9:return a=u.sent,u.next=12,Yq(a);case 12:u.next=17;break;case 14:u.prev=14,u.t0=u.catch(6),m.log(u.t0);case 17:u.next=22;break;case 19:u.prev=19,u.t1=u.catch(2),m.log(u.t1);case 22:case"end":return u.stop()}},t,null,[[2,19],[6,14]])}))).apply(this,arguments)}function Yq(t){return sN.apply(this,arguments)}function sN(){return(sN=s(E().mark(function t(n){var o;return E().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!n){a.next=7;break}if(!(m.isArray(n.result)&&n.result.length>3)){a.next=5;break}o=n.result[3],a.next=7;break;case 5:if(!n.description){a.next=7;break}return a.abrupt("return",{code:n.exception,message:n.description});case 7:m.isString(o)&&o!=""&&(V.DWT.lsmid(o,""),V.DWT.lsmid2b(o));case 8:case"end":return a.stop()}},t)}))).apply(this,arguments)}function Wf(t){var n,o=t;return o=o.replace(/-/g,"/"),n=Date.parse(o),isNaN(n)&&(n=0),(n=new Date(n)).setHours(23,59,59,999),n}function uN(t){if(t=="")return 65536;var n=Wf(t),o=new Date().getTime(),a=(n.getTime()-o)/864e5;return n.getTime()<o?0:Math.ceil(a)}V.DWT.isPublicLicense=function(){return ke.bPublicLTS};var _o,hC=function(){return _(function t(){h(this,t),w(this,"_exec",{})},[{key:"fire",value:function(t,n){var o,a=this;t=t.toLowerCase(),o=Array.prototype.slice.call(arguments,1),m.each(a._exec[t]||[],function(u){var d=u.f,l=u.c||a;try{d.apply(l,o)}catch(c){m.error(c)}})}},{key:"on",value:function(t,n,o){t=t.toLowerCase(),this._exec[t]=this._exec[t]||[],this._exec[t].push({f:n,c:o})}},{key:"off",value:function(t,n,o){if(t&&n){t=t.toLowerCase();for(var a=this._exec[t]||[],u=a.length-1;u>=0;u--)a[u]===n&&a.splice(u,1)}else this._exec={}}}])}();function qq(t,n){(function(o,a){if(a.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,n),n.add(t)}function Ey(t,n,o){return(n=function(a){var u=function(d,l){if(N(d)!="object"||!d)return d;var c=d[Symbol.toPrimitive];if(c!==void 0){var p=c.call(d,l||"default");if(N(p)!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(d)}(a,"string");return N(u)=="symbol"?u:u+""}(n))in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t}function uu(t,n,o){if(typeof t=="function"?t===n:t.has(n))return arguments.length<3?n:o;throw new TypeError("Private element is not present on this object")}var Ya,xy="[bio]: ",lN=window,Ay=lN&&lN.FormData,xs=new WeakSet,Uu=function(t){function n(o){var a;return h(this,n),qq(a=f(this,n),xs),Ey(a,"_attrs",{}),m.mix(a._attrs,{action:"",data:{},bChunkedSendData:at,ajaxConfig:{value:{},type:"post",processData:Oe,cache:Oe,dataType:"text",async:at,contentType:Oe,retry:0,headers:{"X-Requested-With":Oe}},ajax:"",formData:"",CORS:Oe,bOnlyResponseEmptyIsOK:at}),m.mix(a._attrs,o),uu(xs,a,Jq).call(a),a}return P(n,t),_(n,[{key:"get",value:function(o){return o in this._attrs?this._attrs[o]:""}},{key:"set",value:function(o,a){o in this._attrs&&(this._attrs[o]=a)}},{key:"uploadFilesToServer",value:function(o){return uu(xs,this,Xq).call(this,o)}},{key:"uploadToServer",value:function(o){var a=this,u=a.get("ajaxConfig");uu(xs,a,cN).call(a),o&&o.size>0&&(uu(xs,a,dN).call(a,o),m.isString(o.name)&&o.name!=""?a.name=o.name:a.name=o.fileName,o=null),m.mix(u,{data:a.get(n.PROP.formData),url:a.get(n.PROP.action),beforeSend:function(c,p,g){c.upload.addEventListener("progress",function(S){a.fire(n.event.PROGRESS,{loaded:S.loaded,total:S.total,name:a.name})},!1)}});var d=a.get("async");if(m.mix(u,{method:"POST",async:d,onSuccess:function(c,p,g){Dy(a.get(n.PROP.data)),Dy(a.get(n.PROP.formData));var S=a.get(n.PROP.ajax);m.isFunction(S.dispose)&&S.dispose(),a.set(n.PROP.data,null),a.set(n.PROP.formData,null),a.set(n.PROP.ajax,null);var v=uu(xs,a,hN).call(a,c,g);a.fire(n.event.SUCCESS,v)},onError:function(c,p,g){var S;Dy(a.get(n.PROP.data)),Dy(a.get(n.PROP.formData));var v,b,T=a.get(n.PROP.ajax);m.isFunction(T.dispose)&&T.dispose(),a.set(n.PROP.data,null),a.set(n.PROP.formData,null),a.set(n.PROP.ajax,null),c&&m.isArray(c)&&c.length>2?(S=c[0],v=c[1],b=c[2]):(S=c,v=p,b=g),uu(xs,a,fN).call(a,b,v,S)}}),d){var l=wa(u);return a.set(n.PROP.ajax,l),!0}return wa(u)}},{key:"abort",value:function(){var o=this,a=o.get("ajax");return m.isObject(a)?(a.abort(),o.set("ajax",!1),o):(m.log(xy+"abort(), the value of io invalid!"),o)}},{key:"setRequestHeader",value:function(o,a){var u=this.get("ajaxConfig");return u.headers[o]=a,this.set("ajaxConfig",u),u=null,a}}])}(hC);function Jq(){this.get("CORS");var t=this.get("ajaxConfig");return m.mix(t,{xhrFields:{withCredentials:!1}}),t}function Xq(t){var n=this,o=n.get(_o.PROP.ajaxConfig),a=[];if(uu(xs,n,cN).call(n),m.each(t,function(l){l&&l.size>0?(uu(xs,n,dN).call(n,l),m.isString(l.name)&&l.name!=""?a.push(l.name):a.push(l.fileName)):a.push("")}),m.mix(o,{data:n.get(_o.PROP.formData),url:n.get(_o.PROP.action),beforeSend:function(l,c,p){l.upload.addEventListener("progress",function(g){n.fire(_o.event.PROGRESS,{loaded:g.loaded,total:g.total,name:""})},!1)}}),m.mix(o,{method:"POST",async:n.get("async"),onSuccess:function(l,c,p){var g="";a=[],l&&(l&&m.isArray(l)&&l.length>1?g=l[0]:m.isString(l)&&(g=l)),g=uu(xs,n,hN).call(n,g,p),n.fire(_o.event.SUCCESS,g)},onError:function(l,c,p){var g,S;a=[],l&&m.isArray(l)&&l.length>2?(g=l[1],S=l[2]):(g=c,S=p),uu(xs,n,fN).call(n,S,g)}}),n.name="",n.get("async")){var u=wa(o);return n.set(_o.PROP.formData,null),n.set(_o.PROP.ajax,u),!0}var d=wa(o);return n.set(_o.PROP.formData,null),d}function cN(){var t,n=this,o=n.get("data");if(Ay)if(o instanceof Ay)n.set(_o.PROP.formData,o);else{t=new Ay;try{m.each(o,function(a,u){t.append(u,a)}),n.set(_o.PROP.formData,t)}catch{m.log(xy+"something error when reset FormData.")}}else m.log(xy+"the browser does not support ajax.")}function dN(t){if(!m.isObject(t))return m.log(xy+"_addFileData(), file parameter invalid!"),!1;var n=this.get(_o.PROP.formData),o=t.name,a=t.remoteFilename;return a||(a="RemoteFile"),n.append(a,t,o),this.set(_o.PROP.formData,n),t=null,n}function fN(t,n,o){var a=_o.status.ERROR,u={status:a,msg:n,response:!1,name:this.name};t&&(u.httpStatus=t.status,u.response=o||t.responseText),this.fire(a,u)}function hN(t,n){var o,a,u,d=!1,l=this.name,c=_o.status.SUCCESS,p=_o.event.ERROR,g=n?n.status:0;if(m.log("Response from server: "+t),!this.get("bOnlyResponseEmptyIsOK"))return{status:c,msg:!1,json:!1,response:t,name:l,httpStatus:g};if(m.isUndefined(t)||t==="")o={status:c,msg:!1,json:!1,response:"",name:l,httpStatus:g};else if(m.isString(t)){try{for(a=0;a<t.length&&!(a>10);a++){if((u=t[a])=="{"){d=!0;break}if(u!=" "&&u!="\r"&&u!=`
`&&u!="	")break}if(d){var S=m.parse(t);o=S.status==1?{status:c,msg:!1,json:S,response:t,name:l,httpStatus:g}:{status:p,msg:!1,json:S,response:t,name:l,httpStatus:g}}}catch(b){d=!1,m.log(b)}if(!d){var v=String(t);o=(v=v.replace(/( |\t|\r|\n)/g,""))==""?{status:c,msg:!1,json:!1,response:t,name:l,httpStatus:g}:{status:p,msg:!1,json:!1,response:t,name:l,httpStatus:g}}}else o={status:c,msg:!1,json:!1,response:"",name:l,httpStatus:g};return o}function Dy(t){t&&t instanceof Ay&&t.forEach&&t.forEach(function(n,o){o&&t.delete(o)})}function Zq(t,n){(function(o,a){if(a.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,n),n.add(t)}function pN(t,n,o){return(n=function(a){var u=function(d,l){if(N(d)!="object"||!d)return d;var c=d[Symbol.toPrimitive];if(c!==void 0){var p=c.call(d,l||"default");if(N(p)!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(d)}(a,"string");return N(u)=="symbol"?u:u+""}(n))in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t}function am(t,n,o){if(typeof t=="function"?t===n:t.has(n))return arguments.length<3?n:o;throw new TypeError("Private element is not present on this object")}_o=Uu,Ey(Uu,"event",{SUCCESS:"success",ERROR:"error",PROGRESS:"progress"}),Ey(Uu,"status",{SUCCESS:"success",ERROR:"error"}),Ey(Uu,"PROP",{action:"action",data:"data",bChunkedSendData:"bChunkedSendData",ajaxConfig:"ajaxConfig",ajax:"ajax",formData:"formData",CORS:"CORS",bOnlyResponseEmptyIsOK:"bOnlyResponseEmptyIsOK"});var jf=new WeakSet,Nl=function(t){function n(o){var a;return h(this,n),Zq(a=f(this,n),jf),a._attrs={action:"",retry:0,timeout:0,CORS:Oe,async:at,dataType:"text",fileStatus:"",data:{},bOnlyResponseEmptyIsOK:at},m.mix(a._attrs,o),am(jf,a,eJ).call(a),a}return P(n,t),_(n,[{key:"get",value:function(o){return o in this._attrs?this._attrs[o]:""}},{key:"set",value:function(o,a){o in this._attrs&&(this._attrs[o]=a)}},{key:"upload",value:function(o){var a;if(o){if(m.isArray(o))return a=this._uploadType.uploadFilesToServer(o),o=null,a;if(m.isObject(o)){var u=o;return u.size?(u.id||(u.id=m.guid("file-")),u.size&&(u.textSize=am(jf,this,$q).call(this,u.size))):u.size=0,a=this._uploadType.uploadToServer(u),u=null,o=null,a}}return a=this._uploadType.uploadToServer(o),o=null,a}},{key:"abort",value:function(o){return this._uploadType&&this._uploadType.abort(),!0}},{key:"setRequestHeader",value:function(o,a){this._uploadType.setRequestHeader(o,a)}}])}(hC);function $q(t){var n=-1;do t/=1024,n++;while(t>99&&n<4);return Math.max(t,.1).toFixed(1)+["KB","MB","GB","TB"][n]}function eJ(){var t=this,n={async:t.get(Ya.PROP.async),action:t.get(Ya.PROP.action),data:t.get(Ya.PROP.data),CORS:t.get(Ya.PROP.CORS),bOnlyResponseEmptyIsOK:t.get(Ya.PROP.bOnlyResponseEmptyIsOK)};this._uploadType=new Uu(n);var o=this._uploadType.get(Uu.PROP.ajaxConfig);return o&&(o.dataType=t.get(Ya.PROP.dataType),o.async=t.get(Ya.PROP.async),o.retry=t.get(Ya.PROP.retry)),this._uploadType.on(Uu.event.SUCCESS,am(jf,t,mN),t),this._uploadType.on(Uu.event.ERROR,am(jf,t,mN),t),this._uploadType.on(Uu.event.PROGRESS,am(jf,t,tJ),t),this._uploadType}function tJ(t){this.fire(Ya.event.PROGRESS,t)}function mN(t){var n=this,o=t.status,a=t.msg,u=n.get("file");if(m.mix(t,{file:u}),o==="success")n.fire(Ya.event.SUCCESS,t);else{if(a===!1||(a==="abort"?m.mix(t,{canceled:!0}):a==="timeout"&&m.mix(t,{timeout:!0})),!a){var d=t.httpStatus;d&&d>=200&&d<300&&(d==200?a="OK":d==201?a="Created":d==202?a="Accepted":d==203?a="Non-Authoritative":d==204?a="No Content":d==205?a="Reset Content":d==206?a="Partial Content":d==207&&(a="Multi-Status"),t.msg=a)}n.fire(Ya.event.ERROR,t)}}Ya=Nl,pN(Nl,"event",{SUCCESS:"success",ERROR:"error",PROGRESS:"progress"}),pN(Nl,"PROP",{action:"action",retry:"retry",timeout:"timeout",CORS:"CORS",async:"async",dataType:"dataType",fileStatus:"fileStatus",data:"data",bOnlyResponseEmptyIsOK:"bOnlyResponseEmptyIsOK"});var tn={Loading:"Processing...",LoadingTiff:"Processing tiff...",LoadingPdf:"Processing pdf...",Encoding:"Processing...",ConvertingToBlob:"Converting to blob...",ConvertingToBase64:"Converting to base64...",SavingPdf:"Saving pdf...",SavingTiff:"Saving tiff...",Downloading:"Downloading...",Uploading:"Uploading...",Transfer:"Transferring...",CanvasLoading:"Loading ...",Err_ServiceModeNotSupportMobile:"Service Mode does not support your Operating System. Please contact the site administrator."};function pC(t,n){Q.detect.bMaskShow=!0,V.DWT.ScanDirectly||m.isFunction(V.DWT.OnWebTwainPreExecute)&&V.DWT.OnWebTwainPreExecute(t,n)}function mC(){Q.detect.bMaskShow=!1,V.DWT.ScanDirectly||m.isFunction(V.DWT.OnWebTwainPostExecute)&&V.DWT.OnWebTwainPostExecute()}function rJ(t){var n=t||{};n.basePath&&(Cn.basePath=n.basePath),n.pathType&&(Cn.pathType=n.pathType),m.isUndefined(n.bDiscardBlankImage)||(Cn.bDiscardBlankImage=n.bDiscardBlankImage),n.msgPrefix&&n.msgPrefix,n.msgSuffix&&n.msgSuffix,n.detectType&&(Q.detect.detectType=n.detectType),n.tryTimes&&(Q.detect.tryTimes=n.tryTimes);var o=V.DWT.RemoteScanConfig;o||(o={sessionTimeout:300,keepAwake:!0},V.DWT.RemoteScanConfig=o),o.keepAwake===void 0&&(o.keepAwake=!0)}function gN(){return!!m.getWakeLock()}function Py(t){return vN.apply(this,arguments)}function vN(){return(vN=s(E().mark(function t(n){var o;return E().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(o=m.getWakeLock(),!n){a.next=7;break}if(o!=null){a.next=5;break}return a.next=5,m.toggleWakeLock();case 5:a.next=10;break;case 7:if(!o){a.next=10;break}return a.next=10,m.toggleWakeLock();case 10:case"end":return a.stop()}},t)}))).apply(this,arguments)}function nJ(t){return t&&!m.isString(t)?at:Oe}function yN(t){return _N.apply(this,arguments)}function _N(){return(_N=s(E().mark(function t(n){var o;return E().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:n&&((o=document.createElement("style")).innerHTML=['@import url("',Vu(),"/src/dynamsoft.webtwain.viewer.css",Q.timestamp,'")'].join(""),n.appendChild(o));case 1:case"end":return a.stop()}},t)}))).apply(this,arguments)}function SN(t,n){var o;for(o=0;o<t.length;o++)if(t[o]==n)return!0;return!1}function Vu(){return sk()}var bN=function(){return _(function t(n){h(this,t),this._funIsLoading=n,this._resolveJSLoads=[],this._bFirstWaitForLoaded=!0},[{key:"_loopForCheckingJSLoaded",value:function(){var t=this;t._funIsLoading()?setTimeout(function(){t._loopForCheckingJSLoaded()},100):(m.each(this._resolveJSLoads,function(n){n()}),this._resolveJSLoads=[])}},{key:"asyncWaitingJSLoaded",value:function(){var t=this;return new Q.Promise(function(n){t._funIsLoading()?(t._resolveJSLoads.push(n),t._bFirstWaitForLoaded&&(t._bFirstWaitForLoaded=!1,setTimeout(function(){t._loopForCheckingJSLoaded()},100))):n()})}}])}(),iJ=function(){return _(function t(){h(this,t),this.queue=[],this.doNextStarted=!1,this.timer=null},[{key:"stop",value:function(){clearTimeout(this.timer),this.timer=null,this.doNextStarted=!1,this.queue=[]}},{key:"start",value:function(){var t=this;this.doNextStarted||(this.doNextStarted=!0,this.timer=setTimeout(function(){t.doNext()},0))}},{key:"pushToDo",value:function(t,n,o){return this.queue.push({obj:t,method:n,args:o}),!0}},{key:"doNext",value:function(){var t=this;if(this.doNextStarted)if(this.queue.length!=0){var n=this.queue[0],o=n.obj,a=n.method,u=n.args;if(this.queue.splice(0,1),o&&m.isFunction(o[a])){var d=!1;if(u.length>2){var l=u[u.length-2],c=u[u.length-1];m.isFunction(l)&&m.isFunction(c)&&(u[u.length-2]=function(){try{l.apply(o,arguments)}catch{}t.timer=setTimeout(function(){t.doNext()},0)},u[u.length-1]=function(){try{c.apply(o,arguments)}catch{}t.timer=setTimeout(function(){t.doNext()},0)},d=!0)}try{o[a].apply(o,u)}catch{}d||(t.timer=setTimeout(function(){t.doNext()},0))}else if(o===null&&m.isFunction(a)){try{a.apply(null,u)}catch{}this.timer=setTimeout(function(){t.doNext()},0)}else this.timer=setTimeout(function(){t.doNext()},0)}else this.stop();else this.stop()}}])}(),lu=new iJ,Nr={getImageUrl:function(t,n,o,a,u){var d,l=[t];if(m.isNumber(n)&&n<0)return"";if(n!=null&&(l.push("&index="),l.push(n)),l.push("&width="),l.push(o),l.push("&height="),l.push(a),Cn.bMobile&&l.push("&type=1&quality=85"),l.push("&ticks="),u?l.push(u):l.push(Date.now()),d=l.join(""),he.bFileSystem&&d.indexOf("dwt://")<0){var c=new Image;c.crossOrigin="anonymous",c.src=d,c=null}return d},getUrlByAct:function(t,n,o){var a=[t];return n!=null&&(a.push("&index="),a.push(n)),o&&(a.push("&act="),a.push(o)),a.push("&ticks="),a.push(Date.now()),a.join("")},output:function(t,n){m.debug&&m.log(n)},print:function(t){var n,o=0,a="";for(o=0;o<t.length;o++)a=a+'<div class="image-container"><img src="'+t[o].Url+'" /></div>';var u,d=Vu()+"/src/dynamsoft.webtwain.css",l=["alwaysRaised=yes,z-look=yes,top=0,left=0,toolbar=no,menubar=no,location=no,status=no,width=",0,",height=",0].join(""),c=window.open("about:blank","_blank",l);n=["<html>",'<head><link rel="stylesheet" type="text/css" href="',d,'"></head>','<body id="D_body">',a,"</body></html>"].join(""),c&&(c.document.write(n),c.document.close(),c.focus(),(u=c.document.body)?u.onload=function(){c&&c.print(),m.log("print image...ok")}:m.log("cannot find image"))}};Q.html5.Funs2=Nr;var oJ=m.isString,aJ=m.isArray,sJ=m.each;function sm(t,n){if(oJ(n))t.push('"'),t.push(n),t.push('"');else if(aJ(n)){var o=at;t.push("["),sJ(n,function(a){o?o=Oe:t.push(","),sm(t,a)}),t.push("]")}else n===void 0?t.push('""'):t.push(n)}function Ge(){for(var t=[],n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];if(o.length>0)if(o.length===1){var u=o[0];t.push("["),sm(t,u),t.push("]")}else if(o.length===2){var d=o[0],l=o[1];t.push("["),sm(t,d),t.push(","),sm(t,l),t.push("]")}else sm(t,Array.prototype.slice.call(o));return t.join("")}function Gu(t){return t instanceof ArrayBuffer||t instanceof Uint8Array||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||window.Uint8ClampedArray&&t instanceof window.Uint8ClampedArray||t instanceof Float32Array||t instanceof Float64Array}var yt=function(t){return t.TWAINSCANNER=16,t.WIASCANNER=32,t.TWAINX64SCANNER=64,t.ICASCANNER=128,t.SANESCANNER=256,t.ESCLSCANNER=512,t.WIFIDIRECTSCANNER=1024,t.WIATWAINSCANNER=2048,t}(yt||{}),TN=yt.TWAINSCANNER|yt.WIASCANNER|yt.TWAINX64SCANNER|yt.ICASCANNER|yt.SANESCANNER|yt.ESCLSCANNER|yt.WIFIDIRECTSCANNER|yt.WIATWAINSCANNER,um=yt.TWAINSCANNER|yt.WIASCANNER|yt.TWAINX64SCANNER|yt.ICASCANNER|yt.SANESCANNER,uJ=yt.TWAINSCANNER|yt.WIATWAINSCANNER|yt.TWAINX64SCANNER|yt.ICASCANNER|yt.SANESCANNER;yt.TWAINSCANNER,yt.WIASCANNER,yt.WIATWAINSCANNER;var gC=yt.ESCLSCANNER|yt.WIFIDIRECTSCANNER,Bf=yt.TWAINSCANNER|yt.WIATWAINSCANNER,lJ=1;function lm(){return(++lJ).toString()}function CN(){return["dwt_",m.getRandom()].join("")}var cu=0;function Mn(t,n,o){if(m.log("showMask:"+t+"--"+cu),cu==0)if(n){pC(n);var a=Q.mask.dlgMask;if(a){a.style.zIndex="10000";var u=m.sizzle(".dynamsoft-backdrop",a.parentNode);u&&u.length>0&&(u[0].style.zIndex="10000")}}else pC(o||{});cu++}function un(t){m.log("hideMask:"+t+"--"+cu),cu>1?cu--:cu<=1&&(mC(),cu=0)}var wN=function(){return _(function t(n,o){h(this,t),w(this,"m_server",""),w(this,"m_iUsingTime",0),w(this,"m_countMap",{}),w(this,"m_newConsum",!1),w(this,"m_mapSavedToDb",!1),this.clearData(),this.m_enumInstance=n,n==V.DWT.EnumInstance.dwt_desktop?(this.m_deploymentType="desktop",this.m_server=o):n==V.DWT.EnumInstance.dwt_browser?(this.m_deploymentType="browser",this.m_server=o):n==V.DWT.EnumInstance.dbr&&(this.m_deploymentType="browser",this.m_server="")},[{key:"clearData",value:function(){this.m_iUsingTime=0,this.m_jvUsingTime=m.nil,this.m_countMap={},this.m_newConsum=!1,this.m_mapSavedToDb=!1,this.m_minExpiredTime=m.nil,this.m_maxExpiredTime=m.nil,this.m_cu=m.nil,this.m_ar=m.nil,this.m_ltsInstance=m.nil}},{key:"set_cu",value:function(t){this.m_cu=t}},{key:"get_cu",value:function(){return this.m_cu}},{key:"set_ar",value:function(t){this.m_ar=t}},{key:"get_ar",value:function(){return this.m_ar}},{key:"get_ltsInstance",value:function(t){return this.m_ltsInstance||(this.m_ltsInstance=t(this.m_enumInstance)),this.m_ltsInstance}},{key:"inited_ltsInstance",value:function(){return!!this.m_ltsInstance}},{key:"set_maxExpiredTime",value:function(t){this.m_maxExpiredTime=t}},{key:"get_maxExpiredTime",value:function(){return this.m_maxExpiredTime}},{key:"set_minExpiredTime",value:function(t){this.m_minExpiredTime=t}},{key:"get_minExpiredTime",value:function(){return this.m_minExpiredTime}},{key:"get_deploymentType",value:function(){return this.m_deploymentType}},{key:"get_enumDeploymentType",value:function(){return this.m_enumInstance}}])}(),Qe=V.DWT;Qe.LTS=Qe.LTS||{},Qe.licenseException={code:0,message:"",fromLTS:!1},Qe.bLTSOnline=!0,Qe.axInstance=void 0,Qe.lOnUpdateDWObj=[],Qe.EnumInstance={dwt_desktop:0,dwt_browser:1,dbr:2};var Hu,So=0,As={},cm=!1,Uf=!1,Vf=!1,vC=!1,dm=!1;function IN(){var t=ke.handshakeCode;return m.isString(t)||(t=""),t}function EN(){var t=ke.organizationID;return m.isNumber(t)?t=""+t:m.isString(t)||(t=""),t}function yC(){return m.replaceAll(Rl.JSVersion,",",".")}function Yn(t,n){var o=t;return o===m.nil&&(o=V.DWT.lgdt()),o==Qe.EnumInstance.dbr?(Qe._dbrLicense||(Qe._dbrLicense=new wN(o,"")),Qe._dbrLicense):(Qe._dwtDLicense||(Qe._dwtDLicense=new wN(o,"")),Qe._dwtDLicense)}Qe.lupverfy=function(){Yn(Qe.lgdt()).get_ltsInstance(Ds),Yn(Qe.EnumInstance.dbr).get_ltsInstance(Ds)};var xN=Qe.EnumInstance.dwt_desktop;Qe.lsdt=function(t,n){xN=t},Qe.lgdt=function(t){return xN},Qe.lsmid=function(t,n){Yn(Qe.lgdt()).set_cu(t)},Qe.lsar=function(t,n){Yn(Qe.lgdt()).set_ar(t)},Qe.lsmid2b=function(t){Yn(Qe.lgdt("")).set_cu(t)},Qe.lgar=function(t,n){return Yn(t).get_ar()},Qe.laddDWTObj=function(t){var n=!1;m.each(Qe.lOnUpdateDWObj,function(o){if(o==t)return n=!0,!1}),n||Qe.lOnUpdateDWObj.push(t)},Qe.lremoveDWTObj=function(t){m.each(Qe.lOnUpdateDWObj,function(n,o){if(n==t)return Qe.lOnUpdateDWObj.splice(o,1),!1})},Qe.lsendUpdateEvt=function(t,n){var o=[];if(m.each(Qe.lOnUpdateDWObj,function(d){t==Qe.EnumInstance.dwt_desktop&&o.push(d)}),o.length==0)return Q.Promise.resolve();var a,u=o[0];return u._bAx?(m.each(o,function(d){d.SetLTSInfo(Yn(t).get_ar(),Yn(t).get_cu())}),u.GetLicenseInfo().then(function(d){d&&m.isArray(d.Detail)&&d.Detail.length>0&&Qe.lsexp(t,d.Detail[0].ExpireDate,n)})):(a=u.SetLTSLicenseAsync(Yn(t).get_ar()).then(function(d){d&&m.isArray(d.Detail)&&d.Detail.length>0&&Qe.lsexp(t,d.Detail[0].ExpireDate,n)}),m.each(o,function(d,l){l!=0&&d.SetLTSLicenseAsync(Yn(t).get_ar())}),a)},Qe.lgcb=function(){var t=[];return he.bChrome?t.push("Chrome"):he.bFirefox?t.push("Firefox"):he.bEdge?t.push("Edge"):he.bIE?t.push("IE"):he.bSafari?t.push("Safari"):he.bOpera?t.push("Opera"):he.b360SE?t.push("360SE"):he.bTencentTraveler?t.push("TencentTraveler"):he.bMaxthon?t.push("Maxthon"):he.bMetaSr?t.push("MetaSr"):he.bTheWorld?t.push("TheWorld"):he.bUC?t.push("UC"):he.bHuaWeiBrowser&&t.push("HuaWeiBrowser"),t.push(he.strBrowserVersion),he.bWin?t.push("Windows"):he.bMac?t.push("Mac"):he.bLinux?t.push("Linux"):he.bAndroid?t.push("Android"):he.bChromeOS?t.push("ChromeOS"):he.bHarmonyOS?t.push("HarmonyOS"):Cn.bMobile?t.push("Mobile OS"):V.navInfo.bEmbed&&t.push("Embed OS"),t.join(" ")};var md={NetworkError:-2440,Timedout:-2441,JsonError:-2442,CorsError:-2443,Expired:-2445,LtsJsLoadError:-2446,UUIDError:-2447};function Ds(t){var n,o,a=ke.licenseServer;if(a&&a.length>0)for(n=0;n<a.length;n++)o=a[n],m.endsWith(o,"/")||(a[n]=o+"/");var u=Yn(t),d={bd:Q.ltsDebug,dm:location.origin?m.startsWith(location.origin,"http")?location.origin:"https://localhost":m.startsWith(location.href,"http")?location.href:"https://localhost",hs:Q.product.handshakeCode||"",pd:Qe.lgpd(t),vm:na,dt:u.get_enumDeploymentType(),btoa:m.btoa,atob:m.atob,fol:Qe.OnFirstOffline,sutlcb:function(){m.isFunction(Qe.lonsend)&&Qe.lonsend()},lf:Q.localforage,updl:function(p){u.set_ar(p.ar),u.get_cu()||u.set_cu(p.cu),Qe.lsendUpdateEvt(t,"")},mnet:function(){return u.get_maxExpiredTime()},mxet:function(){return u.get_minExpiredTime()},dwt:!0};if(t==Qe.EnumInstance.dwt_browser||t==Qe.EnumInstance.dbr?d.feab=Qe.lfeab_wasm:d.feab=Qe.lfeab_ax,!he.bIE&&ke.ltsDebug&&(d.log=console.log),V.LTS&&V.LTS._)return V.LTS._.createLtsInstance(d);var l={},c=function(){return Q.Promise.reject({code:md.LtsJsLoadError,message:"The dynamsoft.lts.js load failed."})};return l.i=c,l.s=c,l.u=c,l.caret=c,l}Qe.lgpd=function(t){return t==Qe.EnumInstance.dwt_desktop?"dwt|dbr|ddv":"dwt|ddv"};var AN=!1;function Ry(t,n){return _C.apply(this,arguments)}function _C(){return _C=s(E().mark(function t(n,o){var a,u,d,l,c,p,g,S,v,b;return E().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(a=o??"",d=Yn(n),l=d.get_enumDeploymentType(),Qe.lclex(),!d.get_ar()||!d.get_cu()){T.next=10;break}if(AN){T.next=9;break}return u=d.get_ltsInstance(Ds),T.next=8,u.ih();case 8:AN=!0;case 9:return T.abrupt("return",Q.Promise.resolve({ar:d.get_ar(),cu:d.get_cu()}));case 10:if((c={pd:Qe.lgpd(n),v:yC(),os:Qe.lgcb(),fn:Qe.DeviceFriendlyName||"",ls:ke.licenseServer,sp:ke.sessionPassword,l:It.getLTSLicense(),mnet:function(){return d.get_maxExpiredTime()},mxet:function(){return d.get_minExpiredTime()},fol:Qe.OnFirstOffline}).dt=d.get_deploymentType(),l!=Qe.EnumInstance.dwt_desktop){T.next=20;break}if(d.get_cu()!=""){T.next=17;break}return Ia(p={}),T.abrupt("return",Q.Promise.reject({code:p._errorCode,message:p._errorString}));case 17:c.lsu=d.get_cu(),T.next=21;break;case 20:l==Qe.EnumInstance.dbr||(c.dwt=!0,d.get_cu()!=""&&(c.lsu=d.get_cu()),c.updl=function(D){d.set_ar(D.ar),d.get_cu()||d.set_cu(D.cu),Qe.lsendUpdateEvt(l,a)});case 21:return T.prev=21,u=d.get_ltsInstance(Ds),T.next=25,u.i(c);case 25:return g=T.sent,d.get_ar()||d.set_ar(g.ar),d.get_cu()||d.set_cu(g.cu),T.abrupt("return",g);case 31:throw T.prev=31,T.t0=T.catch(21),d.clearData(),m.isString(T.t0)?(v=DN(T.t0),Qe.lsetException(v,T.t0,!0),S=Qe.licenseException):(SC(b={},T.t0),S={code:b._errorCode,message:b._errorString}),S;case 36:case"end":return T.stop()}},t,null,[[21,31]])})),_C.apply(this,arguments)}function Ol(){return Date.now()}function gd(t){var n=t?new Date(t):new Date,o="yyyy-MM-ddTHH:mm:ss.SSSZ",a={"M+":n.getUTCMonth()+1,"d+":n.getUTCDate(),"H+":n.getUTCHours(),"h+":n.getUTCHours()%12||12,"m+":n.getUTCMinutes(),"s+":n.getUTCSeconds(),"q+":Math.floor((n.getUTCMonth()+3)/3),"S+":n.getUTCMilliseconds()};for(var u in/(y+)/.test(o)&&(o=o.replace(RegExp.$1,(n.getUTCFullYear()+"").substr(4-RegExp.$1.length))),a)new RegExp("("+u+")").test(o)&&(o=o.replace(RegExp.$1,RegExp.$1.length==1?a[u]:("000"+a[u]).substr(("000"+a[u]).length-RegExp.$1.length)));return o}function DN(t){var n=md.NetworkError;return t.indexOf("timed out")>-1||t.indexOf("timeout")>-1?n=md.Timedout:(t.indexOf("access-control-allow-origin")>-1||t.indexOf("cors")>-1)&&(n=md.CorsError),n}function SC(t,n){if(n){var o=n.code||n.ltsErrorCode,a=n.message;o==111||o==106||o==108?($p(t,o),t._errorString=a):(t._errorCode=o,t._errorString=a),V.DWT.lsetException(t._errorCode,t._errorString,!0)}}function bC(t,n){t.__licenseInfo=n,function(o){o.__calic||(o.__calic=o.__licenseInfo)}(t)}function ky(t){var n=V.DWT.licenseException;n.code=t.code,n.message=t.message,t&&(TC(t),t instanceof Error?m.error(t):m.error(m.stringify(t)))}function TC(t){m.isFunction(V.DWT.OnWebTwainError)?V.DWT.OnWebTwainError(t):m.isFunction(window.Dynamsoft_OnError)&&window.Dynamsoft_OnError(t)}function Ny(t){return t==Xi.LicenseExpiredForDLS||t==Xi.LicenseNoCoreForDLS||t==Xi.LicenseNoCore||t==Xi.LicenseInvalid||t==Xi.LicenseExpired||t==Xi.LicenseParseFailed||t==Xi.LicenseIsFuture||t==Xi.LicenseVersionNotCurrent}function PN(t){return t==Xi.LicenseExpired}function CC(t){var n=0,o=t.message;m.isNumber(t.code)?n=t.code:m.isString(o)&&(n=-1),n!=0&&function(a,u){m.isFunction(V.OnLicenseError)&&V.OnLicenseError(u,a)}(n,o)}function RN(t){CC(Rr(t))}Qe.lglic=Ry,Qe.lgbuuid=function(){return""},Qe.lshow=function(){return{t:Hu,t2:So,m:m.stringify(As)}},Qe.lgct=function(t){switch(t){case 0:return"3011";case 1:return"3012";case 2:return"3014";case 3:return"3013";case 4:return"3015";case 14:return"3016";case 3001:return"3001";case 3002:return"3002";case 3003:return"3003";case 3004:return"3004";case 3005:return"3005";case 3006:return"3006";case 3007:return"3007";case 3008:return"3008";case 3009:return"3009";case 5001:return"5001";case 4001:return"4001";case 4002:return"4002";case 4003:return"4003"}return""},Qe.lcvrf=function(t){t&&(t._canConsume&&!t._canConsume()||setTimeout(function(){Qe.lcvrf_(t)},1))},Qe.lcvrf_=function(t){var n;n=Qe.lgdt();var o,a=Qe.DeviceFriendlyName||"",u=Qe.lgcb(),d=Yn(n),l={hs:IN(),og:EN(),cu:d.get_cu(),fn:a,cw:"",os:u,v:yC(),dt:d.get_deploymentType(),ed:"js"},c=function(v,b){var T,D,M=0;if(m.isString(v)&&v!=""&&v!="{}"&&b&&m.isArray(b)&&!(b.length<1)){if(D=Yn(b[0]),T=m.parse(v),Qe.lclex(),So==0){var W=Ol(),Y="";So=W,Hu=gd(W),As={},M=0,m.each(T,function(ee,te){(te<M||M==0)&&(M=te,Y=ee)}),M>0&&D.get_ltsInstance(Ds).s(ke.licenseServer,Y,M,!0).then(function(){},function(ee){})}m.each(T,function(ee,te){var de=!1,Z=parseInt(te);Z>0&&Z!=M&&(Z+18e4<Ol()&&(de=!0),D.get_ltsInstance(Ds).s(ke.licenseServer,ee,te,de).then(function(){},function(ne){}))})}};if(l.pd=Qe.lgpd(n),o=m.stringify(l),!t._bAx){var p="GetBuffer",g=Ge(m.replaceAll(o,'"','\\"')),S={cmd:p,cmdId:lm(),sFun:c,fFun:function(){},params:[n]};return t._innerSendByWS(p,g,S,null,!0)}c(t.GetBuffer(o),[n,""])},Qe.lavrf=function(t,n,o,a){var u=1;if(t!=""){n>1&&(u=n);var d=Ol();if(So>0&&So+18e4<d){Uf?(As={},Qe.lavrf__unload()):Qe.lavrf__(!0,o,a);var l=Ol()+1;So=l,Hu=gd(l),As={}}cm=!0,Uf=!1,As[t]?As[t]+=u:As[t]=u,So==0&&Qe.lavrf__(!0,o,a)}},Qe.lavrf_=function(t,n,o){if(cm){var a=1;t&&(a=t),setTimeout(function(){Qe.lavrf__(!1,n,o)},a)}},Qe.lavrf__=function(t,n,o){var a,u,d,l=Ol(),c=!1,p=!!t,g=0,S=n;m.isUndefined(S)&&(S=Qe.lgdt()),d=Yn(S),cm=!1,So==0&&(c=!0,So=l,Hu=gd(l)),a=So,u=Hu;var v={};v.ut=u;var b={};if(m.each(As,function(ee,te){b[te]=ee,ee>0&&g++}),v.cts=b,p||a+18e4<l){p=!0;var T=Ol()+1;if(So=T,Hu=gd(T),As={},Uf=!1,g==0)return}else{if(g==0)return;Uf=!0}v.dur=c?1:180;var D,M=Qe.DeviceFriendlyName||"",W=Qe.lgcb(),Y={hs:IN(),og:EN(),cu:d.get_cu(),fn:M,cw:"",os:W,v:yC(),dt:d.get_deploymentType(),ed:"js",rcs:[v]};Y.product=Qe.lgpd(n),D=m.stringify(Y),ke.ltsDebug&&gd(),Qe.lclex(),d.get_ltsInstance(Ds).s(ke.licenseServer,D,""+a,p).then(function(){},function(ee){})},Qe.lavrf__unload=s(E().mark(function t(){var n,o,a,u,d,l,c;return E().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(n=Ol(),o=!0,u=!1,d=Yn(Qe.lgdt()),l=Yn(Qe.EnumInstance.dbr),cm=!1,So==0&&(So=n,Hu=gd(n)),a=So,c=Ol()+1,So=c,Hu=gd(c),As={},Uf=!1,a+=1,Qe.lclex(),!d.inited_ltsInstance()){p.next=20;break}return p.prev=13,p.next=16,d.get_ltsInstance(Ds).s(ke.licenseServer,u,""+a,o);case 16:p.next=20;break;case 18:p.prev=18,p.t0=p.catch(13);case 20:if(!l.inited_ltsInstance()){p.next=28;break}return p.prev=21,p.next=24,l.get_ltsInstance(Ds).s(ke.licenseServer,u,""+a,o);case 24:p.next=28;break;case 26:p.prev=26,p.t1=p.catch(21);case 28:case"end":return p.stop()}},t,null,[[13,18],[21,26]])})),Qe.lclex=function(){var t=Qe.licenseException;t.code=0,t.message="",t.httpResponse="",t.fromLTS=!1},Qe.li=function(t,n){var o;return t.axInstance&&(Qe.axInstance=t.axInstance,Qe.axInstance)?(o=Qe.axInstance.GetUUID(),ke.ltsDebug&&m.log("ActiveX cu: "+o),Yn(t.instanceMode).set_cu(o),o):Yn(t.instanceMode).get_cu()},Qe.lfeab_ax=function(t){return new Q.Promise(function(n,o){var a="";if(Qe.axInstance)try{a=Qe.axInstance.Encrypt(t,0)}catch{}n(a)})},Qe.lfeab_wasm=function(t){return Q.Promise.resolve("")},Qe.lwsproc=function(t,n){t.method=="GetBuffer"?n.sFun&&t.result.length>0?n.sFun(t.result[0],n.params):n.sFun("",n.params):n.sFun&&n.sFun(t)},Qe.lsexp=function(t,n,o){var a,u=n;if((a=(u=m.replaceAll(u,"/","-")).split("-")).length==3){var d=a[0],l=a[1],c=a[2];l.length<2&&(l=(l="00"+l).substr(l.length-2)),c.length<2&&(c=(c="00"+c).substr(c.length-2)),u=[d,l,c].join("-")}var p=[u,"T23:59:59.999Z"].join("");Yn(t).set_minExpiredTime(p),Yn(t).set_maxExpiredTime(p)},Qe.lunload=s(E().mark(function t(){return E().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Qe.lavrf__unload();case 2:So=0,Hu=m.nil,As={},Uf=!1,cm=!1,Vf=!1,vC=!1,dm=!1,Qe.lclex(),Qe.bLTSOnline=!0,Qe.axInstance=m.nil,Qe.lOnUpdateDWObj=[];case 14:case"end":return n.stop()}},t)})),Qe.lcexp=function(t,n){return Yn(t).get_ltsInstance(Ds).caret().then(function(){return!1},function(o){var a=Qe.licenseException,u="";return o instanceof Error||"message"in o?u=o.message:m.isString(o)&&(u=o),Qe.lsetException(md.Expired,u,!1),vC||(vC=!0,m.error(u),V.OnLTSLicenseError&&V.OnLTSLicenseError(It.getPublicLicenseContent(a.message),a.code)),!0})},Qe.OnLicenseException=function(){var t=Qe.licenseException,n=t.message;if(m.isString(n)&&(n.indexOf("Error Code")>-1?n=m.replaceAll(n,"Error Code","error code"):n.indexOf("Error code")>-1&&(n=m.replaceAll(n,"Error code","error code"))),n.indexOf("(https://www.dynamsoft.com/purchase-center/)")>-1&&(n=n.replace("(https://www.dynamsoft.com/purchase-center/)","(https://www.dynamsoft.com/store/dynamic-web-twain/)"),t.message=n),n.indexOf("error code:")>-1){var o=n.substr(0,n.indexOf("message")),a=n.substr(n.indexOf("message"));o.indexOf("{")>-1&&(o=o.substr(o.indexOf("{")+1)),a.indexOf("}")>-1&&(a=a.substr(0,a.indexOf("}"))),o=m.replaceAll(o,"error code:",""),a=m.replaceAll(a,"message: ",""),Qe.lsetException(parseInt(o),a,!0),m.error(a),V.OnLTSLicenseError&&V.OnLTSLicenseError(It.getPublicLicenseContent(n),t.code)}else{if(!t.code){var u=DN(n);Qe.lsetException(u,n,!0)}if(m.error(t.message),t.code==md.LtsJsLoadError)return;V.OnLTSLicenseError&&V.OnLTSLicenseError(It.getPublicLicenseContent(t.message),t.code)}},Qe.lol=function(){return Qe.bLTSOnline},Qe.OnFirstOffline=function(t){Qe.bLTSOnline=!1},Qe.lpubdlg=function(t,n){if(m.isString(t)&&t!=""){if(t=m.atob(t),console&&console.warn&&!Vf&&ke.bUseDynamsoftLicenseManager,n==1)return Vf||ke.bUseDynamsoftLicenseManager||(Vf=!0,V.OnLTSPublicLicenseWarning&&V.OnLTSPublicLicenseWarning(It.getPublicLicenseContent(t))),!0;n==2&&(Vf||(Vf=!0))}return!1},Qe.lcheckLic=function(t,n,o){var a=!1;if(n){if(m.isArray(n.Detail)&&n.Detail.length>0){var u=n.Detail[0].ExpireDate;return Qe.lsexp(t,u,o),Qe.lcexp(t,o).then(function(d){var l=!1;d?l=!0:n.Trial!=1&&n.Trial!=2||(l=Qe.lpubdlg(n.Message,n.Trial)),l||Qe.bLTSOnline||dm||(dm=!0,V.OnLTSConnectionWarning&&V.OnLTSConnectionWarning())})}n.Trial!=1&&n.Trial!=2||(a=Qe.lpubdlg(n.Message,n.Trial))}return a||Qe.bLTSOnline||dm||(dm=!0,V.OnLTSConnectionWarning&&V.OnLTSConnectionWarning()),Q.Promise.resolve()},Qe.lisValidID=function(t){if(m.isString(t)&&t!="")return!0;var n,o=Qe.licenseException;return Qe.lsetException(md.UUIDError,"Failed to generate an ID for your device to license it: not enough permission.",!0),m.error(o.message),n=o.message,V.OnLTSLicenseError&&V.OnLTSLicenseError(n,o.code),!1},Qe.lsetException=function(t,n,o){var a=Qe.licenseException;a.code=t,a.message=n,o?a.fromLTS=!0:o in a&&delete a.fromLTS},Qe.lgcuid=function(t){var n=V.DWT.li({instanceMode:t},"");return n?Q.Promise.resolve(n):Yn(t).get_ltsInstance(Ds).u().then(function(o){return V.DWT.lsmid(o,""),V.DWT.lsmid2b(o),o})},Qe.lts_unload=function(){V.DWT._dbrLicense.clearData(),V.DWT._dbrLicense=null,V.DWT._dwtDLicense.clearData(),V.DWT._dwtDLicense=null};var wC=_(function t(){h(this,t)});function IC(t){var n=new wC;return n.server=t.server,n.normal=!0,t.attrs&&(n.attrs=m.clone(t.attrs)),n}var du=function(t){return t.CONNECTING=0,t.OPEN=1,t.CLOSING=2,t.CLOSED=3,t}({});function EC(t,n,o){if(m.isString(t)&&(t.indexOf("Function not found")>0||t.indexOf("Version not found")>0))n&&n(t);else{var a=t.data;if(N(a)==="object")return a=null,t=null,void(o&&o());var u=a.replace(/\0/g,"");try{n&&n(u)}catch{m.log(a),o&&o()}a=null,t=null}}function xC(t,n){t&&t.readyState!=du.CLOSING&&t.readyState!=du.CLOSED?t.readyState==du.CONNECTING?(t.onerror=function(o){o&&m.log("websocket error: "+o),t._reject&&(t._reject(o),t._reject=null),t.close()},t.onclose=function(o){t.onclose=null,t.onerror=null,t.onmessage=null,t.onopen=null,t._reject=null},t.onopen=function(){t.readyState==du.OPEN?(t.onopen=null,t.send(n)):t.readyState==du.CONNECTING&&(t.onopen?setTimeout(t.onopen,100):t._reject&&(t._reject(),t._reject=null))}):t.readyState==du.OPEN&&(t.onopen=null,t.send(n)):t._reject&&(t._reject({closed:!0}),t._reject=null)}function AC(t,n,o,a){var u,d=a;return d||(V.DWT.ConnectWithSocket?m.startsWith(t,"wss://")||m.startsWith(t,"ws://")||(d=o?"wss://":"ws://"):m.startsWith(t,"https://")||m.startsWith(t,"http://")||(d=o?"https://":"http://")),n?(m.endsWith(t,"/")&&(t=t.substring(0,t.length-1)),u=":"+n+"/"):m.endsWith(t,"/")||(u="/"),[d,t,u].join("")}var zu=function(){function t(){h(this,t)}return _(t,null,[{key:"postStringDataByWS",value:function(n,o){return new Q.Promise(function(a,u){n.onmessage=function(d){EC(d,function(l){a(l),n.close(),n=null},function(){u(),n.close(),n=null})},n._reject=u,xC(n,o)})}},{key:"postStringDataByWSUrl",value:function(n,o){var a=new Q.Promise(function(u,d){var l=t.newWebsocket(n,!1);l.onmessage=function(c){EC(c,function(p){u(p),l.close(),l=null},function(p){d(p),l.close(),l=null})},l._reject=d,xC(l,o)});return he.bEdge&&a.catch(function(){return new Q.Promise(function(u,d){var l=t.newWebsocket(n,!0);l.onmessage=function(c){EC(c,function(p){u(p),l.close(),l=null},function(p){d(p),l.close(),l=null})},l._reject=d,xC(l,o)})}),a}},{key:"newWebsocket",value:function(n,o){var a,u=Xt.wsProtocol,d=window.MozWebSocket;if(d!==void 0)a=u?new d(n,u):new d(n);else{var l=window.WebSocket;if(o){var c=window,p=parent;try{for(;c!=p&&p.WebSocket;)l=p.WebSocket,c=p.window,p=p.parent}catch{l=window.WebSocket}}a=u?new l(n,u):new l(n)}return a}},{key:"getWsUrl",value:function(n,o,a){var u=a;return u===void 0&&(u=ld(n)),AC(n,o,u,u?"wss://":"ws://")}},{key:"getDDMUrl",value:function(n,o,a){var u,d,l="/";return m.startsWith(n,"https://")?u=!0:m.startsWith(n,"http://")?u=!1:n=(u=wn())?"https://"+n:"http://"+n,d=u?V.dcp.SSLPort+"/":V.dcp.Port+"/",m.endsWith(n,"/")&&(l=""),o?[n,l,"ddm/",d,a].join(""):[n,l,a].join("")}},{key:"getModuleUrl",value:function(n){var o,a=qi(),u=ld(a);return o=AC(a,u?Xt.SSLPort:Xt.Port,u),n?o+n:o}},{key:"getModuleUrlForRemoteScan",value:function(n){var o,a=he.bSSL;return o=AC(qi(),a?Xt.SSLPort:Xt.Port,a),n?o+n:o}}])}();V.DWT.NetManager=zu;var Oo=function(t){return t.ST_UNKNOWN=0,t.ST_TWAIN_DIRECT=1,t.ST_DYNAMSOFT_SERVICE=2,t.ST_ESCL=3,t.ST_WIFI_DIRECT=4,t}({}),cJ=function(){return _(function o(a){h(this,o);var u=this;if(u._id=a.id,u._clientId=m.getRandom(),u._uuidForActiveUI=null,u._bReady=Oe,u._destroy=Oe,u._bMustUpgradeService=Oe,u._wsClient=null,u._wsRetry=0,u._wsFailedTimes=0,u._bConnecting=Oe,u._bNoMask=Oe,u._bNotShowMessage=Oe,u.__serverPlatform=Ht.enumWindow,u.__productKey="",u.__licenseInfo=null,u._reconnectTimeSpan=gn.RemoteReconnectTimeSpan,u._reconnectShortSpan=300,u._reconnectShortSpanTimes=5,u._bIfShowProgressBar=at,u.__IfShowCancelDialogWhenImageTransfer=at,u._bLicenseErrorDispose=!0,u.__bServerOnPostLoadFired=!1,a.dmService){var d,l,c,p,g,S,v=IC(a.dmService),b="/",T="";l=v.server;var D=new sy(a.dmService.server),M=D.scheme;M&&(M=M.toLowerCase()),M=="https"?(d=!0,c=l.substring(8)):M=="http"?(d=!1,c=l.substring(7)):M=="wss"?(d=!0,c=l,l=m.replaceAll(l,"wss://","")):M=="ws"?(d=!1,c=l,l=m.replaceAll(l,"ws://","")):(c=l,l=(d=wn())?"https://"+l:"http://"+l),Ro(D.hostname||D.scheme)?u._bRemoteMode=Oe:u._bRemoteMode=at,m.endsWith(l,"/")&&(b="");var W=v.attrs;if(W){var Y,ee;p=((Y=W)===null||Y===void 0?void 0:Y.UUID)||"";var te=((ee=W.modules)===null||ee===void 0?void 0:ee.length)||0;if(p!=""&&te>0){var de;d?te>1&&te>1+(de=W.modules[1])+2&&(g=W.modules[1+de+2]):te>2&&(g=W.modules[2]),m.endsWith(g,"/")&&(b=""),T=[p,"/",g,"/"].join(""),te>=12&&(u._dmServiceDWTVersion=W.modules[11])}}else W={UUID:"",service_type:Oo.ST_DYNAMSOFT_SERVICE};S=[l,b,T].join(""),W.url=S,u._serverInfo=new pd([c,b,T].join(""),null,d,!0,Xt.wsProtocol),u._httpUrl=S,u._dmService=v}else{var Z,ne=wn(),X=a.port,F=a.sslPort;Ro(Z=a.host?a.host:qi())?u._bRemoteMode=!1:u._bRemoteMode=!0,X||(X=V.DWT.Port),F||(F=V.DWT.SSLPort),u._serverInfo=new pd(Z,ne?F:X,ne,!0,Xt.wsProtocol),u._httpUrl=function(B){var U=B.server;if(U){if(m.startsWith(U,"wss://")||m.startsWith(U,"ws://"))return U}else U=qi();return B.ssl?["https://",U,":",B.port,"/"].join(""):["http://",U,":",B.port,"/"].join("")}(u._serverInfo),u._dmService={server:u._httpUrl,attrs:{url:u._httpUrl,UUID:"",service_type:Oo.ST_DYNAMSOFT_SERVICE},normal:!0}}u._dmServiceDWTVersion||(u._dmServiceDWTVersion=[ke.getDWTPrefix(),ke.getServerVersionInfo()].join(""))},[{key:"_resetErr",value:function(){var o=this;o._errorCode=0,o._errorString="",o._errorCause=null,o.__bServerOnPostLoadFired=!1;var a=V.DWT.licenseException;a.code=0,a.message=""}},{key:"dispose",value:(n=s(E().mark(function o(){return E().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:this.__unload();case 1:case"end":return a.stop()}},o,this)})),function(){return n.apply(this,arguments)})},{key:"__unload",value:(t=s(E().mark(function o(){return E().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:this._bReady=Oe,this._destroy=at;case 2:case"end":return a.stop()}},o,this)})),function(){return t.apply(this,arguments)})},{key:"isDestroy",get:function(){return this._destroy}}]);var t,n}(),qa=_(function t(){h(this,t)});function kN(t,n){var o,a=[],u=n;if(m.isString(u)&&(u=m.parse(u)),m.isArray(u))for(o=0;o<u.length;o++){var d=fJ(u[o]);a.push(d)}for(o=0;o<a.length;o++){var l=a[o],c=l.deviceType;l.name&&(l.name=m.base64.decode(l.name)),c&TN&&l.deviceInfo&&NN(l.deviceInfo),l.serviceInfo=t==null?void 0:t._dmService,DC(l,t==null?void 0:t._dmService),m.isBoolean(l.isSystemDefaultPrinter)||(l.isSystemDefaultPrinter=!1)}return a}function dJ(t,n){return function(o,a){var u=a.deviceType;return a.name&&(a.name=m.base64.decode(a.name)),u&TN&&a.deviceInfo&&NN(a.deviceInfo),a.serviceInfo=o==null?void 0:o._dmService,DC(a,o==null?void 0:o._dmService),m.isBoolean(a.isSystemDefaultPrinter)||(a.isSystemDefaultPrinter=!1),a}(t,m.parse(n))}function DC(t,n){var o,a=t.name,u="",d=t.deviceType;d==yt.TWAINSCANNER?o="":d==yt.TWAINX64SCANNER?o="Twain64-":d==yt.WIASCANNER?o="WIA-":d==yt.WIATWAINSCANNER?(a=m.replaceAll(a,"WIA-",""),o="WIATWAIN-"):o=d==yt.ICASCANNER?"ICA-":d==yt.SANESCANNER?"Sane-":d==yt.ESCLSCANNER?"eSCL-":(yt.WIFIDIRECTSCANNER,""),n&&n.attrs&&n.attrs.ty&&(u=" on ["+n.attrs.ty+"]"),t.displayName=[o,a,u].join("")}function NN(t){if(t.ProductName){var n=t.ProductName;t.ProductName=m.base64.decode(n)}if(t.ProductFamily){var o=t.ProductFamily;t.ProductFamily=m.base64.decode(o)}if(t.Manufacturer){var a=t.Manufacturer;t.Manufacturer=m.base64.decode(a)}if(t.Version&&t.Version.Info){var u=t.Version.Info;t.Version.Info=m.base64.decode(u)}}function fJ(t){var n=new qa;return n.strDevice=m.stringify(t),t.deviceInfo&&(n.deviceInfo=m.clone(t.deviceInfo)),t.deviceType&&(n.deviceType=m.clone(t.deviceType)),t.displayName&&(n.displayName=m.clone(t.displayName)),t.name&&(n.name=m.clone(t.name)),t.serviceInfo&&(n.serviceInfo=IC(t.serviceInfo)),m.isBoolean(t.isSystemDefaultPrinter)?n.isSystemDefaultPrinter=t.isSystemDefaultPrinter:n.isSystemDefaultPrinter=!1,n}Q.removeNonPrintableChar;var fm=function(t){return t.SMF_NAME=1,t.SMF_TWAINVERSION=2,t.SMF_TWAINPROTOCOL=4,t.SMF_ICAUUID=8,t.SMF_ICAMODULEVERSION=16,t.SMF_ICALOCATIONTYPE=32,t}({}),gr=function(t){return t.IT_BMP=0,t.IT_JPG=1,t.IT_TIF=2,t.IT_PNG=3,t.IT_PDF=4,t.IT_ALL=5,t.IT_MULTIPAGE_PDF=7,t.IT_MULTIPAGE_TIF=8,t.IT_J2K=14,t}({}),Oy=function(t){return t.RGBA=15,t.Auto=16,t}({});function PC(t){var n="application/octet-stream";switch(t){case gr.IT_BMP:n="image/bmp";break;case gr.IT_JPG:n="image/jpeg";break;case gr.IT_TIF:n="image/tiff";break;case gr.IT_PNG:n="image/png";break;case gr.IT_PDF:n="application/pdf";break;case gr.IT_J2K:n="image/jp2"}return n}var fu={isSupportLS:function(){var t=!1;if(!(he.bEdge&&he.bFileSystem))try{t=!!window.localStorage}catch{}return t},item:function(t,n,o){var a=null;return this.isSupportLS()?(n?(localStorage.setItem(t,n),a=n):a=localStorage.getItem(t),a===null?o:a):o},removeItem:function(t){return!!this.isSupportLS()&&(localStorage.removeItem(t),!0)}},ON=!0,FN=!1;function hJ(t){if(m.isUndefined(t))return FN;var n,o,a,u=t.toString().toLowerCase(),d=(a=u.toLowerCase().replace(ke.name.toLowerCase()+" ",""),(a=m.replaceAll(a,"[.]",",")).split(","));n=ke.bActiveXEdition?Rl.ActiveXVersion:ke.getServerVersionInfo(!0),o=(n=m.replaceAll(String(n),"[.]",",")).split(",");for(var l=d.length>o.length?d.length:o.length,c=0;c<l;c++){if(d[c]==null&&(d[c]=0),o[c]==null&&(o[c]=0),parseInt(d[c])<parseInt(o[c]))return FN;if(parseInt(d[c])>parseInt(o[c]))return ON}return ON}function pJ(t,n){var o=t.split(","),a=n.split(",");return o.length>1&&m.trim(o[0])==a[0]}function mJ(t,n){var o=t.split(","),a=n.split(",");return o.length>3&&m.trim(o[0])==a[0]&&(m.trim(o[1])>a[1]||m.trim(o[1])==a[1]&&m.trim(o[2])>a[2]||m.trim(o[1])==a[1]&&m.trim(o[2])==a[2]&&parseInt(m.trim(o[3]))>=parseInt(a[3]))}function MN(t,n){var o=wn();Q.detect.urls.splice(0),Q.detect.urls.push({port:o?n:t,ssl:o}),Q.detect.ports=[{port:o?n:t,ssl:o}],Q.detect.cUrlIndex=0,Xt.detect.dwtPort=t,Xt.detect.dwtSSLPort=n,V.DWT.Port=t,V.DWT.SSLPort=n}function RC(t,n,o){return LN.apply(this,arguments)}function LN(){return(LN=s(E().mark(function t(n,o,a){var u,d,l;return E().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!ke.bDCPChecked){c.next=2;break}return c.abrupt("return",{host:n,port:V.DWT.Port,sslPort:V.DWT.SSLPort});case 2:return In("Initializing the service..."),c.prev=3,c.next=6,WN(n);case 6:u=c.sent,c.next=13;break;case 9:throw c.prev=9,c.t0=c.catch(3),m.log(c.t0),JT();case 13:if(!Xt.bEnhancedMode){c.next=29;break}if(In("Checking the service enhanced module..."),d=Q.install._dlgInstall,l=500,d||(l=0),d.getAttribute("opened")=="true"||(l=0),!(u.port<=0||u.sslPort<=0)){c.next=27;break}if(!(l>0)){c.next=23;break}return c.next=23,new Q.Promise(function(p,g){setTimeout(function(){p()},l)});case 23:return In(Xk),c.next=26,gJ(n);case 26:u=c.sent;case 27:c.next=30;break;case 29:u={host:n,port:o,sslPort:a};case 30:return ke.bDCPChecked=!0,c.abrupt("return",u);case 32:case"end":return c.stop()}},t,null,[[3,9]])}))).apply(this,arguments)}function gJ(t){return kC.apply(this,arguments)}function kC(){return kC=s(E().mark(function t(n){var o,a,u,d;return E().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:a=5,u=1500,d={host:n,port:0,sslPort:0},o=0;case 3:if(!(o<a)){l.next=22;break}return o>2&&(u=3e3),In(Xk),l.prev=6,l.next=9,vJ(n);case 9:d=l.sent,l.next=14;break;case 12:l.prev=12,l.t0=l.catch(6);case 14:if(!(m.isNumber(d.port)&&d.port>0&&m.isNumber(d.sslPort)&&d.sslPort>0)){l.next=17;break}return MN(d.port,d.sslPort),l.abrupt("return",d);case 17:return l.next=19,new Q.Promise(function(c,p){setTimeout(function(){c()},u)});case 19:o++,l.next=3;break;case 22:throw Q.detect.dcpStatus=3,JT();case 25:case"end":return l.stop()}},t,null,[[6,12]])})),kC.apply(this,arguments)}function vJ(t){return NC.apply(this,arguments)}function NC(){return NC=s(E().mark(function t(n){var o,a,u,d,l,c,p,g,S,v;return E().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return o=wn(),a=ke.refProductKey,m.startsWith(n,"wss://")||m.startsWith(n,"ws://")?d=n:(l=o?Xt.SSLPort:Xt.Port,d=zu.getWsUrl(n,l,o)),c={id:m.guid(),method:"GetPorts",version:"dwasm2_"+Af(),parameter:[Xt.strSID]},It.isLongKey(a)&&(c.productKey=a),b.next=7,zu.postStringDataByWSUrl(d,m.stringify(c));case 7:if(p=b.sent,!m.isString(p)){b.next=20;break}if(b.prev=9,(g=m.parse(p))&&"result"in g&&(u=g.result),!(m.isArray(u)&&u.length>1&&u[1])){b.next=16;break}if(!(S=u[1]).dwt){b.next=16;break}return b.abrupt("return",{host:n,port:S.dwt.port,sslPort:S.dwt.sslPort});case 16:b.next=20;break;case 18:b.prev=18,b.t0=b.catch(9);case 20:throw ko(v={}),Rr(v);case 23:case"end":return b.stop()}},t,null,[[9,18]])})),NC.apply(this,arguments)}function WN(t){return jN.apply(this,arguments)}function jN(){return(jN=s(E().mark(function t(n){var o,a;return E().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return Xt.detect.bConnected=!1,u.prev=1,u.next=4,yJ(n);case 4:return _J(u.sent),Xt.detect.bConnected=!0,u.abrupt("return",{host:n,port:Xt.detect.dwtPort,sslPort:Xt.detect.dwtSSLPort});case 10:if(u.prev=10,u.t0=u.catch(1),!u.t0){u.next=21;break}if(o=u.t0.code,!m.isNumber(o)){u.next=21;break}if(o!=$t.ResponseDataTypeError&&o!=$t.HTSTError&&o!=$t.CORSError&&o!=$t.CORSErrorFromService&&o!=$t.SSLCertExpired&&o!=$t.SSLCertInvalid){u.next=19;break}throw u.t0;case 19:if(o!=$t.MustUpgrade){u.next=21;break}throw u.t0;case 21:throw Xt.detect.dcpStatus=Xt.detect.EnumDCP_DetectStatus.NotInstalled,V.dcp._sendStatusEvent(),Of(a={}),{code:a._errorCode,message:a._errorString};case 26:case"end":return u.stop()}},t,null,[[1,10]])}))).apply(this,arguments)}function yJ(t){return BN.apply(this,arguments)}function BN(){return(BN=s(E().mark(function t(n){var o,a,u,d,l,c,p,g,S,v;return E().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return o=wn(),a=ke.refProductKey,m.startsWith(n,"wss://")||m.startsWith(n,"ws://")?d=n:(l=o?Xt.SSLPort:Xt.Port,d=zu.getWsUrl(n,l,o)),c={id:m.guid(),method:"VersionInfo",version:"dwasm2_"+gn.getVersionStrForCheck(),parameter:[]},It.isLongKey(a)&&(c.productKey=a),b.next=7,zu.postStringDataByWSUrl(d,m.stringify(c));case 7:if(p=b.sent,m.isString(p))try{(g=m.parse(p))&&"result"in g&&(u=g.result)}catch{}if(S={},!(m.isArray(u)&&u.length>0&&u[0])){b.next=22;break}if(v=u[0],!m.isString(v)||v==""){b.next=22;break}if(!pJ(v,ke.getServerVersionInfo(!0))){b.next=19;break}return Xt.detect.dcpStatus=Xt.detect.EnumDCP_DetectStatus.UpdateSkipped,V.dcp._sendStatusEvent(),b.abrupt("return",u);case 19:throw In(Zk),Rf(S),Rr(S);case 22:throw ko(S),Rr(S);case 24:case"end":return b.stop()}},t)}))).apply(this,arguments)}function _J(t){var n="",o=!1,a=!1,u={};if(t.length>4&&(n=m.isString(t[2])?t[2]:"",o=m.isString(t[3])&&t[3]==="true",a=m.isString(t[4])&&t[4]==="64"),t.length>5&&(u=t[5]),Xt.detect.connectedResult=t,Xt.strSID=n,Xt.bEnhancedMode=o,Xt.b64bit=a,Xt.objEnhancedPorts=u,o&&u){if(u.dcp){var d=u.dcp;Xt.SSLPort=d.sslPort,Xt.Port=d.port}if(u.ddm){var l=u.ddm;if(l){var c=wn();Xt.detect.ddmPort=c?l.sslPort:l.port}else Xt.detect.ddmPort=0}if(V.DWT.Port=0,V.DWT.SSLPort=0,u.dwt){var p=u.dwt;p&&p.port>0&&p.sslPort>0&&MN(p.port,p.sslPort)}}}function UN(){return VN.apply(this,arguments)}function VN(){return(VN=s(E().mark(function t(){return E().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!navigator.permissions||!navigator.permissions.query){n.next=9;break}return n.prev=1,n.next=4,navigator.permissions.query({name:"local-network-access"});case 4:return n.abrupt("return",n.sent);case 7:n.prev=7,n.t0=n.catch(1);case 9:return n.abrupt("return",{state:"other"});case 10:case"end":return n.stop()}},t,null,[[1,7]])}))).apply(this,arguments)}function GN(t){if(m.isString(t)){if(t=="localhost"||t=="127.0.0.1")return!0;var n=t.split(".");if(n.length==4&&/^(([1-9]?\d|1\d{2}|2[0-4]\d|25[0-5])\.){3}([1-9]?\d|1\d{2}|2[0-4]\d|25[0-5])$/.test(t)){var o=parseInt(n[0]),a=parseInt(n[1]);if(o==127||o==10||o==169&&a==254||o==172&&a>=16&&a<=31||o==192&&a==168)return!0}}return!1}function SJ(){return HN.apply(this,arguments)}function HN(){return(HN=s(E().mark(function t(){return E().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!navigator.permissions||!navigator.permissions.query){n.next=9;break}return n.prev=1,n.next=4,navigator.permissions.query({name:"local-network-access"});case 4:return n.abrupt("return",!0);case 7:n.prev=7,n.t0=n.catch(1);case 9:return n.abrupt("return",!1);case 10:case"end":return n.stop()}},t,null,[[1,7]])}))).apply(this,arguments)}function bJ(){return OC.apply(this,arguments)}function OC(){return OC=s(E().mark(function t(){var n;return E().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return n=location.hostname,o.next=3,SJ();case 3:if(o.t1=o.sent,!o.t1){o.next=6;break}o.t1=!GN(n);case 6:if(o.t0=o.t1,!o.t0){o.next=9;break}o.t0=!he.bFileSystem;case 9:return o.abrupt("return",o.t0);case 10:case"end":return o.stop()}},t)})),OC.apply(this,arguments)}function FC(){var t=location.hostname;return!(!((he.bChrome||he.bEdge)&&parseInt(he.strBrowserVersion)>=94)||GN(t)||he.bSSL||he.bFileSystem)}function zN(t,n,o,a){return MC.apply(this,arguments)}function MC(){return MC=s(E().mark(function t(n,o,a,u){var d,l;return E().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(o!=yn.GET_TASKID){c.next=4;break}return c.abrupt("return",u.taskId);case 4:if(o!=yn.ONMESSAGE_PROCESS_DATA){c.next=8;break}return c.abrupt("return",m.parse(n));case 8:if(o!=yn.ONMESSAGE_GET_TASKID){c.next=15;break}if(!n||!n.cmdId){c.next=11;break}return c.abrupt("return",n.cmdId);case 11:if(!u||!u.client){c.next=13;break}return c.abrupt("return",u.client.getRequestTaskId());case 13:c.next=23;break;case 15:if(o!=yn.HANDLE_RAW_MESSAGE){c.next=23;break}if(l=n.rawData,n.jsonData,d=u==null?void 0:u.userData){c.next=21;break}return c.abrupt("return",!1);case 21:return l.indexOf("Version not found")>=0||l.indexOf("Function not found")>=0?m.isFunction(d.fFun)&&d.fFun():m.isFunction(d.sFun)&&d.sFun(l),c.abrupt("return",l);case 23:case"end":return c.stop()}},t)})),MC.apply(this,arguments)}function KN(t){var n,o,a=t.WebTwainId,u=t.Host,d=t.Port,l=t.SSLPort;return o={},m.isString(a)&&a!==""?o.id=a:o.id=a=CN(),m.isDOM(t.Container)?(n=t.Container,m.isString(n.id)&&n.id!==""||(n.id=["dwt_node_",m.getRandom()].join("")),o.container=n,o.bNoViewer=!1):o.bNoViewer=!0,o.bNoViewer?(o.width=0,o.height=0):(m.isUndefined(t.Width)?n.style.width?o.width=n.style.width:o.width=300:o.width=t.Width,m.isUndefined(t.Height)?n.style.height?o.height=n.style.height:o.height=300:o.height=t.Height),o.dmService=t.dmService,m.isString(u)&&u!=""||(u=qi()),o.host=u,d||(d=V.DWT.Port),o.port=d,l||(l=V.DWT.SSLPort),o.sslPort=l,o}V.DWT.NetManager.checkModuleManager=function(t,n){WN(qi()).then(t,n)},V.DWT.NeedCheckWebTwainBySocket=FC,V.DWT.CheckWebTwainBySocket=function(t,n,o){var a,u,d,l=Q.detect.urls;if(l&&l.length>0){var c=l[0];a=c.host||qi(),u=c.port,d=c.ssl}else d=ld(a=qi()),Ro(a)&&(d=!(!d||!he.bSafari),a=gn.hostForCheckCert),u=d?V.DWT.SSLPort:V.DWT.Port;(function(p,g,S,v){var b,T=m.now(),D=T,M={id:T,cmdId:T,method:"VersionInfo",version:[ke.getDWTPrefix(),gn.getVersionStrForCheck()].join("")},W=zN,Y={cmdId:D,cmd:null,sFun:g,fFun:S,rawData:!0},ee=Jp();b={client:p,userData:Y,taskId:T},p.setRetry(0),p.request(m.stringify(M),W,b,ee).then(function(te){return p.dispose(),te},function(){m.isFunction(v)&&v(),p.dispose()})})(ju.getWsClient(a,u,d,!0),t,n,o)},V.DWT.IsLocalServiceConnected=function(){return new Q.Promise(function(t,n){var o,a=qi(),u=ld(a);m.each(Q.detect.ports,function(d){u?d.ssl&&(o=d.port):d.ssl||(o=d.port)}),V.DWT.CheckConnectToTheService(a,o,u,function(d,l,c){t(!0)},function(){n(!1)})})};var Fl=function(t){return t.Info=1,t.Error=2,t.NotInstalledError=3,t}({});function QN(t){var n=Date.parse(t+"T00:00:00");return t!=""&&!isNaN(n)&&!!V.DWT.CheckCertExpired&&new Date().getTime()>=n-864e5*V.DWT.CertificateConfig.UpdateDaysBeforeExpired}function YN(t,n,o){if(t){var a=n??270,u=o??350;a<=0&&(a=270),u<=0&&(u=350),Pe.one(t).before(Q.install._strNonInstallDIV);var d=m.get(Q.install._divDWTNonInstallContainerID);d&&(d.style.width=a,d.style.height=u),m.show(Q.install._divDWTNonInstallContainerID)}}function Ku(t){var n=om(),o=wn();if(Q.install._divDWTemessageContainer!=""&&m.hide(Q.install._divDWTemessageContainer),he.bMac)t?m.isFunction(V.OnWebTwainNeedUpgradeCallback)&&V.OnWebTwainNeedUpgradeCallback(ke.name,{default:n},ke.bHTML5Edition,Ht.enumMac,he.bIE,he.bSafari,o,Cn.strIEVersion):m.isFunction(V.OnWebTwainNotFoundOnMacCallback)&&V.OnWebTwainNotFoundOnMacCallback(ke.name,n,ke.bHTML5Edition,he.bIE,he.bSafari,o,Cn.strIEVersion);else if(he.bLinux||V.navInfo.bEmbed||he.bChromeOS||Cn.bMobile){var a,u,d=Jk();if(V.navInfo.bEmbed||he.bAndroid||he.bChromeOS||he.bHarmonyOS?a=n:(a=Yk(),u=qk()),t){if(he.bAndroid)m.isFunction(V.OnWebTwainNeedUpgradeOnAndroidCallback)&&V.OnWebTwainNeedUpgradeOnAndroidCallback(ke.name,n,o);else if(m.isFunction(V.OnWebTwainNeedUpgradeCallback)){var l={default:a};he.bLinux&&(l.deb=a,l.rpm=u),V.OnWebTwainNeedUpgradeCallback(ke.name,l,ke.bHTML5Edition,d,he.bIE,he.bSafari,o,Cn.strIEVersion)}}else he.bAndroid?m.isFunction(V.OnWebTwainNotFoundOnAndroidCallback)&&V.OnWebTwainNotFoundOnAndroidCallback(ke.name,n,o,!1):!gn.bFullEdition&&Cn.bMobile?m.isFunction(V.OnMobileNotSupportCallback)&&V.OnMobileNotSupportCallback():m.isFunction(V.OnWebTwainNotFoundOnLinuxCallback)&&V.OnWebTwainNotFoundOnLinuxCallback(ke.name,a,u,ke.bHTML5Edition,he.bIE,he.bSafari,o,Cn.strIEVersion,d)}else if(he.bChrome||he.bSafari||he.bFirefox||he.bOpera||V.DWT.IfUseActiveXForIE10Plus==it||!V.DWT.ActiveXInstallWithCAB&&he.bIE)if(t){if(m.isFunction(V.OnWebTwainNeedUpgradeCallback)){var c={default:n};V.OnWebTwainNeedUpgradeCallback(ke.name,c,ke.bHTML5Edition,Ht.enumWindow,he.bIE,he.bSafari,o,Cn.strIEVersion)}}else m.isFunction(V.OnWebTwainNotFoundOnWindowsCallback)&&V.OnWebTwainNotFoundOnWindowsCallback(ke.name,n,ke.bHTML5Edition,he.bIE,he.bSafari,o,Cn.strIEVersion)}var qN=!1;function TJ(t,n,o){Ro(t)&&(fu.item("DWT_port",n),fu.item("DWT_ssl",o?"true":"false"))}function Gf(t,n,o,a,u){return JN.apply(this,arguments)}function JN(){return(JN=s(E().mark(function t(n,o,a,u,d){var l,c,p,g,S,v,b,T,D,M,W,Y,ee,te,de,Z,ne,X,F,B,U,K,J,re,oe,fe,ae,ue,ye,be,Te,je,Ye,He,_t,ct,gt;return E().wrap(function($e){for(;;)switch($e.prev=$e.next){case 0:if(p=!1,g=!1,S=!1,v=V.DWT.ConnectWithSocket,b=!0,d&&(d.bRemoteServer&&(S=!0),d.bConnectWithSocket&&(v=!0),d.bCheckCert&&(g=!0),d.bShowInitMessage===!1&&(b=!1)),b&&V.DWT.OnWebTwainInitMessage&&V.DWT.OnWebTwainInitMessage("Checking WebTwain version ...",Fl.Info),T=m.now(),M=['{"id":"',D=T,'","cmdId":"',D,'","method":"VersionInfo","version":"',ke.getDWTPrefix(),gn.getVersionStrForCheck(),'"}'].join(""),W=!v&&!he.bSSL,$e.prev=7,!v){$e.next=23;break}return Y=zN,ee={client:l,userData:{cmdId:D,cmd:null,sFun:null,fFun:null,rawData:!0},taskId:D},(l=ju.getWsClient(n,o,a,!0)).setRetry(0),$e.next=15,l.request(M,Y,ee,u);case 15:if(c=$e.sent,!l){$e.next=20;break}return $e.next=19,l.dispose();case 19:l=null;case 20:p=!0,$e.next=31;break;case 23:return te="fa/VersionInfo?v=1&ts="+T,de=ju.getHttpClient(n,o,a),Z={},Ro(n)&&(Z.targetAddressSpace="loopback"),W&&(Z.redirect="manual"),$e.next=30,de.request(M,te,Z,u);case 30:c=$e.sent;case 31:$e.next=52;break;case 33:if($e.prev=33,$e.t0=$e.catch(7),m.log(["check DWT Version failed",m.stringify($e.t0)]),!l){$e.next=40;break}return $e.next=39,l.dispose();case 39:l=null;case 40:if(!p){$e.next=44;break}$e.next=52;break;case 44:if(!W){$e.next=48;break}if(($e.t0&&$e.t0.code)!=$t.HTTPRedirected){$e.next=48;break}throw Nk();case 48:throw Of(ne={}),b&&V.DWT.OnWebTwainInitMessage&&V.DWT.OnWebTwainInitMessage(ne._errorString,Fl.Error),{code:ne._errorCode,message:ne._errorString};case 52:if(X="",F="",B={},U=!1,c&&(K=m.parse(c)),!K||!("exception"in K)){$e.next=59;break}oa(K)?(B._errorCode=K.exception,B._errorString=K.description,B._errorCause=yo(K)):B._errorCode=$t.CommonError,$e.next=138;break;case 59:if(!K||!("result"in K)){$e.next=100;break}if(K=K.result,!(m.isArray(K)&&K.length>0)){$e.next=97;break}if(J=K[0],X=K.length>1?K[1]:"",re=K.length>2?K[2]:0,oe=K.length>3?K[3]:"",F=K.length>4?K[4]:"",X!==""){$e.next=94;break}if(fe="The WebTwain version is: "+J,b&&V.DWT.OnWebTwainInitMessage&&V.DWT.OnWebTwainInitMessage(fe,Fl.Info),re=="32"&&Ro(n)&&(Xt.b64bit=!1),Ro(n)&&(V.DWT.li({instanceMode:V.DWT.lgdt()},"")||oe!=""&&(V.DWT.lsmid(oe,""),V.DWT.lsmid2b(oe))),(m.isFunction(V.DWT.OnSSLCertInfo)||m.isFunction(V.OnSSLCertInfo))&&(F!=""&&(ae=Date.parse(F+"T00:00:00"),ae=isNaN(ae)?null:new Date(ae)),qN||(m.isFunction(V.DWT.OnSSLCertInfo)?V.DWT.OnSSLCertInfo(ae):m.isFunction(V.OnSSLCertInfo)&&V.OnSSLCertInfo(ae)),qN=!0),!g){$e.next=81;break}if(F!=""){$e.next=78;break}throw $Y();case 78:if(!QN(F)){$e.next=81;break}throw ZY();case 81:if(!m.isString(J)||J==""){$e.next=91;break}if(In("Checking the WebTwain version..."),!S&&!mJ(J,ke.getServerVersionInfo(!0))){$e.next=87;break}return $e.abrupt("return",{host:n,port:o,bSSL:a,version:J,certExpiredDate:ae});case 87:In(Zk),Rf(B);case 89:$e.next=92;break;case 91:U=!0;case 92:$e.next=95;break;case 94:X==="Version not found"?Rf(B):XY(B,X);case 95:$e.next=98;break;case 97:U=!0;case 98:$e.next=138;break;case 100:if(!K||!("ports"in K)){$e.next=137;break}if(ue=K.ports,ye=[],!(m.isArray(ue)&&ue.length>0)){$e.next=134;break}if(m.each(ue,function(qe){m.isArray(qe)&&qe.length===3&&qe[0]&&ye.push(qe)}),ye.length!=1){$e.next=110;break}je=ye[0],Te=je[2],be=je[1],$e.next=132;break;case 110:if(!(ye.length>1)){$e.next=132;break}d.bShowInitMessage=!1,d.bConnectWithSocket=!0,Ye=0;case 114:if(!(Ye<ye.length)){$e.next=132;break}if(He=ye[Ye],!m.isArray(He)||He.length!==3){$e.next=129;break}if(!He[0]){$e.next=129;break}return _t=He[2],ct=He[1],gt=a?_t:ct,$e.prev=119,$e.next=122,Gf(n,gt,a,u,d);case 122:return be=ct,Te=_t,$e.abrupt("break",132);case 127:$e.prev=127,$e.t1=$e.catch(119);case 129:Ye++,$e.next=114;break;case 132:if(!be||!Te){$e.next=134;break}return $e.abrupt("return",{bPortsChanged:!0,port:be,sslPort:Te});case 134:Of(B),$e.next=138;break;case 137:U=!0;case 138:throw U&&ko(B),b&&V.DWT.OnWebTwainInitMessage&&V.DWT.OnWebTwainInitMessage(B._errorString,Fl.Error),{code:B._errorCode,message:B._errorString};case 141:case"end":return $e.stop()}},t,null,[[7,33],[119,127]])}))).apply(this,arguments)}var hm=!1,CJ=new bN(function(){return hm});function LC(t){return XN.apply(this,arguments)}function XN(){return(XN=s(E().mark(function t(n){var o;return E().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,n();case 3:case 14:o=a.sent,a.next=18;break;case 6:if(a.prev=6,a.t0=a.catch(0),a.t0.code!=$t.MustUpgrade){a.next=10;break}throw a.t0;case 10:if(!he.bSSL||!V.DWT.EnableLocalNetworkMixedContent){a.next=17;break}return V.DWT.EnableLocalNetworkMixedContent=!1,a.next=14,n();case 17:throw a.t0;case 18:return a.abrupt("return",o);case 19:case"end":return a.stop()}},t,null,[[0,6]])}))).apply(this,arguments)}function ZN(t){return $N.apply(this,arguments)}function $N(){return($N=s(E().mark(function t(n){var o,a,u,d,l;return E().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!(V.DWT.EnableLocalNetworkMixedContent&&he.bSSL||ke.bPortChanged)){c.next=4;break}c.next=6;break;case 4:if(!ke.bDWTChecked||!n.bFromLoadInit){c.next=6;break}return c.abrupt("return");case 6:if(hm){c.next=10;break}hm=!0,c.next=13;break;case 10:return c.next=12,CJ.asyncWaitingJSLoaded();case 12:return c.abrupt("return",c.sent);case 13:return o=n.host,a=V.DWT.EnableLocalNetworkMixedContent,c.prev=14,c.prev=15,c.next=19,LC(s(E().mark(function p(){var g;return E().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,WC(n,!0);case 2:return GC(g=S.sent,n),S.abrupt("return",g);case 5:case"end":return S.stop()}},p)})));case 19:return u=c.sent,c.next=22,UN();case 22:if(!(d=c.sent)){c.next=41;break}if(l=!0,d.state!="denied"){c.next=28;break}c.next=38;break;case 28:if(d.state!="prompt"){c.next=37;break}return c.next=31,bJ();case 31:if(!c.sent){c.next=34;break}c.next=35;break;case 34:l=!1;case 35:c.next=38;break;case 37:l=!1;case 38:if(!l){c.next=41;break}return c.next=41,xJ(n);case 41:c.next=51;break;case 43:if(c.prev=43,c.t0=c.catch(15),c.t0.code!=$t.MustUpgrade){c.next=48;break}throw Ku(!0),c.t0;case 48:return c.next=50,LC(s(E().mark(function p(){var g;return E().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,IJ(n);case 2:return GC(g=S.sent,n),S.abrupt("return",g);case 5:case"end":return S.stop()}},p)})));case 50:u=c.sent;case 51:if(he.bSSL||!FC()||V.DWT.ConnectWithSocket){c.next=55;break}return c.next=54,LC(s(E().mark(function p(){var g;return E().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,EJ(n);case 2:return GC(g=S.sent,n),S.abrupt("return",g);case 5:case"end":return S.stop()}},p)})));case 54:u=c.sent;case 55:return a&&V.DWT.EnableLocalNetworkMixedContent===!1&&(ke.bIgnoreHttpsMixedContent=!0,V.DWT.EnableLocalNetworkMixedContent=a),Q.detect.dcpStatus=2,TJ(n.host,u.port,u.bSSL),c.next=60,oN(!1,!0);case 60:if(!Ji()||!Ro(o)){c.next=64;break}if(V.DWT.li({instanceMode:V.DWT.lgdt()},"")){c.next=64;break}throw rq();case 64:c.next=70;break;case 66:throw c.prev=66,c.t1=c.catch(14),hm=!1,c.t1;case 70:ke.bDWTChecked=!0,hm=!1;case 72:case"end":return c.stop()}},t,null,[[14,66],[15,43]])}))).apply(this,arguments)}function WC(t,n,o){return jC.apply(this,arguments)}function jC(){return jC=s(E().mark(function t(n,o,a){var u,d,l,c,p,g,S,v,b;return E().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return In("Checking the WebTwain module..."),u=n.host,d=n.port,l=n.sslPort,c=wn(),(p=c?l:d)||m.each(Q.detect.ports,function(D){c?D.ssl&&(p=D.port):D.ssl||(p=D.port)}),S=!0,a!==!1&&a!==Oe||(S=!1),T.prev=5,T.next=8,Gf(u,p,c,o?Jp():Pf(),{bConnectWithSocket:o,bShowInitMessage:S});case 8:if(!(g=T.sent).bPortsChanged){T.next=19;break}return v=g.port,b=g.sslPort,p=c?b:v,n.port=v,n.sslPort=b,T.next=17,Gf(u,p,c,o?Jp():Pf(),{bConnectWithSocket:o,bShowInitMessage:S});case 17:(g=T.sent).bPortsChanged=!0;case 19:T.next=25;break;case 21:throw T.prev=21,T.t0=T.catch(5),Q.detect.dcpStatus=3,T.t0;case 25:return In("Check the WebTwain version successfully."),!gn.versionInfoFromServer&&Ro(g.host)&&(gn.versionInfoFromServer=g.version),T.abrupt("return",g);case 28:case"end":return T.stop()}},t,null,[[5,21]])})),jC.apply(this,arguments)}function wJ(t,n,o,a,u,d){BC(t,n,o,{bRemoteServer:!0,bConnectWithSocket:a},u,d)}function eO(t,n,o,a,u){if(m.isString(t)&&m.isString(n))BC(t,n,o,null,a,u);else{var d=t,l=n,c=V.DWT.Host,p=ld(c);BC(c,p?V.DWT.SSLPort:V.DWT.Port,p,null,d,l)}}function BC(t,n,o,a,u,d){var l=0,c=t,p=n,g=o,S=u,v=d;if(m.isFunction(c)&&m.isFunction(p)){for(S=c,v=p,c=qi(),l=0;l<Q.detect.ports.length;l++)if(g&&Q.detect.ports[l].ssl||!g&&!Q.detect.ports[l].ssl){p=Q.detect.ports[l].port;break}}c||(c=qi()),Gf(c,p,g,Pf(),a).then(function(b){var T=b.host,D=b.port,M=b.version;m.isFunction(S)&&S(T,D,M)},function(b){m.isFunction(v)&&v(b)})}function IJ(t){return tO.apply(this,arguments)}function tO(){return(tO=s(E().mark(function t(n){var o,a,u,d,l,c,p,g,S,v,b;return E().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(o=n.port,a=n.sslPort,u=wn(),d=u?a:o,!u||he.bSafari||he.bMobile||he.bAndroid){T.next=56;break}if(T.prev=2,!V.DWT.ConnectWithSocket&&V.DWT.IfCheckCORS==1){T.next=7;break}throw Of(l={}),{code:l._errorCode,message:l._errorString};case 7:return T.next=9,UC(n,!1);case 9:T.next=54;break;case 11:if(T.prev=11,T.t0=T.catch(2),(c=T.t0.code)!=$t.CORSErrorFromService&&c!=$t.SSLCertExpired&&c!=$t.SSLCertInvalid){T.next=18;break}throw T.t0;case 18:if(c!=$t.MustUpgrade){T.next=23;break}throw Ku(!0),T.t0;case 23:if(!he.bSSL||!V.DWT.EnableLocalNetworkMixedContent){T.next=25;break}throw T.t0;case 25:if(T.prev=25,V.DWT.IfCheckCert==1){T.next=30;break}throw Of(p={}),{code:p._errorCode,message:p._errorString};case 30:return T.next=32,Gf(Df,o,!1,Jp(),{bConnectWithSocket:!0,bCheckCert:!0});case 32:if(!(g=T.sent).bPortsChanged){T.next=40;break}return o=g.port,a=g.sslPort,d=u?a:o,T.next=39,Gf(Df,d,!1,Jp(),{bConnectWithSocket:!0,bCheckCert:!0});case 39:g=T.sent;case 40:T.next=54;break;case 42:if(T.prev=42,T.t1=T.catch(25),(S=T.t1.code)!=$t.CORSErrorFromService&&S!=$t.SSLCertExpired&&S!=$t.SSLCertInvalid){T.next=49;break}throw T.t1;case 49:if(S!=$t.MustUpgrade){T.next=52;break}throw Ku(!0),T.t1;case 52:throw Ro(n.host)?Ku(!1):m.isFunction(V.OnRemoteWebTwainNotFoundCallback)&&V.OnRemoteWebTwainNotFoundCallback(ke.name,n.host,d,u,Cn.bMobile),T.t1;case 54:T.next=81;break;case 56:if(T.prev=56,!V.DWT.ConnectWithSocket&&V.DWT.IfCheckCORS!=0){T.next=61;break}throw Of(v={}),{code:v._errorCode,message:v._errorString};case 61:return T.next=63,UC(n,!1);case 63:T.next=81;break;case 65:if(T.prev=65,T.t2=T.catch(56),(b=T.t2.code)!=$t.CORSErrorFromService&&b!=$t.SSLCertExpired&&b!=$t.SSLCertInvalid){T.next=72;break}throw T.t2;case 72:if(b!=$t.MustUpgrade){T.next=77;break}throw Ku(!0),T.t2;case 77:if(!he.bSSL||!V.DWT.EnableLocalNetworkMixedContent){T.next=79;break}throw T.t2;case 79:throw Ro(n.host)?Ku(!1):m.isFunction(V.OnRemoteWebTwainNotFoundCallback)&&V.OnRemoteWebTwainNotFoundCallback(ke.name,n.host,d,u,Cn.bMobile),T.t2;case 81:throw JT();case 82:case"end":return T.stop()}},t,null,[[2,11],[25,42],[56,65]])}))).apply(this,arguments)}function EJ(t){return rO.apply(this,arguments)}function rO(){return(rO=s(E().mark(function t(n){return E().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",UC(n,!0));case 1:case"end":return o.stop()}},t)}))).apply(this,arguments)}function UC(t,n){return nO.apply(this,arguments)}function nO(){return(nO=s(E().mark(function t(n,o){var a,u,d;return E().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(l.prev=0,V.DWT.ConnectWithSocket){l.next=5;break}return l.next=4,WC(n,Oe);case 4:a=l.sent;case 5:l.next=14;break;case 7:throw l.prev=7,l.t0=l.catch(0),u=l.t0,(d=l.t0.code)==$t.ResponseDataTypeError||d==$t.HTSTError||d==$t.CORSError||d==$t.SSLCertExpired||d==$t.SSLCertInvalid||d==$t.MustUpgrade||(d==$t.CORSErrorFromService?m.isFunction(V.OnCorsConfigError)&&V.OnCorsConfigError(l.t0.message):Ro(n.host)&&o&&FC()&&(u=eq(),d=u.code)),d==$t.CORSError&&m.isFunction(V.OnHTTPCorsError)&&V.OnHTTPCorsError(u.message),u;case 14:return l.abrupt("return",a);case 15:case"end":return l.stop()}},t,null,[[0,7]])}))).apply(this,arguments)}var Fy,VC=Oe;function iO(t){return oO.apply(this,arguments)}function oO(){return(oO=s(E().mark(function t(n){var o,a,u,d;return E().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,UN();case 2:if(!(o=l.sent)){l.next=26;break}if((a=o.state)!="denied"&&a!="prompt"){l.next=24;break}return l.prev=6,l.next=9,WC(n,Oe,Oe);case 9:(u=l.sent)&&u.port&&(n.Port=u.port),VC&&V.DWT.CloseDialog(),Fy(),l.next=22;break;case 15:l.prev=15,l.t0=l.catch(6),uq(d={}),V.DWT.OnWebTwainInitMessage&&V.DWT.OnWebTwainInitMessage(d._errorString,Fl.Error),a=="denied"&&V.OnBrowserLNADenied&&(V.OnBrowserLNADenied(d._errorString),VC=!0),setTimeout(function(){iO(n)},2e3);case 22:l.next=26;break;case 24:VC&&V.DWT.CloseDialog(),Fy();case 26:case"end":return l.stop()}},t,null,[[6,15]])}))).apply(this,arguments)}function xJ(t){return Fy=null,new Q.Promise(function(n,o){Fy=n,iO(t)})}function GC(t,n){t&&t.bPortsChanged&&(V.dcp.Port=n.port,V.dcp.SSLPort=n.sslPort,V.DWT.Port=n.port,V.DWT.SSLPort=n.sslPort,ke.bPortChanged=!0)}function AJ(t,n){(function(o,a){if(a.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,n),n.add(t)}function HC(t,n,o){if(typeof t=="function"?t===n:t.has(n))return arguments.length<3?n:o;throw new TypeError("Private element is not present on this object")}var My=new WeakSet,Fo=function(t){function n(X){var F;return h(this,n),AJ(F=f(this,n,[X]),My),F._acquireDivEL=null,F.__serverId="",F.__bAcquireImageNow=Oe,F._blts=Ji(),F._bltsCopyImage=!1,F._b64bit=Xt.b64bit,F._logLevel=0,F._bServerAlwaysFocusOnPopupWindow=at,F._bPageFocus=at,F.__bOpenFileNow=Oe,F._bScanForProxyRemote=Oe,F._loadImageBytesFileCount=0,F._evt_ids=[],F}return P(n,t),_(n,[{key:"_isValid",value:function(){return!this._destroy||(bk(this),!1)}},{key:"_connnect",value:(ne=s(E().mark(function X(){var F;return E().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return F=this,B.abrupt("return",new Q.Promise(function(U,K){eO(F._serverInfo.server,F._serverInfo.port,F._serverInfo.ssl,U,K)}));case 2:case"end":return B.stop()}},X,this)})),function(){return ne.apply(this,arguments)})},{key:"_waitForConnect",value:function(){var X=this;return X._wsRetry=0,X._bReady?Q.Promise.resolve():new Q.Promise(function(F,B){X._wsCheckResolve=F,X._wsCheckReject=B,uO(X)})}},{key:"_getWSCallback",value:function(){return PJ}},{key:"_getWSContextData",value:function(){return{}}},{key:"_additionalWSCallback",value:function(X,F,B,U){X=="ConvertToBlob"&&F._blob_callbacks.push(function(K){return B(K,yn.HANDLE_RAW_MESSAGE,"0",U)})}},{key:"_innerSendBlobByWS",value:function(X,F,B,U,K){var J={cmd:X,cmdId:lm(),sFun:function(re){m.isFunction(U)&&U(re)},fFun:K,contextData:{document:B.currentFileName,tag:B.currentTagName,bNeedClearTag:B.bNeedClearCurrentTagName,index:B.index,bNeedRefresh:X=="UpdateImage"},rawData:!0};return this._innerSendByWS(X,F,J,B,!0)}},{key:"_innerSendByWS",value:function(X,F,B,U,K){var J,re,oe,fe,ae=this,ue=this._getWSCallback();B&&B.cmdId?(J=B.cmdId,oe=Ly(ae._clientId,J),fe=Ly(ae._clientId,""),this._evt_ids.push(oe)):(J=0,oe=0,fe=0);var ye=vd(ae._clientId,X,F,J,ae._bScanForProxyRemote?ae._dmServiceDWTVersion:""),be=ae._wsClient;re={client:be,userData:{stwain:ae,command:B},taskId:J,eventTaskId:oe,lastEventTaskId:fe};var Te,je,Ye,He,_t,ct,gt,$e,qe=0;if(!K){var We;try{We=be.request(ye,ue,re)}catch(zt){m.log(zt),We=Q.Promise.reject(zt)}return We}if(Ye=new ArrayBuffer(12),U)if(U instanceof Blob)qe=U.size;else if(U instanceof ArrayBuffer||U instanceof Uint8Array)qe=U.byteLength;else if(U instanceof Array)qe=U.length;else{var Ke=U;qe=Ke.size||Ke.byteLength||Ke.length}for(je=(Te=(gt=new Blob([ye])).size)+qe,He=new DataView(Ye),ct=0;ct<8&&je;ct++)He.setUint8(ct,je%256),je=Math.floor(je/256);for(ct=0;ct<4&&Te;ct++)He.setUint8(8+ct,Te%256),Te=Math.floor(Te/256);return _t=new Blob([Ye,gt]),$e=be.request(_t,ue,re),this._additionalWSCallback(X,be,ue,re),qe>0&&($e=be.request(U,ue,re)),Ye=null,gt=null,_t=null,He=null,U=null,$e}},{key:"_sendDataConnectWithSocket",value:function(X,F,B,U){var K=this;return new Q.Promise(function(J,re){K._sendData(X,F,!0,function(oe){var fe=!1;try{fe=m.isString(oe)?m.parse(oe):oe}catch{}if(K._resetErr(),fe){if(fe instanceof Blob||Gu(fe))return void J(fe);oa(fe)&&(K._errorCode=fe.exception,K._errorString=fe.description,K._errorCause=yo(fe))}J(U?fe:fe.result)},function(oe){re({code:K._errorCode,message:K._getErrorString()})})})}},{key:"_sendDataByHttpAsync",value:function(X,F,B,U,K){var J,re=this;if(X!="SendEventToScannerUI"&&re._resetErr(),!re._isValid())return Q.Promise.reject({code:re._errorCode,message:re._getErrorString()});if(n.isServerInvalid(re))return K?Q.Promise.reject({code:re._errorCode,message:re._getErrorString()}):re._waitForConnect().then(function(){return re._sendDataByHttpAsync(X,F,B)});if(V.DWT.ConnectWithSocket)return re._sendDataConnectWithSocket(X,F,B,U);J={method:"post",async:!0,body:vd(re._clientId,X,F,0,re._bScanForProxyRemote?re._dmServiceDWTVersion:""),dataType:B??"text"};var oe=null,fe=m.guid();return re._bIfShowProgressBar&&(oe=Q.progressContext),$T(oe,fe)([re._httpUrl,"fa/",X].join(""),J).then(function(ae){var ue=!1;try{ue=m.isString(ae)?m.parse(ae):ae}catch{}if(ue){if(ue instanceof Blob||Gu(ue))return ue;if(!oa(ue))return X!="SendEventToScannerUI"&&re._resetErr(),U?ue:ue.result;re._errorCode=ue.exception,re._errorString=ue.description,re._errorCause=yo(ue)}else jT(re),re._errorCause=null;throw{code:re._errorCode,message:re._getErrorString()}},function(ae){if(re._errorCode=ae.code,re._errorString=ae.message,!Q.page.bUnload)throw ae})}},{key:"_sendData",value:function(X,F,B,U,K){var J=this,re=null,oe=null,fe=!1,ae=!0;if(!J._destroy){if(X=="ActiveUI"?ae=!1:fe=n.isServerInvalid(J),fe)return J._waitForConnect().then(function(){J._sendData(X,F,B,U,K)}).catch(function(Te){m.isFunction(K)&&K(Te.code,Te.message)});var ue;m.isFunction(U)&&(oe=U),m.isFunction(K)&&(re=K),ue=X=="ConvertToBlob"||X=="Heartbeat"?0:lm();var ye=this._getWSContextData(),be={cmd:X,cmdId:ue,sFun:oe,fFun:re,contextData:ye,rawData:B!=null&&B};return J._innerSendByWS(X,F,be,null,ae)}}},{key:"_innerFunV2",value:(Z=s(E().mark(function X(F,B,U){var K,J,re;return E().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:if(K=this,!(re=U)&&!m.isUndefined(re)){oe.next=7;break}return oe.next=4,K._sendDataConnectWithSocket(F,B,"json",!0);case 4:J=oe.sent,oe.next=10;break;case 7:return oe.next=9,K._sendDataByHttpAsync(F,B,"json",!0);case 9:J=oe.sent;case 10:if(!(J&&m.isArray(J)&&J.length>0)){oe.next=12;break}return oe.abrupt("return",J[0]);case 12:if(!(J&&m.isArray(J.result)&&J.result.length>0)){oe.next=14;break}return oe.abrupt("return",J.result[0]);case 14:return oe.abrupt("return",J);case 15:case"end":return oe.stop()}},X,this)})),function(X,F,B){return Z.apply(this,arguments)})},{key:"_OnReady",value:(de=s(E().mark(function X(){var F,B,U;return E().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:if((F=this)._wsRetry=0,F._wsFailedTimes=0,Q.detect.starting=!1,F._bRemoteMode||(Q.detect.bOK=!0),F._bReady=!0,(B=F._wsClient.ws)!==null){K.next=9;break}return K.abrupt("return");case 9:B.onopen=null,U=Ly(F._clientId,""),this._evt_ids.push(U),F._wsClient.addEvent("close",F._clientId,function(J){J&&m.log("websocket close: "+J),F.__bAcquireImageNow=!1,F._OnWSClose(J)}),F._wsClient.addEvent("error",F._clientId,function(J){J&&m.log("websocket error: "+J),F.__bAcquireImageNow=!1,F._OnWSError(J)}),F._wsClient.addEvent("timeout",F._clientId,function(J){J&&m.log("websocket timeout: "+J),F._OnWSTimeout(J)});case 15:case"end":return K.stop()}},X,this)})),function(){return de.apply(this,arguments)})},{key:"getServiceInfo",value:function(){return this._dmService}},{key:"_OnWSClose",value:function(X){var F,B,U,K=this;K._bReady=!1,K._wsRetry=0,K._bRemoteMode&&(F=(B=(U=K.getServiceInfo())===null||U===void 0||(U=U.attrs)===null||U===void 0?void 0:U.name)!==null&&B!==void 0?B:""),hd(K,F),K.__closeRemoteScanUI(!0),K._heartBeatTimer&&(clearTimeout(K._heartBeatTimer),K._heartBeatTimer=null),K._bNoMask||function(oe){m.log("hideMask:"+oe+"--"+cu),mC(),cu=0}("websocket close"),K.__OnWSClose&&K.__OnWSClose();var J=K._bRemoteMode?gn.RemoteReconnectMaxTimes:gn.LocalReconnectMaxTimes;if(K._wsFailedTimes<J){var re=K._reconnectTimeSpan;K._wsFailedTimes<K._reconnectShortSpanTimes&&(re=K._reconnectShortSpan),K._heartBeatTimer=setTimeout(function(){n.startDWTReconnect(K)},re)}}},{key:"_OnWSError",value:function(X){var F=this;F._bReady=!1,F.__OnWSError&&F.__OnWSError()}},{key:"_OnWSTimeout",value:function(X){var F,B,U,K=this;K._bReady=!1,K._wsRetry=0,K._bRemoteMode&&(F=(B=(U=K.getServiceInfo())===null||U===void 0||(U=U.attrs)===null||U===void 0?void 0:U.name)!==null&&B!==void 0?B:""),hd(K,F),K.__closeRemoteScanUI(!0),K._heartBeatTimer&&(clearTimeout(K._heartBeatTimer),K._heartBeatTimer=null);var J=K._bRemoteMode?gn.RemoteReconnectMaxTimes:gn.LocalReconnectMaxTimes;if(K._wsFailedTimes<J){var re=K._reconnectTimeSpan;K._wsFailedTimes<K._reconnectShortSpanTimes&&(re=K._reconnectShortSpan),K._heartBeatTimer=setTimeout(function(){n.startDWTReconnect(K)},re)}}},{key:"__OnRecieveMsg",value:function(X,F){var B=this;if(X.event)return B._handleEvent(X,F.contextData);if(oa(X)?(B._errorCode=X.exception,B._errorString=X.description,B._errorCause=yo(X)):(B._errorCode=0,B._errorString="",B._errorCause=null),V.DWT.ConnectWithSocket){var U=X,K=F==null?void 0:F.cmd;return K=="ActiveUI"||K=="VersionInfo"||K=="ConvertToBase64"||K=="SaveSelectedImagesToBase64Binary"||K=="ConvertToBlob"?F.sFun&&m.isArray(X.result)&&X.result.length>0?(F.sFun(X.result),!0):(F.fFun&&F.fFun(X.result),!1):(B._errorCode!=0&&F.fFun&&F.fFun(B._errorString),K=="BeginSaveMem"||K=="CreateLocalStorage"||K=="LocalStorageExist"||K=="SaveToLocalStorage"||K=="LoadFromLocalStorage"||K=="RemoveLocalStorage"?F.sFun&&m.isArray(X.result)&&X.result.length>0?(F.sFun(X.result),!0):(F.fFun&&F.fFun(X.result),!1):(U=F.rawData?X:m.isArray(X.result)&&X.result.length>0?X.result[0]:X.result,F.sFun?F.sFun(U):F.fFun&&F.fFun(U),X=null,!0))}if(B._errorCode==0)return F.sFun&&m.isArray(X.result)&&X.result.length>0?(F.sFun(X.result),!0):(F.fFun(X.result),!0);var J=!1;F.fFun&&(J=F.fFun(B._errorString)),!J&&X.exception&&X.exception<0&&X.exception!=-2115&&m.isFunction(B.__OnPrintMsg)&&B.__OnPrintMsg(B._errorString)}},{key:"_handleOnBitmapChangedEvent",value:function(X,F){try{var B,U,K,J,re,oe,fe,ae,ue,ye,be,Te,je,Ye,He,_t,ct=X.result[0],gt=X.result[1];if(m.isString(gt)){var $e=JSON.parse(gt);B=m.isArray($e)?$e:[$e]}else m.isArray(gt)&&(B=gt);if(m.isArray(B)){for(_t=F||{},Ye=0;Ye<B.length;Ye++)if(He=B[Ye],m.isArray(He.images))if(U=He.consumeType,K=He.curImageId,J=He.type,re=He.images.length,J!=ai.enumBCAppend&&J!=ai.enumBCInsert||(!_t.document&&He.document&&(_t.document=He.document),!_t.tag&&He.tag&&(_t.tag=He.tag)),J==ai.enumBCRemove){var qe=[];for(oe=0;oe<re;oe++)qe.push(He.images[oe].id);var We=[ct,qe.join(","),J,K,re,null,null,null,null,null,null,ae];this._OnBitmapChanged(We,X,_t)}else for(oe=0;oe<re;oe++){fe=He.images[oe].id,ye=He.images[oe].width,be=He.images[oe].height,ue=He.images[oe].depth,Te=He.images[oe].xdpi,je=He.images[oe].ydpi,ae=He.images[oe].uid;var Ke=[ct,fe.toString(),J,K,re,ye,be,ue,Te,je,U,ae];this._OnBitmapChanged(Ke,X,_t)}}}catch(zt){qr(zt)}return at}},{key:"_handleEvent",value:function(X,F){var B=this,U=X.result[0],K=Oe;return X.event=="OnBitmapChanged"?B._handleOnBitmapChangedEvent(X,F):(m.each(RJ,function(J,re){if(X.event===J){var oe=["_",J].join("");return K=at,m.isFunction(B[oe])&&B[oe](X.result,X),Oe}}),K?(m.log("handled event:"+X.event),m.each(kJ,function(J,re){if(X.event===J)return m.log("sendback event:"+X.event),B._innerSendByWS(X.event,Ge(U),null,null,at),Oe})):(m.each(Q.Addon_Events,function(J,re){if(X.event===J){var oe=["_",J].join("");return K=at,m.isFunction(B[oe])&&B[oe](X.result),Oe}}),K&&(m.log("handled addon event:"+X.event),m.each(Q.Addon_Sendback_Events,function(J,re){if(X.event===J)return m.log("sendback addon event:"+X.event),B._innerSendByWS(X.event,Ge(U),null,null,at),Oe}))),K)}},{key:"_setProductKeyAsync",value:function(X){var F=this,B=X;return F._resetErr(),F._isValid()?ke.bUseDynamsoftLicenseManager||F._blts?(ZT(F),Q.Promise.reject({code:F._errorCode,message:F._getErrorString()})):m.isString(B)?It.isLicenseMixed(B,!1)?Q.Promise.reject(V.DWT.licenseException):It.isLongKey(B)?HC(My,F,DJ).call(F,B).then(function(U){var K=U;if(!K||K.message)throw Ia(F),K&&K.message&&(F._errorString=K.message),{code:F._errorCode,message:F._getErrorString()};return bC(F,K),K}):(Ia(F),Q.Promise.reject({code:F._errorCode,message:F._getErrorString()})):(Ia(F),Q.Promise.reject({code:F._errorCode,message:F._getErrorString()})):Q.Promise.reject({code:F._errorCode,message:F._getErrorString()})}},{key:"_setLTSLic",value:function(X){var F=this,B=X;return F._resetErr(),!!F._isValid()&&(m.isString(B)?F._sendDataByHttpAsync("LTSLicense",Ge(B),null,!0).then(function(U){if(U){if(oa(U))throw F._errorCode=U.exception,F._errorString=U.description,F._errorCause=yo(U),{code:F._errorCode,message:F._getErrorString(),ErrorCause:F._errorCause};return F._innerFunV2("GetLicenseInfo",Ge(0))}throw Ia(F),{code:F._errorCode,message:F._getErrorString()}}):(Ia(F),Q.Promise.reject({code:F._errorCode,message:F._getErrorString()})))}},{key:"_setLTSLicenseAsync",value:function(X){var F=this;return F._resetErr(),F._isValid()?m.isString(X)?F._setLTSLic(X).then(function(B){var U=B;if(!U||U.message)throw Ia(F),U&&U.message&&(F._errorString=U.message),{code:F._errorCode,message:F._getErrorString()};return bC(F,U),F.__licenseInfo&&(F.__licenseInfo.LTS=!0),U}):(Ia(F),Q.Promise.reject({code:F._errorCode,message:F._getErrorString()})):Q.Promise.reject({code:F._errorCode,message:F._getErrorString()})}},{key:"_innerActiveUI",value:(te=s(E().mark(function X(F){var B,U,K,J,re;return E().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:return B=this,U=wn(),K=PY(),B._bRemoteMode||(K=5),J="",B._blts&&(J=F??""),oe.next=6,new Q.Promise(function(fe,ae){B._sendData("ActiveUI",Ge(Cn.WSVersion,Cn.WSSession,1,J,U,1,K),!1,fe,ae)});case 6:return re=oe.sent,B=null,oe.abrupt("return",re);case 9:case"end":return oe.stop()}},X,this)})),function(X){return te.apply(this,arguments)})},{key:"_reconnected",value:(ee=s(E().mark(function X(F){var B,U,K,J,re,oe,fe,ae;return E().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return(B=this)._wsFailedTimes=0,ue.next=4,B._innerActiveUI(B._uuidForActiveUI);case 4:if(U=ue.sent,K=!1,U&&(U.length>12?(B.__serverId=U[1],K=U[12]):U.length>8?(B.__serverId=U[1],K=U[8]):U.length>=2&&(B.__serverId=U[1])),B._bReady=!0,B._bRemoteMode||(Q.detect.bOK=!0),Q.detect.starting=!1,K){try{B._OnActiveUIClearBuffer()}catch{B._resetErr()}HY(B)}if(ue.prev=11,!B._blts){ue.next=21;break}return J=B._bRemoteMode&&(re=(oe=B._dmService)===null||oe===void 0||(oe=oe.attrs)===null||oe===void 0?void 0:oe.UUID)!==null&&re!==void 0?re:"",ue.next=16,Ry(V.DWT.lgdt(),J);case 16:return fe=ue.sent,ue.next=19,B._setLTSLicenseAsync(fe.ar);case 19:ue.next=24;break;case 21:return ae=ke.refProductKey,ue.next=24,B._setProductKeyAsync(ae);case 24:return ue.next=26,B._OnReconnected();case 26:ue.next=32;break;case 28:throw ue.prev=28,ue.t0=ue.catch(11),B._bRemoteMode&&$p(B),{code:B._errorCode,message:B._errorString};case 32:return ue.prev=32,B._bRemoteMode&&n.startHeartBeat(B),ue.finish(32);case 35:case"end":return ue.stop()}},X,this,[[11,28,32,35]])})),function(X){return ee.apply(this,arguments)})},{key:"_OnReconnected",value:(Y=s(E().mark(function X(){return E().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:case"end":return F.stop()}},X)})),function(){return Y.apply(this,arguments)})},{key:"_initRemoteDiv",value:function(){if(!this._acquireDivEL){var X=document.createElement("div");X.style.position="fixed",X.style.zIndex="510000",X.style.left="0",X.style.top="0";var F=document.createElement("img");F.className="ds-img-screen",X.appendChild(F),document.body.appendChild(X),this._acquireDivEL=X}}},{key:"getHeartBeatData",value:function(X){var F,B=this,U=vd(B._clientId,X.cmd,null,X.cmdId,B._bScanForProxyRemote?B._dmServiceDWTVersion:""),K=U.length,J=K,re=new ArrayBuffer(12+J),oe=new DataView(re);for(F=0;F<8&&J;F++)oe.setUint8(F,J%256),J=Math.floor(J/256);for(F=0;F<4&&K;F++)oe.setUint8(8+F,K%256),K=Math.floor(K/256);for(F=0;F<U.length;F++)oe.setUint8(12+F,U.charCodeAt(F));return re}},{key:"__closeRemoteScanUI",value:function(X){var F=this;if(F._acquireDivEL){var B=m.sizzle(".ds-img-screen");F._acquireDivEL.evtFun?(B&&B.length>0&&m.removeEventListener(B[0],"mouseup",F._acquireDivEL.evtFun),F._acquireDivEL.evtFun=null):B&&B.length>0&&m.removeEventListener(B[0],"mouseup"),B&&B.length>0&&(B[0].src=""),X&&(document.body.removeChild(F._acquireDivEL),F._acquireDivEL=null)}}},{key:"_removeImageByIdAsync",value:(W=s(E().mark(function X(F){var B;return E().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if((B=this)._resetErr(),B._isValid()){U.next=4;break}throw{code:B._errorCode,message:B._errorString};case 4:return U.next=6,B._innerFunV2("RemoveAllImages",Ge(F));case 6:return U.abrupt("return",U.sent);case 7:case"end":return U.stop()}},X,this)})),function(X){return W.apply(this,arguments)})},{key:"_removeAllImagesAsync",value:(M=s(E().mark(function X(F,B){var U;return E().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:if((U=this)._resetErr(),U._isValid()){K.next=4;break}throw{code:U._errorCode,message:U._getErrorString()};case 4:return K.next=6,U._innerFunV2("RemoveAllImages");case 6:return K.abrupt("return",K.sent);case 7:case"end":return K.stop()}},X,this)})),function(X,F){return M.apply(this,arguments)})},{key:"_LicensePromptExpired",value:function(){}},{key:"_OnActiveUI",value:(D=s(E().mark(function X(F){var B,U,K,J,re,oe,fe,ae,ue,ye,be,Te,je,Ye,He,_t,ct;return E().wrap(function(gt){for(;;)switch(gt.prev=gt.next){case 0:if(B=this,K=!1,F&&F.length>=6?(F[2],U=F[5],J=!1,re=!1,oe=0,F.length>12?(F[6],B._b64bit=F[7]=="64",F[8],J=F[9],re=F[10],oe=F[11],F[12]):F.length>8&&(J=F[6],re=F[7],oe=F[8]),J?re&&oe&&(B._bRemoteMode=!0):B._bRemoteMode=!0,m.isString(U)&&(U=="win"?B.__serverPlatform=Ht.enumWindow:U=="linux"?B.__serverPlatform=Ht.enumLinux:U=="mac"?B.__serverPlatform=Ht.enumMac:U=="embed"?B.__serverPlatform=Ht.enumEmbed:U=="chromeos"&&(B.__serverPlatform=Ht.enumChromeOS))):K=!0,B._bMustUpgradeService=K,K){gt.next=67;break}if(In("Activating the WebTwain instance..."),fe=!1,!B._blts){gt.next=44;break}return ue=B._bRemoteMode&&(ye=(be=B._dmService)===null||be===void 0||(be=be.attrs)===null||be===void 0?void 0:be.UUID)!==null&&ye!==void 0?ye:"",gt.prev=10,gt.next=13,Ry(V.DWT.lgdt(),ue);case 13:ae=gt.sent,gt.next=27;break;case 16:if(gt.prev=16,gt.t0=gt.catch(10),SC(B,gt.t0),Te=PN(B._errorCode),!B._bLicenseErrorDispose){gt.next=25;break}throw B._bRemoteMode||(Te?this._LicensePromptExpired():RN(B)),{code:B._errorCode,message:B._errorString};case 25:Te||m.warn(B._errorString),ae=null;case 27:if(In($k),!ae){gt.next=41;break}return gt.next=31,B._setLTSLicenseAsync(ae.ar);case 31:return je=gt.sent,V.DWT.laddDWTObj(B),ue="",B._bRemoteMode&&(ue=(Ye=(He=B._dmService)===null||He===void 0||(He=He.attrs)===null||He===void 0?void 0:He.UUID)!==null&&Ye!==void 0?Ye:""),In(eN),gt.next=38,V.DWT.lcheckLic(V.DWT.lgdt(),je,ue);case 38:fe=V.DWT.licenseException.code==0,gt.next=42;break;case 41:fe=!1;case 42:gt.next=62;break;case 44:return In($k),_t=ke.refProductKey,gt.prev=46,gt.next=49,B._setProductKeyAsync(_t);case 49:gt.sent&&(fe=!0),gt.next=62;break;case 53:if(gt.prev=53,gt.t1=gt.catch(46),!B._bLicenseErrorDispose){gt.next=60;break}throw B._bRemoteMode||Ny(gt.t1.code)&&CC(gt.t1),gt.t1;case 60:m.warn(gt.t1.message);case 61:fe=!1;case 62:if(fe&&(In(eN),It.checkProductKey(B,{Core:!0})||(ct={code:B._errorCode,message:B._getErrorString()},B._resetErr(),V.DWT.lclex(),he.bWin&&It.checkProductKey(B,{Webcam:!0},!0)||(B._errorCode=ct.code,B._errorString=ct.message))),B._errorCode==0){gt.next=67;break}if(B._bRemoteMode||(PN(B._errorCode)?this._LicensePromptExpired():RN(B)),!B._bLicenseErrorDispose){gt.next=67;break}throw{code:B._errorCode,message:B._getErrorString()};case 67:B._bRemoteMode&&n.startHeartBeat(B);case 68:case"end":return gt.stop()}},X,this,[[10,16],[46,53]])})),function(X){return D.apply(this,arguments)})},{key:"_innerConvertToArrayBufferAsync",value:(T=s(E().mark(function X(F,B,U,K){var J,re,oe,fe,ae;return E().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return J=this,re=U,oe=K??"arraybuffer",fe=",",m.isString(re)&&re!=""||(re="",fe=""),ae=["[",F,',"',B.join(","),'"',fe,re,"]"].join(""),ue.next=6,J._sendDataByHttpAsync("ConvertToBlob",ae,oe,!0);case 6:return ue.abrupt("return",ue.sent);case 7:case"end":return ue.stop()}},X,this)})),function(X,F,B,U){return T.apply(this,arguments)})},{key:"_getImageByServerId",value:(b=s(E().mark(function X(F){var B,U,K;return E().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return B=gr.IT_PNG,J.next=3,this._innerConvertToArrayBufferAsync(B,[F],void 0,void 0);case 3:return U=J.sent,K=PC(B),J.abrupt("return",new Blob([U],{type:K}));case 6:case"end":return J.stop()}},X,this)})),function(X){return b.apply(this,arguments)})},{key:"_getSourcesAsync",value:(v=s(E().mark(function X(F,B,U){var K,J;return E().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return K=this,re.next=3,K._innerFunV2("GetSources",Ge(F,B!=null&&B,U!=null&&U));case 3:return J=re.sent,re.abrupt("return",kN(this,J));case 5:case"end":return re.stop()}},X,this)})),function(X,F,B){return v.apply(this,arguments)})},{key:"_getDevices",value:(S=s(E().mark(function X(F,B,U){var K,J,re,oe,fe,ae;return E().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:if(J=[],re="getDevices",oe=(K=this)._bRemoteMode?um:he.bAndroid?gC:um,fe=F??oe,K._resetErr(),K._isValid()){ue.next=5;break}return ue.abrupt("return",Q.Promise.reject({code:K._errorCode,message:K._getErrorString()}));case 5:return K._bNoMask||Mn(re,K),ue.prev=6,ue.next=9,K._getSourcesAsync(fe,B,U);case 9:ae=ue.sent,m.isArray(ae)&&ae.length>0&&(J=J.concat(ae)),ue.next=16;break;case 13:throw ue.prev=13,ue.t0=ue.catch(6),ue.t0;case 16:return ue.prev=16,K._bNoMask||un(re),ue.finish(16);case 19:return ue.abrupt("return",J);case 20:case"end":return ue.stop()}},X,this,[[6,13,16,19]])})),function(X,F,B){return S.apply(this,arguments)})},{key:"_innerAcquireImageFromService",value:function(X,F,B){var U,K,J=this;if(K=m.clone(X),!It.checkProductKey(J,{Core:!0}))return m.isFunction(B)&&B(J._errorCode,J._getErrorString()),!1;var re=J._bRemoteMode?at:Oe;K.RemoteScan=re?1:0,J._bRemoteMode&&(m.isFunction(J.__OnRemoteScanStatusAsync)||(J.__OnRemoteScanStatusAsync=function(){}),m.isFunction(J.__OnSourceUIClose)||(J.__OnSourceUIClose=function(){}));for(var oe=0,fe=0;fe<Wy.length;fe++){var ae=["__",Wy[fe]].join("");m.isFunction(J[ae])&&(oe|=1<<fe)}return K.EnableEvents=oe,re&&J._isBindViewer()&&J._initRemoteDiv(),J._bRemoteMode||(J._bPageFocus&&V.DWT.IfAlwaysFocusOnPopupWindow?J._bServerAlwaysFocusOnPopupWindow||J._OnPageFocus(!0):J._bServerAlwaysFocusOnPopupWindow&&J._OnPageBlur(!0)),U=["[",m.stringify(K),"]"].join(""),J._sendData("AcquireImage",U,!0,function(ue){F(ue)},function(ue){B(J._errorCode,J._getErrorString())}),!0}},{key:"_canConsume",value:function(){return this._blts&&!this._bltsCopyImage}},{key:"_acquireImageFromServiceAsync",value:function(X){var F=this;return new Q.Promise(function(B,U){return F._innerAcquireImageFromService(X,function(){F._canConsume()&&V.DWT.lcvrf(F),B(!0)},function(K,J){U({code:K,message:J})})})}},{key:"_acquireImage",value:(g=s(E().mark(function X(F,B){var U,K,J,re,oe;return E().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:if(U=this,K=B?m.clone(B):{},J="acuqireImage",U._resetErr(),U._isValid()){fe.next=4;break}throw{code:U._errorCode,message:U._getErrorString()};case 4:if(It.checkProductKey(U,{Core:!0})&&U._isValid()){fe.next=6;break}throw{code:U._errorCode,message:U._getErrorString()};case 6:if(!U.__bAcquireImageNow){fe.next=9;break}throw ck(U),{code:U._errorCode,message:U._getErrorString()};case 9:return U.__bAcquireImageNow=!0,U._bNoMask||Mn(J,U),re=V.DWT.RemoteScanConfig,oe=gN(),fe.prev=12,lO(K),re&&Py(re.keepAwake),F!=null&&(K.Device=F.strDevice,K.DeviceMatchField=fm.SMF_NAME),fe.next=18,U._acquireImageFromServiceAsync(K);case 18:fe.next=23;break;case 20:throw fe.prev=20,fe.t0=fe.catch(12),fe.t0;case 23:return fe.prev=23,U.__bAcquireImageNow=!1,U._bNoMask||un(J),Py(oe),fe.finish(23);case 28:return fe.abrupt("return",!0);case 29:case"end":return fe.stop()}},X,this,[[12,20,23,28]])})),function(X,F){return g.apply(this,arguments)})},{key:"_getCapabilities",value:(p=s(E().mark(function X(F,B,U){var K,J,re,oe,fe;return E().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return J=null,HC(My,K=this,aO).call(K,F),K._initRemoteDiv(),ae.next=5,K._innerSelectDeviceAsync(F);case 5:return m.isArray(U)&&(J=Ge(U)),ae.next=8,K._sendDataByHttpAsync("GetCapabilities",J);case 8:if(re=ae.sent,ae.prev=9,re.length>0&&(fe=re[0]),!m.isString(fe)){ae.next=23;break}if(fe=Q.removeNonPrintableChar(fe),(oe=JSON.parse(fe)).errorCode!=0){ae.next=16;break}return ae.abrupt("return",oe.response);case 16:throw K._errorCode=oe.errorCode,K._errorString=oe.errorString,K._errorCause=yo(oe),{code:K._errorCode,message:K._getErrorString()};case 23:throw ko(K),{code:K._errorCode,message:K._getErrorString()};case 25:ae.next=32;break;case 27:throw ae.prev=27,ae.t0=ae.catch(9),K._errorCode=-2302,K._errorString=ae.t0,{code:K._errorCode,message:K._getErrorString()};case 32:case"end":return ae.stop()}},X,this,[[9,27]])})),function(X,F,B){return p.apply(this,arguments)})},{key:"_setCapabilities",value:(c=s(E().mark(function X(F,B,U){var K,J;return E().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:if(HC(My,K=this,aO).call(K,F),m.isObject(B)&&!m.isArray(B)){re.next=5;break}throw fr(K),{code:K._errorCode,message:K._getErrorString()};case 5:return K._initRemoteDiv(),re.next=8,K._innerSelectDeviceAsync(F);case 8:return J=["[",m.stringify(B),"]"].join(""),re.next=11,K._sendDataByHttpAsync("SetCapabilities",J);case 11:return re.abrupt("return",re.sent);case 12:case"end":return re.stop()}},X,this)})),function(X,F,B){return c.apply(this,arguments)})},{key:"_closeSource",value:(l=s(E().mark(function X(){var F;return E().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return F=this,B.next=3,F._innerFunV2("CloseSource");case 3:case"end":return B.stop()}},X,this)})),function(){return l.apply(this,arguments)})},{key:"_innerSelectDeviceAsync",value:(d=s(E().mark(function X(F,B){var U,K,J,re,oe,fe,ae,ue;return E().wrap(function(ye){for(;;)switch(ye.prev=ye.next){case 0:if(K=this,F&&F instanceof qa){ye.next=4;break}throw fr(K),{code:K._errorCode,message:K._errorString};case 4:if(!(J=(U=this._dmService.attrs)===null||U===void 0?void 0:U.UUID)){ye.next=17;break}if(((re=F.serviceInfo.attrs)===null||re===void 0?void 0:re.UUID)!=J){ye.next=10;break}ye.next=17;break;case 10:if(!((fe=((oe=F.serviceInfo.attrs)===null||oe===void 0?void 0:oe.url)||F.serviceInfo.server)&&fe.indexOf(J)>-1)){ye.next=15;break}ye.next=17;break;case 15:throw Ik(K),{code:K._errorCode,message:K._errorString};case 17:return ae=B??fm.SMF_NAME,ue=["[",F.strDevice,",",ae,"]"].join(""),ye.next=20,K._innerFunV2("SelectSourceEx",ue);case 20:return ye.abrupt("return",ye.sent);case 21:case"end":return ye.stop()}},X,this)})),function(X,F){return d.apply(this,arguments)})},{key:"registerEvent",value:function(X,F){return m.isUndefined(X)?(oo(this),!1):!m.isString(X)||m.isString(X)&&X.trim().length==0||m.isUndefined(F)||!m.isFunction(F)?(fr(this),!1):!!this._registerEvent(X,F)}},{key:"unregisterEvent",value:function(X,F){return this._unregisterEvent(X,F)}},{key:"_registerEvent",value:function(X,F){var B=this;return B._resetErr(),!!B._isValid()&&(B[["__",X].join("")]=F,!0)}},{key:"_unregisterEvent",value:function(X,F){var B=this;return B._resetErr(),!!B._isValid()&&(B[["__",X].join("")]=null,at)}},{key:"_OnPageFocus",value:function(X){var F=this;if(F._bPageFocus=!0,F._bReady&&he.bWin&&V.DWT.IfAlwaysFocusOnPopupWindow){var B=m.stringify({sequence:0,wnds:0,wnd:"0",type:3,x:0,y:0});if(F.__bAcquireImageNow||X||F.__bOpenFileNow){F._bServerAlwaysFocusOnPopupWindow=!0;try{F._isValid()&&F._sendDataByHttpAsync("SendEventToScannerUI",["[",B,"]"].join(""))}catch{}}}}},{key:"_OnPageBlur",value:function(X){var F=this;if(he.bWin&&F._bReady){var B=m.stringify({sequence:0,wnds:0,wnd:"0",type:4,x:0,y:0});if((F._bPageFocus!=0||X)&&(F._bPageFocus=!1,F.__bAcquireImageNow||X||F.__bOpenFileNow)){F._bServerAlwaysFocusOnPopupWindow=!1;try{F._isValid()&&F._sendDataByHttpAsync("SendEventToScannerUI",["[",B,"]"].join(""))}catch{}}}}},{key:"_OnRemoteScanStatusAsync",value:function(X){var F,B,U,K,J,re,oe,fe=this;if(X&&X.length>=2){try{var ae=new String(X[1]);F=m.parse(ae)}catch(ye){m.error(ye.message),m.log("parse json failed: "+X[1])}F||(F={sequence:0,screen:[]})}if(F&&F.sequence)if(F.sequence>0&&F.screen&&F.screen.length>0){if(B=F.screen,K=F.sequence,re=F.wnds,oe=(U=B[0]).img,m.isString(oe)&&oe!=""&&(J=U.wnd),K&&J){var ue=m.sizzle(".ds-img-screen");ue&&ue.length>0&&fe._acquireDivEL&&(fe._acquireDivEL.evtFun&&(m.removeEventListener(ue[0],"mouseup",fe._acquireDivEL.evtFun),fe._acquireDivEL.evtFun=null),ue[0].src=oe,fe._acquireDivEL.evtFun=function(ye){re||(re="0");var be=m.stringify({sequence:K,wnds:re,wnd:J+"",type:2,x:ye.offsetX,y:ye.offsetY});fe._sendDataByHttpAsync("SendEventToScannerUI",["[",be,"]"].join(""))},m.addEventListener(ue[0],"mouseup",fe._acquireDivEL.evtFun))}}else fe.__closeRemoteScanUI(!1);return m.isFunction(fe.__OnRemoteScanStatusAsync)&&fe.__OnRemoteScanStatusAsync(F),!0}},{key:"_OnBitmapChanged",value:function(X,F,B){var U=this,K=X[0]=="m1",J=X[0]=="c1",re=X[0]=="c2",oe=J||re||K,fe=X[2],ae=X[3],ue=-1;if(!oe){if(X.length>10&&(ue=X[10]),ue>-1&&U._canConsume()&&(fe==ai.enumBCAppend||fe==ai.enumBCInsert)){var ye=V.DWT.lgct(ue);m.isFunction(U.__OnLtsverify)&&U.__OnLtsverify(ye,1)}if((fe==ai.enumBCAppend||fe==ai.enumBCInsert)&&m.isFunction(U.__OnBufferChanged)){var be={action:"add",currentId:ae,imageIds:[],selectedIds:[]};U.__OnBufferChanged(be)}}}},{key:"_OnPostTransferAsync",value:function(X,F,B){var U,K=this;if(X&&X.length>=2)try{var J=String(X[1]).replace(/\\/g,"\\\\");U=m.parse(J)}catch(oe){m.error(oe)}U||(U={imageId:""});var re=!1;if(m.isFunction(K.__OnPostTransferAsync))try{re=K.__OnPostTransferAsync(U)}catch(oe){qr(oe)}if(m.isFunction(K.__OnPostTransferAsync2))try{K.__OnPostTransferAsync2(U)}catch(oe){qr(oe)}return re}},{key:"_OnCurrentDeviceSelected",value:function(X,F){}},{key:"_getErrorCode",value:function(){return this._errorCode}},{key:"_getErrorString",value:function(){return this._errorCode!=0?this._errorString:"Successful."}},{key:"_isBindViewer",value:function(){return!1}},{key:"_isNoViewer",value:function(){return!0}},{key:"_isMobileMode",value:function(){return!1}},{key:"_needCheckProxyRemoteScanLicense",value:function(){if(!this._blts&&this._bScanForProxyRemote){if(this._strRemoteServiceVer=="")return!0;var X=function(F){var B=F.split(","),U=[18,3];return m.trim(B[0])>U[0]||B.length>1&&m.trim(B[0])==U[0]&&m.trim(B[1])>=U[1]}(this._strRemoteServiceVer);if(X)return!0}return!1}},{key:"_OnActiveUIClearBuffer",value:function(){}}],[{key:"isServerInvalid",value:function(X){var F,B;if(F=!X._bReady||X._wsClient===null,B=X._bMustUpgradeService,F){var U,K,J;X._bRemoteMode&&(U=(K=(J=X._dmService)===null||J===void 0||(J=J.attrs)===null||J===void 0?void 0:J.name)!==null&&K!==void 0?K:""),hd(X,U)}else B?Rf(X):X.isDestroy&&bk(X);return F||B||X._errorCode==-2208||X.isDestroy}},{key:"STwainConnectToServer",value:(u=s(E().mark(function X(F){var B,U;return E().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:if(B=F._id,!V.DWT.WebTwainIdMap[B]){K.next=5;break}return K.next=4,F._OnReady();case 4:return K.abrupt("return");case 5:if(!F._bReady&&!F._destroy){K.next=7;break}return K.abrupt("return");case 7:return F._bConnecting=!0,(U=su.Instance.getClient(F._serverInfo)).setRetry(0),F._bNoMask||Mn("",F),K.prev=11,K.next=14,oN(F._bRemoteMode);case 14:return K.next=17,U.testConnection(void 0,0,void 0,1e4);case 17:if(F._wsClient=U,F._wsClient.bReady=!0,Q.detect.bFirst&&(Q.detect.bFirst=!1),F._bReady){K.next=24;break}return F._bReady=!0,K.next=24,F._OnReady();case 24:K.next=30;break;case 26:throw K.prev=26,K.t0=K.catch(11),F._bReady=!1,{code:F._errorCode,message:F._getErrorString()};case 30:return K.prev=30,F._bConnecting=!1,F._bNoMask||un(""),K.finish(30);case 34:case"end":return K.stop()}},X,null,[[11,26,30,34]])})),function(X){return u.apply(this,arguments)})},{key:"_innerSendHeartBeat",value:(a=s(E().mark(function X(F,B){var U,K,J,re;return E().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:if(oe.prev=0,!F.__bAcquireImageNow){oe.next=4;break}oe.next=14;break;case 4:if(U={client:null,userData:null,taskId:"0",eventTaskId:"0",lastEventTaskId:"0"},K=lm(),J={cmd:"Heartbeat",cmdId:K,sFun:null,fFun:null,contextData:null,rawData:!0},re=F.getHeartBeatData(J),!F._wsClient){oe.next=12;break}return F._wsClient.setRetry(0),oe.next=12,F._wsClient.request(re,null,U);case 12:J=null,re=null;case 14:oe.next=18;break;case 16:oe.prev=16,oe.t0=oe.catch(0);case 18:F._wsClient&&F._wsClient.connected&&B&&setTimeout(function(){n._innerSendHeartBeat(F,B)},F._wsClient._heartBeatTicks);case 19:case"end":return oe.stop()}},X,null,[[0,16]])})),function(X,F){return a.apply(this,arguments)})},{key:"startDWTReconnect",value:(o=s(E().mark(function X(F){var B,U,K,J,re,oe;return E().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:if(fe.prev=0,!F._destroy){fe.next=3;break}return fe.abrupt("return");case 3:if(B=F._serverInfo,!(Xt.bEnhancedMode&&B&&B.port)){fe.next=25;break}return ke.bDCPChecked=!1,fe.prev=6,fe.next=9,RC(qi(),V.DWT.Port,V.DWT.SSLPort);case 9:if(!(U=fe.sent)){fe.next=15;break}K=wn(),F._serverInfo.port=K?U.sslPort:U.port,fe.next=17;break;case 15:throw ko(F),Rr(F);case 17:fe.next=25;break;case 19:return fe.prev=19,fe.t0=fe.catch(6),F._wsFailedTimes++,J=F._bRemoteMode?gn.RemoteReconnectMaxTimes:gn.LocalReconnectMaxTimes,F._wsFailedTimes<J&&(re=F._reconnectTimeSpan,F._wsFailedTimes<F._reconnectShortSpanTimes&&(re=F._reconnectShortSpan),F._heartBeatTimer=setTimeout(function(){n.startDWTReconnect(F)},re)),fe.abrupt("return");case 25:return F._bConnecting=!0,(oe=su.Instance.getClient(F._serverInfo)).setRetry(0),fe.next=31,oe.testConnection(void 0,0,void 0,3e4);case 31:return F._wsClient=oe,F._wsClient.bReady=!0,F._wsRetry=0,fe.next=36,F._reconnected(oe);case 36:fe.next=41;break;case 38:fe.prev=38,fe.t1=fe.catch(0),F._wsFailedTimes++;case 41:return fe.prev=41,F._bConnecting=!1,fe.finish(41);case 44:case"end":return fe.stop()}},X,null,[[0,38,41,44],[6,19]])})),function(X){return o.apply(this,arguments)})},{key:"startHeartBeat",value:function(X){var F=X._wsClient;F&&F.connected&&!F._bHeartBeatStarted&&(F._bHeartBeatStarted=!0,setTimeout(function(){n._innerSendHeartBeat(X,!0)},F._heartBeatTicks))}},{key:"getServerImageUrlPrefix",value:function(X){return[X._httpUrl,"dwt/",X._bScanForProxyRemote?X._dmServiceDWTVersion:[ke.getDWTPrefix(),ke.getServerVersionInfo()].join(""),"/img?id=",X._clientId].join("")}}]);var o,a,u,d,l,c,p,g,S,v,b,T,D,M,W,Y,ee,te,de,Z,ne}(cJ);function DJ(t){var n,o=this,a=t;return o._resetErr(),o._isValid()?ke.bUseDynamsoftLicenseManager||o._blts?(ZT(o),Q.Promise.reject({code:o._errorCode,message:o._getErrorString()})):(a=m.isString(a)?m.trim(a):"",n=o._sendDataConnectWithSocket("ProductKey",Ge(a),"json",!0),o.__productKey=a,n=n.then(function(u){if(m.isArray(u)&&u.length>0){if(o._errorCode!=0)throw o.__productKey="",{code:o._errorCode,message:o._getErrorString()};return V.DWT.ProductKey=o.__productKey,It.reparseProductKey(),o._innerFunV2("GetLicenseInfo",Ge(0))}throw Ia(o),n.context=null,{code:o._errorCode,message:o._getErrorString()}})):Q.Promise.reject({code:o._errorCode,message:o._getErrorString()})}function aO(t){return sO.apply(this,arguments)}function sO(){return(sO=s(E().mark(function t(n){var o;return E().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if((o=this)._resetErr(),o._isValid()){a.next=4;break}return a.abrupt("return",Q.Promise.reject({code:o._errorCode,message:o._errorString}));case 4:if(n&&n instanceof qa){a.next=7;break}throw fr(o),{code:o._errorCode,message:o._errorString};case 7:case"end":return a.stop()}},t,this)}))).apply(this,arguments)}function vd(t,n,o,a,u){var d,l=[];return l.push("{"),l.push('"id":"'),l.push(t),l.push('"'),a&&(l.push(',"cmdId":"'),l.push(a),l.push('"')),l.push(',"method":"'),l.push(n),l.push('"'),l.push(',"module":"dwt","version":"'),d=u||[ke.getDWTPrefix(),ke.getServerVersionInfo()].join(""),l.push(d),l.push('"'),o!=null&&(l.push(',"parameter":'),m.isArray(o)?l.push(m.stringify(o)):l.push(o)),l.push("}"),l.join("")}function Ly(t,n){return["evt",t,n].join("_")}function uO(t){if(t._bReady)t._wsCheckResolve();else{if(V.DWT.bConnectCanceled)return m.asyncQueue.stop(),lu.stop(),Ea(t),void t._wsCheckReject({code:t._errorCode,message:t._getErrorString()});if(t._wsRetry>10)return wk(t),void t._wsCheckReject({code:t._errorCode,message:t._getErrorString()});t._wsRetry++,setTimeout(function(){uO(t)},1100)}}function PJ(t,n,o,a){return zC.apply(this,arguments)}function zC(){return zC=s(E().mark(function t(n,o,a,u){var d,l,c,p,g,S,v,b;return E().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(o!=yn.GET_TASKID){T.next=4;break}return T.abrupt("return",u.taskId);case 4:if(o!=yn.GET_EVENT_TASKID){T.next=8;break}return T.abrupt("return",u.eventTaskId);case 8:if(o!=yn.ONMESSAGE_PROCESS_DATA){T.next=17;break}if(N(n)!=="object"){T.next=11;break}return T.abrupt("return",n);case 11:if(!((p=n).indexOf("Version not found")>=0||p.indexOf("Function not found")>=0)){T.next=14;break}return T.abrupt("return",{cmdId:a??0});case 14:return T.abrupt("return",m.parse(n));case 17:if(o!=yn.ONMESSAGE_GET_TASKID){T.next=25;break}if(!n){T.next=22;break}if(!n.event){T.next=21;break}return T.abrupt("return",0);case 21:return T.abrupt("return",n.cmdId);case 22:return T.abrupt("return",n);case 25:if(o!=yn.ONMESSAGE_GET_EVENT_TASKID){T.next=31;break}if(!n||!n.event){T.next=28;break}return T.abrupt("return",Ly(n.id,n.cmdId));case 28:return T.abrupt("return",0);case 31:if(o!=yn.HANDLE_RAW_MESSAGE){T.next=59;break}if(g=n.rawData,S=n.jsonData,d=u==null?void 0:u.userData){T.next=36;break}return T.abrupt("return",!1);case 36:if(l=d.stwain,c=d.command){T.next=40;break}return T.abrupt("return",!1);case 40:if(l&&m.isFunction(l.__OnWSMessage)&&l.__OnWSMessage(n),N(n)!=="object"){T.next=45;break}if(!V.DWT.ConnectWithSocket){T.next=45;break}return c.cmd!="ConvertToBlob"&&c.cmd!="GetImageByIndex"||c.sFun(n),T.abrupt("return",!0);case 45:if(S.method!="Heartbeat"){T.next=47;break}return T.abrupt("return",!0);case 47:if(S.method!="EnableBuffer"&&S.method!="GetBuffer"){T.next=50;break}return V.DWT.lwsproc(S,c),T.abrupt("return",!0);case 50:if(m.isString(g)&&(v=g.replace(/\0/g,"")),!(v&&v.indexOf("Exception:")>=0||v.indexOf("Error")==0)){T.next=57;break}return b=!1,m.log(v+"@"+c.cmd),c.fFun&&(b=c.fFun(v)),!b&&l&&m.isFunction(l.__OnPrintMsg)&&l.__OnPrintMsg(v),T.abrupt("return",!0);case 57:T.next=70;break;case 59:if(o!=yn.HANDLE_PROCESSED_MESSAGE){T.next=70;break}if(d=u==null?void 0:u.userData){T.next=63;break}return T.abrupt("return",!1);case 63:if(l=d.stwain){T.next=66;break}return T.abrupt("return",!1);case 66:if(c=d.command){T.next=69;break}return T.abrupt("return",!1);case 69:return T.abrupt("return",l.__OnRecieveMsg(n,c));case 70:case"end":return T.stop()}},t)})),zC.apply(this,arguments)}function lO(t){t.Resolution!==void 0&&(t.Resolution=parseInt(t.Resolution)),t.PixelType!==void 0&&(t.PixelType=parseInt(t.PixelType)),t.SelectSourceByIndex!==void 0&&(t.SelectSourceByIndex=parseInt(t.SelectSourceByIndex))}var Wy=["OnPreAllTransfers","OnPreTransfer","OnPostTransfer","OnPostTransferAsync"],ai=function(t){return t.enumBCAppend=1,t.enumBCInsert=2,t.enumBCRemove=3,t.enumBCEdit=4,t.enumBCIndexChange=5,t.enumBCUpdate=6,t}({}),RJ=["OnPostAllTransfers","OnPostTransfer","OnPostLoad","OnPreTransfer","OnPreAllTransfers","OnResult","OnTransferCancelled","OnTransferError","OnSourceUIClose","OnGetFilePath","OnPercentDone","OnPostTransferAsync","OnPreAllTransfersAsync","OnRemoteScanStatusAsync","OnConsumed","OnDiskExceedLimit","OnCurrentDeviceSelected"],kJ=["OnPreAllTransfers","OnPreTransfer","OnPostTransfer","OnGetFilePath","OnPostLoad"];m.each;var Cr=function(t){return t.TWAIN=0,t.ICA=3,t.SANE=3,t.TWAIN_AND_ICA=4,t.TWAIN_AND_TWAIN64=4,t.TWAIN64=5,t}({}),Rt={notSupportProperty:function(t){},notSupportMethod:function(t){},refreshImageAfterInvokeFun:function(t,n,o){return o==1},loadHttpBlob:function(t,n,o,a,u,d,l,c){var p,g,S=Oe;if(g={method:n,dataType:"blob"},c&&(g.headers=c),t.HTTPUserName!=""&&(g.username=t.HTTPUserName,g.password=t.HTTPPassword),t.__HTTPPostResponseString="",a){if(n=="get"){var v=m.guid();return Q.progressContext&&(Q.progressContext._onPercent=l),void $T(Q.progressContext,v)(o,g).then(function(M){var W=M.type;if(W=="text/plain"||W=="text/html"||cd(W)){var Y=new FileReader;Y.readAsText(M),Y.onload=function(){t.__HTTPPostResponseString=Y.result,u(M)},Y.onerror=function(){u(M)}}else u(M)},function(M){M&&M.code?(t._errorCode=M.code,t._errorString=M.message):M&&M.httpCode?UT(t,!1,M.message,M.httpCode):dk(t),m.isFunction(d)&&d({code:t._errorCode,message:t._errorString})})}g.onSuccess=function(M,W,Y){var ee=Y?Y.getResponseHeader("content-type"):"";if(ee.indexOf("text/")>=0||cd(ee)){var te=new FileReader;te.readAsText(M),te.onload=function(){t.__HTTPPostResponseString=te.result,u(M)},te.onerror=function(){u(M)}}else u(M)},m.isFunction(l)&&(g.beforeSend=function(M){M.addEventListener("progress",function(W){!he.bSafari&&W&&(delete W.totalSize,delete W.position),l(W)},Oe)})}else he.bIE?(g.dataType="arraybuffer",g.onSuccess=function(M,W,Y){var ee,te;(ee=M||Y.responseData)&&(te=new Uint8Array(ee)),t.__HTTPPostResponseString=Y.responseText,t._errorCode=0,t._errorString="",u(te),te=null,S=at}):(g.dataType="text",g.contentType="text/plain; charset=x-user-defined",g.mimeType="text/plain; charset=x-user-defined",g.onSuccess=function(M,W,Y){var ee,te,de;ee=Y.responseText,t.__HTTPPostResponseString=ee,te=ee.length,de=new Uint8Array(te);for(var Z=0;Z<te;Z++)de[Z]=ee.charCodeAt(Z);t._errorCode=0,t._errorString="",u(de),de=null,S=at}),g.headers?m.mix(g.headers,{"X-Requested-With":Oe}):g.headers={"X-Requested-With":Oe};if(n=="post"){var b,T=t.httpFormFields;if(T)try{b=new FormData,m.each(T,function(M,W){if(M instanceof Blob){var Y=M.name;b.append(W,M,Y)}else b.append(W,M)}),m.mix(g,{data:b,processData:Oe,contentType:Oe})}catch{}}p=function(M,W,Y){var ee,te;M&&m.isArray(M)&&M.length>2?(ee=M[1],te=M[2]):(ee=W,te=Y),te.state!=2&&te.state!=3||te.status!=0?UT(t,Oe,ee,te.status):te.statusText==="abort"?UT(t,!0):dk(t),m.isFunction(d)&&d()},g.url=o,g.async=a,g.onError=p,g.onComplete=function(){t._cancelableObj=null};var D=wa(g);if(!a)return S;Q.progressContext&&(Q.progressContext._onPercent=l,t.IfShowCancelDialogWhenImageTransfer&&Q.progressContext.on("cancel",function(){D.abort()}))},combineUrl:function(t,n,o){var a=[],u=n;if(!(u===void 0||o===void 0)){if(m.isString(u)||(u=String(n)),u.indexOf("http://")==0?(u=u.replace("http://",""),a.push("http://")):u.indexOf("https://")==0?(u=u.replace("https://",""),a.push("https://")):(u.indexOf("//")==0&&(u=u.replace("//","")),t.IfSSL?a.push("https://"):a.push("http://")),a.push(u),u.indexOf(":")<0){var d=wn();t.HTTPPort||(t.HTTPPort=d?443:80),(!d&&t.HTTPPort!=80||d&&t.HTTPPort!=443)&&(a.push(":"),a.push(t.HTTPPort))}return o.indexOf("/")!==0&&a.push("/"),a.push(o),a.join("")}},httpPutImage:function(t,n,o,a,u,d,l){var c=at,p={method:"PUT",url:n,hasContent:at,processData:Oe,async:a,data:o,onSuccess:u,onError:function(S,v,b){var T,D;c=Oe,S&&m.isArray(S)&&S.length>2?(T=S[1],D=S[2]):(T=v,D=b),D.state!=2&&D.state!=3||D.status!=0?fk(t,Oe,T,D.status):D.statusText==="abort"?fk(t,!0):function(M){Me(M,-2304,"Http put error: the url is invalid.")}(t),m.isFunction(d)&&d()},onComplete:function(){t._cancelableObj=null},beforeSend:function(S){m.isFunction(l)&&S.upload.addEventListener("progress",function(v){!he.bSafari&&v&&(delete v.totalSize,delete v.position),l(v)},Oe)}};t.HTTPUserName!=""&&(p.username=t.HTTPUserName,p.password=t.HTTPPassword),a||m.mix(p,{headers:{"X-Requested-With":Oe}});var g=wa(p);return Q.progressContext&&(Q.progressContext._onPercent=l,Q.progressContext._onCancel=function(){g.abort()}),c},GetImageInfo:function(t,n){var o=t._ImgManager.convertClientIndexToServerId(n);return o==-1?(tt(t),!1):t._innerFun("GetImageInfo",Ge(o))},getBlobTypeByImageType:PC,callbacks:[],pushCallback:function(t,n,o){var a={method:t,callback:n,ticks:o};Rt.callbacks.push(a)},refreshUIRef:0,isServerInvalid:function(t){Fo.isServerInvalid(t)},replaceLocalFilename:function(t){var n;return t===void 0?"":(n=(t=String(t)).replace(/\\/g,"\\\\"),he.bFileSystem&&(n=decodeURI(n)),n)},getImageType:function(t){if(t===void 0||t.length<4)return-1;var n=t.lastIndexOf(".");if(n===-1)return-1;var o=t.slice(n).toLowerCase();return o===".bmp"||o===".dib"?V.DWT.EnumDWT_ImageType.IT_BMP:o===".jpg"||o===".jpe"||o===".jpeg"||o===".jfif"?V.DWT.EnumDWT_ImageType.IT_JPG:o===".tif"||o===".tiff"?V.DWT.EnumDWT_ImageType.IT_TIF:o===".png"?V.DWT.EnumDWT_ImageType.IT_PNG:o===".pdf"?V.DWT.EnumDWT_ImageType.IT_PDF:o===".jp2"||o===".j2k"||o===".j2c"?V.DWT.EnumDWT_ImageType.IT_J2K:-1},makeParams:Ge,showMask:Mn,hideMask:un,getFileName:function(t){var n=t,o=n.lastIndexOf("/");return(o>-1||he.bWin&&(o=n.lastIndexOf("\\"))>-1)&&(n=n.substring(o+1)),n},getFilePath:function(t){var n=t,o=n.lastIndexOf("/");return(o>-1||he.bWin&&(o=n.lastIndexOf("\\"))>-1)&&(n=n.substring(0,o)),n}};function jy(t,n,o,a,u){var d=0;return t==Cr.TWAIN&&(d=Bf),t==Cr.TWAIN64?d=yt.TWAINX64SCANNER:t==Cr.ICA?o?d=yt.SANESCANNER:a?d=yt.ICASCANNER:(n||u)&&(d=Bf):t==Cr.TWAIN_AND_TWAIN64&&(o?d=Bf|yt.SANESCANNER:a?d=Bf|yt.ICASCANNER:n?d=Bf|yt.TWAINX64SCANNER:u&&(d=Bf)),d}function By(t,n){for(var o=t.HowManyImagesInBuffer,a=0;a<o;a++)n.push(t._ImgManager.convertClientIndexToServerId(a))}function KC(t,n){return t._ImgManager.count()!=0||(Ii(t),m.isFunction(n)&&n(t._errorCode,t._getErrorString()),!1)}function Ml(t,n,o){return!!KC(t,o)&&(!(isNaN(n)||!m.isNumber(n)||n<0||n>=t._ImgManager.count())||(tt(t),m.isFunction(o)&&o(t._errorCode,t._getErrorString()),!1))}function Hf(t){var n,o,a,u=[];return t._ImgManager.count()<=0||((o=t._ImgManager.getCurrentImageIndex())>=0&&(n=t._ImgManager.convertClientIndexToServerId(o)),a=t._ImgManager.getSelectedClientIndexArray(),m.isArray(a)&&m.each(a,function(d){var l=t._ImgManager.convertClientIndexToServerId(d);l!=-1&&u.push(l)}),n!=-1&&u.length==0&&u.push(n)),u}function cO(t){var n,o=[];return t._ImgManager.count()<=0||(n=t._ImgManager.getCurrentImageIndex(),o=t._ImgManager.getSelectedClientIndexArray(),n!=-1&&o.length==0&&o.push(n)),o}function Ei(t,n,o){return t._resetErr(),!!t._isValid()&&(isNaN(n)?(ir(t),m.isFunction(o)&&o(t._errorCode,t.ErrorString),Oe):n<0||n>=t._ImgManager.count()?(tt(t),m.isFunction(o)&&o(t._errorCode,t.ErrorString),Oe):at)}function NJ(t){return t==yt.TWAINSCANNER||t==yt.WIATWAINSCANNER||t==yt.TWAINX64SCANNER}function OJ(t){var n,o=[],a=t.HowManyImagesInBuffer;for(n=0;n<a;n++)o.push(n);return t._imageBufferWrapper.convertIndicesToServerIds(o)}function Ll(t,n){return t._imageBufferWrapper.convertIndicesToServerIds(n)}function si(t,n,o,a,u){try{t(n,o,a,u)}catch{}n=o=a=u=null}function pt(t,n,o){try{t(n._errorCode,n._getErrorString(),o)}catch{}n=o=null}function Oi(t,n,o,a,u,d){try{t(n._errorCode,n._getErrorString(),o,a,u,d)}catch{}n=o=a=u=d=null}Q.html5.Funs=Rt;var Uy=function(){return _(function t(){h(this,t),w(this,"bIsDirty",!1),w(this,"imageWidth",0),w(this,"imageHeight",0),w(this,"iImageControlWidth",0),w(this,"iImageControlHeight",0),w(this,"imageUrl",""),w(this,"minImageUrl",""),w(this,"uuid",-1),w(this,"serverId",-1),w(this,"uidFromServer",""),w(this,"aryOverlayRectangleData",[]),w(this,"ticks",Date.now())},[{key:"Clear",value:function(){this.imageUrl="",this.minImageUrl="",this.serverId=-1,this.uuid=-1,this.uidFromServer="",this.aryOverlayRectangleData=[]}}])}(),pm=function(t){return t&&t.Math===Math&&t},mn=pm((typeof globalThis>"u"?"undefined":N(globalThis))=="object"&&globalThis)||pm((typeof window>"u"?"undefined":N(window))=="object"&&window)||pm((typeof self>"u"?"undefined":N(self))=="object"&&self)||pm(N(se)=="object"&&se)||pm(N(se)=="object"&&se)||function(){return this}()||Function("return this")(),Gr=function(t){try{return!!t()}catch{return!0}},mm=!Gr(function(){var t=(function(){}).bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),FJ=mm,dO=Function.prototype,fO=dO.apply,hO=dO.call,gm=(typeof Reflect>"u"?"undefined":N(Reflect))=="object"&&Reflect.apply||(FJ?hO.bind(fO):function(){return hO.apply(fO,arguments)}),pO=mm,mO=Function.prototype,QC=mO.call,MJ=pO&&mO.bind.bind(QC,QC),Zr=pO?MJ:function(t){return function(){return QC.apply(t,arguments)}},gO=Zr,LJ=gO({}.toString),WJ=gO("".slice),Qu=function(t){return WJ(LJ(t),8,-1)},jJ=Qu,BJ=Zr,Vy=function(t){if(jJ(t)==="Function")return BJ(t)},YC=(typeof document>"u"?"undefined":N(document))=="object"&&document.all,xi=YC===void 0&&YC!==void 0?function(t){return typeof t=="function"||t===YC}:function(t){return typeof t=="function"},yd={},qn=!Gr(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),UJ=mm,Gy=Function.prototype.call,yi=UJ?Gy.bind(Gy):function(){return Gy.apply(Gy,arguments)},vm={},vO={}.propertyIsEnumerable,yO=Object.getOwnPropertyDescriptor,VJ=yO&&!vO.call({1:2},1);vm.f=VJ?function(t){var n=yO(this,t);return!!n&&n.enumerable}:vO;var Wl,Hy,jl=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}},GJ=Gr,HJ=Qu,qC=Object,zJ=Zr("".split),JC=GJ(function(){return!qC("z").propertyIsEnumerable(0)})?function(t){return HJ(t)==="String"?zJ(t,""):qC(t)}:qC,zf=function(t){return t==null},KJ=zf,QJ=TypeError,Kf=function(t){if(KJ(t))throw new QJ("Can't call method on "+t);return t},YJ=JC,qJ=Kf,Ps=function(t){return YJ(qJ(t))},JJ=xi,Jn=function(t){return N(t)=="object"?t!==null:JJ(t)},En={},XC=En,ZC=mn,XJ=xi,_O=function(t){return XJ(t)?t:void 0},Fi=function(t,n){return arguments.length<2?_O(XC[t])||_O(ZC[t]):XC[t]&&XC[t][n]||ZC[t]&&ZC[t][n]},Mi=Zr({}.isPrototypeOf),SO=mn.navigator,bO=SO&&SO.userAgent,ym=bO?String(bO):"",TO=mn,$C=ym,CO=TO.process,wO=TO.Deno,IO=CO&&CO.versions||wO&&wO.version,EO=IO&&IO.v8;EO&&(Hy=(Wl=EO.split("."))[0]>0&&Wl[0]<4?1:+(Wl[0]+Wl[1])),!Hy&&$C&&(!(Wl=$C.match(/Edge\/(\d+)/))||Wl[1]>=74)&&(Wl=$C.match(/Chrome\/(\d+)/))&&(Hy=+Wl[1]);var zy=Hy,xO=zy,ZJ=Gr,$J=mn.String,Qf=!!Object.getOwnPropertySymbols&&!ZJ(function(){var t=Symbol("symbol detection");return!$J(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&xO&&xO<41}),AO=Qf&&!Symbol.sham&&N(Symbol.iterator)=="symbol",eX=Fi,tX=xi,rX=Mi,nX=Object,_m=AO?function(t){return N(t)=="symbol"}:function(t){var n=eX("Symbol");return tX(n)&&rX(n.prototype,nX(t))},iX=String,_d=function(t){try{return iX(t)}catch{return"Object"}},oX=xi,aX=_d,sX=TypeError,Aa=function(t){if(oX(t))return t;throw new sX(aX(t)+" is not a function")},uX=Aa,lX=zf,ew=function(t,n){var o=t[n];return lX(o)?void 0:uX(o)},DO=yi,PO=xi,RO=Jn,cX=TypeError,kO={exports:{}},dX=!0,NO=mn,fX=Object.defineProperty,hX=mn,pX=function(t,n){try{fX(NO,t,{value:n,configurable:!0,writable:!0})}catch{NO[t]=n}return n},OO="__core-js_shared__",FO=kO.exports=hX[OO]||pX(OO,{});(FO.versions||(FO.versions=[])).push({version:"3.47.0",mode:"pure",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru), 2025 CoreJS Company (core-js.io)",license:"https://github.com/zloirock/core-js/blob/v3.47.0/LICENSE",source:"https://github.com/zloirock/core-js"});var tw=kO.exports,MO=tw,Yf=function(t,n){return MO[t]||(MO[t]=n||{})},mX=Kf,gX=Object,Rs=function(t){return gX(mX(t))},vX=Rs,yX=Zr({}.hasOwnProperty),ui=Object.hasOwn||function(t,n){return yX(vX(t),n)},_X=Zr,SX=0,bX=Math.random(),TX=_X(1.1.toString),Sm=function(t){return"Symbol("+(t===void 0?"":t)+")_"+TX(++SX+bX,36)},CX=Yf,LO=ui,wX=Sm,IX=Qf,EX=AO,qf=mn.Symbol,rw=CX("wks"),xX=EX?qf.for||qf:qf&&qf.withoutSetter||wX,_n=function(t){return LO(rw,t)||(rw[t]=IX&&LO(qf,t)?qf[t]:xX("Symbol."+t)),rw[t]},AX=yi,WO=Jn,jO=_m,DX=ew,PX=function(t,n){var o,a;if(PO(o=t.toString)&&!RO(a=DO(o,t))||PO(o=t.valueOf)&&!RO(a=DO(o,t)))return a;throw new cX("Can't convert object to primitive value")},RX=TypeError,kX=_n("toPrimitive"),NX=function(t,n){if(!WO(t)||jO(t))return t;var o,a=DX(t,kX);if(a){if(o=AX(a,t,n),!WO(o)||jO(o))return o;throw new RX("Can't convert object to primitive value")}return PX(t)},OX=_m,nw=function(t){var n=NX(t,"string");return OX(n)?n:n+""},BO=Jn,iw=mn.document,FX=BO(iw)&&BO(iw.createElement),ow=function(t){return FX?iw.createElement(t):{}},MX=ow,UO=!qn&&!Gr(function(){return Object.defineProperty(MX("div"),"a",{get:function(){return 7}}).a!==7}),LX=qn,WX=yi,jX=vm,BX=jl,UX=Ps,VX=nw,GX=ui,HX=UO,VO=Object.getOwnPropertyDescriptor;yd.f=LX?VO:function(t,n){if(t=UX(t),n=VX(n),HX)try{return VO(t,n)}catch{}if(GX(t,n))return BX(!WX(jX.f,t,n),t[n])};var zX=Gr,KX=xi,QX=/#|\.prototype\./,bm=function(t,n){var o=qX[YX(t)];return o===XX||o!==JX&&(KX(n)?zX(n):!!n)},YX=bm.normalize=function(t){return String(t).replace(QX,".").toLowerCase()},qX=bm.data={},JX=bm.NATIVE="N",XX=bm.POLYFILL="P",GO=bm,ZX=Aa,$X=mm,eZ=Vy(Vy.bind),Yu=function(t,n){return ZX(t),n===void 0?t:$X?eZ(t,n):function(){return t.apply(n,arguments)}},sa={},HO=qn&&Gr(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),tZ=Jn,rZ=String,nZ=TypeError,Mo=function(t){if(tZ(t))return t;throw new nZ(rZ(t)+" is not an object")},iZ=qn,oZ=UO,aZ=HO,Ky=Mo,zO=nw,sZ=TypeError,aw=Object.defineProperty,uZ=Object.getOwnPropertyDescriptor,sw="enumerable",uw="configurable",lw="writable";sa.f=iZ?aZ?function(t,n,o){if(Ky(t),n=zO(n),Ky(o),typeof t=="function"&&n==="prototype"&&"value"in o&&lw in o&&!o[lw]){var a=uZ(t,n);a&&a[lw]&&(t[n]=o.value,o={configurable:uw in o?o[uw]:a[uw],enumerable:sw in o?o[sw]:a[sw],writable:!1})}return aw(t,n,o)}:aw:function(t,n,o){if(Ky(t),n=zO(n),Ky(o),oZ)try{return aw(t,n,o)}catch{}if("get"in o||"set"in o)throw new sZ("Accessors not supported");return"value"in o&&(t[n]=o.value),t};var lZ=sa,cZ=jl,Bl=qn?function(t,n,o){return lZ.f(t,n,cZ(1,o))}:function(t,n,o){return t[n]=o,t},Tm=mn,dZ=gm,fZ=Vy,hZ=xi,pZ=yd.f,mZ=GO,Jf=En,gZ=Yu,Xf=Bl,KO=ui,vZ=function(t){var n=function(o,a,u){if(this instanceof n){switch(arguments.length){case 0:return new t;case 1:return new t(o);case 2:return new t(o,a)}return new t(o,a,u)}return dZ(t,this,arguments)};return n.prototype=t.prototype,n},jt=function(t,n){var o,a,u,d,l,c,p,g,S,v=t.target,b=t.global,T=t.stat,D=t.proto,M=b?Tm:T?Tm[v]:Tm[v]&&Tm[v].prototype,W=b?Jf:Jf[v]||Xf(Jf,v,{})[v],Y=W.prototype;for(d in n)a=!(o=mZ(b?d:v+(T?".":"#")+d,t.forced))&&M&&KO(M,d),c=W[d],a&&(p=t.dontCallGetSet?(S=pZ(M,d))&&S.value:M[d]),l=a&&p?p:n[d],(o||D||N(c)!=N(l))&&(g=t.bind&&a?gZ(l,Tm):t.wrap&&a?vZ(l):D&&hZ(l)?fZ(l):l,(t.sham||l&&l.sham||c&&c.sham)&&Xf(g,"sham",!0),Xf(W,d,g),D&&(KO(Jf,u=v+"Prototype")||Xf(Jf,u,{}),Xf(Jf[u],d,l),t.real&&Y&&(o||!Y[d])&&Xf(Y,d,l)))},Ul=Zr([].slice),QO=Zr,yZ=Aa,_Z=Jn,SZ=ui,YO=Ul,bZ=mm,qO=Function,TZ=QO([].concat),CZ=QO([].join),cw={},JO=bZ?qO.bind:function(t){var n=yZ(this),o=n.prototype,a=YO(arguments,1),u=function(){var d=TZ(a,YO(arguments));return this instanceof u?function(l,c,p){if(!SZ(cw,c)){for(var g=[],S=0;S<c;S++)g[S]="a["+S+"]";cw[c]=qO("C,a","return new C("+CZ(g,",")+")")}return cw[c](l,p)}(n,d.length,d):n.apply(t,d)};return _Z(o)&&(u.prototype=o),u},XO={};XO[_n("toStringTag")]="z";var dw=String(XO)==="[object z]",wZ=dw,IZ=xi,Qy=Qu,EZ=_n("toStringTag"),xZ=Object,AZ=Qy(function(){return arguments}())==="Arguments",Sd=wZ?Qy:function(t){var n,o,a;return t===void 0?"Undefined":t===null?"Null":typeof(o=function(u,d){try{return u[d]}catch{}}(n=xZ(t),EZ))=="string"?o:AZ?Qy(n):(a=Qy(n))==="Object"&&IZ(n.callee)?"Arguments":a},DZ=xi,fw=tw,PZ=Zr(Function.toString);DZ(fw.inspectSource)||(fw.inspectSource=function(t){return PZ(t)});var ZO=fw.inspectSource,RZ=Zr,kZ=Gr,$O=xi,NZ=Sd,OZ=ZO,eF=function(){},tF=Fi("Reflect","construct"),hw=/^\s*(?:class|function)\b/,FZ=RZ(hw.exec),MZ=!hw.test(eF),Cm=function(t){if(!$O(t))return!1;try{return tF(eF,[],t),!0}catch{return!1}},rF=function(t){if(!$O(t))return!1;switch(NZ(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return MZ||!!FZ(hw,OZ(t))}catch{return!0}};rF.sham=!0;var Yy=!tF||kZ(function(){var t;return Cm(Cm.call)||!Cm(Object)||!Cm(function(){t=!0})||t})?rF:Cm,LZ=Yy,WZ=_d,jZ=TypeError,nF=function(t){if(LZ(t))return t;throw new jZ(WZ(t)+" is not a constructor")},qy={},BZ=Math.ceil,UZ=Math.floor,VZ=Math.trunc||function(t){var n=+t;return(n>0?UZ:BZ)(n)},wm=function(t){var n=+t;return n!=n||n===0?0:VZ(n)},GZ=wm,HZ=Math.max,zZ=Math.min,Jy=function(t,n){var o=GZ(t);return o<0?HZ(o+n,0):zZ(o,n)},KZ=wm,QZ=Math.min,YZ=function(t){var n=KZ(t);return n>0?QZ(n,9007199254740991):0},Vl=function(t){return YZ(t.length)},qZ=Ps,JZ=Jy,XZ=Vl,iF=function(t){return function(n,o,a){var u=qZ(n),d=XZ(u);if(d===0)return!t&&-1;var l,c=JZ(a,d);if(t&&o!=o){for(;d>c;)if((l=u[c++])!=l)return!0}else for(;d>c;c++)if((t||c in u)&&u[c]===o)return t||c||0;return!t&&-1}},pw={includes:iF(!0),indexOf:iF(!1)},Im={},mw=ui,ZZ=Ps,$Z=pw.indexOf,e2=Im,oF=Zr([].push),aF=function(t,n){var o,a=ZZ(t),u=0,d=[];for(o in a)!mw(e2,o)&&mw(a,o)&&oF(d,o);for(;n.length>u;)mw(a,o=n[u++])&&(~$Z(d,o)||oF(d,o));return d},gw=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],t2=aF,r2=gw,Em=Object.keys||function(t){return t2(t,r2)},n2=qn,i2=HO,o2=sa,a2=Mo,s2=Ps,u2=Em;qy.f=n2&&!i2?Object.defineProperties:function(t,n){a2(t);for(var o,a=s2(n),u=u2(n),d=u.length,l=0;d>l;)o2.f(t,o=u[l++],a[o]);return t};var Xy,sF=Fi("document","documentElement"),l2=Sm,uF=Yf("keys"),Zy=function(t){return uF[t]||(uF[t]=l2(t))},c2=Mo,d2=qy,lF=gw,f2=Im,h2=sF,p2=ow,vw="prototype",yw="script",cF=Zy("IE_PROTO"),_w=function(){},dF=function(t){return"<"+yw+">"+t+"</"+yw+">"},fF=function(t){t.write(dF("")),t.close();var n=t.parentWindow.Object;return t=null,n},$y=function(){try{Xy=new ActiveXObject("htmlfile")}catch{}var t,n,o;$y=typeof document<"u"?document.domain&&Xy?fF(Xy):(n=p2("iframe"),o="java"+yw+":",n.style.display="none",h2.appendChild(n),n.src=String(o),(t=n.contentWindow.document).open(),t.write(dF("document.F=Object")),t.close(),t.F):fF(Xy);for(var a=lF.length;a--;)delete $y[vw][lF[a]];return $y()};f2[cF]=!0;var Gl=Object.create||function(t,n){var o;return t!==null?(_w[vw]=c2(t),o=new _w,_w[vw]=null,o[cF]=t):o=$y(),n===void 0?o:d2.f(o,n)},m2=jt,Sw=gm,g2=JO,hF=nF,v2=Mo,pF=Jn,y2=Gl,mF=Gr,bw=Fi("Reflect","construct"),_2=Object.prototype,S2=[].push,gF=mF(function(){function t(){}return!(bw(function(){},[],t)instanceof t)}),vF=!mF(function(){bw(function(){})}),yF=gF||vF;m2({target:"Reflect",stat:!0,forced:yF,sham:yF},{construct:function(t,n){hF(t),v2(n);var o=arguments.length<3?t:hF(arguments[2]);if(vF&&!gF)return bw(t,n,o);if(t===o){switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3])}var a=[null];return Sw(S2,a,n),new(Sw(g2,t,a))}var u=o.prototype,d=y2(pF(u)?u:_2),l=Sw(t,d,n);return pF(l)?l:d}});var e_=ce(En.Reflect.construct),b2=Sd,T2=String,Da=function(t){if(b2(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return T2(t)},xm={},C2=aF,w2=gw.concat("length","prototype");xm.f=Object.getOwnPropertyNames||function(t){return C2(t,w2)};var Tw={},I2=Qu,E2=Ps,_F=xm.f,x2=Ul,SF=(typeof window>"u"?"undefined":N(window))=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Tw.f=function(t){return SF&&I2(t)==="Window"?function(n){try{return _F(n)}catch{return x2(SF)}}(t):_F(E2(t))};var Am={};Am.f=Object.getOwnPropertySymbols;var A2=Bl,Hl=function(t,n,o,a){return a&&a.enumerable?t[n]=o:A2(t,n,o),t},D2=sa,Dm=function(t,n,o){return D2.f(t,n,o)},Pm={},P2=_n;Pm.f=P2;var t_,Rm,r_,bF=En,R2=ui,k2=Pm,N2=sa.f,Xn=function(t){var n=bF.Symbol||(bF.Symbol={});R2(n,t)||N2(n,t,{value:k2.f(t)})},O2=yi,F2=Fi,M2=_n,L2=Hl,TF=function(){var t=F2("Symbol"),n=t&&t.prototype,o=n&&n.valueOf,a=M2("toPrimitive");n&&!n[a]&&L2(n,a,function(u){return O2(o,this)},{arity:1})},W2=Sd,j2=dw?{}.toString:function(){return"[object "+W2(this)+"]"},B2=dw,U2=sa.f,V2=Bl,G2=ui,H2=j2,CF=_n("toStringTag"),hu=function(t,n,o,a){var u=o?t:t&&t.prototype;u&&(G2(u,CF)||U2(u,CF,{configurable:!0,value:n}),a&&!B2&&V2(u,"toString",H2))},z2=xi,wF=mn.WeakMap,K2=z2(wF)&&/native code/.test(String(wF)),IF=mn,Q2=Jn,Y2=Bl,Cw=ui,ww=tw,q2=Zy,J2=Im,EF="Object already initialized",Iw=IF.TypeError,X2=IF.WeakMap;if(K2||ww.state){var pu=ww.state||(ww.state=new X2);pu.get=pu.get,pu.has=pu.has,pu.set=pu.set,t_=function(t,n){if(pu.has(t))throw new Iw(EF);return n.facade=t,pu.set(t,n),n},Rm=function(t){return pu.get(t)||{}},r_=function(t){return pu.has(t)}}else{var Zf=q2("state");J2[Zf]=!0,t_=function(t,n){if(Cw(t,Zf))throw new Iw(EF);return n.facade=t,Y2(t,Zf,n),n},Rm=function(t){return Cw(t,Zf)?t[Zf]:{}},r_=function(t){return Cw(t,Zf)}}var ks={set:t_,get:Rm,has:r_,enforce:function(t){return r_(t)?Rm(t):t_(t,{})},getterFor:function(t){return function(n){var o;if(!Q2(n)||(o=Rm(n)).type!==t)throw new Iw("Incompatible receiver, "+t+" required");return o}}},Z2=Qu,bd=Array.isArray||function(t){return Z2(t)==="Array"},xF=bd,$2=Yy,e$=Jn,t$=_n("species"),AF=Array,r$=function(t){var n;return xF(t)&&(n=t.constructor,($2(n)&&(n===AF||xF(n.prototype))||e$(n)&&(n=n[t$])===null)&&(n=void 0)),n===void 0?AF:n},Ew=function(t,n){return new(r$(t))(n===0?0:n)},n$=Yu,i$=JC,o$=Rs,a$=Vl,s$=Ew,DF=Zr([].push),zl=function(t){var n=t===1,o=t===2,a=t===3,u=t===4,d=t===6,l=t===7,c=t===5||d;return function(p,g,S,v){for(var b,T,D=o$(p),M=i$(D),W=a$(M),Y=n$(g,S),ee=0,te=v||s$,de=n?te(p,W):o||l?te(p,0):void 0;W>ee;ee++)if((c||ee in M)&&(T=Y(b=M[ee],ee,D),t))if(n)de[ee]=T;else if(T)switch(t){case 3:return!0;case 5:return b;case 6:return ee;case 2:DF(de,b)}else switch(t){case 4:return!1;case 7:DF(de,b)}return d?-1:a||u?u:de}},Td={forEach:zl(0),map:zl(1),filter:zl(2),some:zl(3),every:zl(4),find:zl(5),findIndex:zl(6),filterReject:zl(7)},n_=jt,km=mn,xw=yi,u$=Zr,$f=qn,eh=Qf,l$=Gr,Zi=ui,c$=Mi,Aw=Mo,i_=Ps,Dw=nw,d$=Da,Pw=jl,th=Gl,PF=Em,f$=xm,RF=Tw,h$=Am,kF=yd,NF=sa,p$=qy,OF=vm,FF=Hl,m$=Dm,Rw=Yf,MF=Im,LF=Sm,g$=_n,v$=Pm,y$=Xn,_$=TF,S$=hu,WF=ks,o_=Td.forEach,ua=Zy("hidden"),a_="Symbol",Nm="prototype",b$=WF.set,jF=WF.getterFor(a_),Ns=Object[Nm],Cd=km.Symbol,s_=Cd&&Cd[Nm],T$=km.RangeError,C$=km.TypeError,kw=km.QObject,BF=kF.f,wd=NF.f,UF=RF.f,w$=OF.f,VF=u$([].push),qu=Rw("symbols"),Om=Rw("op-symbols"),I$=Rw("wks"),Nw=!kw||!kw[Nm]||!kw[Nm].findChild,GF=function(t,n,o){var a=BF(Ns,n);a&&delete Ns[n],wd(t,n,o),a&&t!==Ns&&wd(Ns,n,a)},Ow=$f&&l$(function(){return th(wd({},"a",{get:function(){return wd(this,"a",{value:7}).a}})).a!==7})?GF:wd,Fw=function(t,n){var o=qu[t]=th(s_);return b$(o,{type:a_,tag:t,description:n}),$f||(o.description=n),o},u_=function(t,n,o){t===Ns&&u_(Om,n,o),Aw(t);var a=Dw(n);return Aw(o),Zi(qu,a)?(o.enumerable?(Zi(t,ua)&&t[ua][a]&&(t[ua][a]=!1),o=th(o,{enumerable:Pw(0,!1)})):(Zi(t,ua)||wd(t,ua,Pw(1,th(null))),t[ua][a]=!0),Ow(t,a,o)):wd(t,a,o)},Mw=function(t,n){Aw(t);var o=i_(n),a=PF(o).concat(QF(o));return o_(a,function(u){$f&&!xw(HF,o,u)||u_(t,u,o[u])}),t},HF=function(t){var n=Dw(t),o=xw(w$,this,n);return!(this===Ns&&Zi(qu,n)&&!Zi(Om,n))&&(!(o||!Zi(this,n)||!Zi(qu,n)||Zi(this,ua)&&this[ua][n])||o)},zF=function(t,n){var o=i_(t),a=Dw(n);if(o!==Ns||!Zi(qu,a)||Zi(Om,a)){var u=BF(o,a);return!u||!Zi(qu,a)||Zi(o,ua)&&o[ua][a]||(u.enumerable=!0),u}},KF=function(t){var n=UF(i_(t)),o=[];return o_(n,function(a){Zi(qu,a)||Zi(MF,a)||VF(o,a)}),o},QF=function(t){var n=t===Ns,o=UF(n?Om:i_(t)),a=[];return o_(o,function(u){!Zi(qu,u)||n&&!Zi(Ns,u)||VF(a,qu[u])}),a};eh||(Cd=function(){if(c$(s_,this))throw new C$("Symbol is not a constructor");var t=arguments.length&&arguments[0]!==void 0?d$(arguments[0]):void 0,n=LF(t),o=function(a){var u=this===void 0?km:this;u===Ns&&xw(o,Om,a),Zi(u,ua)&&Zi(u[ua],n)&&(u[ua][n]=!1);var d=Pw(1,a);try{Ow(u,n,d)}catch(l){if(!(l instanceof T$))throw l;GF(u,n,d)}};return $f&&Nw&&Ow(Ns,n,{configurable:!0,set:o}),Fw(n,t)},FF(s_=Cd[Nm],"toString",function(){return jF(this).tag}),FF(Cd,"withoutSetter",function(t){return Fw(LF(t),t)}),OF.f=HF,NF.f=u_,p$.f=Mw,kF.f=zF,f$.f=RF.f=KF,h$.f=QF,v$.f=function(t){return Fw(g$(t),t)},$f&&m$(s_,"description",{configurable:!0,get:function(){return jF(this).description}})),n_({global:!0,constructor:!0,wrap:!0,forced:!eh,sham:!eh},{Symbol:Cd}),o_(PF(I$),function(t){y$(t)}),n_({target:a_,stat:!0,forced:!eh},{useSetter:function(){Nw=!0},useSimple:function(){Nw=!1}}),n_({target:"Object",stat:!0,forced:!eh,sham:!$f},{create:function(t,n){return n===void 0?th(t):Mw(th(t),n)},defineProperty:u_,defineProperties:Mw,getOwnPropertyDescriptor:zF}),n_({target:"Object",stat:!0,forced:!eh},{getOwnPropertyNames:KF}),_$(),S$(Cd,a_),MF[ua]=!0;var YF=Qf&&!!Symbol.for&&!!Symbol.keyFor,E$=jt,x$=Fi,A$=ui,D$=Da,qF=Yf,P$=YF,Lw=qF("string-to-symbol-registry"),R$=qF("symbol-to-string-registry");E$({target:"Symbol",stat:!0,forced:!P$},{for:function(t){var n=D$(t);if(A$(Lw,n))return Lw[n];var o=x$("Symbol")(n);return Lw[n]=o,R$[o]=n,o}});var k$=jt,N$=ui,O$=_m,F$=_d,M$=YF,JF=Yf("symbol-to-string-registry");k$({target:"Symbol",stat:!0,forced:!M$},{keyFor:function(t){if(!O$(t))throw new TypeError(F$(t)+" is not a symbol");if(N$(JF,t))return JF[t]}});var L$=Jn,W$=ks.get,Ww=Zr,j$=ui,l_=SyntaxError,B$=parseInt,U$=String.fromCharCode,V$=Ww("".charAt),XF=Ww("".slice),ZF=Ww(/./.exec),$F={'\\"':'"',"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":`
`,"\\r":"\r","\\t":"	"},G$=/^[\da-f]{4}$/i,H$=/^[\u0000-\u001F]$/,z$=!Gr(function(){var t="9007199254740993",n=JSON.rawJSON(t);return!JSON.isRawJSON(n)||JSON.stringify(n)!==t}),K$=jt,eM=Fi,Q$=gm,tM=yi,Id=Zr,rM=Gr,nM=bd,c_=xi,Y$=function(t){if(!L$(t))return!1;var n=W$(t);return!!n&&n.type==="RawJSON"},iM=_m,oM=Qu,q$=Da,J$=Ul,X$=function(t,n){for(var o=!0,a="";n<t.length;){var u=V$(t,n);if(u==="\\"){var d=XF(t,n,n+2);if(j$($F,d))a+=$F[d],n+=2;else{if(d!=="\\u")throw new l_('Unknown escape sequence: "'+d+'"');var l=XF(t,n+=2,n+4);if(!ZF(G$,l))throw new l_("Bad Unicode escape at: "+n);a+=U$(B$(l,16)),n+=4}}else{if(u==='"'){o=!1,n++;break}if(ZF(H$,u))throw new l_("Bad control character in string literal at: "+n);a+=u,n++}}if(o)throw new l_("Unterminated string at: "+n);return{value:a,end:n}},Z$=Sm,$$=Qf,jw=z$,aM=String,Kl=eM("JSON","stringify"),d_=Id(/./.exec),Bw=Id("".charAt),e3=Id("".charCodeAt),t3=Id("".replace),Uw=Id("".slice),Vw=Id([].push),r3=Id(1.1.toString),n3=/[\uD800-\uDFFF]/g,sM=/^[\uD800-\uDBFF]$/,uM=/^[\uDC00-\uDFFF]$/,Gw=Z$(),lM=Gw.length,cM=!$$||rM(function(){var t=eM("Symbol")("stringify detection");return Kl([t])!=="[null]"||Kl({a:t})!=="{}"||Kl(Object(t))!=="{}"}),dM=rM(function(){return Kl("\uDF06\uD834")!=='"\\udf06\\ud834"'||Kl("\uDEAD")!=='"\\udead"'}),i3=cM?function(t,n){var o=J$(arguments),a=fM(n);if(c_(a)||t!==void 0&&!iM(t))return o[1]=function(u,d){if(c_(a)&&(d=tM(a,this,aM(u),d)),!iM(d))return d},Q$(Kl,null,o)}:Kl,o3=function(t,n,o){var a=Bw(o,n-1),u=Bw(o,n+1);return d_(sM,t)&&!d_(uM,u)||d_(uM,t)&&!d_(sM,a)?"\\u"+r3(e3(t,0),16):t},fM=function(t){if(c_(t))return t;if(nM(t)){for(var n=t.length,o=[],a=0;a<n;a++){var u=t[a];typeof u=="string"?Vw(o,u):typeof u!="number"&&oM(u)!=="Number"&&oM(u)!=="String"||Vw(o,q$(u))}var d=o.length,l=!0;return function(c,p){if(l)return l=!1,p;if(nM(this))return p;for(var g=0;g<d;g++)if(o[g]===c)return p}}};Kl&&K$({target:"JSON",stat:!0,arity:3,forced:cM||dM||!jw},{stringify:function(t,n,o){var a=fM(n),u=[],d=i3(t,function(b,T){var D=c_(a)?tM(a,this,aM(b),T):T;return!jw&&Y$(D)?Gw+(Vw(u,D.rawJSON)-1):D},o);if(typeof d!="string"||(dM&&(d=t3(d,n3,o3)),jw))return d;for(var l="",c=d.length,p=0;p<c;p++){var g=Bw(d,p);if(g==='"'){var S=X$(d,++p).end-1,v=Uw(d,p,S);l+=Uw(v,0,lM)===Gw?u[Uw(v,lM)]:'"'+v+'"',p=S}else l+=g}return l}});var hM=Am,a3=Rs;jt({target:"Object",stat:!0,forced:!Qf||Gr(function(){hM.f(1)})},{getOwnPropertySymbols:function(t){var n=hM.f;return n?n(a3(t)):[]}});var pM=ce(En.Object.getOwnPropertySymbols),mM={exports:{}},s3=jt,u3=Gr,l3=Ps,gM=yd.f,vM=qn;s3({target:"Object",stat:!0,forced:!vM||u3(function(){gM(1)}),sham:!vM},{getOwnPropertyDescriptor:function(t,n){return gM(l3(t),n)}});var yM=En.Object,c3=mM.exports=function(t,n){return yM.getOwnPropertyDescriptor(t,n)};yM.getOwnPropertyDescriptor.sham&&(c3.sham=!0);var _M=mM.exports,SM=ce(_M),d3=Fi,f3=xm,h3=Am,p3=Mo,m3=Zr([].concat),bM=d3("Reflect","ownKeys")||function(t){var n=f3.f(p3(t)),o=h3.f;return o?m3(n,o(t)):n},g3=qn,v3=sa,y3=jl,Fm=function(t,n,o){g3?v3.f(t,n,y3(0,o)):t[n]=o},_3=bM,S3=Ps,b3=yd,T3=Fm;jt({target:"Object",stat:!0,sham:!qn},{getOwnPropertyDescriptors:function(t){for(var n,o,a=S3(t),u=b3.f,d=_3(a),l={},c=0;d.length>c;)(o=u(a,n=d[c++]))!==void 0&&T3(l,n,o);return l}});var TM=ce(En.Object.getOwnPropertyDescriptors),CM={exports:{}},C3=jt,w3=qn,wM=qy.f;C3({target:"Object",stat:!0,forced:Object.defineProperties!==wM,sham:!w3},{defineProperties:wM});var IM=En.Object,I3=CM.exports=function(t,n){return IM.defineProperties(t,n)};IM.defineProperties.sham&&(I3.sham=!0);var E3=ce(CM.exports),EM=!Gr(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),x3=ui,A3=xi,D3=Rs,P3=EM,xM=Zy("IE_PROTO"),Hw=Object,R3=Hw.prototype,rh=P3?Hw.getPrototypeOf:function(t){var n=D3(t);if(x3(n,xM))return n[xM];var o=n.constructor;return A3(o)&&n instanceof o?o.prototype:n instanceof Hw?R3:null},k3=Zr,N3=Aa,O3=Jn,F3=function(t){return O3(t)||t===null},M3=String,L3=TypeError,W3=function(t,n,o){try{return k3(N3(Object.getOwnPropertyDescriptor(t,n)[o]))}catch{}},j3=Jn,B3=Kf,U3=function(t){if(F3(t))return t;throw new L3("Can't set "+M3(t)+" as a prototype")},AM=Object.setPrototypeOf||("__proto__"in{}?function(){var t,n=!1,o={};try{(t=W3(Object.prototype,"__proto__","set"))(o,[]),n=o instanceof Array}catch{}return function(a,u){return B3(a),U3(u),j3(a)&&(n?t(a,u):a.__proto__=u),a}}():void 0),DM=ui,V3=bM,G3=yd,H3=sa,z3=Jn,K3=Bl,PM=Error,Q3=Zr("".replace),Y3=String(new PM("zxcasd").stack),RM=/\n\s*at [^:]*:[^\n]*/,q3=RM.test(Y3),J3=jl,X3=!Gr(function(){var t=new Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",J3(1,7)),t.stack!==7)}),Z3=Bl,$3=function(t,n){if(q3&&typeof t=="string"&&!PM.prepareStackTrace)for(;n--;)t=Q3(t,RM,"");return t},eee=X3,kM=Error.captureStackTrace,nh={},tee=nh,ree=_n("iterator"),nee=Array.prototype,NM=function(t){return t!==void 0&&(tee.Array===t||nee[ree]===t)},iee=Sd,OM=ew,oee=zf,aee=nh,see=_n("iterator"),Mm=function(t){if(!oee(t))return OM(t,see)||OM(t,"@@iterator")||aee[iee(t)]},uee=yi,lee=Aa,cee=Mo,dee=_d,fee=Mm,hee=TypeError,zw=function(t,n){var o=arguments.length<2?fee(t):n;if(lee(o))return cee(uee(o,t));throw new hee(dee(t)+" is not iterable")},pee=yi,FM=Mo,mee=ew,f_=function(t,n,o){var a,u;FM(t);try{if(!(a=mee(t,"return"))){if(n==="throw")throw o;return o}a=pee(a,t)}catch(d){u=!0,a=d}if(n==="throw")throw o;if(u)throw a;return FM(a),o},gee=Yu,vee=yi,yee=Mo,_ee=_d,See=NM,bee=Vl,MM=Mi,Tee=zw,Cee=Mm,LM=f_,wee=TypeError,h_=function(t,n){this.stopped=t,this.result=n},WM=h_.prototype,Ed=function(t,n,o){var a,u,d,l,c,p,g,S=o&&o.that,v=!(!o||!o.AS_ENTRIES),b=!(!o||!o.IS_RECORD),T=!(!o||!o.IS_ITERATOR),D=!(!o||!o.INTERRUPTED),M=gee(n,S),W=function(ee){return a&&LM(a,"normal"),new h_(!0,ee)},Y=function(ee){return v?(yee(ee),D?M(ee[0],ee[1],W):M(ee[0],ee[1])):D?M(ee,W):M(ee)};if(b)a=t.iterator;else if(T)a=t;else{if(!(u=Cee(t)))throw new wee(_ee(t)+" is not iterable");if(See(u)){for(d=0,l=bee(t);l>d;d++)if((c=Y(t[d]))&&MM(WM,c))return c;return new h_(!1)}a=Tee(t,u)}for(p=b?t.next:a.next;!(g=vee(p,a)).done;){try{c=Y(g.value)}catch(ee){LM(a,"throw",ee)}if(N(c)=="object"&&c&&MM(WM,c))return c}return new h_(!1)},Iee=Da,Eee=jt,xee=Mi,Aee=rh,p_=AM,Dee=function(t,n,o){for(var a=V3(n),u=H3.f,d=G3.f,l=0;l<a.length;l++){var c=a[l];DM(t,c)||o&&DM(o,c)||u(t,c,d(n,c))}},jM=Gl,Kw=Bl,Qw=jl,Pee=function(t,n){z3(n)&&"cause"in n&&K3(t,"cause",n.cause)},Ree=function(t,n,o,a){eee&&(kM?kM(t,n):Z3(t,"stack",$3(o,a)))},kee=Ed,Nee=function(t,n){return t===void 0?arguments.length<2?"":n:Iee(t)},Oee=_n("toStringTag"),m_=Error,Fee=[].push,ih=function(t,n){var o,a=xee(Yw,this);p_?o=p_(new m_,a?Aee(this):Yw):(o=a?this:jM(Yw),Kw(o,Oee,"Error")),n!==void 0&&Kw(o,"message",Nee(n)),Ree(o,ih,o.stack,1),arguments.length>2&&Pee(o,arguments[2]);var u=[];return kee(t,Fee,{that:u}),Kw(o,"errors",u),o};p_?p_(ih,m_):Dee(ih,m_,{name:!0});var Yw=ih.prototype=jM(m_.prototype,{constructor:Qw(1,ih),message:Qw(1,""),name:Qw(1,"AggregateError")});Eee({global:!0,constructor:!0,arity:2},{AggregateError:ih});var xd,BM,UM,qw=qn,Mee=ui,VM=Function.prototype,Lee=qw&&Object.getOwnPropertyDescriptor,Jw=Mee(VM,"name"),Wee={EXISTS:Jw,PROPER:Jw&&(function(){}).name==="something",CONFIGURABLE:Jw&&(!qw||qw&&Lee(VM,"name").configurable)},jee=Gr,Bee=xi,Uee=Jn,Vee=Gl,GM=rh,Gee=Hl,Xw=_n("iterator"),HM=!1;[].keys&&("next"in(UM=[].keys())?(BM=GM(GM(UM)))!==Object.prototype&&(xd=BM):HM=!0);var Hee=!Uee(xd)||jee(function(){var t={};return xd[Xw].call(t)!==t});Bee((xd=Hee?{}:Vee(xd))[Xw])||Gee(xd,Xw,function(){return this});var zM={IteratorPrototype:xd,BUGGY_SAFARI_ITERATORS:HM},zee=zM.IteratorPrototype,Kee=Gl,Qee=jl,Yee=hu,qee=nh,Jee=function(){return this},KM=function(t,n,o,a){var u=n+" Iterator";return t.prototype=Kee(zee,{next:Qee(+!a,o)}),Yee(t,u,!1,!0),qee[u]=Jee,t},Xee=jt,Zee=yi,$ee=KM,ete=rh,tte=hu,QM=Hl,YM=nh,rte=Wee.PROPER,g_=zM.BUGGY_SAFARI_ITERATORS,Zw=_n("iterator"),qM="keys",v_="values",JM="entries",nte=function(){return this},$w=function(t,n,o,a,u,d,l){$ee(o,n,a);var c,p,g,S=function(Y){if(Y===u&&M)return M;if(!g_&&Y&&Y in T)return T[Y];switch(Y){case qM:case v_:case JM:return function(){return new o(this,Y)}}return function(){return new o(this)}},v=n+" Iterator",b=!1,T=t.prototype,D=T[Zw]||T["@@iterator"]||u&&T[u],M=!g_&&D||S(u),W=n==="Array"&&T.entries||D;if(W&&(c=ete(W.call(new t)))!==Object.prototype&&c.next&&(tte(c,v,!0,!0),YM[v]=nte),rte&&u===v_&&D&&D.name!==v_&&(b=!0,M=function(){return Zee(D,this)}),u)if(p={values:S(v_),keys:d?M:S(qM),entries:S(JM)},l)for(g in p)(g_||b||!(g in T))&&QM(T,g,p[g]);else Xee({target:n,proto:!0,forced:g_||b},p);return l&&T[Zw]!==M&&QM(T,Zw,M,{name:u}),YM[n]=M,p},y_=function(t,n){return{value:t,done:n}},ite=Ps,XM=nh,ZM=ks;sa.f;var ote=$w,__=y_,$M="Array Iterator",ate=ZM.set,ste=ZM.getterFor($M);ote(Array,"Array",function(t,n){ate(this,{type:$M,target:ite(t),index:0,kind:n})},function(){var t=ste(this),n=t.target,o=t.index++;if(!n||o>=n.length)return t.target=null,__(void 0,!0);switch(t.kind){case"keys":return __(o,!1);case"values":return __(n[o],!1)}return __([o,n[o]],!1)},"values"),XM.Arguments=XM.Array;var Lm,oh,eL,eI,Wm=mn,ute=ym,lte=Qu,S_=function(t){return ute.slice(0,t.length)===t},tL=S_("Bun/")?"BUN":S_("Cloudflare-Workers")?"CLOUDFLARE":S_("Deno/")?"DENO":S_("Node.js/")?"NODE":Wm.Bun&&typeof Bun.version=="string"?"BUN":Wm.Deno&&N(Deno.version)=="object"?"DENO":lte(Wm.process)==="process"?"NODE":Wm.window&&Wm.document?"BROWSER":"REST",tI=tL==="NODE",cte=Fi,dte=Dm,fte=qn,rL=_n("species"),nL=function(t){var n=cte(t);fte&&n&&!n[rL]&&dte(n,rL,{configurable:!0,get:function(){return this}})},hte=Mi,pte=TypeError,jm=function(t,n){if(hte(n,t))return t;throw new pte("Incorrect invocation")},iL=Mo,mte=nF,gte=zf,vte=_n("species"),oL=function(t,n){var o,a=iL(t).constructor;return a===void 0||gte(o=iL(a)[vte])?n:mte(o)},yte=TypeError,Bm=function(t,n){if(t<n)throw new yte("Not enough arguments");return t},aL=/(?:ipad|iphone|ipod).*applewebkit/i.test(ym),Pa=mn,_te=gm,Ste=Yu,sL=xi,bte=ui,uL=Gr,lL=sF,Tte=Ul,cL=ow,Cte=Bm,wte=aL,Ite=tI,rI=Pa.setImmediate,nI=Pa.clearImmediate,Ete=Pa.process,iI=Pa.Dispatch,xte=Pa.Function,dL=Pa.MessageChannel,Ate=Pa.String,oI=0,Um={},fL="onreadystatechange";uL(function(){Lm=Pa.location});var aI=function(t){if(bte(Um,t)){var n=Um[t];delete Um[t],n()}},sI=function(t){return function(){aI(t)}},hL=function(t){aI(t.data)},pL=function(t){Pa.postMessage(Ate(t),Lm.protocol+"//"+Lm.host)};rI&&nI||(rI=function(t){Cte(arguments.length,1);var n=sL(t)?t:xte(t),o=Tte(arguments,1);return Um[++oI]=function(){_te(n,void 0,o)},oh(oI),oI},nI=function(t){delete Um[t]},Ite?oh=function(t){Ete.nextTick(sI(t))}:iI&&iI.now?oh=function(t){iI.now(sI(t))}:dL&&!wte?(eI=(eL=new dL).port2,eL.port1.onmessage=hL,oh=Ste(eI.postMessage,eI)):Pa.addEventListener&&sL(Pa.postMessage)&&!Pa.importScripts&&Lm&&Lm.protocol!=="file:"&&!uL(pL)?(oh=pL,Pa.addEventListener("message",hL,!1)):oh=fL in cL("script")?function(t){lL.appendChild(cL("script"))[fL]=function(){lL.removeChild(this),aI(t)}}:function(t){setTimeout(sI(t),0)});var mL={set:rI,clear:nI},gL=mn,Dte=qn,Pte=Object.getOwnPropertyDescriptor,vL=function(t){if(!Dte)return gL[t];var n=Pte(gL,t);return n&&n.value},yL=function(){this.head=null,this.tail=null};yL.prototype={add:function(t){var n={item:t,next:null},o=this.tail;o?o.next=n:this.head=n,this.tail=n},get:function(){var t=this.head;if(t)return(this.head=t.next)===null&&(this.tail=null),t.item}};var ah,uI,lI,cI,_L,SL=yL,Rte=/ipad|iphone|ipod/i.test(ym)&&typeof Pebble<"u",kte=/web0s(?!.*chrome)/i.test(ym),sh=mn,Nte=vL,bL=Yu,dI=mL.set,Ote=SL,Fte=aL,Mte=Rte,Lte=kte,fI=tI,TL=sh.MutationObserver||sh.WebKitMutationObserver,CL=sh.document,wL=sh.process,b_=sh.Promise,hI=Nte("queueMicrotask");if(!hI){var T_=new Ote,C_=function(){var t,n;for(fI&&(t=wL.domain)&&t.exit();n=T_.get();)try{n()}catch(o){throw T_.head&&ah(),o}t&&t.enter()};Fte||fI||Lte||!TL||!CL?!Mte&&b_&&b_.resolve?((cI=b_.resolve(void 0)).constructor=b_,_L=bL(cI.then,cI),ah=function(){_L(C_)}):fI?ah=function(){wL.nextTick(C_)}:(dI=bL(dI,sh),ah=function(){dI(C_)}):(uI=!0,lI=CL.createTextNode(""),new TL(C_).observe(lI,{characterData:!0}),ah=function(){lI.data=uI=!uI}),hI=function(t){T_.head||ah(),T_.add(t)}}var Wte=hI,uh=function(t){try{return{error:!1,value:t()}}catch(n){return{error:!0,value:n}}},Ad=mn.Promise,jte=mn,Vm=Ad,Bte=xi,Ute=GO,Vte=ZO,Gte=_n,IL=tL,pI=zy,EL=Vm&&Vm.prototype,Hte=Gte("species"),xL=!1,AL=Bte(jte.PromiseRejectionEvent),zte=Ute("Promise",function(){var t=Vte(Vm),n=t!==String(Vm);if(!n&&pI===66||!EL.catch||!EL.finally)return!0;if(!pI||pI<51||!/native code/.test(t)){var o=new Vm(function(u){u(1)}),a=function(u){u(function(){},function(){})};if((o.constructor={})[Hte]=a,!(xL=o.then(function(){})instanceof a))return!0}return!(n||IL!=="BROWSER"&&IL!=="DENO"||AL)}),lh={CONSTRUCTOR:zte,REJECTION_EVENT:AL,SUBCLASSING:xL},mu={},DL=Aa,Kte=TypeError,Qte=function(t){var n,o;this.promise=new t(function(a,u){if(n!==void 0||o!==void 0)throw new Kte("Bad Promise constructor");n=a,o=u}),this.resolve=DL(n),this.reject=DL(o)};mu.f=function(t){return new Qte(t)};var mI,PL,RL,Yte=jt,w_=tI,Ql=mn,qte=En,Gm=yi,Jte=Hl,Xte=hu,Zte=nL,$te=Aa,gI=xi,ere=Jn,tre=jm,rre=oL,kL=mL.set,vI=Wte,nre=function(t,n){},ire=uh,ore=SL,NL=ks,yI=Ad,OL=mu,I_="Promise",FL=lh.CONSTRUCTOR,are=lh.REJECTION_EVENT,_I=NL.getterFor(I_),sre=NL.set,ure=yI&&yI.prototype,Hm=yI,SI=ure,ML=Ql.TypeError,bI=Ql.document,TI=Ql.process,CI=OL.f,lre=CI,cre=!!(bI&&bI.createEvent&&Ql.dispatchEvent),LL="unhandledrejection",WL=function(t){var n;return!(!ere(t)||!gI(n=t.then))&&n},jL=function(t,n){var o,a,u,d=n.value,l=n.state===1,c=l?t.ok:t.fail,p=t.resolve,g=t.reject,S=t.domain;try{c?(l||(n.rejection===2&&fre(n),n.rejection=1),c===!0?o=d:(S&&S.enter(),o=c(d),S&&(S.exit(),u=!0)),o===t.promise?g(new ML("Promise-chain cycle")):(a=WL(o))?Gm(a,o,p,g):p(o)):g(d)}catch(v){S&&!u&&S.exit(),g(v)}},BL=function(t,n){t.notified||(t.notified=!0,vI(function(){for(var o,a=t.reactions;o=a.get();)jL(o,t);t.notified=!1,n&&!t.rejection&&dre(t)}))},UL=function(t,n,o){var a,u;cre?((a=bI.createEvent("Event")).promise=n,a.reason=o,a.initEvent(t,!1,!0),Ql.dispatchEvent(a)):a={promise:n,reason:o},!are&&(u=Ql["on"+t])?u(a):t===LL&&nre()},dre=function(t){Gm(kL,Ql,function(){var n,o=t.facade,a=t.value;if(VL(t)&&(n=ire(function(){w_?TI.emit("unhandledRejection",a,o):UL(LL,o,a)}),t.rejection=w_||VL(t)?2:1,n.error))throw n.value})},VL=function(t){return t.rejection!==1&&!t.parent},fre=function(t){Gm(kL,Ql,function(){var n=t.facade;w_?TI.emit("rejectionHandled",n):UL("rejectionhandled",n,t.value)})},ch=function(t,n,o){return function(a){t(n,a,o)}},dh=function(t,n,o){t.done||(t.done=!0,o&&(t=o),t.value=n,t.state=2,BL(t,!0))},wI=function(t,n,o){if(!t.done){t.done=!0,o&&(t=o);try{if(t.facade===n)throw new ML("Promise can't be resolved itself");var a=WL(n);a?vI(function(){var u={done:!1};try{Gm(a,n,ch(wI,u,t),ch(dh,u,t))}catch(d){dh(u,d,t)}}):(t.value=n,t.state=1,BL(t,!1))}catch(u){dh({done:!1},u,t)}}};FL&&(SI=(Hm=function(t){tre(this,SI),$te(t),Gm(mI,this);var n=_I(this);try{t(ch(wI,n),ch(dh,n))}catch(o){dh(n,o)}}).prototype,(mI=function(t){sre(this,{type:I_,done:!1,notified:!1,parent:!1,reactions:new ore,rejection:!1,state:0,value:null})}).prototype=Jte(SI,"then",function(t,n){var o=_I(this),a=CI(rre(this,Hm));return o.parent=!0,a.ok=!gI(t)||t,a.fail=gI(n)&&n,a.domain=w_?TI.domain:void 0,o.state===0?o.reactions.add(a):vI(function(){jL(a,o)}),a.promise}),PL=function(){var t=new mI,n=_I(t);this.promise=t,this.resolve=ch(wI,n),this.reject=ch(dh,n)},OL.f=CI=function(t){return t===Hm||t===RL?new PL(t):lre(t)}),Yte({global:!0,constructor:!0,wrap:!0,forced:FL},{Promise:Hm}),RL=qte.Promise,Xte(Hm,I_,!1,!0),Zte(I_);var GL=_n("iterator"),HL=!1;try{var hre=0,zL={next:function(){return{done:!!hre++}},return:function(){HL=!0}};zL[GL]=function(){return this},Array.from(zL,function(){throw 2})}catch{}var KL=function(t,n){try{if(!n&&!HL)return!1}catch{return!1}var o=!1;try{var a={};a[GL]=function(){return{next:function(){return{done:o=!0}}}},t(a)}catch{}return o},pre=Ad,E_=lh.CONSTRUCTOR||!KL(function(t){pre.all(t).then(void 0,function(){})}),mre=yi,gre=Aa,vre=mu,yre=uh,_re=Ed;jt({target:"Promise",stat:!0,forced:E_},{all:function(t){var n=this,o=vre.f(n),a=o.resolve,u=o.reject,d=yre(function(){var l=gre(n.resolve),c=[],p=0,g=1;_re(t,function(S){var v=p++,b=!1;g++,mre(l,n,S).then(function(T){b||(b=!0,c[v]=T,--g||a(c))},u)}),--g||a(c)});return d.error&&u(d.value),o.promise}});var Sre=jt,bre=lh.CONSTRUCTOR;Ad&&Ad.prototype,Sre({target:"Promise",proto:!0,forced:bre,real:!0},{catch:function(t){return this.then(void 0,t)}});var Tre=yi,Cre=Aa,wre=mu,Ire=uh,Ere=Ed;jt({target:"Promise",stat:!0,forced:E_},{race:function(t){var n=this,o=wre.f(n),a=o.reject,u=Ire(function(){var d=Cre(n.resolve);Ere(t,function(l){Tre(d,n,l).then(o.resolve,a)})});return u.error&&a(u.value),o.promise}});var xre=mu;jt({target:"Promise",stat:!0,forced:lh.CONSTRUCTOR},{reject:function(t){var n=xre.f(this);return(0,n.reject)(t),n.promise}});var Are=Mo,Dre=Jn,Pre=mu,QL=function(t,n){if(Are(t),Dre(n)&&n.constructor===t)return n;var o=Pre.f(t);return(0,o.resolve)(n),o.promise},Rre=jt,kre=Ad,Nre=lh.CONSTRUCTOR,Ore=QL,Fre=Fi("Promise"),Mre=!Nre;Rre({target:"Promise",stat:!0,forced:!0},{resolve:function(t){return Ore(Mre&&this===Fre?kre:this,t)}});var Lre=yi,Wre=Aa,jre=mu,Bre=uh,Ure=Ed;jt({target:"Promise",stat:!0,forced:E_},{allSettled:function(t){var n=this,o=jre.f(n),a=o.resolve,u=o.reject,d=Bre(function(){var l=Wre(n.resolve),c=[],p=0,g=1;Ure(t,function(S){var v=p++,b=!1;g++,Lre(l,n,S).then(function(T){b||(b=!0,c[v]={status:"fulfilled",value:T},--g||a(c))},function(T){b||(b=!0,c[v]={status:"rejected",reason:T},--g||a(c))})}),--g||a(c)});return d.error&&u(d.value),o.promise}});var Vre=yi,Gre=Aa,Hre=Fi,zre=mu,Kre=uh,Qre=Ed,YL="No one promise resolved";jt({target:"Promise",stat:!0,forced:E_},{any:function(t){var n=this,o=Hre("AggregateError"),a=zre.f(n),u=a.resolve,d=a.reject,l=Kre(function(){var c=Gre(n.resolve),p=[],g=0,S=1,v=!1;Qre(t,function(b){var T=g++,D=!1;S++,Vre(c,n,b).then(function(M){D||v||(v=!0,u(M))},function(M){D||v||(D=!0,p[T]=M,--S||d(new o(p,YL)))})}),--S||d(new o(p,YL))});return l.error&&d(l.value),a.promise}});var Yre=jt,qre=gm,Jre=Ul,Xre=mu,Zre=Aa,qL=uh,II=mn.Promise,JL=!1;Yre({target:"Promise",stat:!0,forced:!II||!II.try||qL(function(){II.try(function(t){JL=t===8},8)}).error||!JL},{try:function(t){var n=arguments.length>1?Jre(arguments,1):[],o=Xre.f(this),a=qL(function(){return qre(Zre(t),void 0,n)});return(a.error?o.reject:o.resolve)(a.value),o.promise}});var $re=mu;jt({target:"Promise",stat:!0},{withResolvers:function(){var t=$re.f(this);return{promise:t.promise,resolve:t.resolve,reject:t.reject}}});var ene=jt,EI=Ad,tne=Gr,rne=Fi,nne=xi,ine=oL,XL=QL,one=EI&&EI.prototype;ene({target:"Promise",proto:!0,real:!0,forced:!!EI&&tne(function(){one.finally.call({then:function(){}},function(){})})},{finally:function(t){var n=ine(this,rne("Promise")),o=nne(t);return this.then(o?function(a){return XL(n,t()).then(function(){return a})}:t,o?function(a){return XL(n,t()).then(function(){throw a})}:t)}});var xI=Zr,ane=wm,sne=Da,une=Kf,lne=xI("".charAt),ZL=xI("".charCodeAt),cne=xI("".slice),$L=function(t){return function(n,o){var a,u,d=sne(une(n)),l=ane(o),c=d.length;return l<0||l>=c?t?"":void 0:(a=ZL(d,l))<55296||a>56319||l+1===c||(u=ZL(d,l+1))<56320||u>57343?t?lne(d,l):a:t?cne(d,l,l+2):u-56320+(a-55296<<10)+65536}},eW={codeAt:$L(!1),charAt:$L(!0)},dne=eW.charAt,fne=Da,tW=ks,hne=$w,rW=y_,nW="String Iterator",pne=tW.set,mne=tW.getterFor(nW);hne(String,"String",function(t){pne(this,{type:nW,string:fne(t),index:0})},function(){var t,n=mne(this),o=n.string,a=n.index;return a>=o.length?rW(void 0,!0):(t=dne(o,a),n.index+=t.length,rW(t,!1))});var gne=En.Promise,vne={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},yne=mn,_ne=hu,iW=nh;for(var AI in vne)_ne(yne[AI],AI),iW[AI]=iW.Array;var oW=gne,aW=oW,sW=ce(aW);function uW(t,n,o,a,u,d,l){try{var c=t[d](l),p=c.value}catch(g){return void o(g)}c.done?n(p):sW.resolve(p).then(a,u)}function lW(t){return function(){var n=this,o=arguments;return new sW(function(a,u){var d=t.apply(n,o);function l(p){uW(d,a,u,l,c,"next",p)}function c(p){uW(d,a,u,l,c,"throw",p)}l(void 0)})}}function Ln(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var cW=ui,Sne=yi,bne=Jn,Tne=Mo,Cne=function(t){return t!==void 0&&(cW(t,"value")||cW(t,"writable"))},wne=yd,Ine=rh;jt({target:"Reflect",stat:!0},{get:function t(n,o){var a,u,d=arguments.length<3?n:arguments[2];return Tne(n)===d?n[o]:(a=wne.f(n,o))?Cne(a)?a.value:a.get===void 0?void 0:Sne(a.get,d):bne(u=Ine(n))?t(u,o,d):void 0}});var dW=ce(En.Reflect.get),fW=JO;jt({target:"Function",proto:!0,forced:Function.bind!==fW},{bind:fW});var Ene=mn,xne=En,Lo=function(t,n){var o=xne[t+"Prototype"],a=o&&o[n];if(a)return a;var u=Ene[t],d=u&&u.prototype;return d&&d[n]},Ane=Lo("Function","bind"),Dne=Mi,Pne=Ane,DI=Function.prototype,Rne=function(t){var n=t.bind;return t===DI||Dne(DI,t)&&n===DI.bind?Pne:n},PI=ce(Rne),kne=ce(_M);jt({target:"Object",stat:!0},{setPrototypeOf:AM});var hW=En.Object.setPrototypeOf,RI=ce(hW),Nne=Rs,pW=rh,One=EM;jt({target:"Object",stat:!0,forced:Gr(function(){pW(1)}),sham:!One},{getPrototypeOf:function(t){return pW(Nne(t))}});var mW=En.Object.getPrototypeOf,gW=ce(mW);function fh(t){var n;return fh=RI?PI(n=gW).call(n):function(o){return o.__proto__||gW(o)},fh(t)}function kI(){var t;return kI=typeof Reflect<"u"&&dW?PI(t=dW).call(t):function(n,o,a){var u=function(l,c){for(;!{}.hasOwnProperty.call(l,c)&&(l=fh(l))!==null;);return l}(n,o);if(u){var d=kne(u,o);return d.get?d.get.call(arguments.length<3?n:a):d.value}},kI.apply(null,arguments)}jt({target:"Object",stat:!0,sham:!qn},{create:Gl});var Fne=En.Object,vW=function(t,n){return Fne.create(t,n)},Mne=ce(vW),yW={exports:{}},Lne=jt,Wne=qn,_W=sa.f;Lne({target:"Object",stat:!0,forced:Object.defineProperty!==_W,sham:!Wne},{defineProperty:_W});var SW=En.Object,jne=yW.exports=function(t,n,o){return SW.defineProperty(t,n,o)};SW.defineProperty.sham&&(jne.sham=!0);var bW=yW.exports,TW=bW,x_=ce(TW);function NI(t,n){var o;return NI=RI?PI(o=RI).call(o):function(a,u){return a.__proto__=u,a},NI(t,n)}function A_(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Mne(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),x_(t,"prototype",{writable:!1}),n&&NI(t,n)}var Bne=TypeError,OI=function(t){if(t>9007199254740991)throw Bne("Maximum allowed index exceeded");return t},Une=Gr,Vne=zy,Gne=_n("species"),zm=function(t){return Vne>=51||!Une(function(){var n=[];return(n.constructor={})[Gne]=function(){return{foo:1}},n[t](Boolean).foo!==1})},Hne=jt,zne=Gr,Kne=bd,Qne=Jn,Yne=Rs,qne=Vl,CW=OI,wW=Fm,Jne=Ew,Xne=zm,Zne=zy,IW=_n("isConcatSpreadable"),$ne=Zne>=51||!zne(function(){var t=[];return t[IW]=!1,t.concat()[0]!==t}),eie=function(t){if(!Qne(t))return!1;var n=t[IW];return n!==void 0?!!n:Kne(t)};Hne({target:"Array",proto:!0,arity:1,forced:!$ne||!Xne("concat")},{concat:function(t){var n,o,a,u,d,l=Yne(this),c=Jne(l,0),p=0;for(n=-1,a=arguments.length;n<a;n++)if(eie(d=n===-1?l:arguments[n]))for(u=qne(d),CW(p+u),o=0;o<u;o++,p++)o in d&&wW(c,p,d[o]);else CW(p+1),wW(c,p++,d);return c.length=p,c}}),Xn("asyncDispose"),Xn("asyncIterator"),Xn("dispose"),Xn("hasInstance"),Xn("isConcatSpreadable"),Xn("iterator"),Xn("match"),Xn("matchAll"),Xn("replace"),Xn("search"),Xn("species"),Xn("split");var tie=TF;Xn("toPrimitive"),tie();var rie=Fi,nie=hu;Xn("toStringTag"),nie(rie("Symbol"),"Symbol"),Xn("unscopables"),hu(mn.JSON,"JSON",!0);var iie=En.Symbol,oie=_n,aie=sa.f,EW=oie("metadata"),xW=Function.prototype;xW[EW]===void 0&&aie(xW,EW,{value:null}),Xn("metadata");var sie=iie,uie=Zr,FI=Fi("Symbol"),lie=FI.keyFor,cie=uie(FI.prototype.valueOf),AW=FI.isRegisteredSymbol||function(t){try{return lie(cie(t))!==void 0}catch{return!1}};jt({target:"Symbol",stat:!0},{isRegisteredSymbol:AW});for(var die=Yf,DW=Fi,fie=Zr,hie=_m,pie=_n,D_=DW("Symbol"),PW=D_.isWellKnownSymbol,RW=DW("Object","getOwnPropertyNames"),mie=fie(D_.prototype.valueOf),kW=die("wks"),MI=0,NW=RW(D_),gie=NW.length;MI<gie;MI++)try{var OW=NW[MI];hie(D_[OW])&&pie(OW)}catch{}var FW=function(t){if(PW&&PW(t))return!0;try{for(var n=mie(t),o=0,a=RW(kW),u=a.length;o<u;o++)if(kW[a[o]]==n)return!0}catch{}return!1};jt({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:FW}),Xn("customMatcher"),Xn("observable"),jt({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:AW}),jt({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:FW}),Xn("matcher"),Xn("metadataKey"),Xn("patternMatch"),Xn("replaceAll");var LI=sie,hh=ce(LI),MW=Pm.f("iterator"),vie=ce(MW);function ph(t){return ph=typeof hh=="function"&&typeof vie=="symbol"?function(n){return typeof n}:function(n){return n&&typeof hh=="function"&&n.constructor===hh&&n!==hh.prototype?"symbol":typeof n},ph(t)}jt({target:"Array",stat:!0},{isArray:bd});var LW=En.Array.isArray,WW=ce(LW),jW=ce(Mm),yie=qn,_ie=bd,Sie=TypeError,bie=Object.getOwnPropertyDescriptor,BW=yie&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}()?function(t,n){if(_ie(t)&&!bie(t,"length").writable)throw new Sie("Cannot set read only .length");return t.length=n}:function(t,n){return t.length=n},Tie=Rs,Cie=Vl,wie=BW,Iie=OI;jt({target:"Array",proto:!0,arity:1,forced:Gr(function(){return[].push.call({length:4294967296},1)!==4294967297})||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}}()},{push:function(t){var n=Tie(this),o=Cie(n),a=arguments.length;Iie(o+a);for(var u=0;u<a;u++)n[o]=arguments[u],o++;return wie(n,o),o}});var Eie=Lo("Array","push"),xie=Mi,Aie=Eie,WI=Array.prototype,Die=function(t){var n=t.push;return t===WI||xie(WI,t)&&n===WI.push?Aie:n},UW=Die,Pie=ce(UW),Rie=jt,VW=bd,kie=Yy,Nie=Jn,GW=Jy,Oie=Vl,Fie=Ps,Mie=Fm,Lie=_n,Wie=Ul,jie=zm("slice"),Bie=Lie("species"),jI=Array,Uie=Math.max;Rie({target:"Array",proto:!0,forced:!jie},{slice:function(t,n){var o,a,u,d=Fie(this),l=Oie(d),c=GW(t,l),p=GW(n===void 0?l:n,l);if(VW(d)&&(o=d.constructor,(kie(o)&&(o===jI||VW(o.prototype))||Nie(o)&&(o=o[Bie])===null)&&(o=void 0),o===jI||o===void 0))return Wie(d,c,p);for(a=new(o===void 0?jI:o)(Uie(p-c,0)),u=0;c<p;c++,u++)c in d&&Mie(a,u,d[c]);return a.length=u,a}});var Vie=Lo("Array","slice"),Gie=Mi,Hie=Vie,BI=Array.prototype,zie=function(t){var n=t.slice;return t===BI||Gie(BI,t)&&n===BI.slice?Hie:n},HW=zie,zW=HW,Kie=ce(zW),Qie=Mo,Yie=f_,qie=Yu,Jie=yi,Xie=Rs,Zie=function(t,n,o,a){try{return a?n(Qie(o)[0],o[1]):n(o)}catch(u){Yie(t,"throw",u)}},$ie=NM,eoe=Yy,toe=Vl,KW=Fm,roe=zw,noe=Mm,QW=Array,YW=function(t){var n=Xie(t),o=eoe(this),a=arguments.length,u=a>1?arguments[1]:void 0,d=u!==void 0;d&&(u=qie(u,a>2?arguments[2]:void 0));var l,c,p,g,S,v,b=noe(n),T=0;if(!b||this===QW&&$ie(b))for(l=toe(n),c=o?new this(l):QW(l);l>T;T++)v=d?u(n[T],T):n[T],KW(c,T,v);else for(c=o?new this:[],S=(g=roe(n,b)).next;!(p=Jie(S,g)).done;T++)v=d?Zie(g,u,[p.value,T],!0):p.value,KW(c,T,v);return c.length=T,c},ioe=YW;jt({target:"Array",stat:!0,forced:!KL(function(t){Array.from(t)})},{from:ioe});var qW=En.Array.from,JW=ce(qW);function UI(t,n){(n==null||n>t.length)&&(n=t.length);for(var o=0,a=Array(n);o<n;o++)a[o]=t[o];return a}function XW(t,n){if(t){var o;if(typeof t=="string")return UI(t,n);var a=Kie(o={}.toString.call(t)).call(o,8,-1);return a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set"?JW(t):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?UI(t,n):void 0}}function mh(t,n){return function(o){if(WW(o))return o}(t)||function(o,a){var u=o==null?null:hh!==void 0&&jW(o)||o["@@iterator"];if(u!=null){var d,l,c,p,g=[],S=!0,v=!1;try{if(c=(u=u.call(o)).next,a===0){if(Object(u)!==u)return;S=!1}else for(;!(S=(d=c.call(u)).done)&&(Pie(g).call(g,d.value),g.length!==a);S=!0);}catch(b){v=!0,l=b}finally{try{if(!S&&u.return!=null&&(p=u.return(),Object(p)!==p))return}finally{if(v)throw l}}return g}}(t,n)||XW(t,n)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function li(t){return function(n){if(WW(n))return UI(n)}(t)||function(n){if(hh!==void 0&&jW(n)!=null||n["@@iterator"]!=null)return JW(n)}(t)||XW(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function _i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var ooe=ce(Pm.f("toPrimitive"));function ZW(t){var n=function(o,a){if(ph(o)!="object"||!o)return o;var u=o[ooe];if(u!==void 0){var d=u.call(o,a||"default");if(ph(d)!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(o)}(t,"string");return ph(n)=="symbol"?n:n+""}function $W(t,n){for(var o=0;o<n.length;o++){var a=n[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),x_(t,ZW(a.key),a)}}function Si(t,n,o){return n&&$W(t.prototype,n),o&&$W(t,o),x_(t,"prototype",{writable:!1}),t}function ht(t,n,o){return(n=ZW(n))in t?x_(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t}var ej={exports:{}},tj={exports:{}};(function(t){var n=LI,o=MW;function a(u){return t.exports=a=typeof n=="function"&&typeof o=="symbol"?function(d){return typeof d}:function(d){return d&&typeof n=="function"&&d.constructor===n&&d!==n.prototype?"symbol":typeof d},t.exports.__esModule=!0,t.exports.default=t.exports,a(u)}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports})(tj);var aoe=tj.exports,soe=Gr,rj=function(t,n){var o=[][t];return!!o&&soe(function(){o.call(null,n||function(){return 1},1)})},uoe=Td.forEach,nj=rj("forEach")?[].forEach:function(t){return uoe(this,t,arguments.length>1?arguments[1]:void 0)};jt({target:"Array",proto:!0,forced:[].forEach!==nj},{forEach:nj});var loe=Lo("Array","forEach"),coe=Sd,doe=ui,foe=Mi,hoe=loe,VI=Array.prototype,poe={DOMTokenList:!0,NodeList:!0},ij=function(t){var n=t.forEach;return t===VI||foe(VI,t)&&n===VI.forEach||doe(poe,coe(t))?hoe:n},moe=ij,goe=jt,voe=bd,yoe=Zr([].reverse),oj=[1,2];goe({target:"Array",proto:!0,forced:String(oj)===String(oj.reverse())},{reverse:function(){return voe(this)&&(this.length=this.length),yoe(this)}});var _oe=Lo("Array","reverse"),Soe=Mi,boe=_oe,GI=Array.prototype,Toe=function(t){var n=t.reverse;return t===GI||Soe(GI,t)&&n===GI.reverse?boe:n},Coe=Toe;(function(t){var n=aoe.default,o=TW,a=LI,u=vW,d=mW,l=moe,c=UW,p=hW,g=aW,S=Coe,v=zW;function b(){t.exports=b=function(){return D},t.exports.__esModule=!0,t.exports.default=t.exports;var T,D={},M=Object.prototype,W=M.hasOwnProperty,Y=o||function(qe,We,Ke){qe[We]=Ke.value},ee=typeof a=="function"?a:{},te=ee.iterator||"@@iterator",de=ee.asyncIterator||"@@asyncIterator",Z=ee.toStringTag||"@@toStringTag";function ne(qe,We,Ke){return o(qe,We,{value:Ke,enumerable:!0,configurable:!0,writable:!0}),qe[We]}try{ne({},"")}catch{ne=function(We,Ke,zt){return We[Ke]=zt}}function X(qe,We,Ke,zt){var Mt=We&&We.prototype instanceof oe?We:oe,ze=u(Mt.prototype),sr=new gt(zt||[]);return Y(ze,"_invoke",{value:Ye(qe,Ke,sr)}),ze}function F(qe,We,Ke){try{return{type:"normal",arg:qe.call(We,Ke)}}catch(zt){return{type:"throw",arg:zt}}}D.wrap=X;var B="suspendedStart",U="suspendedYield",K="executing",J="completed",re={};function oe(){}function fe(){}function ae(){}var ue={};ne(ue,te,function(){return this});var ye=d&&d(d($e([])));ye&&ye!==M&&W.call(ye,te)&&(ue=ye);var be=ae.prototype=oe.prototype=u(ue);function Te(qe){var We;l(We=["next","throw","return"]).call(We,function(Ke){ne(qe,Ke,function(zt){return this._invoke(Ke,zt)})})}function je(qe,We){function Ke(Mt,ze,sr,Ar){var ln=F(qe[Mt],qe,ze);if(ln.type!=="throw"){var xn=ln.arg,wr=xn.value;return wr&&n(wr)=="object"&&W.call(wr,"__await")?We.resolve(wr.__await).then(function($r){Ke("next",$r,sr,Ar)},function($r){Ke("throw",$r,sr,Ar)}):We.resolve(wr).then(function($r){xn.value=$r,sr(xn)},function($r){return Ke("throw",$r,sr,Ar)})}Ar(ln.arg)}var zt;Y(this,"_invoke",{value:function(Mt,ze){function sr(){return new We(function(Ar,ln){Ke(Mt,ze,Ar,ln)})}return zt=zt?zt.then(sr,sr):sr()}})}function Ye(qe,We,Ke){var zt=B;return function(Mt,ze){if(zt===K)throw Error("Generator is already running");if(zt===J){if(Mt==="throw")throw ze;return{value:T,done:!0}}for(Ke.method=Mt,Ke.arg=ze;;){var sr=Ke.delegate;if(sr){var Ar=He(sr,Ke);if(Ar){if(Ar===re)continue;return Ar}}if(Ke.method==="next")Ke.sent=Ke._sent=Ke.arg;else if(Ke.method==="throw"){if(zt===B)throw zt=J,Ke.arg;Ke.dispatchException(Ke.arg)}else Ke.method==="return"&&Ke.abrupt("return",Ke.arg);zt=K;var ln=F(qe,We,Ke);if(ln.type==="normal"){if(zt=Ke.done?J:U,ln.arg===re)continue;return{value:ln.arg,done:Ke.done}}ln.type==="throw"&&(zt=J,Ke.method="throw",Ke.arg=ln.arg)}}}function He(qe,We){var Ke=We.method,zt=qe.iterator[Ke];if(zt===T)return We.delegate=null,Ke==="throw"&&qe.iterator.return&&(We.method="return",We.arg=T,He(qe,We),We.method==="throw")||Ke!=="return"&&(We.method="throw",We.arg=new TypeError("The iterator does not provide a '"+Ke+"' method")),re;var Mt=F(zt,qe.iterator,We.arg);if(Mt.type==="throw")return We.method="throw",We.arg=Mt.arg,We.delegate=null,re;var ze=Mt.arg;return ze?ze.done?(We[qe.resultName]=ze.value,We.next=qe.nextLoc,We.method!=="return"&&(We.method="next",We.arg=T),We.delegate=null,re):ze:(We.method="throw",We.arg=new TypeError("iterator result is not an object"),We.delegate=null,re)}function _t(qe){var We,Ke={tryLoc:qe[0]};1 in qe&&(Ke.catchLoc=qe[1]),2 in qe&&(Ke.finallyLoc=qe[2],Ke.afterLoc=qe[3]),c(We=this.tryEntries).call(We,Ke)}function ct(qe){var We=qe.completion||{};We.type="normal",delete We.arg,qe.completion=We}function gt(qe){this.tryEntries=[{tryLoc:"root"}],l(qe).call(qe,_t,this),this.reset(!0)}function $e(qe){if(qe||qe===""){var We=qe[te];if(We)return We.call(qe);if(typeof qe.next=="function")return qe;if(!isNaN(qe.length)){var Ke=-1,zt=function Mt(){for(;++Ke<qe.length;)if(W.call(qe,Ke))return Mt.value=qe[Ke],Mt.done=!1,Mt;return Mt.value=T,Mt.done=!0,Mt};return zt.next=zt}}throw new TypeError(n(qe)+" is not iterable")}return fe.prototype=ae,Y(be,"constructor",{value:ae,configurable:!0}),Y(ae,"constructor",{value:fe,configurable:!0}),fe.displayName=ne(ae,Z,"GeneratorFunction"),D.isGeneratorFunction=function(qe){var We=typeof qe=="function"&&qe.constructor;return!!We&&(We===fe||(We.displayName||We.name)==="GeneratorFunction")},D.mark=function(qe){return p?p(qe,ae):(qe.__proto__=ae,ne(qe,Z,"GeneratorFunction")),qe.prototype=u(be),qe},D.awrap=function(qe){return{__await:qe}},Te(je.prototype),ne(je.prototype,de,function(){return this}),D.AsyncIterator=je,D.async=function(qe,We,Ke,zt,Mt){Mt===void 0&&(Mt=g);var ze=new je(X(qe,We,Ke,zt),Mt);return D.isGeneratorFunction(We)?ze:ze.next().then(function(sr){return sr.done?sr.value:ze.next()})},Te(be),ne(be,Z,"Generator"),ne(be,te,function(){return this}),ne(be,"toString",function(){return"[object Generator]"}),D.keys=function(qe){var We=Object(qe),Ke=[];for(var zt in We)c(Ke).call(Ke,zt);return S(Ke).call(Ke),function Mt(){for(;Ke.length;){var ze=Ke.pop();if(ze in We)return Mt.value=ze,Mt.done=!1,Mt}return Mt.done=!0,Mt}},D.values=$e,gt.prototype={constructor:gt,reset:function(qe){var We;if(this.prev=0,this.next=0,this.sent=this._sent=T,this.done=!1,this.delegate=null,this.method="next",this.arg=T,l(We=this.tryEntries).call(We,ct),!qe)for(var Ke in this)Ke.charAt(0)==="t"&&W.call(this,Ke)&&!isNaN(+v(Ke).call(Ke,1))&&(this[Ke]=T)},stop:function(){this.done=!0;var qe=this.tryEntries[0].completion;if(qe.type==="throw")throw qe.arg;return this.rval},dispatchException:function(qe){if(this.done)throw qe;var We=this;function Ke(ln,xn){return ze.type="throw",ze.arg=qe,We.next=ln,xn&&(We.method="next",We.arg=T),!!xn}for(var zt=this.tryEntries.length-1;zt>=0;--zt){var Mt=this.tryEntries[zt],ze=Mt.completion;if(Mt.tryLoc==="root")return Ke("end");if(Mt.tryLoc<=this.prev){var sr=W.call(Mt,"catchLoc"),Ar=W.call(Mt,"finallyLoc");if(sr&&Ar){if(this.prev<Mt.catchLoc)return Ke(Mt.catchLoc,!0);if(this.prev<Mt.finallyLoc)return Ke(Mt.finallyLoc)}else if(sr){if(this.prev<Mt.catchLoc)return Ke(Mt.catchLoc,!0)}else{if(!Ar)throw Error("try statement without catch or finally");if(this.prev<Mt.finallyLoc)return Ke(Mt.finallyLoc)}}}},abrupt:function(qe,We){for(var Ke=this.tryEntries.length-1;Ke>=0;--Ke){var zt=this.tryEntries[Ke];if(zt.tryLoc<=this.prev&&W.call(zt,"finallyLoc")&&this.prev<zt.finallyLoc){var Mt=zt;break}}Mt&&(qe==="break"||qe==="continue")&&Mt.tryLoc<=We&&We<=Mt.finallyLoc&&(Mt=null);var ze=Mt?Mt.completion:{};return ze.type=qe,ze.arg=We,Mt?(this.method="next",this.next=Mt.finallyLoc,re):this.complete(ze)},complete:function(qe,We){if(qe.type==="throw")throw qe.arg;return qe.type==="break"||qe.type==="continue"?this.next=qe.arg:qe.type==="return"?(this.rval=this.arg=qe.arg,this.method="return",this.next="end"):qe.type==="normal"&&We&&(this.next=We),re},finish:function(qe){for(var We=this.tryEntries.length-1;We>=0;--We){var Ke=this.tryEntries[We];if(Ke.finallyLoc===qe)return this.complete(Ke.completion,Ke.afterLoc),ct(Ke),re}},catch:function(qe){for(var We=this.tryEntries.length-1;We>=0;--We){var Ke=this.tryEntries[We];if(Ke.tryLoc===qe){var zt=Ke.completion;if(zt.type==="throw"){var Mt=zt.arg;ct(Ke)}return Mt}}throw Error("illegal catch attempt")},delegateYield:function(qe,We,Ke){return this.delegate={iterator:$e(qe),resultName:We,nextLoc:Ke},this.method==="next"&&(this.arg=T),re}},D}t.exports=b,t.exports.__esModule=!0,t.exports.default=t.exports})(ej);var P_=(0,ej.exports)(),woe=P_;try{regeneratorRuntime=P_}catch{(typeof globalThis>"u"?"undefined":N(globalThis))==="object"?globalThis.regeneratorRuntime=P_:Function("r","regeneratorRuntime = r")(P_)}var R_=ce(woe),aj=ce(LW),ar=ce(ij),Ioe=Rs,sj=Em;jt({target:"Object",stat:!0,forced:Gr(function(){sj(1)})},{keys:function(t){return sj(Ioe(t))}});var k_=ce(En.Object.keys);jt({target:"Number",stat:!0},{isNaN:function(t){return t!=t}});var gh=ce(En.Number.isNaN),Eoe=Lo("Array","concat"),xoe=Mi,Aoe=Eoe,HI=Array.prototype,Doe=function(t){var n=t.concat;return t===HI||xoe(HI,t)&&n===HI.concat?Aoe:n},Yl=ce(Doe),Poe=jt,Roe=Zr,koe=Jy,Noe=RangeError,uj=String.fromCharCode,lj=String.fromCodePoint,Ooe=Roe([].join);Poe({target:"String",stat:!0,arity:1,forced:!!lj&&lj.length!==1},{fromCodePoint:function(t){for(var n,o=[],a=arguments.length,u=0;a>u;){if(n=+arguments[u++],koe(n,1114111)!==n)throw new Noe(n+" is not a valid code point");o[u]=n<65536?uj(n):uj(55296+((n-=65536)>>10),n%1024+56320)}return Ooe(o,"")}});var Foe=Gr,Moe=dX,Loe=_n("iterator"),N_=!Foe(function(){var t=new URL("b?a=1&b=2&c=3","https://a"),n=t.searchParams,o=new URLSearchParams("a=1&a=2&b=3"),a="";return t.pathname="c%20d",n.forEach(function(u,d){n.delete("b"),a+=d+u}),o.delete("a",2),o.delete("b",void 0),!t.toJSON||!o.has("a",1)||o.has("a",2)||!o.has("a",void 0)||o.has("b")||!n.size&&Moe||!n.sort||t.href!=="https://a/c%20d?a=1&c=3"||n.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!n[Loe]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("https://").host!=="xn--e1aybc"||new URL("https://a#").hash!=="#%D0%B1"||a!=="a1c3"||new URL("https://x",void 0).host!=="x"}),Woe=Hl,cj=function(t,n,o){for(var a in n)o&&o.unsafe&&t[a]?t[a]=n[a]:Woe(t,a,n[a],o);return t},dj=Ul,joe=Math.floor,zI=function(t,n){var o=t.length;if(o<8)for(var a,u,d=1;d<o;){for(u=d,a=t[d];u&&n(t[u-1],a)>0;)t[u]=t[--u];u!==d++&&(t[u]=a)}else for(var l=joe(o/2),c=zI(dj(t,0,l),n),p=zI(dj(t,l),n),g=c.length,S=p.length,v=0,b=0;v<g||b<S;)t[v+b]=v<g&&b<S?n(c[v],p[b])<=0?c[v++]:p[b++]:v<g?c[v++]:p[b++];return t},KI=jt,fj=mn,QI=vL,Boe=Fi,O_=yi,Os=Zr,Km=qn,hj=N_,pj=Hl,Uoe=Dm,Voe=cj,Goe=hu,Hoe=KM,YI=ks,mj=jm,qI=xi,zoe=ui,Koe=Yu,Qoe=Sd,Yoe=Mo,gj=Jn,Wo=Da,qoe=Gl,vj=jl,yj=zw,Joe=Mm,F_=y_,vh=Bm,Xoe=zI,Zoe=_n("iterator"),yh="URLSearchParams",_j=yh+"Iterator",Sj=YI.set,Ja=YI.getterFor(yh),$oe=YI.getterFor(_j),bj=QI("fetch"),M_=QI("Request"),Qm=QI("Headers"),JI=M_&&M_.prototype,Tj=Qm&&Qm.prototype,eae=fj.TypeError,tae=fj.encodeURIComponent,rae=String.fromCharCode,nae=Boe("String","fromCodePoint"),iae=parseInt,L_=Os("".charAt),Cj=Os([].join),ql=Os([].push),wj=Os("".replace),oae=Os([].shift),Ij=Os([].splice),Ej=Os("".split),xj=Os("".slice),aae=Os(/./.exec),sae=/\+/g,uae=/^[0-9a-f]+$/i,Aj=function(t,n){var o=xj(t,n,n+2);return aae(uae,o)?iae(o,16):NaN},lae=function(t){for(var n=0,o=128;o>0&&t&o;o>>=1)n++;return n},cae=function(t){var n=null;switch(t.length){case 1:n=t[0];break;case 2:n=(31&t[0])<<6|63&t[1];break;case 3:n=(15&t[0])<<12|(63&t[1])<<6|63&t[2];break;case 4:n=(7&t[0])<<18|(63&t[1])<<12|(63&t[2])<<6|63&t[3]}return n>1114111?null:n},Dj=function(t){for(var n=(t=wj(t,sae," ")).length,o="",a=0;a<n;){var u=L_(t,a);if(u==="%"){if(L_(t,a+1)==="%"||a+3>n){o+="%",a++;continue}var d=Aj(t,a+1);if(d!=d){o+=u,a++;continue}a+=2;var l=lae(d);if(l===0)u=rae(d);else{if(l===1||l>4){o+="",a++;continue}for(var c=[d],p=1;p<l&&!(++a+3>n||L_(t,a)!=="%");){var g=Aj(t,a+1);if(g!=g){a+=3;break}if(g>191||g<128)break;ql(c,g),a+=2,p++}if(c.length!==l){o+="";continue}var S=cae(c);S===null?o+="":u=nae(S)}}o+=u,a++}return o},dae=/[!'()~]|%20/g,fae={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},hae=function(t){return fae[t]},Pj=function(t){return wj(tae(t),dae,hae)},XI=Hoe(function(t,n){Sj(this,{type:_j,target:Ja(t).entries,index:0,kind:n})},yh,function(){var t=$oe(this),n=t.target,o=t.index++;if(!n||o>=n.length)return t.target=null,F_(void 0,!0);var a=n[o];switch(t.kind){case"keys":return F_(a.key,!1);case"values":return F_(a.value,!1)}return F_([a.key,a.value],!1)},!0),Rj=function(t){this.entries=[],this.url=null,t!==void 0&&(gj(t)?this.parseObject(t):this.parseQuery(typeof t=="string"?L_(t,0)==="?"?xj(t,1):t:Wo(t)))};Rj.prototype={type:yh,bindURL:function(t){this.url=t,this.update()},parseObject:function(t){var n,o,a,u,d,l,c,p=this.entries,g=Joe(t);if(g)for(o=(n=yj(t,g)).next;!(a=O_(o,n)).done;){if(d=(u=yj(Yoe(a.value))).next,(l=O_(d,u)).done||(c=O_(d,u)).done||!O_(d,u).done)throw new eae("Expected sequence with length 2");ql(p,{key:Wo(l.value),value:Wo(c.value)})}else for(var S in t)zoe(t,S)&&ql(p,{key:S,value:Wo(t[S])})},parseQuery:function(t){if(t)for(var n,o,a=this.entries,u=Ej(t,"&"),d=0;d<u.length;)(n=u[d++]).length&&(o=Ej(n,"="),ql(a,{key:Dj(oae(o)),value:Dj(Cj(o,"="))}))},serialize:function(){for(var t,n=this.entries,o=[],a=0;a<n.length;)t=n[a++],ql(o,Pj(t.key)+"="+Pj(t.value));return Cj(o,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var W_=function(){mj(this,_h);var t=arguments.length>0?arguments[0]:void 0,n=Sj(this,new Rj(t));Km||(this.size=n.entries.length)},_h=W_.prototype;if(Voe(_h,{append:function(t,n){var o=Ja(this);vh(arguments.length,2),ql(o.entries,{key:Wo(t),value:Wo(n)}),Km||this.size++,o.updateURL()},delete:function(t){for(var n=Ja(this),o=vh(arguments.length,1),a=n.entries,u=Wo(t),d=o<2?void 0:arguments[1],l=d===void 0?d:Wo(d),c=0;c<a.length;){var p=a[c];if(p.key!==u||l!==void 0&&p.value!==l)c++;else if(Ij(a,c,1),l!==void 0)break}Km||(this.size=a.length),n.updateURL()},get:function(t){var n=Ja(this).entries;vh(arguments.length,1);for(var o=Wo(t),a=0;a<n.length;a++)if(n[a].key===o)return n[a].value;return null},getAll:function(t){var n=Ja(this).entries;vh(arguments.length,1);for(var o=Wo(t),a=[],u=0;u<n.length;u++)n[u].key===o&&ql(a,n[u].value);return a},has:function(t){for(var n=Ja(this).entries,o=vh(arguments.length,1),a=Wo(t),u=o<2?void 0:arguments[1],d=u===void 0?u:Wo(u),l=0;l<n.length;){var c=n[l++];if(c.key===a&&(d===void 0||c.value===d))return!0}return!1},set:function(t,n){var o=Ja(this);vh(arguments.length,1);for(var a,u=o.entries,d=!1,l=Wo(t),c=Wo(n),p=0;p<u.length;p++)(a=u[p]).key===l&&(d?Ij(u,p--,1):(d=!0,a.value=c));d||ql(u,{key:l,value:c}),Km||(this.size=u.length),o.updateURL()},sort:function(){var t=Ja(this);Xoe(t.entries,function(n,o){return n.key>o.key?1:-1}),t.updateURL()},forEach:function(t){for(var n,o=Ja(this).entries,a=Koe(t,arguments.length>1?arguments[1]:void 0),u=0;u<o.length;)a((n=o[u++]).value,n.key,this)},keys:function(){return new XI(this,"keys")},values:function(){return new XI(this,"values")},entries:function(){return new XI(this,"entries")}},{enumerable:!0}),pj(_h,Zoe,_h.entries,{name:"entries"}),pj(_h,"toString",function(){return Ja(this).serialize()},{enumerable:!0}),Km&&Uoe(_h,"size",{get:function(){return Ja(this).entries.length},configurable:!0,enumerable:!0}),Goe(W_,yh),KI({global:!0,constructor:!0,forced:!hj},{URLSearchParams:W_}),!hj&&qI(Qm)){var pae=Os(Tj.has),mae=Os(Tj.set),kj=function(t){if(gj(t)){var n,o=t.body;if(Qoe(o)===yh)return n=t.headers?new Qm(t.headers):new Qm,pae(n,"content-type")||mae(n,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),qoe(t,{body:vj(0,Wo(o)),headers:vj(0,n)})}return t};if(qI(bj)&&KI({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(t){return bj(t,arguments.length>1?kj(arguments[1]):{})}}),qI(M_)){var ZI=function(t){return mj(this,JI),new M_(t,arguments.length>1?kj(arguments[1]):{})};JI.constructor=ZI,ZI.prototype=JI,KI({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:ZI})}}var Xa,gae={URLSearchParams:W_,getState:Ja},Nj=qn,vae=Zr,yae=yi,_ae=Gr,$I=Em,Sae=Am,bae=vm,Tae=Rs,Cae=JC,Sh=Object.assign,Oj=Object.defineProperty,wae=vae([].concat),Iae=!Sh||_ae(function(){if(Nj&&Sh({b:1},Sh(Oj({},"a",{enumerable:!0,get:function(){Oj(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var t={},n={},o=Symbol("assign detection"),a="abcdefghijklmnopqrst";return t[o]=7,a.split("").forEach(function(u){n[u]=u}),Sh({},t)[o]!==7||$I(Sh({},n)).join("")!==a})?function(t,n){for(var o=Tae(t),a=arguments.length,u=1,d=Sae.f,l=bae.f;a>u;)for(var c,p=Cae(arguments[u++]),g=d?wae($I(p),d(p)):$I(p),S=g.length,v=0;S>v;)c=g[v++],Nj&&!yae(l,p,c)||(o[c]=p[c]);return o}:Sh,Dd=Zr,eE=2147483647,Eae=/[^\0-\u007E]/,Fj=/[.\u3002\uFF0E\uFF61]/g,Mj="Overflow: input needs wider integers to process",Lj=RangeError,xae=Dd(Fj.exec),bh=Math.floor,tE=String.fromCharCode,Wj=Dd("".charCodeAt),jj=Dd([].join),Jl=Dd([].push),Aae=Dd("".replace),Dae=Dd("".split),Pae=Dd("".toLowerCase),Bj=function(t){return t+22+75*(t<26)},Rae=function(t,n,o){var a=0;for(t=o?bh(t/700):t>>1,t+=bh(t/n);t>455;)t=bh(t/35),a+=36;return bh(a+36*t/(t+38))},kae=function(t){var n=[];t=function(Y){for(var ee=[],te=0,de=Y.length;te<de;){var Z=Wj(Y,te++);if(Z>=55296&&Z<=56319&&te<de){var ne=Wj(Y,te++);(64512&ne)==56320?Jl(ee,((1023&Z)<<10)+(1023&ne)+65536):(Jl(ee,Z),te--)}else Jl(ee,Z)}return ee}(t);var o,a,u=t.length,d=128,l=0,c=72;for(o=0;o<t.length;o++)(a=t[o])<128&&Jl(n,tE(a));var p=n.length,g=p;for(p&&Jl(n,"-");g<u;){var S=eE;for(o=0;o<t.length;o++)(a=t[o])>=d&&a<S&&(S=a);var v=g+1;if(S-d>bh((eE-l)/v))throw new Lj(Mj);for(l+=(S-d)*v,d=S,o=0;o<t.length;o++){if((a=t[o])<d&&++l>eE)throw new Lj(Mj);if(a===d){for(var b=l,T=36;;){var D=T<=c?1:T>=c+26?26:T-c;if(b<D)break;var M=b-D,W=36-D;Jl(n,tE(Bj(D+M%W))),b=bh(M/W),T+=36}Jl(n,tE(Bj(b))),c=Rae(l,v,g===p),l=0,g++}}l++,d++}return jj(n,"")},Nae=jt,rE=qn,Oae=N_,nE=mn,Uj=Yu,Za=Zr,j_=Hl,$a=Dm,Fae=jm,iE=ui,oE=Iae,Th=YW,Fs=Ul,Mae=eW.codeAt,Lae=function(t){var n,o,a=[],u=Dae(Aae(Pae(t),Fj,"."),".");for(n=0;n<u.length;n++)o=u[n],Jl(a,xae(Eae,o)?"xn--"+kae(o):o);return jj(a,".")},Ju=Da,Wae=hu,jae=Bm,Vj=gae,Gj=ks,Bae=Gj.set,B_=Gj.getterFor("URL"),Uae=Vj.URLSearchParams,Vae=Vj.getState,Ym=nE.URL,aE=nE.TypeError,U_=nE.parseInt,Gae=Math.floor,Hj=Math.pow,es=Za("".charAt),Ms=Za(/./.exec),qm=Za([].join),Hae=Za(1.1.toString),zae=Za([].pop),Ch=Za([].push),sE=Za("".replace),Kae=Za([].shift),Qae=Za("".split),Jm=Za("".slice),V_=Za("".toLowerCase),Yae=Za([].unshift),uE="Invalid scheme",Pd="Invalid host",zj="Invalid port",Kj=/[a-z]/i,qae=/[\d+-.a-z]/i,lE=/\d/,Jae=/^0x/i,Xae=/^[0-7]+$/,Zae=/^\d+$/,Qj=/^[\da-f]+$/i,$ae=/[\0\t\n\r #%/:<>?@[\\\]^|]/,ese=/[\0\t\n\r #/:<>?@[\\\]^|]/,tse=/^[\u0000-\u0020]+/,rse=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,nse=/[\t\n\r]/g,Xm=function(t){var n,o,a,u;if(typeof t=="number"){for(n=[],o=0;o<4;o++)Yae(n,t%256),t=Gae(t/256);return qm(n,".")}if(N(t)=="object"){for(n="",a=function(d){for(var l=null,c=1,p=null,g=0,S=0;S<8;S++)d[S]!==0?(g>c&&(l=p,c=g),p=null,g=0):(p===null&&(p=S),++g);return g>c?p:l}(t),o=0;o<8;o++)u&&t[o]===0||(u&&(u=!1),a===o?(n+=o?":":"::",u=!0):(n+=Hae(t[o],16),o<7&&(n+=":")));return"["+n+"]"}return t},G_={},Yj=oE({},G_,{" ":1,'"':1,"<":1,">":1,"`":1}),qj=oE({},Yj,{"#":1,"?":1,"{":1,"}":1}),cE=oE({},qj,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Xl=function(t,n){var o=Mae(t,0);return o>32&&o<127&&!iE(n,t)?t:encodeURIComponent(t)},H_={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Zm=function(t,n){var o;return t.length===2&&Ms(Kj,es(t,0))&&((o=es(t,1))===":"||!n&&o==="|")},Jj=function(t){var n;return t.length>1&&Zm(Jm(t,0,2))&&(t.length===2||(n=es(t,2))==="/"||n==="\\"||n==="?"||n==="#")},ise=function(t){return t==="."||V_(t)==="%2e"},ose=function(t){return(t=V_(t))===".."||t==="%2e."||t===".%2e"||t==="%2e%2e"},dE={},Xj={},fE={},Zj={},$j={},hE={},eB={},tB={},z_={},K_={},pE={},mE={},gE={},vE={},rB={},yE={},wh={},gu={},nB={},Rd={},Xu={},_E=function(t,n,o){var a,u,d,l=Ju(t);if(n){if(u=this.parse(l))throw new aE(u);this.searchParams=null}else{if(o!==void 0&&(a=new _E(o,!0)),u=this.parse(l,null,a))throw new aE(u);(d=Vae(new Uae)).bindURL(this),this.searchParams=d}};_E.prototype={type:"URL",parse:function(t,n,o){var a,u,d,l,c=this,p=n||dE,g=0,S="",v=!1,b=!1,T=!1;for(t=Ju(t),n||(c.scheme="",c.username="",c.password="",c.host=null,c.port=null,c.path=[],c.query=null,c.fragment=null,c.cannotBeABaseURL=!1,t=sE(t,tse,""),t=sE(t,rse,"$1")),t=sE(t,nse,""),a=Th(t);g<=a.length;){switch(u=a[g],p){case dE:if(!u||!Ms(Kj,u)){if(n)return uE;p=fE;continue}S+=V_(u),p=Xj;break;case Xj:if(u&&(Ms(qae,u)||u==="+"||u==="-"||u==="."))S+=V_(u);else{if(u!==":"){if(n)return uE;S="",p=fE,g=0;continue}if(n&&(c.isSpecial()!==iE(H_,S)||S==="file"&&(c.includesCredentials()||c.port!==null)||c.scheme==="file"&&!c.host))return;if(c.scheme=S,n)return void(c.isSpecial()&&H_[c.scheme]===c.port&&(c.port=null));S="",c.scheme==="file"?p=vE:c.isSpecial()&&o&&o.scheme===c.scheme?p=Zj:c.isSpecial()?p=tB:a[g+1]==="/"?(p=$j,g++):(c.cannotBeABaseURL=!0,Ch(c.path,""),p=nB)}break;case fE:if(!o||o.cannotBeABaseURL&&u!=="#")return uE;if(o.cannotBeABaseURL&&u==="#"){c.scheme=o.scheme,c.path=Fs(o.path),c.query=o.query,c.fragment="",c.cannotBeABaseURL=!0,p=Xu;break}p=o.scheme==="file"?vE:hE;continue;case Zj:if(u!=="/"||a[g+1]!=="/"){p=hE;continue}p=z_,g++;break;case $j:if(u==="/"){p=K_;break}p=gu;continue;case hE:if(c.scheme=o.scheme,u===Xa)c.username=o.username,c.password=o.password,c.host=o.host,c.port=o.port,c.path=Fs(o.path),c.query=o.query;else if(u==="/"||u==="\\"&&c.isSpecial())p=eB;else if(u==="?")c.username=o.username,c.password=o.password,c.host=o.host,c.port=o.port,c.path=Fs(o.path),c.query="",p=Rd;else{if(u!=="#"){c.username=o.username,c.password=o.password,c.host=o.host,c.port=o.port,c.path=Fs(o.path),c.path.length--,p=gu;continue}c.username=o.username,c.password=o.password,c.host=o.host,c.port=o.port,c.path=Fs(o.path),c.query=o.query,c.fragment="",p=Xu}break;case eB:if(!c.isSpecial()||u!=="/"&&u!=="\\"){if(u!=="/"){c.username=o.username,c.password=o.password,c.host=o.host,c.port=o.port,p=gu;continue}p=K_}else p=z_;break;case tB:if(p=z_,u!=="/"||es(S,g+1)!=="/")continue;g++;break;case z_:if(u!=="/"&&u!=="\\"){p=K_;continue}break;case K_:if(u==="@"){v&&(S="%40"+S),v=!0,d=Th(S);for(var D=0;D<d.length;D++){var M=d[D];if(M!==":"||T){var W=Xl(M,cE);T?c.password+=W:c.username+=W}else T=!0}S=""}else if(u===Xa||u==="/"||u==="?"||u==="#"||u==="\\"&&c.isSpecial()){if(v&&S==="")return"Invalid authority";g-=Th(S).length+1,S="",p=pE}else S+=u;break;case pE:case mE:if(n&&c.scheme==="file"){p=yE;continue}if(u!==":"||b){if(u===Xa||u==="/"||u==="?"||u==="#"||u==="\\"&&c.isSpecial()){if(c.isSpecial()&&S==="")return Pd;if(n&&S===""&&(c.includesCredentials()||c.port!==null))return;if(l=c.parseHost(S))return l;if(S="",p=wh,n)return;continue}u==="["?b=!0:u==="]"&&(b=!1),S+=u}else{if(S==="")return Pd;if(l=c.parseHost(S))return l;if(S="",p=gE,n===mE)return}break;case gE:if(!Ms(lE,u)){if(u===Xa||u==="/"||u==="?"||u==="#"||u==="\\"&&c.isSpecial()||n){if(S!==""){var Y=U_(S,10);if(Y>65535)return zj;c.port=c.isSpecial()&&Y===H_[c.scheme]?null:Y,S=""}if(n)return;p=wh;continue}return zj}S+=u;break;case vE:if(c.scheme="file",u==="/"||u==="\\")p=rB;else{if(!o||o.scheme!=="file"){p=gu;continue}switch(u){case Xa:c.host=o.host,c.path=Fs(o.path),c.query=o.query;break;case"?":c.host=o.host,c.path=Fs(o.path),c.query="",p=Rd;break;case"#":c.host=o.host,c.path=Fs(o.path),c.query=o.query,c.fragment="",p=Xu;break;default:Jj(qm(Fs(a,g),""))||(c.host=o.host,c.path=Fs(o.path),c.shortenPath()),p=gu;continue}}break;case rB:if(u==="/"||u==="\\"){p=yE;break}o&&o.scheme==="file"&&!Jj(qm(Fs(a,g),""))&&(Zm(o.path[0],!0)?Ch(c.path,o.path[0]):c.host=o.host),p=gu;continue;case yE:if(u===Xa||u==="/"||u==="\\"||u==="?"||u==="#"){if(!n&&Zm(S))p=gu;else if(S===""){if(c.host="",n)return;p=wh}else{if(l=c.parseHost(S))return l;if(c.host==="localhost"&&(c.host=""),n)return;S="",p=wh}continue}S+=u;break;case wh:if(c.isSpecial()){if(p=gu,u!=="/"&&u!=="\\")continue}else if(n||u!=="?")if(n||u!=="#"){if(u!==Xa&&(p=gu,u!=="/"))continue}else c.fragment="",p=Xu;else c.query="",p=Rd;break;case gu:if(u===Xa||u==="/"||u==="\\"&&c.isSpecial()||!n&&(u==="?"||u==="#")){if(ose(S)?(c.shortenPath(),u==="/"||u==="\\"&&c.isSpecial()||Ch(c.path,"")):ise(S)?u==="/"||u==="\\"&&c.isSpecial()||Ch(c.path,""):(c.scheme==="file"&&!c.path.length&&Zm(S)&&(c.host&&(c.host=""),S=es(S,0)+":"),Ch(c.path,S)),S="",c.scheme==="file"&&(u===Xa||u==="?"||u==="#"))for(;c.path.length>1&&c.path[0]==="";)Kae(c.path);u==="?"?(c.query="",p=Rd):u==="#"&&(c.fragment="",p=Xu)}else S+=Xl(u,qj);break;case nB:u==="?"?(c.query="",p=Rd):u==="#"?(c.fragment="",p=Xu):u!==Xa&&(c.path[0]+=Xl(u,G_));break;case Rd:n||u!=="#"?u!==Xa&&(u==="'"&&c.isSpecial()?c.query+="%27":c.query+=u==="#"?"%23":Xl(u,G_)):(c.fragment="",p=Xu);break;case Xu:u!==Xa&&(c.fragment+=Xl(u,Yj))}g++}},parseHost:function(t){var n,o,a;if(es(t,0)==="["){if(es(t,t.length-1)!=="]"||(n=function(u){var d,l,c,p,g,S,v,b=[0,0,0,0,0,0,0,0],T=0,D=null,M=0,W=function(){return es(u,M)};if(W()===":"){if(es(u,1)!==":")return;M+=2,D=++T}for(;W();){if(T===8)return;if(W()!==":"){for(d=l=0;l<4&&Ms(Qj,W());)d=16*d+U_(W(),16),M++,l++;if(W()==="."){if(l===0||(M-=l,T>6))return;for(c=0;W();){if(p=null,c>0){if(!(W()==="."&&c<4))return;M++}if(!Ms(lE,W()))return;for(;Ms(lE,W());){if(g=U_(W(),10),p===null)p=g;else{if(p===0)return;p=10*p+g}if(p>255)return;M++}b[T]=256*b[T]+p,++c!==2&&c!==4||T++}if(c!==4)return;break}if(W()===":"){if(M++,!W())return}else if(W())return;b[T++]=d}else{if(D!==null)return;M++,D=++T}}if(D!==null)for(S=T-D,T=7;T!==0&&S>0;)v=b[T],b[T--]=b[D+S-1],b[D+--S]=v;else if(T!==8)return;return b}(Jm(t,1,-1)),!n))return Pd;this.host=n}else if(this.isSpecial()){if(t=Lae(t),Ms($ae,t)||(n=function(u){var d,l,c,p,g,S,v,b=Qae(u,".");if(b.length&&b[b.length-1]===""&&b.length--,(d=b.length)>4)return u;for(l=[],c=0;c<d;c++){if((p=b[c])==="")return u;if(g=10,p.length>1&&es(p,0)==="0"&&(g=Ms(Jae,p)?16:8,p=Jm(p,g===8?1:2)),p==="")S=0;else{if(!Ms(g===10?Zae:g===8?Xae:Qj,p))return u;S=U_(p,g)}Ch(l,S)}for(c=0;c<d;c++)if(S=l[c],c===d-1){if(S>=Hj(256,5-d))return null}else if(S>255)return null;for(v=zae(l),c=0;c<l.length;c++)v+=l[c]*Hj(256,3-c);return v}(t),n===null))return Pd;this.host=n}else{if(Ms(ese,t))return Pd;for(n="",o=Th(t),a=0;a<o.length;a++)n+=Xl(o[a],G_);this.host=n}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme==="file"},includesCredentials:function(){return this.username!==""||this.password!==""},isSpecial:function(){return iE(H_,this.scheme)},shortenPath:function(){var t=this.path,n=t.length;!n||this.scheme==="file"&&n===1&&Zm(t[0],!0)||t.length--},serialize:function(){var t=this,n=t.scheme,o=t.username,a=t.password,u=t.host,d=t.port,l=t.path,c=t.query,p=t.fragment,g=n+":";return u!==null?(g+="//",t.includesCredentials()&&(g+=o+(a?":"+a:"")+"@"),g+=Xm(u),d!==null&&(g+=":"+d)):n==="file"&&(g+="//"),g+=t.cannotBeABaseURL?l[0]:l.length?"/"+qm(l,"/"):"",c!==null&&(g+="?"+c),p!==null&&(g+="#"+p),g},setHref:function(t){var n=this.parse(t);if(n)throw new aE(n);this.searchParams.update()},getOrigin:function(){var t=this.scheme,n=this.port;if(t==="blob")try{return new Ih(t.path[0]).origin}catch{return"null"}return t!=="file"&&this.isSpecial()?t+"://"+Xm(this.host)+(n!==null?":"+n:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(t){this.parse(Ju(t)+":",dE)},getUsername:function(){return this.username},setUsername:function(t){var n=Th(Ju(t));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var o=0;o<n.length;o++)this.username+=Xl(n[o],cE)}},getPassword:function(){return this.password},setPassword:function(t){var n=Th(Ju(t));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var o=0;o<n.length;o++)this.password+=Xl(n[o],cE)}},getHost:function(){var t=this.host,n=this.port;return t===null?"":n===null?Xm(t):Xm(t)+":"+n},setHost:function(t){this.cannotBeABaseURL||this.parse(t,pE)},getHostname:function(){var t=this.host;return t===null?"":Xm(t)},setHostname:function(t){this.cannotBeABaseURL||this.parse(t,mE)},getPort:function(){var t=this.port;return t===null?"":Ju(t)},setPort:function(t){this.cannotHaveUsernamePasswordPort()||((t=Ju(t))===""?this.port=null:this.parse(t,gE))},getPathname:function(){var t=this.path;return this.cannotBeABaseURL?t[0]:t.length?"/"+qm(t,"/"):""},setPathname:function(t){this.cannotBeABaseURL||(this.path=[],this.parse(t,wh))},getSearch:function(){var t=this.query;return t?"?"+t:""},setSearch:function(t){(t=Ju(t))===""?this.query=null:(es(t,0)==="?"&&(t=Jm(t,1)),this.query="",this.parse(t,Rd)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var t=this.fragment;return t?"#"+t:""},setHash:function(t){(t=Ju(t))!==""?(es(t,0)==="#"&&(t=Jm(t,1)),this.fragment="",this.parse(t,Xu)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Ih=function(t){var n=Fae(this,jo),o=jae(arguments.length,1)>1?arguments[1]:void 0,a=Bae(n,new _E(t,!1,o));rE||(n.href=a.serialize(),n.origin=a.getOrigin(),n.protocol=a.getProtocol(),n.username=a.getUsername(),n.password=a.getPassword(),n.host=a.getHost(),n.hostname=a.getHostname(),n.port=a.getPort(),n.pathname=a.getPathname(),n.search=a.getSearch(),n.searchParams=a.getSearchParams(),n.hash=a.getHash())},jo=Ih.prototype,ts=function(t,n){return{get:function(){return B_(this)[t]()},set:n&&function(o){return B_(this)[n](o)},configurable:!0,enumerable:!0}};if(rE&&($a(jo,"href",ts("serialize","setHref")),$a(jo,"origin",ts("getOrigin")),$a(jo,"protocol",ts("getProtocol","setProtocol")),$a(jo,"username",ts("getUsername","setUsername")),$a(jo,"password",ts("getPassword","setPassword")),$a(jo,"host",ts("getHost","setHost")),$a(jo,"hostname",ts("getHostname","setHostname")),$a(jo,"port",ts("getPort","setPort")),$a(jo,"pathname",ts("getPathname","setPathname")),$a(jo,"search",ts("getSearch","setSearch")),$a(jo,"searchParams",ts("getSearchParams")),$a(jo,"hash",ts("getHash","setHash"))),j_(jo,"toJSON",function(){return B_(this).serialize()},{enumerable:!0}),j_(jo,"toString",function(){return B_(this).serialize()},{enumerable:!0}),Ym){var iB=Ym.createObjectURL,oB=Ym.revokeObjectURL;iB&&j_(Ih,"createObjectURL",Uj(iB,Ym)),oB&&j_(Ih,"revokeObjectURL",Uj(oB,Ym))}Wae(Ih,"URL"),Nae({global:!0,constructor:!0,forced:!Oae,sham:!rE},{URL:Ih});var ase=jt,aB=Gr,sse=Bm,sB=Da,use=N_,SE=Fi("URL"),lse=use&&aB(function(){SE.canParse()}),cse=aB(function(){return SE.canParse.length!==1});ase({target:"URL",stat:!0,forced:!lse||cse},{canParse:function(t){var n=sse(arguments.length,1),o=sB(t),a=n<2||arguments[1]===void 0?void 0:sB(arguments[1]);try{return!!new SE(o,a)}catch{return!1}}});var dse=jt,fse=Bm,uB=Da,hse=N_,pse=Fi("URL");dse({target:"URL",stat:!0,forced:!hse},{parse:function(t){var n=fse(arguments.length,1),o=uB(t),a=n<2||arguments[1]===void 0?void 0:uB(arguments[1]);try{return new pse(o,a)}catch{return null}}});var mse=ce(En.URL),Zl=ce(HW),gse=jt,vse=pw.indexOf,yse=rj,bE=Vy([].indexOf),lB=!!bE&&1/bE([1],1,-0)<0;gse({target:"Array",proto:!0,forced:lB||!yse("indexOf")},{indexOf:function(t){var n=arguments.length>1?arguments[1]:void 0;return lB?bE(this,t,n)||0:vse(this,t,n)}});var _se=Lo("Array","indexOf"),Sse=Mi,bse=_se,TE=Array.prototype,Tse=function(t){var n=t.indexOf;return t===TE||Sse(TE,t)&&n===TE.indexOf?bse:n},so=ce(Tse),cB=_d,Cse=TypeError,wse=jt,Ise=Rs,Ese=Jy,xse=wm,Ase=Vl,Dse=BW,Pse=OI,Rse=Ew,kse=Fm,CE=function(t,n){if(!delete t[n])throw new Cse("Cannot delete property "+cB(n)+" of "+cB(t))},Nse=zm("splice"),Ose=Math.max,Fse=Math.min;wse({target:"Array",proto:!0,forced:!Nse},{splice:function(t,n){var o,a,u,d,l,c,p=Ise(this),g=Ase(p),S=Ese(t,g),v=arguments.length;for(v===0?o=a=0:v===1?(o=0,a=g-S):(o=v-2,a=Fse(Ose(xse(n),0),g-S)),Pse(g+o-a),u=Rse(p,a),d=0;d<a;d++)(l=S+d)in p&&kse(u,d,p[l]);if(u.length=a,o<a){for(d=S;d<g-a;d++)c=d+o,(l=d+a)in p?p[c]=p[l]:CE(p,c);for(d=g;d>g-a+o;d--)CE(p,d-1)}else if(o>a)for(d=g-a;d>S;d--)c=d+o-1,(l=d+a-1)in p?p[c]=p[l]:CE(p,c);for(d=0;d<o;d++)p[d+S]=arguments[d+2];return Dse(p,g-a+o),u}});var Mse=Lo("Array","splice"),Lse=Mi,Wse=Mse,wE=Array.prototype,jse=function(t){var n=t.splice;return t===wE||Lse(wE,t)&&n===wE.splice?Wse:n},uo=ce(jse),Bse=jt,Use=Td.findIndex,dB="findIndex",fB=!0;dB in[]&&Array(1)[dB](function(){fB=!1}),Bse({target:"Array",proto:!0,forced:fB},{findIndex:function(t){return Use(this,t,arguments.length>1?arguments[1]:void 0)}});var Vse=Lo("Array","findIndex"),Gse=Mi,Hse=Vse,IE=Array.prototype,zse=function(t){var n=t.findIndex;return t===IE||Gse(IE,t)&&n===IE.findIndex?Hse:n},hB=ce(zse),pB=qn,Kse=Gr,mB=Zr,Qse=rh,Yse=Em,qse=Ps,gB=mB(vm.f),Jse=mB([].push),Xse=pB&&Kse(function(){var t=Object.create(null);return t[2]=2,!gB(t,2)}),vB=function(t){return function(n){for(var o,a=qse(n),u=Yse(a),d=Xse&&Qse(a)===null,l=u.length,c=0,p=[];l>c;)o=u[c++],pB&&!(d?o in a:gB(a,o))||Jse(p,t?[o,a[o]]:a[o]);return p}},Zse={entries:vB(!0),values:vB(!1)}.entries;jt({target:"Object",stat:!0},{entries:function(t){return Zse(t)}});var Q_=ce(En.Object.entries),Y_=ce(oW),$se=jt,eue=Td.find,yB="find",_B=!0;yB in[]&&Array(1)[yB](function(){_B=!1}),$se({target:"Array",proto:!0,forced:_B},{find:function(t){return eue(this,t,arguments.length>1?arguments[1]:void 0)}});var tue=Lo("Array","find"),rue=Mi,nue=tue,EE=Array.prototype,iue=function(t){var n=t.find;return t===EE||rue(EE,t)&&n===EE.find?nue:n},$m=ce(iue),oue=Td.filter;jt({target:"Array",proto:!0,forced:!zm("filter")},{filter:function(t){return oue(this,t,arguments.length>1?arguments[1]:void 0)}});var aue=Lo("Array","filter"),sue=Mi,uue=aue,xE=Array.prototype,lue=function(t){var n=t.filter;return t===xE||sue(xE,t)&&n===xE.filter?uue:n},SB=ce(lue),cue=Td.map;jt({target:"Array",proto:!0,forced:!zm("map")},{map:function(t){return cue(this,t,arguments.length>1?arguments[1]:void 0)}});var due=Lo("Array","map"),fue=Mi,hue=due,AE=Array.prototype,pue=function(t){var n=t.map;return t===AE||fue(AE,t)&&n===AE.map?hue:n},eg=ce(pue),mue=pw.includes;jt({target:"Array",proto:!0,forced:Gr(function(){return!Array(1).includes()})},{includes:function(t){return mue(this,t,arguments.length>1?arguments[1]:void 0)}});var gue=Lo("Array","includes"),vue=Jn,yue=Qu,_ue=_n("match"),Sue=function(t){var n;return vue(t)&&((n=t[_ue])!==void 0?!!n:yue(t)==="RegExp")},bue=TypeError,Tue=_n("match"),Cue=jt,wue=function(t){if(Sue(t))throw new bue("The method doesn't accept regular expressions");return t},Iue=Kf,bB=Da,Eue=function(t){var n=/./;try{"/./"[t](n)}catch{try{return n[Tue]=!1,"/./"[t](n)}catch{}}return!1},xue=Zr("".indexOf);Cue({target:"String",proto:!0,forced:!Eue("includes")},{includes:function(t){return!!~xue(bB(Iue(this)),bB(wue(t)),arguments.length>1?arguments[1]:void 0)}});var Aue=Lo("String","includes"),TB=Mi,Due=gue,Pue=Aue,DE=Array.prototype,PE=String.prototype,Rue=function(t){var n=t.includes;return t===DE||TB(DE,t)&&n===DE.includes?Due:typeof t=="string"||t===PE||TB(PE,t)&&n===PE.includes?Pue:n},kue=ce(Rue),CB=`	
\v\f\r \u2028\u2029\uFEFF`,Nue=Kf,Oue=Da,RE=CB,wB=Zr("".replace),Fue=RegExp("^["+RE+"]+"),Mue=RegExp("(^|[^"+RE+"])["+RE+"]+$"),kE=function(t){return function(n){var o=Oue(Nue(n));return 1&t&&(o=wB(o,Fue,"")),2&t&&(o=wB(o,Mue,"$1")),o}},Lue={start:kE(1),end:kE(2),trim:kE(3)},IB=mn,Wue=Gr,jue=Zr,Bue=Da,Uue=Lue.trim,EB=CB,tg=IB.parseInt,xB=IB.Symbol,AB=xB&&xB.iterator,DB=/^[+-]?0x/i,Vue=jue(DB.exec),PB=tg(EB+"08")!==8||tg(EB+"0x16")!==22||AB&&!Wue(function(){tg(Object(AB))})?function(t,n){var o=Uue(Bue(t));return tg(o,n>>>0||(Vue(DB,o)?16:10))}:tg;jt({global:!0,forced:parseInt!==PB},{parseInt:PB});var rg=ce(En.parseInt),Gue=ce(qW),Hue=Lo("Array","keys"),zue=Sd,Kue=ui,Que=Mi,Yue=Hue,NE=Array.prototype,que={DOMTokenList:!0,NodeList:!0},Jue=function(t){var n=t.keys;return t===NE||Que(NE,t)&&n===NE.keys||Kue(que,zue(t))?Yue:n},Xue=ce(Jue),RB={exports:{}},Zue=Gr(function(){if(typeof ArrayBuffer=="function"){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}),$ue=Gr,ele=Jn,tle=Qu,kB=Zue,q_=Object.isExtensible,rle=$ue(function(){q_(1)})||kB?function(t){return!!ele(t)&&(!kB||tle(t)!=="ArrayBuffer")&&(!q_||q_(t))}:q_,nle=!Gr(function(){return Object.isExtensible(Object.preventExtensions({}))}),ile=jt,ole=Zr,ale=Im,sle=Jn,OE=ui,ule=sa.f,NB=xm,lle=Tw,FE=rle,cle=nle,OB=!1,Zu=Sm("meta"),dle=0,ME=function(t){ule(t,Zu,{value:{objectID:"O"+dle++,weakData:{}}})},fle=RB.exports={enable:function(){fle.enable=function(){},OB=!0;var t=NB.f,n=ole([].splice),o={};o[Zu]=1,t(o).length&&(NB.f=function(a){for(var u=t(a),d=0,l=u.length;d<l;d++)if(u[d]===Zu){n(u,d,1);break}return u},ile({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:lle.f}))},fastKey:function(t,n){if(!sle(t))return N(t)=="symbol"?t:(typeof t=="string"?"S":"P")+t;if(!OE(t,Zu)){if(!FE(t))return"F";if(!n)return"E";ME(t)}return t[Zu].objectID},getWeakData:function(t,n){if(!OE(t,Zu)){if(!FE(t))return!0;if(!n)return!1;ME(t)}return t[Zu].weakData},onFreeze:function(t){return cle&&OB&&FE(t)&&!OE(t,Zu)&&ME(t),t}};ale[Zu]=!0;var FB=RB.exports,hle=jt,ple=mn,mle=FB,gle=Gr,vle=Bl,yle=Ed,_le=jm,Sle=xi,ble=Jn,Tle=zf,Cle=hu,wle=sa.f,Ile=Td.forEach,Ele=qn,xle=ks.set,Ale=ks.getterFor,MB=Gl,Dle=Dm,LB=cj,Ple=Yu,Rle=jm,kle=zf,Nle=Ed,Ole=$w,WB=y_,Fle=nL,ng=qn,jB=FB.fastKey,BB=ks.set,LE=ks.getterFor,Mle={getConstructor:function(t,n,o,a){var u=t(function(g,S){Rle(g,d),BB(g,{type:n,index:MB(null),first:null,last:null,size:0}),ng||(g.size=0),kle(S)||Nle(S,g[a],{that:g,AS_ENTRIES:o})}),d=u.prototype,l=LE(n),c=function(g,S,v){var b,T,D=l(g),M=p(g,S);return M?M.value=v:(D.last=M={index:T=jB(S,!0),key:S,value:v,previous:b=D.last,next:null,removed:!1},D.first||(D.first=M),b&&(b.next=M),ng?D.size++:g.size++,T!=="F"&&(D.index[T]=M)),g},p=function(g,S){var v,b=l(g),T=jB(S);if(T!=="F")return b.index[T];for(v=b.first;v;v=v.next)if(v.key===S)return v};return LB(d,{clear:function(){for(var g=l(this),S=g.first;S;)S.removed=!0,S.previous&&(S.previous=S.previous.next=null),S=S.next;g.first=g.last=null,g.index=MB(null),ng?g.size=0:this.size=0},delete:function(g){var S=this,v=l(S),b=p(S,g);if(b){var T=b.next,D=b.previous;delete v.index[b.index],b.removed=!0,D&&(D.next=T),T&&(T.previous=D),v.first===b&&(v.first=T),v.last===b&&(v.last=D),ng?v.size--:S.size--}return!!b},forEach:function(g){for(var S,v=l(this),b=Ple(g,arguments.length>1?arguments[1]:void 0);S=S?S.next:v.first;)for(b(S.value,S.key,this);S&&S.removed;)S=S.previous},has:function(g){return!!p(this,g)}}),LB(d,o?{get:function(g){var S=p(this,g);return S&&S.value},set:function(g,S){return c(this,g===0?0:g,S)}}:{add:function(g){return c(this,g=g===0?0:g,g)}}),ng&&Dle(d,"size",{configurable:!0,get:function(){return l(this).size}}),u},setStrong:function(t,n,o){var a=n+" Iterator",u=LE(n),d=LE(a);Ole(t,n,function(l,c){BB(this,{type:a,target:l,state:u(l),kind:c,last:null})},function(){for(var l=d(this),c=l.kind,p=l.last;p&&p.removed;)p=p.previous;return l.target&&(l.last=p=p?p.next:l.state.first)?WB(c==="keys"?p.key:c==="values"?p.value:[p.key,p.value],!1):(l.target=null,WB(void 0,!0))},o?"entries":"values",!o,!0),Fle(n)}},Lle=function(t,n,o){var a,u=t.indexOf("Map")!==-1,d=t.indexOf("Weak")!==-1,l=u?"set":"add",c=ple[t],p=c&&c.prototype,g={};if(Ele&&Sle(c)&&(d||p.forEach&&!gle(function(){new c().entries().next()}))){var S=(a=n(function(b,T){xle(_le(b,S),{type:t,collection:new c}),Tle(T)||yle(T,b[l],{that:b,AS_ENTRIES:u})})).prototype,v=Ale(t);Ile(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(b){var T=b==="add"||b==="set";!(b in p)||d&&b==="clear"||vle(S,b,function(D,M){var W=v(this).collection;if(!T&&d&&!ble(D))return b==="get"&&void 0;var Y=W[b](D===0?0:D,M);return T?this:Y})}),d||wle(S,"size",{configurable:!0,get:function(){return v(this).collection.size}})}else a=o.getConstructor(n,t,u,l),mle.enable();return Cle(a,t,!1,!0),g[t]=a,hle({global:!0,forced:!0},g),d||o.setStrong(a,t,u),a};Lle("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},Mle);var Wle=_d,jle=TypeError,kd=function(t){if(N(t)=="object"&&"size"in t&&"has"in t&&"add"in t&&"delete"in t&&"keys"in t)return t;throw new jle(Wle(t)+" is not a set")},WE=function(t,n){return function(o,a){return o[t](a)}},UB=Fi("Set"),Ble=UB.prototype,Ra={Set:UB,add:WE("add"),has:WE("has"),remove:WE("delete"),proto:Ble},Ule=yi,Nd=function(t,n,o){for(var a,u,d=o?t:t.iterator,l=t.next;!(a=Ule(l,d)).done;)if((u=n(a.value))!==void 0)return u},Vle=Nd,ig=function(t,n,o){return o?Vle(t.keys(),n,!0):t.forEach(n)},Gle=ig,Hle=Ra.Set,zle=Ra.add,jE=function(t){var n=new Hle;return Gle(t,function(o){zle(n,o)}),n},og=function(t){return t.size},VB=Aa,GB=Mo,HB=yi,Kle=wm,Qle=function(t){return{iterator:t,next:t.next,done:!1}},zB="Invalid size",Yle=RangeError,qle=TypeError,Jle=Math.max,KB=function(t,n){this.set=t,this.size=Jle(n,0),this.has=VB(t.has),this.keys=VB(t.keys)};KB.prototype={getIterator:function(){return Qle(GB(HB(this.keys,this.set)))},includes:function(t){return HB(this.has,this.set,t)}};var Od=function(t){GB(t);var n=+t.size;if(n!=n)throw new qle(zB);var o=Kle(n);if(o<0)throw new Yle(zB);return new KB(t,o)},Xle=kd,Zle=jE,$le=og,ece=Od,tce=ig,rce=Nd,nce=Ra.has,QB=Ra.remove,Fd=function(){return!1},ice=function(t){var n=Xle(this),o=ece(t),a=Zle(n);return $le(n)<=o.size?tce(n,function(u){o.includes(u)&&QB(a,u)}):rce(o.getIterator(),function(u){nce(a,u)&&QB(a,u)}),a};jt({target:"Set",proto:!0,real:!0,forced:!Fd()},{difference:ice});var oce=kd,ace=og,sce=Od,uce=ig,lce=Nd,cce=Ra.Set,YB=Ra.add,dce=Ra.has,fce=function(t){var n=oce(this),o=sce(t),a=new cce;return ace(n)>o.size?lce(o.getIterator(),function(u){dce(n,u)&&YB(a,u)}):uce(n,function(u){o.includes(u)&&YB(a,u)}),a};jt({target:"Set",proto:!0,real:!0,forced:!Fd()},{intersection:fce});var hce=kd,pce=Ra.has,mce=og,gce=Od,vce=ig,yce=Nd,_ce=f_,Sce=function(t){var n=hce(this),o=gce(t);if(mce(n)<=o.size)return vce(n,function(u){if(o.includes(u))return!1},!0)!==!1;var a=o.getIterator();return yce(a,function(u){if(pce(n,u))return _ce(a,"normal",!1)})!==!1};jt({target:"Set",proto:!0,real:!0,forced:!Fd()},{isDisjointFrom:Sce});var bce=kd,Tce=og,Cce=ig,wce=Od,Ice=function(t){var n=bce(this),o=wce(t);return!(Tce(n)>o.size)&&Cce(n,function(a){if(!o.includes(a))return!1},!0)!==!1};jt({target:"Set",proto:!0,real:!0,forced:!Fd()},{isSubsetOf:Ice});var Ece=kd,xce=Ra.has,Ace=og,Dce=Od,Pce=Nd,Rce=f_,kce=function(t){var n=Ece(this),o=Dce(t);if(Ace(n)<o.size)return!1;var a=o.getIterator();return Pce(a,function(u){if(!xce(n,u))return Rce(a,"normal",!1)})!==!1};jt({target:"Set",proto:!0,real:!0,forced:!Fd()},{isSupersetOf:kce});var Nce=kd,Oce=jE,Fce=Od,Mce=Nd,Lce=Ra.add,Wce=Ra.has,jce=Ra.remove,Bce=function(t){var n=Nce(this),o=Fce(t).getIterator(),a=Oce(n);return Mce(o,function(u){Wce(n,u)?jce(a,u):Lce(a,u)}),a};jt({target:"Set",proto:!0,real:!0,forced:!Fd()},{symmetricDifference:Bce});var Uce=kd,Vce=Ra.add,Gce=jE,Hce=Od,zce=Nd,Kce=function(t){var n=Uce(this),o=Hce(t).getIterator(),a=Gce(n);return zce(o,function(u){Vce(a,u)}),a};jt({target:"Set",proto:!0,real:!0,forced:!Fd()},{union:Kce});var Qce=ce(En.Set),qB=ce(bW);function JB(t,n){var o=k_(t);if(pM){var a=pM(t);n&&(a=SB(a).call(a,function(u){return SM(t,u).enumerable})),o.push.apply(o,a)}return o}function Eh(t){for(var n=1;n<arguments.length;n++){var o,a,u=arguments[n]!=null?arguments[n]:{};n%2?ar(o=JB(Object(u),!0)).call(o,function(d){ht(t,d,u[d])}):TM?E3(t,TM(u)):ar(a=JB(Object(u))).call(a,function(d){qB(t,d,SM(u,d))})}return t}function J_(t){var n=function(){if(typeof Reflect>"u"||!e_||e_.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(e_(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var o,a=fh(t);if(n){var u=fh(this).constructor;o=e_(a,arguments,u)}else o=a.apply(this,arguments);return function(d,l){if(l&&(ph(l)=="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ln(d)}(this,o)}}var $l=function(t){return aj?aj(t):function(n){return Object.prototype.toString.call(n)}(t)==="[object Array]"},lo=function(t){return t===void 0},XB=function(t,n){var o,a;t=(o=t)!==null&&o!==void 0?o:"yyyy-MM-dd hh:mm:ss";var u=lo(n)?new Date:new Date(n),d={"M+":(u.getMonth()+1).toString(),"d+":u.getDate().toString(),"h+":u.getHours().toString(),"m+":u.getMinutes().toString(),"s+":u.getSeconds().toString(),"q+":Math.floor((u.getMonth()+3)/3).toString(),S:u.getMilliseconds().toString()};return/(y+)/.test(t)&&(t=t.replace(RegExp.$1,"".concat(u.getFullYear()).substring(4-RegExp.$1.length))),ar(a=k_(d)).call(a,function(l){new RegExp("(".concat(l,")")).test(t)&&(t=t.replace(RegExp.$1,RegExp.$1.length===1?d[l]:"00".concat(d[l]).substring("".concat(d[l]).length)))}),t},Wn=function(t){return typeof t=="string"},Md=function(t){return typeof t=="number"&&!gh(t)},Ld=function(t){return typeof t=="function"},ZB=0,ec=function(){var t;return ZB+=1,Yl(t="".concat(new Date().getTime().toString(36))).call(t,ZB.toString(36))};(function(t,n){for(var o=k_(t),a=0;a<o.length;a++){var u=o[a];if(n.call(null,t[u],u,t)===!1)break}})({"&amp;":"&","&gt;":">","&lt;":"<","&nbsp;":" ","&quot;":'"',"&#x27;":"'"},function(t,n){}),function(t,n){for(var o=k_(t),a=0;a<o.length;a++){var u=o[a];if(n.call(null,t[u],u,t)===!1)break}}({"&amp;":"&","&gt;":">","&lt;":"<","&nbsp;":" ","&quot;":'"',"&#x27;":"'"},function(t,n){});var X_=function(t){var n=mse||window.webkitURL;/^blob:/.test(t)&&n.revokeObjectURL(t)},$B=function(){function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";_i(this,t),ht(this,"prefix",void 0),ht(this,"postfix",void 0),ht(this,"isDestroyed",!1),ht(this,"uid",ec()),ht(this,"cacheEvents",void 0),ht(this,"events",void 0),ht(this,"isCached",void 0),this.cacheEvents=[],this.events={},this.isCached=!1,this.prefix=n,this.postfix=o}return Si(t,[{key:"save",value:function(){this.isCached=!0}},{key:"restore",value:function(){var n,o=this;this.isCached=!1,ar(n=this.cacheEvents).call(n,function(a){var u,d=a.eventName,l=a.param;o.emit.apply(o,Yl(u=[d]).call(u,li(l)))}),this.cacheEvents.length=0}},{key:"destroy",value:function(){var n=this;if(!this.isDestroyed){for(var o in this.events)if(Object.prototype.hasOwnProperty.call(this.events,o)){var a,u=this.events[o];u&&ar(a=Zl(u).call(u)).call(a,function(d){var l=d.name,c=d.fn,p=d.context,g=d.once;n.off(l,c,p,g)})}this.events={},this.isDestroyed=!0}}},{key:"on",value:function(n,o,a){var u,d=arguments.length>3&&arguments[3]!==void 0&&arguments[3],l=this.events,c={name:n=this.format(n),uid:ec(),context:a,once:d,fn:o};return l[n]||(l[n]=[]),so(u=l[n]).call(u,c)<0&&l[n].push(c),c}},{key:"once",value:function(n,o,a){return this.on(n,o,a,!0)}},{key:"emit",value:function(n){for(var o,a,u=this,d=arguments.length,l=new Array(d>1?d-1:0),c=1;c<d;c++)l[c-1]=arguments[c];if(this.isCached)return this.cacheEvents.push({eventName:n,param:l}),!0;var p=this.events[n=this.format(n)];return!(!p||!p.length||(ar(o=Zl(p).call(p)).call(o,function(g){var S,v=g.fn,b=g.context;v.call.apply(v,Yl(S=[b||null]).call(S,l))}),ar(a=Zl(p).call(p)).call(a,function(g){var S=g.fn,v=g.context,b=g.once;b&&u.off(n,S,v,b)}),0))}},{key:"off",value:function(n,o,a,u){var d=this.events[n=this.format(n)];if(!d)return!1;if(!arguments.length)return d.length=0,!0;for(var l=d.length-1;l>=0;l--){var c=d[l];o&&c.fn!==o||a&&c.context!==a||u&&c.once!==u||uo(d).call(d,l,1)}return!0}},{key:"removeAllEventListeners",value:function(n){if(n){var o,a;n=this.format(n);var u=hB(o=this.cacheEvents).call(o,function(d){return d.eventName===n});u>-1&&uo(a=this.cacheEvents).call(a,u,1),this.events[n]&&delete this.events[n]}else this.cacheEvents=[],this.events={}}},{key:"getAllEvents",value:function(){return this.events}},{key:"format",value:function(n){var o,a;return Yl(o=Yl(a="".concat(this.prefix||"")).call(a,n)).call(o,this.postfix||"")}}],[{key:"create",value:function(n,o){return new t(n,o)}}]),t}(),BE="default",Wr=function(){function t(){_i(this,t),ht(this,"emitter",new $B)}return Si(t,[{key:"on",value:function(n){this.emitter.on(BE,n)}},{key:"emit",value:function(){for(var n,o,a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];(n=this.emitter).emit.apply(n,Yl(o=[BE]).call(o,u))}},{key:"off",value:function(n){this.emitter.off(BE,n)}}],[{key:"create",value:function(){return new t}}]),t}(),ag=function(){function t(n){_i(this,t),ht(this,"uid",void 0),ht(this,"children",void 0),this.uid=n.uid,this.children=n.children||[]}return Si(t,[{key:"append",value:function(n){var o=this.children;return so(o).call(o,n)<0&&(o.push(n),!0)}},{key:"insert",value:function(n,o){var a=this.children;return!(o<0||(o>a.length&&(o=a.length),uo(a).call(a,o,0,n),0))}},{key:"remove",value:function(n){var o=this.children,a=so(o).call(o,n);return!(a<0||(uo(o).call(o,a,1),0))}},{key:"clear",value:function(){return this.children=[],!0}},{key:"move",value:function(n,o){if(n===o)return!0;var a=this.children,u=mh(uo(a).call(a,n,1),1)[0];return uo(a).call(a,o,0,u),!0}},{key:"switch",value:function(n,o){if(n===o)return!0;var a=this.children,u=a[n];return a[n]=a[o],a[o]=u,!0}},{key:"reorder",value:function(n){var o=this.children,a=n.length,u=[],d=0;if(o.length!==a||a===0)return!1;for(var l=0;l<a;l++)n[l]===l&&(d+=1);if(d===a)return!0;for(var c=0;c<a;c++)u[c]=o[n[c]];for(var p=0;p<a;p++)o[p]=u[p];return!0}}]),t}(),eU=function(){function t(n,o){_i(this,t),ht(this,"isDestroyed",!1),ht(this,"data",void 0),ht(this,"table",["database","table","item"]),ht(this,"dbName",void 0),ht(this,"tableName",void 0),this.data={},this.dbName=n,this.tableName=o,this.createDatabase(n,o)}return Si(t,[{key:"destroy",value:function(){if(!this.isDestroyed){for(var n=0,o=Q_(this.data);n<o.length;n++){var a=mh(o[n],2),u=a[0];a[1],this.data[u]=null}this.data=null,this.isDestroyed=!0}}},{key:"createDatabase",value:function(n,o){this.data[n]={},this.data[n][o]={}}},{key:"set",value:function(n,o){var a=this,u=this.dbName,d=this.tableName;return new Y_(function(l,c){a.checkId(n)?c(new Error("The ".concat(n," already exists."))):(a.data[u][d][n]=o,l("Save ".concat(n," to database successful.")))})}},{key:"get",value:function(n){var o=this,a=this.dbName,u=this.tableName;return new Y_(function(d,l){o.checkId(n)?d(o.data[a][u][n]):l(o.erMsg(2,n))})}},{key:"remove",value:function(n){var o=this,a=this.dbName,u=this.tableName;return new Y_(function(d,l){delete o.data[a][u][n],d("Remove ".concat(n," successful."))})}},{key:"update",value:function(n,o){var a=this,u=this.dbName,d=this.tableName;return new Y_(function(l,c){a.checkId(n)?(a.data[u][d][n]=o,l("Update ".concat(n," successful."))):c(a.erMsg(2,n))})}},{key:"checkId",value:function(n){var o=this.dbName,a=this.tableName;return this.data[o][a][n]!==void 0}},{key:"erMsg",value:function(n,o){var a;return Yl(a="The ".concat(this.table[n]," ")).call(a,o," does not exist.")}}]),t}(),Z_=function(){function t(){_i(this,t),ht(this,"isDestroyed",!1),ht(this,"data",void 0),this.data={}}return Si(t,[{key:"destroy",value:function(){if(!this.isDestroyed){for(var n=0,o=Q_(this.data);n<o.length;n++){var a,u=mh(o[n],2),d=u[0];u[1],(a=this.data[d])!==null&&a!==void 0&&a.destroy(),this.data[d]=null}this.data=null,this.isDestroyed=!0}}},{key:"set",value:function(n,o){return!this.check(n)&&(this.data[n]=o,!0)}},{key:"get",value:function(n){return this.data[n]}},{key:"remove",value:function(n){return!!this.check(n)&&(delete this.data[n],!0)}},{key:"update",value:function(n,o){return!!this.check(n)&&(this.data[n]=o,!0)}},{key:"check",value:function(n){return this.data[n]!==void 0}}]),t}(),tU=function(t){A_(o,t);var n=J_(o);function o(a){var u;return _i(this,o),ht(Ln(u=n.call(this,a)),"name",void 0),ht(Ln(u),"type",void 0),ht(Ln(u),"fileType",void 0),ht(Ln(u),"createdDate",void 0),ht(Ln(u),"modifiedDate",void 0),ht(Ln(u),"parent",void 0),ht(Ln(u),"isRoot",!1),u.name=a.name,u.type=a.type,u.fileType=a.fileType,u.parent=a.parent||null,u.isRoot=a.isRoot||!1,u.createdDate=XB(),u.modifiedDate=u.createdDate,u}return Si(o,[{key:"updateDate",value:function(){this.modifiedDate=XB()}},{key:"setName",value:function(a){this.name=a}},{key:"reorder",value:function(a){var u=this.type;return(u==="file"||u==="default")&&kI(fh(o.prototype),"reorder",this).call(this,a)}}]),o}(ag),Yce=function(){function t(){_i(this,t),ht(this,"root",void 0),ht(this,"currentNode",void 0),ht(this,"selectedUid",void 0),ht(this,"defaultNode",void 0),ht(this,"hooks",{fileChanged:Wr.create(),beforeRemoveFile:Wr.create(),removeFile:Wr.create(),afterRemoveFile:Wr.create(),afterRenameFile:Wr.create(),destroy:Wr.create()}),this.root=new tU({uid:ec(),children:[],name:"root",type:"file",fileType:"folder",parent:void 0,isRoot:!0}),this.defaultNode=this.root,this.currentNode=this.root}return Si(t,[{key:"appendChildrenToFile",value:function(n,o,a){var u=a,d=rU(this.defaultNode,n);return d||(d=this.createFile(n),this.hooks.fileChanged.emit(this.defaultNode)),ar(o).call(o,function(l){lo(u)?d.append(l):(d.insert(l,u),u+=1)}),d}},{key:"removeChildFromFile",value:function(n,o){Wn(o)&&(o=[o]);var a=this.getFileByUid(n);a&&ar(o).call(o,function(u){a.remove(u)})}},{key:"findChild",value:function(n,o){var a;return $m(a=n.children).call(a,function(u){return u.name===o})}},{key:"createFile",value:function(n){var o=this.defaultNode;o||(o=this.root);var a=rU(o,n);return a&&a.type==="file"||(a=new tU({uid:ec(),children:[],name:n,type:"file",fileType:"file",parent:o,isRoot:!1}),this.currentNode.append(a),this.hooks.fileChanged.emit(this.currentNode.children)),a}},{key:"removeFile",value:function(n){for(var o=this.defaultNode.children,a=0;a<o.length;a++){var u=o[a];if(u.name===n)return this.hooks.beforeRemoveFile.emit(u),uo(o).call(o,a,1),this.hooks.afterRemoveFile.emit(u),this.hooks.fileChanged.emit(u),!0}return!1}},{key:"renameFile",value:function(n,o){var a=this.findChild(this.defaultNode,n),u=this.findChild(this.defaultNode,o);return!!a&&!u&&(a.name=o,this.hooks.afterRenameFile.emit(a),this.hooks.fileChanged.emit(this.currentNode.children),!0)}},{key:"getFile",value:function(n){return this.findChild(this.defaultNode,n)}},{key:"getFileByUid",value:function(n){return $m(this).call(this,n,this.root)}},{key:"getCurrentFileList",value:function(){return this.currentNode.children}},{key:"isFileExist",value:function(n){return!!this.findChild(this.defaultNode,n)}},{key:"createFolder",value:function(){}},{key:"find",value:function(n,o){for(var a=o.children,u=a.length,d=0;d<u;d++){if(a[d].uid===n)return a[d];if(a[d].children){var l=$m(this).call(this,n,a[d]);if(l)return l}}return null}}]),t}();function rU(t,n){var o,a=SB(o=t.children).call(o,function(u){return u.name===n});return a.length===0?null:a[0]}var nU,$_,iU=function(t){A_(o,t);var n=J_(o);function o(a){var u;return _i(this,o),ht(Ln(u=n.call(this,a)),"name",void 0),ht(Ln(u),"type","tag"),u.name=a.name,u.uid=a.uid||ec(),u.type="tag",u}return Si(o)}(ag),qce=function(){function t(){_i(this,t),ht(this,"tags",void 0),ht(this,"defaultName",void 0),ht(this,"defaultUid",void 0),ht(this,"selectedUid",void 0),ht(this,"emptyItem",void 0),ht(this,"hooks",{beforeRemoveTag:Wr.create(),afterRenameTag:Wr.create(),destroy:Wr.create(),load:Wr.create()}),this.tags=[],this.defaultName=null,this.defaultUid=null,this.selectedUid=null,this.emptyItem=new iU({name:"defaultTag",children:[]})}return Si(t,[{key:"appendChildToTag",value:function(n,o){var a=this.createTag(n);Wn(o)&&(o=[o]);var u=!1;return ar(o).call(o,function(d){a.append(d)&&(u=!0)}),u}},{key:"removeChildFromTag",value:function(n,o){var a=this.getTag(n);return!!a&&(Wn(o)&&(o=[o]),ar(o).call(o,function(u){a.remove(u)}),!0)}},{key:"createTag",value:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=this.getTag(n);return a||(a=new iU({name:n,children:o}),this.tags.push(a)),a}},{key:"removeTag",value:function(n){var o,a,u=this.getTag(n);if(!u)return!1;this.hooks.beforeRemoveTag.emit(u);var d=hB(o=this.tags).call(o,function(l){return l.name===n});return n===this.defaultName&&(this.defaultName=null,this.selectedUid=null),uo(a=this.tags).call(a,d,1),!0}},{key:"renameTag",value:function(n,o){if(!Wn(n)||!Wn(o))return!1;var a=this.isTagExisted(o),u=this.getTag(n);return!(!u||a||(u.name=o,this.hooks.afterRenameTag.emit(u),0))}},{key:"getTag",value:function(n){var o;return $m(o=this.tags).call(o,function(a){return a.name===n})}},{key:"getTagByUid",value:function(n){var o;return $m(o=this.tags).call(o,function(a){return a.uid===n})}},{key:"getTagList",value:function(){var n;return Zl(n=this.tags).call(n)}},{key:"setDefaultTag",value:function(n){if(!n)return this.defaultName=null,this.defaultUid=null,!0;var o=this.getTag(n);return!!o&&(this.defaultName=n,this.defaultUid=o.uid,!0)}},{key:"getDefaultTag",value:function(){return this.defaultName}},{key:"isTagExisted",value:function(n){return!!this.getTag(n)}}]),t}(),Jce=function(){function t(){_i(this,t)}return Si(t,[{key:"apply",value:function(n){var o=n.hooks,a={beforeStatus:null,afterStatus:null,operation:null,docUid:null},u=function(l){a.beforeStatus={uids:l.uids,selectedUids:[],currentUid:"",modifiedUid:l.modifiedUid,removedUids:l.removedUids}},d=function(l){a.afterStatus={uids:l.uids,selectedUids:[],currentUid:"",modifiedUid:l.modifiedUid,removedUids:l.removedUids},a.docUid=l.docUid,a.operation=l.operation,a.docType=l.docType,a.docName=l.docName,n.emit("bufferChanged",Eh({},a)),a={beforeStatus:null,afterStatus:null,operation:null,docUid:null}};o.beforeBufferChanged.on(u),o.afterBufferChanged.on(d),o.destroy.on(function(){o.beforeBufferChanged.off(u),o.afterBufferChanged.off(d)})}}]),t}(),Xce=function(){function t(){_i(this,t)}return Si(t,[{key:"apply",value:function(n){var o=n.hooks;n.customStore=new Z_;var a=function(l){var c=l.data;ar(c).call(c,function(p){var g=p.customData;g||(g={}),n.customStore.set(p.uid,g)})},u=function(l){var c=l.removedUids;ar(c).call(c,function(p){n.customStore.remove(p)})},d=function(l){var c=l.data.customData;c&&n.customStore.update(l.modifiedUid,c)};o.loadSource.on(a),o.removeSource.on(u),o.updateSource.on(d),o.destroy.on(function(){o.loadSource.off(a),o.removeSource.off(u),o.updateSource.off(d)})}}]),t}(),Zce=function(t){A_(o,t);var n=J_(o);function o(){var a;return _i(this,o),ht(Ln(a=n.call(this,{uid:ec(),children:[]})),"name","dvs-default"),ht(Ln(a),"isDestroyed",!1),ht(Ln(a),"type",void 0),a}return Si(o,[{key:"destroy",value:function(){this.isDestroyed||(this.isDestroyed=!0)}}]),o}(ag),$ce=function(){function t(){_i(this,t)}return Si(t,[{key:"apply",value:function(n){n.defaultFile=new Zce;var o=n.hooks,a=function(d){var l,c,p,g=d.filename,S=d.index,v=d.data;if(lo(g)){var b=eg(v).call(v,function(D){return D.uid});S===void 0?(l=n.defaultFile.children).push.apply(l,li(b)):uo(c=n.defaultFile.children).apply(c,Yl(p=[S,0]).call(p,li(b)));var T={docUid:n.defaultFile.uid,sourceUids:b,type:"default",index:S};n.hooks.loadToDoc.emit(T)}},u=function(d){var l=d.removedUids,c=[];ar(l).call(l,function(p){var g=n.statusStore.get(p);g&&g.ownerDefaultFile&&(n.defaultFile.remove(p),c.push(p))}),c.length&&n.hooks.removeFromDoc.emit({docUid:n.defaultFile.uid,sourceUids:l,type:"default"})};o.loadSource.on(a),o.removeSource.on(u),o.destroy.on(function(){o.loadSource.off(a),o.removeSource.off(u)})}}]),t}(),ede=function(){function t(){_i(this,t)}return Si(t,[{key:"apply",value:function(n){n.dir=new Yce,this.listenDirectoryHooks(n),this.listenSpaceHooks(n)}},{key:"listenDirectoryHooks",value:function(n){var o=n.dir.hooks,a=function(d){var l;ar(l=d.children).call(l,function(c){var p=n.statusStore.get(c);p&&p.ownerFiles.remove(d.uid)}),n.hooks.removeDoc.emit(d)},u=function(d){n.hooks.renameDoc.emit(d)};o.beforeRemoveFile.on(a),o.afterRenameFile.on(u),o.destroy.on(function(){o.beforeRemoveFile.off(a),o.afterRenameFile.off(u)})}},{key:"listenSpaceHooks",value:function(n){var o=n.hooks,a=function(l){var c=l.data,p=l.filename,g=l.index;if(!lo(p)){var S=n.dir.getFile(p);n.hooks.beforeBufferChanged.emit({docType:"file",docUid:S==null?void 0:S.uid,uids:li((S==null?void 0:S.children)||[]),operation:"add"});var v=eg(c).call(c,function(D){return D.uid}),b=n.dir.appendChildrenToFile(p,v,g),T={docUid:b.uid,sourceUids:v,type:"file",index:g};n.hooks.loadToDoc.emit(T),n.hooks.afterBufferChanged.emit({docType:"file",docName:p,docUid:b==null?void 0:b.uid,uids:li((b==null?void 0:b.children)||[]),operation:"add"})}},u=function(l){var c=l.removedUids,p={};ar(c).call(c,function(M){var W,Y,ee=n.statusStore.get(M);ee&&ar(W=Zl(Y=ee.ownerFiles.children).call(Y)).call(W,function(te){p[te]||(p[te]=[]),p[te].push(M)})});for(var g=0,S=Q_(p);g<S.length;g++){var v=mh(S[g],2),b=v[0],T=v[1],D=n.dir.getFileByUid(b);D&&(n.hooks.beforeBufferChanged.emit({docUid:b,uids:li(D.children),removedUids:li(T),operation:"remove"}),n.dir.removeChildFromFile(b,T),n.hooks.afterBufferChanged.emit({docType:"file",docName:D.name,docUid:b,uids:li(D.children),removedUids:li(T),operation:"remove"})),n.hooks.removeFromDoc.emit({docUid:b,sourceUids:T})}},d=function(l){var c,p,g=n.statusStore.get(l.modifiedUid);g&&ar(c=Zl(p=g.ownerFiles.children).call(p)).call(c,function(S){var v=n.dir.getFileByUid(S);v&&(n.hooks.beforeBufferChanged.emit({uids:li(v.children),modifiedUid:l.modifiedUid,operation:"modify"}),n.hooks.afterBufferChanged.emit({docType:"file",docName:v.name,docUid:S,uids:li(v.children),modifiedUid:l.modifiedUid,operation:"modify"}))})};o.loadSource.on(a),o.removeSource.on(u),o.updateSource.on(d),o.destroy.on(function(){o.loadSource.off(a),o.removeSource.off(u),o.updateSource.off(d)})}}]),t}(),tde=function(){function t(){_i(this,t)}return Si(t,[{key:"apply",value:function(n){var o=n.hooks;n.metadataStore=new Z_;var a=function(l){var c=l.data;ar(c).call(c,function(p){var g=p.metadata;g||(g={width:void 0,height:void 0}),n.metadataStore.set(p.uid,g)})},u=function(l){var c=l.removedUids;ar(c).call(c,function(p){n.metadataStore.remove(p)})},d=function(l){var c=l.data.metadata;c&&n.metadataStore.update(l.modifiedUid,c)};o.loadSource.on(a),o.removeSource.on(u),o.updateSource.on(d),o.destroy.on(function(){o.loadSource.off(a),o.removeSource.off(u),o.updateSource.off(d)})}}]),t}(),rde=function(){function t(n){_i(this,t),ht(this,"uid",null),ht(this,"minData",null),ht(this,"oriData",null),ht(this,"customData",{}),ht(this,"activeOri",!1),ht(this,"activeMin",!1),ht(this,"minTask",null),ht(this,"oriTask",null),ht(this,"load",!1),ht(this,"preload",[]),ht(this,"visible",[]),ht(this,"overlays",[]),ht(this,"img",null),ht(this,"minImg",null),ht(this,"imageScale",1),ht(this,"owners",[]),ht(this,"oriType",null),ht(this,"minType",null),ht(this,"metadata",null),ht(this,"realTimeWidth",0),ht(this,"realTimeHeight",0),ht(this,"isFromFile",!1),ht(this,"isCached",!1),ht(this,"isDestroyed",!1),ht(this,"isLoading",!1),ht(this,"isMinLoading",!1),ht(this,"isSaving",!1),ht(this,"annotations",void 0),ht(this,"ownerFiles",new ag({children:[]})),ht(this,"ownerTags",new ag({children:[]})),ht(this,"ownerDefaultFile",void 0),ht(this,"operations",[]),ht(this,"useFillColor",!1),this.uid=n.uid,this.metadata=Eh({},n.metadata),this.setRealTimeSize(this.metadata.width,this.metadata.height)}return Si(t,[{key:"setRealTimeSize",value:function(n,o){this.realTimeWidth=n,this.realTimeHeight=o}},{key:"destroy",value:function(){this.isDestroyed||(this.customData=null,this.img=null,this.owners=null,this.metadata=null,this.isDestroyed=!0)}},{key:"addOwner",value:function(n){var o=this.owners;so(o).call(o,n)<0&&o.push(n)}},{key:"removeOwner",value:function(n){var o=this.owners,a=so(o).call(o,n);a>-1&&uo(o).call(o,a,1)}},{key:"removeViewer",value:function(n){var o=this.owners,a=so(o).call(o,n);a>-1&&uo(o).call(o,a,1)}},{key:"setVisible",value:function(n){var o;so(o=this.visible).call(o,n)<0&&this.visible.push(n)}},{key:"cancelVisible",value:function(n){var o,a,u=so(o=this.visible).call(o,n);u>-1&&uo(a=this.visible).call(a,u,1)}},{key:"setPreload",value:function(n){var o;so(o=this.preload).call(o,n)<0&&this.preload.push(n)}},{key:"cancelPreload",value:function(n){var o,a,u=so(o=this.preload).call(o,n);u>-1&&uo(a=this.preload).call(a,u,1)}},{key:"reset",value:function(){this.minData=null,this.oriData=null,this.img=null,this.activeOri=!1,this.activeMin=!1,this.minTask=null,this.oriTask=null,this.operations=[]}}]),t}(),nde=function(){function t(){_i(this,t)}return Si(t,[{key:"apply",value:function(n){var o=n.hooks;n.statusStore=new Z_;var a=function(g){var S=g.data;g.filename,g.index,ar(S).call(S,function(v){var b=new rde(v);n.statusStore.set(v.uid,b)})},u=function(g){var S=g.removedUids;ar(S).call(S,function(v){var b,T,D=n.statusStore.get(v);D&&(X_(D.minData),X_(D.oriData),D.ownerFiles.clear(),D.ownerTags.clear(),D.ownerDefaultFile=!1,(b=D.img)!==null&&b!==void 0&&b.src&&(D.img.src=""),(T=D.minImg)!==null&&T!==void 0&&T.src&&(D.minImg.src=""),D.img=null,D.minImg=null),n.statusStore.remove(v)})},d=function(g){var S=g.modifiedUid,v=g.data,b=g.revoke,T=n.statusStore.get(S);if(T){T.img=null,T.minImg=null;var D=v.metadata;D&&(T.metadata=Eh({},D),T.setRealTimeSize(D.width,D.height)),b&&(X_(T.oriData),X_(T.minData)),T.reset(),n.statusStore.update(S,T)}},l=function(g){var S;ar(S=g.children).call(S,function(v){var b=n.statusStore.get(v);b&&(g.type==="file"?b.ownerFiles.remove(g.uid):g.type==="tag"&&b.ownerTags.remove(g.uid))})},c=function(g){var S=g.docUid,v=g.sourceUids,b=g.type;ar(v).call(v,function(T){var D=n.statusStore.get(T);D&&(b==="file"?D.ownerFiles.append(S):b==="tag"?D.ownerTags.append(S):b==="default"&&(D.ownerDefaultFile=!0))})},p=function(g){var S=g.docUid,v=g.sourceUids,b=g.type;ar(v).call(v,function(T){var D=n.statusStore.get(T);D&&(b==="file"?D.ownerFiles.remove(S):b==="tag"?D.ownerTags.remove(S):b==="default"&&(D.ownerDefaultFile=!0))})};o.loadSource.on(a),o.afterRemoveSource.on(u),o.updateSource.on(d),o.removeDoc.on(l),o.loadToDoc.on(c),o.removeFromDoc.on(p),o.destroy.on(function(){o.loadSource.off(a),o.afterRemoveSource.off(u),o.updateSource.off(d),o.removeDoc.off(l),o.loadToDoc.off(c),o.removeFromDoc.off(p)})}}]),t}(),ide=function(){function t(){_i(this,t)}return Si(t,[{key:"apply",value:function(n){var o=n.hooks;n.store=new eU("space_db","space_doc");var a=function(l){var c=l.data;c&&ar(c).call(c,function(p){n.store.set(p.uid,p)})},u=function(l){var c;ar(c=l.removedUids).call(c,function(p){n.store.remove(p)})},d=function(l){n.store.update(l.modifiedUid,l.data)};o.loadSource.on(a),o.removeSource.on(u),o.updateSource.on(d),o.destroy.on(function(){o.loadSource.off(a),o.removeSource.off(u),o.updateSource.off(d)})}}]),t}(),ode=function(){function t(){_i(this,t)}return Si(t,[{key:"apply",value:function(n){n.tag=new qce,this.listenSpaceHooks(n),this.listenTagHooks(n)}},{key:"listenTagHooks",value:function(n){var o=n.tag.hooks,a=function(d){var l;ar(l=d.children).call(l,function(c){var p=n.statusStore.get(c);p&&p.ownerFiles.remove(d.uid)}),n.hooks.removeDoc.emit(d)},u=function(d){n.hooks.renameDoc.emit(d)};o.beforeRemoveTag.on(a),o.afterRenameTag.on(u),o.destroy.on(function(){o.beforeRemoveTag.off(a),o.afterRenameTag.off(u)})}},{key:"listenSpaceHooks",value:function(n){var o=n.hooks,a=function(S){var v=S.data,b=n.tag.defaultName;ar(v).call(v,function(T){var D;T.tags||(T.tags=[]),b&&so(D=T.tags).call(D,b)<0&&T.tags.push(b)})},u=function(S){var v=S.data;ar(v).call(v,function(b){var T;(T=b.tags)===null||T===void 0||ar(T).call(T,function(D){var M=n.tag.getTag(D);n.hooks.beforeBufferChanged.emit({uids:li((M==null?void 0:M.children)||[]),operation:"add"}),n.tag.appendChildToTag(D,b.uid);var W=n.tag.getTag(D),Y={docUid:W.uid,sourceUids:[b.uid],type:"tag"};n.hooks.loadToDoc.emit(Y),n.hooks.afterBufferChanged.emit({docType:"tag",docName:D,docUid:W==null?void 0:W.uid,uids:li((W==null?void 0:W.children)||[]),operation:"add"})})})},d=function(S){var v=S.removedUids,b={};ar(v).call(v,function(te){var de,Z,ne=n.statusStore.get(te);ne&&ar(de=Zl(Z=ne.ownerTags.children).call(Z)).call(de,function(X){b[X]||(b[X]=[]),b[X].push(te)})});for(var T=0,D=Q_(b);T<D.length;T++){var M=mh(D[T],2),W=M[0],Y=M[1],ee=n.tag.getTagByUid(W);ee&&(n.hooks.beforeBufferChanged.emit({uids:li(ee.children),removedUids:li(Y),operation:"remove"}),n.tag.removeChildFromTag(ee.name,Y),n.hooks.afterBufferChanged.emit({docType:"tag",docName:ee.name,docUid:W,uids:li(ee.children),removedUids:li(Y),operation:"remove"})),n.hooks.removeFromDoc.emit({docUid:W,sourceUids:Y,type:"tag"})}},l=function(S){S.type!=="tag"&&d({removedUids:S.children})},c=function(S){var v=S.docUid,b=S.sourceUids;if(S.type==="tag"){var T=n.tag.getTagByUid(v);T&&ar(b).call(b,function(){var D=lW(R_.mark(function M(W){var Y,ee;return R_.wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return te.prev=0,te.next=3,n.store.get(W);case 3:if(ee=te.sent,te.t0=ee&&so(Y=ee.tags).call(Y,T.name)<0,!te.t0){te.next=9;break}return ee.tags.push(T.name),te.next=9,n.store.update(W,ee);case 9:te.next=14;break;case 11:te.prev=11,te.t1=te.catch(0);case 14:case"end":return te.stop()}},M,null,[[0,11]])}));return function(M){return D.apply(this,arguments)}}())}},p=function(S){var v=S.docUid,b=S.sourceUids;if(S.type==="tag"){var T=n.tag.getTagByUid(v);T&&ar(b).call(b,function(){var D=lW(R_.mark(function M(W){var Y,ee,te,de;return R_.wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.prev=0,Z.next=3,n.store.get(W);case 3:if(!(Y=Z.sent)){Z.next=9;break}return(de=so(ee=Y.tags).call(ee,T.name))>-1&&uo(te=Y.tags).call(te,de,1),Z.next=9,n.store.update(W,Y);case 9:Z.next=14;break;case 11:Z.prev=11,Z.t0=Z.catch(0);case 14:case"end":return Z.stop()}},M,null,[[0,11]])}));return function(M){return D.apply(this,arguments)}}())}},g=function(S){var v,b,T=n.statusStore.get(S.modifiedUid);T&&ar(v=Zl(b=T.ownerTags.children).call(b)).call(v,function(D){var M=n.tag.getTagByUid(D);M&&(n.hooks.beforeBufferChanged.emit({uids:li(M.children),modifiedUid:S.modifiedUid,operation:"modify"}),n.hooks.afterBufferChanged.emit({docType:"tag",docName:M.name,docUid:D,uids:li(M.children),modifiedUid:S.modifiedUid,operation:"modify"}))})};o.beforeLoadSource.on(a),o.loadSource.on(u),o.removeSource.on(d),o.removeDoc.on(l),o.loadToDoc.on(c),o.removeFromDoc.on(p),o.updateSource.on(g),o.destroy.on(function(){o.beforeLoadSource.off(a),o.loadSource.off(u),o.removeSource.off(d),o.removeDoc.off(l),o.loadToDoc.off(c),o.removeFromDoc.off(p),o.updateSource.off(g)})}}]),t}(),ade=function(t){A_(o,t);var n=J_(o);function o(){var a;return _i(this,o),ht(Ln(a=n.call(this)),"uid",ec()),ht(Ln(a),"hooks",{init:Wr.create(),destroy:Wr.create(),beforeLoadSource:Wr.create(),loadSource:Wr.create(),afterLoadSource:Wr.create(),beforeRemoveSource:Wr.create(),removeSource:Wr.create(),afterRemoveSource:Wr.create(),beforeUpdateSource:Wr.create(),updateSource:Wr.create(),afterUpdateSource:Wr.create(),beforeBufferChanged:Wr.create(),afterBufferChanged:Wr.create(),directoryChanged:Wr.create(),tagChanged:Wr.create(),openDoc:Wr.create(),loadToDoc:Wr.create(),removeFromDoc:Wr.create(),removeDoc:Wr.create(),renameDoc:Wr.create(),move:Wr.create(),afterMove:Wr.create(),switch:Wr.create(),afterSwitch:Wr.create(),reorder:Wr.create(),afterReorder:Wr.create()}),ht(Ln(a),"dir",void 0),ht(Ln(a),"tag",void 0),ht(Ln(a),"store",void 0),ht(Ln(a),"customStore",void 0),ht(Ln(a),"metadataStore",void 0),ht(Ln(a),"statusStore",void 0),ht(Ln(a),"defaultFile",void 0),ht(Ln(a),"plugins",[]),ht(Ln(a),"imageLoader",void 0),a.initPlugins(),a.hooks.init.emit(),a}return Si(o,[{key:"destroy",value:function(){this.hooks.destroy.emit()}},{key:"initPlugins",value:function(){new ide().apply(this),new nde().apply(this),new Xce().apply(this),new tde().apply(this),new Jce().apply(this),new $ce().apply(this),new ede().apply(this),new ode().apply(this)}},{key:"setImageLoader",value:function(a){this.imageLoader=a}},{key:"getCustomData",value:function(a){return this.customStore.get(a)}},{key:"setCustomData",value:function(a,u){return this.customStore.set(a,u)}},{key:"getMetadata",value:function(a){return this.metadataStore.get(a)}},{key:"setMetadata",value:function(a,u){return this.metadataStore.set(a,u)}},{key:"createStore",value:function(a){var u=a.type,d=u===void 0?"sync":u,l=a.tableName,c=a.dbName;return d==="sync"?new Z_:c&&l?new eU(c,l):null}},{key:"loadSource",value:function(a,u){if(lo(a))return[];var d=a.data;if(!$l(d))return[];var l=[];return ar(d).call(d,function(c){c.uid=ec(),l.push(c.uid)}),Ld(u)&&u(l),this.hooks.beforeLoadSource.emit(a),this.hooks.loadSource.emit(a),this.hooks.afterLoadSource.emit(a),l}},{key:"removeSource",value:function(a){var u=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];Wn(a)&&(a=[a]);var d={removedUids:a,docUid:"",trigger:this.uid,operation:"remove"};return this.hooks.beforeRemoveSource.emit(d),this.hooks.removeSource.emit(d),u&&this.hooks.afterRemoveSource.emit(d),!0}},{key:"updateSource",value:function(a,u){var d={modifiedUid:a,data:u,revoke:!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],operation:"modify"};return this.hooks.beforeUpdateSource.emit(d),this.hooks.updateSource.emit(d),this.hooks.afterUpdateSource.emit(d),!0}},{key:"getSource",value:function(a){return this.store.get(a)}},{key:"openDefault",value:function(a){var u={node:this.defaultFile,type:"default",config:a};this.hooks.openDoc.emit(u)}},{key:"createFile",value:function(a){return this.dir.createFile(a)}},{key:"removeFile",value:function(a){return this.dir.removeFile(a)}},{key:"renameFile",value:function(a,u){return this.dir.renameFile(a,u)}},{key:"openFile",value:function(a,u){var d=this.getFile(a);if(!d)return!1;var l={node:d,type:"file",config:u};return this.hooks.openDoc.emit(l),!0}},{key:"movePagesToFile",value:function(a,u,d,l){var c=this,p=this.getFile(a),g=this.getFile(d);if(!p||!g)return!1;for(var S=0;S<u.length;S++)if(u[S]<0||u[S]>=p.children.length)return!1;if(l<0)return!1;var v=eg(u).call(u,function(D){return p.children[D]});ar(v).call(v,function(D){var M=c.statusStore.get(D);M&&M.ownerFiles.remove(p.uid)}),this.dir.removeChildFromFile(p.uid,v),this.hooks.removeFromDoc.emit({docUid:p.uid,sourceUids:v}),l>g.children.length&&(l=g.children.length);var b=this.dir.appendChildrenToFile(d,v,l),T={docUid:b.uid,sourceUids:v,type:"file",index:l,isSameDoc:a===d};return ar(v).call(v,function(D){var M=c.statusStore.get(D);M&&M.ownerFiles.append(b.uid)}),this.hooks.loadToDoc.emit(T),!0}},{key:"getFile",value:function(a){return this.dir.getFile(a)}},{key:"getFileList",value:function(){return this.dir.getCurrentFileList()}},{key:"isFileExisted",value:function(a){return this.dir.isFileExist(a)}},{key:"createTag",value:function(a){return this.tag.createTag(a)}},{key:"removeTag",value:function(a){for(var u=this.getTag(a).children||[],d=0;d<u.length;d++)this.store.get(u[d]).then(function(l){var c,p,g=so(c=(l==null?void 0:l.tags)||[]).call(c,a);g!==-1&&uo(p=l.tags).call(p,g,1)});return this.tag.removeTag(a)}},{key:"renameTag",value:function(a,u){var d=this.getTag(a).children||[],l=this.tag.renameTag(a,u);if(l)for(var c=0;c<d.length;c++)this.store.get(d[c]).then(function(p){var g,S,v=so(g=(p==null?void 0:p.tags)||[]).call(g,a);v!==-1&&uo(S=p.tags).call(S,v,1,u)});return l}},{key:"openTag",value:function(a,u){var d=this.getTag(a);if(!d)return!1;var l={node:d,type:"tag",config:u};return this.hooks.openDoc.emit(l),!0}},{key:"getTag",value:function(a){return this.tag.getTag(a)}},{key:"getTagList",value:function(){return this.tag.getTagList()}},{key:"setDefaultTag",value:function(a){return this.tag.setDefaultTag(a)}},{key:"getDefaultTag",value:function(){return this.tag.getDefaultTag()}},{key:"isTagExisted",value:function(a){return this.tag.isTagExisted(a)}},{key:"addTagToSource",value:function(a,u){if(this.statusStore.get(a)){Wn(u)&&(u=[u]);for(var d=0;d<u.length;d++)if(!this.addSourceToTag(u[d],a))return!1;return!0}return!1}},{key:"removeTagFromSource",value:function(a,u){if(this.statusStore.get(a)){var d;lo(u)?u=eg(d=this.tag.tags).call(d,function(c){return c.name}):Wn(u)&&(u=[u]);for(var l=0;l<u.length;l++)if(!this.removeSourceFromTag(u[l],a))return!1;return!0}return!1}},{key:"addSourceToTag",value:function(a,u){var d=this.tag.getTag(a);if(d&&this.tag.appendChildToTag(a,u)){Wn(u)&&(u=[u]);for(var l=0;l<u.length;l++)this.store.get(u[l]).then(function(p){var g;kue(g=p.tags).call(g,a)||p.tags.push(a)});var c={sourceUids:u,docUid:d.uid,type:"tag"};return this.hooks.loadToDoc.emit(c),!0}return!1}},{key:"removeSourceFromTag",value:function(a,u){var d=this.tag.getTag(a);if(d){this.tag.removeChildFromTag(a,u),Wn(u)&&(u=[u]);for(var l=0;l<u.length;l++)this.store.get(u[l]).then(function(p){var g,S,v=so(g=(p==null?void 0:p.tags)||[]).call(g,a);v!==-1&&uo(S=p.tags).call(S,v,1)});var c={docUid:d.uid,sourceUids:u,type:"tag"};return this.hooks.removeFromDoc.emit(c),!0}return!1}},{key:"getSourceTags",value:function(a){var u,d=this,l=this.statusStore.get(a);return l?eg(u=l.ownerTags.children).call(u,function(c){return d.tag.getTagByUid(c).name}):[]}},{key:"switch",value:function(a){var u=a.one,d=a.other,l=a.type,c=a.docUid,p=a.emit,g=this.getDocNode(c,l);if(g){if(g.switch(u,d),p||lo(p)){var S={one:u,other:d,docUid:c,type:g.type,trigger:this.uid,operation:"shift"};this.hooks.switch.emit(S)}return!0}return!1}},{key:"move",value:function(a){var u=a.from,d=a.to,l=a.type,c=a.docUid,p=a.emit,g=this.getDocNode(c,l);if(g){if(g.move(u,d),p||lo(p)){var S={from:u,to:d,docUid:c,type:g.type,trigger:this.uid,operation:"shift"};this.hooks.move.emit(S)}return!0}return!1}},{key:"reorder",value:function(a){var u=a.indexes,d=a.type,l=a.docUid,c=a.emit,p=this.getDocNode(l,d);if(p&&(p.reorder(u),c||lo(c))){var g={indexes:u,docUid:l,type:p.type,trigger:this.uid,operation:"shift"};this.hooks.move.emit(g)}}},{key:"getDocNode",value:function(a,u){switch(u){case"default":return this.defaultFile;case"file":return this.dir.getFileByUid(a);case"tag":return this.tag.getTagByUid(a);default:return a===this.defaultFile.uid?this.defaultFile:this.tag.getTagByUid(a)||this.dir.getFileByUid(a)||null}}}]),o}($B),sde={Successful:{errorCode:0,errorString:"Successful."},InvalidIndex:{errorCode:-1033,errorString:"Invalid index."},InvalidValue:{errorCode:-1034,errorString:"Invalid value."},NoImage:{errorCode:-1035,errorString:"There is no image."},UnBindViewer:{errorCode:-2210,errorString:"You cannot call this method on this WebTwain instance because it does not use the default viewer."},AlReadyBindViewer:{errorCode:-2211,errorString:"The element is already bound to the viewer."},ParameterCannotEmpty:{errorCode:-2314,errorString:"The parameter cannot be empty."},IndicesNotArray:{errorCode:-2358,errorString:"The type of the parameter indices must be an Array."},IndexOutOfRange:{errorCode:-2359,errorString:"The index is out of range."},InvalidTagName:{errorCode:-2394,errorString:"Invalid tag name."},InvalidLeftOrTopOrRightOrBottom:{errorCode:-2417,errorString:"The left or top or right or bottom you entered is invalid."},InvalidWidth:{errorCode:-2418,errorString:"The width you entered is invalid."},InvalidHeight:{errorCode:-2419,errorString:"The height you entered is invalid."},WidthOrHeightOutOfImageSize:{errorCode:-2420,errorString:"The width or height is out of image size."},MobileServer_InvalidIndex:{errorCode:-2423,errorString:"The index is invalid."},ImageEditorExist:{errorCode:-2500,errorString:"An ImageEditor already exists."},ThumbnailViewerExist:{errorCode:-2501,errorString:"A ThumbnailViewer already exists."},CustomElementExist:{errorCode:-2502,errorString:"A CustomElement already exists."},ImageEditorDispose:{errorCode:-2504,errorString:"The ImageEditor object has been disposed."},ThumbnailViewerNotExist:{errorCode:-2505,errorString:"This ThumbnailViewer doesn't exist."},ThumbnailViewerDispose:{errorCode:-2506,errorString:"The ThumbnailViewer object has been disposed."},CallbackNotAFunction:{errorCode:-2510,errorString:"The callback is not a function."},ElementRequired:{errorCode:-2511,errorString:"Parameter 'element' is required."},ElementNotExist:{errorCode:-2512,errorString:"Parameter 'element' doesn't instanceof HTMLDivElement."},InvalidPropertyValue:{errorCode:-2514,errorString:"Invalid property value."},CursorInvalidMode:{errorCode:-2519,errorString:"The current mode does not support setting the cursor to zoom."},OldTagNameRequired:{errorCode:-2517,errorString:"Old tag name is required."},NewTagNameRequired:{errorCode:-2518,errorString:"New tag name is required."},FileNameCannotEmpty:{errorCode:-2530,errorString:"Document name cannot be empty."},FileNameNotString:{errorCode:-2531,errorString:"Document name is not a string."},FileNotExist:{errorCode:-2540,errorString:"The document does not exist."},FileExist:{errorCode:-2541,errorString:"The document already exists."},CustomElementDispose:{errorCode:-2508,errorString:"The CustomElement object has been disposed."},CustomElementNotExist:{errorCode:-2507,errorString:"This CustomElement doesn't exist."},ParameterOutRange:{errorCode:80002,errorString:"The parameter is out of range."},TagNotExist:{errorCode:80009,errorString:"Tag does not exist."},TagExist:{errorCode:80010,errorString:"The tag already exists."},OperationError:{errorCode:80022,errorString:"The operation mode is wrong."}};($_=nU||(nU={}))[$_.Normal=0]="Normal",$_[$_.Balance=1]="Balance";var ude=function(){function t(n){var o=this;_i(this,t),ht(this,"space",void 0),ht(this,"webViewer",void 0),ht(this,"isActiveFile",!1),ht(this,"isActiveTag",!1),ht(this,"currentFileName",""),ht(this,"currentTagName",""),ht(this,"bufferConfig",null),ht(this,"currentSelected",[]),ht(this,"lastCurrentSelected",[]),this.space=new ade,n&&(this.bufferConfig=n),this.space.on("bufferChanged",function(a,u){var d;if(!o.webViewer&&Ld((d=o.bufferConfig)===null||d===void 0?void 0:d.bufferChanged)){var l,c,p,g,S,v,b,T=[],D=[],M=o.getCurrentDataSet().children;ar(l=o.currentSelected).call(l,function(Y){M&&M[Y]&&T.push(M[Y])}),ar(c=o.lastCurrentSelected).call(c,function(Y){M&&M[Y]&&D.push(M[Y])});var W={afterStatus:{uids:a.afterStatus.uids,selectedUids:T,modifiedUid:(a==null||(p=a.afterStatus)===null||p===void 0?void 0:p.modifiedUid)||"",removedUids:(a==null||(g=a.afterStatus)===null||g===void 0?void 0:g.removedUids)||[],currentUid:a.afterStatus.uids[a.afterStatus.uids.length-1]||""},beforeStatus:{uids:a.beforeStatus.uids,selectedUids:D,removedUids:(a==null||(S=a.beforeStatus)===null||S===void 0?void 0:S.removedUids)||[],modifiedUid:(a==null||(v=a.beforeStatus)===null||v===void 0?void 0:v.modifiedUid)||"",currentUid:a.beforeStatus.uids[a.beforeStatus.uids.length-1]||""},operation:a.operation,docUid:a.docUid,docName:((b=o.space.dir.getFileByUid(a.docUid))===null||b===void 0?void 0:b.name)||"",total:a.afterStatus.uids.length,curIndex:a.afterStatus.uids.length-1};o.lastCurrentSelected=li(o.currentSelected),o.bufferConfig.bufferChanged(W,u)}})}return Si(t,[{key:"e",value:function(){this.setError("Successful")}},{key:"IsFileNameExist",value:function(n){var o=this.space.getFileList();if(n==="dynamsoft-default-document")return!0;if(o){for(var a=0;a<o.length;a++)if(o[a].name===n)return!0}return!1}},{key:"getCurrentDataSet",value:function(){if(this.webViewer){var n=this.webViewer.myViewer.getCurrentTab();if(n===void 0)return!1;var o=n.type;this.isActiveFile=o==="file",this.isActiveTag=o==="tag"}if(this.isActiveFile){var a=this.getCurrentFileName(),u=this.space.getFile(a);if(u)return u}if(this.isActiveTag){var d=this.space.getTag(this.currentTagName);if(d)return d}return!1}},{key:"setError",value:function(n){var o;if(n!=="Default"){if(this.webViewer)this.webViewer.setError(n);else if(this.bufferConfig&&this.bufferConfig.viewerError){var a=sde[n],u=a.errorCode,d=a.errorString;this.bufferConfig.viewerError.setError(u,d)}}else this==null||(o=this.webViewer)===null||o===void 0||o.setDefaultError()}},{key:"emitViewerEvent",value:function(){var n,o;this.webViewer&&this.getHowManyImagesInBuffer()===0&&((n=this.webViewer)===null||n===void 0||(o=n.myViewer)===null||o===void 0||o.emit("pageRendered",-1))}},{key:"bindViewer",value:function(n){this.webViewer=n}},{key:"getCurrentTag",value:function(){return this.currentTagName}},{key:"getCurrentDocument",value:function(){return this.currentFileName}},{key:"getCurrentFileName",value:function(){var n=this,o=this.space.getFileList(),a="";return o&&ar(o).call(o,function(u){u.name===n.currentFileName&&(a=n.currentFileName)}),a}},{key:"getCurrentIndex",value:function(){if(this.webViewer)return this.webViewer.getCurrentIndex();var n=this.getSelectedImagesIndices().length;if(n<=0){var o=this.getCurrentDataSet();return!!o&&o.children.length-1}return this.getSelectedImagesIndices()[n-1]}},{key:"getHowManyImagesInBuffer",value:function(){if(this.webViewer)return this.webViewer.getHowManyImagesInBuffer();var n=this.getCurrentDataSet();return n?n.children.length:0}},{key:"getSelectedImagesIndices",value:function(){return this.webViewer?this.webViewer.getSelectedImagesIndices():this.currentSelected}},{key:"getIndexByUid",value:function(n){if(!Wn(n)||!n)return this.setError("InvalidValue"),!1;if(this.webViewer)return this.webViewer.myViewer.getIndexByUid(n);var o=this.getCurrentDataSet(),a=o.children;return!!(o&&a&&$l(a))&&so(a).call(a,n)}},{key:"getUidByIndex",value:function(n){if(n<0||n>=this.getHowManyImagesInBuffer())return this.setError("IndexOutOfRange"),!1;if(this.webViewer)return this.webViewer.myViewer.getUidByIndex(n);var o=this.getCurrentDataSet().children;return!(o&&o.length<n)&&o[n]}},{key:"getDataByUid",value:function(n){return this.space.getSource(n)}},{key:"updateDataByUid",value:function(n,o){return this.space.store.set(n,o)}},{key:"setCustomDataByUid",value:function(n,o){return Wn(n)&&n!==""?this.space.setCustomData(n,o):(this.setError("InvalidValue"),!1)}},{key:"getCustomDataByUid",value:function(n){return this.space.getCustomData(n)}},{key:"setMetadataByUid",value:function(n,o){return Wn(n)&&n!==""?this.space.setMetadata(n,o):(this.setError("InvalidValue"),!1)}},{key:"getMetadataByUid",value:function(n){return this.space.getMetadata(n)}},{key:"addImage",value:function(n,o,a){var u,d,l={},c=this.currentFileName,p="";!lo(a)&&Wn(a)?(this.IsFileNameExist(a)||this.createDocument(a),p=a):lo(c)||c===""?(this.space.isFileExisted("dynamsoft-default-document")||this.createDocument("dynamsoft-default-document"),this.webViewer&&(this.webViewer.bEmitBufferChanged=!1),this.openDocument("dynamsoft-default-document"),this.webViewer&&(this.webViewer.bEmitBufferChanged=!0),p="dynamsoft-default-document"):p=c,o&&(delete(d=Eh({},o)).oriBlobData,o.oriBlobData&&(u=o.oriBlobData));var g=n.imageUrl,S=n.minImageUrl,v=n.imageId,b=n.serverId,T=n.uidFromServer,D=n.index;u&&(l=Eh({},u)),v&&(l.imageId=v),b&&(l.serverId=b),T&&(l.uidFromServer=T);var M=this.getDocumentContents(p).length;!lo(D)&&Md(D)?D>=M&&(D=M):D=M,this.isActiveFile&&(this.currentSelected=[D]);var W=this.space.loadSource({data:[{oriData:g,minData:S,metadata:d,customData:l}],filename:p,index:D},function(ee){var te=mh(ee,1)[0];n.uuid=te}),Y=this.getHowManyImagesInBuffer();return this.isActiveTag&&(this.currentSelected=Y>0?[Y-1]:[]),W}},{key:"insertImage",value:function(n,o,a){var u;if(a&&a>=0)this.currentSelected=[a],u=this.space.loadSource({data:[n],filename:o,index:a});else{u=this.space.loadSource({data:[n],filename:o});var d=this.getHowManyImagesInBuffer();this.currentSelected=d>0?[d-1]:[]}return u[0]}},{key:"updateImage",value:function(n,o){var a=n.imageUrl,u=n.minImageUrl,d=n.imageId,l=n.serverId,c=n.uidFromServer,p=n.uuid,g=Eh({},o);return p&&p!==""&&p!==-1?(this.space.updateSource(p,{oriData:a,minData:u,metadata:g,customData:{imageId:d,serverId:l,uidFromServer:c}}),p):(this.setError("IndexOutOfRange"),!1)}},{key:"removeImageByUid",value:function(n){if(this.e(),this.webViewer){var o=this.webViewer.removePageByUid(n);return this.webViewer.resized(),this.emitViewerEvent(),o}return this.space.removeSource(n)}},{key:"removeImageByIndex",value:function(n){if(this.e(),n<0||n>=this.getHowManyImagesInBuffer())return this.setError("IndexOutOfRange"),!1;var o=this.getCurrentIndex(),a=!1;if(this.currentSelected=n===o&&n===0?this.getHowManyImagesInBuffer()>0?[0]:[]:n<=o?[o-1]:[o],this.webViewer)a=this.webViewer.removePageByIndexes(n),this.webViewer.resized(),this.emitViewerEvent();else{var u=this.getCurrentDataSet();if(!u)return!1;a=this.space.removeSource(u.children[n])}return a||this.setError("Default"),a}},{key:"removeSelectedImages",value:function(n){this.e();var o=this.getSelectedImagesIndices();$l(n)&&n.length>0&&(o=n);var a=!1;if(this.webViewer)a=this.webViewer.removePageByIndexes(o),this.webViewer.resized(),this.emitViewerEvent();else{var u=[],d=this.getCurrentDataSet();if(!d)return!1;ar(o).call(o,function(c){d.children[c]&&d.children[c]&&u.push(d.children[c])}),a=this.space.removeSource(u)}a||this.setError("Default");var l=this.getHowManyImagesInBuffer();return this.currentSelected=l>0?[l-1]:[],a}},{key:"removeImageByIndexArr",value:function(n){if(this.e(),!$l(n))return!1;var o=this.getCurrentDataSet();if(!o)return!1;var a,u=[];ar(n).call(n,function(l){var c=o.children[l];c&&u.push(c)}),(a=this.space.removeSource(u))||this.setError("Default"),this.webViewer&&(this.webViewer.resized(),this.emitViewerEvent());var d=this.getHowManyImagesInBuffer();return this.currentSelected=d>0?[d-1]:[],a}},{key:"removeAllImages",value:function(){this.e();var n=!1;if(this.currentSelected=[],this.webViewer)n=this.webViewer.removeAllPages(),this.webViewer.resized(),this.emitViewerEvent();else{var o=this.getCurrentDataSet();o&&(n=this.space.removeSource(li(o.children)))}return n||this.setError("Default"),n}},{key:"tagImages",value:function(n,o){this.e();var a=this.getHowManyImagesInBuffer();if(!$l(n))return this.setError("IndicesNotArray"),!1;if(!Wn(o)||o==="")return this.setError("InvalidTagName"),!1;for(var u=0;u<a;u++){var d=n[u];if(gh(d)||d<0||d>=a)return this.setError("IndexOutOfRange"),!1}this.space.createTag(o);for(var l=0;l<n.length;l++){var c=n[l];if(c>=0){var p=this.getUidByIndex(c);p&&p!==""&&rg(p,10)!==-1&&this.space.addTagToSource(p,o)}}return!0}},{key:"removeImageTag",value:function(n,o){if(this.e(),!Md(n))return this.setError("InvalidValue"),!1;if(n<0||n>this.getHowManyImagesInBuffer())return this.setError("IndexOutOfRange"),!1;var a=this.getUidByIndex(n),u=!1;return a&&a!==""&&a!==-1&&(u=this.space.removeTagFromSource(a,o)),u||this.setError("Default"),u}},{key:"getDefaultTag",value:function(){return this.space.getDefaultTag()}},{key:"setDefaultTag",value:function(n){if(this.e(),!Wn(n))return this.setError("InvalidValue"),!1;if(n==="")return this.space.setDefaultTag(null),!0;var o;return this.space.createTag(n),(o=this.space.setDefaultTag(n))||this.setError("Default"),o}},{key:"removeTag",value:function(n,o){var a=this;if(this.e(),!Wn(n))return this.setError("InvalidValue"),!1;if(!lo(o)&&!$l(o))return this.setError("IndicesNotArray"),!1;if(!this.space.isTagExisted(n))return this.setError("TagNotExist"),!1;var u=this.currentTagName,d=!1,l=!1;if(u&&(d=u===n),lo(o))l=this.space.removeTag(n),d&&this.clearFilter();else{var c=[];ar(o).call(o,function(g){var S=a.getUidByIndex(g);S!==-1&&c.push(S)});for(var p=0;p<(c==null?void 0:c.length);p++)if(!(l=this.space.removeTagFromSource(c[p],n)))return!1}return l||this.webViewer.setDefaultError(),l}},{key:"renameTag",value:function(n,o){if(this.e(),lo(n)||n==="")return this.setError("OldTagNameRequired"),!1;if(lo(o)||o==="")return this.setError("NewTagNameRequired"),!1;if(!this.space.isTagExisted(n))return this.setError("TagNotExist"),!1;if(this.space.isTagExisted(o))return this.setError("TagExist"),!1;var a;return n===this.currentTagName&&(this.currentTagName=o),(a=this.space.renameTag(n,o))?this.space.setDefaultTag(o):this.setError("Default"),a}},{key:"getTagContents",value:function(n){return this.e(),n&&Wn(n)&&n!==""?this.space.getTag(n).children:[]}},{key:"getTagList",value:function(){var n=this;this.e();var o=this.space.getTagList(),a=[];return o?ar(o).call(o,function(u){var d,l=[];ar(d=u.children).call(d,function(c){var p=n.getCustomDataByUid(c);if(p){var g=p.uidFromServer;l.push(g)}}),a.push({name:u.name,imageIds:l})}):a=[],a}},{key:"getTagListByIndex",value:function(n){if(!Md(n))return!1;var o=this.getUidByIndex(n);return this.space.getSourceTags(o)}},{key:"clearFilter",value:function(){this.e(),this.currentTagName="";var n,o=this.getCurrentFileName();return o===""&&(o="dynamsoft-default-document"),(n=this.openDocument(o))||this.setError("Default"),n}},{key:"filterImagesByTag",value:function(n,o,a){this.e();var u=!1;if(lo(n)||n===null||n===""){this.currentTagName="";var d=this.getCurrentFileName();d===""&&(d="dynamsoft-default-document"),(u=this.openDocument(d))?Ld(o)&&o():(this.setError("Default"),Ld(a)&&a())}else{var l,c;if(!this.space.isTagExisted(n))return this.setError("TagNotExist"),Ld(a)&&a(),!1;if(this.isActiveTag=!0,this.isActiveFile=!1,this.currentTagName=n,this.setDefaultTag(n),u=this.space.openTag(n,this==null||(l=this.webViewer)===null||l===void 0||(c=l.myViewer)===null||c===void 0?void 0:c.uid)){var p=this.space.getTag(n);if(p){var g,S=(p==null||(g=p.children)===null||g===void 0?void 0:g.length)||0;this.currentSelected=S>0?[S-1]:[]}Ld(o)&&o()}else this.setError("Default"),Ld(a)&&a()}return this.webViewer&&this.webViewer.render(),u}},{key:"createDocument",value:function(n){if(this.e(),!n||n===""){var o=Md(n)?"FileNameNotString":"FileNameCannotEmpty";return this.setError(o),!1}return Wn(n)?this.space.isFileExisted(n)?(this.setError("FileExist"),!1):!!this.space.createFile(n)||(this.setError("Default"),!1):(this.setError("FileNameNotString"),!1)}},{key:"openDocument",value:function(n,o){var a,u;if(this.e(),!n||n===""){var d=Md(n)?"FileNameNotString":"FileNameCannotEmpty";return this.setError(d),!1}if(!Wn(n))return this.setError("FileNameNotString"),!1;if(!this.space.isFileExisted(n))return this.setError("FileNotExist"),!1;var l=o&&o!==""?o:this==null||(a=this.webViewer)===null||a===void 0||(u=a.myViewer)===null||u===void 0?void 0:u.uid,c=this.space.getFile(n);if(c){var p,g=c==null||(p=c.children)===null||p===void 0?void 0:p.length;this.currentSelected=g>0?[g-1]:[]}return this.space.openFile(n,{viewerUid:l})?(this.currentFileName=n,this.isActiveFile=!0,this.isActiveTag=!1,!0):(this.setError("Default"),!1)}},{key:"getDocumentContents",value:function(n){return this.e(),n&&Wn(n)&&n!==""?this.space.isFileExisted(n)?this.space.getFile(n).children:(this.setError("FileNotExist"),[]):[]}},{key:"renameDocument",value:function(n,o){return this.e(),Wn(n)&&Wn(o)?(n&&n!==""&&o&&o!==""||this.setError("FileNameCannotEmpty"),this.space.isFileExisted(n)?this.space.isFileExisted(o)?(this.setError("FileExist"),!1):this.space.renameFile(n,o)?(this.currentFileName===n&&(this.currentFileName=o),!0):(this.setError("Default"),!1):(this.setError("FileNotExist"),!1)):(this.setError("FileNameNotString"),!1)}},{key:"removeDocument",value:function(n){if(this.e(),!n||!Wn(n))return this.setError("FileNameNotString"),!1;if(!this.space.isFileExisted(n))return this.setError("FileNotExist"),!1;var o=this.space.removeFile(n);return o?(o&&this.webViewer&&this.webViewer.resized(),this.currentFileName===n&&(this.currentFileName=""),!0):(this.setError("Default"),!1)}},{key:"getDocumentInfoList",value:function(){var n=this;this.e();var o=this.space.getFileList(),a=[];return o?(ar(o).call(o,function(u){if(u.children){for(var d=[],l=0;l<u.children.length;l++){var c=u.children[l],p=n.getCustomDataByUid(c);if(p){var g=p.uidFromServer;d.push(g)}}a.push({imageIds:d,name:u.name})}}),a):[]}},{key:"getDocumentInfo",value:function(n){this.e();var o=this.space.getFile(n);if(!o)return this.setError("FileNotExist"),{imageIds:[],length:0};for(var a=[],u=0;u<o.children.length;u++){var d=o.children[u],l=this.getCustomDataByUid(d);if(l){var c=l.uidFromServer;a.push(c)}}return{imageIds:a,length:a.length}}},{key:"selectImages",value:function(n){this.e();var o=!0;if(!n||!$l(n))return!1;if(this.webViewer){var a=this.webViewer.getIfAutoScroll();a===!1&&this.webViewer.setIfAutoScroll(!0),o=this.webViewer.selectPages(n),a===!1&&this.webViewer.setIfAutoScroll(!1)}else{for(var u=this.getHowManyImagesInBuffer(),d=0;d<n.length;d++)if(!Md(n[d])||n[d]<0||n[d]>=u)return this.setError("ParameterOutRange"),!1;o=!0}return o?this.currentSelected=n:this.setError("Default"),o}},{key:"selectAllImages",value:function(){this.e();var n=!0;if(this.webViewer)n=this.webViewer.myViewer.selectAll(),this.currentSelected=this.webViewer.getSelectedImagesIndices();else{var o,a=this.getCurrentDataSet();this.currentSelected=Gue(Xue(o=new Array(a.children.length)).call(o))}return n||this.setError("Default"),n}},{key:"moveImage",value:function(n,o){this.e();var a=rg(n,10),u=rg(o,10);if(gh(n)||gh(o))return this.setError("InvalidIndex"),!1;var d=this.getHowManyImagesInBuffer();if(a<0||a>=d||u<0||u>d)return this.setError("IndexOutOfRange"),!1;var l=!1;if(this.webViewer)l=this.webViewer.myViewer.movePage(n,o);else{var c=this.getCurrentDataSet();if(!c)return!1;c.children.length>o&&(this.currentSelected=[o]),l=this.space.move({docUid:c.uid,type:c.type,from:n,to:o})}return l||this.setError("Default"),l}},{key:"switchImage",value:function(n,o){this.e();var a=rg(n,10),u=rg(o,10);if(gh(n)||gh(o))return this.setError("InvalidIndex"),!1;var d=this.getHowManyImagesInBuffer(),l=this.getCurrentIndex();if(a<0||a>=d||u<0||u>d)return this.setError("IndexOutOfRange"),!1;var c=!1;if(this.webViewer)c=this.webViewer.myViewer.switchPage(n,o);else{var p=this.getCurrentDataSet();if(!p)return!1;c=this.space.switch({docUid:p.uid,type:p.type,one:n,other:o})}c||this.setError("Default");var g=l;return a===l?g=u:u===l&&(g=a),this.currentSelected=[g],c}},{key:"moveImageToFile",value:function(n,o,a,u){if(!this.space.isFileExisted(n)||!this.space.isFileExisted(a))return this.setError("FileNotExist"),!1;o=li(new Qce(o));var d=this.getDocumentInfo(n).length;if(!$l(o)||o.length>d)return this.setError("ParameterOutRange"),!1;var l=this.getDocumentInfo(a).length,c=this.space.movePagesToFile(n,o,a,u);if(!this.webViewer&&this.isActiveFile){var p=this.getHowManyImagesInBuffer();n===this.currentFileName&&(this.currentSelected=p>0?[p-1]:[]),a===this.currentFileName&&(Md(u)&&u<l&&u>=0?this.currentSelected=[u+o.length-1]:this.currentSelected=p>0?[p-1]:[])}return c}}]),t}();HTMLCanvasElement.prototype.toBlob||qB(HTMLCanvasElement.prototype,"toBlob",{value:function(t,n,o){for(var a=atob(this.toDataURL(n,o).split(",")[1]),u=a.length,d=new Uint8Array(u),l=0;l<u;l++)d[l]=a.charCodeAt(l);t(new Blob([d],{type:n||"image/png"}))}});var xh=function(t){function n(o){var a;if(h(this,n),a=f(this,n),o)a._baseUrl=o._baseUrl,a._buffer=o._buffer,a._serverIdMap=o._serverIdMap,a._uidMap=o._uidMap;else{var u=a,d={bufferChanged:function(l,c){u.fire("bufferChanged",[l,c])},viewerError:{setError:function(l,c){u._error={code:l,message:c},u.fire("error",u._error)}}};a._baseUrl="",a._buffer=new ude(d),a._serverIdMap={},a._uidMap={}}return a}return P(n,t),_(n,[{key:"getError",value:function(){return this._error}},{key:"BaseUrl",get:function(){return this._baseUrl}},{key:"getImageUrl",value:function(o){var a=this.convertClientIndexToServerId(o),u=Date.now();return Nr.getImageUrl(this._baseUrl,a,-1,-1,u)}},{key:"getMinImageUrl",value:function(o,a,u){var d=this.convertClientIndexToServerId(o),l=Date.now();return d&&a&&u?Nr.getImageUrl(this._baseUrl,d,parseInt(a),parseInt(u),l):""}},{key:"append",value:function(o,a,u,d,l){var c,p,g,S,v=Date.now(),b=a,T=u;if(c={imageId:b,serverId:a,uidFromServer:T,imageUrl:g=Nr.getImageUrl(this._baseUrl,b,-1,-1,v),minImageUrl:p=d&&d.controlWidth&&d.controlWidth>0&&d.controlHeight&&d.controlHeight>0?V.navInfoSync.bMobile?Nr.getImageUrl(this._baseUrl,b,Math.round(d.controlWidth*devicePixelRatio),Math.round(d.controlHeight*devicePixelRatio),v):Nr.getImageUrl(this._baseUrl,b,parseInt(d.controlWidth),parseInt(d.controlHeight),v):g},S=d.currentFileName.length>0?this._buffer.addImage(c,d,d.currentFileName):this._buffer.addImage(c,d)){var D=L(S,1)[0],M=this._buffer.getCustomDataByUid(D);return M.serverId=b,M.uidFromServer=T,this._innerInsertModel(b,T,D,g,p),D}return!1}},{key:"insertBefore",value:function(o,a,u,d,l){var c,p,g,S=Date.now(),v=u,b=d;c={index:o,imageId:v,serverId:v,uidFromServer:b,imageUrl:g=Nr.getImageUrl(this._baseUrl,v,-1,-1,S),minImageUrl:p=l&&l.controlWidth&&l.controlWidth>0&&l.controlHeight&&l.controlHeight>0?V.navInfoSync.bMobile?Nr.getImageUrl(this._baseUrl,v,Math.round(l.controlWidth*devicePixelRatio),Math.round(l.controlHeight*devicePixelRatio),S):Nr.getImageUrl(this._baseUrl,v,parseInt(l.controlWidth),parseInt(l.controlHeight),S):g};var T=this._buffer.addImage(c);if(T){var D=L(T,1)[0],M=this._buffer.getCustomDataByUid(D);return M.serverId=v,M.uidFromServer=b,this._innerInsertModel(v,b,D,g,p),this._buffer.openDocument(this.getCurrentFileName()),D}return!1}},{key:"_innerInsertModel",value:function(o,a,u,d,l){var c=new Uy;c.serverId=o,c.uidFromServer=a,c.uuid=u,c.imageUrl=d,c.minImageUrl=l,this._serverIdMap[o]=c,this._uidMap[a]=c}},{key:"refresh",value:function(o,a,u,d){var l=1*o;if(u){var c=this.count();if(l<0||l>c)return!1;this._setDataImageControl(l,d)}return!0}},{key:"refreshByImageId",value:function(o,a,u){var d=o;return a&&this._setDataImageControl(d,u,!0),!0}},{key:"_setDataImageControl",value:function(o,a,u){var d,l,c,p,g,S,v=this,b=v._baseUrl;if(u)g=o;else if(g=(p=v.getCustomDataByIndex(o)).serverId,S=p.uidFromServer,g<=0)return!1;if((d=v.getImageIdMap(g))||((d=new Uy).serverId=g,d.uidFromServer=S,v._serverIdMap[g]=d,v._uidMap[S]=d),b){d!=null&&(d.ticks=Date.now()),l=Nr.getImageUrl(b,g,-1,-1,d.ticks),c=a&&a.controlWidth&&a.controlWidth>0&&a.controlHeight&&a.controlHeight>0?V.navInfoSync.bMobile?Nr.getImageUrl(b,g,Math.round(a.controlWidth*devicePixelRatio),Math.round(a.controlHeight*devicePixelRatio),d.ticks):Nr.getImageUrl(b,g,parseInt(a.controlWidth),parseInt(a.controlHeight),d.ticks):l,d.imageUrl=l,d.minImageUrl=c,a&&(a.height&&(d.height=a.height),a.width&&(d.width=a.width));var T=m.clone(d);T.imageId=g,v._buffer.updateImage(T,a)}return!0}},{key:"convertIndicesToServerIds",value:function(o){var a,u=o.length,d=[];for(a=0;a<u;a++){var l=this.convertClientIndexToServerId(o[a]);l!=-1&&d.push(l)}return d}},{key:"removeImagesByServerId",value:function(o,a){var u=this,d=a??this._buffer.getCurrentDocument(),l=[];return m.each(o,function(c,p){var g=parseInt(c);u._removeMapModelImageControlByServerId(g);var S=-1;return S=u._buffer.isActiveFile?u._convertServerIdToIndexInFile(d,g):u._convertServerIdToIndex(g),!isNaN(S)&&!(S<0||S>=u.count())&&void l.push(S)}),l.length>0&&u._buffer.removeImageByIndexArr(l)}},{key:"removeByServerId",value:function(o,a,u){var d=this,l=u??this._buffer.getCurrentDocument();d._removeMapModelImageControlByServerId(o);var c=-1;return c=this._buffer.isActiveFile?this._convertServerIdToIndexInFile(l,o):a,!isNaN(c)&&!(c<0||c>=d.count())&&d._buffer.removeImageByIndex(c)}},{key:"exists",value:function(o){if(this._serverIdMap[o])return!0;var a=-1;if(this._buffer.isActiveFile){var u=this.getCurrentFileName();a=this._convertServerIdToIndexInFile(u,o)}else a=this._convertServerIdToIndex(o);return a>-1}},{key:"removeImages",value:function(o){var a,u,d;for(d=o.length,a=0;a<d;a++)u=this.convertClientIndexToServerId(o[a]),this._removeMapModelImageControlByServerId(u);return this._buffer.removeSelectedImages(o)}},{key:"clear",value:function(){var o,a,u,d=this;for(u=d.count(),o=0;o<u;o++)a=d.convertClientIndexToServerId(o),this._removeMapModelImageControlByServerId(a);return u==Object.keys(d._serverIdMap).length&&(d._serverIdMap={},d._uidMap={}),d._buffer.removeAllImages()}},{key:"_uidFromServer2index",value:function(o){var a,u,d,l=this;if((d=l._uidMap[o])&&(u=d.uuid),u&&u!=-1)a=l._buffer.getIndexByUid(u);else if(l._buffer.isActiveFile){var c=this.getCurrentFileName();a=this._convertUidFromServerToIndexInFile(c,o)}else a=this._convertUidFromServerToIndex(o);return m.isNumber(a)||(a=-1),a}},{key:"_serverId2uidFromServer",value:function(o){if(o&&o>0){var a,u,d;if((d=this._serverIdMap[o])&&(u=d.uidFromServer))return u;if((a=this.convertServerIdToClientIndex(o))>=0)return this._index2uidFromServer(a)}return-1}},{key:"_uidFromServer2ServerId",value:function(o){if(o){var a,u,d;if((d=this._uidMap[o])&&(u=d.serverId))return u;if((a=this._uidFromServer2index(o))>=0)return this.convertClientIndexToServerId(a)}return-1}},{key:"_index2uidFromServer",value:function(o){var a=this.getCustomDataByIndex(o);return a?a.uidFromServer:-1}},{key:"convertServerIdToClientIndex",value:function(o){var a,u,d,l=this;if((d=l._serverIdMap[o])&&(u=d.uuid),u&&u!=-1)a=l._buffer.getIndexByUid(u);else if(l._buffer.isActiveFile){var c=this.getCurrentFileName();a=this._convertServerIdToIndexInFile(c,o)}else a=this._convertServerIdToIndex(o);return m.isNumber(a)||(a=-1),a}},{key:"getIndexByUid",value:function(o){var a;return(a=this._buffer.getIndexByUid(o))===!1?-1:a}},{key:"getUidByIndex",value:function(o){return this._buffer.getUidByIndex(o)}},{key:"convertClientIndexToServerId",value:function(o){var a=this.getCustomDataByIndex(o);return a?a.serverId:-1}},{key:"getCurrentImageIndex",value:function(){var o=this._buffer.getCurrentIndex();return m.isBoolean(o)?-1:o}},{key:"setCurrentImageIndex",value:function(o){return this._buffer.selectImages([o])}},{key:"getCurrentFileName",value:function(){return this._buffer.getCurrentFileName()}},{key:"setDefaultTag",value:function(o){return this._buffer.setDefaultTag(o)}},{key:"getDefaultTag",value:function(){return this._buffer.getDefaultTag()}},{key:"count",value:function(){return this._buffer.getHowManyImagesInBuffer()}},{key:"getCountByDocumentName",value:function(o){return this._buffer.getDocumentInfo(o).length}},{key:"dispose",value:function(){this.clear(),this._buffer=null,this._baseUrl=null,this._serverIdMap=null,this._uidMap=null,this._error=null}},{key:"getImageData",value:function(o){var a=this._buffer.getUidByIndex(o);return a?this._buffer.getDataByUid(a):Q.Promise.resolve(null)}},{key:"getCustomDataByIndex",value:function(o){return this._buffer.getCustomDataByUid(this._buffer.getUidByIndex(o))}},{key:"getMetadataByIndex",value:function(o){return this._buffer.getMetadataByUid(this._buffer.getUidByIndex(o))}},{key:"setCustomData",value:function(o,a){var u=this._buffer.getUidByIndex(o);return!(!u||!a)&&this._buffer.setCustomDataByUid(u,a)}},{key:"openDocument",value:function(o){return this._buffer.openDocument(o)}},{key:"createDocument",value:function(o){return this._buffer.createDocument(o)}},{key:"getImageIdMap",value:function(o){return this._serverIdMap[o]}},{key:"_removeMapModelImageControlByServerId",value:function(o){var a=this;if(o>0&&a._serverIdMap[o]){var u=a._serverIdMap[o],d=u.uidFromServer;u.Clear(),delete a._serverIdMap[o],delete a._uidMap[d]}}},{key:"_convertServerIdToIndexInFile",value:function(o,a){var u,d,l=-1;for(u=this._buffer.getDocumentContents(o),d=0;d<u.length;d++){var c=u[d];if(c){var p=this._buffer.getCustomDataByUid(c);if(p&&p.serverId==a){l=d;break}}}return l}},{key:"_convertServerIdToIndex",value:function(o){var a,u=-1;for(a=0;a<this.count();a++){var d=this._buffer.getUidByIndex(a);if(d){var l=this._buffer.getCustomDataByUid(d);if(l&&l.serverId==o){u=a;break}}}return u}},{key:"_convertUidFromServerToIndexInFile",value:function(o,a){var u,d,l=-1;for(u=this._buffer.getDocumentContents(o),d=0;d<u.length;d++){var c=u[d];if(c){var p=this._buffer.getCustomDataByUid(c);if(p&&p.uidFromServer==a){l=d;break}}}return l}},{key:"_convertUidFromServerToIndex",value:function(o){var a,u=-1;for(a=0;a<this.count();a++){var d=this._buffer.getUidByIndex(a);if(d){var l=this._buffer.getCustomDataByUid(d);if(l&&l.uidFromServer==o){u=a;break}}}return u}},{key:"convertUUIDToServerId",value:function(o){var a=this._buffer.getCustomDataByUid(o);return a&&a.serverId!=-1?a.serverId:-1}},{key:"UpdateImage",value:function(o,a){return this._buffer.updateImage(o,a),!0}}],[{key:"_setBaseUrl",value:function(o,a){o._baseUrl=a}},{key:"_getBuffer",value:function(o){return o._buffer}}])}(hC),lde=function(t){function n(u){var d;h(this,n);var l=d=f(this,n,[u]);d.__IfAppendImage=at,d.__maxImagesInBuffer=32767,d.__insertingIndex=-1,d._aryBitmapCache=[],d._imageBufferWrapper=new xh,d._imageBufferWrapper.on("bufferChanged",function(p){if(m.isFunction(l.__OnBufferChanged)){var g,S,v,b=p[0],T=[],D=-1,M=[];for(b.operation&&(b.action=b.operation),S=0;S<l._imageBufferWrapper.count();S++)(g=l._imageBufferWrapper.getCustomDataByIndex(S))&&g.serverId&&T.push(l._imageBufferWrapper._serverId2uidFromServer(g.serverId));if(b.imageIds=T,b.curIndex>=0&&(g=l._imageBufferWrapper.getCustomDataByIndex(b.curIndex))&&g.serverId&&(D=l._imageBufferWrapper._serverId2uidFromServer(g.serverId)),b.currentId=D,b.operation=="modify"&&b.afterStatus.modifiedUid!=""){var W=l._imageBufferWrapper.getIndexByUid(b.afterStatus.modifiedUid);W>=0&&(g=l._imageBufferWrapper.getCustomDataByIndex(W))&&g.serverId&&(b.modifiedId=l._imageBufferWrapper._serverId2uidFromServer(g.serverId))}if(b.afterStatus.selectedUids)for(v=0;v<b.afterStatus.selectedUids.length;v++){var Y=b.afterStatus.selectedUids[v];if(Y&&Y!=-1){var ee=l._imageBufferWrapper.getIndexByUid(b.afterStatus.selectedUids[v]);ee>=0&&(g=l._imageBufferWrapper.getCustomDataByIndex(ee))&&g.serverId&&M.push(l._imageBufferWrapper._serverId2uidFromServer(g.serverId))}}b.selectedIds=M,m.mix(b,{}),delete b.uids,delete b.currentUid,delete b.selectedUids,delete b.afterStatus,delete b.beforeStatus,delete b.operation,delete b.curIndex,delete b.docUid;try{return l.__OnBufferChanged(b)}catch(te){qr(te)}}}),d._imageBufferWrapper.on("error",function(p){l._errorCode=p.code,l._errorString=p.message});var c=Fo.getServerImageUrlPrefix(d);return xh._setBaseUrl(d._imageBufferWrapper,c),d}return P(n,t),_(n,[{key:"_OnActiveUIClearBuffer",value:function(){var u=this.__OnBufferChanged;this.__OnBufferChanged=null,this._imageBufferWrapper.clear(),this.__OnBufferChanged=u}},{key:"_registerMultiEvent",value:function(u,d){var l=this;if(l._resetErr(),!l._isValid())return!1;var c=["_$",u].join("");l[c]||(l[c]={});var p=l[c],g=m.guid();return p[g]=d,g}},{key:"_unregisterMultiEvent",value:function(u,d){var l=this;if(l._resetErr(),!l._isValid())return!1;var c=["_$",u].join(""),p=l[c];if(d){var g;if(m.isString(d))return delete p[d],at;if(m.isFunction(d)){for(g=0;g<p.length;g++)if(d==p[g])return p.splice(g,1),at}}return l[c]=null,at}},{key:"_getMetadata",value:function(u){return this._imageBufferWrapper.getMetadataByIndex(u)}},{key:"_updateImage",value:function(u,d,l){var c,p,g,S,v=Oy.Auto,b=this;return l&&(l.width!=null&&(g=parseInt(l.width)),l.height!=null&&(S=parseInt(l.height)),v=m.isNumber(g)&&m.isNumber(S)&&d.byteLength===g*S*4?Oy.RGBA:Oy.Auto),c={imageId:u,serverId:u,bufferLen:d.byteLength,imageType:v},l&&v==Oy.RGBA&&(c.width=g,c.height=S,l.bitDepth!=null&&(c.bit=l.bitDepth),l.resolutionX!=null&&(c.xres=parseInt(l.resolutionX)),l.resolutionY!=null&&(c.yres=parseInt(l.resolutionY)),l.uid!=null&&(c.uidFromServer=l.uid)),p=m.stringify([m.stringify(c)]),new Q.Promise(function(T,D){b._innerSendBlobByWS("UpdateImage",p,d,function(M){m.log("UpdateImage success."),T(M)},function(M){m.log("UpdateImage failed."),m.error(M),D({code:b._errorCode,message:b._errorString})})})}},{key:"_removeImages",value:function(u){return this._imageBufferWrapper.removeImages(u)}},{key:"_getCurrentDocumentName",value:function(){var u="";return this._imageBufferWrapper&&(u=this._imageBufferWrapper.getCurrentFileName()),u}},{key:"_getCurrentDefaultTagName",value:function(){var u="";return this._imageBufferWrapper&&(u=this._imageBufferWrapper.getDefaultTag()||""),u}},{key:"_innerRefreshUI",value:function(u,d,l,c,p){var g=this;return l&&g._imageBufferWrapper.refresh(u,g._imageBufferWrapper.count(),!0,c),m.isFunction(g.__OnRefreshUI)&&g.__OnRefreshUI(g._imageBufferWrapper.getCurrentImageIndex(),g._imageBufferWrapper.count()),!0}},{key:"_innerRefreshUIByImageId",value:function(u,d,l,c){var p=this;return d&&p._imageBufferWrapper.refreshByImageId(u,!0,l),m.isFunction(p.__OnRefreshUI)&&p.__OnRefreshUI(p._imageBufferWrapper.getCurrentImageIndex(),p._imageBufferWrapper.count()),!0}},{key:"_getHowManyImagesInBuffer",value:function(){return this._isValid()?this._imageBufferWrapper.count():0}},{key:"_OnBitmapChanged",value:function(u,d,l){var c,p,g,S=this,v=u[0]=="m1",b=u[0]=="c1",T=u[0]=="c2",D=b||T||v,M=u[1].split(","),W=u[2],Y=u[3],ee=S.__maxImagesInBuffer,te=-1,de=!1,Z=[];if(l&&(c=l.document,p=l.tag,l.bNeedClearTag&&(g=l.bNeedClearTag)),m.log("_OnBitmapChanged.currentFileName="+c+", tag="+p),c?c!=S._getCurrentDocumentName()&&(de=!0):c=S._getCurrentDocumentName(),S._imageBufferWrapper&&(p?(S._imageBufferWrapper.setDefaultTag(p),m.log("metaDataObj.currentTag="+p)):g&&(S._imageBufferWrapper.setDefaultTag(""),m.log("metaDataObj.currentTag=''"))),!v)if(T)u.length>5&&(Z=u[5]),m.isArray(Z)||(Z=[]);else{var ne={};if(u.length>5&&(ne.width=u[5]),u.length>6&&(ne.height=u[6]),u.length>7&&(ne.bitDepth=u[7]),u.length>8&&(ne.resolutionX=u[8]),u.length>9&&(ne.resolutionY=u[9]),u.length>10&&(te=u[10]),u.length>11&&m.isString(u[11])&&(ne.uidFromServer=u[11]),Z.push(ne),te>-1&&S._canConsume()&&(W==ai.enumBCAppend||W==ai.enumBCInsert)){var X=V.DWT.lgct(te);m.isFunction(S.__OnLtsverify)&&S.__OnLtsverify(X,1)}}if(m.log("OnBitmapChanged:"+u),W==ai.enumBCInsert||W==ai.enumBCAppend&&!S.__IfAppendImage||l&&W==ai.enumBCAppend&&l.index>=0)m.each(M,function(oe,fe){var ae,ue,ye=parseInt(oe),be=S._imageBufferWrapper.getCurrentImageIndex();if(fe<Z.length&&Z[fe]?(ae=(ue=Z[fe]).uidFromServer,delete ue.uidFromServer):ue={},ue.currentFileName=c,isNaN(ye)||ye<0)return!0;if(D)S._aryBitmapCache.push(ye);else for(var Te=0;Te<S._aryBitmapCache.length;Te++)if(S._aryBitmapCache[Te]==ye)return S._aryBitmapCache.splice(Te,1),!0;if(S._imageBufferWrapper.exists(ye))return!0;S.__insertingIndex>-1&&(be=S.__insertingIndex),ue.controlWidth=400,ue.controlHeight=400,S._controlWidth&&S._controlWidth>400&&(ue.controlWidth=S._controlWidth),S._controlHeight&&S._controlHeight>400&&(ue.controlHeight=S._controlHeight),be==-1&&(be=0),l.index>=0&&(be=l.index),S._imageBufferWrapper.insertBefore(be,ee,ye,ae,ue),S.__insertingIndex>-1&&(S.__insertingIndex=S.__insertingIndex+1),l.index++}),m.isFunction(S.__OnRefreshUI)&&S.__OnRefreshUI(S._imageBufferWrapper.getCurrentImageIndex(),S._imageBufferWrapper.count());else if(W==ai.enumBCAppend&&S.__IfAppendImage)m.each(M,function(oe,fe){var ae,ue,ye=parseInt(oe);if(isNaN(ye)||ye<0)return!0;if(fe<Z.length&&Z[fe]?(ae=(ue=Z[fe]).uidFromServer,delete ue.uidFromServer):ue={},ue.currentFileName=c,m.log("metaDataObj.currentFileName="+c),D)S._aryBitmapCache.push(ye);else for(var be=0;be<S._aryBitmapCache.length;be++)if(S._aryBitmapCache[be]==ye)return S._aryBitmapCache.splice(be,1),!0;if(S._imageBufferWrapper.exists(ye))return!0;ue.controlWidth=400,ue.controlHeight=400,S._controlWidth&&S._controlWidth>400&&(ue.controlWidth=S._controlWidth),S._controlHeight&&S._controlHeight>400&&(ue.controlHeight=S._controlHeight),de?S._imageBufferWrapper.append(ee,ye,ae,ue,c):S._imageBufferWrapper.append(ee,ye,ae,ue)}),m.isFunction(S.__OnRefreshUI)&&S.__OnRefreshUI(S._imageBufferWrapper.getCurrentImageIndex(),S._imageBufferWrapper.count());else if(W==ai.enumBCRemove&&D){var F=!1;if(M.length==1&&M[0]==-1&&(F=!0),F)S._imageBufferWrapper.clear();else{var B=[];m.each(M,function(oe,fe){var ae=parseInt(oe);if(isNaN(ae)||ae<0)return!0;B.push(ae)}),S._imageBufferWrapper.removeImagesByServerId(B,c)}m.isFunction(S.__OnRefreshUI)&&S.__OnRefreshUI(S._imageBufferWrapper.getCurrentImageIndex(),S._imageBufferWrapper.count())}else if(W==ai.enumBCEdit||W==ai.enumBCUpdate)m.each(M,function(oe,fe){var ae,ue=parseInt(oe);if(isNaN(ue)||ue<0)return!0;if(fe<Z.length&&Z[fe]?delete(ae=Z[fe]).uidFromServer:ae={},ae.currentFileName=c,ue>=0&&!S.__bLoadingImage){var ye=S._imageBufferWrapper.convertServerIdToClientIndex(ue);ye>-1?S._innerRefreshUI(ye,S._imageBufferWrapper.count(),!0,ae,W):l.bNeedRefresh&&S._innerRefreshUIByImageId(ue,!0,ae,W)}});else if(W==ai.enumBCIndexChange){var U;Y>=0&&!S.__bLoadingImage&&((U=0<Z.length&&Z[0]?Z[0]:{}).currentFileName=c,S.__IfAppendImage==0&&S._innerRefreshUI(Y,S._imageBufferWrapper.count(),!0,U,W),S._imageBufferWrapper.refresh(Y,S._imageBufferWrapper.count(),!1,U))}if(m.isFunction(S.__OnBitmapChanged)){if(!v){if(D){if(W!=ai.enumBCRemove)return!0}else if(W==ai.enumBCRemove)return!0}var K=[];m.each(M,function(oe){var fe,ae=parseInt(oe);if(isNaN(ae)||ae<0)return!0;(fe=S._imageBufferWrapper.convertServerIdToClientIndex(ae))>-1&&K.push(fe)});var J=S._imageBufferWrapper.getCurrentImageIndex(),re=W;W==ai.enumBCAppend&&(re=S.__IfAppendImage?ai.enumBCAppend:ai.enumBCInsert),S.__OnBitmapChanged(K,re,J,S._imageBufferWrapper.count())}}},{key:"_removeImageAsync",value:(a=s(E().mark(function u(d,l){var c,p,g;return E().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(c=this,p=parseInt(l),Ei(c,p)){S.next=4;break}return S.abrupt("return",!1);case 4:return g=c._imageBufferWrapper.convertClientIndexToServerId(p),S.next=7,c._removeImageByIdAsync(g);case 7:return S.abrupt("return",S.sent);case 8:case"end":return S.stop()}},u,this)})),function(u,d){return a.apply(this,arguments)})},{key:"_removeImageByIdAsync",value:(o=s(E().mark(function u(d){var l,c;return E().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(l=this,d!=-1){p.next=4;break}return tt(l),p.abrupt("return",!1);case 4:return p.next=6,l._innerFunV2("RemoveImage",Ge(d));case 6:return((c=p.sent)||l._errorCode==-1033)&&l._OnBitmapChanged(["c1",""+d,3,l._imageBufferWrapper.getCurrentImageIndex(),l._imageBufferWrapper.count()]),p.abrupt("return",c);case 9:case"end":return p.stop()}},u,this)})),function(u){return o.apply(this,arguments)})}]);var o,a}(Fo),Ls=function(t){return t.Text=0,t.Blob=1,t.ArrayBuffer=2,t.XML=3,t.JSON=4,t.UserDefined=5,t}({}),or=function(t){return t.Other=0,t.HTTPUpload=1,t.HTTPDownload=2,t.FTPUpload=3,t.FTPDownload=4,t.Scan=5,t.LoadImage=6,t.ConvertToBlob=7,t.HTTPPut=8,t}({}),ka={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function cde(t,n){if(m.isFunction("_".repeat))return t.repeat(n);for(var o=0,a=[];o<n;o++)a.push(t);return a.join("")}var UE=Object.create?Object.create(null):{};function VE(t,n,o,a){return function(u,d){var l,c,p,g,S,v,b,T,D,M=1,W=u.length,Y="";for(c=0;c<W;c++)if(typeof u[c]=="string")Y+=u[c];else if(N(u[c])==="object"){if((g=u[c]).keys)for(l=d[M],p=0;p<g.keys.length;p++){if(l==null)throw new Error(VE('[sprintf] Cannot access property "%s" of undefined value "%s"',g.keys[p],g.keys[p-1]));l=l[g.keys[p]]}else l=g.param_no?d[g.param_no]:d[M++];if(ka.not_type.test(g.type)&&ka.not_primitive.test(g.type)&&l instanceof Function&&(l=l()),ka.numeric_arg.test(g.type)&&typeof l!="number"&&isNaN(l))throw new TypeError(VE("[sprintf] expecting number but found %T",l));switch(ka.number.test(g.type)&&(T=l>=0),g.type){case"b":l=parseInt(l,10).toString(2);break;case"c":l=String.fromCharCode(parseInt(l,10));break;case"d":case"i":l=parseInt(l,10);break;case"j":l=m.stringify(l,null,g.width?parseInt(g.width):0);break;case"e":l=g.precision?parseFloat(l).toExponential(g.precision):parseFloat(l).toExponential();break;case"f":l=g.precision?parseFloat(l).toFixed(g.precision):parseFloat(l);break;case"g":l=g.precision?String(Number(l.toPrecision(g.precision))):parseFloat(l);break;case"o":l=(parseInt(l,10)>>>0).toString(8);break;case"s":l=String(l),l=g.precision?l.substring(0,g.precision):l;break;case"t":l=String(!!l),l=g.precision?l.substring(0,g.precision):l;break;case"T":l=Object.prototype.toString.call(l).slice(8,-1).toLowerCase(),l=g.precision?l.substring(0,g.precision):l;break;case"u":l=parseInt(l,10)>>>0;break;case"v":l=l.valueOf(),l=g.precision?l.substring(0,g.precision):l;break;case"x":l=(parseInt(l,10)>>>0).toString(16);break;case"X":l=(parseInt(l,10)>>>0).toString(16).toUpperCase()}ka.json.test(g.type)?Y+=l:(!ka.number.test(g.type)||T&&!g.sign?D="":(D=T?"+":"-",l=l.toString().replace(ka.sign,"")),v=g.pad_char?g.pad_char==="0"?"0":g.pad_char.charAt(1):" ",b=g.width-(D+l).length,S=g.width&&b>0?cde(v,b):"",Y+=g.align?D+l+S:v==="0"?D+S+l:S+D+l)}return Y}(function(u){if(UE[u])return UE[u];for(var d,l=u,c=[],p=0;l;){if((d=ka.text.exec(l))!==null)c.push(d[0]);else if((d=ka.modulo.exec(l))!==null)c.push("%");else{if((d=ka.placeholder.exec(l))===null)throw new SyntaxError("[sprintf] unexpected placeholder");if(d[2]){p|=1;var g=[],S=d[2],v=[];if((v=ka.key.exec(S))===null)throw new SyntaxError("[sprintf] failed to parse named argument key");for(g.push(v[1]);(S=S.substring(v[0].length))!=="";)if((v=ka.key_access.exec(S))!==null)g.push(v[1]);else{if((v=ka.index_access.exec(S))===null)throw new SyntaxError("[sprintf] failed to parse named argument key");g.push(v[1])}d[2]=g}else p|=2;if(p===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");c.push({placeholder:d[0],param_no:d[1],keys:d[2],sign:d[3],pad_char:d[4],align:d[5],width:d[6],precision:d[7],type:d[8]})}l=l.substring(d[0].length)}return UE[u]=c,c}(t),arguments)}function la(t,n){if(m.isString(t)){var o,a,u,d,l,c=t.indexOf("<%");if(c==-1||(a=t.substring(0,c),!(c+2<(o=t.indexOf(">",a)))))return t;u=t.substring(c+1,o),d=t.substring(o+1);try{l=VE(u,n)}catch{l=""}return[a,l,d].join("")}return""}function e0(t,n){var o,a=t.substring(t.lastIndexOf(".")).toLowerCase();if(n==V.DWT.EnumDWT_ImageType.IT_BMP){if(a==".bmp"||a==".dib")return t;o=[t,".bmp"].join("")}else if(n==V.DWT.EnumDWT_ImageType.IT_JPG){if(a==".jpg"||a==".jpe"||a==".jpeg"||a==".jfif")return t;o=[t,".jpg"].join("")}else if(n==V.DWT.EnumDWT_ImageType.IT_PNG){if(a==".png")return t;o=[t,".png"].join("")}else if(n==V.DWT.EnumDWT_ImageType.IT_TIF){if(a==".tif"||a==".tiff")return t;o=[t,".tif"].join("")}else if(n==V.DWT.EnumDWT_ImageType.IT_PDF){if(a==".pdf")return t;o=[t,".pdf"].join("")}else if(n==V.DWT.EnumDWT_ImageType.IT_J2K){if(a==".jp2")return t;o=[t,".jp2"].join("")}return o}function oU(t,n,o,a){var u,d,l,c,p=n.url,g=n.headers,S=n.retry,v=n.httpFormData,b=n.bOnlyResponseEmptyIsOK,T=n.bAsync,D=(d=n.responseType)==Ls.Text?"text":d==Ls.JSON?"json":d==Ls.Blob?"blob":d==Ls.ArrayBuffer?"arraybuffer":d==Ls.XML?"xml":d==5?"user-defined":"text",M=t.IfShowProgressBar,W=t.IfShowCancelDialogWhenImageTransfer,Y=t.objUploadStatus;(u=n.content)&&(u.remoteFilename||(u.remoteFilename=n.remoteFilename),u.fileName||(u.fileName=n.fileName||u.name),u.name||(u.name=n.fileName||u.fileName));var ee,te=new Nl({action:p,data:v,async:T,retry:S,bOnlyResponseEmptyIsOK:b,dataType:D});if(W&&Q.progressContext&&(ee=Q.progressContext.on("cancel",function(){te.abort(),te=null})),(l=te._uploadType)&&(c=l.get("ajaxConfig"),g&&c&&c.headers&&g&&m.mix(c.headers,g),t.HTTPRequestswithCredentials&&m.mix(c.xhrFields,{withCredentials:!0}),c=null),te.on(Nl.event.SUCCESS,function(X){if(n.content=null,te=null,ee&&Q.progressContext.off("cancel",ee),X?t.HTTPPostResponse=X.response:n.responseType==Ls.ArrayBuffer?t.HTTPPostResponse=[]:n.responseType==Ls.Blob?t.HTTPPostResponse=new Blob([]):n.responseType==Ls.JSON?t.HTTPPostResponse={}:t.HTTPPostResponse="",m.isFunction(t.onHttpUploadStatus)){var F;F={fileName:X.name,percentage:100,statusCode:200,responseString:t.HTTPPostResponse},t.onHttpUploadStatus(F)}m.isFunction(o)&&o(t.HTTPPostResponse)}),te.on(Nl.event.ERROR,function(X){n.content=null,te=null;var F=X&&X.canceled;X&&X.timeout;var B="",U=0;ee&&Q.progressContext.off("cancel",ee),X&&m.isString(X.response)?t.HTTPPostResponse=X.response:t.HTTPPostResponse="",F||(X&&X.msg&&(B=X.msg),X&&X.httpStatus&&(U=X.httpStatus));var K,J={};BT(J,F,B,U),m.isFunction(t.onHttpUploadStatus)&&(K={fileName:X.name,percentage:100,statusCode:U,responseString:t.HTTPPostResponse},t.onHttpUploadStatus(K)),m.isFunction(a)&&a(J._errorCode,J._errorString,t.HTTPPostResponse,U)}),(M||m.isFunction(t.onHttpUploadStatus))&&(te.on(Nl.event.PROGRESS,function(X){!he.bSafari&&X&&(delete X.totalSize,delete X.position);var F=X.total===0?100:Math.round(100*X.loaded/X.total);if([X.loaded," / ",X.total].join(""),m.isFunction(t.onHttpUploadStatus)){var B;B={fileName:X.name,percentage:F,statusCode:0,responseString:""},t.onHttpUploadStatus(B)}t.onPercent([0,F,"","http",X.name])}),t.onPercent([0,-1,tn.Uploading,"http"]),m.isFunction(t.onHttpUploadStatus))){var de="";m.isArray(u)&&u.length>0||(u&&u.name&&u.name!=""?de=u.name:u&&u.fileName&&(de=u.fileName)),!de&&n.fileName&&(de=n.fileName),t.onHttpUploadStatus({fileName:de,percentage:0,statusCode:0,responseString:""})}if(Y&&Y.bCancel){Y.st=2;var Z={};return Ea(Z),n.content=null,m.isFunction(a)&&a(Z._errorCode,Z._errorString),!1}var ne=te.upload(u);return u=null,ne}function aU(t,n,o,a){var u,d,l=t.MaxUploadImageSize,c=0,p=n.content;if(!p||!m.isArray(p)||p.length<=0){n.content=null;var g={};return Kn(g),m.isFunction(a)&&a(g._errorCode,g._errorString),Oe}for(u=0;u<p.length;u++){var S=p[u];if(!S||S.size<=0){var v={};return Kn(v),m.isFunction(a)&&a(v._errorCode,v._errorString),Oe}var b=S.size,T=S.type;if(c+=b,T===""||T&&T!=n.contentType){var D=S.slice||S.webkitSlice||S.mozSlice,M=S.name,W=D.call(S,0,b,n.contentType);m.isString(M)&&M!=""||(M=S.fileName),W.name=la(M,u+1),p[u]=W}p[u].remoteFilename=la(n.remoteFilename,u+1),S=null}if(c>l&&l!=-1){var Y={};return ou(Y),m.isFunction(a)&&a(Y._errorCode,Y._errorString),Oe}for(Q.cancelFrom=or.HTTPUpload,d=oU(t,n,o,a),n=null,u=0;u<p.length;u++)p[u]=null;return p=null,d}function $u(t){Q.dlgRef<=0||Q.dialogShowStatus==0||Wu(t)}Q.setBtnCancelVisibleForProgress=Wu;var vu=function(){return _(function t(){h(this,t)},[{key:"_onProgress",value:function(t,n,o){var a=o.total===0?100:Math.round(100*o.loaded/o.total);[o.loaded," / ",o.total].join(""),t.onPercent([0,a,"","http",n])}},{key:"_uploadBlobFragment",value:function(t,n,o,a){var u=n.fileName,d=n.blockSize,l=0;n.method;var c,p,g,S=n.offset,v=this,b=function(ee,te){n.content=null,m.isFunction(a)&&a(ee,te)};if((c=n.content).size<=0){var T={};return Kn(T),b(T._errorCode,T._errorString),Oe}if(l=c.size,(p=l-S)>0){var D;if(p>=d&&d>0?(p-=d,g=d):(g=p,p=0),!(D=S==0&&g==l?c:c.slice(S,S+g))){var M={};Kn(M),b(M._errorCode,M._errorString)}if(!t.IfShowProgressBar||t.IfShowProgressBar&&Q.dlgRef>0){D.name=u,$u(t.IfShowCancelDialogWhenImageTransfer),n.headers["Content-Range"]=["bytes ",S,"-",S+D.size-1,"/",l].join(""),v._onProgress(t,u,{total:l,loaded:S});var W=m.clone(n);return W.content=D,W.offset=0,v.httpPostUpload(t,W,function(ee){p==0&&(Q.needShowTwiceShowDialog=!1),v._onProgress(t,u,{total:l,loaded:S+g}),p==0?(n.content=null,m.isFunction(o)&&si(o,ee)):(n.offset=n.offset+g,setTimeout(function(){v._uploadBlobFragment(t,n,o,b)},100))},b),!0}var Y={};return Ea(Y),b(Y._errorCode,Y._errorString),!1}return Q.needShowTwiceShowDialog=!1,n.content=null,m.isFunction(o)&&o(""),!0}},{key:"httpPostUploadFragment",value:function(t,n,o,a){var u;if(!(u=n.content)){var d={};return Kn(d),m.isFunction(a)&&a(d._errorCode,d._errorString),Oe}if(m.isString(u)){if(u==""){var l={};return Kn(l),m.isFunction(a)&&a(l._errorCode,l._errorString),Oe}var c=new Blob([u],{type:"text/plain"}),p=n.fileName;c.name=p,n.content=c,c=null}return Q.cancelFrom=or.HTTPUpload,this._uploadBlobFragment(t,n,o,a)}},{key:"httpPostUpload",value:function(t,n,o,a){var u,d,l=n.bAsync,c=function(Z,ne,X,F){return n.content=null,n=null,m.isFunction(a)&&a(Z,ne,X,F),!1};if(!(u=n.content)){var p={};return Kn(p),c(p._errorCode,p._errorString),!!l&&void 0}if(m.isString(u)){var g,S=n.fileName;if(u==""){var v={};return Kn(v),c(v._errorCode,v._errorString),!!l&&void 0}if(g=t.MaxUploadImageSize,u.length>g&&g!=-1){var b={};return ou(b),c(b._errorCode,b._errorString),!!l&&void 0}(d=new Blob([u],{type:"text/plain"})).name=S,u=null}else if(u instanceof Blob&&(d=u,u=null,d.size<=0)){var T={};return Kn(T),c(T._errorCode,T._errorString),!!l&&void 0}if(d){var D,M,W=t.MaxUploadImageSize,Y=d.size,ee=d.type;if(Y>W&&W!=-1){var te={};return ou(te),c(te._errorCode,te._errorString),!!l&&void 0}ee===""||ee&&ee!=n.contentType?(D=(d.slice||d.webkitSlice||d.mozSlice).call(d,0,Y,n.contentType))instanceof File?(M=D.fileName,D.name=M):D.name=d.name||d.fileName:D=d,d=null,D&&(n.content=D),D=null}$u(t.IfShowCancelDialogWhenImageTransfer),Q.cancelFrom=or.HTTPUpload;var de=oU(t,n,function(Z){return n.content=null,n=null,m.isFunction(o)&&o(Z),Z=null,!0},c);return l?void 0:!!de}}])}(),rs=_(function t(){h(this,t),this.method="",this.httpMethod="POST",this.contentType="application/octet-stream",this.remoteFilename="RemoteFile",this.blockSize=0,this.offset=0,this.retry=0,this.bOnlyResponseEmptyIsOK=!0,this.bAsync=!0,this.responseType=Ls.Text}),sU=_(function t(){h(this,t),this.IfShowProgressBar=!1,this.IfShowCancelDialogWhenImageTransfer=!0}),tc=function(t){return t.URL=0,t.Blob=1,t.Base64=2,t}({}),t0=window.SparkMD5,GE=function(){return _(function t(n,o,a,u){h(this,t);var d=this;d._md5=a,d._length=o,d._content=u},[{key:"getLength",value:function(){return this._length}},{key:"getMD5",value:function(){return this._md5}},{key:"getData",value:function(t,n){var o=this,a=n;return m.isNumber(t)&&m.isNumber(n)?t<0||n<=0?"":t==0&&a==o._length?o._content:(t+a>o._length&&(a=o._length-t),o._content.substr(t,a)):""}}])}();Q.html5.Base64Result=GE;var uU=function(t){function n(Z){var ne;return h(this,n),(ne=f(this,n,[Z])).__maxUploadImageSize=-1,ne._strHttpContentTypeFieldValue="application/octet-stream",ne}return P(n,t),_(n,[{key:"_saveBlob",value:(de=s(E().mark(function Z(ne,X){var F,B;return E().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(F=this,!V.navInfo.bIE){U.next=7;break}return U.next=5,F._innerSaveLocal(ne,X);case 5:U.next=11;break;case 7:return B=URL.createObjectURL(ne),U.next=10,F._innerSaveLocal(B,X);case 10:URL.revokeObjectURL(B);case 11:ne=null;case 12:case"end":return U.stop()}},Z,this)})),function(Z,ne){return de.apply(this,arguments)})},{key:"_saveImages",value:(te=s(E().mark(function Z(ne,X,F,B){var U,K,J,re,oe,fe;return E().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return U=this,K=e0(X,B),J=Ll(U,F),Q.cancelFrom=or.Other,ae.next=5,U._innerConvertToArrayBufferWithUIAsync(ne,B,J);case 5:return re=ae.sent,oe=Rt.getBlobTypeByImageType(B),fe=new Blob([re],{type:oe}),ae.next=10,U._saveBlob(fe,K);case 10:fe=null;case 11:case"end":return ae.stop()}},Z,this)})),function(Z,ne,X,F){return te.apply(this,arguments)})},{key:"_innerSaveLocal",value:(ee=s(E().mark(function Z(ne,X){return E().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.abrupt("return",new Q.Promise(function(B,U){var K=window,J=V.navInfo,re=K.requestFileSystem||K.webkitRequestFileSystem||K.mozRequestFileSystem;if(!J.biPad&&!J.biPhone||re||!(he.bSafari&&parseFloat(he.strBrowserVersion)<13)&&he.bSafari){var oe=document.createElementNS("http://www.w3.org/1999/xhtml","a");if(oe.href=ne,oe.download=X,oe.target="_blank",document.body.appendChild(oe),J.bEdge)oe.click(),ne=null,oe.href=null;else if(J.bIE){var fe;(fe=window.navigator)&&"msSaveOrOpenBlob"in fe&&fe.msSaveOrOpenBlob(ne,X)}else{var ae=document.createEvent("MouseEvents");ae.initMouseEvent("click",!0,!1),oe.dispatchEvent(ae)}setTimeout(function(){document.body.removeChild(oe),oe=null,B()},6e3)}else{var ue=K.open(ne,"","",!1);setTimeout(function(){ue.document.title=X,B()},6e3)}}));case 1:case"end":return F.stop()}},Z)})),function(Z,ne){return ee.apply(this,arguments)})},{key:"_OnPostTransferAsync",value:function(Z,ne,X){var F,B=this;if(Z&&Z.length>=2)try{var U=String(Z[1]).replace(/\\/g,"\\\\");F=m.parse(U),!X&&F.imageId&&(F.imageId=B._serverId2uidFromServer(F.imageId))}catch{m.log(Z)}F||(F={imageId:""});var K=!1;if(m.isFunction(B.__OnPostTransferAsync))try{K=B.__OnPostTransferAsync(F)}catch(J){qr(J)}if(m.isFunction(B.__OnPostTransferAsync2))try{B.__OnPostTransferAsync2(F)}catch(J){qr(J)}return K}},{key:"_checkIndices",value:function(Z,ne){return cU(Z,!m.isUndefined(ne)&&ne>=0?ne:this._imageBufferWrapper.count(),this)}},{key:"_acquireImageForSendTo",value:(Y=s(E().mark(function Z(ne,X,F,B){var U,K,J,re,oe,fe,ae,ue;return E().wrap(function(ye){for(;;)switch(ye.prev=ye.next){case 0:if(U=this,K=F?m.clone(F):{},re=J=B,U._resetErr(),U._isValid()){ye.next=4;break}throw{code:U._errorCode,message:U._errorString};case 4:if(m.isString(J._id)){ye.next=6;break}throw VY();case 6:if(!U.__bAcquireImageNow){ye.next=9;break}throw ck(U),{code:U._errorCode,message:U._getErrorString()};case 9:if(U.__bAcquireImageNow=!0,Mn(ne,re),oe=Q.Promise.resolve(),fe=V.DWT.RemoteScanConfig,ae=gN(),ye.prev=13,lO(K),fe&&Py(fe.keepAwake),It.checkProductKey(U,{Core:!0})&&U._isValid()){ye.next=18;break}throw{code:U._errorCode,message:U._errorString};case 18:return Fo._innerSendHeartBeat(J,!1),ue=function(){var be=s(E().mark(function Te(je){return E().wrap(function(Ye){for(;;)switch(Ye.prev=Ye.next){case 0:oe=oe.then(function(){return new Q.Promise(function(He,_t){var ct=[U._uidFromServer2ServerId(je.imageId)],gt=V.DWT.EnumDWT_ImageType.IT_PNG;Q.cancelFrom=or.Scan,U._innerConvertToArrayBufferAsync(gt,ct).then(function($e){J._bltsCopyImage=!0,J.__LoadImageFromBytesV2($e,gt,"",!0,0,0,!1,0,function(){var qe=s(E().mark(function We(Ke,zt){var Mt;return E().wrap(function(ze){for(;;)switch(ze.prev=ze.next){case 0:return Mt=U._uidFromServer2ServerId(je.imageId),zt?(m.log("LoadImageFromBinary success"),J._bltsCopyImage=!1,je.imageId=J._uidFromServer2ServerId(zt.ids),m.isFunction(J._OnPostTransferAsync)&&J._OnPostTransferAsync([!0,m.stringify(je)],null,!0)):m.log("LoadImageFromBinary return null."),He(),ze.next=5,U._removeImageByIdAsync(Mt);case 5:case"end":return ze.stop()}},We)}));return function(We,Ke){return qe.apply(this,arguments)}}(),function(qe,We){m.log(We),J._bltsCopyImage=!1,_t({code:qe,message:We})})},function($e){$e&&$e.message&&m.log($e.message),_t($e)})})});case 1:case"end":return Ye.stop()}},Te)}));return function(Te){return be.apply(this,arguments)}}(),U._registerEvent("OnPostTransferAsync2",ue),X!=null&&(K.Device=X.strDevice,K.DeviceMatchField=fm.SMF_NAME),ye.next=24,U._acquireImageFromServiceAsync(K);case 24:ye.next=29;break;case 26:throw ye.prev=26,ye.t0=ye.catch(13),ye.t0;case 29:return ye.prev=29,ye.prev=30,ye.next=33,oe;case 33:ye.next=37;break;case 35:ye.prev=35,ye.t1=ye.catch(30);case 37:return U._unregisterEvent("OnPostTransferAsync2"),U.__bAcquireImageNow=!1,un(ne),Py(ae),ye.finish(29);case 42:case"end":return ye.stop()}},Z,this,[[13,26,29,42],[30,35]])})),function(Z,ne,X,F){return Y.apply(this,arguments)})},{key:"_uidFromServer2index",value:function(Z){var ne,X=this;return X._resetErr(),!!X._isValid()&&(m.isString(Z)?((ne=X._imageBufferWrapper._uidFromServer2index(Z))==-1&&X._errorCode!=-2540&&Ok(X),ne):(_k(X),-1))}},{key:"_index2uidFromServer",value:function(Z){var ne=this;if(ne._resetErr(),!ne._isValid())return!1;var X=parseInt(Z);return isNaN(X)?(ir(ne),""):X<0||X>=this._imageBufferWrapper.count()?(tt(ne),""):ne._imageBufferWrapper._index2uidFromServer(Z)}},{key:"__LoadImageFromBytesV2",value:function(Z,ne,X,F,B,U,K,J,re,oe){var fe,ae=this,ue=ne||3,ye=0,be=Z.name,Te=!0,je=1;if(Z)if(Z instanceof Blob)ye=Z.size;else if(Gu(Z))ye=Z.byteLength;else if(Z instanceof Array)ye=Z.length;else{var Ye=Z;ye=Ye.size||Ye.byteLength||Ye.length}!isNaN(B)&&B>=0&&!isNaN(U)&&U>0?je=0:(B=0,U=0),fe=["[",ye,",",0,",",ue,',"',X,'",',B,",",U,",",J,",",je,",",K?"true":"false","]"].join("");var He=function(){if(ae.__bLoadingImage=!1,Te){var _t=ae._imageBufferWrapper.getCurrentImageIndex();_t>=0&&ae._innerRefreshUI(_t)}return m.isFunction(oe)&&oe(ae._errorCode,ae._getErrorString(),be),!1};return It.checkProductKey(ae,{Core:!0})||he.bWin&&It.checkProductKey(ae,{Webcam:!0},!0)?It.checkPDFProductKeyWhenNeeds(ae,ne)?ye===0?(Me(ae,-2312,"The file length is empty."),Te=!1,He()):this._innerSendBlob("LoadImageFromBytes",fe,Z,F,je,function(_t){if(ae.__bLoadingImage=!1,ae._isBindViewer()){var ct=ae._imageBufferWrapper.getCurrentImageIndex();F&&ct>=0&&ae._innerRefreshUI(ct)}if(m.isFunction(re)){var gt=_t;if(m.isArray(gt)&&(gt=gt.length>0?gt[0]:{}),F)setTimeout(function(){re(be,gt)},30);else try{re(be,gt)}catch($e){m.error($e.message)}}return ae._canConsume()&&V.DWT.lcvrf(ae),!0},He):(Te=!1,He()):(It.checkProductKey(ae,{Core:!0},!1),Te=!1,He())}},{key:"_innerSendBlob",value:function(Z,ne,X,F,B,U,K){var J=this;if(Fo.isServerInvalid(J))return J._waitForConnect().then(function(){J._innerSendBlob(Z,ne,X,F,B,U,K)});if(F)return J._innerSendBlobByWS(Z,ne,X,U,K),!0;var re,oe,fe,ae;return J._resetErr(),!!J._isValid()&&(oe=[J._httpUrl,"f/",Z].join(""),fe=vd(J._clientId,Z,ne,0,J._bScanForProxyRemote?J._dmServiceDWTVersion:""),fe+=`\r
\r
`,ae={method:"POST",url:oe,processData:!1,data:fe+=m.base64.encodeArray(X),async:!1,onSuccess:function(ue,ye,be){var Te=!1,je=!1;try{Te=m.isString(ue)&&cd(be.getResponseHeader("content-type"))?m.parse(ue):ue}catch{}if(Te!=null&&(oa(Te)?(J._errorCode=Te.exception,J._errorString=Te.description,J._errorCause=yo(Te)):J._resetErr(),(re=Te.result)&&m.isArray(re)&&re.length>=1))if(B){var Ye,He=re[0];He&&m.isObject(He)&&(Ye=He.imageInfos,J._errorCode==0&&m.isString(Ye)&&J._handleOnBitmapChangedEvent({result:["c1",Ye]},{document:X.currentFileName,tag:X.currentTagName}),je=!0)}else{var _t=re.join(",");J._errorCode==0&&_t.length>0&&J._OnBitmapChanged(["c1",_t,1,J._imageBufferWrapper.getCurrentImageIndex(),J._imageBufferWrapper.count()],null,{document:X.currentFileName,tag:X.currentTagName}),je=!0}je||(jT(J),re="")},onError:function(){vy(J),re=""}},m.mix(ae,{headers:{"X-Requested-With":!1}}),he.bFileSystem&&(ae.crossDomain=!1),wa(ae),J._errorCode==0?m.isFunction(U)&&U():m.isFunction(K)&&K(),re)}},{key:"_convertToBase64ByServerIdsWithUI",value:function(Z,ne,X,F,B,U,K){this._convertToBase64ByServerIdsWithUIAsync(Z,X,ne,F).then(function(J){m.isFunction(U)&&si(U,J)},function(){m.isFunction(K)&&K()})}},{key:"_OnPercentDone",value:function(Z){var ne,X,F,B,U,K=this,J=!1,re=!1,oe=0;m.isArray(Z)&&Z.length>2&&(X=Z[0],oe=Z[1],F=Z[2],Z.length>3&&(B=Z[3]),Z.length>4&&(U=Z[4]),Z.length>5&&Z[5],ne=oe,oe<0?ne=0:oe>100&&(ne=100),ne=Math.floor(ne),Q.cancelFrom!=or.HTTPUpload&&Q.cancelFrom!=or.HTTPDownload&&Q.cancelFrom!=or.Scan&&Q.cancelFrom!=or.HTTPPut||(re=U)),(K._bServerPercentDone||X==0)&&((oe>0||oe==0)&&(Q.cancelFrom!=or.HTTPUpload&&Q.cancelFrom!=or.HTTPDownload&&Q.cancelFrom!=or.FTPUpload&&Q.cancelFrom!=or.FTPDownload&&Q.cancelFrom!=or.HTTPPut||(J=!0)),K.IfShowProgressBar&&Q.progressBarOnPercentDone(oe,F,B,ne,re,this._containerElement),J==1&&(m.isFunction(K.__OnInternetTransferPercentage)&&K.__OnInternetTransferPercentage(ne,!1),m.isFunction(K.__OnInternetTransferPercentageEx)&&K.__OnInternetTransferPercentageEx(ne,!1)),m.isFunction(K.__OnPercentDone)&&K.__OnPercentDone())}},{key:"IfShowProgressBar",get:function(){return this._bIfShowProgressBar},set:function(Z){this._resetErr(),m.isBoolean(Z)?this._bIfShowProgressBar=Z:Ni(this)}},{key:"IfShowCancelDialogWhenImageTransfer",get:function(){return this.__IfShowCancelDialogWhenImageTransfer},set:function(Z){m.isBoolean(Z)?this.__IfShowCancelDialogWhenImageTransfer=Z:(this._resetErr(),Ni(this))}},{key:"_getLogLevel",value:function(){return this._logLevel}},{key:"_setLogLevel",value:(W=s(E().mark(function Z(ne){return E().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return this._logLevel=ne,X.next=3,this._innerFunV2("LogLevel",Ge(ne));case 3:case"end":return X.stop()}},Z,this)})),function(Z){return W.apply(this,arguments)})},{key:"MaxUploadImageSize",get:function(){return this.__maxUploadImageSize},set:function(Z){var ne=this;ne._resetErr();var X=1*Z;!m.isNumber(X)||isNaN(X)?Ni(ne):ne.__maxUploadImageSize=X}},{key:"HTTPRequestswithCredentials",get:function(){return this._resetErr(),this._bWithCredentials},set:function(Z){this._resetErr(),m.isBoolean(Z)?this._bWithCredentials=Z:Ni(this)}},{key:"cancelableObj",get:function(){return this._cancelableObj},set:function(Z){this._cancelableObj=Z}},{key:"_getProfile",value:(M=s(E().mark(function Z(ne){var X,F;return E().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if((X=this)._resetErr(),X._isValid()){B.next=4;break}throw{code:X._errorCode,message:X._errorString};case 4:return ne&&(F=m.stringify([ne.strDevice])),B.abrupt("return",X._innerFunV2("GetCustomDSDataEx",F));case 6:case"end":return B.stop()}},Z,this)})),function(Z){return M.apply(this,arguments)})},{key:"_setProfile",value:(D=s(E().mark(function Z(ne,X){var F,B;return E().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if((F=this)._resetErr(),F._isValid()){U.next=4;break}throw{code:F._errorCode,message:F._errorString};case 4:return B=ne?m.stringify([X,ne.strDevice]):Ge(X),U.abrupt("return",this._innerFunV2("SetCustomDSDataEx",B));case 6:case"end":return U.stop()}},Z,this)})),function(Z,ne){return D.apply(this,arguments)})},{key:"_removeAllImagesAsync",value:(T=s(E().mark(function Z(ne,X){var F,B,U,K,J,re;return E().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:if((F=this)._resetErr(),F._isValid()){oe.next=4;break}throw{code:F._errorCode,message:F._errorString};case 4:for(U=[],J=F._getHowManyImagesInBuffer(),K=J-1;K>=0;K--)(re=F._imageBufferWrapper.convertClientIndexToServerId(K))>-1&&U.push(re);if(U.length!=0){oe.next=13;break}return oe.next=10,F._innerFunV2("RemoveAllImages");case 10:B=oe.sent,oe.next=23;break;case 13:if(!X){oe.next=19;break}return oe.next=16,F._innerFunV2("RemoveAllImages",Ge(U.join(",")));case 16:B=oe.sent,oe.next=22;break;case 19:return oe.next=21,F._innerFunV2("RemoveAllImages");case 21:B=oe.sent;case 22:(B||F._errorCode==-1033)&&F._OnBitmapChanged(["c1",U.join(","),3,F._imageBufferWrapper.getCurrentImageIndex(),F._imageBufferWrapper.count()]);case 23:return oe.abrupt("return",B);case 24:case"end":return oe.stop()}},Z,this)})),function(Z,ne){return T.apply(this,arguments)})},{key:"__OnRecieveMsg",value:function(Z,ne){var X=this,F=ne==null?void 0:ne.cmd;if(Z.event)return x(A(n.prototype),"__OnRecieveMsg",this).call(this,Z,ne);if(oa(Z)?(X._errorCode=Z.exception,X._errorString=Z.description,X._errorCause=yo(Z)):F!="StartScan"&&F!="GetAddOnVersion"&&(X._errorCode=0,X._errorString=""),F=="ReadBarcode"||F=="OCRRecognize"||Z.request&&Z.request.method=="OCRProRecognize")return ne.sFun?(ne.sFun(Z),!0):(ne.fFun&&ne.fFun(Z),!0);if(F=="SetCapabilities"||F=="GetSkewAngleFromBinary"||F=="UpdateImage")return"exception"in Z&&Z.exception!="0"?(Z.result.errorCode&&Z.result.errorString?(X._errorCode=Z.result.errorCode,X._errorString=Z.result.errorString):(X._errorCode=Z.exception,X._errorString=Z.description),ne.fFun&&ne.fFun(Z.result),Z=null,!0):(ne.sFun&&ne.sFun(Z.result),Z=null,!0);if(Z.result&&Z.result.length&&(Z.result[0]=="1"||Z.result[0]==1||Z.result[0]=="ok"))return(ne.sFun||ne.sFun)&&ne.sFun(Z.result),!0;if(!Z.exception)return ne.sFun&&ne.sFun(Z.result),Z=null,!0;var B=!1;return ne.fFun&&(B=ne.fFun(X._errorString)),!B&&Z.exception&&Z.exception<0&&Z.exception!=-2115&&m.isFunction(X.__OnPrintMsg)&&X.__OnPrintMsg(X._errorString),!0}},{key:"_convertServerIdToGuid",value:function(Z){return this._serverId2uidFromServer(Z)}},{key:"_convertGuidToServerId",value:function(Z){return this._uidFromServer2ServerId(Z)}},{key:"_serverId2uidFromServer",value:function(Z){return this._imageBufferWrapper._serverId2uidFromServer(Z)}},{key:"_uidFromServer2ServerId",value:function(Z){return this._imageBufferWrapper._uidFromServer2ServerId(Z)}},{key:"_innerConvertToBlobWithUI",value:function(Z,ne,X,F,B,U){var K=this,J=arguments,re=function(oe){if(Q.needShowTwiceShowDialog=!1,m.isFunction(U)){var fe=[];m.isArray(X)&&m.each(X,function(ae){var ue=K._imageBufferWrapper.convertServerIdToClientIndex(ae);ue>-1&&fe.push(ue)}),oe&&(K._errorCode=oe.code,K._errorString=oe.message,oe.errorCause&&(K._errorCause=oe.errorCause)),U(fe)}return!1};K._innerConvertToArrayBufferWithUIAsync(Z,ne,X,F).then(function(oe){if(!oe||oe.byteLength<=0)return yk(K),re();var fe=K.__maxUploadImageSize;if(oe.byteLength>fe&&fe!=-1)return ou(K),re();if(Q.needShowTwiceShowDialog=!1,m.isFunction(B)){var ae=[];m.isArray(X)&&m.each(X,function(be){var Te=K._imageBufferWrapper.convertServerIdToClientIndex(be);Te>-1&&ae.push(Te)});var ue=Rt.getBlobTypeByImageType(ne),ye=new Blob([oe],{type:ue});try{B(ye,ae,J)}catch{}ye=null}return!0},re)}},{key:"convertToBlob",value:(b=s(E().mark(function Z(ne,X,F){var B,U,K,J;return E().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return U=Ll(B=this,X),Q.cancelFrom=or.ConvertToBlob,re.next=4,B._innerConvertToArrayBufferWithUIAsync("convertToBlob",ne,U,F);case 4:return K=re.sent,J=Rt.getBlobTypeByImageType(ne),re.abrupt("return",new Blob([K],{type:J}));case 7:case"end":return re.stop()}},Z,this)})),function(Z,ne,X){return b.apply(this,arguments)})},{key:"_innerConvertToArrayBufferWithUIAsync",value:(v=s(E().mark(function Z(ne,X,F,B,U){var K,J,re,oe;return E().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:return J=this,oe=(K=Q.progressContext)===null||K===void 0?void 0:K.IfShowCancelDialogWhenImageTransfer,fe.prev=2,J.IfShowProgressBar?Q.showProgress(J,ne,!1):Q.hideProgress(),J._OnPercentDone([0,-1,tn.Encoding]),Q.progressContext&&(Q.progressContext.IfShowCancelDialogWhenImageTransfer=!1),fe.next=8,this._innerConvertToArrayBufferAsync(X,F,B,U);case 8:re=fe.sent;case 9:return fe.prev=9,Q.progressContext&&(Q.progressContext.IfShowCancelDialogWhenImageTransfer=oe),J.IfShowProgressBar&&Q.closeProgress(null,ne),fe.finish(9);case 13:return fe.abrupt("return",re);case 14:case"end":return fe.stop()}},Z,this,[[2,,9,13]])})),function(Z,ne,X,F,B){return v.apply(this,arguments)})},{key:"_innerConvertToBase64Async",value:(S=s(E().mark(function Z(ne,X,F){var B,U,K,J,re,oe,fe,ae,ue;return E().wrap(function(ye){for(;;)switch(ye.prev=ye.next){case 0:return B=this,U=F,m.isString(U)&&U!=""||(U="{}"),K=["[",ne,',"',X.join(","),'",',U,",1]"].join(""),ye.next=5,B._sendDataByHttpAsync("ConvertToBase64",K,"text",!0);case 5:if(J=ye.sent,re=0,oe="",fe="",ae=J&&J.result,B._errorCode==0){ye.next=10;break}throw{code:B._errorCode,message:B._getErrorString()};case 10:if(!ae||!m.isArray(ae)||ae.length!=3){ye.next=18;break}return fe=ae[0],re=ae[1],oe=ae[2],ue=new GE(null,re,oe,fe),ye.abrupt("return",ue);case 18:throw jY(B),{code:B._errorCode,message:B._errorString};case 20:case"end":return ye.stop()}},Z,this)})),function(Z,ne,X){return S.apply(this,arguments)})},{key:"_convertToBase64ByServerIdsWithUIAsync",value:(g=s(E().mark(function Z(ne,X,F,B){var U,K,J;return E().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return K=this,J=(U=Q.progressContext)===null||U===void 0?void 0:U.IfShowCancelDialogWhenImageTransfer,re.prev=2,K.IfShowProgressBar?Q.showProgress(K,ne,!1):Q.hideProgress(),K._OnPercentDone([0,-1,tn.Encoding]),Q.progressContext&&(Q.progressContext.IfShowCancelDialogWhenImageTransfer=K.IfShowCancelDialogWhenImageTransfer),re.next=8,this._innerConvertToBase64Async(X,F,B);case 8:return re.abrupt("return",re.sent);case 9:return re.prev=9,Q.progressContext&&(Q.progressContext.IfShowCancelDialogWhenImageTransfer=J),K.IfShowProgressBar&&Q.closeProgress(null,ne),re.finish(9);case 13:case"end":return re.stop()}},Z,this,[[2,,9,13]])})),function(Z,ne,X,F){return g.apply(this,arguments)})},{key:"_convertToBlobForUpload",value:function(Z,ne,X,F,B,U,K){var J=this,re=arguments;if(V.DWT.ConnectWithSocket){var oe=X,fe=",";m.isString(oe)&&oe!=""||(oe="",fe="");var ae=["[",Z,',"',ne.join(","),'"',fe,oe,"]"].join("");return Q.cancelFrom=or.ConvertToBlob,Q.progressContext&&(Q.progressContext.IfShowCancelDialogWhenImageTransfer=!1),J._sendData("ConvertToBlob",ae,!0,function(ue){J._resetErr();var ye=ue;if(ye){if(ye instanceof Blob||Gu(ye))return void B(ye,"",re);oa(ye)&&(J._errorCode=ye.exception,J._errorString=ye.description,J._errorCause=yo(ye))}},function(ue){J._errorCode=ue.code,J._errorString=ue.message,U(ue)}),!0}J._innerConvertToArrayBufferAsync(Z,ne,X,"arraybuffer").then(function(ue){var ye=J._strHttpContentTypeFieldValue,be=new Blob([ue],{type:ye});if(V.DWT.IfAddMD5InUploadHeader){var Te=new t0.ArrayBuffer;Te.append(ue),m.isFunction(B)&&B(be,Te.end(),re)}else m.isFunction(B)&&B(be,"",re);be=null},function(ue){U(ue.code,ue.message)})}},{key:"dispose",value:(p=s(E().mark(function Z(){return E().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return ne.abrupt("return",this.__unload());case 1:case"end":return ne.stop()}},Z,this)})),function(){return p.apply(this,arguments)})},{key:"_innerDisposeWSClient",value:function(){return this._isValid()?this._sendData("dispose",null,!0,function(){},function(){}):Q.Promise.reject()}},{key:"__unload",value:(c=s(E().mark(function Z(){var ne,X,F,B,U;return E().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:if(!(ne=this)._bReady||Q.page.bUnload){K.next=10;break}if(!ne._wsClient){K.next=10;break}return K.prev=3,K.next=6,ne._innerDisposeWSClient();case 6:K.next=10;break;case 8:K.prev=8,K.t0=K.catch(3);case 10:if(!(F=ne._wsClient)){K.next=26;break}F.removeEvent("close",ne._clientId),F.removeEvent("error",ne._clientId),F.removeEvent("timeout",ne._clientId);try{for(;ne._evt_ids.length>0;)(B=ne._evt_ids.pop())in F._tasks&&(U=F._tasks[B])&&(U.resolver&&(U.resolver.promise=null,U.resolver.resolve=null,U.resolver.reject=null,delete U.resolver),U.ctx&&(U.ctx.client=null,U.ctx.userData&&(U.ctx.userData.stwain=null,U.ctx.userData.command=null,delete U.ctx.userData),delete U.ctx),delete F._tasks[B])}catch{}return K.prev=16,K.next=19,F.dispose();case 19:K.next=24;break;case 21:K.prev=21,K.t1=K.catch(16),X=K.t1;case 24:delete ne._wsClient,ne._wsClient=null;case 26:if(this._imageBufferWrapper.dispose(),this._bReady=Oe,this._destroy=at,this._cancelableObj=null,this._containerElement=null,this.__OnInternetTransferPercentage=null,this.__OnInternetTransferPercentageEx=null,this.__OnPercentDone=null,this.__licenseInfo=null,this._wsCheckResolve=null,this._wsCheckReject=null,this._heartBeatTimer=null,this._serverInfo=null,this._dmService=null,this.__OnPostTransferAsync=null,this.__OnPostTransferAsync2=null,this.__OnBitmapChanged=null,this.__OnCurrentDeviceSelected=null,this.__OnPrintMsg=null,this.__OnWSReconnect=null,this.__OnWSClose=null,this.__OnWSMessage=null,this.__OnWSError=null,this._imageBufferWrapper=null,this._aryBitmapCache=null,this._acquireDivEL=null,this.__OnRefreshUI=null,this.__OnLtsverify=null,this.__OnRemoteScanStatusAsync=null,this.__OnBufferChanged=null,!X){K.next=58;break}throw X;case 58:case"end":return K.stop()}},Z,this,[[3,8],[16,21]])})),function(){return c.apply(this,arguments)})},{key:"_getImages",value:(l=s(E().mark(function Z(ne,X,F,B){var U,K,J,re;return E().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:if((U=this)._checkIndices(X)){oe.next=3;break}throw{code:this._errorCode,message:this._errorString};case 3:if(B!=tc.URL){oe.next=9;break}if(!(X.length>1)){oe.next=7;break}throw QY(this),{code:this._errorCode,message:this._errorString};case 7:oe.next=13;break;case 9:if(F!=V.DWT.EnumDWT_ImageType.IT_BMP&&F!=V.DWT.EnumDWT_ImageType.IT_JPG&&F!=V.DWT.EnumDWT_ImageType.IT_PNG){oe.next=13;break}if(!(X.length>1)){oe.next=13;break}throw KY(this),{code:this._errorCode,message:this._errorString};case 13:if(B!=tc.URL){oe.next=17;break}return oe.abrupt("return",this._imageBufferWrapper.getImageUrl(X[0]));case 17:if(Q.cancelFrom=or.Other,K=Ll(U,X),B!=tc.Blob){oe.next=27;break}return oe.next=22,this._innerConvertToArrayBufferWithUIAsync(ne,F,K);case 22:return J=oe.sent,re=Rt.getBlobTypeByImageType(F),oe.abrupt("return",new Blob([J],{type:re}));case 27:if(B!=tc.Base64){oe.next=31;break}return oe.next=30,this._convertToBase64ByServerIdsWithUIAsync(ne,F,K);case 30:return oe.abrupt("return",oe.sent);case 31:throw Ek(this),{code:this._errorCode,message:this._errorString};case 33:case"end":return oe.stop()}},Z,this)})),function(Z,ne,X,F){return l.apply(this,arguments)})},{key:"_LicensePromptExpired",value:function(){var Z=this,ne=Z.__licenseInfo.bTrial,X="";Z.__licenseInfo&&Z.__licenseInfo.ExpireDate&&(X=Z.__licenseInfo.ExpireDate);var F=uN(X);F<=0&&(ne||qr(Z._getErrorString()),m.isFunction(V.OnLicenseExpiredWarning)&&V.OnLicenseExpiredWarning(GT(X),F,ne))}},{key:"__saveToViewerAfterUpdate",value:function(Z,ne){var X=this,F=this._imageBufferWrapper.getIndexByUid(Z),B=this._imageBufferWrapper.convertClientIndexToServerId(F),U=Nr.getUrlByAct(this._imageBufferWrapper.BaseUrl,B,2);return new Q.Promise(function(K,J){wa({method:"GET",xhrFields:{withCredentials:!0},url:U,onSuccess:function(re){var oe,fe=X._imageBufferWrapper.getMetadataByIndex(F);fe||(fe={}),fe.width=ne.width,fe.height=ne.height,oe=V.navInfoSync.bMobile?X._imageBufferWrapper.getMinImageUrl(F,Math.round(fe.controlWidth*devicePixelRatio),Math.round(fe.controlHeight*devicePixelRatio)):X._imageBufferWrapper.getMinImageUrl(F,fe.controlWidth,fe.controlHeight);var ae=X._imageBufferWrapper.getImageIdMap(B);if(ae){ae.ticks=Date.now(),ae.imageUrl=X._imageBufferWrapper.getImageUrl(F),ae.minImageUrl=oe,ae.width=ne.width,ae.height=ne.height;var ue=m.clone(ae);ue.imageId=B,X._imageBufferWrapper.UpdateImage(ue,fe)}K()},onError:function(){K(),un("save")}})})}},{key:"RunCommandAsync",value:(d=s(E().mark(function Z(ne){var X,F,B,U,K,J;return E().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:if(X=this,ne&&m.isString(ne.command)&&ne.parameter){re.next=4;break}throw fr(X),{code:X._errorCode,message:X._errorString};case 4:if(ne.command!="Invert"){re.next=6;break}return re.abrupt("return",X._invert(ne.parameter.index));case 6:if(F=ne.parameter.index,!m.isNumber(F)){re.next=13;break}if(!(isNaN(F)||!m.isNumber(F)||F<0||F>=X._imageBufferWrapper.count())){re.next=11;break}throw tt(X),{code:X._errorCode,message:X._errorString};case 11:B=X._imageBufferWrapper.convertClientIndexToServerId(F),ne.parameter.index=B;case 13:return U=["[",m.stringify(ne),"]"].join(""),re.next=16,X._innerFunRawV3("runCommand",U);case 16:if(K=re.sent,!he.bIE){re.next=21;break}if(!m.isString(K)){re.next=20;break}return re.abrupt("return",m.parse(K));case 20:return re.abrupt("return",K);case 21:if(!cd(J=K.headers.get("content-type"))){re.next=28;break}return re.next=25,K.json();case 25:return re.abrupt("return",re.sent);case 28:if(J!="text/plain"&&J!="text/html"){re.next=32;break}return re.next=31,K.text();case 31:return re.abrupt("return",re.sent);case 32:return re.next=34,K.blob();case 34:return re.abrupt("return",re.sent);case 35:case"end":return re.stop()}},Z,this)})),function(Z){return d.apply(this,arguments)})},{key:"_innerFunRawV3",value:(u=s(E().mark(function Z(ne,X){var F,B,U;return E().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:if(U="fa/",(F=this)._resetErr(),F._isValid()){K.next=4;break}throw{code:F._errorCode,message:F._errorString};case 4:if(!Fo.isServerInvalid(F)){K.next=7;break}return K.abrupt("return",F._waitForConnect().then(function(){return F._innerFunRawV3(ne,X)}));case 7:return B={method:"post",body:vd(F._clientId,ne,X,0,F._bScanForProxyRemote?F._dmServiceDWTVersion:""),fetchRaw:!0},K.next=10,Mf([F._httpUrl,U,ne].join(""),B);case 10:return K.abrupt("return",K.sent);case 11:case"end":return K.stop()}},Z,this)})),function(Z,ne){return u.apply(this,arguments)})},{key:"_invert",value:(a=s(E().mark(function Z(ne){var X,F,B,U,K;return E().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(X=this,F=parseInt(ne),X._resetErr(),X._isValid()){J.next=4;break}throw{code:X._errorCode,message:X._errorString};case 4:if(!isNaN(F)){J.next=7;break}throw ir(X),{code:X._errorCode,message:X._errorString};case 7:if(!(F<0||F>=X._imageBufferWrapper.count())){J.next=10;break}throw tt(X),{code:X._errorCode,message:X._errorString};case 10:if((B=X._imageBufferWrapper.convertClientIndexToServerId(F))!=-1){J.next=14;break}throw tt(X),{code:X._errorCode,message:X._errorString};case 14:return J.next=16,X._innerFunV2("Invert",Ge(B),!0);case 16:if(U=J.sent,!(K=U==1)){J.next=22;break}Rt.refreshImageAfterInvokeFun(X,F),J.next=23;break;case 22:throw{code:X._errorCode,message:X._errorString};case 23:return J.abrupt("return",K);case 24:case"end":return J.stop()}},Z,this)})),function(Z){return a.apply(this,arguments)})}],[{key:"create",value:(o=s(E().mark(function Z(ne){var X;return E().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return X=new n(ne),F.next=3,Fo.STwainConnectToServer(X);case 3:return F.abrupt("return",X);case 4:case"end":return F.stop()}},Z)})),function(Z){return o.apply(this,arguments)})}]);var o,a,u,d,l,c,p,g,S,v,b,T,D,M,W,Y,ee,te,de}(lde);function lU(t){var n=t,o="",a=!1;if(n&&n.__licenseInfo&&(n.__licenseInfo.ExpireDate&&(o=n.__licenseInfo.ExpireDate),a=n.__licenseInfo.bTrial),a&&!V.DWT.HideTrialMessage){var u=uN(o);u<=5&&(m.isFunction(V.OnLicenseExpiredWarning)&&V.OnLicenseExpiredWarning(GT(o),u,!0),V.DWT.HideTrialMessage=!0)}}function cU(t,n,o){var a;if(!m.isArray(t))return fd(o),!1;if(t.length==0)return mk(o),!1;if(V.DWT.ConnectWithSocket)return!0;for(a=0;a<t.length;a++){var u=t[a];if(m.isUndefined(u)||u===null)return zT(o),!1;if(u=parseInt(u),isNaN(u))return ir(o),!1;if(u<0||u>=n)return HT(o),!1}return!0}var el={changeImageUISize:function(t){if(!V.DWT.UseDefaultViewer||!t._containerElement)return at;var n,o,a,u,d=t._width,l=t._height,c=Oe;if(n=Pe.one(t._containerElement),m.isString(d)&&(d.indexOf("%")>0||d.indexOf("rem")>0))a=d,c=at;else{var p=d;m.isString(d)&&d.indexOf("px")>0&&(p=parseInt(d)),m.isNumber(p)?a=[(p=parseInt(d))+2,"px"].join(""):m.isString(p)&&(a=p)}if(m.isString(l)&&(l.indexOf("%")>0||l.indexOf("rem")>0))u=l,c=at;else{var g=l;m.isString(l)&&l.indexOf("px")>0&&(g=parseInt(l)),m.isNumber(g)?u=[(g=parseInt(l))+2,"px"].join(""):m.isString(g)&&(u=g)}return n&&(o=Pe.one(".dynamsoft-dwt-container-box",n))&&o.getEL()&&(m.isString(a)&&o.style("width",a),m.isString(u)&&o.style("height",u)),c?(t.__funResize||(t.__funResize=function(){return t._ImgManager&&t._UIView&&t._containerElement?t._UIView.ChangeSize(t._width,t._height):at}),m.removeEventListener(window,"resize",t.__funResize),m.addEventListener(window,"resize",t.__funResize)):t.__funResize&&(m.removeEventListener(window,"resize",t.__funResize),t.__funResize=Oe),t._ImgManager&&t._UIView&&t._containerElement?t._UIView.ChangeSize(a,u):at},__innerGetUIViewRealSize:function(t,n,o){var a,u=-1,d=-1;return a=Pe.one(t),m.isString(n)&&n.indexOf("%")>0&&(u=Pe.css(a,"width")*parseInt(n)/100),u<0&&n&&(u=parseInt(n)),m.isString(o)&&o.indexOf("%")>0&&(d=Pe.css(a,"height")*parseInt(o)/100),d<0&&o&&(d=parseInt(o)),{width:u,height:d}},bindUIViewEvents:function(t,n){var o=t;n.onBufferChanged=function(a){if(m.isFunction(o.__OnBufferChanged))try{o.__OnBufferChanged(a)}catch(u){qr(u)}},V.DWT.UseDefaultViewer&&(n.onSelected=function(a){if(!o._isNoViewer()){var u,d=a.length;d>0&&(o._ImgManager.SetSelectedImageCount(d),u=a[d-1],m.isFunction(o.__OnRefreshUI)&&o.__OnRefreshUI(u))}},n.onRefreshUI=function(a){o._isNoViewer()||el.__innerRefreshFromUIView(o,a)},n.onResetCurrentIndex=function(a){if(!o._isNoViewer()){var u=o._ImgManager.getCurrentImageIndex();if(a>=0&&a<o._ImgManager.count()&&u!=a&&m.isFunction(o.__OnIndexChangeDuringDragDrop))try{o.__OnIndexChangeDuringDragDrop(u,a)}catch(d){qr(d)}}},n.onMouseMove=function(a){if(!o._isNoViewer()){var u=a.index;if(a){var d=a.x,l=a.y;o.__MouseX=d,o.__MouseY=l}if(m.isFunction(o.__OnMouseMove))try{o.__OnMouseMove(u)}catch(c){qr(c)}}},n.onMouseClick=function(a){if(!o._isNoViewer()){var u=a.index;if(a){var d=a.x,l=a.y;o.__MouseX=d,o.__MouseY=l}if(m.isFunction(o.__OnMouseClick))try{o.__OnMouseClick(u)}catch(c){qr(c)}}},n.onMouseDoubleClick=function(a){if(!o._isNoViewer()){var u=a.index;if(m.isFunction(o.__OnMouseDoubleClick))try{o.__OnMouseDoubleClick(u)}catch(d){qr(d)}}},n.onMouseRightClick=function(a){if(!o._isNoViewer()){var u=a.index;if(a){var d=a.x,l=a.y;o.__MouseX=d,o.__MouseY=l}if(m.isFunction(o.__OnMouseRightClick))try{return o.__OnMouseRightClick(u)}catch(c){qr(c)}return at}},n.onImageAreaSelected=function(a){if(!o._isNoViewer()&&m.isFunction(o.__OnImageAreaSelected))try{o.__OnImageAreaSelected(a.index,a.left,a.top,a.right,a.bottom,a.areaIndex)}catch(u){qr(u)}},n.onImageAreaDeSelected=function(a){if(!o._isNoViewer()&&m.isFunction(o.__OnImageAreaDeSelected))try{o.__OnImageAreaDeSelected(a)}catch(u){qr(u)}})},__innerRefreshFromUIView:function(t,n){var o=t;m.isFunction(o.__OnRefreshUI)&&o.__OnRefreshUI(n)}};function Sr(t,n,o){n in t||Object.defineProperty(t,n,o)}var dde=function(){return _(function t(n){h(this,t);var o=this;o._parent=n,Sr(o,"width",{get:function(){return this._parent._width},set:function(a){this.SetSize(a,!1)}}),Sr(o,"height",{get:function(){return this._parent._height},set:function(a){this.SetSize(!1,a)}})},[{key:"SetSize",value:function(t,n){var o,a=this._parent,u=!1,d=!1;return!!a._isBindViewer()&&(m.isString(t)&&t.length>0&&t.charAt(t.length-1)==="%"&&(u=t),!u&&t&&(o=parseInt(t))&&(u=o+"px"),m.isString(n)&&n.length>0&&n.charAt(n.length-1)==="%"&&(d=n),!d&&n&&(o=parseInt(n))&&(d=o+"px"),u!==!1&&(a._width=u),d!==!1&&(a._height=d),el.changeImageUISize(a))}}])}();function dU(t){var n,o,a,u,d=t._config;Q.dlgProgress||Q.initProgress(t),d.bNoViewer?t._containerElement=null:(d.container?t._containerElement=d.container:d.containerId&&(t._containerElement=m.get(d.containerId)),t._width=d.width,t._height=d.height,n=Pe.one(t._containerElement)),function(l,c){var p={Stwain:l};if(c){var g=l._width,S=l._height;m.isString(g)&&g.indexOf("px")>0&&(g=parseInt(g)),m.isString(S)&&S.indexOf("px")>0&&(S=parseInt(S)),p={Stwain:l,Container:c,Width:g,Height:S}}el.bindUIViewEvents(l,p),l._UIView?l._UIView._Init(p):l._UIView=new Q.UI.ImageUIView(l,p),V.DWT.UseDefaultViewer&&(m.isNumber(l.Width)&&l.Width<=0&&(l.Width=270),m.isNumber(l.Height)&&l.Height<=0&&(l.Height=350),l._containerElement&&el.changeImageUISize(l))}(t,n),t._isBindViewer()&&(o=t,a=t._config,u=a||{},o.__OnImageAreaDeSelected=u.onImageAreaDeSelected||"",o.__OnImageAreaSelected=u.onImageAreaSelected||"",o.__OnMouseClick=u.onMouseClick||"",o.__OnMouseDoubleClick=u.onMouseDoubleClick||"",o.__OnMouseMove=u.onMouseMove||"",o.__OnMouseRightClick=u.onMouseRightClick||"",o.__OnTopImageInTheViewChanged=u.onTopImageInTheViewChanged||"",o.__OnBufferChanged=u.onBufferChanged||"",t.__OnMouseClick=d.onMouseClick||"",t.__OnThumbnailMouseClick="",t.__OnKeyDown=d.onKeyDown||"",t.__OnMouseWheel=d.onMouseWheel||"",t.__OnMouseDoubleClick=d.onMouseDoubleClick||"",t.__OnMouseRightClick=d.onMouseRightClick||"",t.__OnMouseMove=d.onMouseMove||"",t.__OnImageAreaSelected=d.onImageAreaSelected||"",t.__OnImageAreaDeSelected=d.onImageAreaDeSelected||"",t.__OnRefreshUI=d.onRefreshUI||"",t.__OnBufferChanged=d.onBufferChanged||"",t.__MouseX=0,t.__MouseY=0,t.__style=new dde(t),t.__fSelectionRectAspectRatio=0)}Q.install={_divDWTNonInstallContainerID:"dwt-NonInstallContainerID",_divDWTemessageContainer:"",_dlgInstall:!1},Q.install._strNonInstallDIV=['<div style="text-align:center;" id="',Q.install._divDWTNonInstallContainerID,'"></div>'].join("");var yu=V.DWT;yu.CloseDialog=function(){var t=Q.install._dlgInstall;if(t){var n=m.sizzle(".dynamsoft-dialog-close");m.each(n,function(o,a){m.removeEventListener(o,"click",yu.CloseDialog)}),t.getAttribute("opened")=="true"&&t.close(),document.body.removeChild(t),Q.install._dlgInstall=!1}},yu.ShowDialog=function(t,n,o,a,u){if(o!==!1){var d,l={width:t,height:n,position:"absolute"};a?(d=['<div class="dynamsoft-dwt-dialog-body">',o,"</div>"].join(""),l.closeButton=!1):d=['<div class="ds-dwt-ui-showdlg">','<div class="dynamsoft-dwt-dialog-body">','<div class="dynamsoft-dwt-dlg-header">',u?"":'<div class="dynamsoft-dialog-close"></div>',"</div>",o,"</div>","</div>"].join(""),u&&(l.closeButton=!1),yu.ShowMessage(d,l)}},yu.ShowMessage=function(t,n){var o,a,u,d,l,c=Q.install,p="ds-dwt-ui-dlg",g="ds-dwt-ui-dlg-wrap",S=screen.width,v=!0,b=0,T=!0,D=!0,M=0,W="fixed",Y="Error",ee=ke.bActiveXEdition,te=!1,de=null;if(n&&(o=n.width,a=n.height,n.seconds&&(b=n.seconds),n.headerStyle&&(M=n.headerStyle),n.backgroundStyle==1&&(te=!0),n.closeButton===!1&&(T=!1),n.bAutoClose&&(u=n.bAutoClose,T=!0),n.bReadyClosed==0&&(v=!1),n.position&&(W=n.position),n.caption&&(Y=n.caption),m.isFunction(n.onClose)&&(de=n.onClose)),o?!he.bMobile&&o>S-10&&(o=S-10):o=S>600?600:S-10,a||(a="100%"),M==1?t=['<div class="dynamsoft-dialog">','<div class="dynamsoft-dwt-dialog-body">','<div class="dynamsoft-dwt-dlg-header">',T?'<div class="dynamsoft-dialog-close"></div>':"","</div>",t,"</div></div>"].join(""):M==2&&(t=['<div class="dynamsoft-dialog">','<div class="dynamsoft-dwt-ltsdlg-header"><span style="color:#FFF;line-height:35px;margin-left:15px">',Y,"</span>",T?'<div class="dynamsoft-dialog-close"></div>':"","</div>",'<div class="dynamsoft-dwt-ltsdlg-body" style="padding:25px 40px 20px 40px;">',t,"</div></div>"].join("")),m.sizzle("."+p).length==0){var Z=document.createElement("div"),ne=document.createElement("div"),X=document.createElement("div");if(Z.className=p,ne.className=g,ne.style.margin="auto",ne.style.zIndex="9999",ne.style.position="relative",ne.style.border="0",u&&((d=document.createElement("div")).className="dynamsoft-dialog-close",ne.insertBefore(d,ne.firstElementChild),(l=document.createElement("div")).className="dynamsoft-dialog-closeTimer",l.style.width="100%",l.style.height="2px",l.style.marginTop="-2px",l.style.backgroundColor="#fe8e14",ne.insertBefore(l,ne.firstElementChild)),ne.appendChild(X),HE(X,t),Z.appendChild(ne),document.body.appendChild(Z),de){var F=Pe.one(".dynamsoft-dialog-close",Pe.one(Z));F&&((F=F[0]).onClose=function(){m.removeEventListener(F,"click",F.onClose),F.onClose=null,de()},m.addEventListener(F,"click",F.onClose))}if(te?Pe.setBackOpacity({opacity:.4,grayHex:0}):Pe.setBackOpacity({}),Z.bTopmost=!0,c._dlgInstall=Z,Pe.dialog.setup(c._dlgInstall,!1),he.bIE){var B=document.createElement("iframe");B.frameborder="0",B.marginheight="0",B.marginwidth="0",B.style.border="0",B.style.backgroundColor="transparent",B.style.position="absolute",B.style.left=0,B.style.top=0,B.style.width="100%",B.style.height=document.body.clientHeight+"px",B.style.margin="0 auto",B.style.zIndex="10000",B.src=["javas","cript:",'""'].join("");var U=Pe.one(".dynamsoft-backdrop");if(U&&U.length>0){for(var K=U[0];K.firstChild;)K.removeChild(K.firstChild);K.style.zIndex="10000",K.appendChild(B)}}}else D=!1;var J=Pe.one("."+g);if(J&&J.getEL()&&(J[0].style.width=o+"px",m.isNumber(a)&&a>0?J[0].style.height=a+"px":J[0].style.height="100%",D||m.each(J[0].childNodes,function(fe){if(fe.tagName=="DIV"&&fe.className!="dynamsoft-dialog-close"&&fe.className!="dynamsoft-dialog-closeTimer")return HE(fe,t),!1})),ee){var re=Pe.one(".dynamsoft-dialog");re&&re.getEL()&&(re.getEL().style.border="1px solid #999")}if(c._dlgInstall.getAttribute("opened")=="true"&&c._dlgInstall.close(),c._dlgInstall.showModal({position:W}),c._dlgInstall.bReadyClosed=v,te&&Pe.setBackOpacity({}),T){var oe=m.sizzle(".dynamsoft-dialog-close");m.each(oe,function(fe,ae){m.addEventListener(fe,"click",yu.CloseDialog)}),oe.length>0&&u&&b>0&&setTimeout(Q._zdgb_xkz_dhk,100)}},yu.OnWebTwainPreExecute||(yu.OnWebTwainPreExecute=function(t,n){var o,a,u,d=V.DWT.IfConfineMaskWithinTheViewer;if(d&&(t&&(a=t._containerElement),a||V.DWT.Containers&&V.DWT.Containers.length>0&&V.DWT.Containers[0].ContainerId&&(a=m.get(V.DWT.Containers[0].ContainerId)),a))for(o=a.getBoundingClientRect(),u=0;u<a.children.length;u++){var l=a.children[u];if(l&&l.className=="dvs-root dvs-web-viewer"){for(l=l.firstElementChild;l;){if(m.isFunction(l.getBoundingClientRect)){o=l.getBoundingClientRect();break}l=l.nextSibling}a=l;break}}(a===document.body||o==null||V.DWT.Containers&&V.DWT.Containers.length>1||V.DWT.Containers&&V.DWT.Containers.length==1&&(o.width==0||o.height==0))&&(d=!1,a=null);var c=n??{};d&&(c={confined:d,wrapperEl:a}),Q.showMask(c)}),yu.OnWebTwainPostExecute||(yu.OnWebTwainPostExecute=function(){Pe.hideMask()});function HE(t,n){document.body&&Pe.setHtml(t,n)}function fde(t,n){(function(o,a){if(a.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,n),n.add(t)}function sg(t,n,o){if(typeof t=="function"?t===n:t.has(n))return arguments.length<3?n:o;throw new TypeError("Private element is not present on this object")}window.DCP_DWT_OnClickCloseInstall=function(t,n){n||V.DWT.CloseDialog();var o=m.get(Q.install._divDWTNonInstallContainerID);if(o&&o.parentNode&&o.parentNode.removeChild(o),t&&m.isDOM(t)&&m.show(t),t&&m.isString(t))m.show(t);else{var a=V.DWT.WebTwainIdMap;if(a){var u,d,l=Object.keys(a);for(u=0;u<l.length;u++)a[d=l[u]]._containerElement&&m.show(a[d]._containerElement)}}Q.install._divDWTemessageContainer!=""&&m.show(Q.install._divDWTemessageContainer)},Q._zdgb_xkz_dhk=function(){var t=Q.install._dlgInstall;if(t){var n=m.sizzle(".dynamsoft-dialog-closeTimer",t);if(n.length>0){var o=n[0],a=parseInt(o.style.width);(a-=1)<=0?V.DWT.CloseDialog():(o.style.width=a+"%",setTimeout(Q._zdgb_xkz_dhk,100))}}},Q.ShowLicenseDialog=V.DWT.ShowMessage,Q.createLoadingBarContent=function(){};var Ah=new WeakSet,hde=function(t){function n(v){var b;return h(this,n),fde(b=f(this,n,[v]),Ah),b}return P(n,t),_(n,[{key:"_getWSContextData",value:function(){return{document:this._getCurrentDocumentName(),tag:this._getCurrentDefaultTagName(),bNeedClearTag:!1}}},{key:"_getErrorString",value:function(){var v=this;return v._errorCode==-2207&&v._bMustUpgradeService&&Rf(v),v._errorCode!=0?v._errorString:"Successful."}},{key:"_getWebTwainId",value:function(){return this._id}},{key:"_isTwainServiceType",value:function(){return!0}},{key:"_isPC",value:function(){return he.bWin||he.bMac||he.bLinux}},{key:"_serviceSyncMethodNotSupport",value:function(v){var b=this;return Me(b,-2605,'The synchronized method "'+v+'" is not supported under the current settings.'),{code:b._errorCode,message:b._getErrorString()}}},{key:"_serviceAsyncMethodNotSupport",value:function(v){var b=this;return Me(b,-2606,'The asynchronized method "'+v+'" is not supported under the current settings.'),{code:b._errorCode,message:b._getErrorString()}}},{key:"_serviceNotSupportAsync",value:function(v){var b=this;return Me(b,-2397,v+" doesn't work under current settings."),Pe.Promise.reject({code:b._errorCode,message:b._getErrorString()})}},{key:"_nouiNotSupport",value:function(v,b){var T=this;return Me(T,-2210,"You cannot call this method on this WebTwain instance because it does not use the default viewer."),m.isFunction(b)&&b(T._errorCode,T._getErrorString()),!1}},{key:"_innerFunRaw",value:function(v,b,T,D,M,W,Y){var ee,te,de,Z,ne=this,X="f/",F=T;if(F&&(X="fa/"),V.DWT.ConnectWithSocket)this._sendData(v,b,!1,W,Y);else{if(ne._resetErr(),!ne._isValid())return!!F&&void 0;var B=Fo.isServerInvalid(ne);if(F&&B)return ne._waitForConnect().then(function(){return ne._innerFunRaw(v,b,F,D,M,W,Y)});if(!F&&B)return wk(ne),!1;if(de={method:"POST",url:ee=[ne._httpUrl,X,v].join(""),data:te=vd(ne._clientId,v,b,0,ne._bScanForProxyRemote?ne._dmServiceDWTVersion:""),async:F,onSuccess:function(K,J,re){var oe=!1;try{oe=m.isString(K)&&cd(re.getResponseHeader("content-type"))?m.parse(K):K}catch{}oe?(oa(oe)?(ne._errorCode=oe.exception,ne._errorString=oe.description,ne._errorCause=yo(oe)):ne._resetErr(),Z=M?oe:oe.result):(jT(ne),Z=""),m.isFunction(W)&&W(Z),F&&(Z=null)},onError:function(){vy(ne),Z="",!Q.page.bUnload&&m.isFunction(Y)&&Y()}},!F&&D)he.bIE?(de.dataType="arraybuffer",de.onSuccess=function(K,J,re){var oe,fe,ae,ue=!1;if(re.responseHeadersString&&uk(re.responseHeadersString)&&(ue=!0),oe=re.responseData,ne._resetErr(),Z=!1,oe&&(fe=new Uint8Array(oe),ue?oe=String.fromCharCode.apply(null,fe):(Z=new Blob([fe],{type:ne._strHttpContentTypeFieldValue}),(ae=new t0.ArrayBuffer).append(fe),Z.md5=ae.end())),!oe||ue){var ye,be=!1;if((ye=ue?oe:re.responseText).length>0){if(ye.charAt(0)=="{")try{be=m.parse(ye),ue=!0}catch{m.log(ye)}ue?oa(be)?(ne._errorCode=be.exception,ne._errorString=be.description,ne._errorCause=yo(be),Z=!1):Z=!0:(fe=new Uint8Array(ye),Z=new Blob([fe],{type:ne._strHttpContentTypeFieldValue}),(ae=new t0.ArrayBuffer).append(fe),Z.md5=ae.end())}}m.isFunction(W)&&W(Z)}):(F||(de.dataType="text",de.contentType="text/plain; charset=x-user-defined",de.mimeType="text/plain; charset=x-user-defined"),de.onSuccess=function(K,J,re){var oe,fe,ae;if(ne._resetErr(),(fe=(oe=re.responseText).length)>0){var ue,ye=!1;if(oe.charAt(0)=="{")try{ue=m.parse(oe),ye=!0}catch{m.log(oe)}if(ye)oa(ue)?(ne._errorCode=ue.exception,ne._errorString=ue.description,ne._errorCause=yo(ue),Z=!1):Z=!0;else{ae=new Uint8Array(fe);for(var be=0;be<fe;be++)ae[be]=oe.charCodeAt(be);Z=new Blob([ae],{type:ne._strHttpContentTypeFieldValue});var Te=new t0.ArrayBuffer;Te.append(ae),Z.md5=Te.end()}}else Z="";m.isFunction(W)&&W(Z)});else if(F&&D){de={method:"POST",body:te},he.bIE?de.dataType="arraybuffer":de.fetchRaw=!0;var U=Mf(ee,de);return he.bIE||(U=U.then(function(K){var J=K.headers.get("content-type");return J.indexOf("image/")>=0||J.indexOf("application/octet-stream")>=0?K.arrayBuffer():K.json()})),U=U.then(function(K){if(ne._resetErr(),Gu(K))return m.isFunction(W)&&W(K),void(K=null);if(m.isObject(K)){var J=K;if(oa(J))ne._errorCode=J.exception,ne._errorString=J.description,ne._errorCause=yo(J),m.isFunction(Y)&&Y();else{var re="";J.result&&(re=J.result),m.isFunction(W)&&W(re)}}else vy(ne),!Q.page.bUnload&&m.isFunction(Y)&&Y()},function(K){vy(ne),!Q.page.bUnload&&m.isFunction(Y)&&Y()}),!0}if(F||m.mix(de,{headers:{"X-Requested-With":!1}}),he.bFileSystem&&(de.crossDomain=!1),wa(de),!F)return Z}}},{key:"_innerSendCmd",value:function(v,b){this._innerFunRaw(v,b,!0,!1,!0)}},{key:"_innerFun",value:function(v,b){var T;return T=this._innerFunRaw(v,b,!1,!1,!1),m.isArray(T)?T[0]:T}},{key:"__OnRecieveMsg",value:function(v,b){var T=this,D=b==null?void 0:b.cmd;if(v.event)return x(A(n.prototype),"__OnRecieveMsg",this).call(this,v,b);if(V.DWT.ConnectWithSocket)return x(A(n.prototype),"__OnRecieveMsg",this).call(this,v,b);if(oa(v)?(T._errorCode=v.exception,T._errorString=v.description,T._errorCause=yo(v)):D!="StartScan"&&D!="GetAddOnVersion"&&(T._errorCode=0,T._errorString=""),D=="ReadBarcode"||D=="OCRRecognize"||v.request&&v.request.method=="OCRProRecognize")return b.sFun?b.sFun(v):b.fFun&&b.fFun(v),!0;if(D=="ActiveUI"||D=="VersionInfo"||D=="ConvertToBase64"||D=="SaveSelectedImagesToBase64Binary"||D=="ConvertToBlob"||D=="BeginSaveMem")return b.sFun&&m.isArray(v.result)&&v.result.length>0?b.sFun(v.result):b.fFun&&b.fFun(v.result),!0;if(D=="ShowFileDialog"||D=="SplitTiff"||D=="SplitPDF"||D=="EncodeAsBase64"||D=="ProductKey"||D=="GetSourceNames"||D=="GetSkewAngle"||D=="GetImageInfo"||D=="GetSkewAngleFromBinary")return b.sFun?b.sFun(v.result):b.fFun&&b.fFun(v.result),!0;if(D=="SetCapabilities")return x(A(n.prototype),"__OnRecieveMsg",this).call(this,v,b);if(v.result&&v.result.length&&(v.result[0]=="1"||v.result[0]==1||v.result[0]=="ok"))(b.sFun||b.sFun)&&b.sFun(b.rawData?v:v.result);else{if(!v.exception)return b.sFun&&b.sFun(v.result),v=null,!0;var M=!1;b.fFun&&(M=b.fFun(T._errorString)),!M&&v.exception&&v.exception<0&&v.exception!=-2115&&m.isFunction(T.__OnPrintMsg)&&T.__OnPrintMsg(T._errorString)}return!0}},{key:"OnRefreshUI",value:function(v,b,T,D){return this._innerRefreshUI(v,b,T,D)}},{key:"GetCurrentDocumentName",value:function(){return this._resetErr(),!!this._isValid()&&this._getCurrentDocumentName()}},{key:"RegisterEvent",value:function(v,b){return!!this.registerEvent(v,b)}},{key:"UnregisterEvent",value:function(v,b){return this.unregisterEvent(v,b)}},{key:"onEvent",value:function(v,b){this.registerEvent(v,b)}},{key:"on",value:function(v,b){this.registerEvent(v,b)}},{key:"_OnConsumed",value:function(v){}},{key:"_OnPostLoad",value:function(v,b){var T,D,M,W,Y=this;b!==void 0&&b.exception!==void 0&&b.description!==void 0&&(Y._errorCode=b.exception,Y._errorString=b.description),m.log("OnPostLoad Results:"),pU(Y,"On PostLoad"),(T=Y._ImgManager.getCurrentImageIndex())>=0&&Y._innerRefreshUI(T),Y._loadImageBytesFileCount==0&&m.isFunction(Y.__OnPostLoad)&&(D=v[1].split(","),M=m.base64.decode(D[0]),W=m.base64.decode(D[1]),m.log([M,W,D[2]]),M!=""&&W!=""&&(Y.__bServerOnPostLoadFired=!0,setTimeout(function(){Y.__OnPostLoad(M,W,D[2])},200)))}},{key:"_OnPostTransfer",value:function(v){var b=this;if(m.log("On PostTransfer Results:"+v),pU(b,"On PostTransfer"),m.isFunction(b.__OnPostTransfer))try{b.__OnPostTransfer()}catch(T){qr(T)}}},{key:"_OnPreAllTransfersAsync",value:function(v){var b=this;if(m.isFunction(b.__OnPreAllTransfersAsync)){var T={event:"beforeAcquire",result:{}};try{m.isArray(v)&&v.length>1&&(T=m.parse(v[1]))}catch{}setTimeout(function(){try{b.__OnPreAllTransfersAsync(T)}catch(D){qr(D)}},10)}}},{key:"_OnPostAllTransfers",value:function(v){var b=this;if(v.length>=2&&b._errorCode==0&&(b._errorCode=v[1],b._errorString=v[2]),m.log("On PostAllTransfers Results:"+v),b.__bLoadingImage=!1,b.__bAcquireImageNow=!1,b.__closeRemoteScanUI(!0),m.isFunction(b.__OnPostAllTransfers))try{b.__OnPostAllTransfers()}catch(T){qr(T)}}},{key:"_OnResult",value:function(v){var b=v[1];if(m.isFunction(this.__OnResult))try{this.__OnResult(b)}catch(T){qr(T)}}},{key:"_OnTransferCancelled",value:function(v){var b=this;if(b._ImgManager.getCurrentImageIndex(),b._ImgManager.count(),b.__bLoadingImage=!1,b.__bAcquireImageNow=!1,m.isFunction(b.__OnTransferCancelled))try{b.__OnTransferCancelled()}catch(T){qr(T)}}},{key:"_OnTransferError",value:function(v){if(m.isFunction(this.__OnTransferError))try{this.__OnTransferError()}catch(b){qr(b)}}},{key:"_OnSourceUIClose",value:function(v){var b=this;if(b.__closeRemoteScanUI(!0),m.isFunction(b.__OnSourceUIClose))try{b.__OnSourceUIClose()}catch(T){qr(T)}}},{key:"_OnPreTransfer",value:function(v){if(m.isFunction(this.__OnPreTransfer))try{this.__OnPreTransfer()}catch(b){qr(b)}}},{key:"_OnPreAllTransfers",value:function(v){if(m.isFunction(this.__OnPreAllTransfers))try{this.__OnPreAllTransfers()}catch(b){qr(b)}}},{key:"_OnGetFilePath",value:function(v){var b,T,D,M=this;if(b=v[1].split(","),m.log("On GetFilePath Results:"+v),T=m.base64.decode(b[3]),D=m.base64.decode(b[4]),b[2]=="-1032"&&(b[2]="-1",T=D=""),m.isFunction(M.__OnGetFilePath))try{M.__OnGetFilePath(1*b[0]>0,1*b[1],1*b[2],T,D)}catch(W){qr(W)}M.__bOpenFileNow=!1}},{key:"_OnDiskExceedLimit",value:function(){m.isFunction(this.__OnDiskExceedLimit)&&this.__OnDiskExceedLimit()}},{key:"__GetLoadEventsNum",value:function(){var v=0;return m.isFunction(this.__OnPostLoad)&&(v|=1),m.isFunction(this.__OnGetFilePath)&&(v|=2),v}},{key:"_innerSend",value:function(v,b,T,D,M){var W=this;if(V.DWT.ConnectWithSocket||v!="SaveSelectedImagesToBytes"&&v!="ConvertToBlob")return this._sendData(v,b,T,D,M);var Y=lm(),ee=vd(W._clientId,v,b,Y,W._bScanForProxyRemote?W._dmServiceDWTVersion:"");return W._innerFunRaw(v,ee,!0,!0,!0,D,M),Pe.Promise.resolve(!0)}},{key:"_convertToBlobByIndices",value:function(v,b,T,D,M,W){var Y=this,ee=!1,te=function(ne){m.isFunction(W)&&Oi(W,Y,ne,b,D),ne=null};if(m.isFunction(M)&&(ee=!0),Y._resetErr(),!Y._isValid())return te(v),!!ee&&void 0;var de=parseInt(b);if(!It.checkProductKey(Y,{Core:!0})||!Y._checkIndices(v))return te(v),!!ee&&void 0;if(de==V.DWT.EnumDWT_ImageType.IT_BMP||de==V.DWT.EnumDWT_ImageType.IT_JPG||de==V.DWT.EnumDWT_ImageType.IT_PNG||de==V.DWT.EnumDWT_ImageType.IT_J2K){if(v.length>1)return Me(Y,-2372,"You cannot convert more than one image to binary when the format is BMP, JPG or PNG."),te(v),!!ee&&void 0}else if(de!=V.DWT.EnumDWT_ImageType.IT_TIF&&de!=V.DWT.EnumDWT_ImageType.IT_PDF)return vo(Y),te(v),!!ee&&void 0;var Z=Ll(Y,v);return Z.length==0?(ir(Y),te(v),!!ee&&void 0):ee?(Q.cancelFrom=or.ConvertToBlob,void Y._innerConvertToBlobWithUI("ConvertToBlob",de,Z,T,function(ne,X){m.isFunction(M)&&si(M,ne,X,b,D),ne=X=null},te)):sg(Ah,Y,pde).call(Y,Z,de,T)}},{key:"_getDefaultDevice",value:function(){var v=this;if(v._resetErr(),!v._isValid())return null;var b="",T=yt.TWAINSCANNER,D=v._innerFun("GetDefaultSourceName");if(D.length>0)try{var M=JSON.parse(D);T=M.type,b=m.base64.decode(M.ProductName)}catch{b=""}var W=new qa;return W.name=b,W.deviceType=T,W.isSystemDefaultPrinter=!1,DC(W),W}},{key:"_OnCurrentDeviceSelected",value:function(v,b){var T,D,M=this;if(v&&v.length>=2)try{D=parseInt(v[0]);var W=String(v[1]);(T=dJ(this,W)).strDevice=W,M._curDevice=T}catch(ee){m.error(ee)}var Y=!1;if(m.isFunction(M.__OnCurrentDeviceSelected))try{Y=M.__OnCurrentDeviceSelected(T,D)}catch(ee){qr(ee)}return Y}},{key:"_getDefaultDeviceAsync",value:(S=s(E().mark(function v(){var b,T,D,M,W,Y;return E().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if((b=this)._resetErr(),b._isValid()){ee.next=4;break}return ee.abrupt("return",null);case 4:return T="",D=yt.TWAINSCANNER,ee.next=8,b._sendDataByHttpAsync("GetDefaultSourceName");case 8:if((M=ee.sent).length>0)try{W=JSON.parse(M),D=W.type,T=m.base64.decode(W.ProductName)}catch{T=""}return(Y=new qa).name=T,Y.deviceType=D,Y.isSystemDefaultPrinter=!1,D==yt.TWAINX64SCANNER&&T.length>0?Y.displayName="Twain64-"+T:D==yt.ICASCANNER&&this.__serverPlatform==Ht.enumMac&&T.length>0?Y.displayName="ICA-"+T:Y.displayName=T,ee.abrupt("return",Y);case 16:case"end":return ee.stop()}},v,this)})),function(){return S.apply(this,arguments)})},{key:"_getSources",value:function(v,b,T){return kN(this,this._innerFun("GetSources",Ge(v,b!=null&&b,T!=null&&T)))}},{key:"_getSourceCountAsync",value:(g=s(E().mark(function v(b){var T,D,M,W,Y,ee,te;return E().wrap(function(de){for(;;)switch(de.prev=de.next){case 0:if((T=this)._resetErr(),T._isValid()){de.next=4;break}return de.abrupt("return",Pe.Promise.reject({code:T._errorCode,message:T._errorString}));case 4:return sg(Ah,T,fU).call(T),Mn("GetSourceCountAsync",T),D=[],de.prev=7,b&&(T._driverType=b),M=Oe,W=Oe,Y=Oe,ee=Oe,T._bRemoteMode?T.__serverPlatform==Ht.enumWindow?Y=!0:T.__serverPlatform==Ht.enumLinux?W=!0:T.__serverPlatform==Ht.enumMac?M=!0:T.__serverPlatform==Ht.enumAndroid&&(ee=!0):(M=he.bMac,W=he.bLinux,Y=he.bWin,ee=he.bAndroid),te=jy(T._driverType,Y,W,M,ee),de.next=15,this._getDevices(te,!0,void 0);case 15:D=de.sent,de.next=21;break;case 18:throw de.prev=18,de.t0=de.catch(7),de.t0;case 21:return de.prev=21,un("GetSourceCountAsync"),de.finish(21);case 24:return de.abrupt("return",T._setDevices(D));case 25:case"end":return de.stop()}},v,this,[[7,18,21,24]])})),function(v){return g.apply(this,arguments)})},{key:"_setDevices",value:function(v){var b,T=this;return T.__devices=v,b=v.length,T.__sourceCount=b,b<=0?(T.__defaultSourceName="",T.__sourceCount=0,0):b}},{key:"_getSourceNameByIndex",value:function(v){var b=this.__devices.length;return v<0||v>=b?"":this.__devices[v].displayName}},{key:"_dwtConvertToBlobSync",value:function(v,b,T,D,M,W){var Y=this,ee=T,te=",";m.isString(ee)&&ee!=""||(ee="",te="");var de=["[",v,',"',b.join(","),'"',te,ee,"]"].join(""),Z=Y._innerFunRaw("ConvertToBlob",de,!1,!0,!1),ne="";if(Y._errorCode==0){Z&&"md5"in Z&&(ne=Z.md5);var X=!0;return m.isFunction(D)&&(X=D(Z,ne,W)),X}return m.isFunction(M)&&pt(M,Y),!1}},{key:"_getSourceCountSync",value:function(){var v,b=this,T=Oe,D=Oe,M=Oe,W=Oe;if(b._bRemoteMode?b.__serverPlatform==Ht.enumWindow?M=!0:b.__serverPlatform==Ht.enumLinux?D=!0:b.__serverPlatform==Ht.enumMac?T=!0:b.__serverPlatform==Ht.enumAndroid&&(W=!0):(T=he.bMac,D=he.bLinux,M=he.bWin,W=he.bAndroid),v=jy(this._driverType,M,D,T,W),b._resetErr(),!b._isValid()||!It.checkProductKey(b,{Core:!0}))return 0;sg(Ah,b,fU).call(b);var Y=b._getSources(v,!0,void 0);return b._setDevices(Y)}},{key:"_OnActiveUI",value:(p=s(E().mark(function v(b){var T;return E().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return T=this,b&&b.length>2&&(T.__strProductName=b[2]),D.next=4,x(A(n.prototype),"_OnActiveUI",this).call(this,b);case 4:return D.next=6,T._setConvertModeAsync(T._pdfConvertMode).catch(function(){});case 6:case"end":return D.stop()}},v,this)})),function(v){return p.apply(this,arguments)})},{key:"_OnReady",value:(c=s(E().mark(function v(){var b,T,D,M,W;return E().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return Ro((b=this)._serverInfo.server)&&(fu.item("DWT_port",b._serverInfo.port),fu.item("DWT_ssl",b._serverInfo.ssl?"true":"false")),b._bNoMask||Mn("OnReady",b),Y.prev=3,Y.next=6,x(A(n.prototype),"_OnReady",this).call(this);case 6:if(!Ji()){Y.next=12;break}if(b._uuidForActiveUI){Y.next=12;break}return Y.next=10,V.DWT.lgcuid(V.DWT.lgdt(),"");case 10:T=Y.sent,b._uuidForActiveUI=T;case 12:return Y.next=14,b._innerActiveUI(b._uuidForActiveUI);case 14:return D=Y.sent,Y.next=17,b._OnActiveUI(D);case 17:if(In("Changing Map..."),(M=b._id)&&!V.DWT.WebTwainIdMap[M]&&(V.DWT.WebTwainIdMap[M]=b),dU(b),W=!1,b._bRemoteMode||(W=Q.attachAddon(b)),V.DWT.IfDisableDefaultSettings){Y.next=29;break}return In("Configuring the WebTwain instance..."),Y.next=27,mde(b);case 27:Y.next=32;break;case 29:if(!W){Y.next=32;break}return Y.next=32,new Pe.Promise(function(ee){setTimeout(ee,300)});case 32:Y.next=39;break;case 34:throw Y.prev=34,Y.t0=Y.catch(3),Y.t0&&(b._errorCode=Y.t0.code,b._errorString=Y.t0.message),b.dispose(),Y.t0;case 39:return Y.prev=39,b._bNoMask||un("OnReady"),Y.finish(39);case 42:case"end":return Y.stop()}},v,this,[[3,34,39,42]])})),function(){return c.apply(this,arguments)})},{key:"_OnWSClose",value:function(v){x(A(n.prototype),"_OnWSClose",this).call(this,v),Q.detect.bOK=!1,this.__bAcquireImageNow=!1}},{key:"_OnWSTimeout",value:function(v){x(A(n.prototype),"_OnWSTimeout",this).call(this,v),Q.detect.bOK=!1}},{key:"_setConvertModeAsync",value:function(v){var b,T=this,D=1*v;return isNaN(D)?(XT(T),Pe.Promise.reject({code:T._errorCode,message:T._errorString})):T._checkConvertModeInner(D)?(b=this._mixSavedPdfReaderOptions({convertMode:D,renderOptions:{renderAnnotations:!!T._pdfOptions.renderOptions.renderAnnotations}}),T._resetPdfOptionsWhenSetConvertMode(b),sg(Ah,T,hU).call(T,b,D)):Pe.Promise.reject({code:T._errorCode,message:T._errorString})}},{key:"_OnReconnected",value:(l=s(E().mark(function v(){var b;return E().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return b=this,T.next=3,sg(Ah,b,hU).call(b,b._pdfOptions);case 3:case"end":return T.stop()}},v,this)})),function(){return l.apply(this,arguments)})},{key:"_getConvertMode",value:function(){return this._pdfConvertMode}},{key:"_setConvertMode",value:function(v){var b,T=this,D=1*v;if(isNaN(D))return XT(T),!1;if(!T._checkConvertModeInner(D))return!1;b=this._mixSavedPdfReaderOptions({convertMode:D,renderOptions:{renderAnnotations:!!T._pdfOptions.renderOptions.renderAnnotations}}),T._resetPdfOptionsWhenSetConvertMode(b);var M=T._setReaderOptions(b,!1);return M&&(T._pdfConvertMode=D,T._pdfOptions.convertMode=b.convertMode,T._pdfOptions.renderOptions.renderAnnotations=b.renderOptions.renderAnnotations,T._pdfOptions.convertMode==zr.CM_IMAGEONLY&&T._pdfConvertMode==zr.CM_RENDERALL||T._pdfOptions.convertMode==zr.CM_IMAGEONLY&&T._pdfConvertMode==zr.CM_RENDERALLWITHANNOTATION)?(T._pdfConvertMode=zr.CM_IMAGEONLY,kf(T),!1):M}},{key:"_checkConvertModeInner",value:function(v){var b=this;return!!It.checkProductKey(b,{Core:!0})&&(b._resetErr(),!!b._isValid()&&(v==zr.CM_RENDERALL||v==zr.CM_IMAGEONLY||v==zr.CM_AUTO||v==zr.CM_RENDERALLWITHANNOTATION||(XT(b),!1)))}},{key:"_resetPdfOptionsWhenSetConvertMode",value:function(v){var b=v.convertMode;b==zr.CM_IMAGEONLY||It.hasPDFRProductKey(this)?v.convertMode=b:v.convertMode=zr.CM_IMAGEONLY,v.convertMode==zr.CM_IMAGEONLY||v.convertMode==zr.CM_RENDERALL?v.renderOptions.renderAnnotations=!1:v.convertMode==zr.CM_RENDERALLWITHANNOTATION&&(v.renderOptions.renderAnnotations=!0)}},{key:"_checkPDFPasswordValue",value:function(v){if(!m.isUndefined(v)){if(!m.isString(v))return Me(this,-2852,"The password is not a string."),!1;if(v.length>32)return function(b){Me(b,-2851,"The password must not exceed 32 characters in length.")}(this),!1}return!0}},{key:"_mixSavedPdfReaderOptions",value:function(v){var b;return b=m.clone(this._pdfOptions),v||(v={}),v.convertMode&&(b.convertMode=v.convertMode),m.isString(v.password)?b.password=v.password:m.isNumber(v.password)&&(b.password=""+v.password),m.isBoolean(v.preserveUnmodifiedOnSave)&&(b.preserveUnmodifiedOnSave=v.preserveUnmodifiedOnSave),v.renderOptions&&(b.renderOptions=m.mix(this._pdfOptions.renderOptions,v.renderOptions)),b}},{key:"_setReaderOptions",value:function(v,b){var T,D,M=this,W=-1;if(M._resetErr(),v&&v.renderOptions){var Y=v.renderOptions.resolution,ee=v.renderOptions.maxWidth,te=v.renderOptions.maxHeight,de=v.renderOptions.renderGrayscale;if(!m.isUndefined(Y)&&(!V.Lib.isNumber(Y)||Y<=0))return Me(M,-2830,"The PDF resolution must be a positive number."),!1;if(!m.isUndefined(ee)&&(!V.Lib.isNumber(ee)||ee<0))return function(B){Me(B,-2831,"The PDF max width must be a positive number.")}(M),!1;if(!m.isUndefined(te)&&(!V.Lib.isNumber(te)||te<0))return function(B){Me(B,-2832,"The PDF max height must be a positive number.")}(M),!1;if(!m.isUndefined(de)&&!V.Lib.isBoolean(de))return function(B){Me(B,-2833,"The PDF render grayscale must be a boolean.")}(M),!1}if(b){T={},v||(v={}),v.convertMode?T.convertMode=v.convertMode:T.convertMode=zr.CM_AUTO,W=T.convertMode,m.isString(v.password)?T.password=v.password:m.isNumber(v.password)?T.password=""+v.password:T.password="",v.preserveUnmodifiedOnSave?T.preserveUnmodifiedOnSave=!0:T.preserveUnmodifiedOnSave=!1,T.renderOptions=m.mix({renderAnnotations:!1,resolution:200,maxWidth:0,maxHeight:0,renderGrayscale:!1},v.renderOptions);var Z=T.renderOptions.renderAnnotations;m.isBoolean(Z)||m.isString(Z)&&(T.renderOptions.renderAnnotations=Z.toLowerCase()=="true");var ne=T.renderOptions.renderGrayscale;if(m.isBoolean(ne)||m.isString(ne)&&(T.renderOptions.renderGrayscale=ne.toLowerCase()=="true"),m.isNumber(T.convertMode)){if(!M._checkConvertModeInner(T.convertMode))return!1;It.hasPDFRProductKey(M)||(T.convertMode=zr.CM_IMAGEONLY),T.convertMode==zr.CM_IMAGEONLY?T.renderOptions.renderAnnotations=!1:T.convertMode==zr.CM_RENDERALLWITHANNOTATION&&(T.renderOptions.renderAnnotations=!0)}}else{if(m.isUndefined(v))return function(B){Me(B,-2834,"The PDF reader options is invalid.")}(M),!1;if(T=v,!(m.isString(v.password)||m.isUndefined(v.password))){if(!m.isNumber(v.password))return function(B){Me(B,-2829,"The type of the PDF password must be a string.")}(M),!1;v.password=""+v.password}}var X=M._getPdfDllname();D=["[",m.stringify(T),',"',X,'"',"]"].join("");var F=M._innerFun("SetPDFReaderOptions",D);return F&&b&&(M._pdfOptions=m.clone(T),m.isNumber(T.convertMode)&&(T.convertMode==zr.CM_RENDERALL&&T.renderOptions.renderAnnotations&&(T.convertMode=zr.CM_RENDERALLWITHANNOTATION),M._pdfConvertMode=T.convertMode,M._pdfOptions.convertMode==zr.CM_IMAGEONLY&&W==zr.CM_RENDERALL||M._pdfOptions.convertMode==zr.CM_IMAGEONLY&&W==zr.CM_RENDERALLWITHANNOTATION))?(M._pdfConvertMode=zr.CM_IMAGEONLY,kf(M),!1):F}},{key:"_getPdfDllname",value:function(){var v=this,b=!1,T=!1;return v._bRemoteMode?v.__serverPlatform==Ht.enumWindow||(v.__serverPlatform==Ht.enumLinux?T=!0:v.__serverPlatform==Ht.enumMac&&(b=!0)):(b=he.bMac,T=he.bLinux,he.bWin),b?v._b64bit?"libDMCodecx64.dylib":"libDMCodec.dylib":T?"libDMCodec.so":v._b64bit?"DMCodecx64.dll":"DMCodec.dll"}},{key:"_unload_viewer",value:function(){}},{key:"__innerDeleteInMap",value:function(){return this._id,delete V.DWT.WebTwainIdMap[this._id],at}},{key:"__unload",value:(d=s(E().mark(function v(){var b,T,D,M;return E().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(b=this,T=m.clone(V.DWT.licenseException),b.__closeRemoteScanUI(!0),!b._destroy&&!b._destroying){W.next=5;break}return W.abrupt("return");case 5:return b._destroying=!0,this.__innerDeleteInMap(),b.__addon&&b.__addon.Camera&&b.__addon.Camera._viewer&&(b.__addon.Camera.getStatus()!=""&&b.__addon.Camera.closeSource().catch(function(){}),b.__addon.Camera._viewer.dispose(),b.__addon.Camera._viewer=null),b._unload_viewer(),b._containerElement=null,b._ImgManager&&b._ImgManager.clear(),V.DWT.lremoveDWTObj(b),W.prev=12,W.next=15,x(A(n.prototype),"__unload",this).call(this);case 15:W.next=20;break;case 17:W.prev=17,W.t0=W.catch(12),D=W.t0;case 20:if(b.__bAcquireImageNow=!1,b._destroying=!1,b._destroy=!0,(M=V.DWT.licenseException).code=T.code,M.message=T.message,M.fromLTS=T.fromLTS,!D){W.next=29;break}throw D;case 29:case"end":return W.stop()}},v,this,[[12,17]])})),function(){return d.apply(this,arguments)})},{key:"_setIfShowUI",value:function(v){this._resetErr(),this._isValid()&&(m.isBoolean(v)?this._innerFun("IfShowUI",Ge(v)):Ni(self))}},{key:"_setIfShowFileDialog",value:function(v){this._resetErr(),this._isValid()&&(m.isBoolean(v)?this._innerFun("IfShowFileDialog",Ge(v)):Ni(self))}},{key:"_getDevicesAsync",value:(u=s(E().mark(function v(b,T,D,M){var W,Y,ee,te,de;return E().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(W=this,Y=[],!T||m.isNumber(T)){Z.next=4;break}return fr(W),Z.abrupt("return",Pe.Promise.reject({code:W._errorCode,message:W._errorString}));case 4:if(ee=W._bRemoteMode?um:he.bAndroid?gC:um,te=T??ee,W._resetErr(),W._isValid()){Z.next=8;break}return Z.abrupt("return",Pe.Promise.reject({code:W._errorCode,message:W._errorString}));case 8:return Mn(b,W),Z.prev=9,Z.next=12,W._getDevices(te,D,M);case 12:de=Z.sent,m.isArray(de)&&de.length>0&&(Y=Y.concat(de)),Z.next=19;break;case 16:throw Z.prev=16,Z.t0=Z.catch(9),Z.t0;case 19:return Z.prev=19,un(b),Z.finish(19);case 22:return Y.length>0&&this._setDevices(Y),Z.abrupt("return",Y);case 24:case"end":return Z.stop()}},v,this,[[9,16,19,22]])})),function(v,b,T,D){return u.apply(this,arguments)})},{key:"_openSourceAsync",value:function(v){var b=this;return b._resetErr(),b._isValid()?(b._bRemoteMode&&b._initRemoteDiv(),b._innerFunV2("OpenSource").then(function(T){return b.__closeRemoteScanUI(!0),T},function(T){return b.__closeRemoteScanUI(!0),Pe.Promise.reject(T)})):Pe.Promise.reject({code:b._errorCode,message:b._errorString})}},{key:"_closeSourceAsync",value:function(v){var b=this;return b._resetErr(),b._isValid()?b._innerFunV2("CloseSource").then(function(){return b._curDevice=null,!0}):Pe.Promise.reject({code:b._errorCode,message:b._errorString})}},{key:"_selectSourceAsync",value:function(v,b,T){var D=this;return D._resetErr(),D._isValid()?D._getDevicesAsync(v,b).then(function(M){var W,Y,ee=document,te=M?M.length:0;Pe.dialog.selectsourcedlg&&(Pe.dialog.selectsourcedlg.close(),document.body.removeChild(Pe.dialog.selectsourcedlg),Pe.dialog.selectsourcedlg=!1);var de,Z,ne,X,F=-1;for((Y=ee.createElement("dialog")).className="dynamsoft-dialog-selectsource",he.bIE&&(Y.style.width="300px"),Y.setAttribute("closed","closed"),(de=[]).push('<ul id="dynamsoft-dialog-selectsource-sourcelist-ul">'),W=0;W<te;W++){var B="",U=D._getSourceNameByIndex(W);(D.__defaultSourceName==""&&W==0||D.__defaultSourceName==U)&&(B=" dynamsoft-dialog-selectsource-sourcelist-li-selected",F=W),de.push('<li class="dynamsoft-dialog-selectsource-item'+B+'" sourceindex="'+W+'">'+U+"</li>")}return de.push("</ul>"),de=de.join(""),m.isArray(T)&&T.length>=3?(Z=T[0],ne=T[1],X=T[2]):(Z="Select Source:",ne="Select",X="Cancel"),HE(Y,["<p>",Z,"</p>",'<div id="dynamsoft-dialog-selectsource-sourcelist">',de,"</div>",'<div><button class="dynamsoft-dialog-selectsource-button-select" >',ne,"</button>",'<button class="dynamsoft-dialog-selectsource-button-cancel" >',X,"</button></div>"].join("")),Pe.dialog.selectsourcedlg=Y,ee.body.appendChild(Pe.dialog.selectsourcedlg),m.each(m.sizzle(".dynamsoft-dialog-selectsource-item"),function(K,J){m.addEventListener(K,"click",function(re){for(var oe=re.target,fe=oe.getAttribute("sourceindex"),ae=oe.parentElement.children,ue=0;ue<ae.length;ue++)ae[ue].className="dynamsoft-dialog-selectsource-item";oe.className="dynamsoft-dialog-selectsource-item dynamsoft-dialog-selectsource-sourcelist-li-selected",m.get("dynamsoft-dialog-selectsource-sourcelist-ul").setAttribute("selectedSourceIndex",fe)})}),m.get("dynamsoft-dialog-selectsource-sourcelist-ul").setAttribute("selectedSourceIndex",F.toString()),Pe.dialog.setup(Pe.dialog.selectsourcedlg),Pe.dialog.selectsourcedlg&&Pe.dialog.selectsourcedlg.showModal(),ee.compatMode=="CSS1Compat"?ee.documentElement.scrollTop:ee.body.scrollTop,new Pe.Promise(function(K,J){m.removeEventListener(Pe.one(".dynamsoft-dialog-selectsource-button-select")[0],"click"),m.removeEventListener(Pe.one(".dynamsoft-dialog-selectsource-button-cancel")[0],"click"),te>0&&m.addEventListener(Pe.one(".dynamsoft-dialog-selectsource-button-select")[0],"click",function(){var re=parseInt(m.get("dynamsoft-dialog-selectsource-sourcelist-ul").getAttribute("selectedSourceIndex"));re<0||D._selectSourceByIndexAsync(v,re).then(function(){Pe.dialog.selectsourcedlg&&(Pe.dialog.selectsourcedlg.close(),document.body.removeChild(Pe.dialog.selectsourcedlg),Pe.dialog.selectsourcedlg=!1),K(re)})}),m.addEventListener(Pe.one(".dynamsoft-dialog-selectsource-button-cancel")[0],"click",function(){Pe.dialog.selectsourcedlg&&(Pe.dialog.selectsourcedlg.close(),document.body.removeChild(Pe.dialog.selectsourcedlg),Pe.dialog.selectsourcedlg=!1);var re={};Ea(re),J({code:re._errorCode,message:re._errorString})})})}):Pe.Promise.reject({code:D._errorCode,message:D._errorString})}},{key:"_dwtGetCapabilities",value:function(v,b,T){var D=this,M=null,W=function(){m.isFunction(T)&&T(D._errorCode,D._errorString)};if(v){if(!m.isArray(v))return fr(D),void W();if(v.length==0)return void(m.isFunction(b)&&b([]));if(function(Y,ee){var te,de,Z,ne;for(ne=0;ne<ee.length;ne++){if(te=ee[ne],de=!1,Z=!1,m.isString(te)){var X=te;te=parseInt(te),(m.isNaN(te)||te!=X)&&(de=!0)}if(de==0&&m.isNumber(te)?(te<1||te>65535)&&(Z=!0):de=!0,de)return fr(Y),!1;if(Z)return iq(Y),!1}return!0}(D,v)===!1)return void W();M=Ge(v)}D._sendDataByHttpAsync("GetCapabilities",M).then(function(Y){try{var ee,te;Y.length>0&&(te=Y[0]),m.isString(te)?(te=Q.removeNonPrintableChar(te),(ee=JSON.parse(te)).errorCode==0?m.isFunction(b)&&b(ee.response):(D._errorCode=ee.errorCode,D._errorString=ee.errorString,W())):(ko(D),W())}catch(de){D._errorCode=-2302,D._errorString=de,W()}},W)}},{key:"_dwtSetCapabilities",value:function(v,b,T){var D=this;if(!m.isObject(v)||m.isArray(v))return fr(D),m.isFunction(T)&&T(D._errorCode,D._getErrorString()),!1;var M=["[",m.stringify(v),"]"].join("");return D._innerSend("SetCapabilities",M,0,function(W){m.isFunction(b)&&b(W)},T),!0}},{key:"_selectDeviceAsync",value:(a=s(E().mark(function v(b,T,D){var M,W;return E().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return M=this,Mn(b,this),Y.prev=2,Y.next=5,x(A(n.prototype),"_innerSelectDeviceAsync",this).call(this,T,D);case 5:(W=Y.sent)&&(M._curDevice=T,M._bSelectedSourceByServer=!1),Y.next=12;break;case 9:throw Y.prev=9,Y.t0=Y.catch(2),Y.t0;case 12:return Y.prev=12,un(b),Y.finish(12);case 15:return Y.abrupt("return",W);case 16:case"end":return Y.stop()}},v,this,[[2,9,12,15]])})),function(v,b,T){return a.apply(this,arguments)})},{key:"_selectSourceByIndexAsync",value:(o=s(E().mark(function v(b,T){var D,M,W;return E().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if(M=1*T,(D=this)._resetErr(),D._isValid()){Y.next=4;break}return Y.abrupt("return",Pe.Promise.reject({code:D._errorCode,message:D._errorString}));case 4:if(!m.isNaN(M)){Y.next=7;break}return ir(D),Y.abrupt("return",Pe.Promise.reject({code:D._errorCode,message:D._errorString}));case 7:if(D.__devices){Y.next=10;break}return Y.next=10,D._getDevicesAsync(b,null);case 10:if(!(M<0||M>=D.__devices.length)){Y.next=13;break}return tt(D),Y.abrupt("return",Pe.Promise.reject({code:D._errorCode,message:D._errorString}));case 13:return W=D.__devices[M],Y.abrupt("return",D._selectDeviceAsync(b,W));case 15:case"end":return Y.stop()}},v,this)})),function(v,b){return o.apply(this,arguments)})},{key:"_removeAllImages",value:function(v){var b=this,T=!0;if(b._resetErr(),!b._isValid())return!1;var D,M=[];for(D=b._getHowManyImagesInBuffer()-1;D>=0;D--){var W=b._imageBufferWrapper.convertClientIndexToServerId(D);W>-1&&M.push(W)}if(M.length>0){if(b._OnBitmapChanged(["c1",M.join(","),3,b._ImgManager.getCurrentImageIndex(),b._ImgManager.count()]),T=b._innerFunRaw("RemoveAllImages",Ge(M.join(",")),!1,!1,!1,function(){},function(){}),m.isArray(T))return T[0]}else T=!0;return T}},{key:"_removeImage",value:function(v,b){var T,D=this,M=parseInt(b);if(!Ei(D,M))return!1;var W=D._ImgManager.convertClientIndexToServerId(M);return W==-1?(tt(D),!1):(((T=D._innerFun("RemoveImage",Ge(W)))||D._errorCode==-1033)&&D._OnBitmapChanged(["c1",""+W,3,D._ImgManager.getCurrentImageIndex(),D._ImgManager.count()]),T)}},{key:"__innerAcquireOrLoadImageAsync",value:function(v,b,T,D){var M=this;return new Pe.Promise(function(W,Y){var ee=v=="LoadImage"||v=="LoadImageEx"||v=="GenerateURLForUploadData",te=ee||v=="LoadDibFromClipboard";ee?Q.showProgress(M,v,!1):Mn(v,M),M._innerSend(v,b,!0,function(de){if(M.__bLoadingImage=!1,M.__bOpenFileNow=!1,M.__closeRemoteScanUI(!0),ee){if(Q.closeProgress(null,v),M._isBindViewer()){var Z=M._ImgManager.getCurrentImageIndex();Z>=0&&M._innerRefreshUI(Z)}}else un(v);te&&M._canConsume()&&V.DWT.lcvrf(M),m.isFunction(W)&&W(de)},function(de){ee?Q.closeProgress(null,""):un(v),M.__bLoadingImage=!1,M.__bAcquireImageNow=!1,M.__bOpenFileNow=!1,M.__closeRemoteScanUI(!0);var Z=M._ImgManager.getCurrentImageIndex();Z>=0&&M._innerRefreshUI(Z),Wk(M._errorCode)&&kf(M),m.isFunction(Y)&&Y({code:M._errorCode,message:M._getErrorString()}),ee?Q.closeProgress(null,v):un(v),de&&m.error(de)})})}},{key:"_innerLoadImageFromBinary",value:function(v,b,T,D,M,W){var Y,ee,te=this,de=b;if(!It.checkProductKey(te,{Core:!0}))return m.isFunction(W)&&W(te._errorCode,te._getErrorString()),!1;if(!v||v=="")return oo(te),m.isFunction(W)&&W(te._errorCode,te._getErrorString()),!1;if(m.isString(v))return fr(te),m.isFunction(W)&&W(te._errorCode,te._getErrorString()),!1;if(v instanceof Blob)ee=v.size;else if(Gu(v))ee=v.byteLength;else if(v instanceof Array)ee=v.length;else{var Z=v;ee=Z.size||Z.byteLength||Z.length}if(!ee||ee=="")return fr(te),m.isFunction(W)&&W(te._errorCode,te._getErrorString()),!1;var ne=v.currentFileName;ne||(ne=te._getCurrentDocumentName());var X,F=v.currentTagName;if(F||!m.isUndefined(v.bNeedClearCurrentTagName)&&v.bNeedClearCurrentTagName||(F=te._getCurrentDefaultTagName()),v instanceof FileList){if(v.length==1)return v[0].currentFileName=ne,v[0].currentTagName=F,te._innerLoadImageFromBinary(v[0],de,T,M,W);if(v.length>1){var B;for(m.asyncQueue.stop(),lu.stop(),B=0;B<v.length;B++)v[B].currentFileName=ne,v[B].currentTagName=F,B==v.length-1?m.asyncQueue.pushToDo(te,"_innerLoadImageFromBinary",[v[B],de,T,M,W]):m.asyncQueue.pushToDo(te,"_innerLoadImageFromBinary",[v[B],de,T,null,W]);return m.asyncQueue.start(),!0}return oo(te),m.isFunction(W)&&W(te._errorCode,te._getErrorString()),!1}if(window.ReadableStream&&v instanceof ReadableStream?Y=new Response(v):window.Response&&v instanceof Response&&(Y=v),Y)Y.arrayBuffer().then(function(fe){var ae;(ae=new Blob([fe])).currentFileName=v.currentFileName,ae.currentTagName=v.currentTagName;var ue=D,ye=0;T&&(ye=te.__GetLoadEventsNum()),te.__LoadImageFromBytesV1(ae,-1,"",ye,ue,M,W)});else{var U=v;D&&Gu(U)&&((U=new Blob([v])).currentFileName=v.currentFileName,U.currentTagName=v.currentTagName);var K=-1,J=D,re=V.DWT.EnumDWT_ImageType;m.isString(U.type)&&(U.type=="application/pdf"?K=re.IT_PDF:U.type=="image/png"?K=re.IT_PNG:U.type=="image/jpeg"||U.type=="image/jpg"?K=re.IT_JPG:U.type=="image/bmp"?K=re.IT_BMP:U.type=="image/tiff"||U.type=="image/tif"?K=re.IT_TIF:U.type=="image/jp2"&&(K=re.IT_J2K));var oe=0;T&&(oe=te.__GetLoadEventsNum()),X=te.__LoadImageFromBytesV1(U,K,"",oe,J,M,W)}return!!D||X}},{key:"__LoadImageFromBytes",value:function(v,b,T,D,M,W,Y,ee){var te=this.__LoadImageFromBytesV2(v,b,T,D,Y,ee,!1,0,M,W);return D?te:this._errorCode==0}},{key:"__LoadImageFromBytesV1",value:function(v,b,T,D,M,W,Y){var ee=this.__LoadImageFromBytesV2(v,b,T,M,0,0,!1,D,W,Y);return M?ee:this._errorCode==0}},{key:"_isMobileMode",value:function(){return!1}},{key:"ErrorCode",get:function(){return this._errorCode}},{key:"ErrorString",get:function(){return this._getErrorString()}},{key:"ErrorCause",get:function(){return this._errorCause}},{key:"HowManyImagesInBuffer",get:function(){return this._getHowManyImagesInBuffer()}},{key:"_OnActiveUIClearBuffer",value:function(){var v=this.__OnBufferChanged;this.__OnBufferChanged=null,this._ImgManager.clear(),this.__OnBufferChanged=v}}]);var o,a,u,d,l,c,p,g,S}(uU);function pde(t,n,o){var a=this;return a._dwtConvertToBlobSync(n,t,o,function(u){if(!u||u.size<=0)return yk(a),!1;var d=a.__maxUploadImageSize;return u.size>d&&d!=-1?(ou(a),!1):u},function(u){return!1})}function fU(){this.__defaultSourceName="",this.__sourceCount=0}function hU(t,n){var o=this,a=o._getPdfDllname(),u=["[",m.stringify(t),',"',a,'"',"]"].join("");return o._innerFunV2("SetPDFReaderOptions",u).then(function(){if(m.isNumber(n)&&(o._pdfConvertMode=n),o._pdfOptions.convertMode=t.convertMode,o._pdfOptions.renderOptions.renderAnnotations=t.renderOptions.renderAnnotations,o._pdfOptions.preserveUnmodifiedOnSave=t.preserveUnmodifiedOnSave,o._pdfOptions.convertMode==zr.CM_IMAGEONLY&&o._pdfConvertMode==zr.CM_RENDERALL||o._pdfOptions.convertMode==zr.CM_IMAGEONLY&&o._pdfConvertMode==zr.CM_RENDERALLWITHANNOTATION)throw o._pdfConvertMode=zr.CM_IMAGEONLY,kf(o),{code:o._errorCode,message:o._errorString};return!0})}var pU=function(t,n){if(Cn.bDiscardBlankImage){var o=t._ImgManager.getCurrentImageIndex();t.IsBlankImage(o)&&t.RemoveImage(o);var a=["Blank Discard (",n,"): ",t.ErrorString].join("");m.isFunction(t.__OnPrintMsg)&&t.__OnPrintMsg(a)}};function mde(t){return mU.apply(this,arguments)}function mU(){return(mU=s(E().mark(function t(n){var o,a,u,d;return E().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(o=n,!V.DWT.ConnectWithSocket){l.next=6;break}return l.next=4,new Pe.Promise(function(c,p){o._sendData("IfDisableSourceAfterAcquire","[1]",!1,c,p)});case 4:l.next=8;break;case 6:return l.next=8,n._innerFunV2("IfDisableSourceAfterAcquire","[1]");case 8:a=Cr.TWAIN,u=!1,d=!1,o._bRemoteMode?o.__serverPlatform==Ht.enumWindow||(o.__serverPlatform==Ht.enumLinux?d=!0:o.__serverPlatform==Ht.enumMac&&(u=!0)):(u=he.bMac,d=he.bLinux,he.bWin),u?a=Cr.TWAIN_AND_ICA:d&&(a=Cr.SANE),n._driverType=a,n._bRemoteMode&&(n._setIfShowUI(!1),n._setIfShowFileDialog(!1));case 13:case"end":return l.stop()}},t)}))).apply(this,arguments)}function gde(t,n){(function(o,a){if(a.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,n),n.add(t)}function Na(t,n,o){if(typeof t=="function"?t===n:t.has(n))return arguments.length<3?n:o;throw new TypeError("Private element is not present on this object")}var ca=new WeakSet,vde=function(t){function n(){var a;h(this,n);for(var u=arguments.length,d=new Array(u),l=0;l<u;l++)d[l]=arguments[l];return gde(a=f(this,n,[].concat(d)),ca),a}return P(n,t),_(n,[{key:"SaveAsGIF",value:function(a,u,d,l){var c=this,p=!1;if(m.isFunction(d)&&(p=!0),c._resetErr(),!c._isValid())return m.isFunction(l)&&pt(l,c),!!p&&void 0;if(!(It.checkProductKey(c,{Core:!0})||he.bWin&&It.checkProductKey(c,{Webcam:!0},!0)))return It.checkProductKey(c,{Core:!0},!1),m.isFunction(l)&&l(c._errorCode,c._getErrorString()),!!p&&void 0;var g,S=Rt.replaceLocalFilename(a);if(!Ml(c,u,l))return!!p&&void 0;if((g=c._ImgManager.convertClientIndexToServerId(u))==-1)return tt(c),m.isFunction(l)&&pt(l,c),!!p&&void 0;var v=c.__GetLoadEventsNum(),b=c.__innerSaveImage("SaveAsGIF",Ge(S,g,v),d,l);return p?void 0:b}},{key:"SaveSelectedImagesToBase64Binary",value:function(a,u){var d=this,l=!1;if(m.isFunction(a)&&(l=!0),d._resetErr(),!d._isValid())return m.isFunction(u)&&pt(u,d),!!l&&void 0;if(!(It.checkProductKey(d,{Core:!0})||he.bWin&&It.checkProductKey(d,{Webcam:!0},!0)))return It.checkProductKey(d,{Core:!0},!1),m.isFunction(u)&&u(d._errorCode,d._getErrorString()),!!l&&void 0;var c=Hf(d);return c.length==0?(Ii(d),m.isFunction(u)&&pt(u,d),!!l&&void 0):l?void d._innerSend("SaveSelectedImagesToBase64Binary",Ge(c.join(",")),!0,a,u):d._innerFun("SaveSelectedImagesToBase64Binary",Ge(c.join(",")))}},{key:"ShowFileDialog",value:function(a,u,d,l,c,p,g,S){var v=this;if(v._resetErr(),!v._isValid())return!1;var b,T=Rt.replaceLocalFilename(c);return b=v.__GetLoadEventsNum(),v._innerSend("ShowFileDialog",Ge(a,u,d,l,T,p,g,S,b),!0),!0}},{key:"FTPDownload",value:function(a,u,d,l){var c=this,p=!1;if(m.isFunction(d)&&(p=!0),c._resetErr(),!c._isValid())return m.isFunction(l)&&pt(l,c),!!p&&void 0;if(!a)return fr(c),m.isFunction(l)&&pt(l,c),!!p&&void 0;var g=Rt.getImageType(u);return Na(ca,c,yU).call(c,"FTPDownload",[a,u],g,d,l)}},{key:"FTPDownloadEx",value:function(a,u,d,l,c){var p=this,g=!1;return m.isFunction(l)&&(g=!0),p._resetErr(),p._isValid()?a?Na(ca,p,yU).call(p,"FTPDownloadEx",[a,u,d],d,l,c):(fr(p),m.isFunction(c)&&pt(c,p),!!g&&void 0):(m.isFunction(c)&&pt(c,p),!!g&&void 0)}},{key:"FTPUpload",value:function(a,u,d,l,c){var p=this,g=!1;if(m.isFunction(l)&&(g=!0),p._resetErr(),!p._isValid())return m.isFunction(c)&&pt(c,p),!!g&&void 0;if(!Ml(p,u,c))return!!g&&void 0;var S=p._ImgManager.convertClientIndexToServerId(u);if(S==-1)return tt(p),m.isFunction(c)&&pt(c,p),!!g&&void 0;var v=p.__innerFTPUpload("FTPUpload",Ge(a,S,d),l,c);return g?void 0:v}},{key:"FTPUploadEx",value:function(a,u,d,l,c,p){var g,S=this,v=!1;if(m.isFunction(c)&&(v=!0),S._resetErr(),!S._isValid())return m.isFunction(p)&&pt(p,S),!!v&&void 0;if(!Ml(S,u,p))return!!v&&void 0;if((g=S._ImgManager.convertClientIndexToServerId(u))==-1)return tt(S),m.isFunction(p)&&pt(p,S),!!v&&void 0;var b=S.__innerFTPUpload("FTPUploadEx",Ge(a,g,d,l),c,p);return v?void 0:b}},{key:"FTPUploadAllAsMultiPageTIFF",value:function(a,u,d,l){var c=this,p=!1;if(m.isFunction(d)&&(p=!0),c._resetErr(),!c._isValid())return m.isFunction(l)&&pt(l,c),!!p&&void 0;var g=[];By(c,g);var S=c.__innerFTPUpload("FTPUploadAsMultiPageTIFF",Ge(a,u,g.join(",")),d,l);return p?void 0:S}},{key:"FTPUploadAllAsPDF",value:function(a,u,d,l){var c=this,p=!1;if(m.isFunction(d)&&(p=!0),c._resetErr(),!c._isValid())return m.isFunction(l)&&pt(l,c),!!p&&void 0;var g=[];By(c,g);var S=c.__innerFTPUpload("FTPUploadAsMultiPagePDF",Ge(a,u,g.join(",")),d,l);return p?void 0:S}},{key:"FTPUploadAsMultiPagePDF",value:function(a,u,d,l){var c=this,p=!1;if(m.isFunction(d)&&(p=!0),c._resetErr(),!c._isValid())return m.isFunction(l)&&pt(l,c),!!p&&void 0;var g=Hf(c),S=c.__innerFTPUpload("FTPUploadAsMultiPagePDF",Ge(a,u,g.join(",")),d,l);return p?void 0:S}},{key:"FTPUploadAsMultiPageTIFF",value:function(a,u,d,l){var c=this,p=!1;if(m.isFunction(d)&&(p=!0),c._resetErr(),!c._isValid())return m.isFunction(l)&&pt(l,c),!!p&&void 0;var g=Hf(c),S=c.__innerFTPUpload("FTPUploadAsMultiPageTIFF",Ge(a,u,g.join(",")),d,l);return p?void 0:S}},{key:"HTTPDownloadDirectly",value:function(a,u,d,l,c){var p,g=this,S=!1;if(m.isFunction(l)&&(S=!0),g._resetErr(),!g._isValid()||!It.checkProductKey(g,{Core:!0}))return m.isFunction(c)&&pt(c,g),!!S&&void 0;var v,b,T=g._GetHttpHeadersAndClear(),D=Rt.combineUrl(g,a,u);if(D===void 0)return oo(g),m.isFunction(c)&&pt(c,g),!!S&&void 0;if(!d||d=="")return function(te,de){Me(te,-2309,"The LocalFile is empty in the name "+de+" Function.")}(g,"HTTPDownloadDirectly"),m.isFunction(c)&&pt(c,g),!!S&&void 0;if(v=Rt.getImageType(d),!It.checkPDFProductKeyWhenNeeds(g,v))return m.isFunction(c)&&pt(c,g),!!S&&void 0;Q.cancelFrom=or.HTTPDownload,b=Rt.replaceLocalFilename(d),g.IfShowProgressBar?Q.showProgress(g,"HTTPDownloadDirectly",!1):Q.hideProgress();var M=(p=Q.progressContext)===null||p===void 0?void 0:p.IfShowCancelDialogWhenImageTransfer,W=function(){return g.IfShowProgressBar&&Q.closeProgress(null,"HTTPDownloadDirectly"),m.isFunction(l)&&l(),!0},Y=function(){return Q.progressContext&&(Q.progressContext.IfShowCancelDialogWhenImageTransfer=M),g.IfShowProgressBar&&Q.closeProgress(null,"HTTPDownloadDirectly"),m.isFunction(c)&&pt(c,g),!1};g._OnPercentDone([0,-1,tn.Downloading,"http"]),Q.progressContext&&(Q.progressContext.IfShowCancelDialogWhenImageTransfer=!0);var ee=Rt.loadHttpBlob(g,"get",D,S,function(te){Q.progressContext&&(Q.progressContext.IfShowCancelDialogWhenImageTransfer=M),g._OnPercentDone([0,-1,tn.Loading]);var de=g.__GetLoadEventsNum();return g.__LoadImageFromBytesV1(te,3,b,de,S,W,Y)},Y,function(te){var de=te.total===0?100:Math.round(100*te.loaded/te.total);[te.loaded," / ",te.total].join(""),de>=100&&te.loaded<te.total&&(de=99),g._OnPercentDone([0,de,"","http"])},T);return S?void 0:!!ee}},{key:"HTTPUploadThroughPostDirectly",value:function(a,u,d,l,c,p){var g=this,S=!1,v=function(){m.isFunction(p)&&pt(p,g,g.__HTTPPostResponseString)};if(m.isFunction(c)&&(S=!0),g._resetErr(),g.__HTTPPostResponseString="",!g._isValid())return v(),!!S&&void 0;var b=Rt.combineUrl(g,a,d);if(!u)return dd(g),v(),!!S&&void 0;if(!a)return WT(g),v(),!!S&&void 0;var T=this.IfShowProgressBar;return g._innerUploadDirectly(b,u,l,T,!1,0,!0,!1,c,v)}},{key:"_innerUploadDirectly",value:function(a,u,d,l,c,p,g,S,v,b){var T,D,M=this,W=M._GetHttpHeadersAndClear(),Y="HTTPUploadThroughPostDirectly",ee=!1;if(m.isFunction(v)&&(ee=!0),a===void 0||a===!1||a==="")return oo(M),m.isFunction(b)&&pt(b,M),!!ee&&void 0;if(!It.checkProductKey(M,{Core:!0}))return m.isFunction(b)&&pt(b,M),!!ee&&void 0;Q.cancelFrom=or.HTTPUpload;var te=function(de,Z,ne){return de!=0&&Z&&(M._errorCode=de,M._errorString=Z),ne&&(M.__HTTPPostResponseString=ne),Q.needShowTwiceShowDialog=!1,l&&Q.closeProgress(null,Y),m.isFunction(b)&&pt(b,M),!1};return Q.needShowTwiceShowDialog=!0,l?Q.showProgress(M,Y,!1):Q.hideProgress(),(T=Rt.replaceLocalFilename(u))&&T!=""?S&&S.bCancel?(S.st=2,Ea(M),te(M._errorCode,M._errorString),!!ee&&void 0):(D=Na(ca,M,gU).call(M,T,ee,c,function(de){if(Q.needShowTwiceShowDialog=!1,S&&S.bCancel)return S.st=2,Ea(M),te(M._errorCode,M._errorString),!1;if(de&&(!l||l&&Q.dlgRef>0||ee==0)){de instanceof File?de.fileName=d:de.name=d,l&&$u(M.__IfShowCancelDialogWhenImageTransfer);var Z=new vu,ne=M._createHttpUploaderConfig(),X=new rs;return M.__remoteFilename&&M.__remoteFilename!=""&&(X.remoteFilename=M.__remoteFilename),ne.objUploadStatus=S,X.url=a,X.method=Y,X.content=de,de=null,X.contentType=M._strHttpContentTypeFieldValue,X.headers=W,X.bAsync=ee,X.httpFormData=rc(M.httpFormFields),X.retry=p,X.bOnlyResponseEmptyIsOK=g,X.blockSize=M._moduleSize,Z.httpPostUpload(ne,X,function(F){return l&&Q.closeProgress(null,Y),m.isFunction(v)&&si(v,F),!0},te)}return dd(M),te(M._errorCode,M._errorString),!1},te),ee?void 0:!!D):(dd(M),te(M._errorCode,M._errorString),!!ee&&void 0)}},{key:"_innerUploadFilesDirectly",value:function(a,u,d,l,c,p,g,S,v){var b,T=this,D=T._GetHttpHeadersAndClear(),M="HTTPUploadThroughPostDirectly",W=!1,Y=[];if(m.isFunction(S)&&(W=!0),a===!1||a==="")return oo(T),m.isFunction(v)&&v({code:T._errorCode,message:T._getErrorString(),files:u}),!1;if(!It.checkProductKey(T,{Core:!0}))return m.isFunction(v)&&v({code:T._errorCode,message:T._getErrorString(),files:u}),!1;Q.cancelFrom=or.HTTPUpload;var ee=function(ne,X,F){return ne!=0&&X&&(T._errorCode=ne,T._errorString=X),F&&(T.__HTTPPostResponseString=F),Q.needShowTwiceShowDialog=!1,l&&Q.closeProgress(null,M),m.isFunction(v)&&v({code:T._errorCode,message:T._errorString,response:F,files:u}),!1};Q.needShowTwiceShowDialog=!0,l?Q.showProgress(T,M,!1):Q.hideProgress(),m.each(u,function(ne){var X=Rt.replaceLocalFilename(ne);if(!X||X=="")return dd(T),ee(T._errorCode,T._errorString),!1;Y.push(X)});var te=[],de=Y.length,Z=0;return m.each(Y,function(ne,X){b=Na(ca,T,gU).call(T,ne,W,c,function(F){if(Q.needShowTwiceShowDialog=!1,!F||l&&!(l&&Q.dlgRef>0)&&W!=0)return l&&Q.closeProgress(null,M),BT(T),m.isFunction(ee)&&ee(T._errorCode,T._errorString),!1;var B=la(d,X+1);if(F instanceof File?F.fileName=B:F.name=B,te[X]=F,F=null,++Z==de){l&&$u(T.__IfShowCancelDialogWhenImageTransfer);var U=T._createHttpUploaderConfig(),K=new rs;T.__remoteFilename&&T.__remoteFilename!=""&&(K.remoteFilename=T.__remoteFilename),K.url=a,K.method=M,K.content=te,te=null,K.contentType=T._strHttpContentTypeFieldValue,K.headers=D,K.bAsync=W,K.httpFormData=rc(T.httpFormFields),K.retry=p,K.bOnlyResponseEmptyIsOK=g,K.blockSize=T._moduleSize;var J=aU(U,K,function(re){return l&&Q.closeProgress(null,M),m.isFunction(S)&&si(S,re),!0},function(re,oe,fe){return l&&Q.closeProgress(null,M),m.isFunction(ee)&&ee(re,oe,fe),!1});return W?void 0:J}},function(){return l&&Q.closeProgress(null,M),m.isFunction(ee)&&ee(),!1})}),W?void 0:!!b}},{key:"_createHttpUploaderConfig",value:function(){var a=this,u=new sU;return u.IfShowProgressBar=a.IfShowProgressBar,u.IfShowCancelDialogWhenImageTransfer=a.__IfShowCancelDialogWhenImageTransfer,u.MaxUploadImageSize=a.MaxUploadImageSize,u.HTTPRequestswithCredentials=a.HTTPRequestswithCredentials,u.onPercent=function(d){a._OnPercentDone(d)},u.onHttpUploadStatus=function(d){m.isFunction(a.__OnHttpUploadStatus)&&a.__OnHttpUploadStatus(d)},u}},{key:"SetUploadSegment",value:function(a,u){var d=this;return d._resetErr(),!!d._isValid()&&(!m.isNumber(a)||a<0?(Me(d,-2367,"Invalid value for the parameter segmentUploadThreshold."),!1):!m.isNumber(u)||u<=0?(function(l){Me(l,-2368,"Invalid value for the parameter moduleSize.")}(d),!1):(d._segementUploadThreshold=1024*a*1024,d._moduleSize=1024*u,!0))}},{key:"ConvertToBase64",value:function(a,u,d,l){var c,p=this,g=arguments,S=!1;if(m.isFunction(d)&&(S=!0),p._resetErr(),!p._isValid())return m.isFunction(l)&&Oi(l,p,a,u,g),!!S&&void 0;var v=parseInt(u);if(!It.checkProductKey(p,{Core:!0})||!p._checkIndices(a))return m.isFunction(l)&&Oi(l,p,a,u,g),!!S&&void 0;if(v==V.DWT.EnumDWT_ImageType.IT_BMP||v==V.DWT.EnumDWT_ImageType.IT_JPG||v==V.DWT.EnumDWT_ImageType.IT_PNG){if(a.length>1)return Me(p,-2361,"You cannot convert more than one image to base64 string when the format is BMP, JPG or PNG."),m.isFunction(l)&&Oi(l,p,a,u,g),!!S&&void 0}else if(v!=V.DWT.EnumDWT_ImageType.IT_TIF&&v!=V.DWT.EnumDWT_ImageType.IT_PDF)return vo(p),m.isFunction(l)&&Oi(l,p,a,u,g),!!S&&void 0;if((c=Ll(p,a)).length==0)return ir(p),m.isFunction(l)&&Oi(l,p,a,u,g),!!S&&void 0;Q.cancelFrom=or.ConvertToBlob,p._convertToBase64ByServerIdsWithUI("ConvertToBase64",c,v,!1,3,function(b){var T=[];m.isArray(c)&&m.each(c,function(D){var M=p._ImgManager.convertServerIdToClientIndex(D);M>-1&&T.push(M)}),m.isFunction(d)&&si(d,b,T,u,g)},function(){var b=[];m.isArray(c)&&m.each(c,function(T){var D=p._ImgManager.convertServerIdToClientIndex(T);D>-1&&b.push(D)}),m.isFunction(l)&&Oi(l,p,b,u,g)})}},{key:"ClearAllHTTPFormField",value:function(){var a=this;return a._resetErr(),!!a._isValid()&&(a.httpFormFields={},!0)}},{key:"SetHTTPFormField",value:function(a,u,d){var l=this;if(l._resetErr(),!l._isValid())return!1;var c=a;return m.isString(c)||(c=""+c),u instanceof Blob&&(u.name=d),l.httpFormFields[c]=u,!0}},{key:"HTTPDownloadThroughPost",value:function(a,u,d,l,c,p){var g,S,v=this,b=v._GetHttpHeadersAndClear(),T=Rt.combineUrl(v,a,u),D=!1;if(m.isFunction(l)&&(D=!0),T===void 0)return oo(v),m.isFunction(c)&&pt(c,v,""),!!D&&void 0;if(!It.checkProductKey(v,{Core:!0})||!It.checkPDFProductKeyWhenNeeds(v,d))return m.isFunction(c)&&pt(c,v,""),!!D&&void 0;Q.cancelFrom=or.HTTPDownload,v.IfShowProgressBar?Q.showProgress(v,"HttpDownloadThroughPost",!1):Q.hideProgress(),v._OnPercentDone([0,-1,tn.Downloading,"http"]);var M=(g=Q.progressContext)===null||g===void 0?void 0:g.IfShowCancelDialogWhenImageTransfer,W=function(){return v.IfShowProgressBar&&Q.closeProgress(null,"HttpDownloadThroughPost"),m.isFunction(l)&&l(),!0},Y=function(){return Q.progressContext&&(Q.progressContext.IfShowCancelDialogWhenImageTransfer=M),v.IfShowProgressBar&&Q.closeProgress(null,"HttpDownloadThroughPost"),m.isFunction(c)&&pt(c,v,v.__HTTPPostResponseString),!1};return Q.progressContext&&(Q.progressContext.IfShowCancelDialogWhenImageTransfer=!0),S=Rt.loadHttpBlob(v,"post",T,D,function(ee){Q.progressContext&&(Q.progressContext.IfShowCancelDialogWhenImageTransfer=M),v._OnPercentDone([0,-1,tn.Loading]);var te=d;te!=V.DWT.EnumDWT_ImageType.IT_BMP&&te!=V.DWT.EnumDWT_ImageType.IT_JPG&&te!=V.DWT.EnumDWT_ImageType.IT_TIF&&te!=V.DWT.EnumDWT_ImageType.IT_PNG&&te!=V.DWT.EnumDWT_ImageType.IT_PDF&&te!=V.DWT.EnumDWT_ImageType.IT_J2K&&(te=-1);var de=v.__GetLoadEventsNum();return v.__LoadImageFromBytesV1(ee,te,"",de,D,W,Y)},Y,function(ee){var te=ee.total===0?100:Math.round(100*ee.loaded/ee.total);[ee.loaded," / ",ee.total].join(""),te>=100&&ee.loaded<ee.total&&(te=99),v._OnPercentDone([0,te,"","http"])},b),D?void 0:!!S}},{key:"HTTPDownloadThroughGet",value:function(a,u,d,l,c){return this._innerHTTPDownloadThroughGet("HTTPDownload",a,u,d,l,c)}},{key:"HTTPUploadThroughPut",value:function(a,u,d,l,c){var p=Rt.getImageType(d);return this.HTTPUploadThroughPutEx(a,u,d,p,l,c)}},{key:"HTTPUploadThroughPutEx",value:function(a,u,d,l,c,p){var g=this,S=g._GetHttpHeadersAndClear(),v="HTTPUploadThroughPutEx",b=Rt.combineUrl(g,a,d),T=!1,D=[],M=!1,W=this.IfShowProgressBar;if(m.isFunction(c)&&(T=!0),b===void 0)return oo(g),m.isFunction(p)&&Oi(p,g,"",[u],d,l),!!T&&void 0;Q.cancelFrom=or.HTTPPut;var Y,ee=function(){Q.needShowTwiceShowDialog=!1,W&&Q.closeProgress(null,v),m.isFunction(p)&&Oi(p,g,g.__HTTPPostResponseString,D,d,l)};switch(Q.needShowTwiceShowDialog=!0,W?Q.showProgress(g,v,!1):Q.hideProgress(),u){case-1:for(var te=0;te<g._ImgManager.count();te++)D.push(te);break;case-2:D=g._ImgManager.getSelectedClientIndexArray();break;default:if(D.push(u),!(u>=0))return tt(g),ee(),!!T&&void 0}if(a==="")return WT(g),ee(),!!T&&void 0;var de=[];m.isArray(D)&&m.each(D,function(X){var F=g._ImgManager.convertClientIndexToServerId(X);F!=-1&&de.push(F)});var Z=!1;g._OnPercentDone([0,-1,tn.Encoding,"http"]);var ne=function(X,F,B){if(V.DWT.IfAddMD5InUploadHeader&&F&&F!=""&&(S["dwt-md5"]=F),Q.needShowTwiceShowDialog=!1,X&&(!W||W&&Q.dlgRef>0||T==0)){var U=g.__maxUploadImageSize;return X.size>U&&U!=-1?(ou(g),ee(),!!T&&void 0):(Y=function(K){var J=K.total===0?100:Math.round(100*K.loaded/K.total);[K.loaded," / ",K.total].join(""),J>=100&&K.loaded<K.total&&(J=99),g._OnPercentDone([0,J,"","http"])},g._OnPercentDone([0,-1,tn.Uploading,"http"]),W&&$u(g.__IfShowCancelDialogWhenImageTransfer),Q.cancelFrom=or.HTTPPut,M=Rt.httpPutImage(g,b,X,T,function(K){if(K&&(g.__HTTPPostResponseString=K),W&&Q.closeProgress(null,v),m.isFunction(c)){var J=[];m.isArray(de)&&m.each(de,function(re){var oe=g._ImgManager.convertServerIdToClientIndex(re);oe>-1&&J.push(oe)}),si(c,g.__HTTPPostResponseString,J,d,l)}return!0},ee,Y),X=null,T?void 0:!!M)}return X=null,W&&Q.closeProgress(null,v),!!T&&void 0};if(!T)return g._dwtConvertToBlobSync(l,de,Z,ne,ee);g._convertToBlobForUpload(l,de,Z,4,ne,ee)}},{key:"HTTPUploadAllThroughPutAsMultiPageTIFF",value:function(a,u,d,l){return this.HTTPUploadThroughPutEx(a,-1,u,2,d,l)}},{key:"HTTPUploadThroughPutAsMultiPageTIFF",value:function(a,u,d,l){return this.HTTPUploadThroughPutEx(a,-2,u,2,d,l)}},{key:"HTTPUploadAllThroughPutAsPDF",value:function(a,u,d,l){return this.HTTPUploadThroughPutEx(a,-1,u,4,d,l)}},{key:"HTTPUploadThroughPutAsMultiPagePDF",value:function(a,u,d,l){return this.HTTPUploadThroughPutEx(a,-2,u,4,d,l)}},{key:"GetSelectedImagesSize",value:function(a){var u=this;if(u._resetErr(),!u._isValid())return!1;var d=Hf(u);return u._innerFun("GetSelectedImagesSize",Ge(a,d.join(",")))}},{key:"SetHTTPHeader",value:function(a,u){var d=this;if(d._resetErr(),!d._isValid())return!1;var l,c,p=a;if(d.__httpHeaderMap||(d.__httpHeaderMap={}),!p||!m.isString(p))return m.isUndefined(p)?Me(d,-2356,"The header name cannot be undefined."):p===""?function(g){Me(g,-2354,"The header name cannot be empty.")}(d):p===null?function(g){Me(g,-2355,"The header name cannot be null.")}(d):function(g){Me(g,-2357,"The header name you entered is invalid.")}(d),!1;for(l=["if-none-match","if-range","range","accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"],p=p.toLowerCase(),c=0;c<l.length;c++)if(l[c]==p)return WY(d),!1;return m.isUndefined(u)||u===null||u===""?(a in d.__httpHeaderMap&&delete d.__httpHeaderMap[a],!0):(m.isNumber(u)&&(u=""+u),d.__httpHeaderMap[a]=u,!0)}},{key:"ConvertToBlob",value:function(a,u,d,l,c){var p=arguments;return this._convertToBlobByIndices(a,u,!1,p,d,l)}},{key:"_asyncUploadFilesCmd",value:function(a,u,d,l,c,p,g,S,v,b,T,D){var M=this,W=parseInt(c),Y="HTTPUpload",ee=a,te=[];M.__HTTPPostResponseString="",Q.cancelFrom=or.HTTPUpload;var de=function(B,U,K){var J=[];if(m.isArray(u)&&m.each(u,function(re){var oe=M._ImgManager.convertServerIdToClientIndex(re);oe>-1&&J.push(oe)}),B!=0&&U&&(M._errorCode=B,M._errorString=U),K&&(M.__HTTPPostResponseString=K),M._bServerPercentDone=!0,Q.needShowTwiceShowDialog=!1,S&&Q.closeProgress(null,Y),te.slice(0),te=null,m.isFunction(D))try{D({code:M._errorCode,message:M._errorString,response:K,indices:J})}catch{}};Q.needShowTwiceShowDialog=!0,S?Q.showProgress(M,Y,!1):Q.hideProgress();var Z=u.length,ne=0,X=0,F="";M._bServerPercentDone=!1,M._OnPercentDone([0,-1,tn.Encoding,"http"]),m.each(u,function(B,U){M._convertToBlobForUpload(W,[B],g,4,function(K,J,re){if(!K||K.size<=0)return Kn(M),de(M._errorCode,M._errorString);var oe=M.__maxUploadImageSize;if(K.size>oe&&oe!=-1)return ou(M),de(M._errorCode,M._errorString);var fe=la(p,U+1);if(X=(ne+1)/Z*100,F=[ne+1,"/",Z].join(""),M._OnPercentDone([0,X,F,"http",fe]),K.name=fe,te.push(K),++ne>=Z){V.DWT.IfAddMD5InUploadHeader&&J&&J!=""&&(d["dwt-md5"]=J);var ae=M._createHttpUploaderConfig(),ue=new rs;M.__remoteFilename&&M.__remoteFilename!=""&&(ue.remoteFilename=M.__remoteFilename),ue.url=ee,ue.method=Y,ue.content=te,ue.contentType=M._strHttpContentTypeFieldValue,ue.headers=d,ue.httpFormData=l,ue.retry=v,ue.bOnlyResponseEmptyIsOK=b,ue.blockSize=M._moduleSize,aU(ae,ue,function(ye){M.__HTTPPostResponseString=ae.HTTPPostResponse,function(be){if(M._bServerPercentDone=!0,Q.needShowTwiceShowDialog=!1,S&&Q.closeProgress(null,Y),te.slice(0),te=null,m.isFunction(T)){var Te=[];m.isArray(u)&&m.each(u,function(je){var Ye=M._ImgManager.convertServerIdToClientIndex(je);Ye>-1&&Te.push(Ye)}),si(T,be,Te)}}(ye)},de)}K=null},de,[B,U])})}},{key:"_getVersionInfoAsync",value:function(){return gn.versionInfoFromServer?Pe.Promise.resolve(gn.versionInfoFromServer):this._innerFunV2("VersionInfo")}},{key:"__innerLoadImage",value:function(a,u,d,l,c,p,g,S){var v,b=this,T=!1;if((m.isFunction(g)||V.DWT.ConnectWithSocket)&&(T=!0),!It.checkProductKey(b,{Core:!0}))return m.isFunction(S)&&S({code:b._errorCode,message:b._getErrorString()}),T?void 0:(u=null,!1);if(!It.checkPDFProductKeyWhenNeeds(b,l))return m.isFunction(S)&&S({code:b._errorCode,message:b._getErrorString()}),T?void 0:(u=null,!1);if(l==gr.IT_MULTIPAGE_PDF||l==gr.IT_MULTIPAGE_TIF)return vo(b),m.isFunction(S)&&S({code:b._errorCode,message:b._getErrorString()}),T?void 0:(u=null,!1);if(v=u,T){if(b._bRemoteMode&&b._getIfShowFileDialog())return v=null,u=null,qT(b),void(m.isFunction(S)&&S({code:b._errorCode,message:b._getErrorString()}));var D=V.DWT.IfConfineMaskWithinTheViewer;b.Viewer&&b.Viewer.webViewer&&b.Viewer.webViewer.imageEditor&&b.Viewer.webViewer.imageEditor.inner&&b.Viewer.webViewer.imageEditor.inner.bShowImageEditor==1&&b.Viewer.webViewer.imageEditor.inner.bShowImageEditor&&(V.DWT.IfConfineMaskWithinTheViewer=!1);var M=b.IfShowCancelDialogWhenImageTransfer;return b.IfShowCancelDialogWhenImageTransfer=!1,void b.__innerAcquireOrLoadImageAsync(a,d,c,!0).then(function(){b.IfShowCancelDialogWhenImageTransfer=M,V.DWT.IfConfineMaskWithinTheViewer=D,v=null,u=null,m.isFunction(g)&&g()},function(Z){if(b.IfShowCancelDialogWhenImageTransfer=M,V.DWT.IfConfineMaskWithinTheViewer=D,b._errorCode=Z.code,b._errorString=Z.message,(a=="LoadImage"||a=="LoadImageEx")&&b.__OnPostLoad&&!b.__bServerOnPostLoadFired){var ne=Rt.getFilePath(v),X=Rt.getFileName(v);b.__OnPostLoad(ne,X,""+l)}v=null,u=null,m.isFunction(S)&&S(Z)})}if(b._bRemoteMode&&b._getIfShowFileDialog())return v=null,u=null,qT(b),!1;var W=b._getCurrentDocumentName(),Y=b._getCurrentDefaultTagName(),ee=b.__innerLoadImageFun(a,d,p,W,Y);if(ee&&m.isString(v)&&v!=""&&b.__OnPostLoad&&!b.__bServerOnPostLoadFired){var te=Rt.getFilePath(v),de=Rt.getFileName(v);setTimeout(function(){b.__bServerOnPostLoadFired||b.__OnPostLoad(te,de,""+l)},10)}return v=null,u=null,ee}},{key:"__innerLoadImageFun",value:function(a,u,d,l,c){var p,g=this,S=!0;if(p=g._innerFunRaw(a,u,!1,!1,!0),g.__bOpenFileNow=!1,g._errorCode!=0)return!1;if(p&&m.isArray(p.result)&&p.result.length>0){if(d){var v;if(a=="FTPDownload"||a=="FTPDownloadEx")v=JSON.stringify(p.result);else{var b=p.result[0];m.isObject(b)?v=b.imageInfos:b!=-1||a!="LoadImage"&&a!="LoadImageEx"&&a!="LoadImageFromBase64Binary"&&a!="LoadDibFromClipboard"||(S=!1)}m.isString(v)&&g._handleOnBitmapChangedEvent({result:["c1",v]},{document:l,tag:c})}else{var T=p.result.join(",");g._OnBitmapChanged(["c1",T,1,g._ImgManager.getCurrentImageIndex(),g._ImgManager.count()],null,{document:l,tag:c})}if(S)return g._canConsume()&&V.DWT.lcvrf(g),!0}return Wk(g._errorCode)&&kf(g),!1}},{key:"__innerSaveImage",value:function(a,u,d,l){var c,p=this,g=!1;if(m.isFunction(d)&&(g=!0),g&&p._OnPercentDone([0,-1,tn.Encoding]),p._bRemoteMode||(V.DWT.IfAlwaysFocusOnPopupWindow?p._OnPageFocus(!0):p._OnPageBlur(!0)),g==0)return p._bRemoteMode?p._serviceSyncMethodNotSupport(a):this._innerFun(a,u);if(p._bRemoteMode&&p._getIfShowFileDialog())return qT(p),void(m.isFunction(l)&&l(p._errorCode,p._getErrorString()));var S=(c=Q.progressContext)===null||c===void 0?void 0:c.IfShowCancelDialogWhenImageTransfer;p.IfShowProgressBar?Q.showProgress(p,a,!1):Q.hideProgress(),Q.progressContext&&(Q.progressContext.IfShowCancelDialogWhenImageTransfer=!1),p._innerSend(a,u,!0,function(){g&&(a!="SaveAsPNG"&&a!="SaveAsJPEG"&&a!="SaveAsBMP"&&a!="SaveAsBMP"||p._OnPercentDone([0,100,"","http"])),Q.progressContext&&(Q.progressContext.IfShowCancelDialogWhenImageTransfer=S),setTimeout(function(){Q.closeProgress(null,a)},0),m.isFunction(d)&&d()},function(v){return Q.progressContext&&(Q.progressContext.IfShowCancelDialogWhenImageTransfer=S),m.isFunction(l)&&l(p._errorCode,p._getErrorString()),Q.closeProgress(null,a),v&&m.error(v),!1})}},{key:"__captureImage",value:function(a,u,d,l){var c=this.__GetLoadEventsNum();return this.__LoadImageFromBytesV2(a,u,"",!0,0,0,!0,c,d,l)}},{key:"_getIfShowFileDialog",value:function(){return this._resetErr(),this._isValid()?this._innerFun("IfShowFileDialog"):Oe}},{key:"SaveAsBMP",value:function(a,u,d,l){var c=this,p=!1;if((m.isFunction(d)||he.bAndroid)&&(p=!0),c._resetErr(),!c._isValid())return m.isFunction(l)&&pt(l,c),!!p&&void 0;if(!(It.checkProductKey(c,{Core:!0})||he.bWin&&It.checkProductKey(c,{Webcam:!0},!0)))return It.checkProductKey(c,{Core:!0},!1),m.isFunction(l)&&pt(l,c),!!p&&void 0;var g,S=Rt.replaceLocalFilename(a);if(!Ml(c,u,l))return!!p&&void 0;if(he.bAndroid){if(c._ImgManager.count()==0)return Ii(c),void(m.isFunction(l)&&pt(l,c));var v=[];return v.push(u),void c._saveImages("SaveAsBMP",S,v,gr.IT_BMP).then(function(){m.isFunction(d)&&d()}).catch(function(D){m.isFunction(l)&&l(D.code,D.message)})}if((g=c._ImgManager.convertClientIndexToServerId(u))==-1)return tt(c),m.isFunction(l)&&pt(l,c),!!p&&void 0;var b=c.__GetLoadEventsNum(),T=c.__innerSaveImage("SaveAsBMP",Ge(S,g,b),d,l);return p?void 0:T}},{key:"SaveAsJPEG",value:function(a,u,d,l){var c=this,p=!1;if((m.isFunction(d)||he.bAndroid)&&(p=!0),c._resetErr(),!c._isValid())return m.isFunction(l)&&pt(l,c),!!p&&void 0;if(!(It.checkProductKey(c,{Core:!0})||he.bWin&&It.checkProductKey(c,{Webcam:!0},!0)))return It.checkProductKey(c,{Core:!0},!1),m.isFunction(l)&&pt(l,c),!!p&&void 0;if(!Ml(c,u,l))return!!p&&void 0;var g,S=Rt.replaceLocalFilename(a);if(he.bAndroid){if(c._ImgManager.count()==0)return Ii(c),void(m.isFunction(l)&&pt(l,c));var v=[];return v.push(u),void c._saveImages("SaveAsJPEG",S,v,gr.IT_JPG).then(function(){m.isFunction(d)&&d()}).catch(function(D){m.isFunction(l)&&l(D.code,D.message)})}if((g=c._ImgManager.convertClientIndexToServerId(u))==-1)return tt(c),m.isFunction(l)&&pt(l,c),!!p&&void 0;var b=c.__GetLoadEventsNum(),T=c.__innerSaveImage("SaveAsJPEG",Ge(S,g,b),d,l);return p?void 0:T}},{key:"SaveAsPDF",value:function(a,u,d,l){var c=this,p=!1;if((m.isFunction(d)||he.bAndroid)&&(p=!0),c._resetErr(),!c._isValid())return m.isFunction(l)&&pt(l,c),!!p&&void 0;if(!(It.checkProductKey(c,{Core:!0})||he.bWin&&It.checkProductKey(c,{Webcam:!0},!0)))return It.checkProductKey(c,{Core:!0},!1),m.isFunction(l)&&pt(l,c),!!p&&void 0;if(!Ml(c,u,l))return!!p&&void 0;var g,S=Rt.replaceLocalFilename(a);if(he.bAndroid){if(c._ImgManager.count()==0)return Ii(c),void(m.isFunction(l)&&pt(l,c));var v=[];return v.push(u),void c._saveImages("SaveSelectedImagesAsMultiPagePDF",S,v,gr.IT_PDF).then(function(){m.isFunction(d)&&d()}).catch(function(M){m.isFunction(l)&&l(M.code,M.message)})}if((g=c._ImgManager.convertClientIndexToServerId(u))==-1)return tt(c),m.isFunction(l)&&pt(l,c),!!p&&void 0;var b=[g],T=c.__GetLoadEventsNum(),D=c.__innerSaveImage("SaveSelectedImagesAsMultiPagePDF",Ge(S,b.join(","),T),d,l);return p?void 0:D}},{key:"SaveAsPNG",value:function(a,u,d,l){var c=this,p=!1;if((m.isFunction(d)||he.bAndroid)&&(p=!0),c._resetErr(),!c._isValid())return m.isFunction(l)&&pt(l,c),!!p&&void 0;if(!(It.checkProductKey(c,{Core:!0})||he.bWin&&It.checkProductKey(c,{Webcam:!0},!0)))return It.checkProductKey(c,{Core:!0},!1),m.isFunction(l)&&pt(l,c),!!p&&void 0;if(!Ml(c,u,l))return!!p&&void 0;var g,S=Rt.replaceLocalFilename(a);if(he.bAndroid){if(c._ImgManager.count()==0)return Ii(c),void(m.isFunction(l)&&pt(l,c));var v=[];return v.push(u),void c._saveImages("SaveAsPNG",S,v,gr.IT_PNG).then(function(){m.isFunction(d)&&d()}).catch(function(D){m.isFunction(l)&&l(D.code,D.message)})}if((g=c._ImgManager.convertClientIndexToServerId(u))==-1)return tt(c),m.isFunction(l)&&pt(l,c),!!p&&void 0;var b=c.__GetLoadEventsNum(),T=c.__innerSaveImage("SaveAsPNG",Ge(S,g,b),d,l);return p?void 0:T}},{key:"SaveAsTIFF",value:function(a,u,d,l){var c=this,p=!1;if((m.isFunction(d)||he.bAndroid)&&(p=!0),c._resetErr(),!c._isValid())return m.isFunction(l)&&pt(l,c),!!p&&void 0;if(!(It.checkProductKey(c,{Core:!0})||he.bWin&&It.checkProductKey(c,{Webcam:!0},!0)))return It.checkProductKey(c,{Core:!0},!1),m.isFunction(l)&&pt(l,c),!!p&&void 0;if(!Ml(c,u,l))return!!p&&void 0;var g,S=Rt.replaceLocalFilename(a);if(he.bAndroid){if(c._ImgManager.count()==0)return Ii(c),void(m.isFunction(l)&&pt(l,c));var v=[];return v.push(u),void c._saveImages("SaveAsTIFF",S,v,gr.IT_TIF).then(function(){m.isFunction(d)&&d()}).catch(function(D){m.isFunction(l)&&l(D.code,D.message)})}if((g=c._ImgManager.convertClientIndexToServerId(u))==-1)return tt(c),m.isFunction(l)&&pt(l,c),!!p&&void 0;var b=c.__GetLoadEventsNum(),T=c.__innerSaveImage("SaveAsTIFF",Ge(S,g,b),d,l);return p?void 0:T}},{key:"SaveSelectedImagesAsMultiPagePDF",value:function(a,u,d){var l=this,c=!1;if((m.isFunction(u)||he.bAndroid)&&(c=!0),l._resetErr(),!l._isValid())return m.isFunction(d)&&pt(d,l),!!c&&void 0;if(!(It.checkProductKey(l,{Core:!0})||he.bWin&&It.checkProductKey(l,{Webcam:!0},!0)))return It.checkProductKey(l,{Core:!0},!1),m.isFunction(d)&&pt(d,l),!!c&&void 0;var p=Rt.replaceLocalFilename(a);if(!he.bAndroid){var g=Hf(l);if(g.length==0)return Ii(l),m.isFunction(d)&&pt(d,l),!!c&&void 0;var S=l.__GetLoadEventsNum(),v=l.__innerSaveImage("SaveSelectedImagesAsMultiPagePDF",Ge(p,g.join(","),S),u,d);return c?void 0:v}if(l._ImgManager.count()==0)return Ii(l),void(m.isFunction(d)&&pt(d,l));var b=cO(l);l._saveImages("SaveSelectedImagesAsMultiPagePDF",p,b,gr.IT_PDF).then(function(){m.isFunction(u)&&u()}).catch(function(T){m.isFunction(d)&&d(T.code,T.message)})}},{key:"SaveSelectedImagesAsMultiPageTIFF",value:function(a,u,d){var l=this,c=!1;if((m.isFunction(u)||he.bAndroid)&&(c=!0),l._resetErr(),!l._isValid())return m.isFunction(d)&&pt(d,l),!!c&&void 0;if(!(It.checkProductKey(l,{Core:!0})||he.bWin&&It.checkProductKey(l,{Webcam:!0},!0)))return It.checkProductKey(l,{Core:!0},!1),m.isFunction(d)&&pt(d,l),!!c&&void 0;var p=Rt.replaceLocalFilename(a);if(!he.bAndroid){var g=Hf(l);if(g.length==0)return Ii(l),m.isFunction(d)&&pt(d,l),!!c&&void 0;var S=l.__GetLoadEventsNum(),v=l.__innerSaveImage("SaveSelectedImagesAsMultiPageTIFF",Ge(p,g.join(","),S),u,d);return c?void 0:v}if(l._ImgManager.count()==0)return Ii(l),void(m.isFunction(d)&&pt(d,l));var b=cO(l);l._saveImages("SaveSelectedImagesAsMultiPageTIFF",p,b,gr.IT_TIF).then(function(){m.isFunction(u)&&u()}).catch(function(T){m.isFunction(d)&&d(T.code,T.message)})}},{key:"SaveAllAsMultiPageTIFF",value:function(a,u,d){var l=this,c=!1;if((m.isFunction(u)||he.bAndroid)&&(c=!0),l._resetErr(),!l._isValid())return m.isFunction(d)&&pt(d,l),!!c&&void 0;if(!(It.checkProductKey(l,{Core:!0})||he.bWin&&It.checkProductKey(l,{Webcam:!0},!0)))return It.checkProductKey(l,{Core:!0},!1),m.isFunction(d)&&pt(d,l),!!c&&void 0;if(!KC(l,d))return!!c&&void 0;var p=[],g=Rt.replaceLocalFilename(a);if(!he.bAndroid){if(By(l,p),p.length==0)return Ii(l),m.isFunction(d)&&pt(d,l),!!c&&void 0;var S=l.__GetLoadEventsNum(),v=l.__innerSaveImage("SaveSelectedImagesAsMultiPageTIFF",Ge(g,p.join(","),S),u,d);return c?void 0:v}if(l._ImgManager.count()==0)return Ii(l),void(m.isFunction(d)&&pt(d,l));for(var b=[],T=0;T<this._ImgManager.count();T++)b.push(T);l._saveImages("SaveAllAsMultiPageTIFF",g,b,gr.IT_TIF).then(function(){m.isFunction(u)&&u()}).catch(function(D){m.isFunction(d)&&d(D.code,D.message)})}},{key:"SaveAllAsPDF",value:function(a,u,d){var l=this,c=!1;if((m.isFunction(u)||he.bAndroid)&&(c=!0),l._resetErr(),!l._isValid())return m.isFunction(d)&&pt(d,l),!!c&&void 0;if(!(It.checkProductKey(l,{Core:!0})||he.bWin&&It.checkProductKey(l,{Webcam:!0},!0)))return It.checkProductKey(l,{Core:!0},!1),m.isFunction(d)&&pt(d,l),!!c&&void 0;if(!KC(l,d))return!!c&&void 0;var p=[],g=Rt.replaceLocalFilename(a);if(!he.bAndroid){if(By(l,p),p.length==0)return Ii(l),m.isFunction(d)&&pt(d,l),!!c&&void 0;var S=l.__GetLoadEventsNum(),v=l.__innerSaveImage("SaveSelectedImagesAsMultiPagePDF",Ge(g,p.join(","),S),u,d);return c?void 0:v}if(l._ImgManager.count()==0)return Ii(l),void(m.isFunction(d)&&pt(d,l));for(var b=[],T=0;T<this._ImgManager.count();T++)b.push(T);l._saveImages("SaveAllAsPDF",g,b,gr.IT_PDF).then(function(){m.isFunction(u)&&u()}).catch(function(D){m.isFunction(d)&&d(D.code,D.message)})}},{key:"HTTPUpload",value:function(a,u,d,l,c,p,g){var S=this,v=c??"RemoteFile",b=S._GetHttpHeadersAndClear(),T=p,D=g;if(S._resetErr(),arguments.length<=3)return T=u,D=d,void this._innerFormFieldHTTPUpload(a,b,T,D);if(m.isFunction(arguments[4])&&m.isFunction(arguments[5])&&(v="RemoteFile",T=arguments[4],arguments.length>5&&(D=arguments[5])),S._isValid()){var M,W=arguments,Y=function(te){m.isFunction(D)&&Oi(D,S,S.__HTTPPostResponseString,te,W)};if(m.isUndefined(a)||a==="")return oo(S),void(Y&&Y(u));if(!m.isString(a))return em(S),void(Y&&Y(u));if(S._checkIndices(u)){var ee=Ll(S,u);if(ee.length==0)return ir(S),void(Y&&Y(u));if(m.isUndefined(d))return vo(S),void(Y&&Y(u));if(d==V.DWT.EnumDWT_ImageType.IT_BMP||d==V.DWT.EnumDWT_ImageType.IT_JPG||d==V.DWT.EnumDWT_ImageType.IT_PNG){if(ee.length>1)return Nf(S),void Y(u)}else if(d!=V.DWT.EnumDWT_ImageType.IT_TIF&&d!=V.DWT.EnumDWT_ImageType.IT_PDF)return vo(S),void Y(u);if(m.isUndefined(l)||l!=V.DWT.EnumDWT_UploadDataFormat.Binary&&l!=V.DWT.EnumDWT_UploadDataFormat.Base64)return gk(S),void Y(u);M={method:"HTTPUpload",url:a,serverIds:ee,headers:b,formData:rc(S.httpFormFields),enumImageType:d,saveSetup:!1,dataFormat:l,fileName:v,retry:0,bOnlyResponseEmptyIsOK:!0,objUploadFileStatus:!1,asyncSuccessFunc:function(te,de){m.isFunction(T)&&si(T,S.__HTTPPostResponseString,de,W)},asyncFailureFunc:Y},this._asyncUploadCmd(M)}else Y&&Y(u)}else m.isFunction(D)&&pt(D,S,"")}},{key:"_innerFormFieldHTTPUpload",value:function(a,u,d,l){var c,p=this,g="HTTPUpload",S=a,v=p.IfShowProgressBar;if(p._isValid()){if(m.isUndefined(S)||S==="")return oo(p),void(m.isFunction(l)&&pt(l,p,""));if(!m.isString(S))return em(p),void(m.isFunction(l)&&pt(l,p,""));S.indexOf("http://")!=0&&S.indexOf("https://")!=0&&(S=wn()?"https://"+S:"http://"+S),p.__HTTPPostResponseString="",Q.cancelFrom=or.HTTPUpload,c=function(D,M,W){D!=0&&M&&(p._errorCode=D,p._errorString=M),W&&(p.__HTTPPostResponseString=W),Q.needShowTwiceShowDialog=!1,Q.closeProgress(null,g),m.isFunction(l)&&pt(l,p,p.__HTTPPostResponseString)},v?Q.showProgress(p,g,!1):Q.hideProgress(),Q.needShowTwiceShowDialog=!0,p._OnPercentDone([0,-1,tn.Uploading,"http"]);var b=p._createHttpUploaderConfig(),T=new rs;p.__remoteFilename&&p.__remoteFilename!=""&&(T.remoteFilename=p.__remoteFilename),T.url=S,T.method=g,T.content=[],T.headers=u,T.httpFormData=rc(p.httpFormFields),T.blockSize=p._moduleSize,new vu().httpPostUpload(b,T,function(D){Q.needShowTwiceShowDialog=!1,Q.closeProgress(null,g),m.isFunction(d)&&si(d,D,a,[a,d,l])},c)}else m.isFunction(l)&&pt(l,p,"")}},{key:"HTTPUploadThroughPost",value:function(a,u,d,l,c,p,g){var S=this,v=!1;if(m.isFunction(c)&&(v=!0),S._resetErr(),!S._isValid())return!!v&&void 0;var b=Rt.getImageType(l),T=arguments,D=!1,M=function(W){return m.isFunction(p)&&Oi(p,S,S.__HTTPPostResponseString,W,T),!1};return m.isString(l)&&l!=""?(c&&m.isFunction(c)&&(D=function(W,Y){return si(c,S.__HTTPPostResponseString,Y,T),!0}),_U(S,u,b,M)?Na(ca,S,Dh).call(S,a,u,d,l,b,D,M,g):!!v&&void 0):(Kn(S),M(),!!v&&void 0)}},{key:"HTTPUploadThroughPostEx",value:function(a,u,d,l,c,p,g,S){var v=this,b=!1;if(m.isFunction(p)&&(b=!0),v._resetErr(),!v._isValid())return m.isFunction(g)&&Oi(g,v,""),!!b&&void 0;var T=arguments,D=!1,M=function(W){m.isFunction(g)&&Oi(g,v,v.__HTTPPostResponseString,W,T)};return m.isString(l)&&l!=""?(p&&m.isFunction(p)&&(D=function(W,Y){si(p,v.__HTTPPostResponseString,Y,T)}),_U(v,u,c,M)?Na(ca,v,Dh).call(v,a,u,d,l,c,D,M,S):!!b&&void 0):(Kn(v),M(),!!b&&void 0)}},{key:"HTTPUploadAllThroughPostAsMultiPageTIFF",value:function(a,u,d,l,c,p){var g=this,S=!1;if(m.isFunction(l)&&(S=!0),g._resetErr(),!g._isValid())return m.isFunction(c)&&Oi(c,g,""),!!S&&void 0;var v=arguments,b=!1,T=function(D){m.isFunction(c)&&Oi(c,g,g.__HTTPPostResponseString,D,v)};return m.isString(d)&&d!=""?(S&&(b=function(D,M){si(l,g.__HTTPPostResponseString,M,v)}),Na(ca,g,Dh).call(g,a,-1,u,d,2,b,T,p)):(Kn(g),T(),!!S&&void 0)}},{key:"HTTPUploadAllThroughPostAsPDF",value:function(a,u,d,l,c,p){var g=this,S=!1;if(m.isFunction(l)&&(S=!0),g._resetErr(),!g._isValid())return m.isFunction(c)&&pt(c,g,""),!!S&&void 0;var v=arguments,b=!1,T=function(D){return m.isFunction(c)&&Oi(c,g,g.__HTTPPostResponseString,D,v),!1};return m.isString(d)&&d!=""?(S&&(b=function(D,M){si(l,g.__HTTPPostResponseString,M,v)}),Na(ca,g,Dh).call(g,a,-1,u,d,4,b,T,p)):(Kn(g),T())}},{key:"HTTPUploadThroughPostAsMultiPagePDF",value:function(a,u,d,l,c,p){var g=this,S=!1;if(m.isFunction(l)&&(S=!0),g._resetErr(),!g._isValid())return m.isFunction(c)&&pt(c,g,""),!!S&&void 0;var v=arguments,b=!1,T=function(D){m.isFunction(c)&&Oi(c,g,g.__HTTPPostResponseString,D,v)};return m.isString(d)&&d!=""?(S&&(b=function(D,M){si(l,g.__HTTPPostResponseString,M,v)}),Na(ca,g,Dh).call(g,a,-2,u,d,4,b,T,p)):(Kn(g),T(),!!S&&void 0)}},{key:"HTTPUploadThroughPostAsMultiPageTIFF",value:function(a,u,d,l,c,p){var g=this,S=!1;if(m.isFunction(l)&&(S=!0),g._resetErr(),!g._isValid())return m.isFunction(c)&&pt(c,g,""),!!S&&void 0;var v=arguments,b=!1,T=function(D){m.isFunction(c)&&Oi(c,g,g.__HTTPPostResponseString,D,v)};return m.isString(d)&&d!=""?(S&&(b=function(D,M){si(l,g.__HTTPPostResponseString,M,v)}),Na(ca,g,Dh).call(g,a,-2,u,d,2,b,T,p)):(Kn(g),T(),!!S&&void 0)}},{key:"_innerHTTPDownloadThroughGet",value:function(a,u,d,l,c,p){var g,S,v=this,b=v._GetHttpHeadersAndClear(),T=v.IfShowProgressBar,D=Rt.combineUrl(v,u,d),M=!1;if(m.isFunction(c)&&(M=!0),D===void 0)return oo(v),m.isFunction(p)&&pt(p,v),!!M&&void 0;if(!It.checkProductKey(v,{Core:!0})||!It.checkPDFProductKeyWhenNeeds(v,l))return m.isFunction(p)&&pt(p,v),!!M&&void 0;Q.cancelFrom=or.HTTPDownload;var W=(g=Q.progressContext)===null||g===void 0?void 0:g.IfShowCancelDialogWhenImageTransfer,Y=v._getCurrentDocumentName(),ee=v._getCurrentDefaultTagName();return m.log("_innerHTTPDownloadThroughGet.currentFileName:"+Y+", tag="+ee),T&&M?(v.__IfShowCancelDialogWhenImageTransfer&&(Q.progressContext.__cancelBeforObjectCreated=!0),Q.showProgress(v,a,v.__IfShowCancelDialogWhenImageTransfer)):M&&Q.hideProgress(),v._OnPercentDone([0,-1,tn.Downloading,"http"]),S=Rt.loadHttpBlob(v,"get",D,M,function(te){Q.progressContext&&(Q.progressContext.IfShowCancelDialogWhenImageTransfer=W),T&&M&&$u(!1),v._OnPercentDone([0,-1,tn.Loading]);var de=l;de!=V.DWT.EnumDWT_ImageType.IT_BMP&&de!=V.DWT.EnumDWT_ImageType.IT_JPG&&de!=V.DWT.EnumDWT_ImageType.IT_TIF&&de!=V.DWT.EnumDWT_ImageType.IT_PNG&&de!=V.DWT.EnumDWT_ImageType.IT_PDF&&de!=V.DWT.EnumDWT_ImageType.IT_J2K&&(de=-1);var Z=v.__GetLoadEventsNum(),ne=Rt.getFileName(d);return te.currentFileName=Y,te.currentTagName=ee,te.name=ne,v._loadImageBytesFileCount+=1,v.__LoadImageFromBytesV1(te,de,"",Z,M,function(){if(T&&M&&Q.closeProgress(null,a),v._loadImageBytesFileCount-=1,v.__OnPostLoad&&!v.__bServerOnPostLoadFired){var X=Rt.getFilePath(D);v.__OnPostLoad(X,ne,""+de)}return ne=null,m.isFunction(c)&&c(),!0},function(){if(T&&M&&Q.closeProgress(null,a),v._loadImageBytesFileCount-=1,v.__OnPostLoad&&!v.__bServerOnPostLoadFired){var X=Rt.getFilePath(D);v.__OnPostLoad(X,ne,""+de)}return ne=null,m.isFunction(p)&&pt(p,v),!1})},function(){Q.progressContext&&(Q.progressContext.IfShowCancelDialogWhenImageTransfer=W),T&&M&&Q.closeProgress(null,a);var te=Rt.getFileName(d);if(v.__OnPostLoad&&!v.__bServerOnPostLoadFired){var de=Rt.getFilePath(D);v.__OnPostLoad(de,te,""+l)}return m.isFunction(p)&&pt(p,v),!1},function(te){var de=te.total===0?100:Math.round(100*te.loaded/te.total);[te.loaded," / ",te.total].join(""),de>=100&&te.loaded<te.total&&(de=99),v._OnPercentDone([0,de,"","http"])},b),M?void 0:!!S}},{key:"LoadImage",value:function(a,u,d){var l=this,c=!1,p=l.__bServerOnPostLoadFired;if(l._resetErr(),!m.isFunction(u)||(c=!0,!p)){if(!l._isValid())return m.isFunction(d)&&pt(d,l),!!c&&void 0;var g,S,v,b=Rt.replaceLocalFilename(a),T=Rt.getImageType(b);u&&m.isFunction(u)&&(S=function(W){u()}),d&&m.isFunction(d)&&(v=function(W){d(W.code,W.message)}),g=l.__GetLoadEventsNum(),b==""&&(l.__bOpenFileNow=!0);var D=l._getCurrentDocumentName(),M=l._getCurrentDefaultTagName();return l.__innerLoadImage("LoadImage",a,Ge(b,g,1,D,M),T,!0,1,S,v)}setTimeout(function(){l.LoadImage(a,u,d)},10)}},{key:"LoadImageEx",value:function(a,u,d,l){var c=this,p=!1,g=c.__bServerOnPostLoadFired;if(c._resetErr(),m.isFunction(d)&&(p=!0,g))setTimeout(function(){c.LoadImageEx(a,u,d,l)},10);else{if(!c._isValid())return m.isFunction(l)&&pt(l,c),!!p&&void 0;var S,v,b,T=Rt.replaceLocalFilename(a),D=u;if(d&&m.isFunction(d)&&(v=function(te){d()}),l&&m.isFunction(l)&&(b=function(te){l(te.code,te.message)}),!he.bAndroid){D==V.DWT.EnumDWT_ImageType.IT_ALL&&(D=-1),S=c.__GetLoadEventsNum(),T==""&&(c.__bOpenFileNow=!0);var M=c._getCurrentDocumentName(),W=c._getCurrentDefaultTagName();return c.__innerLoadImage("LoadImageEx",a,Ge(T,D,S,1,M,W),D,!0,1,v,b)}var Y=Pe.one(".d-loadImage");if(Y.length==0){var ee=document.createElement("input");ee._stwain=c,ee.setAttribute("type","file"),ee.setAttribute("multiple","multiple"),ee.style.position="absolute",ee.style.top="-9999px",ee.style.left="-9999px",ee.style.width="1px",ee.style.height="1px",ee.className="d-loadImage",u==V.DWT.EnumDWT_ImageType.IT_BMP?ee.setAttribute("accept","image/bmp"):u==V.DWT.EnumDWT_ImageType.IT_JPG?ee.setAttribute("accept","image/jpeg"):u==V.DWT.EnumDWT_ImageType.IT_TIF?ee.setAttribute("accept","image/tiff"):u==V.DWT.EnumDWT_ImageType.IT_PNG?ee.setAttribute("accept","image/png"):u==V.DWT.EnumDWT_ImageType.IT_PDF?ee.setAttribute("accept",".pdf"):u==V.DWT.EnumDWT_ImageType.IT_J2K?ee.setAttribute("accept",".jp2,.j2k,.j2c"):Cn.bMobile?ee.setAttribute("accept","image/jpeg,image/png,image/tiff,image/tif"):ee.setAttribute("accept","image/*,.pdf,.jp2,.j2k,.j2c"),ee.ondoubleclick=function(){this.files.length>0&&this._stwain.LoadImageFromBinary(this.files,v,b),this.value="",this._stwain=null,ee&&ee.parentElement.removeChild(ee)},ee.onchange=function(){this.files.length>0&&this._stwain.LoadImageFromBinary(this.files,v,b),this.value="",this._stwain=null,ee&&ee.parentElement.removeChild(ee)},document.body.appendChild(ee),ee.click()}else u==V.DWT.EnumDWT_ImageType.IT_BMP?Y[0].setAttribute("accept","image/bmp"):u==V.DWT.EnumDWT_ImageType.IT_JPG?Y[0].setAttribute("accept","image/jpeg"):u==V.DWT.EnumDWT_ImageType.IT_TIF?Y[0].setAttribute("accept","image/tiff"):u==V.DWT.EnumDWT_ImageType.IT_PNG?Y[0].setAttribute("accept","image/png"):u==V.DWT.EnumDWT_ImageType.IT_PDF?Y[0].setAttribute("accept",".pdf"):u==V.DWT.EnumDWT_ImageType.IT_J2K?Y[0].setAttribute("accept",".jp2,.j2k,.j2c"):Cn.bMobile?Y[0].setAttribute("accept","image/jpeg,image/png,image/tiff,image/tif"):Y[0].setAttribute("accept","image/*,.pdf,.jp2,.j2k,.j2c"),Y[0].value="",Y[0]._stwain=c,Y[0].click()}}},{key:"HTTPDownload",value:function(a,u,d,l){var c=this,p=!1;if(m.isFunction(d)&&(p=!0),c._resetErr(),!c._isValid())return m.isFunction(l)&&pt(l,c),!!p&&void 0;var g=Rt.getImageType(u);return c._innerHTTPDownloadThroughGet("HTTPDownload",a,u,g,d,l)}},{key:"HTTPDownloadEx",value:function(a,u,d,l,c){var p=this,g=!1;return m.isFunction(l)&&(g=!0),p._resetErr(),p._isValid()?p._innerHTTPDownloadThroughGet("HTTPDownloadEx",a,u,d,l,c):(m.isFunction(c)&&pt(c,p),!!g&&void 0)}},{key:"getFormateDate",value:function(){var a=new Date,u=a.getFullYear(),d=a.getMonth()+1,l=a.getDate(),c=a.getHours(),p=a.getMinutes(),g=a.getSeconds();return d<=9&&(d="0"+d),l<=9&&(l="0"+l),c<=9&&(c="0"+c),p<=9&&(p="0"+p),g<=9&&(g="0"+g),{currentTime_title:u+"-"+d+"-"+l+" "+c+":"+p+":"+g,currentTime_info:d+"/"+l+"/"+u+" "+c+":"+p+":"+g}}},{key:"__shareImagesInner",value:function(a,u,d,l){var c=navigator;c.canShare&&c.canShare({files:a})&&c.share({files:a,title:u,text:this.getFormateDate().currentTime_info}).then(function(){m.isFunction(d)&&d()}).catch(function(p){m.isFunction(l)&&l(p)})}},{key:"ShareImages",value:(o=s(E().mark(function a(u,d,l){var c,p,g,S,v,b,T,D,M;return E().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(c=this,!he.bAndroid){W.next=38;break}if(l!=gr.IT_ALL&&l!=gr.IT_MULTIPAGE_PDF&&l!=gr.IT_MULTIPAGE_TIF){W.next=5;break}throw Ak(c),{code:c._errorCode,message:c._errorString};case 5:if(p=d.sort(function(Y,ee){return Y-ee}),!(p.length>0)){W.next=36;break}if(g="IMAGE File",l==gr.IT_PDF&&(g="PDF File"),S=e0(u,l),m.isUndefined(S)&&(S=u),l!=gr.IT_PDF&&l!=gr.IT_TIF){W.next=15;break}return W.abrupt("return",new Pe.Promise(function(Y,ee){c.ConvertToBlob(p,l,function(te,de,Z){var ne=[new File([te],S,{type:te.type})];c.__shareImagesInner(ne,g,function(){Y()},function(X){ee({code:X.code!=0?X.code:2201,message:X.message})})},function(){ee({code:c._errorCode,message:c._errorString})})}));case 15:v=[],b=S,W.t0=l,W.next=W.t0===gr.IT_BMP?20:W.t0===gr.IT_JPG?22:W.t0===gr.IT_PNG?24:26;break;case 20:return T=".bmp",W.abrupt("break",27);case 22:return T=".jpg",W.abrupt("break",27);case 24:return T=".png",W.abrupt("break",27);case 26:T=".jpg";case 27:S&&S.lastIndexOf(".")>0&&(b=S.substring(0,S.lastIndexOf(".")),T=S.substring(S.lastIndexOf("."),S.length)),D=E().mark(function Y(ee){return E().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return te.next=2,new Pe.Promise(function(de,Z){c.ConvertToBlob([p[ee]],l,function(ne,X,F){ee==0?v.push(new File([ne],b+T,{type:ne.type})):v.push(new File([ne],b+ee+T,{type:ne.type})),de()},function(){Z({code:c._errorCode,message:c._errorString})})});case 2:case"end":return te.stop()}},Y)}),M=0;case 30:if(!(M<p.length)){W.next=35;break}return W.delegateYield(D(M),"t1",32);case 32:M++,W.next=30;break;case 35:c.__shareImagesInner(v,g);case 36:W.next=40;break;case 38:throw zY(c),{code:c._errorCode,message:c._errorString};case 40:case"end":return W.stop()}},a,this)})),function(a,u,d){return o.apply(this,arguments)})},{key:"Addon",get:function(){return this.__addon}},{key:"LoadDibFromClipboard",value:function(a,u){var d=this,l=!1,c=d.__bServerOnPostLoadFired;if(d._resetErr(),!m.isFunction(a)||(l=!0,!c)){if(!d._isValid())return m.isFunction(u)&&pt(u,d),!!l&&void 0;if(d._bRemoteMode)return Me(d,-2609,"LoadDibFromClipboard is not supported when Object is created by CreateRemoteScanObjectAsync."),m.isFunction(u)&&pt(u,d),!!l&&void 0;var p,g;a&&m.isFunction(a)&&(p=function(v){a()}),u&&m.isFunction(u)&&(g=function(v){u(v.code,v.message)});var S;return S=d.__GetLoadEventsNum(),d.__innerLoadImage("LoadDibFromClipboard","",Ge(S,1),-1,!0,1,p,g)}setTimeout(function(){d.LoadDibFromClipboard(a,u)},10)}},{key:"__innerGetBarcodeResultAsyncFunction",value:function(a){var u=Q.NewBarcodeResult();return a&&(u._errorCode=a.exception,u._errorString=a.description,u._resultlist=a.result,u._Count=a.result.length),u}},{key:"__innerGetOCRResultAsyncFunction",value:function(a){var u=Q.NewOCRResult(this);return a&&(u._errorCode=a.exception,u._errorString=a.description,u._resultlist=a.result),u}},{key:"__innerFTPUpload",value:function(a,u,d,l){return Q.cancelFrom=or.FTPUpload,Na(ca,this,vU).call(this,a,u,!0,d,l)}},{key:"_GetHttpHeadersAndClear",value:function(){var a=this.__httpHeaderMap;return this.__httpHeaderMap={},a||(a={}),a}},{key:"_asyncUploadCmd",value:function(a){var u,d=this,l=a.url,c=a.asyncSuccessFunc,p=a.asyncFailureFunc,g=d.IfShowCancelDialogWhenImageTransfer,S=(u=Q.progressContext)===null||u===void 0?void 0:u.IfShowCancelDialogWhenImageTransfer,v=a.method,b=a.serverIds,T=a.headers,D=a.formData,M=a.enumImageType,W=a.dataFormat,Y=a.fileName,ee=a.saveSetup,te=a.retry,de=a.bOnlyResponseEmptyIsOK,Z=a.objUploadFileStatus,ne=function(X,F,B,U){d.IfShowCancelDialogWhenImageTransfer=g,Q.progressContext&&(Q.progressContext.IfShowCancelDialogWhenImageTransfer=S);var K=[];if(m.isArray(b)&&m.each(b,function(J){var re=d._ImgManager.convertServerIdToClientIndex(J);re>-1&&K.push(re)}),X!=0&&F&&(d._errorCode=X,d._errorString=F),B&&(d.__HTTPPostResponseString=B),m.isFunction(p))try{p(K)}catch{}return!1};return m.isNumber(te)&&te>0||(te=0),d._errorCode!=0?ne(d._errorCode,d._errorString,d.__HTTPPostResponseString):(d.__HTTPPostResponseString="",d.IfShowCancelDialogWhenImageTransfer=!0,Q.progressContext.IfShowCancelDialogWhenImageTransfer=d.IfShowCancelDialogWhenImageTransfer,n._innerHTTPUpload(d,v,l,T,D,b,M,W,Y,ee,te,de,Z,function(X){if(d.IfShowCancelDialogWhenImageTransfer=g,Q.progressContext&&(Q.progressContext.IfShowCancelDialogWhenImageTransfer=S),m.isFunction(c)){var F=[];m.isArray(b)&&m.each(b,function(B){var U=d._ImgManager.convertServerIdToClientIndex(B);U>-1&&F.push(U)});try{si(c,X,F)}catch{}X=null}return!0},ne))}}],[{key:"_innerHTTPUpload",value:function(a,u,d,l,c,p,g,S,v,b,T,D,M,W,Y){var ee=parseInt(g),te=parseInt(S),de=v,Z=d,ne=a._segementUploadThreshold;if(m.isUndefined(g))return vo(a),m.isFunction(Y)&&Y(a._errorCode,a._errorString,""),!1;a._resetErr(),Q.cancelFrom=or.HTTPUpload;var X,F=function(U,K,J,re){return U!=0&&K&&(a._errorCode=U,a._errorString=K),J&&(a.__HTTPPostResponseString=J),Q.needShowTwiceShowDialog=!1,a.IfShowProgressBar&&Q.closeProgress(null,u),m.isFunction(Y)&&Y(a._errorCode,a._errorString,a.__HTTPPostResponseString,re),!1},B=a._createHttpUploaderConfig();if(B.objUploadStatus=M,de=e0(de,ee),Q.needShowTwiceShowDialog=!0,a.IfShowProgressBar?(Q.showProgress(a,u,!1),Q.progressContext&&(Q.progressContext._onPercent=function(U){var K=0;if(U){var J,re;J=U.loaded,re=U.total,(K=Math.floor(J/re*100))>100&&(K=100)}Q.progressBarOnPercentDone(-1,"Transferring...","",K,"")})):Q.hideProgress(),te==V.DWT.EnumDWT_UploadDataFormat.Binary){if(M&&M.bCancel)return M.st=2,Ea(a),F(a._errorCode,a._errorString);a._OnPercentDone([0,-1,tn.Encoding,"http"]),a._convertToBlobForUpload(ee,p,b,4,function(U,K,J){if(X=function(ye){return Q.needShowTwiceShowDialog=!1,a.IfShowProgressBar&&Q.closeProgress(null,u),m.isFunction(W)&&si(W,ye),!0},M&&M.bCancel)return M.st=2,Ea(a),F(a._errorCode,a._errorString);if(!U||U.size<=0)return Kn(a),F(a._errorCode,a._errorString);var re=a.__maxUploadImageSize;if(U.size>re&&re!=-1)return ou(a),F(a._errorCode,a._errorString);if(a._errorCode!=0)return F(a._errorCode,a._errorString);if(V.DWT.IfAddMD5InUploadHeader&&K&&K!=""&&(l["dwt-md5"]=K),ne>0&&U.size>ne){a._OnPercentDone([0,-1,tn.Uploading,"http",de]);var oe=new vu,fe=new rs;return a.__remoteFilename&&a.__remoteFilename!=""&&(fe.remoteFilename=a.__remoteFilename),fe.url=Z,fe.method=u,fe.content=U,U=null,fe.contentType=a._strHttpContentTypeFieldValue,fe.headers=l,fe.fileName=de,fe.httpFormData=c,fe.retry=T,fe.bOnlyResponseEmptyIsOK=D,fe.blockSize=a._moduleSize,oe.httpPostUploadFragment(B,fe,X,F)}var ae=new vu,ue=new rs;a.__remoteFilename&&a.__remoteFilename!=""&&(ue.remoteFilename=a.__remoteFilename),ue.url=Z,ue.method=u,ue.content=U,U=null,ue.contentType=a._strHttpContentTypeFieldValue,ue.headers=l,ue.fileName=de,ue.httpFormData=c,ue.retry=T,ue.bOnlyResponseEmptyIsOK=D,ue.blockSize=a._moduleSize,B.objUploadStatus=M,ae.httpPostUpload(B,ue,X,F)},F)}else te==V.DWT.EnumDWT_UploadDataFormat.Base64&&a._convertToBase64ByServerIdsWithUI(u,p,ee,b,4,function(U){var K;if(!U||U.getLength()<=0)return Kn(a),F(a._errorCode,a._errorString);if(X=function(){return Q.needShowTwiceShowDialog=!1,a.IfShowProgressBar&&Q.closeProgress(null,u),m.isFunction(W)&&si(W,U),!0},ne>0&&U.getLength()>ne){K=U.getMD5(),V.DWT.IfAddMD5InUploadHeader&&(l["dwt-md5"]=K),a._OnPercentDone([0,-1,tn.Uploading,"http"]);var J=new rs;a.__remoteFilename&&a.__remoteFilename!=""&&(J.remoteFilename=a.__remoteFilename),J.url=Z,J.method=u,J.content=U.getData(0,U.getLength()),J.headers=l,J.fileName=de,J.httpFormData=c,J.retry=T,J.bOnlyResponseEmptyIsOK=D,J.blockSize=a._moduleSize,J.offset=0,new vu().httpPostUploadFragment(B,J,X,F)}else{var re;if(K=U.getMD5(),V.DWT.IfAddMD5InUploadHeader&&(l["dwt-md5"]=K),!(re=U.getData(0,U.getLength()))||re=="")return Kn(a),F(a._errorCode,a._errorString);var oe=new rs;a.__remoteFilename&&a.__remoteFilename!=""&&(oe.remoteFilename=a.__remoteFilename),oe.url=Z,oe.method=u,oe.content=re,oe.headers=l,oe.fileName=de,oe.httpFormData=c,oe.retry=T,oe.bOnlyResponseEmptyIsOK=D,oe.blockSize=a._moduleSize,new vu().httpPostUpload(B,oe,X,F)}},F)}}]);var o}(hde);function Dh(t,n,o,a,u,d,l,c){var p,g,S=this,v="HTTPUploadThroughPostEx",b=S._GetHttpHeadersAndClear(),T=Rt.combineUrl(S,t,o),D=[],M=function(Z){m.isFunction(l)&&l(Z)},W=!1,Y=!1;if(m.isFunction(d)&&(Y=!0),S.__HTTPPostResponseString="",m.isNumber(n)){if(n<-2)return tt(S),M(n),!!Y&&void 0}else if(!m.isArray(n))return tt(S),M(n),!!Y&&void 0;if(!m.isString(a)||a=="")return Kn(S),M(),!!Y&&void 0;if(m.isUndefined(u))return vo(S),M(n),!!Y&&void 0;if(u==V.DWT.EnumDWT_ImageType.IT_BMP||u==V.DWT.EnumDWT_ImageType.IT_JPG||u==V.DWT.EnumDWT_ImageType.IT_PNG||u==V.DWT.EnumDWT_ImageType.IT_J2K){if(n==-1&&S._ImgManager.count()>1||m.isArray(n)&&n.length>1)return Nf(S),M(n),!!Y&&void 0;m.isArray(n)?D.push(n[0]):n==-1?D.push(0):D.push(n)}else{if(u!=V.DWT.EnumDWT_ImageType.IT_TIF&&u!=V.DWT.EnumDWT_ImageType.IT_PDF)return vo(S),M(n),!!Y&&void 0;if(n==-1){if(S._ImgManager.count()==0)return Ii(S),M(),!!Y&&void 0;for(g=0;g<S._ImgManager.count();g++)D.push(g)}else if(n==-2)D=S._ImgManager.getSelectedClientIndexArray();else if(m.isArray(n))for(g=0;g<n.length;g++)D.push(n[g]);else D.push(n)}if(t==="")return WT(S),M(D),!!Y&&void 0;if(m.isUndefined(T)||T==="")return oo(S),M(D),!!Y&&void 0;if(!m.isString(T))return em(S),M(D),!!Y&&void 0;if(T.indexOf("http://")!=0&&T.indexOf("https://")!=0&&(T=wn()?"https://"+T:"http://"+T),!S._checkIndices(D)&&D!=-1)return M(D),!!Y&&void 0;var ee=[];if(m.isArray(D)&&m.each(D,function(Z){var ne=S._ImgManager.convertClientIndexToServerId(Z);ne!=-1&&ee.push(ne)}),S._resetErr(),!S._isValid())return M(D),!!Y&&void 0;if(!Y){Q.cancelFrom=or.HTTPUpload;var te=this.IfShowProgressBar,de=function(Z,ne,X){return Z!=0&&ne&&(S._errorCode=Z,S._errorString=ne),X&&(S.__HTTPPostResponseString=X),Q.needShowTwiceShowDialog=!1,te&&Q.closeProgress(null,v),M(D),!1};return Q.needShowTwiceShowDialog=!0,te?Q.showProgress(S,v,!1):Q.hideProgress(),S._OnPercentDone([0,-1,tn.Encoding,"http"]),S._dwtConvertToBlobSync(u,ee,W,function(Z,ne){if(Q.needShowTwiceShowDialog=!1,Z){var X=S.__maxUploadImageSize;if(Z.size>X&&X!=-1)return ou(S),de(S._errorCode,S._errorString),!1;V.DWT.IfAddMD5InUploadHeader&&ne&&ne!=""&&(b["dwt-md5"]=ne),Z instanceof File?Z.fileName=a:Z.name=a,te&&$u(S.__IfShowCancelDialogWhenImageTransfer);var F=S._createHttpUploaderConfig(),B=new rs;return S.__remoteFilename&&S.__remoteFilename!=""&&(B.remoteFilename=S.__remoteFilename),B.url=T,B.method=v,B.content=Z,B.contentType=S._strHttpContentTypeFieldValue,B.headers=b,B.bAsync=!1,B.httpFormData=rc(S.httpFormFields),B.blockSize=S._moduleSize,new vu().httpPostUpload(F,B,function(K){return te&&Q.closeProgress(null,v),K},de)}var U={};return BT(U),de(U._errorCode,U._errorString),!1},de)}p={method:"HTTPUploadThroughPostEx",url:T,serverIds:ee,headers:b,formData:rc(S.httpFormFields),enumImageType:u,saveSetup:W,fileName:a,retry:0,bOnlyResponseEmptyIsOK:!0,objUploadFileStatus:!1,dataFormat:V.DWT.EnumDWT_UploadDataFormat.Binary,asyncSuccessFunc:d,asyncFailureFunc:M},this._asyncUploadCmd(p)}function gU(t,n,o,a,u){var d=this,l=!0;if(n)return d._innerFunRaw("SaveSelectedImagesToBytes",Ge(0,0,t,o),n,l,!0,function(g){if(m.isFunction(a)){var S=new Blob([g],{type:d._strHttpContentTypeFieldValue});a(S),S=null}},u),!0;var c=d._innerFunRaw("SaveSelectedImagesToBytes",Ge(0,0,t,o),n,l,!1);if(d._errorCode==0){var p=a(c);return c=null,p}return c=null,u(),!1}function yde(){return this._resetErr(),!!this._isValid()&&(this._innerSend("SetCancel",null,!0),!0)}function vU(t,n,o,a,u){var d=this;if(!m.isFunction(a))return this._innerFun(t,n);d.IfShowProgressBar?(Q.showProgress(d,t,o),o&&Q.progressContext&&Q.progressContext.on("cancel",function(){Na(ca,d,yde).call(d)})):Q.hideProgress(),this._innerSend(t,n,!0,function(){Q.closeProgress(null,t),m.isFunction(a)&&a()},function(l){m.isFunction(u)&&u(d._errorCode,d._getErrorString()),Q.closeProgress(null,t),l&&m.error(l)})}function yU(t,n,o,a,u){var d,l,c=this,p=!1;if(m.isFunction(a)&&(p=!0),!It.checkProductKey(c,{Core:!0})||!It.checkPDFProductKeyWhenNeeds(c,o))return m.isFunction(u)&&pt(u,c),!!p&&void 0;Q.cancelFrom=or.FTPDownload;var g,S="";if(n&&n.length>=2){var v=n[0],b=n[1];v.toLowerCase().indexOf("ftp://")==0&&(v=v.substring(6,v.length)),v&&v.length>1&&v[v.length-1]=="/"&&(v=v.substring(0,v.length-1)),b&&b.length>0&&b[0]!="/"&&(b="/"+b);var T=["ftp://",v,b].join("");g=Rt.getFilePath(T),S=Rt.getFileName(T),d=n.length==2?Ge(v,b):Ge(v,b,n[2])}if(!p){var D=c._getCurrentDocumentName(),M=c._getCurrentDefaultTagName();(l=c.__innerLoadImageFun(t,d,1,D,M))&&c.__OnPostLoad&&!c.__bServerOnPostLoadFired&&setTimeout(function(){c.__bServerOnPostLoadFired||c.__OnPostLoad(g,S,""+o)},10);var W=c._ImgManager.getCurrentImageIndex();return W>=0&&c._innerRefreshUI(W),l}Na(ca,c,vU).call(c,t,d,!0,function(){var Y=c._ImgManager.getCurrentImageIndex();Y>=0&&c._innerRefreshUI(Y),c._canConsume()&&V.DWT.lcvrf(c),c.__OnPostLoad&&!c.__bServerOnPostLoadFired&&c.__OnPostLoad(g,S,""+o),m.isFunction(a)&&a()},function(){c.__OnPostLoad&&!c.__bServerOnPostLoadFired&&c.__OnPostLoad(g,S,""+o),m.isFunction(u)&&pt(u,c)})}function _U(t,n,o,a){if(t._ImgManager.count()==0)return Ii(t),m.isFunction(a)&&a(n),!1;if(m.isNumber(n)){if(isNaN(n)||n<-2||n>=t._ImgManager.count())return tt(t),m.isFunction(a)&&a(n),!1}else{if(!m.isArray(n))return tt(t),m.isFunction(a)&&a(n),!1;var u;for(u=0;u<n.length;u++){var d=n[u];if(isNaN(d)||!m.isNumber(d)||d<0||d>=t._ImgManager.count())return HT(t),m.isFunction(a)&&a(n),!1}}if(o==V.DWT.EnumDWT_ImageType.IT_BMP||o==V.DWT.EnumDWT_ImageType.IT_JPG||o==V.DWT.EnumDWT_ImageType.IT_PNG||o==V.DWT.EnumDWT_ImageType.IT_J2K)(n==-1&&t._ImgManager.count()>1||m.isArray(n)&&n.length>1)&&(Nf(t),m.isFunction(a)&&a(n));else if(o!=V.DWT.EnumDWT_ImageType.IT_TIF&&o!=V.DWT.EnumDWT_ImageType.IT_PDF)return vo(t),m.isFunction(a)&&a(n),!1;return!0}function rc(t){var n;return t&&(n=new FormData,m.each(t,function(o,a){if(o instanceof Blob){var u=o.name;n.append(a,o,u)}else n.append(a,o)})),n}var _u=function(t){function n(){return h(this,n),f(this,n,arguments)}return P(n,t),_(n,[{key:"Viewer",get:function(){return this._viewer}},{key:"BindViewer",value:function(l){var c=this,p=l;return V.DWT.UseDefaultViewer?(m.isString(l)&&(p=m.get(l),m.show(p)),c._config.container!=p&&(c._config.container=p,dU(c)),c._UIView.BindView(l)):(Me(c,-2439,"You cannot call the method bindViewer() when Dynamsoft.DWT.UseDefaultViewer is set to false."),!1)}},{key:"UnbindViewer",value:function(){return this._innerUnbindViewer(!1)}},{key:"AddText",value:function(l,c,p,g,S,v,b,T){var D=this,M=parseInt(l);if(!Ei(D,M))return!1;var W=Qa.RGB2BGR(S),Y=Qa.RGB2BGR(v),ee=D._ImgManager.convertClientIndexToServerId(M);return ee==-1?(tt(D),!1):D._innerFun("AddText",Ge(ee,c,p,g,W,Y,b,T))}},{key:"CreateTextFont",value:function(l,c,p,g,S,v,b,T,D,M,W,Y,ee,te){return this._resetErr(),!!this._isValid()&&this._innerFun("CreateTextFont",Ge(l,c,p,g,S,v,b,T,D,M,W,Y,ee,te))}},{key:"CopyToClipboard",value:function(l){var c=parseInt(l);return!!Ei(this,c)&&ug(this,"CopyToClipboard",c,null,null,!1,!1)}},{key:"CopyToClipboardAsync",value:function(l){var c=this;if(c._resetErr(),!c._isValid())return Pe.Promise.reject({code:c._errorCode,message:c._errorString});var p=parseInt(l);return isNaN(p)?(ir(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString})):p<0||p>=c._ImgManager.count()?(tt(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString})):function(g,S,v){var b=g._ImgManager.convertClientIndexToServerId(v);return b==-1?(tt(g),Pe.Promise.reject({code:g._errorCode,message:g._errorString})):g._innerFunV2(S,Ge(b))}(c,"CopyToClipboard",p)}},{key:"getView",value:function(){return this._UIView}},{key:"Erase",value:function(l,c,p,g,S,v,b){var T=this;if(!m.isFunction(v)){var D,M=parseInt(l);if(!Ei(T,M,b))return!1;var W=T._ImgManager.convertClientIndexToServerId(M);return W==-1?(tt(T),m.isFunction(b)&&b(T._errorCode,T._getErrorString()),!1):(T.getView().ClearSelectedAreas(),(D=T._innerFun("Erase",Ge(W,c,p,g,S))==1)?m.isFunction(v)&&v():m.isFunction(b)&&b(T._errorCode,T._getErrorString()),D)}T.EraseAsync(l,c,p,g,S).then(v,function(Y){T._wrappeAsyncFailed(T,Y,b)})}},{key:"EraseAsync",value:function(l,c,p,g,S){var v=this;if(v._resetErr(),!v._isValid())return Pe.Promise.reject({code:v._errorCode,message:v._errorString});var b=parseInt(l);if(isNaN(b))return ir(v),Pe.Promise.reject({code:v._errorCode,message:v._errorString});if(b<0||b>=v._ImgManager.count())return tt(v),Pe.Promise.reject({code:v._errorCode,message:v._errorString});var T=v._ImgManager.convertClientIndexToServerId(b);return T==-1?(tt(v),Pe.Promise.reject({code:v._errorCode,message:v._errorString})):(v.getView().ClearSelectedAreas(),v._innerFunV2("Erase",Ge(T,c,p,g,S),!0).then(function(D){if(D!=1)throw{code:v._errorCode,message:v._errorString}}))}},{key:"GetImageBitDepth",value:function(l){var c=this,p=parseInt(l);if(!Ei(c,p))return!1;var g=c._ImgManager.convertClientIndexToServerId(p);return g==-1?(tt(c),!1):c._innerFun("GetImageBitDepth",Ge(g))}},{key:"GetImageWidth",value:function(l){var c=this;if(c._resetErr(),!c._isValid())return!1;var p=parseInt(l);if(isNaN(p))return ir(c),-1;if(p<0||p>=c._ImgManager.count())return tt(c),-1;var g=c._ImgManager.convertClientIndexToServerId(p);return g==-1?(tt(c),-1):c._innerFun("GetImageWidth",Ge(g))}},{key:"GetImageHeight",value:function(l){var c=this;if(c._resetErr(),!c._isValid())return!1;var p=parseInt(l);if(isNaN(p))return ir(c),-1;if(p<0||p>=c._ImgManager.count())return tt(c),-1;var g=c._ImgManager.convertClientIndexToServerId(p);return g==-1?(tt(c),-1):c._innerFun("GetImageHeight",Ge(g))}},{key:"GetImageSize",value:function(l,c,p){var g=this;if(g._resetErr(),!g._isValid())return!1;var S=parseInt(l);if(isNaN(S))return ir(g),-1;if(S<0||S>=g._ImgManager.count())return tt(g),-1;var v=g._ImgManager.convertClientIndexToServerId(S);return v==-1?(tt(g),-1):g._innerFun("GetImageSize",Ge(v,c,p))}},{key:"GetImageSizeWithSpecifiedType",value:function(l,c){var p=this;if(p._resetErr(),!p._isValid())return!1;var g=parseInt(l);if(isNaN(g))return ir(p),-1;if(g<0||g>=p._ImgManager.count())return tt(p),-1;var S=p._ImgManager.convertClientIndexToServerId(g);return S==-1?(tt(p),-1):p._innerFun("GetImageSizeWithSpecifiedType",Ge(S,c))}},{key:"GetImageXResolution",value:function(l){var c=this,p=parseInt(l);if(!Ei(c,p))return!1;var g=c._ImgManager.convertClientIndexToServerId(p);return g==-1?(tt(c),!1):c._innerFun("GetImageXResolution",Ge(g))}},{key:"GetImageYResolution",value:function(l){var c=this,p=parseInt(l);if(!Ei(c,p))return!1;var g=c._ImgManager.convertClientIndexToServerId(p);return g==-1?(tt(c),!1):c._innerFun("GetImageYResolution",Ge(g))}},{key:"SelectAllImages",value:function(){var l,c=this,p=c._getHowManyImagesInBuffer(),g=[];if(c._resetErr(),!c._isValid())return!1;for(l=0;l<p;l++)g.push(l);return c._ImgManager.setSelectedClientIndexArray(g),g}},{key:"SelectImages",value:function(l){var c=this;return c._resetErr(),!!c._isValid()&&c._ImgManager.setSelectedClientIndexArray(l)}},{key:"GetSkewAngle",value:function(l,c,p){var g,S=this;if(!m.isFunction(c)){var v=parseInt(l);return!!Ei(S,v,p)&&(g=ug(S,"GetSkewAngle",v,c,p,!0,!1),S._errorCode==0?(Rt.refreshImageAfterInvokeFun(S,v),g):0)}S.GetSkewAngleAsync(l).then(c,function(b){S._wrappeAsyncFailed(S,b,p)})}},{key:"GetSkewAngleAsync",value:function(l){var c=this;if(c._resetErr(),!c._isValid())return Pe.Promise.reject({code:c._errorCode,message:c._errorString});var p=parseInt(l);if(isNaN(p))return ir(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString});if(p<0||p>=c._ImgManager.count())return tt(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString});var g=c._ImgManager.convertClientIndexToServerId(p);return g==-1?(tt(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString})):c._innerFunV2("GetSkewAngle",Ge(g),!0).then(function(S){var v=S;return m.isArray(S)&&(v=S.length>0?S[0]:0),Rt.refreshImageAfterInvokeFun(c,p),v})}},{key:"GetSkewAngleEx",value:function(l,c,p,g,S){var v=this,b=parseInt(l);if(!Ei(v,b))return!1;var T=v._ImgManager.convertClientIndexToServerId(b);return T==-1?(tt(v),!1):v._innerFun("GetSkewAngleEx",Ge(T,c,p,g,S))}},{key:"GetSkewAngleFromBinaryAsync",value:function(l,c,p,g){var S=this;if(S._resetErr(),!S._isValid())return Pe.Promise.reject({code:S._errorCode,message:S._errorString});var v=this._imageBufferWrapper.getCustomDataByIndex(l),b=this._imageBufferWrapper.getMetadataByIndex(l),T=this._ImgManager.convertClientIndexToServerId(l),D={imageId:T,serverId:T,bufferLen:c.size,imageType:gr.IT_BMP,width:b.width,height:b.height,bit:b.bitDepth,xres:b.resolutionX,yres:b.resolutionY,uidFromServer:v.uidFromServer},M=m.stringify([m.stringify(D)]);return this._innerSendBlob("GetSkewAngleFromBinary",M,c,!0,!0,p,g)}},{key:"IsBlankImageEx",value:function(l,c,p,g,S,v){var b,T=this;if(!Ei(T,b=parseInt(l)))return!1;var D=T._ImgManager.convertClientIndexToServerId(b);return D==-1?(tt(T),!1):T._innerFun("IsBlankImageEx",Ge(D,c,p,g,S,v))}},{key:"MirrorAsync",value:function(l){var c=this;if(c._resetErr(),!c._isValid())return Pe.Promise.reject({code:c._errorCode,message:c._errorString});var p=parseInt(l);if(isNaN(p))return ir(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString});if(p<0||p>=c._ImgManager.count())return tt(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString});var g=c._ImgManager.convertClientIndexToServerId(p);return g==-1?(tt(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString})):c._innerFunV2("Mirror",Ge(g),!0).then(function(S){if(S!=1)throw{code:c._errorCode,message:c._errorString};Rt.refreshImageAfterInvokeFun(c,p),c.getView().ClearSelectedAreas()})}},{key:"Mirror",value:function(l,c,p){var g=this;if(!m.isFunction(c)){var S=parseInt(l);return!!Ei(g,S,p)&&ug(g,"Mirror",S,c,p,!1,!0)}g.MirrorAsync(l).then(c,function(v){g._wrappeAsyncFailed(g,v,p)})}},{key:"RemoveAllImages",value:function(){return this._removeAllImages("RemoveAllImages")}},{key:"RemoveAllImagesAsync",value:function(){return this._removeAllImagesAsync("RemoveAllImagesAsync",!0)}},{key:"RemoveImageAsync",value:function(l){var c=this;if(c._resetErr(),!c._isValid())return Pe.Promise.reject({code:c._errorCode,message:c._errorString});var p=parseInt(l);if(isNaN(p))return ir(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString});if(p<0||p>=c._ImgManager.count())return tt(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString});var g=c._ImgManager.convertClientIndexToServerId(p);return g==-1?(tt(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString})):c._innerFunV2("RemoveImage",Ge(g),!0).then(function(S){return!(!S&&c._errorCode!=-1033)&&(c._OnBitmapChanged(["c1",""+g,3,c._ImgManager.getCurrentImageIndex(),c._ImgManager.count()]),!0)})}},{key:"Rotate",value:function(l,c,p,g,S){return this.RotateEx(l,c,p,-1,g,S)}},{key:"_wrappeAsyncFailed",value:function(l,c,p){c&&(l._errorCode=c.code,l._errorString=c.message),m.isFunction(p)&&p(l._errorCode,l._getErrorString())}},{key:"RotateEx",value:function(l,c,p,g,S,v){var b=this;if(!m.isFunction(S)){if(b._resetErr(),!b._isValid())return!1;var T,D=parseInt(l);if(isNaN(D))return ir(b),m.isFunction(v)&&v(b._errorCode,b._getErrorString()),!1;if(D<0||D>=b._ImgManager.count())return tt(b),m.isFunction(v)&&v(b._errorCode,b._getErrorString()),!1;var M=b._ImgManager.convertClientIndexToServerId(D);return M==-1?(tt(b),m.isFunction(v)&&v(b._errorCode,b._getErrorString()),!1):((T=b._innerFun("RotateEx",Ge(M,c,p,g))==1)?(Rt.refreshImageAfterInvokeFun(b,D),b.getView().ClearSelectedAreas(),m.isFunction(S)&&S()):m.isFunction(v)&&v(b._errorCode,b._getErrorString()),T)}b.RotateExAsync(l,c,p,g).then(S,function(W){b._wrappeAsyncFailed(b,W,v)})}},{key:"RotateLeft",value:function(l,c,p){return this.RotateEx(l,-90,!0,-1,c,p)}},{key:"RotateRight",value:function(l,c,p){return this.RotateEx(l,90,!0,-1,c,p)}},{key:"RotateAsync",value:function(l,c,p){return this.RotateExAsync(l,c,p,-1)}},{key:"RotateExAsync",value:function(l,c,p,g){var S=this;if(S._resetErr(),!S._isValid())return Pe.Promise.reject({code:S._errorCode,message:S._errorString});var v=parseInt(l);if(isNaN(v))return ir(S),Pe.Promise.reject({code:S._errorCode,message:S._errorString});if(v<0||v>=S._ImgManager.count())return tt(S),Pe.Promise.reject({code:S._errorCode,message:S._errorString});var b=S._ImgManager.convertClientIndexToServerId(v);return b==-1?(tt(S),Pe.Promise.reject({code:S._errorCode,message:S._errorString})):S._innerFunV2("RotateEx",Ge(b,c,p,g),!0).then(function(T){if(T!=1&&T!=1)throw{code:S._errorCode,message:S._errorString};Rt.refreshImageAfterInvokeFun(S,v),S.getView().ClearSelectedAreas()})}},{key:"RotateLeftAsync",value:function(l){return this.RotateExAsync(l,-90,!0,-1)}},{key:"RotateRightAsync",value:function(l){return this.RotateExAsync(l,90,!0,-1)}},{key:"ChangeImageSize",value:function(l,c,p,g,S,v){var b=this;if(!m.isFunction(S)){var T,D=parseInt(l),M=1*c,W=1*p;if(!Ei(b,D,v))return!1;if(M<=0||W<=0)return hk(b),m.isFunction(v)&&v(b._errorCode,b._getErrorString()),!1;var Y=b._ImgManager.convertClientIndexToServerId(D);return Y==-1?(tt(b),m.isFunction(v)&&v(b._errorCode,b._getErrorString()),!1):((T=b._innerFun("ChangeImageSize",Ge(Y,M,W,g))==1)?(Rt.refreshImageAfterInvokeFun(b,D),m.isFunction(S)&&S()):m.isFunction(v)&&v(b._errorCode,b._getErrorString()),T)}b.ChangeImageSizeAsync(l,c,p,g).then(S,function(ee){b._wrappeAsyncFailed(b,ee,v)})}},{key:"ChangeImageSizeAsync",value:function(l,c,p,g){var S=this,v=parseInt(l),b=1*c,T=1*p;if(S._resetErr(),!S._isValid())return Pe.Promise.reject({code:S._errorCode,message:S._errorString});if(isNaN(v))return ir(S),Pe.Promise.reject({code:S._errorCode,message:S._errorString});if(v<0||v>=S._ImgManager.count())return tt(S),Pe.Promise.reject({code:S._errorCode,message:S._errorString});if(b<=0||T<=0)return hk(S),Pe.Promise.reject({code:S._errorCode,message:S._errorString});var D=S._ImgManager.convertClientIndexToServerId(v);return D==-1?(tt(S),Pe.Promise.reject({code:S._errorCode,message:S._errorString})):S._innerFunV2("ChangeImageSize",Ge(D,b,T,g),!0).then(function(M){if(M!=1)throw{code:S._errorCode,message:S._errorString};Rt.refreshImageAfterInvokeFun(S,v)})}},{key:"Flip",value:function(l,c,p){var g=this;if(!m.isFunction(c)){var S=parseInt(l);return!!Ei(g,S,p)&&ug(g,"Flip",S,c,p,!1,!0)}g.FlipAsync(l).then(c,function(v){g._wrappeAsyncFailed(g,v,p)})}},{key:"FlipAsync",value:function(l){var c=this;if(c._resetErr(),!c._isValid())return Pe.Promise.reject({code:c._errorCode,message:c._errorString});var p=parseInt(l);if(isNaN(p))return ir(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString});if(p<0||p>=c._ImgManager.count())return tt(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString});var g=c._ImgManager.convertClientIndexToServerId(p);return g==-1?(tt(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString})):c._innerFunV2("Flip",Ge(g),!0).then(function(S){if(S!=1)throw{code:c._errorCode,message:c._errorString};Rt.refreshImageAfterInvokeFun(c,p),c.getView().ClearSelectedAreas()})}},{key:"OutputSelectedAreaAsync",value:(d=s(E().mark(function l(c,p,g,S){var v,b,T,D,M,W,Y,ee,te,de,Z,ne,X,F;return E().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(T="OutputSelectedArea",(b=this)._resetErr(),b._isValid()){B.next=4;break}throw{code:b._errorCode,message:b._errorString};case 4:if(D=0,M=0,W=0,Y=0,!isNaN(c)){B.next=8;break}throw ir(b),{code:b._errorCode,message:b._errorString};case 8:if(g==gr.IT_BMP||g==gr.IT_JPG||g==gr.IT_TIF||g==gr.IT_PNG||g==gr.IT_PDF){B.next=11;break}throw fr(b),{code:b._errorCode,message:b._errorString};case 11:if(S==tc.Blob||S==tc.Base64){B.next=14;break}throw fr(b),{code:b._errorCode,message:b._errorString};case 14:if(!(c<0||c>=b._ImgManager.count())){B.next=17;break}throw tt(b),{code:b._errorCode,message:b._errorString};case 17:if((ee=b._ImgManager.convertClientIndexToServerId(c))!=-1){B.next=21;break}throw tt(b),{code:b._errorCode,message:b._errorString};case 21:return te=S==tc.Base64,de=te?"text":"arraybuffer",p&&(Q.isNumber(p.x)&&(D=p.x),Q.isNumber(p.y)&&(M=p.y),Q.isNumber(p.width)&&(W=p.width),Q.isNumber(p.height)&&(Y=p.height)),ne=m.stringify([{index:ee,left:D,top:M,width:W,height:Y}]),X="["+ne+","+g+","+S+"]",F=(v=Q.progressContext)===null||v===void 0?void 0:v.IfShowCancelDialogWhenImageTransfer,B.prev=27,b.IfShowProgressBar?Q.showProgress(b,T,!1):Q.hideProgress(),te?b._OnPercentDone([0,-1,tn.ConvertingToBase64]):b._OnPercentDone([0,-1,tn.ConvertingToBlob]),Q.progressContext&&(Q.progressContext.IfShowCancelDialogWhenImageTransfer=!1),B.next=33,b._sendDataByHttpAsync(T,X,de,!0);case 33:Z=B.sent;case 34:return B.prev=34,Q.progressContext&&(Q.progressContext.IfShowCancelDialogWhenImageTransfer=F),b.IfShowProgressBar&&Q.closeProgress(null,T),B.finish(34);case 38:if(!te){B.next=52;break}if(!Z){B.next=49;break}if(!oa(Z)){B.next=45;break}return b._errorCode=Z.exception,b._errorString=Z.description,b._errorCause=yo(Z),B.abrupt("return","");case 45:if(!(m.isArray(Z.result)&&Z.result.length>0&&m.isString(Z.result[0]))){B.next=47;break}return B.abrupt("return",Z.result[0]);case 47:B.next=50;break;case 49:return B.abrupt("return","");case 50:B.next=53;break;case 52:return B.abrupt("return",new Blob([Z],{type:PC(g)}));case 53:case"end":return B.stop()}},l,this,[[27,,34,38]])})),function(l,c,p,g){return d.apply(this,arguments)})},{key:"Crop",value:function(l,c,p,g,S,v,b){var T=this;if(!m.isFunction(v)){var D,M=parseInt(l);if(!Ei(T,M,b))return!1;var W,Y,ee=T._ImgManager.convertClientIndexToServerId(M);return ee==-1?(tt(T),m.isFunction(b)&&b(T._errorCode,T._getErrorString()),!1):(D=T._innerFun("Crop",Ge(ee,c,p,g,S))==1,W=T._errorCode,Y=T._getErrorString(),T.getView().ClearSelectedAreas(),T._errorCode=W,T._errorString=Y,D?(Rt.refreshImageAfterInvokeFun(T,M),m.isFunction(v)&&v()):m.isFunction(b)&&b(W,Y),D)}T.CropAsync(l,c,p,g,S).then(v,function(te){T._wrappeAsyncFailed(T,te,b)})}},{key:"CropAsync",value:function(l,c,p,g,S){var v=this;if(v._resetErr(),!v._isValid())return Pe.Promise.reject({code:v._errorCode,message:v._errorString});var b=parseInt(l);if(isNaN(b))return ir(v),Pe.Promise.reject({code:v._errorCode,message:v._errorString});if(b<0||b>=v._ImgManager.count())return tt(v),Pe.Promise.reject({code:v._errorCode,message:v._errorString});var T=v._ImgManager.convertClientIndexToServerId(b);return T==-1?(tt(v),Pe.Promise.reject({code:v._errorCode,message:v._errorString})):v._innerFunV2("Crop",Ge(T,c,p,g,S),!0).then(function(D){var M,W;if(M=v._errorCode,W=v._getErrorString(),v.getView().ClearSelectedAreas(),v._errorCode=M,v._errorString=W,D!=1)throw{code:v._errorCode,message:v._errorString};return Rt.refreshImageAfterInvokeFun(v,b),!0})}},{key:"CropToClipboard",value:function(l,c,p,g,S){var v,b=this,T=parseInt(l);if(!Ei(b,T))return!1;var D=b._ImgManager.convertClientIndexToServerId(T);return D==-1?(tt(b),!1):(b.getView().ClearSelectedAreas(),(v=b._innerFun("CropToClipboard",Ge(D,c,p,g,S))==1)&&Rt.refreshImageAfterInvokeFun(b,T),v)}},{key:"CutFrameToClipboard",value:function(l,c,p,g,S){var v,b=this,T=parseInt(l);if(!Ei(b,T))return!1;var D=b._ImgManager.convertClientIndexToServerId(T);return D==-1?(tt(b),!1):(b.getView().ClearSelectedAreas(),(v=b._innerFun("CutFrameToClipboard",Ge(D,c,p,g,S))==1)&&Rt.refreshImageAfterInvokeFun(b,T),v)}},{key:"CutToClipboard",value:function(l){var c,p=this,g=parseInt(l);if(!Ei(p,g))return!1;var S=p._ImgManager.convertClientIndexToServerId(g);return S==-1?(tt(p),!1):((c=p._innerFun("CutToClipboard",Ge(S))==1)&&p._OnBitmapChanged(["c1",""+S,3,p._ImgManager.getCurrentImageIndex(),p._ImgManager.count()]),c)}},{key:"CutFrameToClipboardAsync",value:function(l,c,p,g,S){var v=this;if(v._resetErr(),!v._isValid())return Pe.Promise.reject({code:v._errorCode,message:v._errorString});var b=parseInt(l);if(isNaN(b))return ir(v),Pe.Promise.reject({code:v._errorCode,message:v._errorString});if(b<0||b>=v._ImgManager.count())return tt(v),Pe.Promise.reject({code:v._errorCode,message:v._errorString});var T=v._ImgManager.convertClientIndexToServerId(b);return T==-1?(tt(v),Pe.Promise.reject({code:v._errorCode,message:v._errorString})):v._innerFunV2("CutFrameToClipboard",Ge(T,c,p,g,S)).then(function(D){var M=D==1;if(!M)throw{code:v._errorCode,message:v._errorString};return Rt.refreshImageAfterInvokeFun(v,b),M})}},{key:"CropToClipboardAsync",value:function(l,c,p,g,S){var v=this;if(v._resetErr(),!v._isValid())return Pe.Promise.reject({code:v._errorCode,message:v._errorString});var b=parseInt(l);if(isNaN(b))return ir(v),Pe.Promise.reject({code:v._errorCode,message:v._errorString});if(b<0||b>=v._ImgManager.count())return tt(v),Pe.Promise.reject({code:v._errorCode,message:v._errorString});var T=v._ImgManager.convertClientIndexToServerId(b);return T==-1?(tt(v),Pe.Promise.reject({code:v._errorCode,message:v._errorString})):v._innerFunV2("CropToClipboard",Ge(T,c,p,g,S)).then(function(D){var M=D==1;if(!M)throw{code:v._errorCode,message:v._errorString};return Rt.refreshImageAfterInvokeFun(v,b),M})}},{key:"CutToClipboardAsync",value:function(l){var c=this;if(c._resetErr(),!c._isValid())return Pe.Promise.reject({code:c._errorCode,message:c._errorString});var p=parseInt(l);if(isNaN(p))return ir(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString});if(p<0||p>=c._ImgManager.count())return tt(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString});var g=c._ImgManager.convertClientIndexToServerId(p);return g==-1?(tt(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString})):c._innerFunV2("CutToClipboard",Ge(g)).then(function(S){var v=S==1;if(!v)throw{code:c._errorCode,message:c._errorString};return c._OnBitmapChanged(["c1",""+g,3,c._ImgManager.getCurrentImageIndex(),c._ImgManager.count()]),v})}},{key:"SetDPI",value:function(l,c,p,g,S,v,b){var T,D=this,M=!1;m.isFunction(v)&&(M=!0);var W=parseInt(l);if(!Ei(D,W,b))return!!M&&void 0;var Y=D._ImgManager.convertClientIndexToServerId(W);return Y==-1?(tt(D),m.isFunction(b)&&b(D._errorCode,D._getErrorString()),!!M&&void 0):((T=D._innerFun("SetDPI",Ge(Y,c,p,g,S))==1)?m.isFunction(v)&&v():m.isFunction(b)&&b(D._errorCode,D._getErrorString()),M?void 0:T)}},{key:"MoveImage",value:function(l,c){var p=this;if(p._resetErr(),!p._isValid())return!1;var g=parseInt(l),S=parseInt(c);return isNaN(g)||isNaN(S)?(ir(p),!1):g<0||g>=p._ImgManager.count()||S<0||S>=p._ImgManager.count()?(tt(p),!1):p._ImgManager.moveImage(g,S)}},{key:"SwitchImage",value:function(l,c){var p=this;if(p._resetErr(),!p._isValid())return!1;var g=parseInt(l),S=parseInt(c);return isNaN(g)||isNaN(S)?(ir(p),!1):g<0||g>=p._ImgManager.count()||S<0||S>=p._ImgManager.count()?(tt(p),!1):p._ImgManager.switchImage(g,S)}},{key:"CloseWorkingProcess",value:function(){var l=this;return l._resetErr(),!!l._isValid()&&l._innerFun("CloseWorkerProcess")}},{key:"RemoveAllSelectedImages",value:function(){var l=this;if(l._resetErr(),!l._isValid())return!1;var c=!0,p=l._ImgManager.getCurrentImageIndex(),g=l._ImgManager.getSelectedClientIndexArray(),S=[];if(m.isArray(g)&&m.each(g,function(b){var T=l._ImgManager.convertClientIndexToServerId(b);T!=-1&&S.push(T)}),S.length==0&&p>=0){var v=l._ImgManager.convertClientIndexToServerId(p);S.push(v)}return S.length>0&&(c=l._innerFun("RemoveAllSelectedImages",Ge(S.join(",")))),c&&l._OnBitmapChanged(["c1",S.join(","),3,l._ImgManager.getCurrentImageIndex(),l._ImgManager.count()]),c}},{key:"RemoveAllSelectedImagesAsync",value:function(){var l=this;if(l._resetErr(),!l._isValid())return Pe.Promise.reject({code:l._errorCode,message:l._errorString});var c=l._ImgManager.getCurrentImageIndex(),p=l._ImgManager.getSelectedClientIndexArray(),g=[];if(m.isArray(p)&&m.each(p,function(v){var b=l._ImgManager.convertClientIndexToServerId(v);b!=-1&&g.push(b)}),g.length==0&&c>=0){var S=l._ImgManager.convertClientIndexToServerId(c);g.push(S)}return g.length>0?l._innerFunV2("RemoveAllSelectedImages",Ge(g.join(","),!0)).then(function(v){v&&l._OnBitmapChanged(["c1",g.join(","),3,l._ImgManager.getCurrentImageIndex(),l._ImgManager.count()])}):Pe.Promise.resolve()}},{key:"TagImages",value:function(l,c){var p=this;if(p._resetErr(),!p._isValid())return!1;var g=!0,S=p._ImgManager.count();return m.isArray(l)?m.isString(c)&&c!=""?(m.each(l,function(v){if(isNaN(v)||v<0||v>=S)return tt(p),g=!1}),g&&p._ImgManager.addImageTag(l,c)):(Me(p,-2394,"Invalid tag name."),!1):(fd(p),!1)}},{key:"ClearImageTags",value:function(l){var c=this;return c._resetErr(),!!c._isValid()&&(l==-1||l>=c._getHowManyImagesInBuffer()?(tt(c),!1):c._ImgManager.removeImageTag(l))}},{key:"SetDefaultTag",value:function(l){var c=this;return c._resetErr(),!!c._isValid()&&c._ImgManager.setDefaultTag(l)}},{key:"FilterImagesByTag",value:function(l,c,p){var g,S=this,v=!1;if(m.isFunction(c)&&(v=!0),S._resetErr(),!S._isValid())return!!v&&void 0;m.isFunction(p)&&(g=function(){p({code:S._errorCode,message:S._errorString})});var b=S._ImgManager.showImagesByFilter(l,c,g);return v?void 0:b}},{key:"ClearFilter",value:function(){var l=this;return l._resetErr(),!!l._isValid()&&l._ImgManager.clearFilter()}},{key:"CreateDocument",value:function(l){var c=this;return c._resetErr(),!!c._isValid()&&(l&&l!=""?m.isString(l)?c._ImgManager.CreateFile(l):(tm(c),!1):(m.isNumber(l)?tm(c):QT(c),!1))}},{key:"OpenDocument",value:function(l){var c=this;return c._resetErr(),!!c._isValid()&&(l&&l!=""?m.isString(l)?c._ImgManager.OpenFile(l):(tm(c),!1):(m.isNumber(l)?tm(c):QT(c),!1))}},{key:"RemoveDocument",value:function(l){var c=this;if(c._resetErr(),!c._isValid())return!1;var p=c._ImgManager.GetServerIdsByFileName(l);return p.length>0&&c._innerFun("RemoveAllSelectedImages",Ge(p.join(","))),c._ImgManager.RemoveFile(l)}},{key:"RenameDocument",value:function(l,c){var p=this;return p._resetErr(),!!p._isValid()&&(m.isString(l)&&m.isString(c)?l&&l!=""&&c&&c!=""?p._ImgManager.RenameFile(l,c):(QT(p),!1):(tm(p),!1))}},{key:"GetDocumentInfoList",value:function(){var l=this;return l._resetErr(),!!l._isValid()&&l._ImgManager.GetFileInfoList()}},{key:"MoveToDocumentAsync",value:(u=s(E().mark(function l(c,p,g,S){var v,b,T,D,M,W,Y,ee,te,de;return E().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if((v=this)._resetErr(),v._isValid()){Z.next=4;break}throw{code:v._errorCode,message:v._errorString};case 4:if(!m.isUndefined(c)&&c.length!=0){Z.next=7;break}throw Sy(v),{code:v._errorCode,message:v._errorString};case 7:if(!m.isUndefined(p)&&p.length!=0){Z.next=10;break}throw by(v),{code:v._errorCode,message:v._errorString};case 10:b=v._ImgManager.GetFileInfoList(),M=0;case 12:if(!(M<b.length)){Z.next=20;break}if(b[M].name!=c){Z.next=17;break}return T=b[M],Z.abrupt("break",20);case 17:M++,Z.next=12;break;case 20:W=0;case 21:if(!(W<b.length)){Z.next=29;break}if(b[W].name!=p){Z.next=26;break}return D=b[W],Z.abrupt("break",29);case 26:W++,Z.next=21;break;case 29:if(!m.isUndefined(T)){Z.next=32;break}throw Sy(v),{code:v._errorCode,message:v._errorString};case 32:if(!m.isUndefined(D)){Z.next=35;break}throw by(v),{code:v._errorCode,message:v._errorString};case 35:if(Y=[],!m.isUndefined(g)){Z.next=40;break}if(T.imageIds.length>0)for(te=0;te<T.imageIds.length;te++)Y.push(te);Z.next=60;break;case 40:if(!m.isArray(g)){Z.next=53;break}if(v._checkIndices(g,T.imageIds.length)){Z.next=43;break}throw{code:v._errorCode,message:v._errorString};case 43:if(Y=g,m.isUndefined(S)){Z.next=51;break}if(!m.isNumber(S)){Z.next=49;break}S<0?ee=0:D.imageIds.length>S&&(ee=S),Z.next=51;break;case 49:throw fr(v),{code:v._errorCode,message:v._errorString};case 51:Z.next=60;break;case 53:if(!m.isNumber(g)){Z.next=58;break}if(T.imageIds.length>0)for(de=0;de<T.imageIds.length;de++)Y.push(de);g<0?ee=0:D.imageIds.length>g&&(ee=g),Z.next=60;break;case 58:throw fr(v),{code:v._errorCode,message:v._errorString};case 60:return Z.abrupt("return",new Pe.Promise(function(ne,X){Y.length==0||v._ImgManager.MoveImageToFile(c,Y,p,ee)?ne():X({code:v._errorCode,message:v._errorString})}));case 61:case"end":return Z.stop()}},l,this)})),function(l,c,p,g){return u.apply(this,arguments)})},{key:"CopyToDocumentAsync",value:(a=s(E().mark(function l(c,p,g,S){var v,b,T,D,M,W,Y,ee;return E().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:if((v=this)._resetErr(),v._isValid()){te.next=4;break}throw{code:v._errorCode,message:v._errorString};case 4:if(!m.isUndefined(c)&&c.length!=0){te.next=7;break}throw Sy(v),{code:v._errorCode,message:v._errorString};case 7:if(!m.isUndefined(p)&&p.length!=0){te.next=10;break}throw by(v),{code:v._errorCode,message:v._errorString};case 10:b=v._ImgManager.GetFileInfoList(),M=0;case 12:if(!(M<b.length)){te.next=20;break}if(b[M].name!=c){te.next=17;break}return T=b[M],te.abrupt("break",20);case 17:M++,te.next=12;break;case 20:W=0;case 21:if(!(W<b.length)){te.next=29;break}if(b[W].name!=p){te.next=26;break}return D=b[W],te.abrupt("break",29);case 26:W++,te.next=21;break;case 29:if(!m.isUndefined(T)){te.next=32;break}throw Sy(v),{code:v._errorCode,message:v._errorString};case 32:if(!m.isUndefined(D)){te.next=35;break}throw by(v),{code:v._errorCode,message:v._errorString};case 35:if(Y=[],!m.isUndefined(g)){te.next=40;break}T.imageIds.length>0&&m.isArray(T.imageIds)&&m.each(T.imageIds,function(de){var Z=v._uidFromServer2ServerId(de);Z!=-1&&Y.push(Z)}),te.next=60;break;case 40:if(!m.isArray(g)){te.next=53;break}if(v._checkIndices(g,T.imageIds.length)){te.next=43;break}throw{code:v._errorCode,message:v._errorString};case 43:if(m.each(g,function(de){var Z=v._uidFromServer2ServerId(T.imageIds[de]);Z!=-1&&Y.push(Z)}),m.isUndefined(S)){te.next=51;break}if(!m.isNumber(S)){te.next=49;break}S<0?ee=0:D.imageIds.length>S&&(ee=S),te.next=51;break;case 49:throw fr(v),{code:v._errorCode,message:v._errorString};case 51:te.next=60;break;case 53:if(!m.isNumber(g)){te.next=58;break}T.imageIds.length>0&&m.isArray(T.imageIds)&&m.each(T.imageIds,function(de){var Z=v._uidFromServer2ServerId(de);Z!=-1&&Y.push(Z)}),g<0?ee=0:D.imageIds.length>g&&(ee=g),te.next=60;break;case 58:throw fr(v),{code:v._errorCode,message:v._errorString};case 60:return te.abrupt("return",new Pe.Promise(function(de,Z){var ne="copyToDocument";if(D.imageIds.length,Y.length==0)de();else{v.IfShowProgressBar?Wu(!1):Q.hideProgress();var X=v.IfShowCancelDialogWhenImageTransfer;Q.cancelFrom=or.LoadImage,v.IfShowCancelDialogWhenImageTransfer=!1,Q.progressContext&&(Q.progressContext.IfShowCancelDialogWhenImageTransfer=!1),Q.cancelFrom=or.Other,v._innerConvertToBlobWithUI(ne,V.DWT.EnumDWT_ImageType.IT_PDF,Y,!1,function(F,B){F.currentFileName=p,F.currentTagName="",F.bNeedClearCurrentTagName=!0,F.index=ee,v.IfShowProgressBar?(Wu(!1),Q.showProgress(v,ne,!1),Q.progressContext&&(Q.progressContext.IfShowCancelDialogWhenImageTransfer=!1)):Q.hideProgress(),Q.cancelFrom=or.LoadImage,v._innerLoadImageFromBinary(F,0,!0,!0,function(){v.IfShowCancelDialogWhenImageTransfer=X,v.IfShowProgressBar&&Q.closeProgress(null,ne),de()},function(){v.IfShowCancelDialogWhenImageTransfer=X,v.IfShowProgressBar&&Q.closeProgress(null,ne),Z({code:v._errorCode,message:v._errorString})})},function(){v.IfShowCancelDialogWhenImageTransfer=X,Z({code:v._errorCode,message:v._errorString})})}}));case 61:case"end":return te.stop()}},l,this)})),function(l,c,p,g){return a.apply(this,arguments)})},{key:"Invert",value:function(l,c,p){var g=this,S=!1;if(m.isFunction(c)&&(S=!0),!S){var v=parseInt(l);return!!Ei(g,v,p)&&ug(g,"Invert",v,c,p,!1,!0)}g.InvertAsync(l).then(c,function(b){g._wrappeAsyncFailed(g,b,p)})}},{key:"InvertAsync",value:function(l){return this._invert(l)}},{key:"RenameTag",value:function(l,c){var p=this;return p._resetErr(),!!p._isValid()&&(m.isUndefined(l)?(oo(p),!1):l.length==0?(Me(p,-2517,"Old tag name is required."),!1):m.isUndefined(c)||c.length==0?(function(g){Me(g,-2518,"New tag name is required.")}(p),!1):p._ImgManager.renameTag(l,c))}},{key:"RemoveTag",value:function(l,c){var p=this;return p._resetErr(),!!p._isValid()&&(m.isUndefined(l)||l.length==0?(oo(p),!1):m.isUndefined(c)||m.isArray(c)?p._ImgManager.removeTag(l,c):(fd(p),!1))}},{key:"GetTagList",value:function(){var l=this;return l._resetErr(),!!l._isValid()&&l._ImgManager.getTagList()}},{key:"GetTagListByIndex",value:function(l){var c=this;if(c._resetErr(),!c._isValid())return[];var p=parseInt(l);return isNaN(p)?(ir(c),[]):p<0||p>=c._ImgManager.count()||c._ImgManager.convertClientIndexToServerId(p)==-1?(tt(c),[]):c._ImgManager.getTagListByIndex(p)}},{key:"GetImageBitDepthAsync",value:function(l){var c=this;if(c._resetErr(),!c._isValid())return Pe.Promise.reject({code:c._errorCode,message:c._errorString});var p=parseInt(l);if(isNaN(p))return ir(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString});if(p<0||p>=c._ImgManager.count())return tt(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString});var g=c._ImgManager.convertClientIndexToServerId(p);return g==-1?(tt(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString})):c._innerFunV2("GetImageBitDepth",Ge(g))}},{key:"GetImageWidthAsync",value:function(l){var c=this;if(c._resetErr(),!c._isValid())return Pe.Promise.reject({code:c._errorCode,message:c._errorString});var p=parseInt(l);if(isNaN(p))return ir(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString});if(p<0||p>=c._ImgManager.count())return tt(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString});var g=c._ImgManager.convertClientIndexToServerId(p);return g==-1?(tt(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString})):c._innerFunV2("GetImageWidth",Ge(g))}},{key:"GetImageHeightAsync",value:function(l){var c=this;if(c._resetErr(),!c._isValid())return Pe.Promise.reject({code:c._errorCode,message:c._errorString});var p=parseInt(l);if(isNaN(p))return ir(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString});if(p<0||p>=c._ImgManager.count())return tt(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString});var g=c._ImgManager.convertClientIndexToServerId(p);return g==-1?(tt(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString})):c._innerFunV2("GetImageHeight",Ge(g))}},{key:"GetImageSizeAsync",value:function(l,c,p){var g=this;if(g._resetErr(),!g._isValid())return Pe.Promise.reject({code:g._errorCode,message:g._errorString});var S=parseInt(l);if(isNaN(S))return ir(g),Pe.Promise.reject({code:g._errorCode,message:g._errorString});if(S<0||S>=g._ImgManager.count())return tt(g),Pe.Promise.reject({code:g._errorCode,message:g._errorString});var v=g._ImgManager.convertClientIndexToServerId(S);return v==-1?(tt(g),Pe.Promise.reject({code:g._errorCode,message:g._errorString})):g._innerFunV2("GetImageSize",Ge(v,c,p))}},{key:"GetImageSizeWithSpecifiedTypeAsync",value:function(l,c){var p=this;if(p._resetErr(),!p._isValid())return Pe.Promise.reject({code:p._errorCode,message:p._errorString});var g=parseInt(l);if(isNaN(g))return ir(p),Pe.Promise.reject({code:p._errorCode,message:p._errorString});if(g<0||g>=p._ImgManager.count())return tt(p),Pe.Promise.reject({code:p._errorCode,message:p._errorString});var S=p._ImgManager.convertClientIndexToServerId(g);return S==-1?(tt(p),Pe.Promise.reject({code:p._errorCode,message:p._errorString})):p._innerFunV2("GetImageSizeWithSpecifiedType",Ge(S,c))}},{key:"GetImageXResolutionAsync",value:function(l){var c=this;if(c._resetErr(),!c._isValid())return Pe.Promise.reject({code:c._errorCode,message:c._errorString});var p=parseInt(l);if(isNaN(p))return ir(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString});if(p<0||p>=c._ImgManager.count())return tt(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString});var g=c._ImgManager.convertClientIndexToServerId(p);return g==-1?(tt(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString})):c._innerFunV2("GetImageXResolution",Ge(g))}},{key:"GetImageYResolutionAsync",value:function(l){var c=this;if(c._resetErr(),!c._isValid())return Pe.Promise.reject({code:c._errorCode,message:c._errorString});var p=parseInt(l);if(isNaN(p))return ir(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString});if(p<0||p>=c._ImgManager.count())return tt(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString});var g=c._ImgManager.convertClientIndexToServerId(p);return g==-1?(tt(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString})):c._innerFunV2("GetImageYResolution",Ge(g))}},{key:"ChangeBrightnessAsync",value:function(l,c){var p=this,g=parseInt(l);if(!p._isValid())return Pe.Promise.reject({code:p._errorCode,message:p._errorString});if(c<-1e3||c>1e3)return Ni(p),Pe.Promise.reject({code:p._errorCode,message:p._errorString});var S=p._ImgManager.convertClientIndexToServerId(g);return S==-1?(tt(p),Pe.Promise.reject({code:p._errorCode,message:p._errorString})):p._innerFunV2("ChangeBrightness",Ge(S,c))}},{key:"ChangeContrastAsync",value:function(l,c){var p=this,g=parseInt(l);if(!p._isValid())return Pe.Promise.reject({code:p._errorCode,message:p._errorString});if(c<-1e3||c>1e3)return Ni(p),Pe.Promise.reject({code:p._errorCode,message:p._errorString});var S=p._ImgManager.convertClientIndexToServerId(g);return S==-1?(tt(p),Pe.Promise.reject({code:p._errorCode,message:p._errorString})):p._innerFunV2("ChangeContrast",Ge(S,c))}},{key:"GetImageAsync",value:function(l,c,p,g,S){var v=this;if(v._resetErr(),!v._isValid())return Pe.Promise.reject({code:v._errorCode,message:v._errorString});var b=parseInt(l);if(isNaN(b))return ir(v),Pe.Promise.reject({code:v._errorCode,message:v._errorString});if(b<0||b>=v._ImgManager.count())return tt(v),Pe.Promise.reject({code:v._errorCode,message:v._errorString});var T,D=v._ImgManager.convertClientIndexToServerId(b);return D==-1?(tt(v),Pe.Promise.reject({code:v._errorCode,message:v._errorString})):(m.isNumber(c)?T=Ge(D,c):m.isNumber(p)&&m.isNumber(g)?T=Ge(D,p,g):m.isNumber(S)&&(T=Ge(D,-1,-1,S)),v._sendDataByHttpAsync("GetImageByIndex",T,"blob"))}},{key:"GetImageInfoAsync",value:function(l){var c=this;if(c._resetErr(),!c._isValid())return Pe.Promise.reject({code:c._errorCode,message:c._errorString});var p=parseInt(l);if(isNaN(p))return ir(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString});if(p<0||p>=c._ImgManager.count())return tt(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString});var g=c._ImgManager.convertClientIndexToServerId(p);return g==-1?(tt(c),Pe.Promise.reject({code:c._errorCode,message:c._errorString})):c._innerFunV2("GetImageInfo",Ge(g)).then(function(S){var v=0,b=0,T=S;if(m.isArray(S)&&S.length==1&&(T=S[0]),m.isString(T)){var D=T.split(",");v=parseInt(D[0]),b=parseInt(D[1])}return{width:v,height:b}})}},{key:"IfShowUI",get:function(){return this._resetErr(),this._isValid()?this._innerFun("IfShowUI"):Oe},set:function(l){this._setIfShowUI(l)}},{key:"IfShowFileDialog",get:function(){return this._getIfShowFileDialog()},set:function(l){this._setIfShowFileDialog(l)}},{key:"checkErrorString",value:function(){var l=this._errorCode;if(l===-2115)return!0;if(l===-2003&&!V.DWT.IfHttpPostErrorNoWindow){var c=window.open("","ErrorMessage","height=500,width=750,top=0,left=0,toolbar=no,menubar=no,scrollbars=no, resizable=no,location=no, status=no");c==null||c.document.writeln(this.__HTTPPostResponseString)}return l===0}},{key:"OverlayRectangle",value:function(l,c,p,g,S,v,b){var T,D=this;return D._resetErr(),!!D._isValid()&&(D._isNoViewer()?D._nouiNotSupport("OverlayRectangle"):c>g||p>S||c==g&&p==S?(Me(D,-2375,"The left or top or right or bottom you entered is invalid."),!1):(T=m.isNumber(v)?Qa.getColor(v):v,D._UIView.OverlayRectangle(l,c,p,g,S,T,b)))}},{key:"SetViewMode",value:function(l,c){var p=this;if(p._resetErr(),!p._isValid())return!1;if(p._isNoViewer())return p._nouiNotSupport("SetViewMode");if(m.isString(l)||m.isString(c)||l<-1&&c<-1)return Ni(p),Oe;var g=Math.floor(l),S=Math.floor(c);return p._UIView.SetViewMode(g,S),!0}},{key:"ShowImageEditor",value:function(l,c,p,g){var S=this;return S._resetErr(),!!S._isValid()&&(S._isNoViewer()?S._nouiNotSupport("ShowImageEditor"):Fo.isServerInvalid(S)?Oe:S._UIView.GetWebViewer().webViewer.imageEditor?S.ShowImageEditorEx(-1,-1,-1,-1,3):l&&c&&p?S.ShowImageEditorEx(-1,-1,c,p,0,!0,l,g):S.ShowImageEditorEx(-1,-1,-1,-1,0,!1))}},{key:"ShowImageEditorEx",value:function(l,c,p,g,S,v,b,T){var D=this;return D._resetErr(),!!D._isValid()&&(D._isNoViewer()?D._nouiNotSupport("ShowImageEditorEx"):D._UIView.ShowImageEditorEx(l,c,p,g,S,v,b,T))}},{key:"SetSelectedImageArea",value:function(l,c,p,g,S){var v=this;if(v._resetErr(),!v._isValid())return!1;if(v._isNoViewer())return v._nouiNotSupport("SetSelectedImageArea");var b=parseInt(l);return isNaN(b)||b<0||b>=v._ImgManager.count()?(tt(v),!1):!Fo.isServerInvalid(v)&&v._UIView.SetSelectedImageArea(c,p,g,S)}},{key:"first",value:function(){var l=this,c=l._ImgManager.count();return l._resetErr(),!!l._isValid()&&(l._isNoViewer()?l._nouiNotSupport("first"):(c>0&&(l._UIView.Go(0),el.__innerRefreshFromUIView(l,l._ImgManager.getCurrentImageIndex())),at))}},{key:"previous",value:function(){var l=this,c=l._ImgManager.count();return l._resetErr(),!!l._isValid()&&(l._isNoViewer()?l._nouiNotSupport("previous"):(c>0&&(l._UIView.__Previous(),el.__innerRefreshFromUIView(l,l._ImgManager.getCurrentImageIndex())),at))}},{key:"next",value:function(){var l=this,c=l._ImgManager.count();return l._resetErr(),!!l._isValid()&&(l._isNoViewer()?l._nouiNotSupport("next"):(c>0&&(l._UIView.__Next(),el.__innerRefreshFromUIView(l,l._ImgManager.getCurrentImageIndex())),at))}},{key:"last",value:function(){var l=this,c=l._ImgManager.count();return l._resetErr(),!!l._isValid()&&(l._isNoViewer()?l._nouiNotSupport("last"):(c>0&&(l._UIView.Go(c-1),el.__innerRefreshFromUIView(l,l._ImgManager.getCurrentImageIndex())),at))}},{key:"_isBindViewer",value:function(){return!(!this._viewer||!this._viewer.webViewer)&&this._viewer.webViewer.bindViewUI}},{key:"_isNoViewer",value:function(){return!this._isBindViewer()}},{key:"_innerUnbindViewer",value:function(l){var c=this;c.__funResize&&(m.removeEventListener(window,"resize",c.__funResize),c.__funResize=Oe),c._viewer&&(l?c._viewer.webViewer.dispose():c._viewer.unbind()),c._config.container=null}},{key:"_unload_viewer",value:function(){var l=this;if(l._isBindViewer())l._innerUnbindViewer(!0);else{var c,p=(c=l._containerElement)===null||c===void 0?void 0:c.id;p&&delete V.DWT.ContainerMap[p]}l._ImgManager&&(l._ImgManager.dispose(),l._ImgManager=null),l._UIView&&(l._UIView.dispose(),l._UIView=null),l._viewer=null}},{key:"_innerRefreshUI",value:function(l,c,p,g,S){var v=this;return S==4&&v._isBindViewer()&&(v._ImgManager.bImageJustChangedInEditor==0?v._ImgManager.bImageChangedInViewer=!0:(v._ImgManager.bImageJustChangedInEditor=!1,v._ImgManager.bImageChangedInViewer=!1)),p&&v._ImgManager.refresh(l,v._ImgManager.count(),!0,g),m.isFunction(v.__OnRefreshUI)&&v.__OnRefreshUI(v._ImgManager.getCurrentImageIndex(),v._ImgManager.count()),!0}},{key:"updateImage",value:(o=s(E().mark(function l(c,p){var g,S,v,b;return E().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(S=this,!m.isUndefined(c)&&c.length!=0){T.next=7;break}throw oq(S),{code:S._errorCode,message:S._errorString};case 7:if(m.isString(c)){T.next=10;break}throw _k(S),{code:S._errorCode,message:S._errorString};case 10:if((v=S._uidFromServer2ServerId(c))!=-1){T.next=14;break}throw Ok(S),{code:S._errorCode,message:S._errorString};case 14:if(!m.isUndefined(p)){T.next=19;break}throw aq(S),{code:S._errorCode,message:S._errorString};case 19:if(p instanceof Blob){T.next=22;break}throw sq(S),{code:S._errorCode,message:S._errorString};case 22:return T.next=24,SU(p);case 24:return b=T.sent,T.next=27,S._updateImage(v,b);case 27:(g=S._UIView.GetWebViewer())===null||g===void 0||(g=g.webViewer)===null||g===void 0||g.resetImageEditorButton();case 28:case"end":return T.stop()}},l,this)})),function(l,c){return o.apply(this,arguments)})}],[{key:"ProcessGetBlobByQueue",value:function(){if(n._getblob_queue.length>0&&!n._processing_getblob_queue){n._processing_getblob_queue=!0;var l=n._getblob_queue.shift(),c=l[0],p=l[1],g=l[2];c._convertToBlobForUpload(V.DWT.EnumDWT_ImageType.IT_PNG,[p],!1,4,function(S,v,b){var T=b[1][0],D=c._ImgManager.getImageIdMap(T);if(D){var M={imageId:T,serverId:T,uidFromServer:D.uidFromServer,uuid:D.uuid,imageUrl:URL.createObjectURL(S),minImageUrl:URL.createObjectURL(S)};S=null,c._ImgManager.UpdateImage(M,g)}n._processing_getblob_queue=!1,setTimeout(n.ProcessGetBlobByQueue,0)},function(S){n._processing_getblob_queue=!1,setTimeout(n.ProcessGetBlobByQueue,0)})}}},{key:"_getContainer",value:function(l){return l._containerElement}},{key:"_setContainer",value:function(l,c){return l._containerElement=c}},{key:"_closeImageEditorUI",value:function(l){if(m.isFunction(l.__CloseImageEditorUI))try{l.__CloseImageEditorUI()}catch(c){qr(c)}}}]);var o,a,u,d}(vde);function ug(t,n,o,a,u,d,l){var c,p=t._ImgManager.convertClientIndexToServerId(o);if(p==-1)return tt(t),m.isFunction(u)&&u(t._errorCode,t._errorString),!1;if(c=t._innerFun(n,Ge(p)),d)return c;var g=c==1;return g?(l&&(Rt.refreshImageAfterInvokeFun(t,o),t.getView().ClearSelectedAreas()),m.isFunction(a)&&a()):m.isFunction(u)&&u(t._errorCode,t._errorString),g}function SU(t){return m.isFunction(t.arrayBuffer)?t.arrayBuffer():new Q.Promise(function(n,o){if(V.navInfoSync.bIE||V.navInfoSync.bSafari){var a=new FileReader;a.onload=function(){n(a.result)},a.onerror=function(d){o(d)},a.readAsArrayBuffer(t)}else{var u;Me(u={},-2856,"Cannot convert blob to array buffer."),o({code:u._errorCode,message:u._errorString})}})}w(_u,"_processing_getblob_queue",!1),w(_u,"_getblob_queue",[]);var bU=function(t){return t.normal=0,t.balance=1,t}({}),TU="data:image/gif;base64,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",Su={loaderBarClassName:"ds-dwt-loaderBar",loaderBarBackgroundColor:"",loaderBarSource:he.bIE?TU:Q.loaderBarSource,loaderBarSourceIE:TU,loaderBarWidth:120,loaderBarHeight:120,errorMessages:{limitReachedForZoomIn:"Error: You have reached the limit for zooming in",limitReachedForZoomOut:"Error: You have reached the limit for zooming out",insufficientParas:"Error: Not enough parameters.",invalidAngle:"Error: The angle you entered is invalid.",invalidIndex:"Error: The index you entered is invalid.",invalidHeightOrWidth:"Error: The height or width you entered is invalid.",imageNotChanged:"Error: You have not changed the current image."},generalMessages:{checkingDWTVersion:"Checking WebTwain version ...",updatingDService:"Dynamic Web TWAIN Service is updating ...",downloadingDWTModule:"Downloading the Dynamic Web TWAIN module.",refreshNeeded:"Please REFRESH your browser.",downloadNeeded:"Please download and install the Dynamic Web TWAIN.",DWTmoduleLoaded:"The Dynamic Web TWAIN module is loaded."},customProgressText:{upload:"Uploading...",download:"Downloading...",load:"Loading...",decode:"Processing...",decodeTIFF:"Processing tiff...",decodePDF:"Processing pdf...",encode:"Processing...",encodeTIFF:"Processing tiff...",encodePDF:"Processing pdf...",transfer:"Transferring...",canvasLoading:"Loading ..."},buttons:{titles:{previous:"Previous Image",next:"Next Image",print:"Print Image",scan:"Acquire new Image(s)",load:"Load local Image(s)",rotateleft:"Rotate Left",rotate:"Rotate",rotateright:"Rotate Right",deskew:"Deskew",crop:"Crop Selected Area",cut:"Cut Selected Area",changeimagesize:"Change Image Size",flip:"Flip Image",mirror:"Mirror Image",zoomin:"Zoom In",originalsize:"Show Original Size",zoomout:"Zoom Out",stretch:"Stretch Mode",fit:"Fit Window",fitw:"Fit Horizontally",fith:"Fit Vertically",hand:"Hand Mode",rectselect:"Select Mode",zoom:"Click to Zoom In",restore:"Restore Original Image",save:"Save Changes",close:"Close the Editor",removeall:"Remove All Images",removeselected:"Remove All Selected Images"},bShowAllButtons:!0,visibility:{scan:!0,load:!0,print:!0,removeall:!0,removeselected:!0,rotateleft:!0,rotate:!0,rotateright:!0,deskew:!0,crop:!0,cut:!0,changeimagesize:!0,flip:!0,mirror:!0,zoomin:!0,originalsize:!0,zoomout:!0,stretch:!0,fit:!0,fitw:!0,fith:!0,hand:!0,rectselect:!0,zoom:!0,restore:!0,save:!0,close:!0}},dialogText:{dlgRotateAnyAngle:["Angle :","Interpolation:","Keep size","  OK  ","Cancel"],dlgChangeImageSize:["New Height :","New Width :","Interpolation:","  OK  ","Cancel"],saveChangedImage:["You have changed the image, do you want to keep the change(s)?","  Yes  ","  No  "],selectSource:["Select Source:","Select","Cancel","There is no source available!"]}},bi=m.mix({},Su);function CU(){var t;V.DWT&&(t=V.DWT.CustomizableDisplayInfo),t&&(m.isString(t.loaderBarSource)&&t.loaderBarSource!=""?Q.loaderBarSource=t.loaderBarSource:he.bIE?(Q.loaderBarSource=Su.loaderBarSourceIE,Q.loaderBarSourceIE=Su.loaderBarSourceIE):Q.loaderBarSource=Su.loaderBarSource,m.isString(t.loaderBarClassName)&&t.loaderBarClassName!=""?Q.loaderBarClassName=t.loaderBarClassName:Q.loaderBarClassName=Su.loaderBarClassName,m.isString(t.loaderBarBackgroundColor)?Q.loaderBarBackgroundColor=t.loaderBarBackgroundColor:Q.loaderBarBackgroundColor=Su.loaderBarBackgroundColor,t.loaderBarWidth?Q.loaderBarWidth=t.loaderBarWidth:Q.loaderBarWidth=Su.loaderBarWidth,t.loaderBarHeight?Q.loaderBarHeight=t.loaderBarHeight:Q.loaderBarHeight=Su.loaderBarHeight)}var wU=!0;function _de(){var t;wU&&(bi=m.mix({},Su),V.DWT&&(t=V.DWT.CustomizableDisplayInfo),t&&(t.errorMessages&&m.mix(bi.errorMessages,t.errorMessages),t.generalMessages&&m.mix(bi.generalMessages,t.generalMessages),t.customProgressText&&m.mix(bi.customProgressText,t.customProgressText),t.buttons&&(t.buttons.titles&&m.mix(bi.buttons.titles,t.buttons.titles),t.buttons.bShowAllButtons&&m.mix(bi.buttons.bShowAllButtons,t.buttons.bShowAllButtons),t.buttons.visibility&&m.mix(bi.buttons.visibility,t.buttons.visibility)),t.dialogText&&m.mix(bi.dialogText,t.dialogText)),CU(),wU=!1)}function zE(t){var n=t,o=window;if(o.ShadowRoot)for(;n;){if(n instanceof o.ShadowRoot)return n;n=n.parentNode}return null}function KE(t){var n=window;return!!(n.ShadowRoot&&t instanceof n.ShadowRoot)}Q._funsAfterConfigLoaded=[],Q._safePromptCustomMsg=function(t){t&&t()};var da=Nr;V.DWT;var lg,Ws={background:"#434246",topMenuBorder:"",innerBorder:"",promptToSaveChange:!0,buttons:bi.buttons,dialogText:bi.dialogText},Sde=function(){return _(function o(a,u){h(this,o);var d=this;d._stwain=a,d._ImgManager=a._ImgManager,d.zoomInStep=1.2,d.zoomOutStep=.8,d.MIN_ZOOM=.02,d.MAX_ZOOM=65,d.MAX_ROWS=128,d.MAX_COLUMNS=128,d.__MousewheelValue=0,this._Init(u)},[{key:"_Init",value:function(o){var a=this;if(a.borderWidth=m.isUndefined(o.borderWidth)?1:o.borderWidth,o.BackgroundColor?a.BackgroundColorByDefault=o.BackgroundColor:a.BackgroundColorByDefault="#FFFFFF",o.BackgroundColor=a.BackgroundColorByDefault,a.BackgroundFillColor=a.BackgroundColorByDefault,o.onTopImageInTheViewChanged=function(d){m.isFunction(a._stwain.__OnTopImageInTheViewChanged)&&a._stwain.__OnTopImageInTheViewChanged(d.index,d.bByScrollBar)},o.onGetImageInfo=function(d){return{width:a._stwain.GetImageWidth(d),height:-1}},!a._stwain._viewer&&V.DWT.UseDefaultViewer){var u={viewerContainer:{},viewerEvents:{topPageChanged:function(d,l){a.__topPageChanged(d,l,a)},click:function(d){a.__click(d,a)},rightclick:function(d){a.__rightclick(d,a)},dblclick:function(d){a.__dblclick(d,a)},mousemove:function(d){a.__mousemove(d,a)},pageAreaSelected:function(d,l){a.__pageAreaSelected(d,l,a)},pageAreaUnselected:function(d){a.__pageAreaUnselected(d,a)},dragdone:function(d){a.__dragdone(d,a)},onDrop:function(d){a.__onDrop(d,a)},pageChange:function(d){a.__pageChange(d,a)},bufferChanged:function(d,l){a.__bufferChanged(a,d,l)},onBind:function(d){a.__onBindViewer(d)},onUnBind:function(d){a.__onUnBindViewer(d)},save:function(d,l,c,p){return a.__save(a,d,l,c,p)},removeBtnClick:function(d){a.__removePage(a,d)}},viewerError:{setError:function(d,l){a.__setError(d,l,a)}},imageEditorEvents:{acquire:function(d){a.__acquire(a,d)},loadImage:function(){a.__loadImage(a)},deskew:function(d,l){a.__deskew(a,d,l)},removeImage:function(){a.__remove(a)},removeAllImage:function(){a.__removeAll(a)},close:function(){a.__close(a)}},imageEditorServerCallback:{rotateRight:function(){a.__rotateRightForServer(a)},rotate:function(d,l,c){a.__rotateForServer(a,d,l,c)},rotateLeft:function(){a.__rotateLeftForServer(a)},deskew:function(d){a.__deskewForServer(a)},crop:function(d){a.__cropForServer(a,d)},erase:function(d){a.__eraseForServer(a,d)},changeImageSize:function(d,l,c){a.__changeImageSizeForServer(a,d,l,c)},flip:function(){a.__flipForServer(a)},mirror:function(){a.__mirrorForServer(a)},restore:function(d){a.__restoreForServer(a,d)},save:function(d){return a.__saveForServer(a,d)}},beforeImageEditorCreated:function(d){a.__beforeImageEditorCreated(d)}};o.Container&&(Pe.isNodeList(o.Container)||m.isArray(o.Container)&&o.Container.length>0)&&(u.viewerContainer={container:o.Container[0],width:wi(o.Width),height:wi(o.Height)}),a._stwain._viewer=new V.DWTViewer(xh._getBuffer(a._ImgManager),u)}else o.Container&&(Pe.isNodeList(o.Container)||m.isArray(o.Container)&&o.Container.length>0)&&a.__onBindViewer(o.Container[0]);a.__InitEvents(o)}},{key:"dispose",value:function(){}},{key:"__InitEvents",value:function(o){var a=this;m.isFunction(o.onTopImageInTheViewChanged)&&(a.onTopImageInTheViewChanged=o.onTopImageInTheViewChanged),m.isFunction(o.onGetImageInfo)&&(a.onGetImageInfo=o.onGetImageInfo),m.isFunction(o.onZoomChanged)&&(a.onZoomChanged=o.onZoomChanged),m.isFunction(o.onMouseMove)&&(a.onMouseMove=o.onMouseMove),m.isFunction(o.onMouseClick)&&(a.onMouseClick=o.onMouseClick),m.isFunction(o.onMouseRightClick)&&(a.onMouseRightClick=o.onMouseRightClick),m.isFunction(o.onMouseDoubleClick)&&(a.onMouseDoubleClick=o.onMouseDoubleClick),m.isFunction(o.onImageAreaDeSelected)&&(a.onImageAreaDeSelected=o.onImageAreaDeSelected),m.isFunction(o.onImageAreaSelected)&&(a.onImageAreaSelected=o.onImageAreaSelected),m.isFunction(o.onBufferChanged)&&(a.onBufferChanged=o.onBufferChanged),m.isFunction(o.onSelected)&&(a.onSelected=o.onSelected),m.isFunction(o.onRefreshUI)&&(a.onRefreshUI=o.onRefreshUI),m.isFunction(o.onResetCurrentIndex)&&(a.onResetCurrentIndex=o.onResetCurrentIndex)}},{key:"GetWebViewer",value:function(){return this._stwain._viewer}},{key:"SetSelectedImageArea",value:function(o,a,u,d){if(this.GetWebViewer()!=null){var l=[],c={};return c.left=o,c.top=a,c.right=u,c.bottom=d,l.push(c),this.GetWebViewer().setSelectedAreas(l)}return!1}},{key:"OverlayRectangle",value:function(o,a,u,d,l,c,p){var g=this;return!!g._stwain._isNoViewer()||g.GetWebViewer()!=null&&g.GetWebViewer().webViewer.overlayRectangle(o,a,u,d,l,c,p)}},{key:"ChangeImageViewSize",value:function(o,a){var u=this;return o>=0&&(u.GetWebViewer().width,u.GetWebViewer().width=o),a>=0&&(u.GetWebViewer().height,u.GetWebViewer().height=a),!0}},{key:"ChangeSize",value:function(o,a){var u=this,d=u.GetWebViewer();return u._stwain._isNoViewer()||!d||(u.GetWidth()!=o&&u.SetWidth(o),u.GetHeight()!=a&&u.SetHeight(a)),!0}},{key:"GetWidth",value:function(){var o=this.GetWebViewer();return o?o.width:0}},{key:"SetWidth",value:function(o){var a=this,u=a.GetWebViewer(),d=o;return!(a._stwain._isNoViewer()||!u)&&!(!m.isString(d)&&!m.isNumber(d))&&(a.GetWebViewer().width=d,!0)}},{key:"GetHeight",value:function(){var o=this.GetWebViewer();return o?o.height:0}},{key:"SetHeight",value:function(o){var a=this,u=a.GetWebViewer(),d=o;return!(a._stwain._isNoViewer()||!u)&&!(!m.isString(d)&&!m.isNumber(d))&&(a.GetWebViewer().height=d,!0)}},{key:"SetViewMode",value:function(o,a){var u=this;return u._stwain._isNoViewer()?u._stwain._nouiNotSupport("SetViewMode"):u.GetWebViewer().setViewMode(o,a)}},{key:"SetIfFitWindowAndType",value:function(o){var a;if(this.GetWebViewer()!=null){switch(o){case 1:a="height";break;case 2:a="width";break;default:a="window"}this.GetWebViewer().fitWindow(a)}return!0}},{key:"GetAllowMultiSelect",value:function(){return!this._stwain._isNoViewer()&&this.GetWebViewer().selectionMode}},{key:"SetAllowMultiSelect",value:function(o){var a=this;return a._stwain._isNoViewer()||(a.GetWebViewer().selectionMode=o?1:0),!0}},{key:"GetFitWindowType",value:function(){return this._stwain._isNoViewer(),0}},{key:"SetSelectionRectAspectRatio",value:function(o){return this.GetWebViewer().selectionRectAspectRatio=o,!0}},{key:"GetSelectionRectAspectRatio",value:function(){return this.GetWebViewer().selectionRectAspectRatio}},{key:"SetFitWindowType",value:function(o){return this._stwain._isNoViewer()||this.SetIfFitWindowAndType(o),!0}},{key:"GetIfFitWindow",value:function(){return this._stwain._isNoViewer(),!0}},{key:"SetIfFitWindow",value:function(o){var a=this;return a._stwain._isNoViewer()||(o?a.GetWebViewer().fitWindow("window"):a.GetWebViewer().zoom=1),!0}},{key:"GetImageMargin",value:function(){return this._stwain._isNoViewer()?0:this.GetWebViewer().pageMargin}},{key:"SetImageMargin",value:function(o){return this._stwain._isNoViewer()||(this.GetWebViewer().pageMargin=o),!0}},{key:"GetSelectionImageBorderColor",value:function(){return this.GetWebViewer().selectedPageBorder}},{key:"SetSelectionImageBorderColor",value:function(o){var a=o;return m.isNumber(a)&&(a=Qa.getColor(a)),a.indexOf("1px solid")==-1&&(a="1px solid "+a),this.GetWebViewer().selectedPageBorder=a,!0}},{key:"GetZoom",value:function(){return this.GetWebViewer().zoom}},{key:"SetZoom",value:function(o,a,u){var d=this;return o<d.MIN_ZOOM&&(o=d.MIN_ZOOM),o>d.MAX_ZOOM&&(o=d.MAX_ZOOM),d.GetWebViewer()!=null&&(d.GetWebViewer().zoom=o),!0}},{key:"ZoomIn",value:function(o,a){var u=this,d=u._ImgManager.getImageIdMap(u._ImgManager.convertClientIndexToServerId(u._ImgManager.getCurrentImageIndex()));if(!d)return!1;var l=u.GetWebViewer().zoom,c=Math.floor(100*l*u.zoomInStep)+1;return 1<c&&c<2501?wi(d.imageWidth*l)>15e3||wi(d.imageHeight*l)>15e3?(Nr.output(u,bi.errorMessages.limitReachedForZoomIn),alert(bi.errorMessages.limitReachedForZoomIn),!1):(u.SetZoom(c/100,o,a),!0):(Nr.output(u,bi.errorMessages.limitReachedForZoomIn),alert(bi.errorMessages.limitReachedForZoomIn),!1)}},{key:"ZoomOut",value:function(){var o=this,a=o.GetWebViewer().zoom,u=Math.floor(100*a*o.zoomOutStep)-1;return 1<u&&u<6501?(o.SetZoom(u/100),!0):(Nr.output(o,bi.errorMessages.limitReachedForZoomOut),alert(bi.errorMessages.limitReachedForZoomOut),!1)}},{key:"GetMouseShape",value:function(){return this._stwain._isNoViewer()?0:this.GetWebViewer().cursor!="crosshair"}},{key:"SetMouseShape",value:function(o){var a=this;return a._stwain._isNoViewer()||(a.GetWebViewer().cursor=o?"pointer":"crosshair"),!0}},{key:"GetShowPageNumber",value:function(){return!this._stwain._isNoViewer()&&this.GetWebViewer().showPageNumber}},{key:"SetShowPageNumber",value:function(o){return this._stwain._isNoViewer()||(this.GetWebViewer().showPageNumber=o),!0}},{key:"SetBackgroundFillColor",value:function(o){var a=o;return this.BackgroundFillColor=a,!0}},{key:"GetBackgroundColor",value:function(){return this.GetWebViewer().background}},{key:"SetBackgroundColor",value:function(o){var a=o;return this._stwain._isNoViewer()||(this.GetWebViewer().background=a),!0}},{key:"Go",value:function(o){return this.GetWebViewer().gotoPage(o)}},{key:"__Previous",value:function(){return this.Go(this._ImgManager.getCurrentImageIndex()-1),!0}},{key:"__Next",value:function(){return this.Go(this._ImgManager.getCurrentImageIndex()+1),!0}},{key:"__fireEvent",value:function(o,a){if(m.isFunction(this[o]))try{return this[o](a)}catch(u){qr(u)}return!0}},{key:"GetIfAutoScroll",value:function(){return this.GetWebViewer().ifAutoScroll}},{key:"SetIfAutoScroll",value:function(o){return this.GetWebViewer().ifAutoScroll=o,!0}},{key:"BindView",value:function(o){var a,u=o;return m.isString(o)?u=m.get(o):m.isDOM(u)&&(u.id&&u.id!=""||(u.id=["dwt_",m.getRandom()].join(""))),(a=this.GetWebViewer().bind(u))&&this.GetWebViewer().show(),a}},{key:"GetIfShowVideoContainer",value:function(){var o=this,a=o.GetWebViewer();return m.isUndefined(a)?(V.DWT.UseDefaultViewer?YT(o._stwain):_y(o._stwain),!1):a.webViewer.getIfShowVideoContainer()}},{key:"ShowVideoContainer",value:function(o){var a=this,u=a.GetWebViewer();return m.isUndefined(u)?(V.DWT.UseDefaultViewer?YT(a._stwain):_y(a._stwain),!1):u.webViewer.showVideoContainer(o)}},{key:"UpdateVideoContainer",value:function(o){var a=this,u=a.GetWebViewer();return m.isUndefined(u)?(V.DWT.UseDefaultViewer?YT(a._stwain):_y(a._stwain),!1):u.webViewer.updateVideoImage(o)}},{key:"ClearSelectedAreas",value:function(){var o=this.GetWebViewer();if(o)return o.clearSelectedAreas()}},{key:"OnCloseImageEditor",value:function(){return!!this.GetWebViewer().webViewer.imageEditor&&(this.GetWebViewer().createImageEditor().dispose(),!0)}},{key:"ShowImageEditorEx",value:function(o,a,u,d,l,c,p,g){var S=this;if(this._stwain._isNoViewer())return S._stwain._nouiNotSupport("ShowImageEditorEx");switch(l){case 0:case 1:case 2:break;case 3:if(S.OnCloseImageEditor())return!0}var v,b=document;if(_u._getContainer(S._stwain)==p&&(c=!1),p){var T=V.DWT.ContainerMap;if(T){var D,M=Object.keys(T);for(D=0;D<M.length;D++)if(M[D]==p.id){c=!1;break}}}if(c&&p&&(m.isDOM(p)?v=p:KE(p)?(v=document.createElement("div"),p.appendChild(v)):(v=b.getElementById(p))&&v.nodeName!="DIV"&&(c=!1)),c&&p&&m.isDOM(p)){var W=zE(p);if(W){if(V.DWT.IfLoadResources){var Y,ee,te="";!he.bFileSystem&&V.DWT.IfResourcesAddTimestamp&&(te=Q.timestamp),(Y=b.createElement("link")).href=[Vu(),"/src/dynamsoft.webtwain.viewer.css",te].join(""),Y.rel="stylesheet",Y.async=!0,(ee=b.createElement("link")).href=[Vu(),"/src/dynamsoft.webtwain.css",te].join(""),ee.rel="stylesheet",ee.async=!0,m.scriptOnload(Y,function(){m.scriptOnload(ee,function(){return S.ShowImageEditor(v,c,u,d)}),W.appendChild(ee)}),W.appendChild(Y)}return!0}}return S.ShowImageEditor(v,c,u,d)}},{key:"ShowImageEditor",value:function(o,a,u,d){var l=this;return o&&u&&d?(Ws.element=o,Ws.width=u,Ws.height=d):(Ws.element=void 0,Ws.width=void 0,Ws.height=void 0),Ws.border=l.GetWebViewer().border,Ws.selectionRectAspectRatio=l.GetWebViewer().selectionRectAspectRatio,Ws.workMode=bU.normal,l.GetWebViewer().createImageEditor(Ws),l._stwain.ErrorCode!=0&&(l.GetWebViewer().webViewer.imageEditor&&l.GetWebViewer().webViewer.imageEditor.dispose(),l.GetWebViewer().createImageEditor(Ws)),l.GetWebViewer().webViewer.imageEditor&&l.GetWebViewer().webViewer.imageEditor.show(),!0}},{key:"__beforeImageEditorCreated",value:function(o){var a=V.DWT.CustomizableDisplayInfo;if(!m.isUndefined(a)){if(!m.isUndefined(a.buttons)){var u=a.buttons.titles;m.isUndefined(u)||(m.isUndefined(u.previous)||(o.buttons.titles.previous=u.previous),m.isUndefined(u.next)||(o.buttons.titles.next=u.next),m.isUndefined(u.print)||(o.buttons.titles.print=u.print),m.isUndefined(u.scan)||(o.buttons.titles.scan=u.scan),m.isUndefined(u.load)||(o.buttons.titles.load=u.load),m.isUndefined(u.rotateleft)||(o.buttons.titles.rotateleft=u.rotateleft),m.isUndefined(u.rotate)||(o.buttons.titles.rotate=u.rotate),m.isUndefined(u.rotateright)||(o.buttons.titles.rotateright=u.rotateright),m.isUndefined(u.deskew)||(o.buttons.titles.deskew=u.deskew),m.isUndefined(u.crop)||(o.buttons.titles.crop=u.crop),m.isUndefined(u.cut)||(o.buttons.titles.cut=u.cut),m.isUndefined(u.changeimagesize)||(o.buttons.titles.changeimagesize=u.changeimagesize),m.isUndefined(u.flip)||(o.buttons.titles.flip=u.flip),m.isUndefined(u.mirror)||(o.buttons.titles.mirror=u.mirror),m.isUndefined(u.zoomin)||(o.buttons.titles.zoomin=u.zoomin),m.isUndefined(u.originalsize)||(o.buttons.titles.originalsize=u.originalsize),m.isUndefined(u.zoomout)||(o.buttons.titles.zoomout=u.zoomout),m.isUndefined(u.stretch)||(o.buttons.titles.stretch=u.stretch),m.isUndefined(u.fit)||(o.buttons.titles.fit=u.fit),m.isUndefined(u.fitw)||(o.buttons.titles.fitw=u.fitw),m.isUndefined(u.fith)||(o.buttons.titles.fith=u.fith),m.isUndefined(u.hand)||(o.buttons.titles.hand=u.hand),m.isUndefined(u.rectselect)||(o.buttons.titles.rectselect=u.rectselect),m.isUndefined(u.zoom)||(o.buttons.titles.zoom=u.zoom),m.isUndefined(u.restore)||(o.buttons.titles.restore=u.restore),m.isUndefined(u.save)||(o.buttons.titles.save=u.save),m.isUndefined(u.close)||(o.buttons.titles.close=u.close),m.isUndefined(u.removeall)||(o.buttons.titles.removeall=u.removeall),m.isUndefined(u.removeselected)||(o.buttons.titles.removeselected=u.removeselected));var d=a.buttons.bShowAllButtons;m.isUndefined(d)||(o.buttons.bShowAllButtons=d);var l=a.buttons.visibility;m.isUndefined(l)||(m.isUndefined(l.scan)||(o.buttons.visibility.scan=l.scan),m.isUndefined(l.load)||(o.buttons.visibility.load=l.load),m.isUndefined(l.print)||(o.buttons.visibility.print=l.print),m.isUndefined(l.removeall)||(o.buttons.visibility.removeall=l.removeall),m.isUndefined(l.removeselected)||(o.buttons.visibility.removeselected=l.removeselected),m.isUndefined(l.rotateleft)||(o.buttons.visibility.rotateleft=l.rotateleft),m.isUndefined(l.rotate)||(o.buttons.visibility.rotate=l.rotate),m.isUndefined(l.rotateright)||(o.buttons.visibility.rotateright=l.rotateright),m.isUndefined(l.deskew)||(o.buttons.visibility.deskew=l.deskew),m.isUndefined(l.crop)||(o.buttons.visibility.crop=l.crop),m.isUndefined(l.cut)||(o.buttons.visibility.cut=l.cut),m.isUndefined(l.changeimagesize)||(o.buttons.visibility.changeimagesize=l.changeimagesize),m.isUndefined(l.flip)||(o.buttons.visibility.flip=l.flip),m.isUndefined(l.mirror)||(o.buttons.visibility.mirror=l.mirror),m.isUndefined(l.zoomin)||(o.buttons.visibility.zoomin=l.zoomin),m.isUndefined(l.originalsize)||(o.buttons.visibility.originalsize=l.originalsize),m.isUndefined(l.zoomout)||(o.buttons.visibility.zoomout=l.zoomout),m.isUndefined(l.stretch)||(o.buttons.visibility.stretch=l.stretch),m.isUndefined(l.fit)||(o.buttons.visibility.fit=l.fit),m.isUndefined(l.fitw)||(o.buttons.visibility.fitw=l.fitw),m.isUndefined(l.fith)||(o.buttons.visibility.fith=l.fith),m.isUndefined(l.hand)||(o.buttons.visibility.hand=l.hand),m.isUndefined(l.rectselect)||(o.buttons.visibility.rectselect=l.rectselect),m.isUndefined(l.zoom)||(o.buttons.visibility.zoom=l.zoom))}var c=a.dialogText;m.isUndefined(c)||(m.isUndefined(c.dlgRotateAnyAngle)||(o.dialogText.dlgRotateAnyAngle=c.dlgRotateAnyAngle),m.isUndefined(c.dlgChangeImageSize)||(o.dialogText.dlgChangeImageSize=c.dlgChangeImageSize),m.isUndefined(c.saveChangedImage)||(o.dialogText.saveChangedImage=c.saveChangedImage),m.isUndefined(c.selectSource)||(o.dialogText.selectSource=c.selectSource))}}},{key:"__topPageChanged",value:function(o,a,u){u.__fireEvent("onTopImageInTheViewChanged",{index:o,bByScrollBar:a})}},{key:"__click",value:function(o,a){var u=a;u.__fireEvent("onMouseClick",{e:o,x:o.imageX,y:o.imageY,index:u._ImgManager.getCurrentImageIndex()})}},{key:"__rightclick",value:function(o,a){var u=a;u.__fireEvent("onMouseRightClick",{e:o,x:o.imageX,y:o.imageY,index:u._ImgManager.getCurrentImageIndex()})}},{key:"__dblclick",value:function(o,a){var u=a;u.__fireEvent("onMouseDoubleClick",{e:o,x:o.imageX,y:o.imageY,index:u._ImgManager.getCurrentImageIndex()})}},{key:"__mousemove",value:function(o,a){var u=a;u.__fireEvent("onMouseMove",{e:o,x:o.imageX,y:o.imageY,index:u._ImgManager.getCurrentImageIndex()})}},{key:"__pageAreaSelected",value:function(o,a,u){var d=u,l=1;if(a&&a.length>0){var c=a[a.length-1];c.index&&(l=wi(c.index)+1),d.__fireEvent("onImageAreaSelected",{index:o,left:wi(c.x),top:wi(c.y),right:wi(c.x+c.width),bottom:wi(c.y+c.height),areaIndex:l})}}},{key:"__pageAreaUnselected",value:function(o,a){a.__fireEvent("onImageAreaDeSelected",o)}},{key:"__dragdone",value:function(o,a){var u=a;m.isFunction(u._stwain.__OnIndexChangeDragDropDone)&&u._stwain.__OnIndexChangeDragDropDone(o)}},{key:"__onDrop",value:function(o,a){var u=a;u.GetWebViewer().webViewer.acceptDrop&&u.__dropEvent(o,u)}},{key:"__dropEvent",value:(n=s(E().mark(function o(a,u){var d,l,c,p,g,S,v,b,T,D,M;return E().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:d=u,p=function(Y){Y&&Nr.output(null,Y+" was loaded successfully!")},g=function(Y,ee,te){d._stwain._errorCode=Y,d._stwain._errorString=ee,te&&Nr.output(null,te+" failed to load. Error code: "+Y+"Error String: "+ee)},v=a.dataTransfer.files,d._stwain._loadImageBytesFileCount+=v.length,b=0;case 6:if(!(b<v.length)){W.next=75;break}if((l=v[b]).type.length!=0){W.next=31;break}T=void 0,(D=l.name.indexOf("."))>0&&(T=l.name.substring(D+1)),W.t0=T,W.next=W.t0==="bmp"?14:W.t0==="jpg"||W.t0==="jpeg"?16:W.t0==="tif"||W.t0==="tiff"?18:W.t0==="png"?20:W.t0==="pdf"?22:W.t0==="jp2"||W.t0==="j2k"||W.t0==="j2c"?24:26;break;case 14:return c=V.DWT.EnumDWT_ImageType.IT_BMP,W.abrupt("break",29);case 16:return c=V.DWT.EnumDWT_ImageType.IT_JPG,W.abrupt("break",29);case 18:return c=V.DWT.EnumDWT_ImageType.IT_TIF,W.abrupt("break",29);case 20:return c=V.DWT.EnumDWT_ImageType.IT_PNG,W.abrupt("break",29);case 22:return c=V.DWT.EnumDWT_ImageType.IT_PDF,W.abrupt("break",29);case 24:return c=V.DWT.EnumDWT_ImageType.IT_J2K,W.abrupt("break",29);case 26:Nr.output(null,l.name+" failed to load because the file type is not supported!"),c=-1,lk(d._stwain);case 29:W.next=49;break;case 31:W.t1=l.type,W.next=W.t1==="image/bmp"?34:W.t1==="image/jpg"||W.t1==="image/jpeg"?36:W.t1==="image/tif"||W.t1==="image/tiff"?38:W.t1==="image/png"?40:W.t1==="application/pdf"?42:W.t1==="image/jp2"?44:46;break;case 34:return c=V.DWT.EnumDWT_ImageType.IT_BMP,W.abrupt("break",49);case 36:return c=V.DWT.EnumDWT_ImageType.IT_JPG,W.abrupt("break",49);case 38:return c=V.DWT.EnumDWT_ImageType.IT_TIF,W.abrupt("break",49);case 40:return c=V.DWT.EnumDWT_ImageType.IT_PNG,W.abrupt("break",49);case 42:return c=V.DWT.EnumDWT_ImageType.IT_PDF,W.abrupt("break",49);case 44:return c=V.DWT.EnumDWT_ImageType.IT_J2K,W.abrupt("break",49);case 46:Nr.output(null,l.name+" failed to load because the file type is not supported!"),c=-1,lk(d._stwain);case 49:if(S=l.name,c==-1){W.next=68;break}return d._stwain._bIfShowProgressBar?(M=d._stwain.IfShowCancelDialogWhenImageTransfer,d._stwain.IfShowCancelDialogWhenImageTransfer=!1,Q.showProgress(d._stwain,"DropLoading",d._stwain.IfShowCancelDialogWhenImageTransfer),d._stwain.IfShowCancelDialogWhenImageTransfer=M):Q.hideProgress(),d._stwain._OnPercentDone([0,-1,tn.Loading]),d._stwain.Addon&&d._stwain.Addon.PDF&&It.checkProductKey(d._stwain,{PDFRasterizer:!0},!0),W.prev=54,W.next=57,new Q.Promise(function(Y,ee){var te=new FileReader;te.readAsDataURL(l),te.onload=function(){var de=d._stwain.__GetLoadEventsNum();Q.cancelFrom=or.LoadImage,d._stwain.__LoadImageFromBytesV2(l,c,"",!0,0,l.size,!1,de,function(){d._stwain._loadImageBytesFileCount-=1,d._stwain.__OnPostLoad&&d._stwain.__OnPostLoad("",S||"",""+c),p(l.name),Y()},function(Z,ne){Z==-1119&&ne.indexOf("correct password is not provided")>-1&&v.length>1?(g(Z,ne,l.name),d._stwain._loadImageBytesFileCount-=1,d._stwain.__OnPostLoad&&d._stwain.__OnPostLoad("",S||"",""+c),Y()):ee({code:Z,message:ne})})},te.onerror=function(de){dd(d._stwain),ee({code:d._stwain._errorCode,message:de})}});case 57:W.next=65;break;case 59:W.prev=59,W.t2=W.catch(54),d._stwain._bIfShowProgressBar&&Q.closeProgress(null),W.t2&&"code"in W.t2&&"message"in W.t2?g(W.t2.code,W.t2.message,S):BY(d._stwain,W.t2),d._stwain._loadImageBytesFileCount-=1,d._stwain.__OnPostLoad&&d._stwain.__OnPostLoad("",S||"",""+c);case 65:d._stwain._bIfShowProgressBar&&Q.closeProgress(null),W.next=71;break;case 68:Ek(d._stwain),d._stwain._loadImageBytesFileCount-=1,d._stwain.__OnPostLoad&&d._stwain.__OnPostLoad("",S||"",""+c);case 71:l=null;case 72:b++,W.next=6;break;case 75:case"end":return W.stop()}},o,null,[[54,59]])})),function(o,a){return n.apply(this,arguments)})},{key:"__pageChange",value:function(o,a){var u,d=a,l=d._ImgManager.count();m.log("OnPagination"),l<=0?Ii(d._stwain):l!=1&&(!/^\d+$/.test(o)||o<=0?alert(bi.errorMessages.invalidIndex):((u=wi(o)-1)<0?u=0:u>=l&&(u=l-1),u!=d._ImgManager.getCurrentImageIndex()&&d.GetWebViewer().gotoPage(u)))}},{key:"__bufferChanged",value:function(o,a,u){var d,l=o,c=[],p=-1,g=[];a.operation&&(a.action=a.operation);for(var S=0;S<l._ImgManager.count();S++)(d=l._ImgManager.getCustomDataByIndex(S))&&d.serverId&&c.push(this._ImgManager._serverId2uidFromServer(d.serverId));if(a.imageIds=c,a.curIndex>=0&&(d=l._ImgManager.getCustomDataByIndex(a.curIndex))&&d.serverId&&(p=this._ImgManager._serverId2uidFromServer(d.serverId)),a.currentId=p,a.operation=="modify"&&a.afterStatus.modifiedUid!=""){var v=l._ImgManager.getIndexByUid(a.afterStatus.modifiedUid);v>=0&&(d=l._ImgManager.getCustomDataByIndex(v))&&d.serverId&&(a.modifiedId=this._ImgManager._serverId2uidFromServer(d.serverId))}if(a.afterStatus.selectedUids)for(var b=0;b<a.afterStatus.selectedUids.length;b++){var T=a.afterStatus.selectedUids[b];if(T&&T!=-1){var D=l._ImgManager.getIndexByUid(a.afterStatus.selectedUids[b]);D>=0&&(d=l._ImgManager.getCustomDataByIndex(D))&&d.serverId&&g.push(this._ImgManager._serverId2uidFromServer(d.serverId))}}a.selectedIds=g,m.mix(a,{}),delete a.uids,delete a.currentUid,delete a.selectedUids,delete a.afterStatus,delete a.beforeStatus,delete a.operation,delete a.curIndex,delete a.docUid,delete a.docName,l.__fireEvent("onBufferChanged",a)}},{key:"__setError",value:function(o,a,u){var d=u;d._stwain._errorCode=o,d._stwain._errorString=a}},{key:"__acquire",value:function(o,a){var u=o;try{var d=!1;V.DWT.IfConfineMaskWithinTheViewer==1&&(V.DWT.IfConfineMaskWithinTheViewer=!1,d=!0);var l;l=m.isArray(a)&&a.length>=3?a:bi.dialogText.selectSource,u._stwain._selectSourceAsync("SelectSourceAsync",null,l).then(function(){return u._stwain.AcquireImageAsync({IfShowUI:!0,IfCloseSourceAfterAcquire:!0})}).then(function(){d&&(V.DWT.IfConfineMaskWithinTheViewer=!0)}).catch(function(c){m.log("User did not select a source"),d&&(V.DWT.IfConfineMaskWithinTheViewer=!0)})}catch{}}},{key:"__loadImage",value:function(o){if(o){var a=o._stwain._containerElement;try{var u=o,d=null;V.DWT.IfConfineMaskWithinTheViewer&&(d=!0,V.DWT.IfConfineMaskWithinTheViewer=!1),u._stwain._containerElement=void 0,u._stwain.IfShowFileDialog=!0,u._stwain.Addon&&u._stwain.Addon.PDF&&It.checkProductKey(u._stwain,{PDFRasterizer:!0},!0),u._stwain.LoadImageEx("",5,function(){a&&(u._stwain._containerElement=a),m.log("Loaded an image successfully."),d!=null&&(V.DWT.IfConfineMaskWithinTheViewer=d)},function(l,c){a&&(u._stwain._containerElement=a),m.log("Loading failed with the error: "+c),d!=null&&(V.DWT.IfConfineMaskWithinTheViewer=d)})}catch{a&&(o._stwain._containerElement=a)}}}},{key:"__print",value:function(o){var a=o;Qn(a._stwain),a._ImgManager.getCurrentImageIndex()<0||a._ImgManager.PrintCurrentImage()}},{key:"__save",value:(t=s(E().mark(function o(a,u,d,l,c){var p,g,S,v,b,T;return E().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(p=a,g="save",a){D.next=3;break}return D.abrupt("return");case 3:if(Qn(p._stwain),!(p._ImgManager.count()<=0||p._ImgManager.getCurrentImageIndex()<0)){D.next=6;break}return D.abrupt("return");case 6:return S=a._stwain._containerElement,p._stwain._containerElement=void 0,v=p.__getViewerElement(p,c),Mn(g,v),D.prev=10,b=this._ImgManager.getIndexByUid(u),T=this._ImgManager.convertClientIndexToServerId(b),D.next=15,p._stwain._updateImage(T,d,l);case 15:D.sent,D.next=20;break;case 18:D.prev=18,D.t0=D.catch(10);case 20:return D.prev=20,S&&(a._stwain._containerElement=S),d=null,un(g),D.finish(20);case 25:return D.abrupt("return",void 0);case 26:case"end":return D.stop()}},o,this,[[10,18,20,25]])})),function(o,a,u,d,l){return t.apply(this,arguments)})},{key:"__removePage",value:function(o,a){var u=o;o&&(u._ImgManager.count()<=0||u._ImgManager.getCurrentImageIndex()<0||u._stwain.RemoveImage(a))}},{key:"__getViewerElement",value:function(o,a){var u,d=o;if(a)if(d.GetWebViewer().webViewer.imageEditor){var l=d.GetWebViewer().createImageEditor();u=l.inner.containerElement.className=="dwt-viewer-imageEditor-fullScreen"?{_containerElement:document.body}:{_containerElement:l.inner.containerElement}}else u=d._stwain;else u=d._stwain;return u}},{key:"__deskew",value:function(o,a,u){var d=this,l="deskew";Qn(d._stwain);var c=d._ImgManager.getCurrentImageIndex();if(d._ImgManager.count()<=0||c<0)da.output(d,"No image in Buffer");else{var p=d.__getViewerElement(d,!0);Mn(l,p),d._stwain.GetSkewAngleFromBinaryAsync(c,a,function(g){u(g[0]),un(l)},function(){un(l)})}}},{key:"__remove",value:function(o){var a=this;Qn(a._stwain),a._ImgManager.count()<=0||a._ImgManager.getCurrentImageIndex()<0?da.output(a,"No image in Buffer"):a._stwain.RemoveAllSelectedImages()}},{key:"__removeAll",value:function(o){var a=this;Qn(a._stwain),a._ImgManager.count()<=0||a._ImgManager.getCurrentImageIndex()<0?da.output(a,"No image in Buffer"):a._stwain.RemoveAllImages()}},{key:"__onBindViewer",value:function(o){o&&(_u._setContainer(this._stwain,o),o.id&&(V.DWT.ContainerMap[o.id]=this._stwain))}},{key:"__onUnBindViewer",value:function(o){if(o){var a=_u._getContainer(this._stwain);if(a)for(;a.firstChild;)a.removeChild(a.firstChild);if(_u._setContainer(this._stwain,null),o.id){var u=V.DWT.ContainerMap;o.id in u&&delete V.DWT.ContainerMap[o.id]}}}},{key:"__close",value:function(o){Qn(this._stwain),_u._closeImageEditorUI(this._stwain)}},{key:"__rotateRightForServer",value:function(o){var a=this;Qn(a._stwain);var u=a._ImgManager.getCurrentImageIndex();a._ImgManager.count()<=0||u<0?da.output(a,"No image in Buffer"):a._stwain.RotateRight(u)}},{key:"__rotateForServer",value:function(o,a,u,d){var l=this;Qn(l._stwain);var c=l._ImgManager.getCurrentImageIndex();l._ImgManager.count()<=0||c<0?da.output(l,"No image in Buffer"):l._stwain.RotateEx(c,a,d,u)}},{key:"__rotateLeftForServer",value:function(o){var a=this;Qn(a._stwain);var u=a._ImgManager.getCurrentImageIndex();a._ImgManager.count()<=0||u<0?da.output(a,"No image in Buffer"):a._stwain.RotateLeft(u)}},{key:"__deskewForServer",value:function(o){var a=this;Qn(a._stwain);var u=a._ImgManager.getCurrentImageIndex();a._ImgManager.count()<=0||u<0?da.output(a,"No image in Buffer"):a._stwain.GetSkewAngleAsync(u).then(function(d){a._stwain.RotateEx(u,d,!0,5,function(){},function(){})})}},{key:"__cropForServer",value:function(o,a){var u=this;Qn(u._stwain);var d=u._ImgManager.getCurrentImageIndex();if(u._ImgManager.count()<=0||d<0)da.output(u,"No image in Buffer");else{var l=a.left,c=a.top,p=l+a.width,g=c+a.height;u._stwain.Crop(d,wi(l),wi(c),wi(p),wi(g))}}},{key:"__eraseForServer",value:function(o,a){var u=this;Qn(u._stwain);var d=u._ImgManager.getCurrentImageIndex();if(u._ImgManager.count()<=0||d<0)da.output(u,"No image in Buffer");else{var l=a.left,c=a.top,p=l+a.width,g=c+a.height;u._stwain.CutFrameToClipboard(d,wi(l),wi(c),wi(p),wi(g))}}},{key:"__changeImageSizeForServer",value:function(o,a,u,d){var l=this;Qn(l._stwain);var c=l._ImgManager.getCurrentImageIndex();l._ImgManager.count()<=0||c<0?da.output(l,"No image in Buffer"):l._stwain.ChangeImageSize(c,a,u,d)}},{key:"__flipForServer",value:function(o){var a=this;Qn(a._stwain);var u=a._ImgManager.getCurrentImageIndex();a._ImgManager.count()<=0||u<0?da.output(a,"No image in Buffer"):a._stwain.Flip(u)}},{key:"__mirrorForServer",value:function(o){var a=this;Qn(a._stwain);var u=a._ImgManager.getCurrentImageIndex();a._ImgManager.count()<=0||u<0?da.output(a,"No image in Buffer"):a._stwain.Mirror(u)}},{key:"__restoreForServer",value:function(o,a){var u=o;if(Qn(u._stwain),u._ImgManager.count()<=0||u._ImgManager.getCurrentImageIndex()<0)da.output(u,"No image in Buffer");else{var d=u._ImgManager.getIndexByUid(a);d>=0&&u.__RestoreImageInner(u,d)}}},{key:"__saveForServer",value:function(o,a){var u=o;return new Pe.Promise(function(d,l){Qn(u._stwain),(u._ImgManager.count()<=0||u._ImgManager.getCurrentImageIndex()<0)&&(da.output(u,"No image in Buffer"),d());var c=u._ImgManager.getIndexByUid(a);c>=0?u.__SaveImageInner(u,c,!0,function(){d()}):d()})}},{key:"__RestoreImageInner",value:function(o,a,u){var d=o,l=d._ImgManager.getImageIdMap(d._ImgManager.convertClientIndexToServerId(a));l&&d.__OnGetImageFromServerForEdit(l,a,1,function(c,p,g){if(c){m.log("__RestoreImageInner: "+[c.uuid].join(","));var S=m.clone(c);S.imageId=c.serverId,d._ImgManager.UpdateImage(S,g)}if((c&&c.serverId)==-1)return u&&u(),!1;u&&u()})}},{key:"__SaveImageInner",value:function(o,a,u,d){var l=o,c=l._ImgManager.getImageIdMap(l._ImgManager.convertClientIndexToServerId(a));return c&&l.__OnGetImageFromServerForEdit(c,a,2,function(p,g,S){if(p){if(u==1&&(m.log("__SaveImageInner: "+[p.uuid].join(",")),l._ImgManager.getCurrentImageIndex()==g)){var v=m.clone(p);v.imageId=p.serverId,l._ImgManager.UpdateImage(v,S)}if(p.serverId==-1)return d&&d(),!1}return d&&d(),!0}),!0}},{key:"__OnGetImageFromServerForEdit",value:function(o,a,u,d){var l=this;if(d&&l._ImgManager.getBaseUrl){var c=l._ImgManager.convertClientIndexToServerId(a);if(c==-1)return!1;V.DWT.ConnectWithSocket?d():wa({method:"GET",xhrFields:{withCredentials:!0},url:Nr.getUrlByAct(l._ImgManager.getBaseUrl,c,u),onSuccess:function(p){var g;o.ticks=Date.now(),g=V.navInfoSync.bMobile?Nr.getImageUrl(l._ImgManager.getBaseUrl,c,Math.round(o.iImageControlWidth*devicePixelRatio),Math.round(o.iImageControlHeight*devicePixelRatio),o.ticks):Nr.getImageUrl(l._ImgManager.getBaseUrl,c,wi(o.iImageControlWidth),wi(o.iImageControlHeight),o.ticks),o.imageUrl=Nr.getImageUrl(l._ImgManager.getBaseUrl,c,-1,-1,o.ticks),o.minImageUrl=g;var S=l._ImgManager.GetMetaDataByIndex(a);if(S){var v=l._ImgManager.getImageIdMap(c);v&&v.width?S.width=v.width:S.width=l._stwain.GetImageWidth(a),v&&v.height?S.height=v.height:S.height=l._stwain.GetImageHeight(a)}d(o,a,S)},onError:function(){}})}return!0}}]);var t,n}(),IU=function(t){function n(o,a){var u;h(this,n);var d=u=f(this,n,[a]);return d._stwain=o,d.bImageJustChangedInEditor=!1,d.bImageChangedInViewer=!1,u}return P(n,t),_(n,[{key:"getUidByIndex",value:function(o){return this._buffer.getUidByIndex(o)}},{key:"dispose",value:function(){return this._stwain=null,!0}},{key:"append",value:function(o,a,u,d,l){var c,p,g,S,v,b=this;(this._buffer.isActiveFile||!m.isUndefined(l))&&d.currentFileName&&d.currentFileName.length>0?v=p=b.getCountByDocumentName(d.currentFileName):(p=b.count(),v=b.getCountByDocumentName(b.GetCurrentFileName())),g=b.getCurrentImageIndex();for(var T=p-1;T>=o;T--)S=b.convertClientIndexToServerId(T),b.removeByServerId(S,T);return p<o?(c=v,b._updateUIAfterAdd(c,a,u,d,!0)):(c=g>=p-1?0:g+1,S=b.convertClientIndexToServerId(c),b.removeByServerId(S,c),c==o-1?b._updateUIAfterAdd(c,a,u,d,!0):b._updateUIAfterAdd(c,a,u,d,!1))}},{key:"insertBefore",value:function(o,a,u,d,l){var c,p=1*o;return(p<0||p>a)&&(p=-1),p>=(c=this.count())&&(p=c),this._updateUIAfterAdd(p,u,d,l,!1)}},{key:"exists",value:function(o){return!m.isUndefined(this.getImageIdMap(o))}},{key:"insert",value:function(o,a,u,d,l){var c,p=1*o;return(p<0||p>a)&&(p=-1),p>=(c=this.count())&&(p=c),this._updateUIAfterAdd(p,u,d,l,!1)}},{key:"moveImage",value:function(o,a,u){return this._buffer.moveImage(o,a)}},{key:"switchImage",value:function(o,a){return this._buffer.switchImage(o,a)}},{key:"setSelectedClientIndexArray",value:function(o){return this._buffer.selectImages(o)}},{key:"getSelectedClientIndexArray",value:function(o){return this._buffer.getSelectedImagesIndices()}},{key:"showImagesByFilter",value:function(o,a,u){return this._buffer.filterImagesByTag(o,a,u)}},{key:"clearFilter",value:function(){return this._buffer.clearFilter()}},{key:"removeImageTag",value:function(o){return this._buffer.removeImageTag(o)}},{key:"addImageTag",value:function(o,a){return this._buffer.tagImages(o,a)}},{key:"getCurrentTag",value:function(){var o;return(o=this._buffer.getCurrentTag())==0?"":o}},{key:"renameTag",value:function(o,a){return this._buffer.renameTag(o,a)}},{key:"removeTag",value:function(o,a){return this._buffer.removeTag(o,a)}},{key:"getTagList",value:function(){return this._buffer.getTagList()}},{key:"getTagListByIndex",value:function(o){return this._buffer.getTagListByIndex(o)}},{key:"OpenFile",value:function(o){return this._buffer.openDocument(o)}},{key:"CreateFile",value:function(o){return this._buffer.createDocument(o)}},{key:"GetCurrentFileName",value:function(){return this._buffer.getCurrentFileName()}},{key:"RemoveFile",value:function(o){return this._buffer.removeDocument(o)}},{key:"RenameFile",value:function(o,a){return this._buffer.renameDocument(o,a)}},{key:"GetFileInfoList",value:function(){return this._buffer.getDocumentInfoList()}},{key:"MoveImageToFile",value:function(o,a,u,d){return this._buffer.moveImageToFile(o,a,u,d)}},{key:"GetServerIdsByFileName",value:function(o){var a,u=this,d=[];return(a=u.GetFileInfoList())?m.each(a,function(l){if(o==l.name){if(l.imageIds)for(var c=0;c<l.imageIds.length;c++){var p=l.imageIds[c];if(p&&p!=-1){var g=u._stwain._uidFromServer2ServerId(p);g>0&&d.push(g)}}return!1}}):d=[],d}},{key:"insertImage",value:function(o,a,u){this._buffer.insertImage(a,o,u)}},{key:"GetMetaDataByIndex",value:function(o){return this._buffer.getMetadataByUid(this._buffer.getUidByIndex(o))}},{key:"RefreshAllImages",value:function(o,a){for(var u,d,l,c=this,p=0;p<c.count();p++){u=c.convertClientIndexToServerId(p);var g=c.getImageIdMap(u);if(g){l=c.GetMetaDataByIndex(p),d=V.navInfoSync.bMobile?Nr.getImageUrl(c._baseUrl,u,Math.round(o*devicePixelRatio),Math.round(a*devicePixelRatio),Date.now()):Nr.getImageUrl(c._baseUrl,u,o,a,Date.now());var S=m.clone(g);S.imageId=u,S.minImageUrl=d,c._buffer.updateImage(S,l)}}}},{key:"UpdateData",value:function(o,a){var u=o,d=this.getImageIdMap(u);if(d){var l=m.clone(d);l.imageId=o,this._buffer.updateImage(l,a)}return!0}},{key:"UpdateImage",value:function(o,a){return this._buffer.updateImage(o,a),!0}},{key:"_setDataImageControl",value:function(o,a,u){var d,l,c,p,g=this;if(u)c=o;else if(c=(l=g.getCustomDataByIndex(o)).serverId,p=l.uidFromServer,c<=0)return!1;return(d=g.getImageIdMap(c))||((d=new Uy).serverId=c,d.uidFromServer=p,a&&(a.height&&(d.height=a.height),a.width&&(d.width=a.width)),g._serverIdMap[c]=d,g._uidMap[p]=d),a&&(a.height&&(d.height=a.height),a.width&&(d.width=a.width)),d!=null&&(d.bIsDirty=!0),g.__GetImageAndAttach(d,c,!0,!1,!1,o,a),!0}},{key:"__AttachImages",value:function(){var o,a,u,d=this;a=d.count();for(var l=0;l<a;l++)(o=d.convertClientIndexToServerId(l))>=0&&(u=d.getImageIdMap(o))&&d.__GetImageAndAttach(u,o,!0,!1,!1,0)}},{key:"AddImage",value:function(o,a,u,d,l){var c,p=this,g=1*o;return!(a<=0)&&((c=new Uy).bIsDirty=!0,c.serverId=a,c.uidFromServer=u,p._serverIdMap[a]=c,p._uidMap[u]=c,a>=0&&p.__GetImageAndAttach(c,a,!1,!0,l,g,d),!0)}},{key:"OnGetImageByURL",value:function(o,a,u,d,l,c,p,g){return a.imageUrl&&a.imageUrl!=""?(a.iImageControlWidth=u,a.iImageControlHeight=d,a.bAddImage=l,a.bAppendImage=c,a.index=p,this._attachImagesForControl(a,g),!0):this.OnGetImageFromServer(o,a,u,d,l,c,p,g)}},{key:"OnGetImageFromServer",value:function(o,a,u,d,l,c,p,g){var S,v,b=this,T=b._baseUrl;if(T){if(o<=0)return!1;a.bIsDirty&&(a.ticks=Date.now()),m.isUndefined(u)&&(u=-1),m.isUndefined(d)&&(d=-1),a.iImageControlWidth=u,a.iImageControlHeight=d,a.bAddImage=l,a.bAppendImage=c,a.index=p,V.DWT.ConnectWithSocket&&b._stwain._isBindViewer()?(b._attachImagesForControl(a,g),_u._getblob_queue.push([b._stwain,o,g]),_u.ProcessGetBlobByQueue()):(S=Nr.getImageUrl(T,o,-1,-1,a.ticks),v=V.navInfoSync.bMobile?Nr.getImageUrl(T,o,Math.round(u*devicePixelRatio),Math.round(d*devicePixelRatio),a.ticks):Nr.getImageUrl(T,o,u,d,a.ticks),a.imageUrl=S,a.minImageUrl=v,b._attachImagesForControl(a,g))}return!0}},{key:"getBaseUrl",get:function(){return this._baseUrl}},{key:"_attachImagesForControl",value:function(o,a){var u,d,l=this;if((d=m.clone(o)).imageId=d.serverId,d.bAddImage){if(u=a.currentFileName.length>0?l._buffer.addImage(d,a,a.currentFileName):l._buffer.addImage(d,a)){var c=L(u,1)[0],p=this.getImageIdMap(d.serverId);p&&(p.uuid=c);var g=this._buffer.getCustomDataByUid(c);g&&(g.serverId&&d&&d.serverId&&(g.serverId=d.serverId),g.uidFromServer&&(g.uidFromServer=d.uidFromServer))}}else l._buffer.updateImage(d,a);return!0}},{key:"_updateUIAfterAdd",value:function(o,a,u,d,l){return!(a<0)&&this.AddImage(o,a,u,d,l)}},{key:"__GetImageAndAttach",value:function(o,a,u,d,l,c,p){var g,S,v,b=this;b._stwain._isBindViewer()?(v=b._stwain.Viewer.height>=400?b._stwain.Viewer.height:400,S=b._stwain.Viewer.width>=400?b._stwain.Viewer.width:400):(S=-1,v=-1);var T=!1;T=!!u||o.bIsDirty==1;var D=(g=b.getImageIdMap(a))===null||g===void 0?void 0:g.uuid;D&&D!=-1&&o.iImageControlWidth==S&&o.iImageControlHeight==v&&o.bIsDirty==0||b.__SetArrayControlLoadImage(a,o,S,v,T,d,l,c,p)}},{key:"__SetArrayControlLoadImage",value:function(o,a,u,d,l,c,p,g,S){l?this.OnGetImageFromServer(o,a,u,d,c,p,g,S):this.OnGetImageByURL(o,a,u,d,c,p,g,S)}},{key:"GetServerIdList",value:function(){var o,a,u,d=this,l=[];if(o=d._buffer.getDocumentContents(d._buffer.getCurrentDocument()))for(var c=0;c<o.length;c++)(a=o[c])&&a!=-1&&(u=d._buffer.getCustomDataByUid(a))&&l.push(u.serverId);return l}}])}(xh);function QE(){var t=window.Dynamsoft.Lib.Promise;if(lg)return t.resolve(lg);var n,o=navigator;if(o&&"userAgentData"in o){var a=navigator.userAgentData;if(a.platform&&a.platform!=""){var u=[];if("brands"in a&&m.isArray(a.brands)&&a.brands.length>0?u=a.brands:"uaList"in a&&m.isArray(a.uaList)&&a.uaList.length>0&&(u=a.uaList),u.length>0)return(n=function(d){var l=he,c=d.architecture.toLowerCase(),p=d.bitness=="64",g=c.indexOf("arm")>-1,S=c.indexOf("mips")>-1;return{bUseUserAgent:!1,bWin:l.bWin,bMac:l.bMac,bLinux:l.bLinux,bAndroid:l.bAndroid,bMobile:l.bMobile,bPad:l.bPad,bChromeOS:l.bChromeOS,bHarmonyOS:l.bHarmonyOS,bArm64:g,bMips64:S,bEmbed:g||S,bOSx64:p,bIE:!1,bEdge:l.bEdge,bChrome:l.bChrome,bFirefox:l.bFirefox,bSafari:l.bSafari,bOpera:l.bOpera,bGecko:!0,bHuaWeiBrowser:!1,bHTML5Edition:!0,strBrowserVersion:l.strBrowserVersion,IEMode:0}},navigator.userAgentData.getHighEntropyValues(["platform","platformVersion","architecture","bitness"]).then(n)).then(function(d){return lg=d,d})}}return lg=he,t.resolve(lg)}var YE=0,qE=[],JE=!(!document||!document.addEventListener),EU="DOMContentLoaded",xU="readystatechange",AU="load",DU="complete",XE=JE?function(t,n,o){t.addEventListener(n,o,!1)}:function(t,n,o){t.attachEvent("on"+n,o)},ZE=JE?function(t,n,o){t.removeEventListener(n,o,!1)}:function(t,n,o){t.detachEvent("on"+n,o)};function Ph(){YE||(YE=1,QE().then(function(){document&&ZE(window,AU,Ph),function(){for(var t=function(){try{qE[n]()}catch(o){m.log(o,"error"),setTimeout(function(){throw o},0)}},n=0;n<qE.length;n++)t()}()}))}function cg(t){if(YE)try{t()}catch(n){m.log(n,"error"),setTimeout(function(){throw n},0)}else qE.push(t);return this}var bde=function(t){var n=t||window.event,o=!0;return m.each(Pe.Events.registedObjs,function(a){m.each(Pe.Events.registedClass,function(u){if(a instanceof u&&a.bFocus&&a.handlerKeyDown&&!(o=a.handlerKeyDown(n)))return!1})}),o};function $E(t,n){for(var o in n)n.hasOwnProperty(o)&&!m.isUndefined(n[o])&&(t.hasOwnProperty(o)&&!m.isUndefined(t[o])||(t[o]=n[o]));return t}cg(function(){m.addEventListener(document.documentElement,"keydown",bde)}),$E(V.DWT,Rl),$E(V.DWT,DY),V.DWT.CertificateConfig?$E(V.DWT.CertificateConfig,OT):V.DWT.CertificateConfig=OT,V.DWT.RegisterEvent=function(t,n){if(m.isUndefined(t))throw{code:-2314,message:"The parameter cannot be empty."};if(!m.isString(t)||m.isString(t)&&t.trim().length==0||m.isUndefined(n)||!m.isFunction(n))throw{code:-2416,message:"Invalid parameter."};return m.isFunction(n)&&(V.DWT[t]=n),!0};var bu=function(t){return t.CAP_NONE=0,t.CAP_XFERCOUNT=1,t.ICAP_COMPRESSION=256,t.ICAP_PIXELTYPE=257,t.ICAP_UNITS=258,t.ICAP_XFERMECH=259,t.CAP_AUTHOR=4096,t.CAP_CAPTION=4097,t.CAP_FEEDERENABLED=4098,t.CAP_FEEDERLOADED=4099,t.CAP_TIMEDATE=4100,t.CAP_SUPPORTEDCAPS=4101,t.CAP_EXTENDEDCAPS=4102,t.CAP_AUTOFEED=4103,t.CAP_CLEARPAGE=4104,t.CAP_FEEDPAGE=4105,t.CAP_REWINDPAGE=4106,t.CAP_INDICATORS=4107,t.CAP_SUPPORTEDCAPSEXT=4108,t.CAP_PAPERDETECTABLE=4109,t.CAP_UICONTROLLABLE=4110,t.CAP_DEVICEONLINE=4111,t.CAP_AUTOSCAN=4112,t.CAP_THUMBNAILSENABLED=4113,t.CAP_DUPLEX=4114,t.CAP_DUPLEXENABLED=4115,t.CAP_ENABLEDSUIONLY=4116,t.CAP_CUSTOMDSDATA=4117,t.CAP_ENDORSER=4118,t.CAP_ALARMS=4120,t.CAP_ALARMVOLUME=4121,t.CAP_AUTOMATICCAPTURE=4122,t.CAP_TIMEBEFOREFIRSTCAPTURE=4123,t.CAP_TIMEBETWEENCAPTURES=4124,t.CAP_CLEARBUFFERS=4125,t.CAP_MAXBATCHBUFFERS=4126,t.CAP_DEVICETIMEDATE=4127,t.CAP_POWERSUPPLY=4128,t.CAP_CAMERAPREVIEWUI=4129,t.CAP_SERIALNUMBER=4132,t.CAP_PRINTER=4134,t.CAP_PRINTERENABLED=4135,t.CAP_PRINTERINDEX=4136,t.CAP_PRINTERMODE=4137,t.CAP_PRINTERSTRING=4138,t.CAP_PRINTERSUFFIX=4139,t.CAP_LANGUAGE=4140,t.CAP_FEEDERALIGNMENT=4141,t.CAP_FEEDERORDER=4142,t.CAP_REACQUIREALLOWED=4144,t.CAP_BATTERYMINUTES=4146,t.CAP_BATTERYPERCENTAGE=4147,t.CAP_CAMERASIDE=4148,t.CAP_SEGMENTED=4149,t.CAP_CAMERAENABLED=4150,t.CAP_CAMERAORDER=4151,t.CAP_MICRENABLED=4152,t.CAP_FEEDERPREP=4153,t.CAP_FEEDERPOCKET=4154,t.CAP_AUTOMATICSENSEMEDIUM=4155,t.CAP_CUSTOMINTERFACEGUID=4156,t.ICAP_AUTOBRIGHT=4352,t.ICAP_BRIGHTNESS=4353,t.ICAP_CONTRAST=4355,t.ICAP_CUSTHALFTONE=4356,t.ICAP_EXPOSURETIME=4357,t.ICAP_FILTER=4358,t.ICAP_FLASHUSED=4359,t.ICAP_GAMMA=4360,t.ICAP_HALFTONES=4361,t.ICAP_HIGHLIGHT=4362,t.ICAP_IMAGEFILEFORMAT=4364,t.ICAP_LAMPSTATE=4365,t.ICAP_LIGHTSOURCE=4366,t.ICAP_ORIENTATION=4368,t.ICAP_PHYSICALWIDTH=4369,t.ICAP_PHYSICALHEIGHT=4370,t.ICAP_SHADOW=4371,t.ICAP_FRAMES=4372,t.ICAP_XNATIVERESOLUTION=4374,t.ICAP_YNATIVERESOLUTION=4375,t.ICAP_XRESOLUTION=4376,t.ICAP_YRESOLUTION=4377,t.ICAP_MAXFRAMES=4378,t.ICAP_TILES=4379,t.ICAP_BITORDER=4380,t.ICAP_CCITTKFACTOR=4381,t.ICAP_LIGHTPATH=4382,t.ICAP_PIXELFLAVOR=4383,t.ICAP_PLANARCHUNKY=4384,t.ICAP_ROTATION=4385,t.ICAP_SUPPORTEDSIZES=4386,t.ICAP_THRESHOLD=4387,t.ICAP_XSCALING=4388,t.ICAP_YSCALING=4389,t.ICAP_BITORDERCODES=4390,t.ICAP_PIXELFLAVORCODES=4391,t.ICAP_JPEGPIXELTYPE=4392,t.ICAP_TIMEFILL=4394,t.ICAP_BITDEPTH=4395,t.ICAP_BITDEPTHREDUCTION=4396,t.ICAP_UNDEFINEDIMAGESIZE=4397,t.ICAP_EXTIMAGEINFO=4399,t.ICAP_MINIMUMHEIGHT=4400,t.ICAP_MINIMUMWIDTH=4401,t.ICAP_AUTODISCARDBLANKPAGES=4404,t.ICAP_FLIPROTATION=4406,t.ICAP_BARCODEDETECTIONENABLED=4407,t.ICAP_SUPPORTEDBARCODETYPES=4408,t.ICAP_BARCODEMAXSEARCHPRIORITIES=4409,t.ICAP_BARCODESEARCHPRIORITIES=4410,t.ICAP_BARCODESEARCHMODE=4411,t.ICAP_BARCODEMAXRETRIES=4412,t.ICAP_BARCODETIMEOUT=4413,t.ICAP_ZOOMFACTOR=4414,t.ICAP_PATCHCODEDETECTIONENABLED=4415,t.ICAP_SUPPORTEDPATCHCODETYPES=4416,t.ICAP_PATCHCODEMAXSEARCHPRIORITIES=4417,t.ICAP_PATCHCODESEARCHPRIORITIES=4418,t.ICAP_PATCHCODESEARCHMODE=4419,t.ICAP_PATCHCODEMAXRETRIES=4420,t.ICAP_PATCHCODETIMEOUT=4421,t.ICAP_FLASHUSED2=4422,t.ICAP_IMAGEFILTER=4423,t.ICAP_NOISEFILTER=4424,t.ICAP_OVERSCAN=4425,t.ICAP_AUTOMATICBORDERDETECTION=4432,t.ICAP_AUTOMATICDESKEW=4433,t.ICAP_AUTOMATICROTATE=4434,t.ICAP_JPEGQUALITY=4435,t.ICAP_FEEDERTYPE=4436,t.ICAP_ICCPROFILE=4437,t.ICAP_AUTOSIZE=4438,t.ICAP_AUTOMATICCROPUSESFRAME=4439,t.ICAP_AUTOMATICLENGTHDETECTION=4440,t.ICAP_AUTOMATICCOLORENABLED=4441,t.ICAP_AUTOMATICCOLORNONCOLORPIXELTYPE=4442,t.ICAP_COLORMANAGEMENTENABLED=4443,t.ICAP_IMAGEMERGE=4444,t.ICAP_IMAGEMERGEHEIGHTTHRESHOLD=4445,t.ICAP_SUPPORTEDEXTIMAGEINFO=4446,t}({}),Tde=function(t){return t.TWLG_DAN=0,t.TWLG_DUT=1,t.TWLG_ENG=2,t.TWLG_FCF=3,t.TWLG_FIN=4,t.TWLG_FRN=5,t.TWLG_GER=6,t.TWLG_ICE=7,t.TWLG_ITN=8,t.TWLG_NOR=9,t.TWLG_POR=10,t.TWLG_SPA=11,t.TWLG_SWE=12,t.TWLG_USA=13,t.TWLG_USERLOCALE=-1,t.TWLG_AFRIKAANS=14,t.TWLG_ALBANIA=15,t.TWLG_ARABIC=16,t.TWLG_ARABIC_ALGERIA=17,t.TWLG_ARABIC_BAHRAIN=18,t.TWLG_ARABIC_EGYPT=19,t.TWLG_ARABIC_IRAQ=20,t.TWLG_ARABIC_JORDAN=21,t.TWLG_ARABIC_KUWAIT=22,t.TWLG_ARABIC_LEBANON=23,t.TWLG_ARABIC_LIBYA=24,t.TWLG_ARABIC_MOROCCO=25,t.TWLG_ARABIC_OMAN=26,t.TWLG_ARABIC_QATAR=27,t.TWLG_ARABIC_SAUDIARABIA=28,t.TWLG_ARABIC_SYRIA=29,t.TWLG_ARABIC_TUNISIA=30,t.TWLG_ARABIC_UAE=31,t.TWLG_ARABIC_YEMEN=32,t.TWLG_BASQUE=33,t.TWLG_BYELORUSSIAN=34,t.TWLG_BULGARIAN=35,t.TWLG_CATALAN=36,t.TWLG_CHINESE=37,t.TWLG_CHINESE_HONGKONG=38,t.TWLG_CHINESE_PRC=39,t.TWLG_CHINESE_SINGAPORE=40,t.TWLG_CHINESE_SIMPLIFIED=41,t.TWLG_CHINESE_TAIWAN=42,t.TWLG_CHINESE_TRADITIONAL=43,t.TWLG_CROATIA=44,t.TWLG_CZECH=45,t.TWLG_DANISH=0,t.TWLG_DUTCH=1,t.TWLG_DUTCH_BELGIAN=46,t.TWLG_ENGLISH=2,t.TWLG_ENGLISH_AUSTRALIAN=47,t.TWLG_ENGLISH_CANADIAN=48,t.TWLG_ENGLISH_IRELAND=49,t.TWLG_ENGLISH_NEWZEALAND=50,t.TWLG_ENGLISH_SOUTHAFRICA=51,t.TWLG_ENGLISH_UK=52,t.TWLG_ENGLISH_USA=13,t.TWLG_ESTONIAN=53,t.TWLG_FAEROESE=54,t.TWLG_FARSI=55,t.TWLG_FINNISH=4,t.TWLG_FRENCH=5,t.TWLG_FRENCH_BELGIAN=56,t.TWLG_FRENCH_CANADIAN=3,t.TWLG_FRENCH_LUXEMBOURG=57,t.TWLG_FRENCH_SWISS=58,t.TWLG_GERMAN=6,t.TWLG_GERMAN_AUSTRIAN=59,t.TWLG_GERMAN_LUXEMBOURG=60,t.TWLG_GERMAN_LIECHTENSTEIN=61,t.TWLG_GERMAN_SWISS=62,t.TWLG_GREEK=63,t.TWLG_HEBREW=64,t.TWLG_HUNGARIAN=65,t.TWLG_ICELANDIC=7,t.TWLG_INDONESIAN=66,t.TWLG_ITALIAN=8,t.TWLG_ITALIAN_SWISS=67,t.TWLG_JAPANESE=68,t.TWLG_KOREAN=69,t.TWLG_KOREAN_JOHAB=70,t.TWLG_LATVIAN=71,t.TWLG_LITHUANIAN=72,t.TWLG_NORWEGIAN=9,t.TWLG_NORWEGIAN_BOKMAL=73,t.TWLG_NORWEGIAN_NYNORSK=74,t.TWLG_POLISH=75,t.TWLG_PORTUGUESE=10,t.TWLG_PORTUGUESE_BRAZIL=76,t.TWLG_ROMANIAN=77,t.TWLG_RUSSIAN=78,t.TWLG_SERBIAN_LATIN=79,t.TWLG_SLOVAK=80,t.TWLG_SLOVENIAN=81,t.TWLG_SPANISH=11,t.TWLG_SPANISH_MEXICAN=82,t.TWLG_SPANISH_MODERN=83,t.TWLG_SWEDISH=12,t.TWLG_THAI=84,t.TWLG_TURKISH=85,t.TWLG_UKRANIAN=86,t.TWLG_ASSAMESE=87,t.TWLG_BENGALI=88,t.TWLG_BIHARI=89,t.TWLG_BODO=90,t.TWLG_DOGRI=91,t.TWLG_GUJARATI=92,t.TWLG_HARYANVI=93,t.TWLG_HINDI=94,t.TWLG_KANNADA=95,t.TWLG_KASHMIRI=96,t.TWLG_MALAYALAM=97,t.TWLG_MARATHI=98,t.TWLG_MARWARI=99,t.TWLG_MEGHALAYAN=100,t.TWLG_MIZO=101,t.TWLG_NAGA=102,t.TWLG_ORISSI=103,t.TWLG_PUNJABI=104,t.TWLG_PUSHTU=105,t.TWLG_SERBIAN_CYRILLIC=106,t.TWLG_SIKKIMI=107,t.TWLG_SWEDISH_FINLAND=108,t.TWLG_TAMIL=109,t.TWLG_TELUGU=110,t.TWLG_TRIPURI=111,t.TWLG_URDU=112,t.TWLG_VIETNAMESE=113,t}({}),Cde=function(t){return t.TWSS_NONE=0,t.TWSS_A4LETTER=1,t.TWSS_B5LETTER=2,t.TWSS_USLETTER=3,t.TWSS_USLEGAL=4,t.TWSS_A5=5,t.TWSS_B4=6,t.TWSS_B6=7,t.TWSS_USLEDGER=9,t.TWSS_USEXECUTIVE=10,t.TWSS_A3=11,t.TWSS_B3=12,t.TWSS_A6=13,t.TWSS_C4=14,t.TWSS_C5=15,t.TWSS_C6=16,t.TWSS_4A0=17,t.TWSS_2A0=18,t.TWSS_A0=19,t.TWSS_A1=20,t.TWSS_A2=21,t.TWSS_A4=1,t.TWSS_A7=22,t.TWSS_A8=23,t.TWSS_A9=24,t.TWSS_A10=25,t.TWSS_ISOB0=26,t.TWSS_ISOB1=27,t.TWSS_ISOB2=28,t.TWSS_ISOB3=12,t.TWSS_ISOB4=6,t.TWSS_ISOB5=29,t.TWSS_ISOB6=7,t.TWSS_ISOB7=30,t.TWSS_ISOB8=31,t.TWSS_ISOB9=32,t.TWSS_ISOB10=33,t.TWSS_JISB0=34,t.TWSS_JISB1=35,t.TWSS_JISB2=36,t.TWSS_JISB3=37,t.TWSS_JISB4=38,t.TWSS_JISB5=2,t.TWSS_JISB6=39,t.TWSS_JISB7=40,t.TWSS_JISB8=41,t.TWSS_JISB9=42,t.TWSS_JISB10=43,t.TWSS_C0=44,t.TWSS_C1=45,t.TWSS_C2=46,t.TWSS_C3=47,t.TWSS_C7=48,t.TWSS_C8=49,t.TWSS_C9=50,t.TWSS_C10=51,t.TWSS_USSTATEMENT=52,t.TWSS_BUSINESSCARD=53,t.TWSS_MAXSIZE=54,t}({}),wde=function(t){return t.TWON_NONE=0,t.TWON_ARRAY=3,t.TWON_ENUMERATION=4,t.TWON_ONEVALUE=5,t.TWON_RANGE=6,t}({}),Ide=function(t){return t.TWTY_INT8=0,t.TWTY_INT16=1,t.TWTY_INT32=2,t.TWTY_UINT8=3,t.TWTY_UINT16=4,t.TWTY_int=5,t.TWTY_BOOL=6,t.TWTY_FIX32=7,t.TWTY_FRAME=8,t.TWTY_STR32=9,t.TWTY_STR64=10,t.TWTY_STR128=11,t.TWTY_STR255=12,t}({}),Ede=function(t){return t.TWFA_NONE=0,t.TWFA_LEFT=1,t.TWFA_CENTER=2,t.TWFA_RIGHT=3,t}({}),xde=function(t){return t.TWFO_FIRSTPAGEFIRST=0,t.TWFO_LASTPAGEFIRST=1,t}({}),Ade=function(t){return t.TWPR_IMPRINTERTOPBEFORE=0,t.TWPR_IMPRINTERTOPAFTER=1,t.TWPR_IMPRINTERBOTTOMBEFORE=2,t.TWPR_IMPRINTERBOTTOMAFTER=3,t.TWPR_ENDORSERTOPBEFORE=4,t.TWPR_ENDORSERTOPAFTER=5,t.TWPR_ENDORSERBOTTOMBEFORE=6,t.TWPR_ENDORSERBOTTOMAFTER=7,t}({}),Dde=function(t){return t.TWPM_SINGLESTRING=0,t.TWPM_MULTISTRING=1,t.TWPM_COMPOUNDSTRING=2,t}({}),Pde=function(t){return t.TWBR_THRESHOLD=0,t.TWBR_HALFTONE=1,t.TWBR_CUSTHALFTONE=2,t.TWBR_DIFFUSION=3,t}({}),Rde=function(t){return t.TWBO_LSBFIRST=0,t.TWBO_MSBFIRST=1,t}({}),kde=function(t){return t.TWFT_RED=0,t.TWFT_GREEN=1,t.TWFT_BLUE=2,t.TWFT_NONE=3,t.TWFT_WHITE=4,t.TWFT_CYAN=5,t.TWFT_MAGENTA=6,t.TWFT_YELLOW=7,t.TWFT_BLACK=8,t}({}),Nde=function(t){return t.TWFL_NONE=0,t.TWFL_OFF=1,t.TWFL_ON=2,t.TWFL_AUTO=3,t.TWFL_REDEYE=4,t}({}),Ode=function(t){return t.TWFR_BOOK=0,t.TWFR_FANFOLD=1,t}({}),Fde=function(t){return t.TWIF_NONE=0,t.TWIF_AUTO=1,t.TWIF_LOWPASS=2,t.TWIF_BANDPASS=3,t.TWIF_HIGHPASS=4,t.TWIF_TEXT=3,t.TWIF_FINELINE=4,t}({}),Mde=function(t){return t.TWLP_REFLECTIVE=0,t.TWLP_TRANSMISSIVE=1,t}({}),Lde=function(t){return t.TWLS_RED=0,t.TWLS_GREEN=1,t.TWLS_BLUE=2,t.TWLS_NONE=3,t.TWLS_WHITE=4,t.TWLS_UV=5,t.TWLS_IR=6,t}({}),Wde=function(t){return t.TWNF_NONE=0,t.TWNF_AUTO=1,t.TWNF_LONEPIXEL=2,t.TWNF_MAJORITYRULE=3,t}({}),jde=function(t){return t.TWOR_ROT0=0,t.TWOR_ROT90=1,t.TWOR_ROT180=2,t.TWOR_ROT270=3,t.TWOR_PORTRAIT=0,t.TWOR_LANDSCAPE=3,t.TWOR_AUTO=4,t.TWOR_AUTOTEXT=5,t.TWOR_AUTOPICTURE=6,t}({}),Bde=function(t){return t.TWOV_NONE=0,t.TWOV_AUTO=1,t.TWOV_TOPBOTTOM=2,t.TWOV_LEFTRIGHT=3,t.TWOV_ALL=4,t}({}),Ude=function(t){return t.TWPF_CHOCOLATE=0,t.TWPF_VANILLA=1,t}({}),Vde=function(t){return t.TWPC_CHUNKY=0,t.TWPC_PLANAR=1,t}({}),ex=function(t){return t.Binary=0,t.Base64=1,t}({}),PU=function(t){return t.TWPT_BW=0,t.TWPT_GRAY=1,t.TWPT_RGB=2,t.TWPT_PALLETE=3,t.TWPT_CMY=4,t.TWPT_CMYK=5,t.TWPT_YUV=6,t.TWPT_YUVK=7,t.TWPT_CIEXYZ=8,t.TWPT_LAB=9,t.TWPT_SRGB=10,t.TWPT_SCRGB=11,t.TWPT_INFRARED=16,t}(PU||{}),RU=function(t){return t.TWUN_INCHES=0,t.TWUN_CENTIMETERS=1,t.TWUN_PICAS=2,t.TWUN_POINTS=3,t.TWUN_TWIPS=4,t.TWUN_PIXELS=5,t.TWUN_MILLIMETERS=6,t}(RU||{});m.mix(V.DWT,{EnumDWT_DeviceType:yt,EnumDWT_Cap:bu,EnumDWT_CapLanguage:Tde,EnumDWT_CapSupportedSizes:Cde,EnumDWT_CapType:wde,EnumDWT_CapValueType:Ide,EnumDWT_CapFeederAlignment:Ede,EnumDWT_CapFeederOrder:xde,EnumDWT_CapPrinter:Ade,EnumDWT_CapPrinterMode:Dde,EnumDWT_CapBitdepthReduction:Pde,EnumDWT_CapBitOrder:Rde,EnumDWT_CapFilterType:kde,EnumDWT_CapFlash:Nde,EnumDWT_CapFlipRotation:Ode,EnumDWT_CapImageFilter:Fde,EnumDWT_CapLightPath:Mde,EnumDWT_CapLightSource:Lde,EnumDWT_CapNoiseFilter:Wde,EnumDWT_CapORientation:jde,EnumDWT_CapOverscan:Bde,EnumDWT_CapPixelFlavor:Ude,EnumDWT_CapPlanarChunky:Vde,EnumDWT_ImageType:gr,EnumDWT_ImageFormatType:tc,EnumDWT_ResponseType:Ls,EnumDWT_SourceMatchField:fm,EnumDWT_UploadDataFormat:ex,EnumDWT_WorkMode:bU,EnumDWT_ConvertMode:zr,EnumDWT_PixelType:PU,EnumDWT_UnitType:RU});var jn=V.DWT;jn.EnumPDF_Page={Page_Default:0,Page_Custom:1,Page_A4:2,Page_A4_Reverse:3,Page_A3:4,Page_A3_Reverse:5,Page_Letter:6,Page_Letter_Reverse:7,Page_Legal:8,Page_Legal_Reverse:9},jn.EnumDWT_BorderStyle={TWBS_NONE:0,TWBS_SINGLEFLAT:1,TWBS_SINGLE3D:2},jn.EnumDWT_MessageType={TWQC_GET:1,TWQC_SET:2,TWQC_GETDEFAULT:4,TWQC_GETCURRENT:8,TWQC_RESET:16},jn.EnumDWT_TransferMode={TWSX_NATIVE:0,TWSX_FILE:1,TWSX_MEMORY:2},jn.EnumDWT_FileFormat={TWFF_TIFF:0,TWFF_PICT:1,TWFF_BMP:2,TWFF_XBM:3,TWFF_JFIF:4,TWFF_FPX:5,TWFF_TIFFMULTI:6,TWFF_PNG:7,TWFF_SPIFF:8,TWFF_EXIF:9,TWFF_PDF:10,TWFF_JP2:11,TWFF_JPN:12,TWFF_JPX:13,TWFF_DEJAVU:14,TWFF_PDFA:15,TWFF_PDFA2:16},jn.EnumDWT_TIFFCompressionType={TIFF_AUTO:0,TIFF_NONE:1,TIFF_RLE:2,TIFF_FAX3:3,TIFF_T4:3,TIFF_FAX4:4,TIFF_T6:4,TIFF_LZW:5,TIFF_JPEG:7,TIFF_PACKBITS:32773},jn.EnumDWT_InterpolationMethod={IM_NEARESTNEIGHBOUR:1,IM_BILINEAR:2,IM_BICUBIC:3,IM_BESTQUALITY:5},jn.EnumDWT_PDFCompressionType={PDF_AUTO:0,PDF_FAX3:1,PDF_FAX4:2,PDF_LZW:3,PDF_RLE:4,PDF_JPEG:5,PDF_JP2000:6,PDF_JBIG2:7},jn.EnumDWT_ShowMode={SW_ACTIVE:0,SW_MAX:1,SW_MIN:2,SW_CLOSE:3,SW_IFLIVE:4},jn.EnumDWT_DUPLEX={TWDX_NONE:0,TWDX_1PASSDUPLEX:1,TWDX_2PASSDUPLEX:2},jn.EnumDWT_MagType={TWMD_MICR:0,TWMD_RAW:1,TWMD_INVALID:2},jn.EnumDWT_DataSourceStatus={TWDSS_CLOSED:0,TWDSS_OPENED:1,TWDSS_ENABLED:2,TWDSS_ACQUIRING:3};var r0=function(t){return t.enumFitWindow=0,t.enumFitWindowHeight=1,t.enumFitWindowWidth=2,t}(r0||{});jn.EnumDWT_FitWindowType={enumFitWindow:r0.enumFitWindow,enumFitWindowHeight:r0.enumFitWindowHeight,enumFitWindowWidth:r0.enumFitWindowWidth},jn.EnumDWT_PlatformType={enumUnknown:Ht.enumUnknown,enumWindow:Ht.enumWindow,enumMac:Ht.enumMac,enumLinux:Ht.enumLinux,enumEmbed:Ht.enumEmbed,enumChromeOS:Ht.enumChromeOS,enumHarmonyOS:Ht.enumHarmonyOS,enumAndroid:Ht.enumAndroid,enumiOS:Ht.enumiOS};var Tu=function(t){return t.Default=0,t.Hand=1,t.Crosshair=2,t.Zoom=3,t.NWResize=4,t.EResize=5,t.NResize=6,t.Resize=7,t.Move=8,t}(Tu||{});jn.EnumDWT_MouseShape={Default:Tu.Default,Hand:Tu.Hand,Crosshair:Tu.Crosshair,Zoom:Tu.Zoom,NWResize:Tu.NWResize,EResize:Tu.EResize,NResize:Tu.NResize,Resize:Tu.Resize,Move:Tu.Move},jn.EnumDWT_Language={English:0,French:1,Arabic:2,Spanish:3,Portuguese:4,German:5,Italian:6,Russian:7,Chinese:8},jn.EnumDWT_InitMsg={Info:Fl.Info,Error:Fl.Error,NotInstalledError:Fl.NotInstalledError},jn.EnumDWT_Driver={TWAIN:Cr.TWAIN,ICA:Cr.ICA,SANE:Cr.SANE,TWAIN_AND_ICA:Cr.TWAIN_AND_ICA,TWAIN_AND_TWAIN64:Cr.TWAIN_AND_TWAIN64,TWAIN64:Cr.TWAIN64},jn.EnumDWT_CompressionType={TWCP_NONE:0,TWCP_PACKBITS:1,TWCP_GROUP31D:2,TWCP_GROUP31DEOL:3,TWCP_GROUP32D:4,TWCP_GROUP4:5,TWCP_JPEG:6,TWCP_LZW:7,TWCP_JBIG:8,TWCP_PNG:9,TWCP_RLE4:10,TWCP_RLE8:11,TWCP_BITFIELDS:12,TWCP_ZIP:13,TWCP_JPEG2000:14};var tx=function(t){return t.Single=0,t.Multiple=1,t}(tx||{});jn.EnumDWT_SelectionMode={Single:tx.Single,Multiple:tx.Multiple},jn.EnumDWT_ConfirmExitType={Cancel:0,Exit:1,SaveAndExit:2},jn.EnumDWT_WebsocketReadyState={CONNECTING:du.CONNECTING,OPEN:du.OPEN,CLOSING:du.CLOSING,CLOSED:du.CLOSED};var rx=function(t){return t.TwainService=1,t}(rx||{});jn.EnumDWT_ServiceType={TwainService:rx.TwainService};var n0,i0=function(t){return t.default=0,t.standard=1,t.supported=2,t}(i0||{});jn.EnumDWT_ExtImageInfo={default:i0.default,standard:i0.standard,supported:i0.supported};var o0=20230506,nx=function(){if(V.dcp){var t=V.dcp.dcpJSVer;if(m.isNumber(t))return t>=o0}return!1};if(nx())nx=n0,o0=n0;else{var Zn=Xt.detect,Rh={_checkService:function(t,n){Zn.dcpStatus=Zn.EnumDCP_DetectStatus.CheckingServiceVer,ix(null,"DSVersion").then(t,n)},_checkUpdateFile:function(t,n){ix(null,"CheckUpdateFile").then(t,n)},_updateService:function(t,n){ix(null,"UpdateService").then(t,n)},_getDSUpdateZipUrl:function(){var t,n,o="";return t="Win",he.bMac?t="Mac":he.bLinux&&(t="Linux"),n=he.bFileSystem?"":"?t="+m.now(),he.bWin&&Xt.b64bit&&(o="_x64"),[Vu(),"/dist/serviceupdate/",t,"DSUpdate_",nk().join("."),o,".zip",n].join("")},getPorts:function(t,n){var o="GetPorts",a="dwasm2_"+Af();return kU(t,o,{id:m.guid(),method:o,version:a,parameter:[n]},Pf())},_getStatusString:function(t,n){var o,a,u="";return t==Zn.EnumDCP_DetectStatus.Init?"Getting manager version":t==Zn.EnumDCP_DetectStatus.Connected?(n&&(u=n),"Getting manager version succeeded and the version is "+u):t==Zn.EnumDCP_DetectStatus.CheckingManagerVer?"Getting manager version":t==Zn.EnumDCP_DetectStatus.CheckingServiceVer?"Getting service version":t==Zn.EnumDCP_DetectStatus.NotInstalled?"Dynamic Web TWAIN Service Not Installed":t==Zn.EnumDCP_DetectStatus.UpdateSkipped?"Update skipped":t==Zn.EnumDCP_DetectStatus.CheckedService?(n&&(u=n),"Getting service version succeeded and the version is "+u):t==Zn.EnumDCP_DetectStatus.VerifyingZip?"Verifying the update package":t==Zn.EnumDCP_DetectStatus.VerifiedZip?"Update package verified":t==Zn.EnumDCP_DetectStatus.UpdatingService?"Updating the service":t==Zn.EnumDCP_DetectStatus.UpdateSucceed?"Update succeeded":t==Zn.EnumDCP_DetectStatus.UpdateFailed?(a=".",n&&n.length>0?(n.slice(n.length-1)=="."&&(a=""),o=" with the error: "+n):o="","The update failed"+o+a):""},_sendStatusEvent:function(t,n){var o=!!t,a=window;m.isFunction(a.OnGetServiceUpdateStatus)&&a.OnGetServiceUpdateStatus(o,Zn.dcpStatus,Rh._getStatusString(Zn.dcpStatus,n))},_getErr:function(t){var n,o="";try{m.isString(t)?(n=t.replace(/\0/g,""),n=m.parse(n)):t&&(n=t),"description"in n&&(o=n.description)}catch{}return o},_funShowUpgradeDialogWhenUpdateFailed:function(t,n){return Zn.bConnected=!0,Zn.dcpStatus=Zn.EnumDCP_DetectStatus.UpdateFailed,t&&t(),n&&n(),Rh._sendStatusEvent(!0),!0},_funUpdateFailed:function(t,n,o,a){var u,d;return Zn.bConnected=!0,Zn.dcpStatus=Zn.EnumDCP_DetectStatus.UpdateFailed,t&&t(),a==200?(u="The update failed.",d=Rh._getStatusString(Zn.dcpStatus,Rh._getErr(o))):d=u="The update failed. The error code is "+a,n&&n(!0,u),Rh._sendStatusEvent(!0,d),!0},getDSPath:function(t,n){return om(n)},getLinuxHTML5DebPath:function(){return om(".deb")},getLinuxHTML5RpmPath:function(){return om(".rpm")},getBinaryFileInfo:function(t,n){var o="GetBinaryFileInfo",a={id:m.guid(),method:o,version:"dwasm2_"+Af(),parameter:[]},u=m.stringify(a),d=function(g,S,v){var b;g&&(b=m.parse(g)),b?t(b):n(g,S,v)};if(V.DWT.ConnectWithSocket&&he.bHTML5Edition){var l=V.DWT.Host,c=zu.getWsUrl(V.DWT.Host,ld(l)?Xt.SSLPort:Xt.Port);return zu.postStringDataByWSUrl(c,u).then(d,n),!0}var p=[cy(),"/",o,"?type=1&dsver=",NT().join(""),"&ts=",m.now()].join("");ju.getHttpClientForDcp().request(u,p,{},500).then(d,n)}};m.mix(Xt,Rh),V.dcp=Xt,V.dcp.dcpJSVer=o0,nx=n0,o0=n0}function ix(t,n,o,a){var u;return u={id:m.guid(),method:n,version:"dwasm2_"+Af(),parameter:[]},n=="VersionInfo"&&(u.version="dwasm2_"+gn.getVersionStrForCheck()),It.isLongKey(o)&&(u.productKey=o),kU(t,n,u,Pf(),a)}function kU(t,n,o,a,u){return ox.apply(this,arguments)}function ox(){return ox=s(E().mark(function t(n,o,a,u,d){var l,c,p,g,S,v,b,T,D,M,W;return E().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return l=m.stringify(a),Xt.detect.bConnected=!1,c=[cy(),"/",o,"?type=1&dsver=",NT().join(""),"&ts=",m.now()].join(""),g=wn(),S=g?Xt.SSLPort:Xt.Port,p=ju.getHttpClient(n,S,g),v={},d&&!g&&(v.redirect="manual"),Y.prev=8,Y.next=11,p.request(l,c,v,u);case 11:b=Y.sent,Y.next=21;break;case 14:if(Y.prev=14,Y.t0=Y.catch(8),!d||g){Y.next=20;break}if((Y.t0&&Y.t0.code)!=$t.HTTPRedirected){Y.next=20;break}throw Nk();case 20:throw Y.t0;case 21:if(b&&(T=m.parse(b)),!(T&&"exception"in T&&"description"in T)){Y.next=27;break}throw D={code:T.exception,message:T.description},(M=yo(T))&&(D.errorCause=M),D;case 27:if(!T||!("result"in T)){Y.next=33;break}if(!Xt.detect.bConnected){Y.next=30;break}return Y.abrupt("return",T.result);case 30:return Xt.detect.bConnected=!0,Xt.detect.dcpStatus=Xt.detect.EnumDCP_DetectStatus.Connected,Y.abrupt("return",T.result);case 33:throw ko(W={}),Rr(W);case 36:case"end":return Y.stop()}},t,null,[[8,14]])})),ox.apply(this,arguments)}V.DWT.__innerCheckCertDate=function(t){QN(t)&&(m.isFunction(V.OnCertExpired)&&V.OnCertExpired(t),setTimeout(function(){V.DWT.UpdateCert(V.DWT.CertificateConfig.URL,V.OnUpdateCertSuccess,V.OnUpdateCertFailure)},5e3))},V.DWT.__innerUpdateCert=function(t,n,o,a){var u=[cy(),"/LoadZipFromBytes?type=",4,"&dsver=",NT().join(""),"&ts=",m.now()].join("");ju.getHttpClientForDcp(null,n).request(t,u,{},3e4).then(o,function(d){m.isFunction(a)&&a(d)})},V.DWT.__innerReboot=function(t,n){var o=[cy(),"/admin?ts=",m.now()].join(""),a='{"id":"'+new Date().getTime().toString()+'","method":"Reboot","parameter":[],"version":"dwasm2_'+Af()+'"}';ju.getHttpClientForDcp().request(a,o,{},3e4).then(t,n)},V.DWT.UpdateCert=function(t,n,o){m.isString(t)&&t!=""?Mf(t,{mode:"cors",dataType:"arraybuffer"}).then(function(a){V.DWT.__innerUpdateCert(a,!1,function(u){var d;try{var l=Q.parse(u);l.description&&(d={code:l.exception,message:l.description})}catch{var c;ko(c={}),c=Rr(c)}d?Q.isFunction(o)&&o(d):(V.DWT.CheckCertExpired=!1,m.isFunction(n)&&n())},function(u){wn()?V.DWT.__innerUpdateCert(a,!0,n,o):m.isFunction(o)&&o(u)})},o):m.isFunction(o)&&o()};var ax={Errors:{FilePathSyntaxIncorrect:function(t){t._errorCode=-3123,t._errorString="The filename, directory name, or volume label syntax is incorrect."}},checkFilePath:function(t,n){return m.isString(n)&&n.length!=0?m.startsWith(n,"http://")||m.startsWith(n,"https://")||m.startsWith(n,"ftp://")?(Q.File.Errors.FilePathSyntaxIncorrect(t),Oe):at:(dd(t),Oe)}};ax.checkFolder=ax.checkFilePath,Q.File=ax,Q.showProgress=function(){},Q.closeProgress=function(){};var Gde=document.location.protocol,Hde=location.hostname,NU=wn(),zde={detect:{ssl:NU,dcpStatus:0,dcpCallbackType:0,arySTwains:[],bFirst:at,bOK:Oe,__dialog:Oe,cssLoaded:Oe,viewerScriptLoaded:Oe,bNoControlEvent:Oe,bNeedUpgradeEvent:Oe,bPromptJSOrServerOutdated:Oe,detectType:NU?1:Gde==="http:"||Hde===""?0:-1,tryTimes:0,ports:[{port:V.DWT.SSLPort,ssl:at},{port:V.DWT.Port,ssl:Oe}],cUrlIndex:0,urls:[],onNoControl:Oe,needUpgrade:Oe,OnDetectNext:Oe,OnCreatWS:Oe,bMaskShow:Oe},page:{bUnload:Oe}};function OU(){var t=OT;if(V.DWT.CertificateConfig){var n=V.DWT.CertificateConfig;m.isString(n.URL)||(n.URL=t.URL),(!m.isNumber(n.UpdateDaysBeforeExpired)||n.UpdateDaysBeforeExpired<=0)&&(n.UpdateDaysBeforeExpired=t.UpdateDaysBeforeExpired)}else V.DWT.CertificateConfig=t;_de(),m.isString(V.DWT.ProductKey)&&(V.DWT.ProductKey=m.trim(V.DWT.ProductKey)),V.navInfo&&(he.bMac||he.bWin)&&(V.navInfo.bEmbed=!1,V.navInfo.bArm64=!1,V.navInfo.bMips64=!1),V.DWT.Debug&&(m.debug=!0)}function Kde(){return sx.apply(this,arguments)}function sx(){return sx=s(E().mark(function t(){var n,o,a;return E().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!Q.detect.cssLoaded){u.next=2;break}return u.abrupt("return");case 2:if(V.DWT.IfLoadResources){u.next=5;break}return Q.detect.cssLoaded=at,u.abrupt("return");case 5:return n=Vu(),o="",!he.bFileSystem&&V.DWT.IfResourcesAddTimestamp&&(o=Q.timestamp),a=[[n,"/src/dynamsoft.webtwain.css",o].join("")],ke.bHTML5Edition&&V.DWT.UseDefaultViewer&&a.push([n,"/src/dynamsoft.webtwain.viewer.css",o].join("")),Q.detect.cssLoaded=at,u.prev=10,u.next=13,new Q.Promise(function(d,l){if(he.bSafari){var c=!1;m.addAllCss(a,!1,function(p){p||(c=!0)}),c?l({code:-2804,message:"Loading the WebTwain css files failed."}):d()}else m.addAllCss(a,!1,function(p){p?d():l({code:-2804,message:"Loading the WebTwain css files failed."})})});case 13:ke.bHTML5Edition&&!he.bFileSystem&&V.DWT.IfCheckCssFiles&&(he.bSafari?setTimeout(function(){try{FU(a)}catch(d){TC(d)}},1e3):FU()),u.next=19;break;case 16:u.prev=16,u.t0=u.catch(10),TC(u.t0);case 19:case"end":return u.stop()}},t,null,[[10,16]])})),sx.apply(this,arguments)}function FU(t){var n=document.createElement("div"),o=!1;if(n.style.display="none",document.body.appendChild(n),n.className="dynamsoft-dwt-dlg-button",getComputedStyle(n).backgroundColor==="rgb(254, 142, 20)"&&(V.DWT.UseDefaultViewer?(n.className="dvs-imageEditor-mask",o=getComputedStyle(n).backgroundColor==="rgb(220, 226, 241)"):o=!0),document.body.removeChild(n),o==0)throw{code:-2804,message:"Loading the WebTwain css files failed."}}m.mix(Q,zde),Q.Addon_Events=[],Q.Addon_Sendback_Events=[];var Qde=new bN(function(){return ke.loadingResourcePath});function kh(t){return ux.apply(this,arguments)}function ux(){return ux=s(E().mark(function t(n){var o,a,u,d,l,c;return E().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(In("Loading css..."),OU(),!ke.loadResourcePath){p.next=4;break}return p.abrupt("return",Q.Promise.resolve());case 4:if(!ke.loadingResourcePath){p.next=6;break}return p.abrupt("return",Qde.asyncWaitingJSLoaded());case 6:if(ke.loadingResourcePath=!0,(V.DWT.Port>0||V.DWT.SSLPort>0)&&(Q.detect.ports=[{port:V.DWT.Port,ssl:!1},{port:V.DWT.SSLPort,ssl:!0}],fu.removeItem("DWT_port"),fu.removeItem("DWT_ssl")),m.each(Q._funsAfterConfigLoaded,function(g){try{m.isFunction(g)&&g()}catch{}}),(o=m.sizzle(".dynamsoft_waiting"))&&o.length>0&&(a=o[0]).parentNode&&a.parentNode.removeChild(a),u=Vu(),d="",!he.bFileSystem&&V.DWT.IfResourcesAddTimestamp&&(d=Q.timestamp),l=at,c=[],he.bSafari&&(l=Oe),c.push([u,"/dynamsoft.webtwain.install.js",d].join("")),V.DWT.bNpm&&(c=[]),ke.bHTML5Edition&&V.DWT.UseDefaultViewer&&(In("Loading the viewer script..."),c.push([u,"/src/dynamsoft.webtwain.viewer.js",d].join(""))),V.DWT.IfLoadResources||(c=[]),Kde(),c.length!=0){p.next=25;break}return MU(),ke.loadResourcePath=!0,ke.loadingResourcePath=!1,p.abrupt("return");case 25:return p.abrupt("return",new Q.Promise(function(g,S){m.addScripts(c,l,!1,function(v){var b=v;if(ke.bHTML5Edition&&V.DWT.UseDefaultViewer&&!m.isFunction(V.DWTViewer)&&(b=!1),he.bIE&&ke.bActiveXEdition&&(m.isFunction(V.DWT._innerLoad)||(b=!1)),!b)return ke.loadingResourcePath=!1,void S({code:-2803,message:"Loading the WebTwain JavaScript source files failed."});MU(),ke.loadResourcePath=!0,ke.loadingResourcePath=!1,V.DWT.OnWebTwainWillInit&&V.DWT.OnWebTwainWillInit(),g()})}));case 26:case"end":return p.stop()}},t)})),ux.apply(this,arguments)}function MU(){if(!(Q.bNode||he.bJSDom)){if(m.isArray(V.aryAddonReadyFun)){for(var t=0,n=function(){var o=V.aryAddonReadyFun[t];if(m.isFunction(o))try{o(Q)}catch(a){m.log(a.stack||a,"error"),setTimeout(function(){throw a},0)}};t<V.aryAddonReadyFun.length;t++)n();V.aryAddonReadyFun=[]}}}var dg=[],fg=[];function lx(){var t,n=dg.length;for(t=0;t<n;t++)dg[t]();dg.splice(0),fg.splice(0),hg=0}function LU(){if(hg>0&&new Date().getTime()-hg>Yde){var t,n={code:-2802,message:"The file dynamsoft.webtwain.config.js timed out while loading."},o=V.DWT.Containers;o&&o.length!==0||(xk(t={}),n={code:t._errorCode,message:t._errorString}),function(c){var p,g=fg.length;for(p=0;p<g;p++)fg[p](c);dg.splice(0),fg.splice(0),hg=0}(n)}else if(V.DWT.Containers||V.DWT.ProductKey||V.DWT.licenseServer||V.DWT.organizationID||V.DWT.handshakeCode||V.DWT.bNpm||V.DWT.AutoLoad==0){if(ke.dwtConfigLoading)return;if(ke.dwtConfigLoaded)return void lx();ke.dwtConfigLoading=!0;var a=Vu();if(m.isArray(V.DWT.Containers)||(V.DWT.Containers=[]),he.bIE){var u=he.IEVersion;if((u===""||u>=10)&&V.DWT.IfUseActiveXForIE10Plus){var d=Oe;he.bHTML5Edition=d,ke.bHTML5Edition=d,ke.bActiveXEdition=!0,ke.bChromeEdition=ke.bHTML5Edition}}if(ke.bActiveXEdition&&V.DWT.IfLoadResources){var l="";!he.bFileSystem&&V.DWT.IfResourcesAddTimestamp&&(l=Q.timestamp),m.addScript([a,"/src/dynamsoft.webtwain.activex.js",l].join(""),!0,!1,function(){ke.dwtConfigLoaded=!0,ke.dwtConfigLoading=!1,lx()})}else ke.dwtConfigLoaded=!0,ke.dwtConfigLoading=!1,lx()}else setTimeout(LU,100)}var Yde=3e3,hg=0;function a0(t){return In("Loading the config script..."),ke.dwtConfigLoaded?Q.Promise.resolve():new Q.Promise(function(n,o){dg.push(n),fg.push(o),cg(function(){hg=new Date().getTime(),setTimeout(LU,100)})})}function WU(){var t;(t=V.DWT.WebTwainIdMap)&&m.each(t,function(n,o){n&&n._OnPageBlur&&n._OnPageBlur()})}if(ke.bActiveXEdition){var jU=function(){var t,n,o,a,u;if(V.DWT.lunload(),Q.closeAll&&Q.closeAll(),a=V.DWT.ContainerMap)for(u=Object.keys(a),t=0;t<u.length;t++)(o=u[t])&&o in a&&(n=a[o])&&(n.__unload(),delete a[o]);if(a=V.DWT.WebTwainIdMap)for(u=Object.keys(a),t=0;t<u.length;t++)(o=u[t])&&o in a&&(n=a[o])&&(n.__unload(),delete a[o]);for(t=0;t<Q.product.unloadQueue.length;t++){var d=Q.product.unloadQueue[t];Q.isFunction(d)&&d()}return Q.product.unloadQueue.splice(0),Q.detect.arySTwains.splice(0),Q.Promise.resolve()},cx=!1;V.DWT.Unload=function(){jU();try{V.DWT.CloseDialog(),Q._zdgb_xkz_dhk(),Q.closeProgress(null,""),Q.hideMask()}catch{}},V.DWT.Load=function(){if(!Q.product.bDWTLoading)return Q.product.bDWTLoading=!0,Q.detect.axAutoLoadDone=!1,a0().then(kh).then(jU).then(function(){return V.DWT._innerLoad()}).then(function(){Q.product.bDWTLoading=!1,Q.detect.axAutoLoadDone=!0},function(t){Q.product.bDWTLoading=!1,Q.detect.axAutoLoadDone=!1,ky(t)})},V.DWT.ConnectToTheService=V.DWT.Load,V.DWT.CheckConnectToTheService=function(t,n,o,a,u){Q.product.bActiveXEdition?Q.isFunction(u)&&u():Q.isFunction(a)&&a()},V.DWT.CreateDWTObject=function(t,n,o,a,u,d){return Q._safePromptCustomMsg(function(){d&&d(JR)}),cx},V.DWT.CreateDWTObjectEx=function(t,n,o){return Q._safePromptCustomMsg(function(){o&&o(JR)}),cx},V.DWT.CreateRemoteScanObjectAsync=function(){var t={};return Me(t,-2433,"The ActiveX edition does not support this method or property."),Q.Promise.reject({code:t._errorCode,message:t._errorString})},V.DWT.DeleteDWTObject=function(t){return cx}}function qde(t,n){(function(o,a){if(a.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,n),n.add(t)}function nc(t,n,o){if(typeof t=="function"?t===n:t.has(n))return arguments.length<3?n:o;throw new TypeError("Private element is not present on this object")}V.DWT.GetWebTwain=V.DWT.GetWebTwainEx=function(t){var n=t,o=V.DWT.WebTwainIdMap;if(!n){var a=Object.keys(o);return a.length>0?o[n=a[0]]:void 0}if(n in o)return o[n];var u=V.DWT.ContainerMap;return n in u?u[n]:void 0};var tl=new WeakSet,Jde=function(t){function n(){var g;h(this,n);for(var S=arguments.length,v=new Array(S),b=0;b<S;b++)v[b]=arguments[b];return qde(g=f(this,n,[].concat(v)),tl),g}return P(n,t),_(n,[{key:"SetCookie",value:function(g){return this._cookie=g,document.cookie=g,at}},{key:"LoadImageFromBase64Binary",value:function(g,S,v,b){var T=this,D=!1;if(m.isFunction(v)&&(D=!0),T._resetErr(),!T._isValid())return m.isFunction(b)&&pt(b,T),!!D&&void 0;if(!g)return fr(T),m.isFunction(b)&&pt(b,T),!!D&&void 0;var M,W,Y,ee,te,de=g,Z="LoadImageFromBase64Binary",ne=S,X=1;if(de instanceof GE&&m.isFunction(de.getLength)&&m.isFunction(de.getData)&&(de=de.getData(0,de.getLength())),m.isString(de))if(de.indexOf("data:image/bmp")!=-1)ne=0;else if(de.indexOf("data:image/jpeg")!=-1)ne=1;else if(de.indexOf("data:image/tif")!=-1)ne=2;else if(de.indexOf("data:image/png")!=-1)ne=3;else if(de.indexOf("data:application/pdf")!=-1)ne=4;else if(de.indexOf("data:image/jp2")!=-1)ne=14;else{var F=de.substr(0,64),B=m.base64.decode(F,!0);Y=B,ee=V.DWT.EnumDWT_ImageType,te=Y,(Y instanceof ArrayBuffer||Y instanceof Array)&&(te=new Uint8Array(Y.slice(0,12))),ne=function(J){return J[0]==37&&J[1]==80&&J[2]==68&&J[3]==70}(te)?ee.IT_PDF:function(J){return J[0]==73&&J[1]==73&&J[2]==42&&J[3]==0||J[0]==77&&J[1]==77&&J[2]==0&&J[3]==42}(te)?ee.IT_TIF:function(J){return J[0]==137&&J[1]==80&&J[2]==78&&J[3]==71}(te)?ee.IT_PNG:function(J){return J[0]==255&&J[1]==216}(te)?ee.IT_JPG:function(J){return J[0]==66&&J[1]==77}(te)?ee.IT_BMP:function(J){return J[0]==0&&J[1]==0&&J[2]==0&&J[3]==12&&J[4]==106&&J[5]==80&&J[6]==32&&J[7]==32||J[0]==255&&J[1]==79&&J[2]==255&&J[3]==81}(te)?ee.IT_J2K:ee.IT_PNG}if(ne!=V.DWT.EnumDWT_ImageType.IT_BMP&&ne!=V.DWT.EnumDWT_ImageType.IT_JPG&&ne!=V.DWT.EnumDWT_ImageType.IT_TIF&&ne!=V.DWT.EnumDWT_ImageType.IT_PNG&&ne!=V.DWT.EnumDWT_ImageType.IT_PDF&&ne!=V.DWT.EnumDWT_ImageType.IT_J2K&&(ne=-1),!It.checkProductKey(T,{Core:!0})||!It.checkPDFProductKeyWhenNeeds(T,ne))return m.isFunction(b)&&pt(b,T),!!D&&void 0;if(m.isString(de)&&de.indexOf("base64,")!=-1&&(de=de.substr(de.indexOf("base64,")+7)),W=T.__GetLoadEventsNum(),!D){var U=T._getCurrentDocumentName(),K=T._getCurrentDefaultTagName();return(M=T.__innerLoadImageFun(Z,Ge(de,ne,W,X),X,U,K))&&T.__OnPostLoad&&!T.__bServerOnPostLoadFired&&setTimeout(function(){T.__bServerOnPostLoadFired||T.__OnPostLoad("","",""+ne)},10),M}Q.cancelFrom=or.LoadImage,T.IfShowProgressBar?Q.showProgress(T,Z,T.__IfShowCancelDialogWhenImageTransfer):Q.hideProgress(),T.__bLoadingImage=!0,X=0,T._innerSend(Z,Ge(de,ne,W,X),!0,function(){if(Q.closeProgress(null,Z),T.__bLoadingImage=!1,T._isBindViewer()){var J=T._ImgManager.getCurrentImageIndex();J>=0&&T._innerRefreshUI(J)}T._canConsume()&&V.DWT.lcvrf(T),v&&v(de,S)},function(){Q.closeProgress(null,Z),T.__bLoadingImage=!1,m.isFunction(b)&&b(T._errorCode,T._getErrorString(),de,S)})}},{key:"SaveSelectedImagesToBytes",value:function(g,S){return Xp(this),Oe}},{key:"LoadImageFromBytes",value:function(g,S,v){return Xp(this),Oe}},{key:"SetImageWidth",value:function(g,S,v,b){var T,D=this,M=!1;if(m.isFunction(v)&&(M=!0),D._resetErr(),!D._isValid())return!!M&&void 0;var W=parseInt(g);if(isNaN(W))return ir(D),m.isFunction(b)&&b(D._errorCode,D._getErrorString()),!!M&&void 0;if(W<0||W>=D._ImgManager.count())return tt(D),m.isFunction(b)&&b(D._errorCode,D._getErrorString()),!!M&&void 0;if(m.isUndefined(S))return fr(D),m.isFunction(b)&&b(D._errorCode,D._getErrorString()),!!M&&void 0;var Y=D._ImgManager.convertClientIndexToServerId(W);return Y==-1?(tt(D),m.isFunction(b)&&b(D._errorCode,D._getErrorString()),!!M&&void 0):((T=D._innerFun("SetImageWidth",Ge(Y,S))==1)?m.isFunction(v)&&v():m.isFunction(b)&&b(D._errorCode,D._getErrorString()),M?void 0:T)}},{key:"HTTPDownloadStreamThroughPost",value:function(g,S){return Xp(this),Oe}},{key:"HTTPUploadStreamThroughPost",value:function(g,S,v,b,T){return Xp(this),Oe}},{key:"HTTPUploadThroughPutDirectly",value:function(g,S,v,b,T){return Xp(this),!1}},{key:"SetCustomDSDataEx",value:function(g){return this._resetErr(),!!this._isValid()&&this._innerFun("SetCustomDSDataEx",Ge(g))}},{key:"SetCustomDSData",value:function(g){if(this._resetErr(),!this._isValid())return!1;var S=Rt.replaceLocalFilename(g);return this._innerFun("SetCustomDSData",Ge(S))}},{key:"GetCustomDSDataEx",value:function(){var g=this;return g._resetErr(),!!g._isValid()&&g._innerFun("GetCustomDSDataEx")}},{key:"GetCustomDSData",value:function(g){var S=this;if(S._resetErr(),!S._isValid())return!1;var v=Rt.replaceLocalFilename(g);return S._innerFun("GetCustomDSData",Ge(v))}},{key:"on",value:function(g,S){return this.registerEvent(g,S)}},{key:"off",value:function(g,S){return this.unregisterEvent(g,S)}},{key:"ConvertToBW",value:function(g,S,v){var b=this,T=!1;if(m.isFunction(S)&&(T=!0),b._resetErr(),!b._isValid())return!!T&&void 0;if(!It.checkProductKey(b,{Core:!0}))return m.isFunction(v)&&v(b._errorCode,b._getErrorString()),!!T&&void 0;var D=parseInt(g);if(isNaN(D))return ir(b),m.isFunction(v)&&v(b._errorCode,b._getErrorString()),!!T&&void 0;if(D<0||D>=b._ImgManager.count())return tt(b),m.isFunction(v)&&v(b._errorCode,b._getErrorString()),!!T&&void 0;var M=b._ImgManager.convertClientIndexToServerId(D);if(M==-1)return tt(b),!1;var W=b._innerFun("ConvertToBW",Ge(M));return W?m.isFunction(S)&&S():m.isFunction(v)&&v(b._errorCode,b._getErrorString()),T?void 0:W}},{key:"LoadImageFromBinary",value:function(g,S,v){var b,T,D=this,M="LoadImageFromBinary",W=!1;if(!m.isFunction(S))return fr(D),!1;W=!0;var Y=(b=Q.progressContext)===null||b===void 0?void 0:b.IfShowCancelDialogWhenImageTransfer;return W&&(D.IfShowProgressBar?(Q.showProgress(D,M,!1),Q.progressContext&&(Q.progressContext.IfShowCancelDialogWhenImageTransfer=!1)):Q.hideProgress()),T=D._innerLoadImageFromBinary(g,0,!0,W,function(){Q.progressContext&&(Q.progressContext.IfShowCancelDialogWhenImageTransfer=Y),m.isFunction(S)&&(D.IfShowProgressBar&&Q.closeProgress(null,M),S())},function(ee,te){Q.progressContext&&(Q.progressContext.IfShowCancelDialogWhenImageTransfer=Y),m.isFunction(S)&&D.IfShowProgressBar&&Q.closeProgress(null,M),m.isFunction(v)&&v(ee,te)}),W?void 0:T}},{key:"EnableSourceUI",value:function(g,S){var v=this;return v._resetErr(),!!v._isValid()&&(v._innerSend("EnableSourceUI",null,!0,g,S),!0)}},{key:"GetIfShowVideoContainer",value:function(){return this._UIView.GetIfShowVideoContainer()}},{key:"ShowVideoContainer",value:function(g){return this._UIView.ShowVideoContainer(g)}},{key:"UpdateVideoContainer",value:function(g){return this._UIView.UpdateVideoContainer(g)}},{key:"ChangeBitDepth",value:function(g,S,v){var b,T=this;if(T._resetErr(),!T._isValid())return!1;if(b=parseInt(g),isNaN(b))return ir(T),!1;if(b<0||b>=T._ImgManager.count())return tt(T),!1;var D=T._ImgManager.convertClientIndexToServerId(b);return D==-1?(tt(T),!1):T._innerFun("ChangeBitDepth",Ge(D,S,v))}},{key:"ConvertToGrayScale",value:function(g,S,v){var b,T=this,D=!1;if(m.isFunction(S)&&(D=!0),T._resetErr(),!T._isValid())return!!D&&void 0;var M=parseInt(g);if(isNaN(M))return ir(T),m.isFunction(v)&&v(T._errorCode,T._getErrorString()),!!D&&void 0;if(M<0||M>=T._ImgManager.count())return tt(T),m.isFunction(v)&&v(T._errorCode,T._getErrorString()),!!D&&void 0;var W=T._ImgManager.convertClientIndexToServerId(M);return W==-1?(tt(T),m.isFunction(v)&&v(T._errorCode,T._getErrorString()),!!D&&void 0):((b=T._innerFun("ConvertToGrayScale",Ge(W))==1)?(Rt.refreshImageAfterInvokeFun(T,M),m.isFunction(S)&&S()):m.isFunction(v)&&v(T._errorCode,T._getErrorString()),D?void 0:b)}},{key:"ClearTiffCustomTag",value:function(){var g=this;return g._resetErr(),!!g._isValid()&&(g._aryTiffTag.splice(0,g._aryTiffTag.length),g._innerFun("ClearTiffCustomTag"))}},{key:"SetTiffCustomTag",value:function(g,S,v){var b=this;if(b._resetErr(),!b._isValid())return!1;if(m.isUndefined(g)||m.isUndefined(S))return fr(b),!1;var T,D=1*g;if(T=m.isString(S)?m.replaceAll(S,'"','\\"'):S,D<=0||D>2147483647)return Me(b,-2378,"Invalid value for the tiff tag code."),!1;var M,W=0,Y=!1,ee=b._aryTiffTag.length;for(W=0;W<ee;W++)(M=b._aryTiffTag[W]).tag==D&&(M.Content=S,M.UseBase64Encoding=v,Y=!0);return!Y&&ee>=32?(function(te){Me(te,-2428,"Tiff tag count has exceeded the limit.")}(b),!1):b._innerFun("SetTiffCustomTag",Ge(D,T,v))}},{key:"IsBlankImage",value:function(g){var S,v=this;if(v._resetErr(),!v._isValid())return!1;if(S=parseInt(g),isNaN(S))return ir(v),!1;if(S<0||S>=v._ImgManager.count())return tt(v),!1;var b=v._ImgManager.convertClientIndexToServerId(S);return b==-1?(tt(v),!1):v._innerFun("IsBlankImage",Ge(b,Oe))}},{key:"IsBlankImageExpress",value:function(g){var S=this;if(S._resetErr(),!S._isValid())return!1;var v=parseInt(g);if(isNaN(v))return ir(S),!1;if(v<0||v>=S._ImgManager.count())return tt(S),!1;var b=S._ImgManager.convertClientIndexToServerId(v);return b==-1?(tt(S),!1):S._innerFun("IsBlankImage",Ge(b,at))}},{key:"SetOpenSourceTimeout",value:function(g){var S=this;return S._resetErr(),!!S._isValid()&&S._innerFun("SetOpenSourceTimeout",Ge(g))}},{key:"GetImageURL",value:function(g,S,v,b,T){var D=this;if(D._resetErr(),!D._isValid())return!1;var M,W,Y,ee=g,te=parseInt(S),de=parseInt(v);if(b?(M="",W="dwt://"):(M=D._httpUrl,W="dwt/"),Y=[M,W,D._bScanForProxyRemote?D._dmServiceDWTVersion:[ke.getDWTPrefix(),ke.getServerVersionInfo()].join(""),"/img?id=",D._clientId],m.isUndefined(ee)||ee===null)return zT(D),"";if(T)Y.push("&index=-1&width=-1&height=-1&webcam="),Y.push(T),he.bIE||Y.push("&type=6000");else{if(ee=parseInt(ee),isNaN(ee))return ir(D),"";if(ee<-1||ee>=D._ImgManager.count())return tt(D),"";var Z=D._ImgManager.convertClientIndexToServerId(ee);if(Z==-1)return"";Y.push("&index="),Y.push(Z),te>0&&de>0?(Y.push("&width="),Y.push(te),Y.push("&height="),Y.push(de)):Y.push("&width=-1&height=-1"),Cn.bMobile&&Y.push("&type=1&quality=85")}if(Y.push("&t="),Y.push(new Date().getTime()),Y=Y.join(""),he.bFileSystem&&!T&&Y.indexOf("dwt://")<0){var ne=new Image;ne.crossOrigin="anonymous",ne.src=Y,ne=null}return Y}},{key:"GetImagePartURL",value:function(g,S,v){var b=this;if(b._resetErr(),!b._isValid())return!1;var T=parseInt(g);return isNaN(T)?(ir(b),""):T<0||T>=b._ImgManager.count()?(tt(b),""):this.GetImageURL(T,S,v,!0)}},{key:"SetLanguage",value:function(g){var S=this;return S._resetErr(),!!S._isValid()&&S._innerFun("SetLanguageForSecurity",Ge(g))}},{key:"GetLicenseInfo",value:function(g,S){var v=this;v.__licenseInfo?m.isFunction(g)&&g(v.__licenseInfo):v._innerFunRaw("GetLicenseInfo",Ge(0),at,Oe,at,function(b){b?b.exception?m.isFunction(S)&&S(b.exception):(m.isArray(b.result)&&b.result.length>0&&bC(v,b.result[0]),m.isFunction(g)&&g(v.__licenseInfo)):m.isFunction(S)&&S()},S)}},{key:"SetProductKeyAsync",value:function(g){return this._setProductKeyAsync(g)}},{key:"GetVersionInfoAsync",value:function(){return Pe.Promise.resolve(gn.versionInfoFromServer)}},{key:"isUsingActiveX",value:function(){return!1}},{key:"SetLTSLicenseAsync",value:function(g){return this._setLTSLicenseAsync(g)}},{key:"Print",value:function(g){var S=this;return S._resetErr(),S._isValid()?S._isNoViewer()?S._nouiNotSupport("Print"):g?(S._innerSend("PrintEx",Ge(!0),!0,function(){},function(){}),!0):(S._ImagePrint&&S._ImagePrint.Print(),!0):!1}},{key:"PrintEx",value:function(g,S){var v=this;if(v._resetErr(),!v._isValid()||!v._checkIndices(g))return!1;if(v._isNoViewer())return v._nouiNotSupport("Print");if(S&&S.mode&&S.mode.toLowerCase()=="os"){if(he.bMac||he.bLinux)return Me(v,-2910,"The OS print functionality is not supported on the current operating system."),!1;var b=!0;m.isUndefined(S.osPrintOptions)||m.isUndefined(S.osPrintOptions.showPrintDialog)||(b=S.osPrintOptions.showPrintDialog);var T=[];return m.each(g,function(D){var M=v._ImgManager.convertClientIndexToServerId(D);T.push(M)}),v._innerSend("PrintEx",Ge(b,T.join(",")),!0,function(){},function(){}),!0}return v._ImagePrint&&v._ImagePrint.PrintEx(g),!0}},{key:"IsBlankImageAsync",value:(p=s(E().mark(function g(S,v){var b,T,D,M;return E().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return b=this,D={minBlockHeight:20,maxBlockHeight:30},v&&(m.isNumber(v.minBlockHeight)&&v.minBlockHeight>=0&&(D.minBlockHeight=v.minBlockHeight),m.isNumber(v.maxBlockHeight)&&v.maxBlockHeight>=0&&(D.maxBlockHeight=v.maxBlockHeight)),T={command:"isBlankImage",parameter:{index:S,minHeight:D.minBlockHeight,maxHeight:D.maxBlockHeight}},W.next=6,b.RunCommandAsync(T);case 6:if(!((M=W.sent)&&Q.isArray(M.result)&&M.result.length>0)){W.next=9;break}return W.abrupt("return",M.result[0]);case 9:return W.abrupt("return",!1);case 10:case"end":return W.stop()}},g,this)})),function(g,S){return p.apply(this,arguments)})},{key:"httpUploadBlob",value:function(g,S,v,b){var T=this,D="httpUploadBlob",M=S,W=v,Y=null,ee=null,te=Ls.Text;if(T._resetErr(),!T._isValid())return Q.Promise.reject({code:T._errorCode,message:T._errorString});if(m.isUndefined(g)||g==="")return oo(T),Q.Promise.reject({code:T._errorCode,message:T._errorString});if(!m.isString(g))return em(T),Q.Promise.reject({code:T._errorCode,message:T._errorString});if(!(M instanceof Blob))return fr(T),Q.Promise.reject({code:T._errorCode,message:T._errorString});var de=M.type.toLocaleLowerCase();if(de!="image/jpeg"&&de!="image/jpg"&&de!="image/png"&&de!="image/bmp"&&de!="application/pdf"&&de!="image/tiff"&&de!="image/tif")return Me(T,-2845,"Only Blob of JPEG, PNG, BMP, TIFF and PDF image types can be uploaded."),Q.Promise.reject({code:T._errorCode,message:T._errorString});b&&(Y=new FormData,m.each(b.formFields,function(F,B){var U=F.name,K=F.value;m.isString(U)&&(K instanceof Blob?Y.append(U,K,F.fileName):Y.append(U,K))}),ee={},m.each(b.headers,function(F,B){m.isString(F.name)&&(ee[F.name]=F.value)}),b.responseType&&(te=b.responseType));var Z=T._createHttpUploaderConfig(),ne=new vu,X=new rs;return X.url=g,X.method=D,X.content=M,M=null,X.contentType=T._strHttpContentTypeFieldValue,X.headers=ee,X.fileName=W,X.httpFormData=Y,T.__remoteFilename&&T.__remoteFilename!=""&&(X.remoteFilename=T.__remoteFilename),X.retry=1,X.bOnlyResponseEmptyIsOK=!1,X.responseType=te,Z.objUploadStatus=void 0,T.IfShowProgressBar&&Q.showProgress(T,D,!1),new Q.Promise(function(F,B){ne.httpPostUpload(Z,X,function(U){T.IfShowProgressBar&&Q.closeProgress(T,D,!1),F(U)},function(U,K){T.IfShowProgressBar&&Q.closeProgress(T,D,!1),B({code:U,message:K})})})}},{key:"saveBlob",value:(c=s(E().mark(function g(S,v){var b,T,D,M,W;return E().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if(D=S,(b=this)._resetErr(),b._isValid()){Y.next=4;break}throw{code:b._errorCode,message:b._errorString};case 4:if(!m.isString(S)&&S!==null&&S!==void 0){Y.next=8;break}Y.next=10;break;case 8:case 23:throw fr(b),{code:b._errorCode,message:b._errorString};case 10:if(!(v instanceof Blob)){Y.next=23;break}if((W=v.type.toLocaleLowerCase())!="image/jpeg"&&W!="image/jpg"&&W!="image/png"&&W!="image/bmp"&&W!="application/pdf"&&W!="image/tiff"&&W!="image/tif"){Y.next=16;break}Y.next=18;break;case 16:throw nq(b),{code:b._errorCode,message:b._errorString};case 18:return Y.next=20,SU(v);case 20:M=Y.sent,Y.next=25;break;case 25:return D||(D=""),D=Rt.replaceLocalFilename(D),T=Ge(D),Y.next=30,new Q.Promise(function(ee,te){b._innerSendBlobByWS("SaveBlobToFile",T,M,function(de){ee(de)},function(de){te({code:b._errorCode,message:b._errorString})})});case 30:case"end":return Y.stop()}},g,this)})),function(g,S){return c.apply(this,arguments)})},{key:"createLocalStorage",value:(l=s(E().mark(function g(S){var v,b,T,D,M;return E().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if((v=this)._resetErr(),v._isValid()){W.next=4;break}throw{code:v._errorCode,message:v._errorString};case 4:if(T="CreateLocalStorage",D=null,!S){W.next=12;break}if(M=S.password,nc(tl,this,s0).call(this,M)!==!1){W.next=9;break}throw{code:v._errorCode,message:v._errorString};case 9:D=JSON.stringify([JSON.stringify(S)]),W.next=13;break;case 12:D='["{}"]';case 13:return W.next=15,new Q.Promise(function(Y,ee){v._innerSend(T,D,!1,function(te){if(m.isArray(te)&&te.length>0){var de=te[0];de&&m.isString(de.uid)&&Y(de.uid)}else ko(v),ee({code:v._errorCode,message:v._errorString})},function(){ee({code:v._errorCode,message:v._errorString})})});case 15:return b=W.sent,W.abrupt("return",b);case 17:case"end":return W.stop()}},g,this)})),function(g){return l.apply(this,arguments)})},{key:"localStorageExist",value:(d=s(E().mark(function g(S){var v,b,T;return E().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(b="LocalStorageExist",(v=this)._resetErr(),v._isValid()){D.next=4;break}throw{code:v._errorCode,message:v._errorString};case 4:if(nc(tl,v,u0).call(v,S)!=0){D.next=6;break}throw{code:v._errorCode,message:v._errorString};case 6:return D.next=8,new Q.Promise(function(M,W){v._innerSend(b,Ge(S),!1,function(Y){if(m.isArray(Y)&&Y.length>0){var ee=Y[0];(m.isBoolean(ee)||m.isNumber(ee))&&M(!!ee)}else ko(v),W({code:v._errorCode,message:v._errorString})},function(){W({code:v._errorCode,message:v._errorString})})});case 8:return T=D.sent,D.abrupt("return",T);case 10:case"end":return D.stop()}},g,this)})),function(g){return d.apply(this,arguments)})},{key:"saveToLocalStorage",value:(u=s(E().mark(function g(S){var v,b,T,D;return E().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(b="SaveToLocalStorage",T=null,(v=this)._resetErr(),v._isValid()){M.next=4;break}throw{code:v._errorCode,message:v._errorString};case 4:if(m.isObject(S)){M.next=7;break}throw fr(v),{code:v._errorCode,message:v._errorString};case 7:if(nc(tl,v,u0).call(v,S.uid)!==!1&&nc(tl,this,s0).call(this,S.password)!==!1){M.next=9;break}throw{code:v._errorCode,message:v._errorString};case 9:if(!m.isUndefined(S.indices)){M.next=13;break}S.indices=OJ(v),M.next=20;break;case 13:if(!m.isArray(S.indices)||S.indices.length!=0){M.next=17;break}M.next=20;break;case 17:if(v._checkIndices(S.indices)){M.next=19;break}throw{code:v._errorCode,message:v._errorString};case 19:S.indices=Ll(v,S.indices);case 20:return T=JSON.stringify([JSON.stringify(S)]),M.next=23,new Q.Promise(function(W,Y){v._innerSend(b,T,!1,function(ee){if(m.isArray(ee)&&ee.length>0){var te=ee[0];te&&te.imageIds&&W(te.imageIds)}else ko(v),Y({code:v._errorCode,message:v._errorString})},function(){Y({code:v._errorCode,message:v._errorString})})});case 23:return D=M.sent,M.abrupt("return",D);case 25:case"end":return M.stop()}},g,this)})),function(g){return u.apply(this,arguments)})},{key:"loadFromLocalStorage",value:(a=s(E().mark(function g(S){var v,b,T,D,M;return E().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(b="LoadFromLocalStorage",T=null,(v=this)._resetErr(),v._isValid()){W.next=4;break}throw{code:v._errorCode,message:v._errorString};case 4:if(m.isObject(S)){W.next=7;break}throw fr(v),{code:v._errorCode,message:v._errorString};case 7:if(nc(tl,v,u0).call(v,S.uid)!==!1&&nc(tl,this,s0).call(this,S.password)!==!1){W.next=9;break}throw{code:v._errorCode,message:v._errorString};case 9:return(M=m.clone(S)).documentName=v._getCurrentDocumentName(),M.tagName=v._getCurrentDefaultTagName(),T=JSON.stringify([JSON.stringify(M)]),Q.showProgress(v,b,!1),Q.progressBarOnPercentDone(-1,"Processing...","",0,""),W.next=17,new Q.Promise(function(Y,ee){v._innerSend(b,T,!1,function(te){var de;Q.closeProgress(null,b),m.isArray(te)&&te.length>0?(de=te[0])&&de.mapImageIds&&Y(de.mapImageIds):(de===!1&&v._errorCode!=0||ko(v),ee({code:v._errorCode,message:v._errorString}))},function(){Q.closeProgress(null,b),ee({code:v._errorCode,message:v._errorString})})});case 17:return D=W.sent,W.abrupt("return",D);case 19:case"end":return W.stop()}},g,this)})),function(g){return a.apply(this,arguments)})},{key:"removeLocalStorage",value:(o=s(E().mark(function g(S){var v,b,T,D;return E().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(b="RemoveLocalStorage",T=null,(v=this)._resetErr(),v._isValid()){M.next=4;break}throw{code:v._errorCode,message:v._errorString};case 4:if(m.isObject(S)){M.next=7;break}throw fr(v),{code:v._errorCode,message:v._errorString};case 7:if(nc(tl,v,u0).call(v,S.uid)!==!1&&nc(tl,this,s0).call(this,S.password)!==!1){M.next=9;break}throw{code:v._errorCode,message:v._errorString};case 9:return S&&(T=JSON.stringify([JSON.stringify(S)])),M.next=12,new Q.Promise(function(W,Y){v._innerSend(b,T,!1,function(ee){if(m.isArray(ee)&&ee.length>0){var te=ee[0];(m.isBoolean(te)||m.isNumber(te))&&W(!!te)}else ko(v),Y({code:v._errorCode,message:v._errorString})},function(){Y({code:v._errorCode,message:v._errorString})})});case 12:return D=M.sent,M.abrupt("return",D);case 14:case"end":return M.stop()}},g,this)})),function(g){return o.apply(this,arguments)})}]);var o,a,u,d,l,c,p}(_u);function s0(t){if(!m.isUndefined(t)){if(!m.isString(t))return Me(this,-2850,"The password is not a string."),!1;if(t.length>32)return function(n){Me(n,-2849,"The password must not exceed 32 characters in length.")}(this),!1}return!0}function u0(t){return m.isUndefined(t)||t==""?(Me(this,-2846,"The uid cannot be empty."),!1):!!m.isString(t)||(function(n){Me(n,-2847,"The uid is invalid.")}(this),!1)}function Wd(t,n,o,a){var u;o!==0&&o!==1?u=o:(u={},o&&(u.set=a==1?function(d){var l=1*d;return!m.isNumber(l)||isNaN(l)?(Ni(t),Oe):(t._resetErr(),!!t._isValid()&&t._innerFun(n,Ge(l)))}:a==2?function(d){return m.isBoolean(d)?(t._resetErr(),!!t._isValid()&&t._innerFun(n,Ge(d))):(Ni(t),Oe)}:function(d){return m.isString(d)?(t._resetErr(),!!t._isValid()&&t._innerFun(n,Ge(d))):(Ni(t),Oe)})),u.get||(u.get=function(){return t._resetErr(),!!t._isValid()&&t._innerFun(n)}),n in t||Object.defineProperty(t,n,u)}function Xde(t,n){(function(o,a){if(a.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,n),n.add(t)}function BU(t,n,o){return(n=function(a){var u=function(d,l){if(N(d)!="object"||!d)return d;var c=d[Symbol.toPrimitive];if(c!==void 0){var p=c.call(d,l||"default");if(N(p)!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(d)}(a,"string");return N(u)=="symbol"?u:u+""}(n))in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t}function Zde(t,n,o){if(typeof t=="function"?t===n:t.has(n))return arguments.length<3?n:o;throw new TypeError("Private element is not present on this object")}var UU=new WeakSet,VU=function(){return _(function o(a,u,d,l){h(this,o),Xde(this,UU),BU(this,"serverUrl",void 0),this.serverUrl=a,this.bLocal=Ro(a),this.clientId=d??m.guid(),this.bGlobal=u,this.serverName=l,this.bLicenseOK=!1},[{key:"checkSource",value:function(o){if(!o)throw{code:-1003,message:"Source Manager unable to find the specified Source"}}},{key:"parseResultDefault",value:function(o){var a;if(m.isObject(o)&&o.exception&&o.exception!=0)throw{code:o.exception,message:(a=o.description)!==null&&a!==void 0?a:"general error"};if(o&&m.isArray(o.result)&&o.result.length>0){var u=o.result[o.result.length-1];try{return JSON.parse(u)}catch{return u}}throw o}},{key:"_requestAsync",value:(n=s(E().mark(function o(a,u,d){var l,c,p,g,S,v,b,T,D,M;return E().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(!V.DWT.ConnectWithSocket){W.next=12;break}return W.next=3,Zde(UU,this,$de).call(this);case 3:return l=W.sent,c=0,a&&(c=a.cmdId),p={client:l,userData:{command:a},taskId:c},g=tfe,W.next=9,l.request(m.stringify(a),g,p);case 9:return S=W.sent,m.isString(S)&&(S=m.parse(S)),W.abrupt("return",S);case 12:return v=[Kk(),"/",a.method].join(""),u&&(T=u),D=(M=this).serverUrl?zu.getDDMUrl(M.serverUrl,M.bGlobal,[zk,a.method].join("")):zu.getModuleUrlForRemoteScan(v),W.prev=16,W.next=19,Mf(D,{method:"post",dataType:"json",body:m.stringify(a),fetchRaw:d!=null&&d,timeout:T});case 19:b=W.sent,W.next=25;break;case 22:throw W.prev=22,W.t0=W.catch(16),W.t0;case 25:return W.abrupt("return",b);case 26:case"end":return W.stop()}},o,this,[[16,22]])})),function(o,a,u){return n.apply(this,arguments)})},{key:"_resetLicense",value:(t=s(E().mark(function o(a,u,d){return E().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:case"end":return l.stop()}},o)})),function(o,a,u){return t.apply(this,arguments)})}]);var t,n}();function $de(){return GU.apply(this,arguments)}function GU(){return(GU=s(E().mark(function t(){var n,o,a,u,d,l,c,p,g;return E().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(n=this,o=he.bSSL,n._wsClient){S.next=10;break}return a=new pd,(u=this.serverUrl)?(l="/",d=o?"ddm/"+V.dcp.SSLPort+"/":"ddm/"+V.dcp.Port+"/",m.endsWith(u,"/")&&(l=""),m.startsWith(u,"https://")||m.startsWith(u,"wss://")?(a.ssl=!0,c=m.startsWith(u,"https://")?m.replaceAll(u,"https://",""):m.replaceAll(u,"wss://",""),u=c+l+d):m.startsWith(u,"http://")||m.startsWith(u,"ws://")?(a.ssl=!1,p=m.startsWith(u,"http://")?m.replaceAll(u,"http://",""):m.replaceAll(u,"ws://",""),u=p+l+d):(a.ssl=o,a.port=a.ssl?Xt.SSLPort:Xt.Port),a.server=u):(a.ssl=o,a.server=qi(),a.port=a.ssl?Xt.SSLPort:Xt.Port),a.useWS=!0,a.protocol=Xt.wsProtocol,g=su.Instance.getClient(a),S.next=9,g.testConnection();case 9:n._wsClient=g;case 10:return S.abrupt("return",n._wsClient);case 11:case"end":return S.stop()}},t,this)}))).apply(this,arguments)}BU(VU,"logLevel",-1);var efe=function(t){function n(){var a;h(this,n);for(var u=arguments.length,d=new Array(u),l=0;l<u;l++)d[l]=arguments[l];return w(a=f(this,n,[].concat(d)),"_bInited",!1),a}return P(n,t),_(n,[{key:"getServices",value:(o=s(E().mark(function a(u,d,l,c){var p,g,S,v,b,T,D,M,W,Y,ee,te,de;return E().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return l=l!=null&&l,c=c??30,p={id:this.clientId,cmdId:m.guid(),method:"SearchScanner",parameter:[1,"_privet._tcp.local.",!1,!0,l,c,u,d],version:Bu},Z.prev=5,Z.next=8,this._requestAsync(p,3e4,!1);case 8:g=Z.sent,this._bInited=!0,Z.next=19;break;case 12:if(Z.prev=12,Z.t0=Z.catch(5),!this.bLocal){Z.next=18;break}throw hd(S={}),{code:S._errorCode,message:S._errorString};case 18:throw Ck();case 19:v=[],b=this.parseResultDefault(g),T=C(b),Z.prev=22,T.s();case 24:if((D=T.n()).done){Z.next=40;break}if(!((M=D.value).service_type&&M.service_type==Oo.ST_UNKNOWN||M.type&&M.type!="dynamsoft_private_cloud_scan"&&M.type!="twaindirect")){Z.next=30;break}return Z.abrupt("continue",38);case 30:if(!M.service_type){Z.next=38;break}Z.t1=M.service_type,Z.next=Z.t1===Oo.ST_DYNAMSOFT_SERVICE?34:38;break;case 34:return(W=M.modules)&&m.isArray(W)&&m.isString(W[0])&&(Y=W[0].split(",")).length>=3&&(Y[0]>=1&&Y[1]>=9||Y[0]>=1&&Y[1]>=8&&Y[2]>0)&&(M.bGlobalFind=!0,ee=HU(this.serverUrl,M),v.push(ee)),M.bGlobalFind||(de=(te=M==null?void 0:M.ty)!==null&&te!==void 0?te:"",m.warn(["The Dynamic Web TWAIN Service on [",de,"] is old version."].join(""))),Z.abrupt("break",38);case 38:Z.next=24;break;case 40:Z.next=45;break;case 42:Z.prev=42,Z.t2=Z.catch(22),T.e(Z.t2);case 45:return Z.prev=45,T.f(),Z.finish(45);case 48:return Z.abrupt("return",v);case 49:case"end":return Z.stop()}},a,this,[[5,12],[22,42,45,48]])})),function(a,u,d,l){return o.apply(this,arguments)})},{key:"dispose",value:function(){var a={id:this.clientId,cmdId:m.guid(),method:"dispose",version:Bu};this._requestAsync(a,500)}}]);var o}(VU);function HU(t,n){var o=new wC;return o.server=t,o.attrs=n,o}function tfe(t,n,o,a){return dx.apply(this,arguments)}function dx(){return dx=s(E().mark(function t(n,o,a,u){var d,l;return E().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(o!=yn.GET_TASKID){c.next=4;break}return c.abrupt("return",u.taskId);case 4:if(o!=yn.ONMESSAGE_PROCESS_DATA){c.next=8;break}return c.abrupt("return",m.parse(n));case 8:if(o!=yn.ONMESSAGE_GET_TASKID){c.next=15;break}if(!n||!n.cmdId){c.next=11;break}return c.abrupt("return",n.cmdId);case 11:if(!u||!u.client){c.next=13;break}return c.abrupt("return",u.client.getRequestTaskId());case 13:c.next=23;break;case 15:if(o!=yn.HANDLE_RAW_MESSAGE){c.next=23;break}if(l=n.rawData,n.jsonData,d=u==null?void 0:u.userData){c.next=21;break}return c.abrupt("return",!1);case 21:return l.indexOf("Version not found")>=0||l.indexOf("Function not found")>=0?m.isFunction(d.fFun)&&d.fFun():m.isFunction(d.sFun)&&d.sFun(l),c.abrupt("return",l);case 23:case"end":return c.stop()}},t)})),dx.apply(this,arguments)}function zU(t,n,o){return(n=function(a){var u=function(d,l){if(N(d)!="object"||!d)return d;var c=d[Symbol.toPrimitive];if(c!==void 0){var p=c.call(d,l||"default");if(N(p)!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(d)}(a,"string");return N(u)=="symbol"?u:u+""}(n))in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t}function rfe(t,n){(function(o,a){if(a.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,n),n.add(t)}function fx(t,n,o){if(typeof t=="function"?t===n:t.has(n))return arguments.length<3?n:o;throw new TypeError("Private element is not present on this object")}function KU(t){var n,o=Oo.ST_UNKNOWN;return t==yt.ESCLSCANNER?o=Oo.ST_ESCL:t==yt.WIFIDIRECTSCANNER?o=Oo.ST_WIFI_DIRECT:((n=t)==yt.TWAINSCANNER||n==yt.WIATWAINSCANNER||n==yt.TWAINX64SCANNER||n==yt.ICASCANNER||n==yt.SANESCANNER)&&(o=Oo.ST_DYNAMSOFT_SERVICE),o}var l0=new WeakSet,c0=function(t){function n(){var S;h(this,n);for(var v=arguments.length,b=new Array(v),T=0;T<v;T++)b[T]=arguments[T];return rfe(S=f(this,n,[].concat(b)),l0),zU(S,"_bInited",!1),zU(S,"_currentDevice",void 0),S}return P(n,t),_(n,[{key:"getSources",value:(g=s(E().mark(function S(v,b,T){var D,M,W,Y,ee,te,de,Z,ne,X,F,B;return E().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(D="",M=!1,W=[],Y=!1,((ee=v??gC)&yt.ESCLSCANNER)==yt.ESCLSCANNER&&(D="_uscan._tcp.local."),(ee&yt.WIFIDIRECTSCANNER)==yt.WIFIDIRECTSCANNER&&(M=!0),D.length!=0||M){U.next=9;break}return U.abrupt("return",[]);case 9:return b=b!=null&&b,T=T??30,te={id:this.clientId,cmdId:m.guid(),method:"SearchScanner",parameter:[1,D,M,Y,b,T],version:Bu},U.next=14,this._requestAsync(te,3e4,!1);case 14:if(de=U.sent,this._bInited=!0,Z=this.parseResultDefault(de),m.isArray(Z)){U.next=19;break}throw GY();case 19:ne=C(Z),U.prev=20,ne.s();case 22:if((X=ne.n()).done){U.next=48;break}if(!((F=X.value).service_type&&F.service_type==Oo.ST_UNKNOWN||F.type&&F.type!="dynamsoft_private_cloud_scan"&&F.type!="twaindirect")){U.next=28;break}return U.abrupt("continue",46);case 28:if(!F.service_type){U.next=46;break}U.t0=F.service_type,U.next=U.t0===Oo.ST_DYNAMSOFT_SERVICE?32:U.t0===Oo.ST_ESCL||U.t0===Oo.ST_WIFI_DIRECT?33:46;break;case 32:return U.abrupt("break",46);case 33:return(B=new qa).name="",B.displayName="",B.deviceType=0,B.isSystemDefaultPrinter=!1,F.service_type==Oo.ST_ESCL?B.deviceType=yt.ESCLSCANNER:F.service_type==Oo.ST_WIFI_DIRECT&&(B.deviceType=yt.WIFIDIRECTSCANNER),B.name=F.ty,F.hostname&&F.hostname.length>F.ty.length&&(B.name=F.hostname),B.displayName=(F.service_type==Oo.ST_ESCL?"eSCL-":"")+B.name,this.bGlobal||(F.url=this.serverUrl,this.serverName&&(B.displayName=B.displayName+" on ["+this.serverName+"]")),B.serviceInfo=HU(this.serverUrl,F),W.push(B),U.abrupt("break",46);case 46:U.next=22;break;case 48:U.next=53;break;case 50:U.prev=50,U.t1=U.catch(20),ne.e(U.t1);case 53:return U.prev=53,ne.f(),U.finish(53);case 56:return U.abrupt("return",W);case 57:case"end":return U.stop()}},S,this,[[20,50,53,56]])})),function(S,v,b){return g.apply(this,arguments)})},{key:"getCapabilitiesAsync",value:(p=s(E().mark(function S(v){var b,T,D;return E().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return this.checkSource(v),(v.deviceType&yt.ESCLSCANNER)!=yt.ESCLSCANNER&&(v.deviceType&yt.WIFIDIRECTSCANNER)!=yt.WIFIDIRECTSCANNER||(this._currentDevice=v),b=KU(v.deviceType),T={id:this.clientId,cmdId:m.guid(),method:"SendRequestToScanner",parameter:["getCapabilities",m.stringify({UUID:v.serviceInfo.attrs.UUID,service_type:b,ty:v.name})],version:Bu},M.next=6,this._requestAsync(T,0);case 6:return D=M.sent,M.abrupt("return",this.parseResultDefault(D));case 8:case"end":return M.stop()}},S,this)})),function(S){return p.apply(this,arguments)})},{key:"selectSourceAsync",value:(c=s(E().mark(function S(v){var b;return E().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,this.getCapabilitiesAsync(v);case 2:if(!(b=T.sent)&&b!=""){T.next=5;break}return T.abrupt("return",!0);case 5:case"end":return T.stop()}},S,this)})),function(S){return c.apply(this,arguments)})},{key:"versionInfo",value:(l=s(E().mark(function S(){var v,b;return E().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return v={id:this.clientId,cmdId:m.guid(),method:"VersionInfo",version:Bu},T.next=3,this._requestAsync(v,5e3);case 3:return b=T.sent,this._bInited=!0,T.abrupt("return",b);case 6:case"end":return T.stop()}},S,this)})),function(){return l.apply(this,arguments)})},{key:"getLicenseInfo",value:function(S,v,b){return this._resetLicense(S,v,b)}},{key:"getImageAsArrayBuffer",value:(d=s(E().mark(function S(v,b){return E().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.abrupt("return",fx(l0,this,QU).call(this,v,b));case 1:case"end":return T.stop()}},S,this)})),function(S,v){return d.apply(this,arguments)})},{key:"getImageToDWT",value:(u=s(E().mark(function S(v,b,T){return E().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.abrupt("return",fx(l0,this,QU).call(this,v,b,T));case 1:case"end":return D.stop()}},S,this)})),function(S,v,b){return u.apply(this,arguments)})},{key:"acquireImage",value:(a=s(E().mark(function S(v,b,T){var D,M,W,Y,ee,te,de;return E().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:v=v??this._currentDevice,this.checkSource(v),this._currentDevice=v,D=KU(v.deviceType),M=["scan",m.stringify({UUID:v.serviceInfo.attrs.UUID,service_type:D})],W=fx(l0,this,nfe).call(this,b),M[2]=m.stringify(W),Y={id:this.clientId,cmdId:m.guid(),method:"SendRequestToScanner",parameter:M,version:Bu},ee=0;case 9:if(!(ee<5)){Z.next=32;break}return Z.prev=10,Z.next=13,this._requestAsync(Y,0);case 13:return de=Z.sent,te=this.parseResultDefault(de),m.isObject(te)&&(te.device=v,te.scanOptions=W),Z.abrupt("break",32);case 19:if(Z.prev=19,Z.t0=Z.catch(10),Z.t0.code!=-1004&&Z.t0.code!=-1001){Z.next=28;break}if(!(ee>=4)){Z.next=24;break}throw Z.t0;case 24:return Z.next=26,new Q.Promise(function(ne,X){setTimeout(ne,2e3)});case 26:Z.next=29;break;case 28:throw Z.t0;case 29:ee++,Z.next=9;break;case 32:return Z.abrupt("return",te);case 33:case"end":return Z.stop()}},S,this,[[10,19]])})),function(S,v,b){return a.apply(this,arguments)})},{key:"_resetLicense",value:(o=s(E().mark(function S(v,b,T){var D,M,W,Y;return E().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:return this.longKeyOrShortkey=v,this.cu=b,ife(),D=b??"",M={id:this.clientId,cmdId:m.guid(),method:"GetLicenseInfo",parameter:[v,n.logLevel,D,T],version:Bu},ee.prev=5,ee.next=8,this._requestAsync(M,1e4);case 8:return W=ee.sent,this._bInited=!0,ee.abrupt("return",this.parseResultDefault(W));case 13:if(ee.prev=13,ee.t0=ee.catch(5),!this.bLocal){ee.next=19;break}throw hd(Y={}),{code:Y._errorCode,message:Y._errorString};case 19:throw Ck();case 20:case"end":return ee.stop()}},S,this,[[5,13]])})),function(S,v,b){return o.apply(this,arguments)})}]);var o,a,u,d,l,c,p,g}(efe);function QU(t,n,o){return YU.apply(this,arguments)}function YU(){return(YU=s(E().mark(function t(n,o,a){var u,d,l,c,p;return E().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(n!=null&&n.device){g.next=2;break}throw{code:-1011,message:"Operation out of expected sequence"};case 2:return a=a??{ver:"",clientId:""},(u=["getImage",m.stringify({UUID:n.device.serviceInfo.attrs.UUID,service_type:o})])[2]=m.stringify(n.scanOptions),u[3]=n.scanJobs,u[4]=n.scanId,u[5]=a._clientId,u[6]=a._ver,d={id:this.clientId,cmdId:m.guid(),method:"SendRequestToScanner",parameter:u,version:Bu},g.next=12,this._requestAsync(d,0,!0);case 12:if(l=g.sent,!(l.headers.get("content-type").indexOf("image/")>=0)){g.next=20;break}return g.next=17,l.arrayBuffer();case 17:return g.abrupt("return",g.sent);case 20:return g.next=22,l.json();case 22:if(c=g.sent,typeof(p=this.parseResultDefault(c))!="boolean"){g.next=28;break}return g.abrupt("return",null);case 28:return g.abrupt("return",p);case 29:case"end":return g.stop()}},t,this)}))).apply(this,arguments)}function nfe(t){var n=[];if(t){m.isNumber(t.PixelType)&&(n.push({capability:bu.ICAP_PIXELTYPE,curValue:t.PixelType}),V.DWT.EnumDWT_PixelType.TWPT_BW==t.PixelType&&(n.push({capability:32771,curValue:"application/octet-stream"}),n.push({capability:32772,curValue:"application/octet-stream"})));var o=t.Resolution;o||(o=300),n.push({capability:bu.ICAP_XRESOLUTION,curValue:o}),n.push({capability:bu.ICAP_YRESOLUTION,curValue:o}),t.Brightness!==void 0&&n.push({capability:bu.ICAP_BRIGHTNESS,curValue:t.Brightness}),t.XferCount!==void 0&&n.push({capability:bu.CAP_XFERCOUNT,curValue:t.XferCount}),t.Contrast!==void 0&&n.push({capability:bu.ICAP_CONTRAST,curValue:t.Contrast}),t.TransferMode!==void 0&&n.push({capability:bu.ICAP_XFERMECH,curValue:t.TransferMode}),t.IfFeederEnabled!==void 0&&n.push({capability:bu.CAP_FEEDERENABLED,curValue:t.IfFeederEnabled?1:0}),t.IfDuplexEnabled!==void 0&&n.push({capability:bu.CAP_DUPLEXENABLED,curValue:t.IfDuplexEnabled?1:0})}return n}function ife(){var t=c0.logLevel;m.isNumber(t)||(c0.logLevel=-1)}Q.removeNonPrintableChar;var qU=function(t,n,o){o==2&&m.each(n,function(a,u){Sr(t,a,{get:function(){return t._resetErr(),t._isValid()?at:Oe},set:function(d){return t._resetErr(),t._isValid()?at:Oe}})})},JU=function(t,n){m.each(n,function(o,a){Wd(t,o,1,2)})},XU=function(t,n){m.each(n,function(o,a){Wd(t,o,1,1)})},ZU=function(t,n){m.each(n,function(o,a){Wd(t,o,0)})},$U=function(t,n){m.each(n,function(o,a){Wd(t,o,1)})};function ofe(t){var n=t;n._bRemoteMode||(Sr(n,"ProductKey",{get:function(){return V.DWT.ProductKey},set:function(o){return m.isString(o)?(n._resetErr(),!!n._isValid()&&n._setProductKey(o,!1)):(Ni(n),Oe)}}),Sr(n,"ProductName",{get:function(){return n.__strProductName}}),Sr(n,"VersionInfo",{get:function(){return Rl.JSVersion}}),Sr(n,"DefaultSourceName",{get:function(){var o=n._getDefaultDevice();return o?o.displayName:""}}),Sr(n,"ImageCaptureDriverType",{get:function(){return n._resetErr(),n._isValid()?n._driverType:0},set:function(o){var a=!1,u=!1,d=!1;if(n._bRemoteMode?n.__serverPlatform==Ht.enumWindow?d=!0:n.__serverPlatform==Ht.enumLinux?u=!0:n.__serverPlatform==Ht.enumMac&&(a=!0):(a=he.bMac,u=he.bLinux,d=he.bWin),n._resetErr(),!n._isValid())return!1;if(o!==""){var l=1*o,c=!1;if(l<Cr.TWAIN||l>Cr.TWAIN64)return yy(n),Oe;if(d){if(l===Cr.TWAIN_AND_TWAIN64)n._b64bit&&(n._driverType=l);else if(l!=Cr.TWAIN&&l!=Cr.TWAIN64)return yy(n),Oe;n._b64bit||(l=Cr.TWAIN),n._driverType=l,c=!0}else if(u)l=Cr.SANE,n._driverType=l,c=!0;else if(a){if(l!==Cr.TWAIN_AND_ICA){if(l!=Cr.ICA&&l!=Cr.TWAIN&&l!=Cr.TWAIN64)return yy(n),Oe}n._driverType=l,c=!0}return c&&(n._curDevice=null,n.__devices=null),!0}return yy(n),Oe}}),Sr(n,"HTTPPostResponseString",{get:function(){return n._resetErr(),n._isValid()&&n.__HTTPPostResponseString?n.__HTTPPostResponseString:""}}),Sr(n,"IfAppendImage",{get:function(){return n._resetErr(),!!n._isValid()&&n.__IfAppendImage},set:function(o){return n._resetErr(),!!n._isValid()&&(m.isBoolean(o)?n.__IfAppendImage=o:(Ni(n),Oe))}}),Sr(n,"FTPPort",{get:function(){return n._resetErr(),n._isValid()?n._innerFun("FTPPort"):0},set:function(o){if(n._resetErr(),!n._isValid())return!1;if(o!==""){var a=1*o;return n._innerFun("FTPPort",Ge(a))}}}),Sr(n,"JPEGQuality",{get:function(){return n._resetErr(),n._isValid()?n._innerFun("JPEGQuality"):0},set:function(o){var a=1*o;return a>=100?a=100:a<0&&(a=0),n._resetErr(),!!n._isValid()&&n._innerFun("JPEGQuality",Ge(a))}}),Wd(n,"TIFFCompressionType",1,1),Wd(n,"BufferMemoryLimit",1,1),Sr(n,"LogLevel",{get:function(){return n._resetErr(),n._isValid()?n._innerFun("LogLevel"):0},set:function(o){if(n._resetErr(),!n._isValid())return!1;var a=1*o;return n._logLevel=a,c0.logLevel=n._logLevel,n._innerFun("LogLevel",Ge(a))}}),Sr(n,"HttpContentTypeFieldValue",{get:function(){return n._resetErr(),n._isValid()?n._strHttpContentTypeFieldValue:""},set:function(o){return n._resetErr(),!!n._isValid()&&(n._strHttpContentTypeFieldValue=o,o)}}),Sr(n,"BrokerProcessType",{get:function(){return n._resetErr(),n._isValid()?1:0},set:function(o){return n._resetErr(),!!n._isValid()}}),Sr(n,"BorderStyle",{get:function(){return n._resetErr(),!!n._isValid()&&0},set:function(o){return n._resetErr(),n._isValid(),!1}}),Sr(n,"HttpFieldNameOfUploadedImage",{get:function(){return n._resetErr(),n._isValid()?n.__remoteFilename:""},set:function(o){return n._resetErr(),n._isValid()?n.__remoteFilename=o:""}}),Sr(n,"style",{get:function(){return n._isValid()?n.__style:""}}),Sr(n,"ScaleDownThreshold",{get:function(){return n._resetErr(),n._isValid()?n._scaleDownThreshold:0},set:function(o){var a=1*o;return!m.isNumber(a)||isNaN(a)?(Ni(self),Oe):(n._resetErr(),!!n._isValid()&&(n._scaleDownThreshold=o))}}),Sr(n,"CurrentImageIndexInBuffer",{get:function(){return n._isValid()&&n._ImgManager?n._ImgManager.getCurrentImageIndex():0},set:function(o){var a=1*o;return n._resetErr(),!!n._isValid()&&(a>=0&&a<n._ImgManager.count()&&(n._ImgManager.setSelectedClientIndexArray([a]),n._isBindViewer()&&el.__innerRefreshFromUIView(n,n._ImgManager.getCurrentImageIndex())),!0)}}),Sr(n,"SelectedImagesIndices",{get:function(){return n._resetErr(),n._isValid()?n._ImgManager.count()<=0?[]:n._ImgManager.getSelectedClientIndexArray():[]}}),Sr(n,"MaxImagesInBuffer",{get:function(){return n._resetErr(),n._isValid()?n.__maxImagesInBuffer:0},set:function(o){var a=1*o;return n._resetErr(),!!n._isValid()&&(a>0&&a<32768?n.__maxImagesInBuffer=a:Me(n,-1010,"Data parameter out of supported range."),n.__maxImagesInBuffer)}}),Sr(n,"IfSSL",{get:function(){return n._bSSL},set:function(o){return n._bSSL=o,n._innerFun("IfSSL",Ge(o)),!0}}),Wd(n,"IfAllowLocalCache",1,2),Sr(n,"UseLocalService",{get:function(){return!0}}),Sr(n,"PDFCompressionType",{get:function(){return n._resetErr(),!!n._isValid()&&n._innerFun("PDFCompressionType")},set:function(o){var a=1*o;return a==V.DWT.EnumDWT_PDFCompressionType.PDF_FAX3&&(a=V.DWT.EnumDWT_PDFCompressionType.PDF_FAX4),n._resetErr(),!!n._isValid()&&n._innerFun("PDFCompressionType",Ge(a))}}),n._setProductKey=function(o,a,u,d){var l=!0,c=o,p=function(S){S||(n.__licenseInfo=void 0);var v=!0;return d||(v=It.checkProductKey(n,{Core:!0})),m.isFunction(u)&&u(),v};if(n._resetErr(),!n._isValid())return!1;if(ke.bUseDynamsoftLicenseManager||n._blts)return ZT(n),!1;if(c=m.isString(c)?m.trim(c):"",V.DWT.ProductKey=c,c=="")l=!1,p();else{It.reparseProductKey();var g=V.DWT.licenseException;if(g.code!=0)return n.__licenseInfo=void 0,n._errorCode=g.code,n._errorString=g.message,m.isFunction(u)&&u(),!1;n._innerFunRaw("ProductKey",Ge(c),a,!1,!1,function(S){var v=!1;v=m.isArray(S)?S[0]:S,m.isArray(S)&&S.length>=3&&S[1]==="1"&&m.isFunction(V.DWT.ShowMessage)&&V.DWT.ShowMessage(S[2],{width:510,height:272,headerStyle:1,seconds:10}),a||(l=v),n.__licenseInfo=void 0,n.GetLicenseInfo(function(){n._setConvertMode(n._pdfConvertMode),p(!0)},p)},function(){a||(l=!1),p()})}return l},$U(n,["ProxyServer"]),$U(n,["CapValueString","CapDescription","FTPPassword","FTPUserName","PDFAuthor","PDFCreationDate","PDFCreator","PDFKeywords","PDFModifiedDate","PDFProducer","PDFSubject","PDFTitle","PDFVersion"]),ZU(n,["Manufacturer","ProductFamily","ImageBitsPerPixel","ImageLength","ImageWidth","ImageXResolution","ImageYResolution"]),ZU(n,["BlankImageCurrentStdDev","CapDefaultIndex","CapDefaultValue","DataSourceStatus","Duplex","PendingXfers","ImageLayoutDocumentNumber","ImageLayoutFrameBottom","ImageLayoutFrameLeft","ImageLayoutFrameNumber","ImageLayoutFrameRight","ImageLayoutFrameTop","ImageLayoutPageNumber","ImagePixelType","MagData","MagType","IfFeederLoaded","IfPaperDetectable","IfUIControllable"]),JU(n,["AllowPluginAuthentication","IfModalUI","IfScanInNewThread","_AutoCropMethod","IfSortBySelectionOrder"]),JU(n,["IfDisableSourceAfterAcquire","IfDuplexEnabled","IfFeederEnabled","IfPASVMode","IfAutoBright","IfAutoDiscardBlankpages","IfAutoFeed","IfAutomaticBorderDetection","IfAutomaticDeskew","IfAutoScan","IfShowIndicator","IfUseTwainDSM","IfTiffMultiPage"]),XU(n,["MaxInternetTransferThreads"]),XU(n,["BlankImageMaxStdDev","BlankImageThreshold","BitDepth","Brightness","PageSize","PixelType","Resolution","Capability","CapCurrentIndex","CapCurrentValue","CapMaxValue","CapMinValue","CapNumItems","CapStepSize","CapType","CapValue","CapValueType","Contrast","PixelFlavor","TransferMode","Unit","XferCount"]),qU(n,["AsyncMode","EnableInteractiveZoom","IfThrowException","ImageEditorIfEnableEnumerator","ImageEditorIfReadonly","ImageEditorIfModal","ImageEditorWindowTitle","IfShowPrintUI","VScrollBar"],2),qU(n,["IfOpenImageWithGDIPlus"]))}Q.DynamicLoadAddonFuns=[],Q.attachAddon=function(t){var n=!1;return m.each(Q.DynamicLoadAddonFuns,function(o){m.isFunction(o)&&(o(t),n=!0)}),!gn.bFullEdition&&t.__addon&&delete t.__addon.Camera,n};var e4=_(function t(n,o,a){h(this,t),this.Url=n,this.Width=o,this.Height=a}),afe=function(){return _(function n(o){h(this,n),this._stwain=o,this._ImgManager=o._ImgManager},[{key:"Print",value:function(){var n=this;if(n.count()<=0)return!1;var o,a=[];for(o=0;o<n.count();o++)a.push(o);return n.PrintEx(a)}},{key:"PrintCurrentImage",value:function(){var n,o,a,u=this;if(!((n=u._ImgManager.getCurrentImageIndex())<0))return(a=u._ImgManager.convertClientIndexToServerId(n))==-1?(tt(u),!1):(o=Nr.getImageUrl(u._ImgManager.getBaseUrl,a,-1,-1),u.__PrintInner(o,a,n))}},{key:"PrintEx",value:function(n){var o=this;if(!(o.count()<=0)){var a=[];return V.DWT.ConnectWithSocket?o.__GetPrintUrlforSocket(n,a):o.__GetPrintUrlforHttp(n,a),!0}}},{key:"__PrintInner",value:function(n,o,a){var u=this,d=u._ImgManager.getImageIdMap(o),l=[];if(!d)return!1;var c=m.clone(d),p=c.width;(m.isUndefined(c.width)||c.width<=0)&&(c.width=u.getImageWidthFromServer(a));var g=c.height;(m.isUndefined(c.height)||c.height<=0)&&(c.height=u.getImageHeightFromServer(a));var S=new e4(n,c.width,c.height);return l.push(S),c.width=p,c.height=g,Nr.print(l),!0}},{key:"__GetPrintUrl",value:function(n,o,a){var u,d,l=this,c=0,p=0;return(u=l._ImgManager.getImageIdMap(o))&&(!u.width||u.width<=0?u.width=l.getImageWidthFromServer(a):c=u.width,!u.height||u.height<=0?u.height=l.getImageHeightFromServer(a):p=u.height,d=new e4(n,u.width,u.height),u.width=c,u.height=p),d}},{key:"__GetPrintUrlforHttp",value:(t=s(E().mark(function n(o,a){var u,d,l,c,p,g,S,v,b,T;return E().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:u=this,d=0;case 2:if(!(d<o.length)){D.next=23;break}if(l=o[d],(c=u._ImgManager.convertClientIndexToServerId(l))==-1){D.next=20;break}if(p=void 0,!(V.navInfoSync.bMac&&V.navInfoSync.bSafari||V.navInfoSync.bFirefox||V.navInfoSync.bChrome)){D.next=17;break}if(!(g=u._stwain._ImgManager.getImageIdMap(c))){D.next=17;break}if(!(S=g.uuid)||S==-1){D.next=17;break}return D.next=14,u._stwain.Viewer.webViewer.myDvs.getImageData(S,{type:"blob"});case 14:v=D.sent,b=window.URL||window.webkitURL,p=b.createObjectURL(v);case 17:p||(p=Nr.getImageUrl(u._ImgManager.getBaseUrl,c,-1,-1)),T=u.__GetPrintUrl(p,c,l),a.push(T);case 20:d++,D.next=2;break;case 23:Nr.print(a);case 24:case"end":return D.stop()}},n,this)})),function(n,o){return t.apply(this,arguments)})},{key:"__GetPrintUrlforSocket",value:function(n,o){var a,u=this,d=Pe.Promise.resolve(0),l=0;return m.each(n,function(c){d=d.then(function(){var p=u._ImgManager.convertClientIndexToServerId(c);p!=-1&&u._ImgManager.getImageData(c).then(function(g){if(l++,!g){var S={};return ir(S),void qr(S._errorString)}a=Gu(g.oriData)?URL.createObjectURL(new Blob([g.oriData])):g.oriData instanceof Blob?URL.createObjectURL(g.oriData):g.oriData;var v=u.__GetPrintUrl(a,p,c);o.push(v),n.length==l&&Nr.print(o)})})}),!0}},{key:"__GetPrintUrlforMobileEx",value:function(n,o){var a,u=this,d=Pe.Promise.resolve(0),l=0;return m.each(n,function(c){d=d.then(function(){var p=u._ImgManager.convertClientIndexToServerId(c);p!=-1&&u._ImgManager.getImageData(c).then(function(g){if(l++,!g){var S={};return ir(S),void qr(S._errorString)}a=Gu(g.oriData)?URL.createObjectURL(new Blob([g.oriData])):g.oriData instanceof Blob?URL.createObjectURL(g.oriData):g.oriData;var v=u.__GetPrintUrl(a,p,c);o.push(v),n.length==l&&Nr.print(o)})})}),!0}},{key:"count",value:function(){return this._ImgManager.count()}},{key:"getImageHeightFromServer",value:function(n){var o,a,u,d=this,l=1*n;return o=d.count(),l<0||l>o?0:(u=d._ImgManager.convertClientIndexToServerId(l),(a=d._ImgManager.getImageIdMap(u))&&a.imageHeight?a.imageHeight:d._stwain.GetImageHeight(l))}},{key:"getImageWidthFromServer",value:function(n){var o,a,u,d=this,l=1*n;return o=d.count(),l<0||l>o?0:(u=d._ImgManager.convertClientIndexToServerId(l),(a=d._ImgManager.getImageIdMap(u))&&a.imageWidth?a.imageWidth:d._stwain.GetImageWidth(l))}},{key:"dispose",value:function(){this._stwain=null,this._ImgManager=null}}]);var t}();function sfe(t,n){(function(o,a){if(a.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,n),n.add(t)}function Ti(t,n,o){if(typeof t=="function"?t===n:t.has(n))return arguments.length<3?n:o;throw new TypeError("Private element is not present on this object")}Q.detect.viewerScriptLoaded=at;var ci=new WeakSet,t4=function(t){function n(l){var c,p,g;return h(this,n),sfe(c=f(this,n,[l]),ci),c._ImgManager=new IU(c,c._imageBufferWrapper),c._imageBufferWrapper=c._ImgManager,c._ImagePrint=new afe(c),p=l||{},c._config=p,c._destroying=Oe,c._iServiceType=rx.TwainService,c.__addon={},c._bNoMask=Oe,c._bNotShowMessage=Oe,c._bSelectedSourceByServer=Oe,c._bKeepAwake=Oe,c._bAx=Oe,p.container&&(c._containerElement=p.container),c.__IfShowCancelDialogWhenImageTransfer=at,c._errorCode=0,c._errorString="",c.__bLoadingImage=Oe,c.__bAcquireImageNow=Oe,c.__bOpenFileNow=Oe,c.__defaultSourceName="",c.__sourceCount=0,c._bConnecting=Oe,c.__licenseInfo=void 0,c.__strProductName=V.DWT.ProductName,c.__productKey="",c._moduleSize=1048576,c._driverType=Cr.TWAIN,c.__maxUploadImageSize=-1,c._bServerPercentDone=at,c._bSSL=wn(),c._bRegistedLoad=!1,c._logLevel=0,c._scaleDownThreshold=0,c._pdfWriteSetting={},c.__serverPlatform=Ht.enumUnknown,c._reconnectTimeSpan=gn.LocaleReconnectTimeSpan,c._bRemoteMode||(c.httpFormFields={},c.HTTPPassword="",c.HTTPPort=wn()?443:80,c.HTTPUserName="",c.__HTTPPostResponseString="",c.__remoteFilename="RemoteFile",c.__httpHeaderMap=Oe,c._b64bit?c._segementUploadThreshold=4294967296:c._segementUploadThreshold=524288e3,c._aryTiffTag=[],c._tiffCompressionType=V.DWT.EnumDWT_TIFFCompressionType.TIFF_AUTO,c._jpgQuality=80,c._pdfConvertMode=3,c._pdfOptions={convertMode:zr.CM_AUTO,password:"",renderOptions:{renderAnnotations:!1,resolution:200,maxWidth:0,maxHeight:0,renderGrayscale:!1},preserveUnmodifiedOnSave:!1}),ofe(c),Sr(g=c,"Width",{get:function(){return g._resetErr(),g._isValid()?g._isNoViewer()?(g._nouiNotSupport("Width"),""):g._UIView.GetWidth():""},set:function(S){return g._resetErr(),!!g._isValid()&&(g._isNoViewer()?g._nouiNotSupport("Width"):!!g._UIView.SetWidth(S)&&(g._width=S,!0))}}),Sr(g,"Height",{get:function(){return g._resetErr(),g._isValid()?g._isNoViewer()?(g._nouiNotSupport("Height"),""):g._UIView.GetHeight():""},set:function(S){return g._resetErr(),!!g._isValid()&&(g._isNoViewer()?g._nouiNotSupport("Height"):!!g._UIView.SetHeight(S)&&(g._height=S,!0))}}),Sr(g,"AllowMultiSelect",{get:function(){return g._resetErr(),g._isValid()?g._isNoViewer()?g._nouiNotSupport("AllowMultiSelect"):g._UIView.GetAllowMultiSelect():""},set:function(S){return g._resetErr(),!!g._isValid()&&(g._isNoViewer()?g._nouiNotSupport("AllowMultiSelect"):void g._UIView.SetAllowMultiSelect(S))}}),Sr(g,"BackgroundColor",{get:function(){return g._resetErr(),g._isValid()?g._isNoViewer()?(g._nouiNotSupport("BackgroundColor"),""):g._UIView.GetBackgroundColor():""},set:function(S){return g._resetErr(),!!g._isValid()&&(g._isNoViewer()?g._nouiNotSupport("BackgroundColor"):g._UIView.SetBackgroundColor(S))}}),Sr(g,"BackgroundFillColor",{get:function(){if(g._resetErr(),!g._isValid())return"";if(g._isNoViewer())return g._nouiNotSupport("BackgroundFillColor"),"";var S=g._innerFun("BackgroundFillColor");return Qa.BGR2RGB(S)},set:function(S){if(g._resetErr(),!g._isValid())return!1;if(g._isNoViewer())return g._nouiNotSupport("BackgroundFillColor");var v,b=1*S;return!m.isNumber(b)||m.isNaN(b)?(Ni(g),Oe):(v=Qa.RGB2BGR(b),g._innerFun("BackgroundFillColor",Ge(v)))}}),Sr(g,"FitWindowType",{get:function(){return g._resetErr(),!!g._isValid()&&(g._isNoViewer()?(g._nouiNotSupport("FitWindowType"),0):g._UIView.GetFitWindowType())},set:function(S){if(g._resetErr(),!g._isValid())return!1;if(g._isNoViewer())return g._nouiNotSupport("FitWindowType");var v=1*S;return g._UIView.SetFitWindowType(v)}}),Sr(g,"IfFitWindow",{get:function(){return g._resetErr(),!!g._isValid()&&(g._isNoViewer()?g._nouiNotSupport("IfFitWindow"):g._UIView.GetIfFitWindow())},set:function(S){return g._resetErr(),!!g._isValid()&&(g._isNoViewer()?g._nouiNotSupport("IfFitWindow"):S?g._UIView.SetIfFitWindow(!0):g._UIView.SetIfFitWindow(!1))}}),Sr(g,"ImageMargin",{get:function(){return g._resetErr(),g._isValid()?g._isNoViewer()?(g._nouiNotSupport("ImageMargin"),0):g._UIView.GetImageMargin():0},set:function(S){if(g._resetErr(),!g._isValid())return!1;if(g._isNoViewer())return g._nouiNotSupport("ImageMargin");var v=parseInt(S);return!isNaN(v)&&g._UIView.SetImageMargin(v)}}),Sr(g,"MouseX",{get:function(){return g._resetErr(),g._isValid()?g._isNoViewer()?(g._nouiNotSupport("MouseX"),0):g.__MouseX:0}}),Sr(g,"MouseY",{get:function(){return g._resetErr(),g._isValid()?g._isNoViewer()?(g._nouiNotSupport("MouseY"),0):g.__MouseY:0}}),Sr(g,"SelectionImageBorderColor",{get:function(){return g._resetErr(),g._isValid()?g._isNoViewer()?(g._nouiNotSupport("SelectionImageBorderColor"),""):g._UIView.GetSelectionImageBorderColor():""},set:function(S){return g._resetErr(),!!g._isValid()&&(g._isNoViewer()?g._nouiNotSupport("SelectionImageBorderColor"):g._UIView.SetSelectionImageBorderColor(S))}}),Sr(g,"Zoom",{get:function(){return g._resetErr(),g._isValid()?g._isNoViewer()?(g._nouiNotSupport("Zoom"),0):g._UIView.GetZoom():0},set:function(S){return g._resetErr(),!!g._isValid()&&(g._isNoViewer()?g._nouiNotSupport("Zoom"):g._UIView.SetZoom(S))}}),Sr(g,"MouseShape",{get:function(){return g._resetErr(),!!g._isValid()&&(g._isNoViewer()?g._nouiNotSupport("MouseShape"):g._UIView.GetMouseShape())},set:function(S){return g._resetErr(),!!g._isValid()&&(g._isNoViewer()?g._nouiNotSupport("MouseShape"):g._UIView.SetMouseShape(S))}}),Sr(g,"SelectionRectAspectRatio",{get:function(){return g._resetErr(),g._isValid()?g._isNoViewer()?(g._nouiNotSupport("SelectionRectAspectRatio"),0):g._UIView.GetSelectionRectAspectRatio():0},set:function(S){if(g._resetErr(),!g._isValid())return!1;if(g._isNoViewer())return g._nouiNotSupport("SelectionRectAspectRatio");var v=parseFloat(S);return v>=0&&(g._UIView.SetSelectionRectAspectRatio(v),!0)}}),Sr(g,"ShowPageNumber",{get:function(){return g._resetErr(),!!g._isValid()&&(g._isNoViewer()?g._nouiNotSupport("ShowPageNumber"):g._UIView.GetShowPageNumber())},set:function(S){return g._resetErr(),!!g._isValid()&&(g._isNoViewer()?g._nouiNotSupport("ShowPageNumber"):g._UIView.SetShowPageNumber(S))}}),Sr(g,"IfAutoScroll",{get:function(){return g._resetErr(),!!g._isValid()&&(g._isNoViewer()?g._nouiNotSupport("IfAutoScroll"):g._UIView.GetIfAutoScroll())},set:function(S){return g._resetErr(),!!g._isValid()&&(g._isNoViewer()?g._nouiNotSupport("IfAutoScroll"):g._UIView.SetIfAutoScroll(S))}}),c._innerInitEvents(p),c}return P(n,t),_(n,[{key:"dispose",value:(d=s(E().mark(function l(){return E().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",this.__unload());case 1:case"end":return c.stop()}},l,this)})),function(){return d.apply(this,arguments)})},{key:"__unload",value:(u=s(E().mark(function l(){var c;return E().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return(c=this)._ImagePrint&&c._ImagePrint.dispose(),p.next=4,x(A(n.prototype),"__unload",this).call(this);case 4:c._ImagePrint=null,c.__OnTopImageInTheViewChanged=null,c.__CloseImageEditorUI=null,c._config=null;case 8:case"end":return p.stop()}},l,this)})),function(){return u.apply(this,arguments)})},{key:"GetImageDataAsync",value:function(l){return this._ImgManager.getImageData(l)}},{key:"SetCustomDataAsync",value:function(l,c){return this._ImgManager.setCustomData(l,c)}},{key:"style",get:function(){return this.__style}},{key:"GetSourceNamesAsync",value:(a=s(E().mark(function l(c){var p;return E().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if((p=this)._resetErr(),p._isValid()){g.next=4;break}throw{code:p._errorCode,message:p._errorString};case 4:return Mn("GetSourceNamesAsync",p),g.prev=5,g.next=8,p._getSourceCountAsync(p._driverType);case 8:g.next=13;break;case 10:throw g.prev=10,g.t0=g.catch(5),g.t0;case 13:return g.prev=13,un("GetSourceNamesAsync"),g.finish(13);case 16:if(!c){g.next=20;break}return g.abrupt("return",Ti(ci,p,r4).call(p));case 20:return g.abrupt("return",Ti(ci,p,n4).call(p));case 21:case"end":return g.stop()}},l,this,[[5,10,13,16]])})),function(l){return a.apply(this,arguments)})},{key:"SelectSourceAsync",value:function(l){var c;return c=bi.dialogText.selectSource,this._selectSourceAsync("SelectSourceAsync",l,c)}},{key:"SelectSourceByIndexAsync",value:function(l){return this._selectSourceByIndexAsync("SelectSourceByIndex",l)}},{key:"OpenSourceAsync",value:function(){return this._openSourceAsync("OpenSourceAsync")}},{key:"CloseSourceAsync",value:function(){return this._closeSourceAsync("CloseSourceAsync")}},{key:"OpenSourceManagerAsync",value:function(){var l=this;return l._resetErr(),l._isValid()?l._innerFunV2("OpenSourceManager"):Q.Promise.reject({code:l._errorCode,message:l._errorString})}},{key:"CloseSourceManagerAsync",value:function(){var l=this;return l._resetErr(),l._isValid()?l._innerFunV2("CloseSourceManager"):Q.Promise.reject({code:l._errorCode,message:l._errorString})}},{key:"AcquireImage",value:function(l,c,p){var g,S=this,v=null,b=null;return S._resetErr(),!!S._isValid()&&(m.isUndefined(p)&&(m.isFunction(l)&&m.isFunction(c)||m.isFunction(l)&&m.isUndefined(c)||m.isFunction(l)&&c==null||l==null&&m.isFunction(c))?(g={},m.isFunction(l)&&(v=l),m.isFunction(c)&&(b=function(T){T&&T.code&&(S._errorCode=T.code,S._errorString=T.message),c(S._errorCode,S._errorString)})):(g=m.isUndefined(l)||l==null?{}:m.clone(l),m.isFunction(c)&&(v=function(){c(g)}),m.isFunction(p)&&(b=function(T){T&&T.code&&(S._errorCode=T.code,S._errorString=T.message),p(g,S._errorCode,S._errorString)})),v||(v=function(){}),b||(b=function(T){T&&T.code&&(S._errorCode=T.code,S._errorString=T.message)}),S.AcquireImageAsync(g).then(v,b),!Fo.isServerInvalid(S))}},{key:"GetDevicesAsync",value:function(l,c,p){return this._getDevicesAsync("GetDevicesAsync",l,c,p)}},{key:"SelectDeviceAsync",value:function(l,c){var p=this;return p._resetErr(),p._isValid()?this._selectDeviceAsync("SelectDeviceAsync",l,c):Q.Promise.reject({code:p._errorCode,message:p._errorString})}},{key:"AcquireImageAsync",value:function(l){return x(A(n.prototype),"_acquireImage",this).call(this,this._curDevice,l)}},{key:"ImageIDToIndex",value:function(l){return this._uidFromServer2index(l)}},{key:"IndexToImageID",value:function(l){return this._index2uidFromServer(l)}},{key:"RemoveImage",value:function(l){return this._removeImage("RemoveImage",l)}},{key:"_innerGetSourceNamesSync",value:function(l){var c=this;return c._getSourceCountSync(),l?Ti(ci,c,r4).call(c):Ti(ci,c,n4).call(c)}},{key:"getCapabilities",value:function(l,c,p){var g,S,v,b=this;return Q.isFunction(l)?(S=l,v=c):(g=l,S=c,v=p),!m.isUndefined(g)&&(!m.isArray(g)||m.isArray(g)&&g.indexOf(null)>=0||m.isString(g)&&g.trim().length==0)?(fr(b),void(m.isFunction(v)&&v(b._errorCode,b._getErrorString()))):this._dwtGetCapabilities(g,S,v)}},{key:"setCapabilities",value:function(l,c,p){return this._dwtSetCapabilities(l,c,p)}},{key:"CancelAllPendingTransfers",value:function(){return this._resetErr(),!!this._isValid()&&this._innerFun("CancelAllPendingTransfers")}},{key:"CloseSource",value:function(){var l=this;if(l._resetErr(),!l._isValid())return!1;var c=l._innerFun("CloseSource");return c&&(l._curDevice=null),c}},{key:"CloseSourceManager",value:function(){var l=this;return l._resetErr(),!!l._isValid()&&l._innerFun("CloseSourceManager")}},{key:"SelectDevice",value:function(l,c){var p,g=this;if(l&&l.deviceType,g._resetErr(),V.DWT.ConnectWithSocket)return Me(g,-2400,"SelectDevice doesn't work under current settings."),!1;var S,v=(p=this._dmService.attrs)===null||p===void 0?void 0:p.UUID;if(v&&((S=l.serviceInfo.attrs)===null||S===void 0?void 0:S.UUID)!=v){var b,T=((b=l.serviceInfo.attrs)===null||b===void 0?void 0:b.url)||l.serviceInfo.server;if(!(T&&T.indexOf(v)>-1))return Ik(g),!1}var D=!1;try{(D=Ti(ci,this,ufe).call(this,l.strDevice,c))&&(this._curDevice=l,this._bSelectedSourceByServer=!1)}catch(M){D=!1,this._errorCode=$t.CommonError,M&&M.message&&(this._errorString=M.message)}return D}},{key:"DisableSource",value:function(){var l=this;return l._resetErr(),!!l._isValid()&&l._innerFun("DisableSource")}},{key:"FeedPage",value:function(){var l=this;return l._resetErr(),!!l._isValid()&&l._innerFun("FeedPage")}},{key:"GetDeviceType",value:function(){var l=this;return l._resetErr(),!!l._isValid()&&l._innerFun("GetDeviceType")}},{key:"GetSourceNameItems",value:function(l){var c=this;return c._resetErr(),!!c._isValid()&&(c.__sourceCount<0&&(c.__sourceCount=0),l<c.__sourceCount&&l>=0?c._getSourceNameByIndex(l):"")}},{key:"SourceNameItems",value:function(l){var c=this;return c._resetErr(),!!c._isValid()&&c.GetSourceNameItems(l)}},{key:"GetSourceNames",value:function(l){return this._innerGetSourceNamesSync(l)}},{key:"getSourceCount",value:function(l){return this._getSourceCountAsync(l)}},{key:"GetSourceCountAsync",value:function(l){return this._getSourceCountAsync(l)}},{key:"GetSourceType",value:function(l){var c=this,p=parseInt(l);if(c._resetErr(),isNaN(p))return fr(c),!1;if(c.__devices==null&&c.GetSourceNames(!1),p>=c.__devices.length||p<0)return tt(c),!1;var g,S,v,b=c.__devices[p];return g=b.deviceType,S=Cr.TWAIN,(v=g&uJ)==yt.TWAINSCANNER||v==yt.WIATWAINSCANNER||(v==yt.TWAINX64SCANNER?S=Cr.TWAIN64:v==yt.ICASCANNER?S=Cr.ICA:v==yt.SANESCANNER?S=Cr.SANE:(v&yt.TWAINX64SCANNER)==yt.TWAINX64SCANNER?(v&yt.TWAINSCANNER)!=yt.TWAINSCANNER&&(v&yt.WIATWAINSCANNER)!=yt.WIATWAINSCANNER||(S=Cr.TWAIN_AND_TWAIN64):(v&yt.ICASCANNER)==yt.ICASCANNER&&((v&yt.TWAINSCANNER)!=yt.TWAINSCANNER&&(v&yt.WIATWAINSCANNER)!=yt.WIATWAINSCANNER||(S=Cr.TWAIN_AND_ICA))),S}},{key:"OpenSource",value:function(){var l=this;return l._resetErr(),!!l._isValid()&&(l._bRemoteMode?(Me(l,-2610,"OpenSource is not supported when Object is created by CreateRemoteScanObjectAsync. Please use OpenSourceAsync instead."),!1):l._innerFun("OpenSource"))}},{key:"OpenSourceManager",value:function(){var l=this;return l._resetErr(),!!l._isValid()&&l._innerFun("OpenSourceManager")}},{key:"ResetImageLayout",value:function(){var l=this;return l._resetErr(),!!l._isValid()&&l._innerFun("ResetImageLayout")}},{key:"RewindPage",value:function(){var l=this;return l._resetErr(),!!l._isValid()&&l._innerFun("RewindPage")}},{key:"SelectSource",value:function(l,c){var p=this,g=!1;if(m.isFunction(l)&&(g=!0),p._resetErr(),!p._isValid())return!!g&&void 0;var S=Cr.TWAIN;if(!g){if(p._bRemoteMode)return Me(p,-2438,"SelectSource cannot be used synchronously when Object is created by CreateRemoteScanObjectAsync. Please use SelectSourceAsync instead."),!1;if(p._driverType==Cr.TWAIN_AND_TWAIN64)return function(Y){Me(Y,-2429,"The method SelectSource() must be invoked asynchronously (i.e. with callback functions) when ImageCaptureDriverType is set to TWAIN_AND_ICA or TWAIN_AND_TWAIN64.")}(p),!1;p._driverType!=Cr.ICA&&p._driverType!=Cr.SANE&&p._driverType!=Cr.TWAIN64||(S=p._driverType);var v=he.bMac,b=he.bLinux,T=jy(S,he.bWin,b,v,he.bAndroid);return p._bSelectedSourceByServer=!0,p._curDevice=null,p._innerFun("SelectSource",Ge(T))}p._driverType!=Cr.ICA&&p._driverType!=Cr.SANE&&p._driverType!=Cr.TWAIN64&&p._driverType!=Cr.TWAIN_AND_TWAIN64||(S=p._driverType);var D=he.bMac,M=he.bLinux,W=jy(S,he.bWin,M,D,he.bAndroid);p.SelectSourceAsync(W).then(function(){m.isFunction(l)&&l()},function(Y){Y&&Y.code&&(p._errorCode=Y.code,p._errorString=Y.message),m.isFunction(c)&&c(p._errorCode,p._getErrorString())})}},{key:"GetSourceTypeAsync",value:function(l){var c=this,p=1*l;return c._resetErr(),c._isValid()?Q.Promise.resolve(c.GetSourceType(p)):Q.Promise.reject({code:c._errorCode,message:c._errorString})}},{key:"SetFileXferInfo",value:function(l,c){var p,g,S=this;return S._resetErr(),!!S._isValid()&&(p=he.bFileSystem?l.replace(/<%/g,"<%25"):l,g=Rt.replaceLocalFilename(p),S._innerFun("SetFileXferInfo",Ge(g,c)))}},{key:"SetImageLayout",value:function(l,c,p,g){var S=this;return S._resetErr(),!!S._isValid()&&S._innerFun("SetImageLayout",Ge(l,c,p,g))}},{key:"CapGet",value:function(){return this._resetErr(),!!this._isValid()&&this._innerFun("CapGet")}},{key:"CapGetCurrent",value:function(){return this._resetErr(),!!this._isValid()&&this._innerFun("CapGetCurrent")}},{key:"CapGetDefault",value:function(){return this._resetErr(),!!this._isValid()&&this._innerFun("CapGetDefault")}},{key:"CapGetFrameBottom",value:function(l){return this._resetErr(),!!this._isValid()&&this._innerFun("CapGetFrameBottom",Ge(l))}},{key:"CapGetFrameLeft",value:function(l){return this._resetErr(),!!this._isValid()&&this._innerFun("CapGetFrameLeft",Ge(l))}},{key:"CapGetFrameRight",value:function(l){return this._resetErr(),!!this._isValid()&&this._innerFun("CapGetFrameRight",Ge(l))}},{key:"CapGetFrameTop",value:function(l){return this._resetErr(),!!this._isValid()&&this._innerFun("CapGetFrameTop",Ge(l))}},{key:"CapGetHelp",value:function(){return this._resetErr(),!!this._isValid()&&this._innerFun("CapGetHelp")}},{key:"CapGetLabel",value:function(){return this._resetErr(),!!this._isValid()&&this._innerFun("CapGetLabel")}},{key:"CapGetLabels",value:function(){return this._resetErr(),!!this._isValid()&&this._innerFun("CapGetLabels")}},{key:"CapIfSupported",value:function(l){return this._resetErr(),!!this._isValid()&&this._innerFun("CapIfSupported",Ge(l))}},{key:"CapReset",value:function(){return this._resetErr(),!!this._isValid()&&this._innerFun("CapReset")}},{key:"CapSet",value:function(){return this._resetErr(),!!this._isValid()&&this._innerFun("CapSet")}},{key:"CapSetFrame",value:function(l,c,p,g,S){return this._resetErr(),!!this._isValid()&&this._innerFun("CapSetFrame",Ge(l,c,p,g,S))}},{key:"GetCapItems",value:function(l){return this._resetErr(),!!this._isValid()&&this._innerFun("GetCapItems",Ge(l))}},{key:"GetCapItemsString",value:function(l){return this._resetErr(),!!this._isValid()&&this._innerFun("GetCapItemsString",Ge(l))}},{key:"SetCapItems",value:function(l,c){return this._resetErr(),!!this._isValid()&&this._innerFun("SetCapItems",Ge(l,c))}},{key:"SetCapItemsString",value:function(l,c){return this._resetErr(),!!this._isValid()&&this._innerFun("SetCapItemsString",Ge(l,c))}},{key:"GenerateURLForUploadData",value:function(l,c,p,g,S){var v=this,b=[];if(c==V.DWT.EnumDWT_ImageType.IT_BMP||c==V.DWT.EnumDWT_ImageType.IT_JPG||c==V.DWT.EnumDWT_ImageType.IT_PNG){if(!m.isArray(l))return fd(v),m.isFunction(g)&&g(v._errorCode,v._getErrorString(),"",l,c),"";if(l.length>1)return Nf(v),m.isFunction(g)&&g(v._errorCode,v._getErrorString(),"",l,c),"";if(!v._checkIndices(l))return g(v._errorCode,v._getErrorString(),"",l,c),!1;var T=v._ImgManager.convertClientIndexToServerId(l[0]);T!=-1&&b.push(T)}else{if(c!=V.DWT.EnumDWT_ImageType.IT_TIF&&c!=V.DWT.EnumDWT_ImageType.IT_PDF)return m.isArray(l)?vo(v):fd(v),m.isFunction(g)&&g(v._errorCode,v._getErrorString(),v.__HTTPPostResponseString,l,c),"";var D,M;if(m.isArray(l)){if(!v._checkIndices(l))return g(v._errorCode,v._getErrorString(),"",l,c),!1;D=l}else{if(l!=-1)return fd(v),m.isFunction(g)&&g(v._errorCode,v._getErrorString(),v.__HTTPPostResponseString,l,c),"";for(D=[],M=0;M<v._ImgManager.count();M++)D.push(M)}m.each(D,function(W){var Y=v._ImgManager.convertClientIndexToServerId(W);Y!=-1&&b.push(Y)})}return m.isFunction(p)&&m.isFunction(g)?(v._asyncGenerateURLForUploadData(b,c,S,p,function(W){g(v._errorCode,v._getErrorString(),v.__HTTPPostResponseString,W,c)}),!0):this._syncGenerateURLForUploadData(b,c,S)}},{key:"_syncGenerateURLForUploadData",value:function(l,c,p){var g,S=this,v=!1,b=Xt.managerVersion.join(""),T=p,D=",";m.isString(T)&&T!=""||(T="",D="");var M=["[",'"dcp","dwasm_'+b,'",',c,',"',l.join(","),'"',D,T,"]"].join("");if((g=this._innerFunRaw("GenerateURLForUploadData",M,!1,!1,!0))&&m.isArray(g.result)&&g.result.length>1){var W=g.result[0],Y=g.result[1];W==1&&(v=["dcp://dwasm_",b,"/file/",Y].join(""))}return m.isArray(l)&&m.each(l,function(ee){S._ImgManager.convertServerIdToClientIndex(ee)}),v==0?(KT(S),""):v}},{key:"_asyncGenerateURLForUploadData",value:function(l,c,p,g,S){var v=this,b=c,T=function(){if(m.isFunction(S)){var te=[];m.isArray(l)&&m.each(l,function(de){var Z=v._ImgManager.convertServerIdToClientIndex(de);Z>-1&&te.push(Z)}),S(te)}return""},D=",";if(b==V.DWT.EnumDWT_ImageType.IT_BMP||b==V.DWT.EnumDWT_ImageType.IT_JPG||b==V.DWT.EnumDWT_ImageType.IT_PNG){if(l.length>1)return Nf(v),T(),""}else if(b!=V.DWT.EnumDWT_ImageType.IT_TIF&&b!=V.DWT.EnumDWT_ImageType.IT_PDF)return vo(v),T(),"";var M=!1,W=Xt.managerVersion.join(""),Y=p;m.isString(Y)&&Y!=""||(Y="",D="");var ee=["[",'"dcp","dwasm_'+W,'",',b,',"',l.join(","),'"',D,Y,"]"].join("");return this._innerFunRaw("GenerateURLForUploadData",ee,!0,!1,!0,function(te){if(te&&m.isArray(te.result)&&te.result.length>0)if(te.result[0]==1&&te.result.length>1){var de=te.result[1];M=["dcp://dwasm_",W,"/file/",de].join("")}else te.exception!==void 0&&te.description!==void 0?(v._errorCode=te.exception,v._errorString=te.description):KT(v);else KT(v);if(M==0)return T(),"";if(m.isFunction(g)){var Z=[];m.isArray(l)&&m.each(l,function(ne){var X=v._ImgManager.convertServerIdToClientIndex(ne);X>-1&&Z.push(X)}),g(M,Z,c)}return M},T)}},{key:"SelectSourceByIndex",value:function(l){var c=this,p=parseInt(l);if(c._resetErr(),isNaN(p))return fr(c),!1;if(c.__devices==null&&c.GetSourceNames(!1),p>=c.__devices.length||p<0)return tt(c),!1;var g=c.__devices[p];return c.SelectDevice(g)}},{key:"EnableSource",value:function(l,c,p){var g=this;return g._resetErr(),!!g._isValid()&&g.AcquireImage(l,c,p)}},{key:"SourceCount",get:function(){return this._getSourceCountSync()}},{key:"CurrentSourceName",get:function(){return this._curDevice?this._curDevice.displayName:""}},{key:"checkStartScanParams",value:function(l,c){var p=this;if(!l)return Me(p,-2381,"scanSetup is invalid."),!1;if(!m.isUndefined(c.transferMode)&&l.transferMode!=0&&l.transferMode!=1&&l.transferMode!=2)return function(g){Me(g,-2382,"Scanner setup error: Invalid Transfer Mode.")}(p),!1;if(l.transferMode==V.DWT.EnumDWT_TransferMode.TWSX_FILE){if(!l.fileXfer)return function(g){Me(g,-2383,"Scanner setup error: fileXfer is invalid.")}(p),!1;if(!m.isString(l.fileXfer.fileName)||l.fileXfer.fileName=="")return function(g){Me(g,-2384,"Scanner setup error: Invalid fileName in fileXfer.")}(p),!1;if(!m.isNumber(l.fileXfer.fileFormat)||l.fileXfer.fileFormat<0||l.fileXfer.fileFormat>16)return function(g){Me(g,-2385,"Scanner setup error: Invalid fileFormat in fileXfer.")}(p),!1}if(c){if(!m.isString(c.type)||c.type=="")return function(g){Me(g,-2387,"Output setup error: Invalid type in outputSetup.")}(p),!1;if(!c.httpParams)return function(g){Me(g,-2386,"Output setup error: Invalid httpParams in outputSetup.")}(p),!1;if(l.transferMode!=V.DWT.EnumDWT_TransferMode.TWSX_FILE&&m.isUndefined(c.format))return function(g){Me(g,-2390,"Output setup error: Invalid format in outputSetup.")}(p),!1;if(!m.isString(c.httpParams.url)||c.httpParams.url=="")return function(g){Me(g,-2388,"Output setup error: Invalid url in outputSetup.httpParams.")}(p),!1;if(!m.isString(c.httpParams.fileName)||c.httpParams.fileName=="")return function(g){Me(g,-2389,"Output setup error: Invalid fileName in outputSetup.httpParams.")}(p),!1}return!0}},{key:"startScan",value:function(l){var c,p=this,g=l;if(p._resetErr(),!p._isValid())return!1;if(p._startScanFlag==1)return Me(c={},-2432,"Operation in progress, please try again when the current operation has finished."),Q.Promise.reject({code:c._errorCode,message:c._errorString});p._startScanFlag=!0,m.isObject(g)||(g={});var S,v,b,T=!1,D=!1,M=!0,W=!0,Y=!0,ee=!1,te=g.onFinally,de=[],Z=[],ne=0,X=1,F=[],B={type:"http",format:V.DWT.EnumDWT_ImageType.IT_PDF,reTries:3,useUploader:!1,singlePost:!0,showProgressBar:!0,removeAfterOutput:!0,httpParams:{url:"",headers:{},formFields:{},remoteName:"RemoteFile",fileName:""}},U=m.clone(g),K=g;if(b=U.funcScanStatus,delete U.funcScanStatus,m.isFunction(b)?U.bfuncScanStatus=!0:U.bfuncScanStatus=!1,U.outputSetup){var J={pdfSetup:{},tiffSetup:{}};i4(U.outputSetup,B),v=U.outputSetup,delete U.outputSetup,v.pdfSetup&&(v.format!=V.DWT.EnumDWT_ImageType.IT_MULTIPAGE_PDF&&v.format!=V.DWT.EnumDWT_ImageType.IT_PDF||m.mix(J.pdfSetup,v.pdfSetup)),v.tiffSetup&&(v.format!=V.DWT.EnumDWT_ImageType.IT_MULTIPAGE_TIF&&v.format!=V.DWT.EnumDWT_ImageType.IT_TIF||m.mix(J.tiffSetup,v.tiffSetup)),v.format!=V.DWT.EnumDWT_ImageType.IT_MULTIPAGE_PDF&&v.format!=V.DWT.EnumDWT_ImageType.IT_MULTIPAGE_TIF||(v.singlePost=!0),v.httpParams&&m.isNumber(v.httpParams.threads)&&(X=v.httpParams.threads),T=m.stringify(J),D=p.checkStartScanParams(U,v)}else(v=B).type="",D=p.checkStartScanParams(U,!1);if(!D)return new Q.Promise(function(ze,sr){M&&(sr({code:p._errorCode,message:p._getErrorString(),response:""}),M=!1,p._startScanFlag=!1)});v.funcHttpUploadStatus&&(ee=v.funcHttpUploadStatus);var re,oe,fe,ae,ue,ye,be=p.__remoteFilename,Te=p.MaxUploadImageSize,je=p.IfShowProgressBar,Ye=p.__OnPostTransferAsync,He=p.__OnPostAllTransfers,_t=p.__OnHttpUploadStatus,ct=p.__insertingIndex,gt=p.__IfAppendImage,$e=p.httpFormFields,qe=p._tiffCompressionType,We=!1,Ke=v.showProgressBar;if(re=function(ze){var sr=!0;m.each(F,function(Ar,ln){Ar.st==-1&&(sr=!1)}),sr?oe(ze):setTimeout(function(){re(ze)},200)},oe=function(ze){ze.__OnPostTransferAsync=Ye,ze.__OnPostAllTransfers=He,ze.__OnHttpUploadStatus=_t,ze.__remoteFilename=be,ze.__maxUploadImageSize=Te,ze.IfShowProgressBar=je,ze.__insertingIndex=ct,ze.__IfAppendImage=gt,ze.httpFormFields=$e,ze._tiffCompressionType=qe,V.FileUploader&&(V.FileUploader.nextLoopTime=600),ze._startScanFlag=!1},fe=function(ze,sr,Ar){W?(sr(Ar),re(ze)):setTimeout(function(){fe(ze,sr,Ar)},200)},ae=function(ze,sr){We=!0,M&&(M=!1,W||p._innerSendCmd("CancelAllPendingTransfers"),fe(p,ze,sr))},ue=function(ze,sr,Ar,ln){if(m.isFunction(ee)){var xn,wr=sr,$r=0;m.isNumber(ln)&&ln>0&&($r=ln),xn={fileName:wr,percentage:Ar,statusCode:$r,responseString:ze.__HTTPPostResponseString},setTimeout(function(){ee(xn)},10)}},p.__HTTPPostResponseString="",p.IfShowProgressBar=Ke,m.isNumber(U.insertingIndex)&&U.insertingIndex>-1&&(p.__insertingIndex=U.insertingIndex,p.__IfAppendImage=!1),m.isFunction(ee)?p.__OnHttpUploadStatus=ee:p.__OnHttpUploadStatus=!1,v.useUploader&&!V.FileUploader)return new Q.Promise(function(ze,sr){Me(p,-2380,"Please make sure the Uploader Module has been installed.");var Ar={code:p._errorCode,message:p._getErrorString(),response:""};W=!0,ae(sr,Ar)});if(S=v.reTries,v.useUploader){if(v.httpParams&&(ye=v.httpParams.url),!m.startsWith(ye,"http://")&&!m.startsWith(ye,"https://")){var zt=window.location.href,Mt=zt.lastIndexOf("/");zt=zt.substring(0,Mt+1),v.httpParams.url=zt+ye}}else v.httpParams&&(m.each(v.httpParams.headers,function(ze,sr){p.SetHTTPHeader(sr,ze)}),m.each(v.httpParams.formFields,function(ze,sr){p.SetHTTPFormField(sr,ze)}));return v.httpParams&&v.httpParams.remoteName!==""&&(p.__remoteFilename=v.httpParams.remoteName),new Q.Promise(function(ze,sr){v.useUploader?V.FileUploader.Init(0,function(Ar){ze({uploadManager:Ar})},function(Ar,ln){p._errorCode=Ar,p._errorString=ln;var xn={code:Ar,message:ln,response:p.__HTTPPostResponseString};W=!0,ae(sr,xn)}):ze({})}).then(function(ze){return new Q.Promise(function(sr,Ar){var ln=function(){(U.transferMode==V.DWT.EnumDWT_TransferMode.TWSX_FILE?ne==Z.length:ne==de.length)?(Q.closeProgress(null,"Scan Upload"),We=!0,sr(K),oe(p)):setTimeout(ln,100)};b&&m.isFunction(b)&&(p.__OnPreAllTransfersAsync=function(wr){b(wr)}),p.registerEvent("OnPostTransferAsync",function(wr){var $r,di,oc,Li,bo,To,Bo=v.httpParams&&v.httpParams.url,$n=p._uidFromServer2ServerId(wr.imageId),Co=v.singlePost,Ai=U.transferMode==V.DWT.EnumDWT_TransferMode.TWSX_FILE,ac=v.removeAfterOutput,Wi=0;if(Y&&(W=!1,Y=!1),Ai?(Wi=Z.length,Z.push(wr.path)):(Wi=de.length,de.push($n)),b&&m.isFunction(b)){var gg={event:"postTransfer",bScanCompleted:!1,result:{currentPageNum:Wi+1}};setTimeout(function(){b(gg)},10)}if(We)return!1;if(v.type=="http")if(v.httpParams&&(di=la(v.httpParams.fileName,Wi+1),oc=la(v.httpParams.remoteName,Wi+1)),Co||v.type!="http")!Co&&v.type;else if(v.httpParams&&m.isNumber(v.httpParams.maxSizeLimit)&&(p.__maxUploadImageSize=v.httpParams.maxSizeLimit),v.useUploader){Ke?(V.FileUploader.nextLoopTime=300,Q.showProgress(p,"Scan Upload",p.__IfShowCancelDialogWhenImageTransfer)):Q.hideProgress(),Li=function(Bn,yr){return p.__HTTPPostResponseString=yr,ue(p,Bn._fileName,100,200),p._OnPercentDone([0,100,"","http",Bn._fileName]),Ke&&Q.closeProgress(null,"Scan Upload"),!Ai&&v.removeAfterOutput?setTimeout(function(){p._ImgManager.convertServerIdToClientIndex($n)>-1?Ti(ci,p,ns).call(p,$n,function(){ne++},function(){ne++}):ne++},100):ne++,!0};var sc,hr=ze.uploadManager;if(bo=function(){if(Ke){var Bn,yr=0;for(yr=Ai?Z.length:de.length,Bn=0;Bn<yr;Bn++)Q.closeProgress(null,"Scan Upload")}!Ai&&v.removeAfterOutput&&setTimeout(function(){p._ImgManager.convertServerIdToClientIndex($n)>-1&&Ti(ci,p,ns).call(p,$n)},100),hr.CancelAllUpload();var is={code:p._errorCode,message:p._getErrorString(),response:p.__HTTPPostResponseString};return ae(Ar,is),!1},To=function(Bn,yr,is,js){var Or=303;yr==Nh.TRANS_SERVICE_ERROR_404?Or=404:yr==Nh.TRANS_SERVICE_ERROR_500?Or=500:yr==Nh.TRANS_SERVICE_ERROR_503&&(Or=503),p._errorCode=yr,p._errorString=is,p.__HTTPPostResponseString=js,ue(p,di,100,Or),bo()},sc=function(){p.__HTTPPostResponseString="",ue(p,di,100,303),bo()},Ai){var $i=hr.CreateJob(),vg=$i.FormField;v.httpParams&&(m.each(v.httpParams.headers,function(Bn,yr){$i.HttpHeader[yr]=Bn}),m.each(v.httpParams.formFields,function(Bn,yr){vg.Add(yr,Bn)})),$i.ServerUrl=Bo,$i.bDeleteFile=ac,$i.reTries=S,v.httpParams&&m.isNumber(v.httpParams.maxSizeLimit)&&($i.maxSizeLimit=v.httpParams.maxSizeLimit),$i._fileName=di,$i.SourceValue.Add(wr.path,di,oc),$i.ImageType=U.fileXfer.fileFormat,$i.ThreadNum=X,$i.OnRunSuccess=Li,$i.OnRunFailure=To,(Ke||m.isFunction(ee))&&($i.OnUploadTransferPercentage=function(Bn,yr){yr>0&&yr<=100&&(p._OnPercentDone([0,yr,"","http",Bn._fileName]),m.isFunction(ee)&&ue(p,Bn._fileName,yr,0))},Q.cancelFrom=or.Scan,Ke&&Ti(ci,p,hx).call(p,bo),p._OnPercentDone([0,-1,tn.Uploading,"http",di]),ue(p,di,0,0)),hr.Run($i)}else($r=v.format)==V.DWT.EnumDWT_ImageType.IT_MULTIPAGE_PDF?$r=V.DWT.EnumDWT_ImageType.IT_PDF:$r==V.DWT.EnumDWT_ImageType.IT_MULTIPAGE_TIF&&($r=V.DWT.EnumDWT_ImageType.IT_TIF),Q.cancelFrom=or.Scan,Ke&&Ti(ci,p,hx).call(p,bo),p._OnPercentDone([0,-1,tn.Encoding,"http",di]),p._asyncGenerateURLForUploadData([$n],$r,T,function(Bn){var yr=hr.CreateJob(),is=yr.FormField;v.httpParams&&(m.each(v.httpParams.headers,function(js,Or){yr.HttpHeader[Or]=js}),m.each(v.httpParams.formFields,function(js,Or){is.Add(Or,js)})),yr.ServerUrl=Bo,yr.bDeleteFile=ac,yr.reTries=S,v.httpParams&&m.isNumber(v.httpParams.maxSizeLimit)&&(yr.maxSizeLimit=v.httpParams.maxSizeLimit),yr._fileName=di,yr.SourceValue.Add(Bn,di,oc),yr.ImageType=$r,yr.ThreadNum=X,yr.OnRunSuccess=Li,yr.OnRunFailure=To,(Ke||m.isFunction(ee))&&(yr.OnUploadTransferPercentage=function(js,Or){Or>0&&Or<=100&&(p._OnPercentDone([0,Or,"","http",js._fileName]),m.isFunction(ee)&&ue(p,js._fileName,Or,0))},p._OnPercentDone([0,-1,tn.Uploading,"http",di]),ue(p,di,0,0)),hr.Run(yr)},sc)}else{var Oa={id:$n,st:-1,bCancel:!1};if(F.push(Oa),Wi==0&&(Ke?Q.showProgress(p,"Scan Upload",p.__IfShowCancelDialogWhenImageTransfer):Q.hideProgress()),Ai)Li=function(Bn){return Oa.st=0,!Ai&&v.removeAfterOutput?setTimeout(function(){p._ImgManager.convertServerIdToClientIndex($n)>-1?Ti(ci,p,ns).call(p,$n,function(){ne++},function(){ne++}):ne++},100):ne++,!0},bo=function(){!Ai&&v.removeAfterOutput&&setTimeout(function(){p._ImgManager.convertServerIdToClientIndex($n)>-1&&Ti(ci,p,ns).call(p,$n)},100);var Bn={code:p._errorCode,message:p._getErrorString(),response:p.__HTTPPostResponseString};return Q.closeProgress(null,"Scan Upload"),Oa.st==2||(Oa.st=1,m.each(F,function(yr,is){yr.st==-1&&(yr.bCancel=!0)}),ae(Ar,Bn)),!1},p._innerUploadDirectly(Bo,wr.path,di,Ke,ac,S,!1,Oa,Li,bo);else{if(Li=function(Bn,yr){return Oa.st=0,!Ai&&v.removeAfterOutput?setTimeout(function(){p._ImgManager.convertServerIdToClientIndex($n)>-1?Ti(ci,p,ns).call(p,$n,function(){ne++},function(){ne++}):ne++},100):ne++,!0},bo=function(Bn){!Ai&&v.removeAfterOutput&&setTimeout(function(){p._ImgManager.convertServerIdToClientIndex($n)>-1&&Ti(ci,p,ns).call(p,$n)},100);var yr={code:p._errorCode,message:p._getErrorString(),response:p.__HTTPPostResponseString};return Q.closeProgress(null,"Scan Upload"),Oa.st==2||(Oa.st=1,m.each(F,function(is,js){is.st==-1&&(is.bCancel=!0)}),ae(Ar,yr)),!1},$r=v.format,m.isUndefined($r)){var f0=p._ImgManager.convertServerIdToClientIndex($n);return vo(p),bo([f0]),!1}$r==V.DWT.EnumDWT_ImageType.IT_MULTIPAGE_PDF?$r=V.DWT.EnumDWT_ImageType.IT_PDF:$r==V.DWT.EnumDWT_ImageType.IT_MULTIPAGE_TIF&&($r=V.DWT.EnumDWT_ImageType.IT_TIF);var h0={method:"startScan",url:Bo,serverIds:[$n],headers:p._GetHttpHeadersAndClear(),formData:rc(p.httpFormFields),enumImageType:$r,saveSetup:T,fileName:di,dataFormat:ex.Binary,retry:S,bOnlyResponseEmptyIsOK:!1,objUploadFileStatus:Oa,asyncSuccessFunc:Li,asyncFailureFunc:bo};p._asyncUploadCmd(h0)}}}),p.__OnPostAllTransfers=function(){var wr,$r,di=-1,oc=ex.Binary,Li=v.httpParams.url,bo=v.singlePost,To=U.transferMode==V.DWT.EnumDWT_TransferMode.TWSX_FILE,Bo=v.removeAfterOutput;if(b&&m.isFunction(b)&&(di=To?Z.length:de.length,$r={event:"postTransfer",bScanCompleted:!0,result:{currentPageNum:di}},setTimeout(function(){b($r)},10)),di==0)return function(Or){Me(Or,-1029,"Source has nothing to capture.")}(p),void setTimeout(function(){W=!0,te&&m.isFunction(te)&&te();var Or={code:p._errorCode,message:p._getErrorString(),response:p.__HTTPPostResponseString};ae(Ar,Or)},1e3);if(di>0&&p._errorCode==-1029)p._errorCode=0;else if(p._errorCode!=0){W=!0,te&&m.isFunction(te)&&te();var $n={code:p._errorCode,message:p._getErrorString(),response:p.__HTTPPostResponseString};return void ae(Ar,$n)}if(v.type=="http"){if(bo&&v.type=="http"){var Co,Ai,ac,Wi=de;if(v.httpParams&&m.isNumber(v.httpParams.maxSizeLimit)&&(p.__maxUploadImageSize=v.httpParams.maxSizeLimit),v.useUploader){var gg,sc=ze.uploadManager,hr=sc.CreateJob(),$i=hr.FormField;if(Ke?(V.FileUploader.nextLoopTime=300,Q.showProgress(p,"Scan Upload",p.__IfShowCancelDialogWhenImageTransfer)):Q.hideProgress(),Co=function(Or,Dr){var ei=Or._fileName;return ei||(ei=""),p._bServerPercentDone=!0,p.__HTTPPostResponseString=Dr,ue(p,ei,100,200),p._OnPercentDone([0,100,"","http"]),Ke&&Q.closeProgress(null,"Scan Upload"),!To&&v.removeAfterOutput?setTimeout(function(){ne=0,m.each(Wi,function(Uo){p._ImgManager.convertServerIdToClientIndex(Uo)>-1?Ti(ci,p,ns).call(p,Uo,function(){ne++},function(){ne++}):ne++}),setTimeout(ln,100)},100):(We=!0,sr(K),oe(p)),!0},Ai=function(){Ke&&Q.closeProgress(null,"Scan Upload"),sc.CancelAllUpload(),p._bServerPercentDone=!0;var Or={code:p._errorCode,message:p._getErrorString(),response:p.__HTTPPostResponseString};return ae(Ar,Or),!To&&v.removeAfterOutput&&setTimeout(function(){m.each(Wi,function(Dr){p._ImgManager.convertServerIdToClientIndex(Dr)>-1&&Ti(ci,p,ns).call(p,Dr)})},100),!1},ac=function(Or,Dr,ei,Uo){var Vo=303;Dr==Nh.TRANS_SERVICE_ERROR_404?Vo=404:Dr==Nh.TRANS_SERVICE_ERROR_500?Vo=500:Dr==Nh.TRANS_SERVICE_ERROR_503&&(Vo=503),p._errorCode=Dr,p._errorString=ei,p.__HTTPPostResponseString=Uo,ue(p,"",100,Vo),Ai()},gg=function(){p.__HTTPPostResponseString="",ue(p,"",100,303),Ai()},Ke&&(Q.cancelFrom=or.Scan,Ti(ci,p,hx).call(p,Ai)),To)v.httpParams&&(m.each(v.httpParams.headers,function(Or,Dr){hr.HttpHeader[Dr]=Or}),m.each(v.httpParams.formFields,function(Or,Dr){$i.Add(Dr,Or)})),hr.ServerUrl=Li,hr.bDeleteFile=Bo,hr.reTries=S,v.httpParams&&m.isNumber(v.httpParams.maxSizeLimit)&&(hr.maxSizeLimit=v.httpParams.maxSizeLimit),m.each(Z,function(Or,Dr){var ei,Uo;v.httpParams&&(ei=la(v.httpParams.fileName,Dr+1),Uo=la(v.httpParams.remoteName,Dr+1)),hr.SourceValue.Add(Or,ei,Uo)}),hr.ImageType=U.fileXfer.fileFormat,hr.ThreadNum=X,hr.OnRunSuccess=Co,hr.OnRunFailure=ac,(Ke||m.isFunction(ee))&&(hr.OnUploadTransferPercentage=function(Or,Dr){Dr>0&&Dr<=100&&(p._OnPercentDone([0,Dr,"","http"]),m.isFunction(ee)&&ue(p,"",Dr,0))},p._OnPercentDone([0,-1,tn.Uploading,"http"]),ue(p,"",0,0)),sc.Run(hr);else if((wr=v.format)==V.DWT.EnumDWT_ImageType.IT_MULTIPAGE_PDF||wr==V.DWT.EnumDWT_ImageType.IT_MULTIPAGE_TIF)wr==V.DWT.EnumDWT_ImageType.IT_MULTIPAGE_PDF?wr=V.DWT.EnumDWT_ImageType.IT_PDF:wr==V.DWT.EnumDWT_ImageType.IT_MULTIPAGE_TIF&&(wr=V.DWT.EnumDWT_ImageType.IT_TIF),p._OnPercentDone([0,-1,tn.Encoding,"http"]),p._asyncGenerateURLForUploadData(Wi,wr,T,function(Or){var Dr,ei;v.httpParams&&(m.each(v.httpParams.headers,function(Uo,Vo){hr.HttpHeader[Vo]=Uo}),m.each(v.httpParams.formFields,function(Uo,Vo){$i.Add(Vo,Uo)})),hr.ServerUrl=Li,hr.bDeleteFile=Bo,hr.reTries=S,v.httpParams&&m.isNumber(v.httpParams.maxSizeLimit)&&(hr.maxSizeLimit=v.httpParams.maxSizeLimit),v.httpParams&&(Dr=la(v.httpParams.fileName,1),ei=la(v.httpParams.remoteName,1)),hr._fileName=Dr,hr.SourceValue.Add(Or,Dr,ei),hr.ImageType=wr,hr.ThreadNum=X,hr.OnRunSuccess=Co,hr.OnRunFailure=ac,(Ke||m.isFunction(ee))&&(hr.OnUploadTransferPercentage=function(Uo,Vo){Vo>0&&Vo<=100&&(p._OnPercentDone([0,Vo,"","http",Dr]),m.isFunction(ee)&&ue(p,Dr,Vo,0))},p._OnPercentDone([0,-1,tn.Uploading,"http",Dr])),sc.Run(hr)},gg);else{var vg=Wi.length,Oa=0,f0=0,h0="";Ke&&(p._bServerPercentDone=!1),p._OnPercentDone([0,-1,tn.Encoding,"http"]),m.each(Wi,function(Or,Dr){var ei,Uo;v.httpParams&&(ei=la(v.httpParams.fileName,Dr+1),Uo=la(v.httpParams.remoteName,Dr+1)),p._asyncGenerateURLForUploadData([Or],wr,T,function(Vo){f0=(Oa+1)/vg*100,h0=[Oa+1,"/",vg].join(""),p._OnPercentDone([0,f0,h0,"http"]),hr.SourceValue.Add(Vo,ei,Uo),++Oa>=vg&&(Ke&&(p._bServerPercentDone=!0),v.httpParams&&(m.each(v.httpParams.headers,function(p0,uc){hr.HttpHeader[uc]=p0}),m.each(v.httpParams.formFields,function(p0,uc){$i.Add(uc,p0)})),hr.ServerUrl=Li,hr.bDeleteFile=Bo,hr.reTries=S,v.httpParams&&m.isNumber(v.httpParams.maxSizeLimit)&&(hr.maxSizeLimit=v.httpParams.maxSizeLimit),hr.ImageType=wr,hr.ThreadNum=X,hr.OnRunSuccess=Co,hr.OnRunFailure=ac,(Ke||m.isFunction(ee))&&(hr.OnUploadTransferPercentage=function(p0,uc){uc>0&&uc<=100&&(p._OnPercentDone([0,uc,"","http"]),m.isFunction(ee)&&ue(p,"",uc,0))},p._OnPercentDone([0,-1,tn.Uploading,"http"])),sc.Run(hr))},gg)})}}else if(To)Co=function(Or){return p._bServerPercentDone=!0,!To&&v.removeAfterOutput?setTimeout(function(){ne=0,m.each(Wi,function(Dr){p._ImgManager.convertServerIdToClientIndex(Dr)>-1?Ti(ci,p,ns).call(p,Dr,function(){ne++},function(){ne++}):ne++}),setTimeout(ln,100)},100):(We=!0,sr(K),oe(p)),!0},Ai=function(Or){p._bServerPercentDone=!0;var Dr={code:p._errorCode,message:p._getErrorString(),response:p.__HTTPPostResponseString};return ae(Ar,Dr),!To&&v.removeAfterOutput&&setTimeout(function(){m.each(Wi,function(ei){p._ImgManager.convertServerIdToClientIndex(ei)>-1&&Ti(ci,p,ns).call(p,ei)})},100),!1},p._innerUploadFilesDirectly(Li,Z,v.httpParams&&v.httpParams.fileName,Ke,Bo,S,!1,Co,Ai);else{Co=function(Or,Dr){return p._bServerPercentDone=!0,!To&&v.removeAfterOutput?setTimeout(function(){ne=0,m.each(Wi,function(ei){p._ImgManager.convertServerIdToClientIndex(ei)>-1?Ti(ci,p,ns).call(p,ei,function(){ne++},function(){ne++}):ne++}),setTimeout(ln,100)},100):(We=!0,sr(K),oe(p)),!0},Ai=function(Or){p._bServerPercentDone=!0;var Dr={code:p._errorCode,message:p._getErrorString(),response:p.__HTTPPostResponseString};return ae(Ar,Dr),!To&&v.removeAfterOutput&&setTimeout(function(){m.each(Wi,function(ei){p._ImgManager.convertServerIdToClientIndex(ei)>-1&&Ti(ci,p,ns).call(p,ei)})},100),!1},wr=v.format;var Bn=p._GetHttpHeadersAndClear(),yr=rc(p.httpFormFields);if(wr==V.DWT.EnumDWT_ImageType.IT_MULTIPAGE_PDF||wr==V.DWT.EnumDWT_ImageType.IT_MULTIPAGE_TIF){var is;wr==V.DWT.EnumDWT_ImageType.IT_MULTIPAGE_PDF?wr=V.DWT.EnumDWT_ImageType.IT_PDF:wr==V.DWT.EnumDWT_ImageType.IT_MULTIPAGE_TIF&&(wr=V.DWT.EnumDWT_ImageType.IT_TIF),v.httpParams&&(is=la(v.httpParams.fileName,1),la(v.httpParams.remoteName,1));var js={method:"startScan",url:Li,headers:Bn,formData:yr,serverIds:Wi,enumImageType:wr,saveSetup:T,fileName:is,dataFormat:oc,retry:S,bOnlyResponseEmptyIsOK:!1,objUploadFileStatus:!1,asyncSuccessFunc:Co,asyncFailureFunc:Ai};p._asyncUploadCmd(js)}else Wi.length>0&&p._asyncUploadFilesCmd(Li,Wi,Bn,yr,wr,v.httpParams&&v.httpParams.fileName,T,Ke,S,!1,Co,Ai)}}bo&&v.type}W=!0,te&&m.isFunction(te)&&te()};var xn=function(){if(v.type!="http")return We=!0,sr(K),void oe(p);v.singlePost?setTimeout(function(){if(!W&&p._startScanFlag)return We=!0,sr(K),void oe(p)},300):setTimeout(ln,100)};Ti(ci,p,lfe).call(p,U,xn,function(wr){if(p._errorCode==-1029&&(U.transferMode==V.DWT.EnumDWT_TransferMode.TWSX_FILE?Z.length>0:de.length>0))return p._errorCode=0,xn();var $r={code:p._errorCode,message:p._getErrorString(),response:p.__HTTPPostResponseString};ae(Ar,$r)})})})}},{key:"_innerInitEvents",value:function(l){this.__OnWSReconnect=l.onWSReconnect||null,this.__OnWSClose=l.onWSClose||null,this.__OnWSMessage=l.onWSMessage||null,this.__OnWSError=l.onWSError||null,this.__OnPercentDone=l.onPercentDone||"",this.__OnPrintMsg=l.onPrintMsg||"",this.__OnResult=l.onResult||"",this.__OnAfterOperate=l.onAfterOperate||"",this.__OnBeforeOperate=l.onBeforeOperate||"",this.__OnOperateStatus=l.onOperateStatus||"",this.__OnBitmapChanged=l.onBitmapChanged||"",this.__OnGetFilePath=l.onGetFilePath||"",this.__OnPreAllTransfers=l.onPreAllTransfers||"",this.__OnPreTransfer=l.onPreTransfer||"",this.__OnPostLoad=l.onPostLoad||"",this.__OnPostTransfer=l.onPostTransfer||"",this.__OnPostAllTransfers=l.onPostAllTransfers||"",this.__OnSourceUIClose=l.onSourceUIClose||"",this.__OnTransferCancelled=l.onTransferCancelled||"",this.__OnTransferError=l.onTransferError||"",this.__OnInternetTransferPercentage=l.onInternetTransferPercentage||"",this.__OnInternetTransferPercentageEx=l.onInternetTransferPercentageEx||"",this.__OnRemoteScanStatusAsync=l.onRemoteScanStatusAsync||""}}],[{key:"create",value:(o=s(E().mark(function l(c){var p;return E().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return p=new n(c),g.next=3,Fo.STwainConnectToServer(p);case 3:return g.abrupt("return",p);case 4:case"end":return g.stop()}},l)})),function(l){return o.apply(this,arguments)})}]);var o,a,u,d}(Jde);function r4(){var t,n=[],o=this.__devices.length;for(t=0;t<o;t++){var a=this.__devices[t],u=a.deviceType,d=cfe(),l=void 0,c=m.clone(a.deviceInfo);NJ(u)?(u==yt.TWAINSCANNER?l="TWAIN":u==yt.WIATWAINSCANNER?l="WIATWAIN":u==yt.TWAINX64SCANNER&&(l="TWAIN64"),d.Manufacturer=c.Manufacturer,d.ProductFamily=c.ProductFamily,d.ProtocolMajor=c.ProtocolMajor,d.ProtocolMinor=c.ProtocolMinor,d.SupportedGroups=c.SupportedGroups,d.Version=c.Version):u==yt.SANESCANNER?(l="SANE",d.DeviceInfo=c):u==yt.ICASCANNER?(l="ICA",d.DeviceInfo=c):u==yt.ESCLSCANNER?(l="eSCL",d.DeviceInfo=c):u==yt.WIFIDIRECTSCANNER?(l="WiFiScanner",d.DeviceInfo=c):u==yt.WIASCANNER&&(l="WIA",d.DeviceInfo=c),d.ProductName=a.displayName,d.DriverType=l,n.push(d)}return n}function n4(){var t,n=this,o=[],a=0;for(n.__devices&&(a=n.__devices.length),t=0;t<a;t++){var u=n.__devices[t];o.push(u.displayName)}return o}function ufe(t,n){var o=["[",t,",",n??fm.SMF_NAME,"]"].join("");return this._innerFun("SelectSourceEx",o)}function lfe(t,n,o){var a,u,d=this,l=null,c=null;if(u=m.isUndefined(t)||t==null?{}:t,d._resetErr(),!d._isValid())return!1;if(m.isFunction(n)&&(l=function(){n(u)}),m.isFunction(o)&&(c=function(b,T){o(b,T,u)}),!It.checkProductKey(d,{Core:!0}))return m.isFunction(c)&&c(d._errorCode,d._errorString),!1;for(var p=0,g=0;g<Wy.length;g++){var S=["__",Wy[g]].join("");m.isFunction(d[S])&&(p|=1<<g)}if(u.EnableEvents=p,u.scanner){var v=u.scanner;m.isString(v)||m.isString(v.strDevice)&&(u.device=v.strDevice,delete u.scanner)}return a=["[",m.stringify(u),"]"].join(""),d.__bAcquireImageNow=!0,d.__innerAcquireOrLoadImageAsync("StartScan",a,!1,!0).then(l,function(b){d._errorCode=b.code,d._errorString=b.message,m.isFunction(c)&&c(b.code,b.message)}),!0}function ns(t,n,o){var a=this;return a._innerFunRaw("RemoveImage",Ge(t),!0,!1,!0,function(){a._OnBitmapChanged(["c1",""+t,3,a._ImgManager.getCurrentImageIndex(),a._ImgManager.count()]),m.isFunction(n)&&n()},o)}function hx(t){var n=this;n.IfShowCancelDialogWhenImageTransfer?(Q.progressContext&&Q.progressContext.on("cancel",function(){Ea(n),t()}),$u(!0)):$u(!1)}function cfe(){return{ProductName:"",DeviceInfo:{},DriverType:"",IsCurrentSource:!1,IsDefaultSource:!1,Manufacturer:"",ProductFamily:"",ProtocolMajor:0,ProtocolMinor:0,SupportedGroups:0,Version:{Country:0,Info:"",Language:0,MajorNum:0,MinorNum:0}}}var Nh={TRANS_SERVICE_ERROR_404:12,TRANS_SERVICE_ERROR_500:13,TRANS_SERVICE_ERROR_503:14},i4=function(t,n){if(!m.isUndefined(t)&&!m.isUndefined(n)&&t!=null&&n!=null){for(var o in n)t.hasOwnProperty(o)?N(t[o])==="object"&&i4(t[o],n[o]):t[o]=n[o];return t}};function dfe(t){return px.apply(this,arguments)}function px(){return px=s(E().mark(function t(n){var o,a,u;return E().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return o=window,V.DWT.UseDefaultViewer||(n.container=null),nJ(n.container)?n.bNoViewer=!1:n.bNoViewer=!0,d.prev=3,d.next=6,t4.create(n);case 6:a=d.sent,d.next=15;break;case 9:throw d.prev=9,d.t0=d.catch(3),(u=d.t0&&d.t0.code)==$t.ResponseDataTypeError||u==$t.HTSTError||u==$t.CORSError||u==$t.CORSErrorFromService||u==$t.SSLCertExpired||u==$t.SSLCertInvalid||(u==$t.MustUpgrade?Ku(!0):u==$t.ModuleNotExists&&hfe(a)),a&&a.dispose(),d.t0;case 15:return d.prev=15,o.DCP_DWT_OnClickCloseInstall&&o.DCP_DWT_OnClickCloseInstall(!1,!0),d.finish(15);case 18:return o4(a),d.abrupt("return",a);case 20:case"end":return d.stop()}},t,null,[[3,9,15,18]])})),px.apply(this,arguments)}function ffe(t,n){if(m.isFunction(V.OnWebTwainNeedUpgradeCallback)){var o,a,u={};if(a=om(),he.bWin)o=Ht.enumWindow;else if(V.navInfo.bEmbed||he.bAndroid||he.bChromeOS||he.bHarmonyOS||he.biPhone||he.biPad)he.bAndroid?o=Ht.enumAndroid:(u.deb=a,o=he.biPhone||he.biPad?Ht.enumiOS:he.bChromeOS?Ht.enumChromeOS:he.bHarmonyOS?Ht.enumHarmonyOS:Ht.enumEmbed);else if(he.bLinux){var d=Yk(),l=qk();a=d,u.deb=d,u.rpm=l,o=Ht.enumLinux}else o=Ht.enumMac;u.default=a;var c=Pe.one(".dynamsoft-dialog-license");c&&c.getEL()&&(c.getEL().style.display="none"),Q.detect.needUpgrade=at,V.OnWebTwainNeedUpgradeCallback(ke.name,u,ke.bHTML5Edition,o,he.bIE,he.bSafari,wn(),Cn.strIEVersion,Q.detect.bPromptJSOrServerOutdated,t,n)}}function o4(t){return a4.apply(this,arguments)}function a4(){return(a4=s(E().mark(function t(n){var o,a,u;return E().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(n&&!n._blts){d.next=2;break}return d.abrupt("return");case 2:if(n.ErrorCode==-2207&&(Q.detect.bPromptJSOrServerOutdated=at,m.isFunction(V.DWT.OnWebTwainNeedUpgradeWebJavascript)&&V.DWT.OnWebTwainNeedUpgradeWebJavascript(n.ErrorString)),!gn.versionInfoFromServer){d.next=7;break}o=gn.versionInfoFromServer,d.next=10;break;case 7:return d.next=9,n._getVersionInfoAsync();case 9:o=d.sent;case 10:if(Q.detect.bNeedUpgradeEvent||hJ(o)){d.next=19;break}if(Q.detect.bNeedUpgradeEvent=at,!m.isFunction(V.DWT.OnWebTwainNeedUpgrade)){d.next=15;break}if(!V.DWT.OnWebTwainNeedUpgrade()){d.next=15;break}return d.abrupt("return");case 15:if(!n._bRemoteMode){d.next=18;break}return m.isFunction(V.OnRemoteWebTwainNeedUpgradeCallback)&&(a=n._serverInfo.port,V.OnRemoteWebTwainNeedUpgradeCallback(ke.name,n._serverInfo.server,a,n._serverInfo.ssl)),d.abrupt("return");case 18:(ke.bHTML5Edition&&n._isBindViewer()||!ke.bHTML5Edition)&&((u=n._containerElement)&&(Pe.one(u).before(Q.install._strNonInstallDIV),m.show(Q.install._divDWTNonInstallContainerID)),Q.install._divDWTemessageContainer!=""&&m.hide(Q.install._divDWTemessageContainer),ffe());case 19:case"end":return d.stop()}},t)}))).apply(this,arguments)}function hfe(t){if(!Q.detect.bNoControlEvent){var n,o=0,a=0;t&&(o=t._width,a=t._height,n=t._containerElement),t&&t._bRemoteMode?t._bNotShowMessage||m.isFunction(V.OnRemoteWebTwainNotFoundCallback)&&V.OnRemoteWebTwainNotFoundCallback(ke.name,t._serverInfo.server,t._serverInfo.port,t._serverInfo.ssl,Cn.bMobile):(YN(n,o,a),Ku(!1)),Q.detect.bNoControlEvent=!0}}var rl=function(t){function n(b){var T;h(this,n),(T=f(this,n,[b]))._bServerPercentDone=!0,T._bScanForProxyRemote=at;var D=Fo.getServerImageUrlPrefix(T);return xh._setBaseUrl(T._imageBufferWrapper,D),T}return P(n,t),_(n,[{key:"getDevices",value:function(b,T,D){return this._getDevices(b,T,D)}},{key:"_connnect",value:(v=s(E().mark(function b(){var T;return E().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return T=this,D.abrupt("return",new Q.Promise(function(M,W){wJ(T._serverInfo.server,T._serverInfo.port,T._serverInfo.ssl,void 0,function(Y,ee,te){T._strRemoteServiceVer=te,M()},W)}));case 2:case"end":return D.stop()}},b,this)})),function(){return v.apply(this,arguments)})},{key:"acquireImage",value:function(b,T){return x(A(n.prototype),"_acquireImage",this).call(this,b,T)}},{key:"_acquireImageForSendTo",value:function(b,T,D,M){return x(A(n.prototype),"_acquireImageForSendTo",this).call(this,b,T,D,M)}},{key:"getCapabilities",value:function(b,T,D){return this._getCapabilities(b,T,D)}},{key:"setCapabilities",value:function(b,T,D){return this._setCapabilities(b,T,D)}},{key:"closeSource",value:function(){return this._closeSource()}},{key:"setBufferMemoryLimit",value:(S=s(E().mark(function b(T){var D,M;return E().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(D=this,m.isNumber(T)&&!isNaN(T)){W.next=4;break}throw Ni(D),{code:D._errorCode,message:D._errorString};case 4:if(D._resetErr(),D._isValid()){W.next=7;break}throw{code:D._errorCode,message:D._errorString};case 7:return W.next=9,D._innerFunV2("BufferMemoryLimit",Ge(T));case 9:return M=W.sent,W.abrupt("return",M);case 11:case"end":return W.stop()}},b,this)})),function(b){return S.apply(this,arguments)})},{key:"setIfAllowLocalCache",value:(g=s(E().mark(function b(T){var D,M;return E().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(D=this,m.isBoolean(T)){W.next=4;break}throw Ni(self),{code:D._errorCode,message:D._errorString};case 4:if(D._resetErr(),D._isValid()){W.next=7;break}throw{code:D._errorCode,message:D._errorString};case 7:return W.next=9,D._innerFunV2("IfAllowLocalCache",Ge(T));case 9:return M=W.sent,W.abrupt("return",M);case 11:case"end":return W.stop()}},b,this)})),function(b){return g.apply(this,arguments)})},{key:"howManyImagesInBuffer",get:function(){return this._imageBufferWrapper.count()}},{key:"currentImageIndexInBuffer",get:function(){return this._imageBufferWrapper.getCurrentImageIndex()},set:function(b){this._imageBufferWrapper.setCurrentImageIndex(b)}},{key:"saveImages",value:(p=s(E().mark(function b(T,D,M,W){var Y;return E().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(Y="saveImages",this._checkIndices(D)){ee.next=3;break}throw{code:this._errorCode,message:this._getErrorString()};case 3:return this._containerElement=W,ee.next=6,this._saveImages(Y,T,D,M);case 6:case"end":return ee.stop()}},b,this)})),function(b,T,D,M){return p.apply(this,arguments)})},{key:"getImages",value:function(b,T,D,M){if(!this._checkIndices(b))throw{code:this._errorCode,message:this._getErrorString()};return this._containerElement=M,this._getImages("getImages",b,T,D)}},{key:"removeImages",value:(c=s(E().mark(function b(T){var D,M,W,Y,ee;return E().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:if(this._checkIndices(T)){te.next=2;break}throw{code:this._errorCode,message:this._getErrorString()};case 2:for(D=T.sort(function(de,Z){return Z-de}),M=[],W=0;W<D.length;W++)Y=D[W],(ee=this._imageBufferWrapper.convertClientIndexToServerId(Y))>0&&M.push(ee);if(M.length!=0){te.next=7;break}return te.abrupt("return");case 7:return te.next=9,this._innerFunV2("RemoveAllImages",Ge(M.join(",")));case 9:if(!te.sent&&this._errorCode!=-1033){te.next=16;break}if(this._imageBufferWrapper.removeImages(D)){te.next=14;break}throw this._imageBufferWrapper.getError();case 14:te.next=17;break;case 16:throw{code:this._errorCode,message:this._errorString};case 17:case"end":return te.stop()}},b,this)})),function(b){return c.apply(this,arguments)})},{key:"updateImage",value:function(b,T,D){var M=this._imageBufferWrapper.getIndexByUid(b),W=this._imageBufferWrapper.convertClientIndexToServerId(M);return x(A(n.prototype),"_updateImage",this).call(this,W,T,D)}},{key:"getSkewAngleFromBinaryAsync",value:function(b,T,D,M){var W=this;if(W._resetErr(),!W._isValid())return Q.Promise.reject({code:W._errorCode,message:W._errorString});var Y=this._imageBufferWrapper.getCustomDataByIndex(b),ee=this._imageBufferWrapper.getMetadataByIndex(b),te=this._imageBufferWrapper.convertClientIndexToServerId(b),de={imageId:te,serverId:te,bufferLen:T.size,imageType:gr.IT_BMP,width:ee.width,height:ee.height,bit:ee.bitDepth,xres:ee.resolutionX,yres:ee.resolutionY,uidFromServer:Y.uidFromServer},Z=m.stringify([m.stringify(de)]);return this._innerSendBlob("GetSkewAngleFromBinary",Z,T,!0,!0,D,M)}},{key:"httpUpload",value:(l=s(E().mark(function b(T,D,M,W,Y,ee,te){var de,Z;return E().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:if((de=this)._resetErr(),de._isValid()){ne.next=4;break}throw{code:de._errorCode,message:de._errorString};case 4:if(!m.isUndefined(T)&&T!==""){ne.next=9;break}throw oo(de),{code:de._errorCode,message:de._errorString};case 9:if(m.isString(T)){ne.next=12;break}throw em(de),{code:de._errorCode,message:de._errorString};case 12:if(de._checkIndices(D)){ne.next=14;break}throw{code:de._errorCode,message:de._errorString};case 14:if((Z=Ll(de,D)).length!=0){ne.next=18;break}throw ir(de),{code:de._errorCode,message:de._errorString};case 18:if(!m.isUndefined(M)){ne.next=21;break}throw vo(de),{code:de._errorCode,message:de._errorString};case 21:if(M!=V.DWT.EnumDWT_ImageType.IT_BMP&&M!=V.DWT.EnumDWT_ImageType.IT_JPG&&M!=V.DWT.EnumDWT_ImageType.IT_PNG){ne.next=27;break}if(!(Z.length>1)){ne.next=25;break}throw Nf(de),{code:de._errorCode,message:de._errorString};case 25:ne.next=33;break;case 27:if(M!=V.DWT.EnumDWT_ImageType.IT_TIF&&M!=V.DWT.EnumDWT_ImageType.IT_PDF){ne.next=31;break}ne.next=33;break;case 31:throw vo(de),{code:de._errorCode,message:de._errorString};case 33:if(!(m.isUndefined(W)||W!=V.DWT.EnumDWT_UploadDataFormat.Binary&&W!=V.DWT.EnumDWT_UploadDataFormat.Base64)){ne.next=36;break}throw gk(de),{code:de._errorCode,message:de._errorString};case 36:return ne.next=38,new Q.Promise(function(X,F){var B,U,K=parseInt(M),J=parseInt(W);ee!=null&&ee.formFields&&(B=new FormData,m.each(ee==null?void 0:ee.formFields,function(re,oe){var fe=re.name,ae=re.value;m.isString(fe)&&(ae instanceof Blob?B.append(fe,ae,re.fileName):B.append(fe,ae))})),ee!=null&&ee.headers&&(U={},m.each(ee==null?void 0:ee.headers,function(re,oe){m.isString(re.name)&&(U[re.name]=re.value)})),de._containerElement=te,n._innerHTTPUpload(de,"httpUpload",T,ee==null?void 0:ee.responseType,U,B,Z,K,J,Y,void 0,0,!1,void 0,function(re){if(m.isFunction(X)){var oe=[];m.isArray(Z)&&m.each(Z,function(fe){var ae=de._imageBufferWrapper.convertServerIdToClientIndex(fe);ae>-1&&oe.push(ae)});try{si(X,re,oe)}catch{}}return re=null,!0},function(re){if(m.isFunction(F))try{F(re)}catch{}return!1})});case 38:return ne.abrupt("return",ne.sent);case 39:case"end":return ne.stop()}},b,this)})),function(b,T,D,M,W,Y,ee){return l.apply(this,arguments)})},{key:"getCustomDataByIndex",value:function(b){return this._imageBufferWrapper.getCustomDataByIndex(b)}},{key:"getIndexByUid",value:function(b){return this._imageBufferWrapper.getIndexByUid(b)}},{key:"getProfile",value:function(b){return x(A(n.prototype),"_getProfile",this).call(this,b)}},{key:"setProfile",value:function(b,T){return x(A(n.prototype),"_setProfile",this).call(this,b,T)}},{key:"imageIDToIndex",value:function(b){return this._uidFromServer2index(b)}},{key:"indexToImageID",value:function(b){return this._index2uidFromServer(b)}},{key:"rotate",value:function(b,T,D,M){var W=this;if(W._resetErr(),!W._isValid())return Q.Promise.reject({code:W._errorCode,message:W._errorString});var Y=parseInt(b);if(isNaN(Y))return ir(W),Q.Promise.reject({code:W._errorCode,message:W._errorString});if(Y<0||Y>=W.howManyImagesInBuffer)return tt(W),Q.Promise.reject({code:W._errorCode,message:W._errorString});var ee=W._imageBufferWrapper.convertClientIndexToServerId(Y);return ee==-1?(tt(W),Q.Promise.reject({code:W._errorCode,message:W._errorString})):W._innerFunV2("RotateEx",Ge(ee,T,D,M),!0).then(function(te){})}},{key:"crop",value:function(b,T){var D=this;if(D._resetErr(),!D._isValid())return Q.Promise.reject({code:D._errorCode,message:D._errorString});var M=parseInt(b);if(isNaN(M))return ir(D),Q.Promise.reject({code:D._errorCode,message:D._errorString});if(M<0||M>=D.howManyImagesInBuffer)return tt(D),Q.Promise.reject({code:D._errorCode,message:D._errorString});var W=D._imageBufferWrapper.convertClientIndexToServerId(M);if(W==-1)return tt(D),Q.Promise.reject({code:D._errorCode,message:D._errorString});var Y=T.x,ee=T.y,te=T.x+T.width,de=T.y+T.height;return D._innerFunV2("Crop",Ge(W,Y,ee,te,de),!0).then(function(Z){})}},{key:"_createHttpUploaderConfig",value:function(){var b=this,T=new sU;return T.IfShowProgressBar=b.IfShowProgressBar,T.IfShowCancelDialogWhenImageTransfer=b.IfShowCancelDialogWhenImageTransfer,T.MaxUploadImageSize=b.MaxUploadImageSize,T.HTTPRequestswithCredentials=b.HTTPRequestswithCredentials,T.onPercent=function(D){b._OnPercentDone(D)},T.onHttpUploadStatus=function(D){},T}},{key:"_OnReady",value:(d=s(E().mark(function b(){var T,D,M;return E().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return Ro((T=this)._serverInfo.server)&&(fu.item("DWT_port",T._serverInfo.port),fu.item("DWT_ssl",T._serverInfo.ssl?"true":"false")),T._bNoMask||Mn("OnReady",T),W.prev=3,W.next=6,x(A(n.prototype),"_OnReady",this).call(this);case 6:return W.next=8,T._innerActiveUI(T._uuidForActiveUI);case 8:return D=W.sent,W.next=11,T._OnActiveUI(D);case 11:(M=T._id)&&!V.DWT.WebTwainIdMap[M]&&(V.DWT.WebTwainIdMap[M]=T),W.next=20;break;case 15:throw W.prev=15,W.t0=W.catch(3),W.t0&&(T._errorCode=W.t0.code,T._errorString=W.t0.message),T.dispose(),W.t0;case 20:return W.prev=20,T._bNoMask||un("OnReady"),W.finish(20);case 23:case"end":return W.stop()}},b,this,[[3,15,20,23]])})),function(){return d.apply(this,arguments)})},{key:"_isBindViewer",value:function(){return this._bBindViewer}},{key:"_isNoViewer",value:function(){return!this._isBindViewer()}},{key:"getServiceInfo",value:function(){return x(A(n.prototype),"getServiceInfo",this).call(this)}},{key:"setViewerInfo",value:function(b){this._bBindViewer=b}},{key:"setViewerControlInfo",value:function(b){this._controlWidth=b.width,this._controlHeight=b.height}}],[{key:"create",value:(u=s(E().mark(function b(T){var D;return E().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return D=new n(T),M.next=3,Fo.STwainConnectToServer(D);case 3:return M.abrupt("return",D);case 4:case"end":return M.stop()}},b)})),function(b){return u.apply(this,arguments)})},{key:"_getBuffer",value:function(b){return xh._getBuffer(b._imageBufferWrapper)}},{key:"_setError",value:function(b,T,D){b._errorCode=T,b._errorString=D}},{key:"createByServiceInfo",value:(a=s(E().mark(function b(T,D,M){var W,Y,ee;return E().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return Y={id:m.guid(),dmService:D,bNoViewer:!0,bNoMask:D==null||(W=D.attrs)===null||W===void 0?void 0:W.bNoMask,bNotShowMessage:!0},(ee=new n(Y))._uuidForActiveUI=T,ee._bLicenseErrorDispose=!1,M&&(ee._containerElement=M),te.next=7,ee._connnect();case 7:return te.next=9,Fo.STwainConnectToServer(ee);case 9:return te.abrupt("return",ee);case 10:case"end":return te.stop()}},b)})),function(b,T,D){return a.apply(this,arguments)})},{key:"checkOnlineByServiceInfo",value:(o=s(E().mark(function b(T){var D,M;return E().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return D={id:m.guid(),dmService:T,bNoViewer:!0,bNoMask:!0,bNotShowMessage:!0},W.prev=1,M=new n(D),W.next=5,M._connnect();case 5:return M._bReady=!0,M._wsClient||(M._wsClient=new nC(null)),M.dispose(),W.abrupt("return",!0);case 11:return W.prev=11,W.t0=W.catch(1),m.warn(W.t0),W.abrupt("return",!1);case 15:case"end":return W.stop()}},b,null,[[1,11]])})),function(b){return o.apply(this,arguments)})},{key:"_isReady",value:function(b){return b._bReady}},{key:"_innerHTTPUpload",value:function(b,T,D,M,W,Y,ee,te,de,Z,ne,X,F,B,U,K){var J=Z,re=D;if(m.isUndefined(te))return vo(b),void(m.isFunction(K)&&K({code:b._errorCode,message:b._errorString}));Q.cancelFrom=or.HTTPUpload;var oe,fe=function(ue,ye,be,Te){Q.needShowTwiceShowDialog=!1,b.IfShowProgressBar&&Q.closeProgress(null,T),m.isFunction(K)&&K({code:ue,message:ye,response:be,httpCode:Te})},ae=b._createHttpUploaderConfig();if(ae.objUploadStatus=B,J=e0(J,te),Q.needShowTwiceShowDialog=!0,b.IfShowProgressBar?(Q.showProgress(b,T,!1),Q.progressContext&&(Q.progressContext._onPercent=function(ue){var ye=0;if(ue){var be,Te;be=ue.loaded,Te=ue.total,(ye=Math.floor(be/Te*100))>100&&(ye=100)}Q.progressBarOnPercentDone(-1,"Transferring...","",ye,"")})):Q.hideProgress(),de==V.DWT.EnumDWT_UploadDataFormat.Binary){if(B&&B.bCancel)return B.st=2,Ea(b),void fe(b._errorCode,b._errorString);ae.onPercent([0,-1,tn.Encoding,"http"]),b._convertToBlobForUpload(te,ee,ne,4,function(ue,ye,be){if(oe=function(He){return Q.needShowTwiceShowDialog=!1,b.IfShowProgressBar&&Q.closeProgress(null,T),m.isFunction(U)&&si(U,He),He=null,!0},B&&B.bCancel)return B.st=2,Ea(b),fe(b._errorCode,b._errorString);if(!ue||ue.size<=0)return Kn(b),fe(b._errorCode,b._errorString);var Te=b.__maxUploadImageSize;if(ue.size>Te&&Te!=-1)return ou(b),fe(b._errorCode,b._errorString);if(b._errorCode!=0)return fe(b._errorCode,b._errorString);V.DWT.IfAddMD5InUploadHeader&&ye&&ye!=""&&(W["dwt-md5"]=ye);var je=new vu,Ye=new rs;Ye.url=re,Ye.method=T,Ye.content=ue,ue=null,Ye.contentType=b._strHttpContentTypeFieldValue,Ye.headers=W,Ye.fileName=J,Ye.httpFormData=Y,Ye.retry=X,Ye.bOnlyResponseEmptyIsOK=F,Ye.responseType=M,ae.objUploadStatus=B,je.httpPostUpload(ae,Ye,oe,fe)},fe)}else de==V.DWT.EnumDWT_UploadDataFormat.Base64&&b._convertToBase64ByServerIdsWithUI(T,ee,te,ne,4,function(ue){var ye,be;if(!ue||ue.getLength()<=0||(oe=function(je){return Q.needShowTwiceShowDialog=!1,b.IfShowProgressBar&&Q.closeProgress(null,T),m.isFunction(U)&&si(U,je),!0},ye=ue.getMD5(),V.DWT.IfAddMD5InUploadHeader&&(W["dwt-md5"]=ye),!(be=ue.getData(0,ue.getLength()))||be==""))return Kn(b),fe(b._errorCode,b._errorString);var Te=new rs;Te.url=re,Te.method=T,Te.content=be,be=null,Te.headers=W,Te.fileName=J,Te.httpFormData=Y,Te.retry=X,Te.bOnlyResponseEmptyIsOK=F,Te.responseType=M,new vu().httpPostUpload(ae,Te,oe,fe)},fe)}}]);var o,a,u,d,l,c,p,g,S,v}(uU),mx=Nr,pfe=function(){return _(function F(B){var U=this;if(h(this,F),this._serverUrl=B,this._defaultDSScanClient=null,this._dsScanClientsMap={},this._serviceInfos=null,this._id=m.guid(),this.onBufferChanged=null,this.onPostTransferAsync=null,this._errorCode=0,this._errorString="",this._bDispose=!1,this._needSetLogLevel=!1,this._logLevel=-1,this._showProgressBar=!0,this._checkServerUrl(),this._id&&!V.DWT.RemoteScanIdMap[this._id]&&(V.DWT.RemoteScanIdMap[this._id]=this),this._uuidForRemoteScanObject="",Q.dlgProgress||Q.initProgress(null),V.DWT.UseDefaultViewer){var K={viewerEvents:{bufferChanged:function(J,re){U.__bufferChanged(U,J,re)},save:function(J,re,oe,fe){return U.__save(J,re,oe,fe)},rotate:function(J,re,oe){return U.__rotate(J,re,oe)},crop:function(J,re,oe,fe,ae){return U.__crop(J,{x:re,y:oe,width:fe,height:ae})}},viewerError:{setError:function(J,re){U._defaultDSScanClient?rl._setError(U._defaultDSScanClient,J,re):J==0&&re==""||(U._errorCode=J,U._errorString=re)}},imageEditorEvents:{deskew:function(J,re){U.__deskew(U,J,re)},removeImage:function(){U.__remove(U)},removeAllImage:function(){U.__removeAll(U)},close:function(){U.__close(U)}},imageEditorUiConfig:{buttons:{visibility:{scan:!1,load:!1}}},beforeImageEditorCreated:function(J){U.__beforeImageEditorCreated(J)}};this._viewer=new V.DWTViewerEx(null,K)}else this._viewer=null},[{key:"Viewer",get:function(){return this._viewer}},{key:"_disposeDSClientByKey",value:(X=s(E().mark(function F(B){var U;return E().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:if(!(U=this._dsScanClientsMap[B])){K.next=10;break}if(U.isDestroy){K.next=9;break}if(!U.__unload){K.next=8;break}return K.next=6,U.__unload();case 6:K.next=9;break;case 8:U.dispose();case 9:delete this._dsScanClientsMap[B];case 10:case"end":return K.stop()}},F,this)})),function(F){return X.apply(this,arguments)})},{key:"_checkServerUrl",value:function(){var F=this._serverUrl;if(F&&m.isString(F)&&m.startsWith(location.href,"https://")&&m.startsWith(F,"http://")){var B={};throw function(K,J,re){Me(K,-2436,'Mixed Content: The page at "'+J+'" was loaded over HTTPS, but requested an insecure resource "'+re+'/ddm/18625/ddm/SearchScanner". This request has been blocked; the content must be served over HTTPS.')}(B,location.href,F),Rr(B)}if(!m.isString(F)||F==""){var U={};throw Me(U,-2545,"The  proxy server URL is invalid."),Rr(U)}}},{key:"getServices",value:(ne=s(E().mark(function F(B){var U,K,J,re,oe,fe,ae,ue,ye,be,Te,je,Ye,He,_t,ct,gt,$e,qe;return E().wrap(function(We){for(;;)switch(We.prev=We.next){case 0:if(!this._bDispose){We.next=4;break}throw ia(U={}),Rr(U);case 4:if(K=this._serverUrl,this._checkServerUrl(),J=new c0(K,!0),Mn("getServices",this.getViewerElement()),We.prev=8,!B&&this._serviceInfos){We.next=68;break}if(re=null,oe=this._serviceInfos,this._serviceInfos=[],fe="",ae="",!Ji()){We.next=30;break}return We.next=16,this._setRemoteUuid();case 16:return We.prev=16,We.next=19,Ry(V.DWT.lgdt(),"");case 19:(ue=We.sent)&&(fe=ue.ar,ae=this._uuidForRemoteScanObject),We.next=28;break;case 23:throw We.prev=23,We.t0=We.catch(16),SC(ye={},We.t0),{code:ye._errorCode,message:ye._errorString};case 28:We.next=31;break;case 30:fe=ke.refProductKey;case 31:return We.next=33,J.getServices(fe,ae,B);case 33:if(!(re=We.sent)){We.next=68;break}Te=[],be=0;case 37:if(!(be<re.length)){We.next=65;break}return He=IC(re[be]),_t=(je=He==null||(Ye=He.attrs)===null||Ye===void 0?void 0:Ye.ty)!==null&&je!==void 0?je:"",We.next=42,rl.checkOnlineByServiceInfo(He);case 42:if(!We.sent){We.next=60;break}if(He.attrs=He.attrs||{},He.attrs.bNoMask=!0,He.attrs.bNotShowMessage=!0,!oe){We.next=57;break}ct=void 0,ct=0;case 50:if(!(ct<oe.length)){We.next=57;break}if(!this.isSameService(He,oe[ct])){We.next=54;break}return oe.splice(ct,1),We.abrupt("break",57);case 54:ct++,We.next=50;break;case 57:this._serviceInfos.push(He),We.next=61;break;case 60:_t+="(x)";case 61:Te.push(_t);case 62:be++,We.next=37;break;case 65:if(m.log("Find Dynamic Web TWAIN Services:"),m.log(Te.join(", ")),oe)for(gt=0;gt<oe.length;gt++)(qe=($e=oe[gt])===null||$e===void 0||($e=$e.attrs)===null||$e===void 0?void 0:$e.UUID)&&this._disposeDSClientByKey(qe);case 68:this._needSetLogLevel&&this._logLevel!=-1&&this.setLogLevel(this._logLevel),We.next=74;break;case 71:throw We.prev=71,We.t1=We.catch(8),We.t1;case 74:We.prev=74,un("getServices");try{J._bInited&&J.dispose()}catch{}return We.finish(74);case 78:return We.abrupt("return",this._serviceInfos);case 79:case"end":return We.stop()}},F,this,[[8,71,74,78],[16,23]])})),function(F){return ne.apply(this,arguments)})},{key:"getDefaultService",value:function(){if(this._bDispose){var F={};throw ia(F),Rr(F)}return this._defaultDSScanClient?this._defaultDSScanClient.getServiceInfo():null}},{key:"setDefaultService",value:(Z=s(E().mark(function F(B){var U,K,J,re;return E().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:if(!this._bDispose){oe.next=4;break}throw ia(U={}),Rr(U);case 4:if(B!==null){oe.next=7;break}return this._defaultDSScanClient=null,oe.abrupt("return");case 7:if(B&&B instanceof wC){oe.next=11;break}throw fr(K={}),{code:K._errorCode,message:K._errorString};case 11:return J=this.getViewerElement(),oe.next=14,this._createDSClientByServiceInfo(B,!0,J._containerElement);case 14:if(!(re=oe.sent)){oe.next=18;break}return oe.next=18,this._innerSetDefault(re);case 18:case"end":return oe.stop()}},F,this)})),function(F){return Z.apply(this,arguments)})},{key:"_innerSetDefault",value:(de=s(E().mark(function F(B){var U,K,J;return E().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:if(!B){re.next=11;break}if(rl._isReady(B)){re.next=5;break}throw J=(U=(K=B.getServiceInfo())===null||K===void 0||(K=K.attrs)===null||K===void 0?void 0:K.name)!==null&&U!==void 0?U:"",hd(B,J),{code:B._getErrorCode(),message:B._getErrorString()};case 5:this._defaultDSScanClient=B,this._defaultDSScanClient.IfShowProgressBar=this._showProgressBar,this.Viewer&&this.Viewer.webViewer&&this.Viewer.webViewer.bindViewUI&&this._defaultDSScanClient.setViewerInfo(this.Viewer.webViewer.bindViewUI),this.__setViewerControlInfo(),this._registEventToDefaultDS(),this._viewer&&this._viewer.webViewer.setBufferService(rl._getBuffer(this._defaultDSScanClient));case 11:case"end":return re.stop()}},F,this)})),function(F){return de.apply(this,arguments)})},{key:"__setViewerControlInfo",value:function(){this.Viewer.webViewer.bindViewUI&&this.Viewer.width&&this.Viewer.width>0&&this.Viewer.height&&this.Viewer.height>0&&this._defaultDSScanClient.setViewerControlInfo({width:this.Viewer.width,height:this.Viewer.height})}},{key:"__beforeImageEditorCreated",value:function(F){var B=V.DWT.CustomizableDisplayInfo;if(!m.isUndefined(B)){if(!m.isUndefined(B.buttons)){var U=B.buttons.titles;m.isUndefined(U)||(m.isUndefined(U.previous)||(F.buttons.titles.previous=U.previous),m.isUndefined(U.next)||(F.buttons.titles.next=U.next),m.isUndefined(U.print)||(F.buttons.titles.print=U.print),m.isUndefined(U.scan)||(F.buttons.titles.scan=U.scan),m.isUndefined(U.load)||(F.buttons.titles.load=U.load),m.isUndefined(U.rotateleft)||(F.buttons.titles.rotateleft=U.rotateleft),m.isUndefined(U.rotate)||(F.buttons.titles.rotate=U.rotate),m.isUndefined(U.rotateright)||(F.buttons.titles.rotateright=U.rotateright),m.isUndefined(U.deskew)||(F.buttons.titles.deskew=U.deskew),m.isUndefined(U.crop)||(F.buttons.titles.crop=U.crop),m.isUndefined(U.cut)||(F.buttons.titles.cut=U.cut),m.isUndefined(U.changeimagesize)||(F.buttons.titles.changeimagesize=U.changeimagesize),m.isUndefined(U.flip)||(F.buttons.titles.flip=U.flip),m.isUndefined(U.mirror)||(F.buttons.titles.mirror=U.mirror),m.isUndefined(U.zoomin)||(F.buttons.titles.zoomin=U.zoomin),m.isUndefined(U.originalsize)||(F.buttons.titles.originalsize=U.originalsize),m.isUndefined(U.zoomout)||(F.buttons.titles.zoomout=U.zoomout),m.isUndefined(U.stretch)||(F.buttons.titles.stretch=U.stretch),m.isUndefined(U.fit)||(F.buttons.titles.fit=U.fit),m.isUndefined(U.fitw)||(F.buttons.titles.fitw=U.fitw),m.isUndefined(U.fith)||(F.buttons.titles.fith=U.fith),m.isUndefined(U.hand)||(F.buttons.titles.hand=U.hand),m.isUndefined(U.rectselect)||(F.buttons.titles.rectselect=U.rectselect),m.isUndefined(U.zoom)||(F.buttons.titles.zoom=U.zoom),m.isUndefined(U.restore)||(F.buttons.titles.restore=U.restore),m.isUndefined(U.save)||(F.buttons.titles.save=U.save),m.isUndefined(U.close)||(F.buttons.titles.close=U.close),m.isUndefined(U.removeall)||(F.buttons.titles.removeall=U.removeall),m.isUndefined(U.removeselected)||(F.buttons.titles.removeselected=U.removeselected));var K=B.buttons.bShowAllButtons;m.isUndefined(K)||(F.buttons.bShowAllButtons=K);var J=B.buttons.visibility;m.isUndefined(J)||(m.isUndefined(J.scan)||(F.buttons.visibility.scan=J.scan),m.isUndefined(J.load)||(F.buttons.visibility.load=J.load),m.isUndefined(J.print)||(F.buttons.visibility.print=J.print),m.isUndefined(J.removeall)||(F.buttons.visibility.removeall=J.removeall),m.isUndefined(J.removeselected)||(F.buttons.visibility.removeselected=J.removeselected),m.isUndefined(J.rotateleft)||(F.buttons.visibility.rotateleft=J.rotateleft),m.isUndefined(J.rotate)||(F.buttons.visibility.rotate=J.rotate),m.isUndefined(J.rotateright)||(F.buttons.visibility.rotateright=J.rotateright),m.isUndefined(J.deskew)||(F.buttons.visibility.deskew=J.deskew),m.isUndefined(J.crop)||(F.buttons.visibility.crop=J.crop),m.isUndefined(J.cut)||(F.buttons.visibility.cut=J.cut),m.isUndefined(J.changeimagesize)||(F.buttons.visibility.changeimagesize=J.changeimagesize),m.isUndefined(J.flip)||(F.buttons.visibility.flip=J.flip),m.isUndefined(J.mirror)||(F.buttons.visibility.mirror=J.mirror),m.isUndefined(J.zoomin)||(F.buttons.visibility.zoomin=J.zoomin),m.isUndefined(J.originalsize)||(F.buttons.visibility.originalsize=J.originalsize),m.isUndefined(J.zoomout)||(F.buttons.visibility.zoomout=J.zoomout),m.isUndefined(J.stretch)||(F.buttons.visibility.stretch=J.stretch),m.isUndefined(J.fit)||(F.buttons.visibility.fit=J.fit),m.isUndefined(J.fitw)||(F.buttons.visibility.fitw=J.fitw),m.isUndefined(J.fith)||(F.buttons.visibility.fith=J.fith),m.isUndefined(J.hand)||(F.buttons.visibility.hand=J.hand),m.isUndefined(J.rectselect)||(F.buttons.visibility.rectselect=J.rectselect),m.isUndefined(J.zoom)||(F.buttons.visibility.zoom=J.zoom))}var re=B.dialogText;m.isUndefined(re)||(m.isUndefined(re.dlgRotateAnyAngle)||(F.dialogText.dlgRotateAnyAngle=re.dlgRotateAnyAngle),m.isUndefined(re.dlgChangeImageSize)||(F.dialogText.dlgChangeImageSize=re.dlgChangeImageSize),m.isUndefined(re.saveChangedImage)||(F.dialogText.saveChangedImage=re.saveChangedImage),m.isUndefined(re.selectSource)||(F.dialogText.selectSource=re.selectSource))}}},{key:"__bufferChanged",value:function(F,B,U){var K,J=F,re=[],oe=-1,fe=[];B.operation&&(B.action=B.operation);for(var ae=0;ae<J.howManyImagesInBuffer;ae++)(K=J._defaultDSScanClient.getCustomDataByIndex(ae))&&K.uidFromServer&&re.push(K.uidFromServer);if(B.imageIds=re,B.curIndex>=0&&(K=J._defaultDSScanClient.getCustomDataByIndex(B.curIndex))&&K.uidFromServer&&(oe=K.uidFromServer),B.currentId=oe,B.afterStatus.selectedUids)for(var ue=0;ue<B.afterStatus.selectedUids.length;ue++){var ye=B.afterStatus.selectedUids[ue];if(ye&&ye!=-1){var be=J._defaultDSScanClient.getIndexByUid(B.afterStatus.selectedUids[ue]);be>=0&&(K=J._defaultDSScanClient.getCustomDataByIndex(be))&&K.serverId&&fe.push(K.uidFromServer)}}B.selectedIds=fe,m.mix(B,{}),delete B.uids,delete B.currentUid,delete B.selectedUids,delete B.afterStatus,delete B.beforeStatus,delete B.operation,delete B.curIndex,delete B.docUid,delete B.docName,J.__fireEvent("onBufferChanged",B)}},{key:"__acquire",value:function(F,B){var U=F;U._stwain.SelectSource(function(){U._stwain.CloseSource(),U._stwain.OpenSource(),U._stwain.IfShowUI=!0,V.DWT.IfConfineMaskWithinTheViewer==1?(V.DWT.IfConfineMaskWithinTheViewer=!1,U._stwain.AcquireImage({},function(){V.DWT.IfConfineMaskWithinTheViewer=!0},function(){})):U._stwain.AcquireImage()},function(){m.log("User did not select a source")})}},{key:"__remove",value:(te=s(E().mark(function F(B){var U,K;return E().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(U=this,!this._defaultDSScanClient){J.next=10;break}if(Qn(this._defaultDSScanClient),!(U.howManyImagesInBuffer<=0||U.currentImageIndexInBuffer<0)){J.next=6;break}return mx.output(U,"No image in Buffer"),J.abrupt("return",!0);case 6:return K=rl._getBuffer(this._defaultDSScanClient),J.next=9,this._defaultDSScanClient.removeImages(K.getSelectedImagesIndices());case 9:return J.abrupt("return",J.sent);case 10:return J.abrupt("return",!1);case 11:case"end":return J.stop()}},F,this)})),function(F){return te.apply(this,arguments)})},{key:"__removeAll",value:(ee=s(E().mark(function F(B){return E().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(!this._defaultDSScanClient){U.next=4;break}return Qn(this._defaultDSScanClient),U.next=4,this._defaultDSScanClient._removeAllImagesAsync("removeAllImages",!0);case 4:return U.abrupt("return",!1);case 5:case"end":return U.stop()}},F,this)})),function(F){return ee.apply(this,arguments)})},{key:"__save",value:(Y=s(E().mark(function F(B,U,K,J){var re,oe,fe;return E().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:if(oe="save",fe=(re=this).__getViewerElementForViewer(re,J),Mn(oe,fe),ae.prev=3,Qn(re._defaultDSScanClient),!(re.howManyImagesInBuffer<=0||re.currentImageIndexInBuffer<0)){ae.next=8;break}return mx.output(re,"No image in Buffer"),ae.abrupt("return");case 8:return ae.next=10,re._defaultDSScanClient.updateImage(B,U,K);case 10:return ae.sent,ae.next=13,re._defaultDSScanClient.__saveToViewerAfterUpdate(B,K);case 13:ae.next=17;break;case 15:ae.prev=15,ae.t0=ae.catch(3);case 17:return ae.prev=17,un(oe),ae.finish(17);case 20:case"end":return ae.stop()}},F,this,[[3,15,17,20]])})),function(F,B,U,K){return Y.apply(this,arguments)})},{key:"__getViewerElementForViewer",value:function(F,B){var U,K=F;if(B)if(K._viewer.webViewer.imageEditor){var J=K._viewer.createImageEditor();U=J.inner.containerElement.className=="dwt-viewer-imageEditor-fullScreen"?{_containerElement:document.body}:{_containerElement:J.inner.containerElement}}else U=K.getViewerElement();else U=K.getViewerElement();return U}},{key:"__close",value:function(F){var B=F;if(m.isFunction(B.__CloseImageEditorUI))try{B.__CloseImageEditorUI()}catch(U){qr(U)}}},{key:"__deskew",value:function(F,B,U){var K=this,J="deskew";if(Qn(K._defaultDSScanClient),K.howManyImagesInBuffer<=0||K.currentImageIndexInBuffer<0)mx.output(K,"No image in Buffer");else{var re=K.__getViewerElementForViewer(K,!0);Mn(J,re),K._defaultDSScanClient.getSkewAngleFromBinaryAsync(K.currentImageIndexInBuffer,B,function(oe){U(oe[0]),un(J)},function(){un(J)})}}},{key:"__rotate",value:(W=s(E().mark(function F(B,U,K){var J;return E().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return Qn(this._defaultDSScanClient),re.next=4,this._makeSureDefaultServiceInfo();case 4:if(this._defaultDSScanClient){re.next=6;break}throw Ff();case 6:return re.next=8,this._defaultDSScanClient.rotate(B,U,K,-1);case 8:return J=re.sent,re.abrupt("return",J);case 10:case"end":return re.stop()}},F,this)})),function(F,B,U){return W.apply(this,arguments)})},{key:"__crop",value:(M=s(E().mark(function F(B,U){var K;return E().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return Qn(this._defaultDSScanClient),J.next=4,this._makeSureDefaultServiceInfo();case 4:if(this._defaultDSScanClient){J.next=6;break}throw Ff();case 6:return J.next=8,this._defaultDSScanClient.crop(B,U);case 8:return K=J.sent,J.abrupt("return",K);case 10:case"end":return J.stop()}},F,this)})),function(F,B){return M.apply(this,arguments)})},{key:"__fireEvent",value:function(F,B){return!m.isFunction(this[F])||this[F](B)}},{key:"getDevices",value:(D=s(E().mark(function F(B){var U,K,J,re,oe,fe,ae,ue,ye,be,Te,je,Ye,He,_t,ct,gt,$e,qe,We,Ke,zt,Mt;return E().wrap(function(ze){for(;;)switch(ze.prev=ze.next){case 0:if(!this._bDispose){ze.next=4;break}throw ia(K={}),Rr(K);case 4:if(J=[],re="getDevices",oe=this.getViewerElement(),fe=!1,ue=B==null?void 0:B.serviceInfo,ye=(U=B==null?void 0:B.deviceType)!==null&&U!==void 0?U:um,Mn(re,oe),ze.prev=6,Te=!1,je=[],this._serviceInfos){ze.next=12;break}return ze.next=12,this.getServices();case 12:if(!ue){ze.next=25;break}return ze.next=15,this._createDSClientByServiceInfo(ue,!0);case 15:if(!(He=ze.sent)){ze.next=21;break}je.push(He),Te=!1,ze.next=23;break;case 21:throw tq(ue==null||(_t=ue.attrs)===null||_t===void 0?void 0:_t.ty);case 23:ze.next=37;break;case 25:if(!this._serviceInfos){ze.next=37;break}Ye=0;case 27:if(!(Ye<this._serviceInfos.length)){ze.next=36;break}return ct=this._serviceInfos[Ye],ze.next=31,this._createDSClientByServiceInfo(ct);case 31:(gt=ze.sent)&&je.push(gt);case 33:Ye++,ze.next=27;break;case 36:Te=!0;case 37:Ye=0;case 38:if(!(Ye<je.length)){ze.next=59;break}return $e=void 0,ze.prev=40,ze.next=43,je[Ye].getDevices(ye,B==null?void 0:B.refresh,fe);case 43:if($e=ze.sent,m.isArray($e)&&$e.length>0)for(ae=0;ae<$e.length;ae++)J.push($e[ae]);ze.next=51;break;case 47:ze.prev=47,ze.t0=ze.catch(40),be=ze.t0;case 51:return ze.prev=51,qe=null,this._defaultDSScanClient&&(qe=(We=this._defaultDSScanClient.getServiceInfo())===null||We===void 0||(We=We.attrs)===null||We===void 0?void 0:We.UUID,this._defaultDSScanClient.isDestroy&&(this._disposeDSClientByKey(qe),this._defaultDSScanClient=null,qe=null)),Te&&(zt=je[Ye].getServiceInfo(),(Mt=zt==null||(Ke=zt.attrs)===null||Ke===void 0?void 0:Ke.UUID)&&Mt!=qe&&this._disposeDSClientByKey(Mt)),ze.finish(51);case 56:Ye++,ze.next=38;break;case 59:ze.next=64;break;case 61:throw ze.prev=61,ze.t1=ze.catch(6),ze.t1;case 64:return ze.prev=64,un(re),be&&V.DWT.lsetException(be.code,be.message),ze.finish(64);case 68:return ze.abrupt("return",J);case 69:case"end":return ze.stop()}},F,this,[[6,61,64,68],[40,47,51,56]])})),function(F){return D.apply(this,arguments)})},{key:"acquireImage",value:(T=s(E().mark(function F(B,U){var K,J,re,oe,fe,ae,ue,ye,be,Te,je,Ye,He,_t;return E().wrap(function(ct){for(;;)switch(ct.prev=ct.next){case 0:if(!(K=this)._bDispose){ct.next=5;break}throw ia(J={}),Rr(J);case 5:if(B&&B instanceof qa){ct.next=9;break}throw fr(re={}),{code:re._errorCode,message:re._errorString};case 9:return fe="acquireImage",ae=K.getViewerElement(),ue=[],Mn(fe,ae),ct.prev=12,m.isUndefined(U)&&(U={}),m.isUndefined(U.IfShowUI)&&(U.IfShowUI=!1),m.isUndefined(U.IfCloseSourceAfterAcquire)&&(U.IfCloseSourceAfterAcquire=!0),ye=B.serviceInfo,ct.next=19,this._createDSClientByServiceInfo(ye,!0);case 19:if(!(oe=ct.sent)){ct.next=47;break}if(K._defaultDSScanClient){ct.next=24;break}return ct.next=24,K._innerSetDefault(oe);case 24:ue.push(oe),oe!=K._defaultDSScanClient&&ue.push(K._defaultDSScanClient),be=0;case 27:if(!(be<ue.length)){ct.next=36;break}if(Te=ue[be],rl._isReady(Te)){ct.next=33;break}throw He=(je=(Ye=Te.getServiceInfo())===null||Ye===void 0||(Ye=Ye.attrs)===null||Ye===void 0?void 0:Ye.name)!==null&&je!==void 0?je:"",hd(Te,He),{code:Te._getErrorCode(),message:Te._getErrorString()};case 33:be++,ct.next=27;break;case 36:if(K.onPostTransferAsync?oe.registerEvent("OnPostTransferAsync",K.onPostTransferAsync):oe.unregisterEvent("OnPostTransferAsync"),this.__setViewerControlInfo(),oe!=K._defaultDSScanClient){ct.next=43;break}return ct.next=41,oe.acquireImage(B,U);case 41:ct.next=45;break;case 43:return ct.next=45,oe._acquireImageForSendTo(fe,B,U,K._defaultDSScanClient);case 45:ct.next=49;break;case 47:throw Tk(ye==null||(_t=ye.attrs)===null||_t===void 0?void 0:_t.name);case 49:ct.next=54;break;case 51:throw ct.prev=51,ct.t0=ct.catch(12),ct.t0;case 54:return ct.prev=54,oe&&oe.__closeRemoteScanUI(!0),un(fe),ct.finish(54);case 58:case"end":return ct.stop()}},F,this,[[12,51,54,58]])})),function(F,B){return T.apply(this,arguments)})},{key:"_waitForDSValid",value:function(F,B){for(var U=0,K=F.length,J=this;U<K;U++)if(!rl._isReady(F[U]))return void setTimeout(function(){J._waitForDSValid(F,B)},gn.RemoteReconnectTimeSpan);m.isFunction(J[B.command])&&J[B.command].apply(J,B.parmas)}},{key:"getCapabilities",value:(b=s(E().mark(function F(B){var U,K,J,re,oe,fe,ae;return E().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:if(!this._bDispose){ue.next=4;break}throw ia(U={}),Rr(U);case 4:if(B&&B instanceof qa){ue.next=8;break}throw fr(K={}),Rr(K);case 8:return re="getCapabilities",oe=[],fe=this.getViewerElement(),Mn(re,fe),ue.prev=10,ae=B.serviceInfo,ue.next=14,this._createDSClientByServiceInfo(ae,!0);case 14:if(J=ue.sent,!(J=this._findDSClientByServiceInfo(ae))){ue.next=20;break}return ue.next=19,J.getCapabilities(B);case 19:oe=ue.sent;case 20:ue.next=25;break;case 22:throw ue.prev=22,ue.t0=ue.catch(10),ue.t0;case 25:return ue.prev=25,J&&J.__closeRemoteScanUI(!0),un(re),ue.finish(25);case 29:return ue.abrupt("return",oe);case 30:case"end":return ue.stop()}},F,this,[[10,22,25,29]])})),function(F){return b.apply(this,arguments)})},{key:"setCapabilities",value:(v=s(E().mark(function F(B,U){var K,J,re,oe,fe,ae;return E().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:if(!this._bDispose){ue.next=4;break}throw ia(K={}),Rr(K);case 4:if(B&&B instanceof qa){ue.next=8;break}throw fr(J={}),Rr(J);case 8:return oe="setCapabilities",fe=this.getViewerElement(),Mn(oe,fe),ue.prev=10,ae=B.serviceInfo,ue.next=14,this._createDSClientByServiceInfo(ae,!0);case 14:if(!(re=ue.sent)){ue.next=18;break}return ue.next=18,re.setCapabilities(B,U);case 18:ue.next=23;break;case 20:throw ue.prev=20,ue.t0=ue.catch(10),ue.t0;case 23:return ue.prev=23,re&&re.__closeRemoteScanUI(!0),un(oe),ue.finish(23);case 27:case"end":return ue.stop()}},F,this,[[10,20,23,27]])})),function(F,B){return v.apply(this,arguments)})},{key:"closeSource",value:(S=s(E().mark(function F(B){var U,K,J,re,oe,fe;return E().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:if(!this._bDispose){ae.next=4;break}throw ia(U={}),Rr(U);case 4:if(B&&B instanceof qa){ae.next=8;break}throw fr(K={}),Rr(K);case 8:return J="closeSource",re=this.getViewerElement(),Mn(J,re),ae.prev=10,oe=B.serviceInfo,fe=this._findDSClientByServiceInfo(oe),ae.next=15,fe.closeSource();case 15:ae.next=20;break;case 17:throw ae.prev=17,ae.t0=ae.catch(10),ae.t0;case 20:return ae.prev=20,un(J),ae.finish(20);case 23:case"end":return ae.stop()}},F,this,[[10,17,20,23]])})),function(F){return S.apply(this,arguments)})},{key:"_putDSClientToMap",value:function(F,B){var U,K=F==null||(U=F.attrs)===null||U===void 0?void 0:U.UUID;K&&(this._dsScanClientsMap[K]=B)}},{key:"_getDSClientFromMap",value:function(F){var B,U=F==null||(B=F.attrs)===null||B===void 0?void 0:B.UUID;return U?this._dsScanClientsMap[U]:null}},{key:"_createDSClientByServiceInfo",value:(g=s(E().mark(function F(B,U,K){var J,re,oe,fe;return E().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:if(this._serviceInfos){ae.next=3;break}return ae.next=3,this.getServices();case 3:if(J=this._findDSClientByServiceInfo(B)){ae.next=20;break}return ae.next=7,this._setRemoteUuid();case 7:return ae.prev=7,ae.next=10,rl.createByServiceInfo(this._uuidForRemoteScanObject,B,K);case 10:(J=ae.sent)&&this._putDSClientToMap(B,J),ae.next=20;break;case 14:if(ae.prev=14,ae.t0=ae.catch(7),ae.t0.code==$t.MustUpgrade&&(oe=B==null||(re=B.attrs)===null||re===void 0?void 0:re.ty)&&(Rf(fe={},oe),ae.t0.message=fe._errorString),!U){ae.next=19;break}throw ae.t0;case 19:m.warn(ae.t0);case 20:return ae.abrupt("return",J);case 21:case"end":return ae.stop()}},F,this,[[7,14]])})),function(F,B,U){return g.apply(this,arguments)})},{key:"_makeSureDefaultServiceInfo",value:(p=s(E().mark(function F(){var B;return E().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(this._serviceInfos){U.next=3;break}return U.next=3,this.getServices();case 3:if(!(this._serviceInfos&&this._serviceInfos.length>0)){U.next=8;break}return B=this._serviceInfos[0],U.next=7,this._createDSClientByServiceInfo(B);case 7:return U.abrupt("return",U.sent);case 8:return U.abrupt("return",null);case 9:case"end":return U.stop()}},F,this)})),function(){return p.apply(this,arguments)})},{key:"httpUpload",value:(c=s(E().mark(function F(B,U,K,J,re,oe){var fe,ae,ue,ye;return E().wrap(function(be){for(;;)switch(be.prev=be.next){case 0:if(!this._bDispose){be.next=4;break}return ia(fe={}),be.abrupt("return",Q.Promise.reject(Rr(fe)));case 4:return ue=this.getViewerElement(),ye=ue._containerElement,be.next=7,this._makeSureDefaultServiceInfo();case 7:if(this._defaultDSScanClient){be.next=9;break}throw Ff();case 9:return be.next=11,this._defaultDSScanClient.httpUpload(B,U,K,J,re,oe,ye);case 11:return ae=be.sent,be.abrupt("return",ae);case 13:case"end":return be.stop()}},F,this)})),function(F,B,U,K,J,re){return c.apply(this,arguments)})},{key:"runCommand",value:function(F){return this._defaultDSScanClient.RunCommandAsync(F)}},{key:"removeImages",value:(l=s(E().mark(function F(B){var U,K,J,re,oe;return E().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:if(!this._bDispose){fe.next=4;break}return ia(U={}),fe.abrupt("return",Q.Promise.reject(Rr(U)));case 4:return K="removeImages",re=this.getViewerElement(),Mn(K,re),fe.prev=6,fe.next=9,this._makeSureDefaultServiceInfo();case 9:if(this._defaultDSScanClient){fe.next=11;break}throw Ff();case 11:if(!this._defaultDSScanClient){fe.next=17;break}return fe.next=14,this._defaultDSScanClient.removeImages(B);case 14:J=fe.sent,fe.next=21;break;case 17:if(this.howManyImagesInBuffer!=0){fe.next=21;break}if(oe={},cU(B,this.howManyImagesInBuffer,oe)){fe.next=21;break}throw{code:oe._errorCode,message:oe._errorString};case 21:fe.next=26;break;case 23:throw fe.prev=23,fe.t0=fe.catch(6),fe.t0;case 26:return fe.prev=26,un(K),fe.finish(26);case 29:return fe.abrupt("return",J);case 30:case"end":return fe.stop()}},F,this,[[6,23,26,29]])})),function(F){return l.apply(this,arguments)})},{key:"saveImages",value:(d=s(E().mark(function F(B,U,K){var J,re,oe,fe;return E().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:if(J={},!this._bDispose){ae.next=4;break}return ia(J),ae.abrupt("return",Q.Promise.reject(Rr(J)));case 4:if(this.howManyImagesInBuffer!=0){ae.next=7;break}return Ii(J),ae.abrupt("return",Q.Promise.reject(Rr(J)));case 7:if(m.isNumber(K)){ae.next=10;break}return fr(J),ae.abrupt("return",Q.Promise.reject(Rr(J)));case 10:if(K!=gr.IT_BMP&&K!=gr.IT_JPG&&K!=gr.IT_PNG){ae.next=16;break}if(!(U.length>1)){ae.next=14;break}return YY(J),ae.abrupt("return",Q.Promise.reject(Rr(J)));case 14:ae.next=27;break;case 16:if(K!=gr.IT_TIF&&K!=gr.IT_PDF){ae.next=20;break}ae.next=27;break;case 20:if(K!=gr.IT_ALL&&K!=gr.IT_MULTIPAGE_PDF&&K!=gr.IT_MULTIPAGE_TIF){ae.next=25;break}return Ak(J),ae.abrupt("return",Q.Promise.reject(Rr(J)));case 25:return vo(J),ae.abrupt("return",Q.Promise.reject(Rr(J)));case 27:return oe=this.getViewerElement(),fe=oe._containerElement,ae.next=30,this._makeSureDefaultServiceInfo();case 30:if(this._defaultDSScanClient){ae.next=32;break}throw Ff();case 32:return ae.next=34,this._defaultDSScanClient.saveImages(B,U,K,fe);case 34:return re=ae.sent,ae.abrupt("return",re);case 36:case"end":return ae.stop()}},F,this)})),function(F,B,U){return d.apply(this,arguments)})},{key:"getImages",value:(u=s(E().mark(function F(B,U,K){var J,re,oe,fe;return E().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:if(J={},!this._bDispose){ae.next=4;break}return ia(J),ae.abrupt("return",Q.Promise.reject(Rr(J)));case 4:if(this.howManyImagesInBuffer!=0){ae.next=7;break}return Ii(J),ae.abrupt("return",Q.Promise.reject(Rr(J)));case 7:if(m.isNumber(U)&&m.isNumber(K)){ae.next=10;break}return fr(J),ae.abrupt("return",Q.Promise.reject(Rr(J)));case 10:return oe=this.getViewerElement(),fe=oe._containerElement,ae.next=13,this._makeSureDefaultServiceInfo();case 13:if(this._defaultDSScanClient){ae.next=15;break}throw Ff();case 15:return ae.next=17,this._defaultDSScanClient.getImages(B,U,K,fe);case 17:return re=ae.sent,ae.abrupt("return",re);case 19:case"end":return ae.stop()}},F,this)})),function(F,B,U){return u.apply(this,arguments)})},{key:"__unload",value:(a=s(E().mark(function F(){var B,U,K,J;return E().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:if(this._viewer&&this._viewer.unbind(),!this._dsScanClientsMap){re.next=12;break}U=this._dsScanClientsMap,K=Object.keys(U),B=0;case 5:if(!(B<K.length)){re.next=12;break}return J=K[B],re.next=9,this._disposeDSClientByKey(J);case 9:B++,re.next=5;break;case 12:this._dsScanClientsMap=null,this._bDispose=!0;case 14:case"end":return re.stop()}},F,this)})),function(){return a.apply(this,arguments)})},{key:"dispose",value:function(){return this.__unload()}},{key:"setLogLevel",value:function(F){var B,U=this._dsScanClientsMap;if(U){var K=Object.keys(U);for(B=0;B<K.length;B++)U[K[B]]._setLogLevel(F);this._needSetLogLevel=!1,this._logLevel=-1}else this._needSetLogLevel=!0,this._logLevel=F;return!0}},{key:"getProfile",value:(o=s(E().mark(function F(B){var U,K,J,re;return E().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:if(U="",B&&B instanceof qa){oe.next=5;break}throw fr(K={}),{code:K._errorCode,message:K._errorString};case 5:return oe.prev=5,J=B.serviceInfo,oe.next=9,this._createDSClientByServiceInfo(J,!0);case 9:if(!(re=oe.sent)){oe.next=14;break}return oe.next=13,re.getProfile(B);case 13:U=oe.sent;case 14:oe.next=19;break;case 16:throw oe.prev=16,oe.t0=oe.catch(5),oe.t0;case 19:return oe.abrupt("return",U);case 20:case"end":return oe.stop()}},F,this,[[5,16]])})),function(F){return o.apply(this,arguments)})},{key:"setProfile",value:(n=s(E().mark(function F(B,U){var K,J,re,oe;return E().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:if(K="",B&&B instanceof qa){fe.next=5;break}throw fr(J={}),{code:J._errorCode,message:J._errorString};case 5:return fe.prev=5,re=B.serviceInfo,fe.next=9,this._createDSClientByServiceInfo(re,!0);case 9:if(!(oe=fe.sent)){fe.next=14;break}return fe.next=13,oe.setProfile(B,U);case 13:K=fe.sent;case 14:fe.next=19;break;case 16:throw fe.prev=16,fe.t0=fe.catch(5),fe.t0;case 19:return fe.abrupt("return",K);case 20:case"end":return fe.stop()}},F,this,[[5,16]])})),function(F,B){return n.apply(this,arguments)})},{key:"imageIDToIndex",value:function(F){return this._defaultDSScanClient?this._defaultDSScanClient.imageIDToIndex(F):0}},{key:"indexToImageID",value:function(F){return this._defaultDSScanClient?this._defaultDSScanClient.indexToImageID(F):""}},{key:"howManyImagesInBuffer",get:function(){return this._defaultDSScanClient?this._defaultDSScanClient.howManyImagesInBuffer:0}},{key:"currentImageIndexInBuffer",get:function(){return this._defaultDSScanClient?this._defaultDSScanClient.currentImageIndexInBuffer:-1},set:function(F){this._defaultDSScanClient&&(this._defaultDSScanClient.currentImageIndexInBuffer=F)}},{key:"showProgressBar",get:function(){return this._defaultDSScanClient?this._defaultDSScanClient.IfShowProgressBar:this._showProgressBar},set:function(F){this._defaultDSScanClient?(this._showProgressBar=F,this._defaultDSScanClient.IfShowProgressBar=F):this._showProgressBar}},{key:"registerEvent",value:function(F,B){if(this._bDispose){var U={};return ia(U),Q.Promise.reject(Rr(U))}if(!m.isFunction(B)){var K={};return Sk(K),Q.Promise.reject(Rr(K))}if(F=="onBufferChanged"||F=="OnBufferChanged")this.onBufferChanged=B;else{if(F!="onPostTransferAsync"&&F!="OnPostTransferAsync"){var J={};return vk(J),Q.Promise.reject(Rr(J))}this.onPostTransferAsync=B}return this._registEventToDefaultDS(),!0}},{key:"unregisterEvent",value:function(F,B){if(this._bDispose){var U={};return ia(U),Q.Promise.reject(Rr(U))}if(F=="onBufferChanged"||F=="OnBufferChanged"){if(this.onBufferChanged=null,this._defaultDSScanClient)return this._defaultDSScanClient.unregisterEvent("OnBufferChanged",B)}else{if(F!="onPostTransferAsync"&&F!="OnPostTransferAsync"){var K={};return vk(K),Q.Promise.reject(Rr(K))}if(this.onPostTransferAsync=null,this._defaultDSScanClient)return this._defaultDSScanClient.unregisterEvent("OnPostTransferAsync",B)}}},{key:"getViewerElement",value:function(){return this.Viewer&&this.Viewer.webViewer&&this.Viewer.webViewer.containerElement?{_containerElement:this.Viewer.webViewer.containerElement}:{_containerElement:document.body}}},{key:"isSameService",value:function(F,B){return!(!F||!B)&&F.server==B.server&&F.attrs.UUID==B.attrs.UUID&&F.attrs.accessmode==B.attrs.accessmode&&F.attrs.name==B.attrs.name&&F.attrs.os==B.attrs.os&&F.attrs.service_type==B.attrs.service_type&&F.attrs.tags==B.attrs.tags&&F.attrs.ty==B.attrs.ty&&F.attrs.type==B.attrs.type&&F.attrs.txtvers==B.attrs.txtvers}},{key:"_findDSClientByServiceInfo",value:function(F){var B,U=this._serviceInfos;if(U)for(B=0;B<U.length;B++){var K=U[B];if(this.isSameService(F,K)){var J=this._getDSClientFromMap(K);if(J){var re;if(rl._isReady(J))return J;J.isDestroy||J.dispose();var oe=K==null||(re=K.attrs)===null||re===void 0?void 0:re.UUID;oe&&delete this._dsScanClientsMap[oe]}break}}return null}},{key:"_setRemoteUuid",value:(t=s(E().mark(function F(){var B;return E().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(!Ji()){U.next=6;break}if(this._uuidForRemoteScanObject){U.next=6;break}return U.next=4,V.DWT.lgcuid(V.DWT.lgdt(),"");case 4:B=U.sent,this._uuidForRemoteScanObject=B;case 6:case"end":return U.stop()}},F,this)})),function(){return t.apply(this,arguments)})},{key:"_registEventToDefaultDS",value:function(){this._defaultDSScanClient&&(this.onBufferChanged&&this._defaultDSScanClient.registerEvent("OnBufferChanged",this.onBufferChanged),this.onPostTransferAsync&&this._defaultDSScanClient.registerEvent("OnPostTransferAsync",this.onPostTransferAsync))}}]);var t,n,o,a,u,d,l,c,p,g,S,v,b,T,D,M,W,Y,ee,te,de,Z,ne,X}(),d0=!1;function gx(t,n){return vx.apply(this,arguments)}function vx(){return vx=s(E().mark(function t(n,o){var a,u;return E().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return o&&In("Checking Product Key format..."),d.next=3,It.preParseProductKey(o);case 3:if((a=V.DWT.licenseException).code==0){d.next=7;break}throw n&&CC(a),{code:a.code,message:a.message};case 7:if(d0){d.next=15;break}if(u=!1,he.bIE&&(u=he.IEVersion<=7),u||!Ji()){d.next=15;break}if(V.DWT.IfLoadResources){d.next=14;break}return d0=!0,d.abrupt("return");case 14:return d.abrupt("return",new Q.Promise(function(l,c){var p=Vu(),g="";!he.bFileSystem&&V.DWT.IfResourcesAddTimestamp&&(g=Q.timestamp),m.addScript([p,"/src/dynamsoft.lts.js",g].join(""),!0,!1,function(S){if(V.LTS&&V.LTS._)return d0=!0,void l();if(S){if(he.bIE)return void c({code:-2822,message:"The WebTwain JavaScript lts.js load failed."});if(S.type=="error")return void c({code:-2822,message:"The WebTwain JavaScript lts.js load failed."})}d0=!0,l()})}));case 15:case"end":return d.stop()}},t)})),vx.apply(this,arguments)}function mfe(t,n,o){return yx.apply(this,arguments)}function yx(){return yx=s(E().mark(function t(n,o,a){var u,d,l,c,p,g,S,v,b,T,D;return E().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:u=V.DWT.Containers,d=0;case 2:if(!(d<u.length)){M.next=53;break}if(!(l=m.clone(u[d])).ContainerId){M.next=8;break}if(!V.DWT.ContainerMap[l.ContainerId]){M.next=8;break}return M.abrupt("continue",50);case 8:if(!l.WebTwainId){M.next=12;break}if(!V.DWT.WebTwainIdMap[l.WebTwainId]){M.next=12;break}return M.abrupt("continue",50);case 12:if(l.Host=n,l.SSLPort=a,l.Port=o,!m.isDOM(l.Container)){M.next=19;break}M.next=26;break;case 19:if(!l.ContainerId){M.next=26;break}if(g=l.ContainerId,m.isString(g)){M.next=23;break}throw JY();case 23:if(l.Container=m.get(g),l.Container){M.next=26;break}throw Dk(g);case 26:if(!KE(l.Container)){M.next=33;break}return S=document.createElement("div"),l.Container.appendChild(S),l.Container=S,v=zE(S),M.next=33,yN(v);case 33:return rJ(b=KN(l)),T=void 0,M.prev=36,M.next=39,t4.create(b);case 39:T=M.sent,M.next=46;break;case 42:throw M.prev=42,M.t0=M.catch(36),T&&T.dispose(),M.t0;case 46:if((p=V.DWT.licenseException).code===0){M.next=49;break}throw{code:p.code,message:p.message};case 49:c=T;case 50:d++,M.next=2;break;case 53:D=window,c&&(D.DCP_DWT_OnClickCloseInstall&&D.DCP_DWT_OnClickCloseInstall(!1,!0),o4(c),lU(c)),setTimeout(function(){try{var W=0,Y=V.DWT.ContainerMap;if(Y&&(W=Object.keys(Y).length),W==0&&(Y=V.DWT.WebTwainIdMap)&&(W=Object.keys(Y).length),W==0)return;m.isFunction(V.DWT.OnWebTwainReady)?V.DWT.OnWebTwainReady():m.isFunction(D.Dynamsoft_OnReady)&&D.Dynamsoft_OnReady()}catch(ee){qr(ee)}},10);case 56:case"end":return M.stop()}},t,null,[[36,42]])})),yx.apply(this,arguments)}function s4(){return _x.apply(this,arguments)}function _x(){return _x=s(E().mark(function t(){var n,o,a,u,d,l,c,p,g,S,v,b,T;return E().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(Q.page.bUnload=Oe,ke.bHTML5Edition){D.next=3;break}return D.abrupt("return",V.DWT._innerLoad());case 3:return D.next=5,gx(!0,!0);case 5:if((n=V.DWT.Containers)&&n.length!==0){D.next=10;break}throw xk(o={}),{code:o._errorCode,message:o._errorString};case 10:d=!1,l=[],c=[],a=0;case 12:if(!(a<n.length)){D.next=37;break}if(!(u=n[a])){D.next=32;break}if(m.isObject(u)){D.next=18;break}return d=!0,D.abrupt("break",37);case 18:if(!m.isString(u.WebTwainId)||u.WebTwainId==""){D.next=24;break}if(!SN(l,u.WebTwainId)){D.next=23;break}throw Pk(o={}),{code:o._errorCode,message:o._errorString};case 23:l.push(u.WebTwainId);case 24:if(!m.isString(u.ContainerId)||u.ContainerId==""){D.next=30;break}if(!SN(c,u.ContainerId)){D.next=29;break}throw Rk(o={}),{code:o._errorCode,message:o._errorString};case 29:c.push(u.ContainerId);case 30:D.next=34;break;case 32:return d=!0,D.abrupt("break",37);case 34:a++,D.next=12;break;case 37:if(!d){D.next=41;break}throw qY(p={}),{code:p._errorCode,message:p._errorString};case 41:return g={host:qi(),port:V.DWT.Port,sslPort:V.DWT.SSLPort,bFromLoadInit:!0},D.next=44,ZN(g);case 44:if(!V.DWT.IfCheckDCP){D.next=68;break}return S=wn(),v=S?g.sslPort:g.port,D.next=49,RC(g.host,g.port,g.sslPort);case 49:if(!(b=D.sent)){D.next=56;break}g.port=b.port,g.sslPort=b.sslPort,v=S?g.sslPort:g.port,D.next=59;break;case 56:throw ko(T={}),Rr(T);case 59:if(!V.dcp.bEnhancedMode){D.next=68;break}return D.prev=60,S=wn(),D.next=64,ju.closeWsClient(g.host,v,S);case 64:D.next=68;break;case 66:D.prev=66,D.t0=D.catch(60);case 68:return In("Creating WebTwain from Dynamsoft.DWT.Containers..."),D.next=71,mfe(g.host,g.port,g.sslPort);case 71:case"end":return D.stop()}},t,null,[[60,66]])})),_x.apply(this,arguments)}var gfe=new(function(){return _(function t(){h(this,t)},[{key:"InvalidValue",value:function(t){Ni(t)}},{key:"ParameterCannotEmpty",value:function(t){oo(t)}},{key:"ParameterNotDWTObject",value:function(t){Me(t,-2908,"The parameter is not a Dynamic Web TWAIN object.")}},{key:"Webcam_InvalidIndex",value:function(t,n){Me(t,-2315,"The index is out of range.")}},{key:"Webcam_InvalidRemoteFilename",value:function(t){Me(t,-2316,"The RemoteFile field is empty in the Webcam Download Function.")}},{key:"InvalidDestination",value:function(t){Me(t,-2318,"Invalid destination file.")}},{key:"InvalidSourceFile",value:function(t){Me(t,-2319,"Invalid source file.")}},{key:"InvalidFile",value:function(t){dd(t)}},{key:"OCR_InvalidIndex",value:function(t,n){Me(t,-2321,"The index is out of range.")}},{key:"OCR_InvalidLeftOrTopOrRightOrBottom",value:function(t){Me(t,-2322,"The left or top or right or bottom you entered is invalid.")}},{key:"OCR_InvalidOutputFormat",value:function(t){Me(t,-2323,"The OCR output format is not supported.")}},{key:"OCR_InvalidPageSetMode",value:function(t){Me(t,-2324,"The OCR page set mode is not supported.")}},{key:"IndexOutOfRange",value:function(t){tt(t)}},{key:"IndicesNotArray",value:function(t){fd(t)}},{key:"InvalidParameter",value:function(t){fr(t)}},{key:"IndicesCannotEmpty",value:function(t){mk(t)}},{key:"IndexNullOrUndefined",value:function(t){zT(t)}},{key:"InvalidIndex",value:function(t){ir(t)}},{key:"IndicesOutOfRange",value:function(t){HT(t)}},{key:"OCR_InvalidRemoteFilename",value:function(t){Me(t,-2379,"The RemoteFile field is empty in the OCR Download Function.")}},{key:"ImageEditorOpenCannotPlayVideo",value:function(t){Me(t,-2437,"The video can not be played while the Image Editor is open.")}},{key:"EventNotExist",value:function(t){Me(t,-2509,"The specified event doesn't exist.")}},{key:"CallbackNotAFunction",value:function(t){Sk(t)}},{key:"WasmNotLoaded",value:function(t){Me(t,-2537,"The wasm not loaded.")}},{key:"WasmNotLoaded_UseWasmFalse",value:function(t){Me(t,-2538,"The wasm not loaded when Dynamsoft.DWT.UseCameraAddonWasm is set to false.")}},{key:"CannotDoWhenNoViewerJS",value:function(t){_y(t)}},{key:"LicenseNoDbr",value:function(t){Me(t,-2611,"The license for the Barcode module is invalid."),vn(t)}},{key:"OCR_InvalidSupportedPlatforms",value:function(t){Me(t,-2701,"The OCR Kit feature is only supported on x64 versions of Windows.")}},{key:"OCRKit_InvalidFilename",value:function(t){Me(t,-2702,"Invalid filename.")}}])}());if(ke.bHTML5Edition){var vfe=function(){var t=s(E().mark(function n(o){var a,u,d,l,c,p,g,S,v,b,T,D,M,W;return E().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return OU(),Y.next=3,gx(!0,!1);case 3:if(V.DWT.UseDefaultViewer||(o.Container=null),!KE(o.Container)){Y.next=11;break}return u=document.createElement("div"),o.Container.appendChild(u),o.Container=u,d=zE(u),Y.next=11,yN(d);case 11:return(a=KN(o)).bFromLoadInit=!1,Y.next=15,kh();case 15:if(!V.DWT.UseDefaultViewer){Y.next=23;break}if(g=a.id,S=(l=a.container)===null||l===void 0?void 0:l.id,!(c=V.DWT.GetWebTwain(g))&&S&&(p=V.DWT.GetWebTwain(S)),!c&&!p){Y.next=23;break}throw v={},c?Pk(v):Rk(v),{code:v._errorCode,message:v._errorString};case 23:b=3,T=0;case 25:if(!(T<b)){Y.next=42;break}return Y.prev=26,Y.next=29,ZN(a);case 29:return Y.abrupt("break",42);case 32:if(Y.prev=32,Y.t0=Y.catch(26),!(T<b-1&&Y.t0.code==$t.DWTPortNotReady)){Y.next=38;break}return Y.next=37,new Q.Promise(function(ee,te){setTimeout(function(){ee()},300)});case 37:return Y.abrupt("continue",39);case 38:throw Y.t0;case 39:T++,Y.next=25;break;case 42:if(!V.DWT.IfCheckDCP){Y.next=54;break}return Y.next=45,RC(a.host,a.port,a.sslPort);case 45:if(!(D=Y.sent)){Y.next=51;break}a.port=D.port,a.sslPort=D.sslPort,Y.next=54;break;case 51:throw ko(M={}),Rr(M);case 54:return In("Creating a WebTwain instance..."),Y.next=57,dfe(a);case 57:return W=Y.sent,Y.abrupt("return",W);case 59:case"end":return Y.stop()}},n,null,[[26,32]])}));return function(n){return t.apply(this,arguments)}}(),yfe=window;V.DWT.OnBeforeUnload=function(t){},yfe.addEventListener("beforeunload",function(t){if(Q.isFunction(V.DWT.OnBeforeUnload))return V.DWT.OnBeforeUnload(t)}),V.DWT.Unload=s(E().mark(function t(){var n;return E().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!ke.bDWTLoading&&!ke.bDWTUnloading){o.next=2;break}return o.abrupt("return");case 2:return ke.bDWTUnloading=!0,o.prev=3,o.next=6,pg(!1,!0);case 6:o.next=11;break;case 8:o.prev=8,o.t0=o.catch(3),n=o.t0;case 11:try{ic(),V.DWT.CloseDialog(),Q._zdgb_xkz_dhk(),Q.unloadProgress(),Q.hideMask(),V.DWT.lts_unload()}catch{}if(ke.bDWTLoading=!1,ke.bDWTUnloading=!1,ke.loadingResourcePath=!1,!n){o.next=17;break}throw n;case 17:case"end":return o.stop()}},t,null,[[3,8]])})),V.DWT.Load=s(E().mark(function t(){var n,o;return E().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!ke.bDWTLoading){a.next=2;break}return a.abrupt("return");case 2:if(!ke.bDWTUnloading){a.next=5;break}return setTimeout(V.DWT.Load,500),a.abrupt("return");case 5:return ke.bDWTLoading=!0,mg(),a.prev=7,a.prev=8,a.next=11,a0();case 11:return a.next=13,kh();case 13:a.next=19;break;case 15:throw a.prev=15,a.t0=a.catch(8),ky(a.t0),a.t0;case 19:return a.prev=19,V.Lib.closeProgress(),a.next=23,pg(!0,!0);case 23:a.next=29;break;case 25:return a.prev=25,a.t1=a.catch(19),a.next=29,pg();case 29:a.prev=29,V.DWT.CloseDialog(),n=3,o=0;case 33:if(!(o<n)){a.next=50;break}return a.prev=34,a.next=37,s4();case 37:return a.abrupt("break",50);case 40:if(a.prev=40,a.t2=a.catch(34),!(o<n-1&&a.t2.code==$t.DWTPortNotReady)){a.next=46;break}return a.next=45,new Q.Promise(function(u,d){setTimeout(function(){u()},300)});case 45:return a.abrupt("continue",47);case 46:throw a.t2;case 47:o++,a.next=33;break;case 50:a.next=64;break;case 52:return a.prev=52,a.t3=a.catch(29),Ny(a.t3.code)||Q.detect.bOK||lu.pushToDo(null,V.DWT.Load),ky(a.t3),a.prev=57,a.next=60,pg();case 60:a.next=64;break;case 62:a.prev=62,a.t4=a.catch(57);case 64:return a.prev=64,ke.bDWTLoading=!1,ic(),a.finish(64);case 68:case"end":return a.stop()}},t,null,[[7,,64,68],[8,15],[19,25],[29,52],[34,40],[57,62]])})),V.DWT.CheckConnectToTheService=eO,ke.loadqueue=lu,V.DWT.ConnectToTheService=function(){lu.start()},V.DWT.CreateDWTObject=function(t,n,o,a,u,d){var l,c=u,p=d;m.isFunction(n)&&m.isFunction(o)?(c=n,p=o,l={}):l={Host:n,Port:o,SSLPort:a};var g,S=t;if(m.isString(S)&&!(S=m.get(S)))return function(T){Me(T,-2813,xY)}(g={}),p&&p({code:g._errorCode,message:g._errorString}),Oe;if(m.isDOM(S))l.Container=S;else{if(!m.isString(t)){var v={code:-2806,message:'Error: The argument passed to the parameter "conatinerId" is not a string.'};return m.isFunction(p)&&p(v),Oe}if(!m.get(t)){var b=Dk(t);return m.isFunction(p)&&p(b),Oe}}return l.WebTwainId=CN(),V.DWT.CreateDWTObjectEx(l,c,p)},V.DWT.CreateDWTObjectEx=function(t,n,o){lu.pushToDo(V.DWT,"_QueuedCreateDWTObject",[t,n,o]),lu.start()},V.DWT._QueuedCreateDWTObject=function(t,n,o){var a=arguments,u=!!t.bLoadingDialogOpened;return ke.loadResourcePath?m.isString(t.WebTwainId)?(u||mg(),delete t.bLoadingDialogOpened,vfe(t).then(function(d){ic(),lU(d),m.isFunction(n)&&n(d)},function(d){if(ic(),!Q.detect.bOK){var l=d&&d.code,c=V.DWT.licenseException;(l&&!Ny(l)||c.code==0)&&(lu.stop(),setTimeout(function(){lu.pushToDo(V.DWT,"_QueuedCreateDWTObject",a)},100))}m.isFunction(o)&&o(d)}),!0):(u&&ic(),o&&o({code:-2805,message:'Error: The "WebTwainId" is not a string.'}),Oe):(u||(mg(),t.bLoadingDialogOpened=!0),void a0().then(kh).then(function(){setTimeout(function(){V.DWT._QueuedCreateDWTObject(t,n,o)},100)},function(d){ic(),o(d)}))},V.DWT.CreateRemoteScanObjectAsync=function(){var t=s(E().mark(function n(o){var a,u;return E().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(a=null,o){d.next=5;break}throw fr(u={}),{code:u._errorCode,message:u._errorString};case 5:return ke.bDWTLoading=!0,mg(),d.prev=7,d.next=10,kh(!0);case 10:return d.next=12,gx(!1,!1);case 12:a=new pfe(o),Object.preventExtensions(a);case 14:return d.prev=14,ke.bDWTLoading=!1,ic(),d.finish(14);case 18:return d.abrupt("return",a);case 19:case"end":return d.stop()}},n,null,[[7,,14,18]])}));return function(n){return t.apply(this,arguments)}}(),V.DWT.DeleteDWTObject=function(t){var n,o=t;return ke.bHTML5Edition&&o?!!(n=m.isString(o)?V.DWT.GetWebTwain(o):o)&&(n.dispose(),!0):Oe}}function pg(t,n){return Sx.apply(this,arguments)}function Sx(){return Sx=s(E().mark(function t(n,o){var a,u,d,l,c,p,g;return E().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(n&&In("Unload..."),!o){S.next=4;break}return S.next=4,V.DWT.lunload();case 4:if(Q.dlgProgress=!1,Q.detect.bOK=!1,Q.detect.bFirst=!0,!(l=V.DWT.WebTwainIdMap)){S.next=32;break}c=Object.keys(l),a=0;case 11:if(!(a<c.length)){S.next=32;break}if(!(d=c[a])||!(d in l)){S.next=29;break}if(!(u=l[d])){S.next=29;break}if(S.prev=16,!u.__unload){S.next=22;break}return S.next=20,u.__unload();case 20:S.next=24;break;case 22:return S.next=24,u.dispose();case 24:S.next=29;break;case 26:S.prev=26,S.t0=S.catch(16),p=S.t0;case 29:a++,S.next=11;break;case 32:if(!(l=V.DWT.ContainerMap)){S.next=57;break}c=Object.keys(l),a=0;case 36:if(!(a<c.length)){S.next=57;break}if(!(d=c[a])||!(d in l)){S.next=54;break}if(!(u=l[d])){S.next=54;break}if(S.prev=41,!u.__unload){S.next=47;break}return S.next=45,u.__unload();case 45:S.next=49;break;case 47:return S.next=49,u.dispose();case 49:S.next=54;break;case 51:S.prev=51,S.t1=S.catch(41),p=S.t1;case 54:a++,S.next=36;break;case 57:if(!(l=V.DWT.RemoteScanIdMap)){S.next=82;break}c=Object.keys(l),a=0;case 61:if(!(a<c.length)){S.next=82;break}if(!(d=c[a])||!(d in l)){S.next=79;break}if(!(u=l[d])){S.next=79;break}if(S.prev=66,!u.__unload){S.next=72;break}return S.next=70,u.__unload();case 70:S.next=74;break;case 72:return S.next=74,u.dispose();case 74:S.next=79;break;case 76:S.prev=76,S.t2=S.catch(66),p=S.t2;case 79:a++,S.next=61;break;case 82:for(a=0;a<ke.unloadQueue.length;a++)g=ke.unloadQueue[a],m.isFunction(g)&&g();if(ke.unloadQueue.splice(0),!p){S.next=86;break}throw p;case 86:case"end":return S.stop()}},t,null,[[16,26],[41,51],[66,76]])})),Sx.apply(this,arguments)}function mg(){ke.bHTML5Edition&&(CU(),Mn("openLoadingMsg",null,{width:Q.loaderBarWidth+"px"}))}function ic(){ke.bHTML5Edition&&un("closeLoadingMsg:")}function ft(t,n){var o,a=this,u=0;(o=m.isString(t)?document.getElementById(t):t).style.backgroundColor="transparent",a.isLoaded=!1,a.displayType=0,a.progress=0,a.progressPosition=0,a.borderWidth={left:0,right:0,top:0,bottom:0},a.orientation=n.orientation||ft.Orientation.Horizontal,a.direction=n.direction||ft.Direction.LeftToRight,a.creationType=n.creationType||ft.CreationType.Replace,a.value=0,a.initialValue=n.value||0,a.minValue=n.minValue||0,a.maxValue=n.maxValue||100,a.showLabel=typeof n.showLabel>"u"||n.showLabel,a.labelText=n.labelText||"",a.width=n.width||"100%",a.height=n.height||20,a.borderRadius=n.borderRadius||10,a.orientation==ft.Orientation.Horizontal&&a.borderRadius>a.height/2&&(a.borderRadius=Math.round(a.height/2)),m.isNumber(a.width)&&a.orientation==ft.Orientation.Vertical&&a.borderRadius>a.width/2&&(a.borderRadius=Math.round(a.width/2)),a.backColor=n.backColor||"",a.color=n.color||"#50a8e1",a.animationStyle=0,a.animationInterval=n.animationInterval||100;var d=["parent","background","wrapper","left","middle","right","horizontalText","verticalText","marker"];for(a.extraClassName={},u=0;u<d.length;u++)n.extraClassName?typeof n.extraClassName=="string"?a.extraClassName[d[u]]=n.extraClassName:a.extraClassName[d[u]]=n.extraClassName[d[u]]||"":a.extraClassName[d[u]]="";a.onLoad=n.onLoad||null,a.onValueChanged=n.onValueChanged||null,a.onAnimate=n.onAnimate||null,a.creationType==ft.CreationType.Replace?a.parentElement=o:(a.parentElement=document.createElement("DIV"),o.appendChild(a.parentElement)),a.finishLoading()}Q.Errors=gfe,cg(s(E().mark(function t(){var n,o,a,u;return E().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if((n=window)&&(m.addEventListener(n,"focus",function(){var l;(l=V.DWT.WebTwainIdMap)&&m.each(l,function(c,p){c&&c._OnPageFocus&&c._OnPageFocus()})}),m.addEventListener(n,"blur",function(){he.bWin&&WU()}),o=n.document,m.addEventListener(o,"visibilitychange",function(){he.bWin&&o.visibilityState=="hidden"&&WU()})),V.navInfo){d.next=11;break}return d.prev=3,d.next=6,QE();case 6:V.navInfo=d.sent,d.next=11;break;case 9:d.prev=9,d.t0=d.catch(3);case 11:if(V.DWT.AutoLoad!==!1&&!ke.bDWTLoading){d.next=13;break}return d.abrupt("return");case 13:return d.prev=13,d.next=16,a0();case 16:if(!(V.DWT.Containers&&V.DWT.Containers.length>0&&V.DWT.AutoLoad)||ke.bDWTLoading){d.next=46;break}return ke.bDWTLoading=!0,mg(),d.prev=20,d.next=23,kh(!0);case 23:a=3,u=0;case 25:if(!(u<a)){d.next=42;break}return d.prev=26,d.next=29,s4();case 29:return d.abrupt("break",42);case 32:if(d.prev=32,d.t1=d.catch(26),!(u<a-1&&d.t1.code==$t.DWTPortNotReady)){d.next=38;break}return d.next=37,new Q.Promise(function(l,c){setTimeout(function(){l()},300)});case 37:return d.abrupt("continue",39);case 38:throw d.t1;case 39:u++,d.next=25;break;case 42:return d.prev=42,ke.bDWTLoading=!1,ic(),d.finish(42);case 46:d.next=60;break;case 48:return d.prev=48,d.t2=d.catch(13),Ny(d.t2.code)||Q.detect.bOK||lu.pushToDo(null,V.DWT.Load),ky(d.t2),d.prev=53,d.next=56,pg();case 56:d.next=60;break;case 58:d.prev=58,d.t3=d.catch(53);case 60:case"end":return d.stop()}},t,null,[[3,9],[13,48],[20,,42,46],[26,32],[53,58]])}))),ft.Orientation={Horizontal:0,Vertical:1},ft.Direction={LeftToRight:0,RightToLeft:1,TopToBottom:0,BottomToTop:1},ft.CreationType={Replace:0,AppendChild:1},ft.AnimationStyle={None:0,Static:1,StaticFull:2,Custom:3,CustomFull:4,Flickering1:10,Flickering2:11,Flickering3:12,LeftToRight1:20,LeftToRight2:21,RightToLeft1:22,RightToLeft2:23,TwoWay:24},ft.prototype.finishLoading=function(){var t,n=this;n.wrapperElement=null,n.backgroundElement=null,n.valueElement=null,n.leftElement=null,n.middleElement=null,n.rightElement=null,n.backgroundElement=document.createElement("DIV"),n.backgroundElement.className="progressbar_background"+(n.extraClassName.background?" ":"")+n.extraClassName.background,n.backgroundElement.style.cssText=n.backgroundElement.style.cssText+ft._createBorderRadiusCss(n.borderRadius),n.parentElement.appendChild(n.backgroundElement);var o=["border-radius","border-bottom-right-radius"],a=0,u="";for(a=0;a<o.length&&!(u=ft._elementCurrentStyle(n.backgroundElement,o[a]))&&typeof u!="string";a++);u!=""&&ft._parseInt(u)!=n.borderRadius&&(n.borderRadius=ft._parseInt(u)),n.orientation==ft.Orientation.Horizontal||n.orientation==ft.Orientation.Vertical?n.displayType=0:n.displayType=1,n.parentElement.className=(n.parentElement.className!=""?" ":"")+"progressbar_parent dynamsoft-progressBar"+(n.extraClassName.parent?" ":"")+n.extraClassName.parent,n.displayType==0?((t=n.wrapperElement=document.createElement("DIV")).style.border="1px solid #A0A0A0",t.style.cssFloat="left",t.style.display="inline-block",t.style.width=m.isNumber(n.width)?n.width+"px":n.width,t.style.height=n.height+"px",t.style.left="0px",t.style.top=-n.height+"px",t.style.backgroundColor=n.backColor,t.style.backgroundRepeat="no-repeat",t.style.position="relative",t.style.cssText=t.style.cssText+ft._createBorderRadiusCss(n.borderRadius),n.parentElement.appendChild(t),n.borderWidth={left:ft._parseInt(ft._elementCurrentStyle(t,"border-left-width")),right:ft._parseInt(ft._elementCurrentStyle(t,"border-right-width")),top:ft._parseInt(ft._elementCurrentStyle(t,"border-top-width")),bottom:ft._parseInt(ft._elementCurrentStyle(t,"border-bottom-width"))}):n.displayType==1&&(n.orientation==ft.Orientation.Horizontal?m.isNumber(n.width)&&n.borderRadius>n.width/2&&(n.borderRadius=n.width):n.orientation==ft.Orientation.Vertical&&n.borderRadius>n.height/2&&(n.borderRadius=n.height),n.valueElement=document.createElement("DIV"),n.valueElement.className="",n.leftElement=document.createElement("DIV"),n.middleElement=document.createElement("DIV"),n.rightElement=document.createElement("DIV"),n.leftElement.style.border="1px solid #A0A0A0",n.leftElement.style.cssFloat="left",n.leftElement.style.display="inline-block",n.leftElement.style.backgroundColor=n.backColor,n.leftElement.style.backgroundRepeat="no-repeat",n.leftElement.style.position="relative",n.rightElement.style.border="1px solid #A0A0A0",n.rightElement.style.cssFloat="left",n.rightElement.style.display="inline-block",n.rightElement.style.backgroundColor=n.backColor,n.rightElement.style.backgroundRepeat="no-repeat",n.rightElement.style.position="relative",n.middleElement.style.border="1px solid #A0A0A0",n.middleElement.style.cssFloat="left",n.middleElement.style.display="inline-block",n.middleElement.style.overflow="hidden",n.middleElement.style.position="relative",n.valueElement.style.backgroundColor=n.backColor,n.valueElement.style.position="relative",n.orientation==ft.Orientation.Horizontal?(n.leftElement.style.width=n.borderRadius+"px",n.leftElement.style.height=n.height+"px",n.leftElement.style.top=-n.height+"px",n.leftElement.style.left="0px",n.leftElement.style.borderRight="none",n.leftElement.style.cssText=n.leftElement.style.cssText+ft._createBorderRadiusCss(n.borderRadius,0,0,n.borderRadius),n.rightElement.style.width=n.borderRadius+"px",n.rightElement.style.height=n.height+"px",n.rightElement.style.top=-n.height+"px",n.rightElement.style.borderLeft="none",n.rightElement.style.cssText=n.rightElement.style.cssText+ft._createBorderRadiusCss(0,n.borderRadius,n.borderRadius,0),n.middleElement.style.width=m.isNumber(n.width)?n.width-2*n.borderRadius+"px":n.width,n.middleElement.style.height=n.height+"px",n.middleElement.style.top=-n.height+"px",n.middleElement.style.borderLeft="none",n.middleElement.style.borderRight="none",n.valueElement.style.width="0px",n.valueElement.style.height=n.height+"px"):n.orientation==ft.Orientation.Vertical&&(n.leftElement.style.width=m.isNumber(n.width)?n.width+"px":n.width,n.leftElement.style.height=n.borderRadius+"px",n.leftElement.style.top=-n.height+"px",n.leftElement.style.left="0px",n.leftElement.style.borderBottom="none",n.leftElement.style.cssText=n.leftElement.style.cssText+ft._createBorderRadiusCss(n.borderRadius,n.borderRadius,0,0),n.rightElement.style.width=m.isNumber(n.width)?n.width+"px":n.width,n.rightElement.style.height=n.borderRadius+"px",n.rightElement.style.top=-n.height+"px",n.rightElement.style.left="0px",n.rightElement.style.borderTop="none",n.rightElement.style.cssText=n.rightElement.style.cssText+ft._createBorderRadiusCss(0,0,n.borderRadius,n.borderRadius),n.middleElement.style.width=m.isNumber(n.width)?n.width+"px":n.width,n.middleElement.style.height=n.height-2*n.borderRadius+"px",n.middleElement.style.top=-n.height+"px",n.middleElement.style.left="0px",n.middleElement.style.borderTop="none",n.middleElement.style.borderBottom="none",n.valueElement.style.width=m.isNumber(n.width)?n.width+"px":n.width,n.valueElement.style.height="0px"),n.middleElement.appendChild(n.valueElement),n.parentElement.appendChild(n.leftElement),n.parentElement.appendChild(n.middleElement),n.parentElement.appendChild(n.rightElement),n.orientation==ft.Orientation.Horizontal?n.borderWidth={left:ft._parseInt(ft._elementCurrentStyle(n.leftElement,"border-left-width")),right:ft._parseInt(ft._elementCurrentStyle(n.rightElement,"border-right-width")),top:ft._parseInt(ft._elementCurrentStyle(n.middleElement,"border-top-width")),bottom:ft._parseInt(ft._elementCurrentStyle(n.middleElement,"border-bottom-width"))}:n.orientation==ft.Orientation.Vertical&&(n.borderWidth={left:ft._parseInt(ft._elementCurrentStyle(n.middleElement,"border-left-width")),right:ft._parseInt(ft._elementCurrentStyle(n.middleElement,"border-right-width")),top:ft._parseInt(ft._elementCurrentStyle(n.leftElement,"border-top-width")),bottom:ft._parseInt(ft._elementCurrentStyle(n.rightElement,"border-bottom-width"))})),m.isNumber(n.width)&&(n.parentElement.style.width=n.width+n.borderWidth.left+n.borderWidth.right+"px"),n.parentElement.style.height=n.height+n.borderWidth.top+n.borderWidth.bottom+"px",n.backgroundElement.style.cssFloat="left",n.backgroundElement.style.display="inline-block",m.isNumber(n.width)&&(n.backgroundElement.style.width=n.width+n.borderWidth.left+n.borderWidth.right+"px"),n.backgroundElement.style.height=n.height+"px",n.backgroundElement.style.backgroundColor="#FFFFFF",n.backgroundElement.style.position="relative",n.displayType==0&&m.isNumber(n.width)&&(n.backgroundElement.style.width=n.width+n.borderWidth.left+n.borderWidth.right+"px"),n.backgroundElement.style.top=n.borderWidth.top+"px",n.markerElement=document.createElement("DIV"),n.markerElement.style.display="inline-block",n.markerElement.style.zoom="1.0",n.markerElement.style.width=m.isNumber(n.width)?n.width+"px":n.width,n.markerElement.style.height=n.height+"px",n.markerElement.style.top=2*-n.height-n.borderWidth.top+"px",n.markerElement.style.left=n.borderWidth.left+"px",n.markerElement.style.backgroundColor=n.color,n.markerElement.style.lineHeight=n.height+"px",n.markerElement.style.position="relative",n.parentElement.appendChild(n.markerElement),n.isLoaded=!0,n.setValue(n.initialValue),n.onLoad!=null&&n.onLoad()},ft.prototype.setValue=function(t){var n=this;if(t!==null&&t<n.minValue&&(t=n.minValue),t!==null&&t>n.maxValue&&(t=n.maxValue),t===null||(n.value=t),n.isLoaded){var o,a=0,u=n.width;if(m.isString(u)){var d=Pe.one(".dynamsoft-progressBar");d&&d.getEL()&&(u=d.getEL().offsetWidth)}if(n.orientation==ft.Orientation.Horizontal){a=n.value/n.maxValue*u,n.progressPosition=a,n.displayType==0||n.displayType==1&&(n.direction==ft.Direction.LeftToRight?a<=n.borderRadius?n.valueElement.style.width="0px":a>=u-n.borderRadius?n.valueElement.style.width=n.middleElement.style.width:n.valueElement.style.width=a-n.borderRadius+"px":a<=n.borderRadius?n.valueElement.style.width="0px":a>=u-n.borderRadius?(n.valueElement.style.left="0px",n.valueElement.style.width=n.middleElement.style.width):(n.valueElement.style.left=u-a-n.borderRadius+"px",n.valueElement.style.width=a-n.borderRadius+"px")),a>0?(n.animationStyle!=ft.AnimationStyle.StaticFull&&n.animationStyle!=ft.AnimationStyle.CustomFull?n.markerElement.style.width=a+"px":n.markerElement.style.width=u+"px",n.markerElement.style.visibility="visible"):(n.markerElement.style.width=u+"px",n.animationStyle!=ft.AnimationStyle.StaticFull&&n.animationStyle!=ft.AnimationStyle.CustomFull&&(n.markerElement.style.visibility="hidden")),n.animationStyle!=ft.AnimationStyle.StaticFull&&n.animationStyle!=ft.AnimationStyle.CustomFull?n.direction==ft.Direction.LeftToRight?n.markerElement.style.left=n.borderWidth.left+"px":n.markerElement.style.left=u-a+n.borderWidth.left+"px":n.markerElement.style.left=n.borderWidth.left+"px";var l=2*-n.height-n.borderWidth.top;if(a==0||u==a)n.markerElement.style.top=l+"px",n.markerElement.style.height=n.height+"px",n.markerElement.style.cssText=n.markerElement.style.cssText+ft._createBorderRadiusCss(n.borderRadius);else if(a<n.borderRadius){var c=n.height-2.25*(n.borderRadius-Math.sqrt(Math.pow(n.borderRadius,2)-Math.pow(n.borderRadius-a,2))),p=l+n.height/2-c/2;n.markerElement.style.top=p+"px",n.markerElement.style.height=c+"px",n.direction==ft.Direction.LeftToRight?n.markerElement.style.cssText=n.markerElement.style.cssText+ft._createBorderRadiusCss(n.borderRadius,0,0,n.borderRadius):n.markerElement.style.cssText=n.markerElement.style.cssText+ft._createBorderRadiusCss(0,n.borderRadius,n.borderRadius,0)}else u-a<n.borderRadius?(o=(2*(n.borderRadius-(u-a))+(n.borderRadius-Math.sqrt(Math.pow(n.borderRadius,2)-Math.pow(n.borderRadius-(u-a),2))))/3,n.direction==ft.Direction.LeftToRight?n.markerElement.style.cssText=n.markerElement.style.cssText+ft._createBorderRadiusCss(n.borderRadius,o,o,n.borderRadius):n.markerElement.style.cssText=n.markerElement.style.cssText+ft._createBorderRadiusCss(o,n.borderRadius,n.borderRadius,o)):(n.markerElement.style.top=l+"px",n.markerElement.style.height=n.height+"px",n.direction==ft.Direction.LeftToRight?n.markerElement.style.cssText=n.markerElement.style.cssText+ft._createBorderRadiusCss(n.borderRadius,0,0,n.borderRadius):n.markerElement.style.cssText=n.markerElement.style.cssText+ft._createBorderRadiusCss(0,n.borderRadius,n.borderRadius,0))}else if(n.orientation==ft.Orientation.Vertical){a=n.value/n.maxValue*n.height,n.progressPosition=a,n.displayType==0||n.displayType==1&&(n.direction==ft.Direction.TopToBottom?a<=n.borderRadius?n.valueElement.style.height="0px":a>=n.height-n.borderRadius?n.valueElement.style.height=n.middleElement.style.height:n.valueElement.style.height=a-n.borderRadius+"px":a<=n.borderRadius?n.valueElement.style.height="0px":a>=n.height-n.borderRadius?(n.valueElement.style.top="0px",n.valueElement.style.height=n.middleElement.style.height):(n.valueElement.style.top=n.height-a-n.borderRadius+"px",n.valueElement.style.height=a+2*n.borderRadius+"px")),a>0?(n.animationStyle!=ft.AnimationStyle.StaticFull&&n.animationStyle!=ft.AnimationStyle.CustomFull?n.markerElement.style.height=a+"px":(n.markerElement.style.height=n.height+"px",n.markerElement.style.cssText=n.markerElement.style.cssText+ft._createBorderRadiusCss(n.borderRadius)),n.markerElement.style.visibility="visible"):(n.markerElement.style.height="0px",n.animationStyle!=ft.AnimationStyle.StaticFull&&n.animationStyle!=ft.AnimationStyle.CustomFull&&(n.markerElement.style.visibility="hidden"));var g=n.borderWidth.left;if(a==0||n.height==a)n.markerElement.style.left=g+"px",n.markerElement.style.width=u+"px",n.markerElement.style.cssText=n.markerElement.style.cssText+ft._createBorderRadiusCss(n.borderRadius);else if(a<n.borderRadius){var S=2.5*a;S>u&&(S=u);var v=g+u/2-S/2;n.markerElement.style.left=v+"px",n.markerElement.style.width=S+"px",n.direction==ft.Direction.BottomToTop?n.markerElement.style.cssText=n.markerElement.style.cssText+ft._createBorderRadiusCss(0,0,n.borderRadius,n.borderRadius):n.markerElement.style.cssText=n.markerElement.style.cssText+ft._createBorderRadiusCss(n.borderRadius,n.borderRadius,0,0)}else n.height-a<n.borderRadius?(o=(2*(n.borderRadius-(n.height-a))+(n.borderRadius-Math.sqrt(Math.pow(n.borderRadius,2)-Math.pow(n.borderRadius-(n.height-a),2))))/3,n.direction==ft.Direction.BottomToTop?n.markerElement.style.cssText=n.markerElement.style.cssText+ft._createBorderRadiusCss(o,o,n.borderRadius,n.borderRadius):n.markerElement.style.cssText=n.markerElement.style.cssText+ft._createBorderRadiusCss(n.borderRadius,n.borderRadius,o,o)):(n.markerElement.style.left=g+"px",n.markerElement.style.width=u+"px",n.direction==ft.Direction.BottomToTop?n.markerElement.style.cssText=n.markerElement.style.cssText+ft._createBorderRadiusCss(0,0,n.borderRadius,n.borderRadius):n.markerElement.style.cssText=n.markerElement.style.cssText+ft._createBorderRadiusCss(n.borderRadius,n.borderRadius,0,0));n.animationStyle!=ft.AnimationStyle.StaticFull&&n.animationStyle!=ft.AnimationStyle.CustomFull?n.direction==ft.Direction.TopToBottom?n.markerElement.style.top=2*-n.height-n.borderWidth.top+"px":n.markerElement.style.top=-n.height-a-n.borderWidth.top+"px":n.markerElement.style.top=2*-n.height-n.borderWidth.top+"px"}n.progress=n.value/n.maxValue}n.onValueChanged!=null&&n.onValueChanged()},ft._elementCurrentStyle=function(t,n){if(t.currentStyle){var o=0,a="",u=!1;for(o=0;o<n.length;o++)n[o].toString()!="-"?(a+=u?n[o].toString().toUpperCase():n[o].toString(),u=!1):u=!0;return n=a,t.currentStyle[n]}return getComputedStyle(t,null).getPropertyValue(n)},ft._parseInt=function(t){var n=parseInt(t);return isNaN(n)&&(n=0),n},ft._createBorderRadiusCss=function(t,n,o,a){return t!=null&&n==null&&o==null&&a==null?";-ms-border-radius: "+t+"px;border-radius:"+t+"px;":";-ms-border-radius:"+(t=t||0)+"px "+(n=n||0)+"px "+(o=o||0)+"px "+(a=a||0)+"px;border-radius:"+t+"px "+n+"px "+o+"px "+a+"px;"};var _fe=function(){return _(function t(){h(this,t),w(this,"handlers",{})},[{key:"on",value:function(t,n){var o=m.guid();return this.handlers[t]||(this.handlers[t]=[]),this.handlers[t].push({id:o,handler:n}),o}},{key:"off",value:function(t,n){if(this.handlers[t]){var o,a=this.handlers[t];if(n){for(o=0;o<a.length;o++)if(a[o].id==n){a.splice(o,1);break}}else a.splice(0)}}},{key:"fire",value:function(t){if(this.handlers[t]){var n,o=this.handlers[t];for(n=0;n<o.length;n++)o[n].handler();return o.length}return 0}},{key:"clear",value:function(){this.handlers={}}}])}(),Sfe=V.DWT;Q.ProgressBar=ft,Q.progressMessage="",Q.dialogShowStatus=!1,Q.needShowTwiceShowDialog=!1,Q.dlgProgress=!1,Q.cancelFrom=or.Other,Q.dlgRef=0,Q.initProgress=function(t){var n,o;if(!Q.dlgProgress){(o=[]).push('<dialog class="dynamsoft-dwt-dialogProgress" closed="closed" style="top:30%"><div class="ds-dwt-progressWrap">'),o.push('<h3 class="dynamsoft-finalMessage"> </h3>'),o.push('<p class="dynamsoft-desc"></p><p class="dynamsoft-status">0%</p>'),he.bIE?o.push('<div class="dynamsoft-progressBar" value="" max="100"></div>'):o.push('<progress class="dynamsoft-progressBar" value="" max="100"></progress>'),o.push('<div style="width:100%;text-align:center;margin:5px 0;"><button class="dynamsoft-btnCancel" value="cancel" autofcus>cancel</button></div>'),o.push("</div></dialog>"),(n=Pe.one(".dynamsoft-dwt-dialogProgress"))&&n.getEL()&&n.remove();var a=Q.parseHTML(o.join(""));if(a&&a.length>0&&document.body.appendChild(a[0]),he.bIE){var u=Pe.one(".dynamsoft-progressBar"),d=u&&u.getEL();d&&(d.objProgressBar=new ft(d,{height:20}));var l=Pe.one(".ds-dwt-progressWrap").getEL();l&&(l.style.boxSizing="content-box")}(n=Pe.one(".dynamsoft-dwt-dialogProgress"))&&n.getEL()&&(Q.dlgProgress=n[0],Pe.dialog.setup(Q.dlgProgress)),Q.dlgRef=0,Q.dialogShowStatus=!1,Q.cancelFrom=or.Other}},Q.unloadProgress=function(){Q.closeProgress(null,"");var t=Pe.one(".dynamsoft-dwt-dialogProgress");if(t&&t.getEL()){var n=t.getEL();n.show=null,n.showModal=null,n.close=null,n._dlgInfo={},n.parentNode.removeChild(n)}Q.dlgProgress=null},Q.showProgressMsg=function(){};var bfe=function(t){function n(){return h(this,n),f(this,n,arguments)}return P(n,t),_(n)}(_fe);Q.progressContext=new bfe;var u4=function(){var t=Q.progressContext;if(t){var n,o=t.fire("cancel");if(o>=1)for(n=0;n<o;n++)Q.closeProgress(null,"");else t.__cancelBeforObjectCreated&&(Q.closeProgress(null,""),t.__clickCancel=!0)}};Q.hideProgress=function(){var t=Q.progressContext;t&&(t.IfShowProgressBar=!1,t.IfShowCancelDialogWhenImageTransfer=!1,t.off("cancel"),t._onPercent=null)},Q.showProgress=function(t,n,o){var a,u=t;if(u.IfShowProgressBar)if(Q.progressContext&&(Q.progressContext.IfShowProgressBar=!0,Q.progressContext.IfShowCancelDialogWhenImageTransfer=u.IfShowCancelDialogWhenImageTransfer),Q.dlgRef>0)Q.dlgRef++;else{var d;if((a=V.DWT.IfConfineMaskWithinTheViewer)?u._isNoViewer&&u._isNoViewer()?d=document.body:u._containerElement?d=u._containerElement:V.DWT.Containers&&V.DWT.Containers.length>0&&V.DWT.Containers[0].ContainerId&&(d=m.get(V.DWT.Containers[0].ContainerId))||(d=document.body):d=document.body,d&&d!==document.body){var l=!1,c=d.firstElementChild;if(c&&c!==Q.dlgProgress&&c.className=="dvs-root dvs-web-viewer"&&(d=c,l=!0),l==0){for(var p=0;p<d.children.length;p++)if((c=d.children[p])&&c!==Q.dlgProgress&&c.className=="dvs-root dvs-web-viewer"){d=c;break}}var g=Q.progressContext;d.style.position!==""&&d.style.position!=="static"||(d.style.position="relative",g.progressContainer={el:d})}m.log("showProgress:"+n+",bCancel:"+o),Q.dlgProgress&&d.appendChild(Q.dlgProgress),Wu(o);var S=Pe.one(".dynamsoft-btnCancel");if(S&&S.getEL()&&(m.removeEventListener(S[0],"click",u4),m.addEventListener(S[0],"click",u4)),Q.dialogShowStatus==0){Q.dlgProgress&&(a&&d&&d!==document.body?Pe.dialog.setup(Q.dlgProgress,!0):Pe.dialog.setup(Q.dlgProgress),Q.dlgProgress.showModal()),Q.dialogShowStatus=!0;var v=Pe.one(".dynamsoft-finalMessage"),b=Pe.one(".dynamsoft-progressBar"),T=b&&b.getEL(),D=Pe.one(".dynamsoft-status");v&&v.getEL()&&v.html(""),D&&D.getEL()&&D.html("0%"),T&&(he.bIE&&T.objProgressBar?T.objProgressBar.setValue(0):T.value=0)}Q.dlgRef++}else Q.hideProgress()},Q.closeProgress=function(t,n){var o=Q.progressContext;m.log("closeProgress:"+n),o&&o.IfShowProgressBar?(Q.dlgRef--,Q.dlgRef<=0&&(Q.dlgRef=0)):Q.dlgRef=0,Q.dlgRef==0&&(o.off("cancel"),o._onPercent=null,Q.dialogShowStatus==1&&(Q.dlgProgress&&(Q.dlgProgress.close(),Q.dlgProgress&&document.body.appendChild(Q.dlgProgress),o&&o.progressContainer&&o.progressContainer.el&&(o.progressContainer.el.style.position="",o.progressContainer=null)),Q.dialogShowStatus=!1),Q.cancelFrom=or.Other)},Sfe.RemoveAllAuthorizations=function(){var t=fu.item("DWT_port"),n="http://";return fu.item("DWT_ssl")=="true"&&(n="https://"),wa({method:"GET",xhrFields:{withCredentials:!0},url:[n,qi(),":",t,"/dwt/",ke.getDWTPrefix(),ke.getServerVersionInfo(),"/RemoveAllAuthorizations?t=",m.now()].join(""),async:!0}),!0};var Tfe={upload:"Uploading...",download:"Downloading...",load:"Processing...",decode:"Processing...",decodeTIFF:"Processing tiff...",decodePDF:"Processing pdf...",encodeTIFF:"Processing tiff...",encodePDF:"Processing pdf...",encode:"Processing...",transfer:"Transferring..."};Q.progressBarOnPercentDone=function(t,n,o,a,u,d){var l,c=Pe.one(".dynamsoft-progressBar"),p=Pe.one(".dynamsoft-status"),g=Pe.one(".dynamsoft-finalMessage"),S=Pe.one(".dynamsoft-desc");if(V.DWT.UseDefaultViewer&&V.DWT.IfConfineMaskWithinTheViewer&&d&&(c=Pe.one(".dynamsoft-progressBar",d),p=Pe.one(".dynamsoft-status",d),g=Pe.one(".dynamsoft-finalMessage",d),S=Pe.one(".dynamsoft-desc",d)),Q.cancelFrom==or.FTPUpload||Q.cancelFrom==or.FTPDownload){var v=o;v==0?Q.setBtnCancelVisibleForProgress(!1):v==1&&Q.setBtnCancelVisibleForProgress(!0)}else Q.cancelFrom==or.HTTPUpload||Q.cancelFrom==or.LoadImage||Q.cancelFrom==or.HTTPPut?n=="Processing..."&&Q.setBtnCancelVisibleForProgress(!1):Q.cancelFrom==or.ConvertToBlob&&(t==-1||Q.setBtnCancelVisibleForProgress(!1),a==100&&(n="",Q.progressMessage="Processing..."));if(t<0?(Q.progressMessage=n,l=Q.progressMessage):l=n!=""&&n!="1/1"?Q.progressMessage+"("+n+")":Q.progressMessage,g&&g.getEL()){var b="",T="";l.indexOf(" ...")&&(l=l.replace(" ...","...")),l.indexOf("(")!=-1?(b=l.substr(0,l.indexOf("(")),T=l.substr(l.indexOf("("))):b=l,m.each(Tfe,function(M,W){M.indexOf(b)!=-1&&(l=bi.customProgressText[W]+T)}),l==""&&(l="&nbsp;"),g.html(l)}if(u?u==""||m.isUndefined(u)?(u="&nbsp;",S&&S.hide&&S.hide()):(m.isString(u)&&u.length>30&&(u=u.substring(0,30)+"..."),S&&(S.show&&S.show(),S.html(u))):S&&S.hide&&S.hide(),(a||a===0)&&(p&&p.getEL()&&p.html(a+"%"),c&&c.getEL())){var D=a;D>=100&&(D=100),he.bIE?c[0].objProgressBar?c[0].objProgressBar.setValue(D):c[0].value=D:(he.bEdge&&(c[0].style.display=""),c[0].value=D)}Q.dlgRef<=0&&setTimeout(function(){c&&c.getEL()&&(he.bIE?c[0].objProgressBar?c[0].objProgressBar.setValue(0):c[0].value=0:(he.bEdge&&(c[0].style.display="none"),c[0].value=0))},1e3)},Q.detect.onNoControl=function(t,n,o,a){a&&a._bRemoteMode&&!a._bNotShowMessage?m.isFunction(V.OnRemoteWebTwainNotFoundCallback)&&V.OnRemoteWebTwainNotFoundCallback(ke.name,a._serverInfo.server,a._serverInfo.port,a._serverInfo.ssl,env.bMobile):(YN(t,n,o),Ku(!1))},(Q.__ver||0)<gR&&(m.mix(Q,Pe),Q.__ver=gR),Q.bNode=IQ,Q._defaultAgent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Safari/537.36",Q._defaultPlatform="Win64",Q.timestamp="?t=20251210194900",m.mix(Q,Qa),Q.ajax=wa,Q.fetch=Mf,Q.detect.showMask=pC,Q.detect.hideMask=mC,Q.env=Cn,Q.product=ke,Q.scannerInfo=gn,Q.License=It,Q.BIO=Nl,Q.UI.ImageUIView=Sde,Q.UI.ImageManager=IU,V.MSG=tn,Q.domReady=cg,function t(){if(!window||document&&document.body){var n=document;if(n.readyState!==DU)if(XE(window,AU,Ph),JE){var o=function(){ZE(n,EU,o),Ph()};XE(n,EU,o)}else{var a,u,d,l=function(){n.readyState===DU&&(ZE(n,xU,l),Ph())};XE(n,xU,l),u=n&&n.documentElement,d=u&&u.doScroll;try{a=window.frameElement===null}catch{a=!1}if(d&&a){var c=function(){try{d("left"),setTimeout(Ph,30)}catch{setTimeout(c,40)}};c()}}else Ph()}else setTimeout(t,100)}(),cg(function(){if(V.DWT.CustomizableDisplayInfo||(V.DWT.CustomizableDisplayInfo=bi),he.bIE){V.DWT.CustomizableDisplayInfo.loaderBarSourceIE||(V.DWT.CustomizableDisplayInfo.loaderBarSourceIE=Su.loaderBarSourceIE);try{document.execCommand("BackgroundImageCache",!1,!0)}catch{}}}),V.Ready=function(t){if(!V.navInfo)return QE().then(function(n){V.navInfo=n;try{t()}catch(o){throw m.log(o.stack||o,"error"),o}});try{t()}catch(n){throw m.log(n.stack||n,"error"),n}}})({mapPackageRegister:NEe,CoreModule:Ys})}q.DWT.bNpm=!0;q.DWT.dbrCanvasMaxWH=4096;q.aryAddonReadyFun=[];q.AddonReady=function(e){q.aryAddonReadyFun.push(e)};/*! 20250418 20240828 20250225091709
* Dynamsoft JavaScript Library
* Product: Dynamic Web TWAIN
* Web Site: https://www.dynamsoft.com
*
* Copyright 2025, Dynamsoft Corporation
* Author: Dynamsoft Support Team
*
* Module: BarcodeReader
* Version: 19.3
* 
*/var q=self.Dynamsoft||{};q.DWT=q.DWT||{},q.DBR=q.DBR||{},q.aryAddonReadyFun=q.aryAddonReadyFun||[],q.AddonReady=q.AddonReady||function(e){q.aryAddonReadyFun.push(e)},function(){q.BarcodeReaderAddon=q.BarcodeReaderAddon||{};var e=q.BarcodeReaderAddon;e.Version="9.6.2.0318",e._decoding=!1,e._decodeQueue=[],e._decodeNext=function(){var r,i;e._decodeQueue.length==0?e._decoding=!1:(r=(i=e._decodeQueue[0]).method,i=i.args,e._decodeQueue.splice(0,1),r.apply(null,i))},e._defaultRuntimeSettingsStr="",e._defaultTemplateStr="",e._activeXInstance=!1,e.BarcodeReaderException=function(){var i=arguments[0],r=q.DBR.EnumErrorCode.DBR_UNKNOWN,i=typeof i=="number"?(r=i,new Error(arguments[1])):new Error(i);return i.code=r,i},e.RemoveNonPrintableChar=function(r){return q.Lib.isString(r)?r.replace(/[^\x20-\x7E]|(\\")/g,""):r},e.errors={webcamNotInstalled:"The Webcam add-on not installed.",nonServiceNotSupportWebcamDecode:"The BarcodeReader add-on does not support reading barcodes from video streams.",decodeResultEmpty:"decode result is empty.",ServiceEditionNotSupportDbr:"The BarcodeReader add-on does not support your Operating System.",ServiceEditionNotSupportWasmMode:"You cannot call this method on this WebTwain instance."},e._activeXMaxIEVersion=9,e.logLevel=3,q.DBR.EnumAccompanyingTextRecognitionMode={ATRM_GENERAL:1,ATRM_SKIP:0},q.DBR.EnumBarcodeColourMode={BICM_DARK_ON_LIGHT:1,BICM_LIGHT_ON_DARK:2,BICM_DARK_ON_DARK:4,BICM_LIGHT_ON_LIGHT:8,BICM_DARK_LIGHT_MIXED:16,BICM_DARK_ON_LIGHT_DARK_SURROUNDING:32,BICM_SKIP:0},q.DBR.EnumBarcodeComplementMode={BCM_AUTO:1,BCM_GENERAL:2,BCM_SKIP:0},q.DBR.EnumBarcodeFormat={BF_ALL:-32505857,BF_ONED:2047,BF_GS1_DATABAR:260096,BF_CODE_39:1,BF_CODE_128:2,BF_CODE_93:4,BF_CODABAR:8,BF_ITF:16,BF_EAN_13:32,BF_EAN_8:64,BF_UPC_A:128,BF_UPC_E:256,BF_INDUSTRIAL_25:512,BF_CODE_39_EXTENDED:1024,BF_GS1_DATABAR_OMNIDIRECTIONAL:2048,BF_GS1_DATABAR_TRUNCATED:4096,BF_GS1_DATABAR_STACKED:8192,BF_GS1_DATABAR_STACKED_OMNIDIRECTIONAL:16384,BF_GS1_DATABAR_EXPANDED:32768,BF_GS1_DATABAR_EXPANDED_STACKED:65536,BF_GS1_DATABAR_LIMITED:131072,BF_PATCHCODE:262144,BF_PDF417:33554432,BF_QR_CODE:67108864,BF_DATAMATRIX:134217728,BF_AZTEC:268435456,BF_MAXICODE:536870912,BF_MICRO_QR:1073741824,BF_MICRO_PDF417:524288,BF_GS1_COMPOSITE:-2147483648,BF_NULL:0},q.DBR.EnumBarcodeFormat_2={BF2_NULL:0,BF2_POSTALCODE:32505856,BF2_NONSTANDARD_BARCODE:1,BF2_USPSINTELLIGENTMAIL:1048576,BF2_POSTNET:2097152,BF2_PLANET:4194304,BF2_AUSTRALIANPOST:8388608,BF2_RM4SCC:16777216,BF2_DOTCODE:2},q.DBR.EnumBinarizationMode={BM_AUTO:1,BM_LOCAL_BLOCK:2,BM_SKIP:0},q.DBR.EnumClarityCalculationMethod={ECCM_CONTRAST:1},q.DBR.EnumClarityFilterMode={CFM_GENERAL:1},q.DBR.EnumColourClusteringMode={CCM_AUTO:1,CCM_GENERAL_HSV:2,CCM_SKIP:0},q.DBR.EnumColourConversionMode={CICM_GENERAL:1,CICM_SKIP:0},q.DBR.EnumConflictMode={CM_IGNORE:1,CM_OVERWRITE:2},q.DBR.EnumDeformationResistingMode={DRM_AUTO:1,DRM_GENERAL:2,DRM_SKIP:0},q.DBR.EnumDPMCodeReadingMode={DPMCRM_AUTO:1,DPMCRM_GENERAL:2,DPMCRM_SKIP:0},q.DBR.EnumErrorCode={DBR_SYSTEM_EXCEPTION:1,DBR_SUCCESS:0,DBR_UNKNOWN:-1e4,DBR_NO_MEMORY:-10001,DBR_NULL_REFERENCE:-10002,DBR_LICENSE_INVALID:-10003,DBR_LICENSE_EXPIRED:-10004,DBR_FILE_NOT_FOUND:-10005,DBR_FILETYPE_NOT_SUPPORTED:-10006,DBR_BPP_NOT_SUPPORTED:-10007,DBR_INDEX_INVALID:-10008,DBR_BARCODE_FORMAT_INVALID:-10009,DBR_CUSTOM_REGION_INVALID:-10010,DBR_MAX_BARCODE_NUMBER_INVALID:-10011,DBR_IMAGE_READ_FAILED:-10012,DBR_TIFF_READ_FAILED:-10013,DBR_QR_LICENSE_INVALID:-10016,DBR_1D_LICENSE_INVALID:-10017,DBR_DIB_BUFFER_INVALID:-10018,DBR_PDF417_LICENSE_INVALID:-10019,DBR_DATAMATRIX_LICENSE_INVALID:-10020,DBR_PDF_READ_FAILED:-10021,DBR_PDF_DLL_MISSING:-10022,DBR_PAGE_NUMBER_INVALID:-10023,DBR_CUSTOM_SIZE_INVALID:-10024,DBR_CUSTOM_MODULESIZE_INVALID:-10025,DBR_RECOGNITION_TIMEOUT:-10026,DBR_JSON_PARSE_FAILED:-10030,DBR_JSON_TYPE_INVALID:-10031,DBR_JSON_KEY_INVALID:-10032,DBR_JSON_VALUE_INVALID:-10033,DBR_JSON_NAME_KEY_MISSING:-10034,DBR_JSON_NAME_VALUE_DUPLICATED:-10035,DBR_TEMPLATE_NAME_INVALID:-10036,DBR_JSON_NAME_REFERENCE_INVALID:-10037,DBR_PARAMETER_VALUE_INVALID:-10038,DBR_DOMAIN_NOT_MATCHED:-10039,DBR_RESERVEDINFO_NOT_MATCHED:-10040,DBR_AZTEC_LICENSE_INVALID:-10041,DBR_LICENSE_DLL_MISSING:-10042,DBR_LICENSEKEY_NOT_MATCHED:-10043,DBR_REQUESTED_FAILED:-10044,DBR_LICENSE_INIT_FAILED:-10045,DBR_PATCHCODE_LICENSE_INVALID:-10046,DBR_POSTALCODE_LICENSE_INVALID:-10047,DBR_DPM_LICENSE_INVALID:-10048,DBR_FRAME_DECODING_THREAD_EXISTS:-10049,DBR_STOP_DECODING_THREAD_FAILED:-10050,DBR_SET_MODE_ARGUMENT_ERROR:-10051,DBR_LICENSE_CONTENT_INVALID:-10052,DBR_LICENSE_KEY_INVALID:-10053,DBR_LICENSE_DEVICE_RUNS_OUT:-10054,DBR_GET_MODE_ARGUMENT_ERROR:-10055,DBR_IRT_LICENSE_INVALID:-10056,DBR_MAXICODE_LICENSE_INVALID:-10057,DBR_GS1_DATABAR_LICENSE_INVALID:-10058,DBR_GS1_COMPOSITE_LICENSE_INVALID:-10059,DBR_DOTCODE_LICENSE_INVALID:-10061,DMERR_FAILED_TO_REACH_LTS:-20200},q.DBR.EnumGrayscaleTransformationMode={GTM_INVERTED:1,GTM_ORIGINAL:2,GTM_SKIP:0},q.DBR.EnumImagePixelFormat={IPF_Binary:0,IPF_BinaryInverted:1,IPF_GrayScaled:2,IPF_NV21:3,IPF_RGB_565:4,IPF_RGB_555:5,IPF_RGB_888:6,IPF_ARGB_8888:7,IPF_RGB_161616:8,IPF_ARGB_16161616:9,IPF_ABGR_8888:10,IPF_ABGR_16161616:11,IPF_BGR_888:12},q.DBR.EnumImagePreprocessingMode={IPM_AUTO:1,IPM_GENERAL:2,IPM_GRAY_EQUALIZE:4,IPM_GRAY_SMOOTH:8,IPM_SHARPEN_SMOOTH:16,IPM_MORPHOLOGY:32,IPM_SKIP:0},q.DBR.EnumIMResultDataType={IMRDT_IMAGE:1,IMRDT_CONTOUR:2,IMRDT_LINESEGMENT:4,IMRDT_LOCALIZATIONRESULT:8,IMRDT_REGIONOFINTEREST:16,IMRDT_QUADRILATERAL:32},q.DBR.EnumIntermediateResultSavingMode={IRSM_MEMORY:1,IRSM_FILESYSTEM:2,IRSM_BOTH:4},q.DBR.EnumIntermediateResultType={IRT_NO_RESULT:0,IRT_ORIGINAL_IMAGE:1,IRT_COLOUR_CLUSTERED_IMAGE:2,IRT_COLOUR_CONVERTED_GRAYSCALE_IMAGE:4,IRT_TRANSFORMED_GRAYSCALE_IMAGE:8,IRT_PREDETECTED_REGION:16,IRT_PREPROCESSED_IMAGE:32,IRT_BINARIZED_IMAGE:64,IRT_TEXT_ZONE:128,IRT_CONTOUR:256,IRT_LINE_SEGMENT:512,IRT_FORM:1024,IRT_SEGMENTATION_BLOCK:2048,IRT_TYPED_BARCODE_ZONE:4096,IRT_PREDETECTED_QUADRILATERAL:8192},q.DBR.EnumLocalizationMode={LM_SKIP:0,LM_AUTO:1,LM_CONNECTED_BLOCKS:2,LM_LINES:8,LM_STATISTICS:4,LM_SCAN_DIRECTLY:16,LM_STATISTICS_MARKS:32,LM_STATISTICS_POSTAL_CODE:64},q.DBR.EnumPDFReadingMode={PDFRM_RASTER:1,PDFRM_AUTO:2,PDFRM_VECTOR:4},q.DBR.EnumQRCodeErrorCorrectionLevel={QRECL_ERROR_CORRECTION_H:0,QRECL_ERROR_CORRECTION_L:1,QRECL_ERROR_CORRECTION_M:2,QRECL_ERROR_CORRECTION_Q:3},q.DBR.EnumRegionPredetectionMode={RPM_AUTO:1,RPM_GENERAL:2,RPM_GENERAL_RGB_CONTRAST:4,RPM_GENERAL_GRAY_CONTRAST:8,RPM_GENERAL_HSV_CONTRAST:16,RPM_SKIP:0},q.DBR.EnumResultCoordinateType={RCT_PIXEL:1,RCT_PERCENTAGE:2},q.DBR.EnumResultType={RT_STANDARD_TEXT:0,RT_RAW_TEXT:1,RT_CANDIDATE_TEXT:2,RT_PARTIAL_TEXT:3},q.DBR.EnumScaleUpMode={SUM_AUTO:1,SUM_LINEAR_INTERPOLATION:2,SUM_NEAREST_NEIGHBOUR_INTERPOLATION:4,SUM_SKIP:0},q.DBR.EnumTerminatePhase={TP_REGION_PREDETECTED:1,TP_IMAGE_PREPROCESSED:2,TP_IMAGE_BINARIZED:4,TP_BARCODE_LOCALIZED:8,TP_BARCODE_TYPE_DETERMINED:16,TP_BARCODE_RECOGNIZED:32},q.DBR.EnumTextAssistedCorrectionMode={TACM_AUTO:1,TACM_VERIFYING:2,TACM_VERIFYING_PATCHING:4,TACM_SKIP:0},q.DBR.EnumTextFilterMode={TFM_AUTO:1,TFM_GENERAL_CONTOUR:2,TFM_SKIP:0},q.DBR.EnumTextResultOrderMode={TROM_CONFIDENCE:1,TROM_POSITION:2,TROM_FORMAT:4,TROM_SKIP:0},q.DBR.EnumTextureDetectionMode={TDM_AUTO:1,TDM_GENERAL_WIDTH_CONCENTRATION:2,TDM_SKIP:0}}(),q.AddonReady(function(e,r){var i,s=q.BarcodeReaderAddon;function f(h){return h&&h instanceof ArrayBuffer}s.Class=function(){function h(_){this._runtimeSettings=null,this._initSettingsContent=null,this._tplContentArr=[],this._stwain=_}var y;return h.prototype._decodeBlob=function(_,C){var w=this;return new e.Promise(function(x){if(!(_ instanceof Blob))throw TypeError("'_decodeBlob(blob, templateName)': Type of 'blob' should be 'Blob'.");x()}).then(function(){return w._innerDecode(0,_,C)})},h.prototype._decodeArrayBuffer=function(_,C){var w=this;return new e.Promise(function(x){if(!(_ instanceof ArrayBuffer))throw TypeError("'_decodeBlob(arrayBuffer, templateName)': Type of 'arrayBuffer' should be 'ArrayBuffer'.");x()}).then(function(){return w._innerDecode(0,_,C)})},h.prototype._decodeUint8Array=function(_,C){var w=this;return new e.Promise(function(x){if(!(_ instanceof Uint8Array||self.Uint8ClampedArray&&_ instanceof Uint8ClampedArray))throw TypeError("'_decodeBlob(uint8Array, templateName)': Type of 'uint8Array' should be 'Uint8Array'.");x()}).then(function(){return w._innerDecode(0,_,C)})},h.prototype._decodeImage=function(_,C){var w=this;return new e.Promise(function(x){if(!(_ instanceof HTMLImageElement))throw TypeError("'_decodeImage(image, templateName)': Type of 'image' should be 'HTMLImageElement'.");if(_.crossOrigin&&_.crossOrigin!="anonymous")throw"cors";C=C||"",x()}).then(function(){return _.src.substring(0,11)=="data:image/"?w._decodeBase64(_.src,C):w._decodeUrl(_.src,C).catch(function(x){return 3<=s.logLevel&&console&&console.warn&&(console.warn("'_decodeImage(image, templateName)': Image src not available. Use '_decodeCanvas' instead."),console.warn(x)),self.HTMLCanvasElement?((x=document.createElement("canvas")).width=_.naturalWidth,x.height=_.naturalHeight,x.getContext("2d").drawImage(_,0,0),w._decodeCanvas(x,C)):e.Promise.reject(Error("'_decodeImage(image, templateName)': Browser not support HTMLCanvasElement."))})})},h.prototype._decodeCanvas=function(_,C){var w=this;return new e.Promise(function(x){if(!(_ instanceof HTMLCanvasElement))throw TypeError("'_decodeCanvas(canvas, templateName)': Type of 'canvas' should be 'HTMLCanvasElement'.");if(_.crossOrigin&&_.crossOrigin!="anonymous")throw"cors";C=C||"",_.toBlob?_.toBlob(function(A){x(A)}):_.msToBlob?_.msToBlob(function(A){x(A)}):x(_.toDataURL())}).then(function(x){return _.toBlob||_.msToBlob?w._decodeBlob(x,C):w._decodeBase64(x,C)})},h.prototype._decodeVideo=function(_){var C,w=this,x=arguments;return new e.Promise(function(A){if(!(_ instanceof HTMLVideoElement))throw TypeError("'_decodeVideo(video [ [, sx, sy, sWidth, sHeight], dWidth, dHeight] [, templateName] )': Type of 'video' should be 'HTMLVideoElement'.");if(_.crossOrigin&&_.crossOrigin!="anonymous")throw"cors";x.length<=2?(P=R=0,E=L=_.videoWidth,O=k=_.videoHeight):k=x.length<=4?(P=R=0,E=_.videoWidth,O=_.videoHeight,L=x[1],x[2]):(P=x[1],R=x[2],E=x[3],O=x[4],L=x[5],x[6]),C=typeof x[x.length-1]=="string"?x[x.length-1]:"";var P,R,E,O,L,k,N=document.createElement("canvas");N.width=L,N.height=k,N.getContext("2d").drawImage(_,P,R,E,O,0,0,L,k),A(N)}).then(function(A){return w._decodeCanvas(A,C)})},h.prototype._decodeBase64=h.prototype.decodeBase64String=function(_,C){var w=this;return new e.Promise(function(x){if(!(typeof _=="string"||typeof _=="object"&&_ instanceof String))throw TypeError("'decodeBase64(base64Str, templateName)': Type of 'base64Str' should be 'String'.");_.substring(0,11)=="data:image/"&&(_=_.substring(_.indexOf(",")+1)),x()}).then(function(){return w._innerDecode(1,_,C)})},h.prototype._decodeUrl=function(_,C){var w=this;return _&&_.indexOf&&(_.indexOf("dwt://")==0||_.indexOf("dcs://")==0)?w._decodeDynamsoftServiceInnerUrl(_,C):new e.Promise(function(x,A){var P;if(!(typeof _=="string"||typeof _=="object"&&_ instanceof String))throw TypeError("'_decodeUrl(url, templateName)': Type of 'url' should be 'String'.");C=C||"",s._activeXInstance?((P=new ActiveXObject("MSXML2.XMLHTTP")).open("GET",_,!0),P.overrideMimeType?P.overrideMimeType("text/plain; charset=x-user-defined"):P.setRequestHeader("Accept-Charset","x-user-defined"),P.onreadystatechange=function(){P.readyState==4&&x(new VBArray(P.responseBody).toArray())},P.send("")):((P=new XMLHttpRequest).open("GET",_,!0),P.responseType="arraybuffer",P.send(),P.onloadend=function(){x(this.response)},P.onerror=function(){A(Error(P.error))})}).then(function(x){return s._activeXInstance?w._activeXDecodeArray(x,C):w._decodeArrayBuffer(x,C)})},h.prototype._decodeDynamsoftServiceInnerUrl=function(_,C){var w=this;return new e.Promise(function(x){if(!(typeof _=="string"||typeof _=="object"&&_ instanceof String))throw TypeError("'_decodeUrl(url, templateName)': Type of 'innerUrl' should be 'String'.");if(_.indexOf("dwt://")!=0&&_.indexOf("dcs://")!=0)throw TypeError("'_decodeDynamsoftServiceInnerUrl(innerUrl, templateName)': 'innerUrl' should start with 'dwt://' or 'dcs://'.");x()}).then(function(){return w._innerDecode(4e3,_,C)})},h.prototype._activeXDecodeArray=function(_,C){var w=this;return new e.Promise(function(x,A){if(!(_ instanceof Array))throw TypeError("'_activeXDecodeArray(array, templateName)': Type of 'array' should be 'Array'.");C=C||"";try{x(q.Lib.btoa(String.fromCharCode.apply(String,_)))}catch(P){A(P)}}).then(function(x){return w._decodeBase64(x,C)})},h.prototype._activeXDecodeHandle=function(_,C){var w=this;return new e.Promise(function(x){C=C||"",x()}).then(function(){return w._innerDecode(4001,_,C)})},h.prototype._decode=h.prototype.decode=function(_,C){return s._activeXInstance?typeof _=="string"||_ instanceof String?this._activeXDecodeHandle(_,C):e.Promise.reject(TypeError("'_decode(source, templateName)' in activeX: Type of 'source' should be 'String(partUrl)'.")):self.Blob&&_ instanceof Blob?this._decodeBlob(_,C):self.ArrayBuffer&&_ instanceof ArrayBuffer?this._decodeArrayBuffer(_,C):self.Uint8Array&&_ instanceof Uint8Array||self.Uint8ClampedArray&&_ instanceof Uint8ClampedArray?this._decodeUint8Array(_,C):_ instanceof Array?this._activeXDecodeArray(_,C):self.HTMLImageElement&&_ instanceof HTMLImageElement?this._decodeImage(_,C):self.HTMLCanvasElement&&_ instanceof HTMLCanvasElement?this._decodeCanvas(_,C):self.HTMLVideoElement&&_ instanceof HTMLVideoElement?this._decodeVideo(_,C):isNaN(_)?typeof _=="string"||_ instanceof String?_.substring(0,11)=="data:image/"?this._decodeBase64(_,C):this._decodeUrl(_,C):e.Promise.reject(TypeError("'_decode(source, templateName)' in H5: Type of 'source' should be 'Blob', 'ArrayBuffer', 'Uint8Array', 'HTMLImageElement', 'HTMLCanvasElement', 'HTMLVideoElement', 'String(base64 with image mime)' or 'String(url)'.")):this._activeXDecodeHandle(_,C)},h.prototype._innerServiceCmd=function(_,C){var w=this._stwain;return new e.Promise(function(x,A){var P,R={method:"ReadBarcode",parameter:[q.Lib.product.refProductKey,4002,"",""],updateSettings:_,initSettingsContent:C};s._activeXInstance?x(s._activeXInstance.Process(e.stringify(R),location.protocol+"//"+location.host)):(w._blts?(P="",w&&w._bRemoteMode&&w._dmService&&w._dmService.attrs&&w._dmService.attrs.UUID&&(P=w._dmService.attrs.UUID),q.DWT.lglic(q.DWT.EnumInstance.dwt_desktop,P).then(function(E){return R.parameter.push(E.ar),R.parameter.push(E.cu),R.parameter.push(0),R.parameter.push(""),e.stringify(R)})):e.Promise.resolve(e.stringify(R))).then(function(E){return e.fetch(w._dbrUrlRoot+"ReadBarcode",{mode:"cors",method:"post",body:E,dataType:"arrayBuffer"})}).then(function(E){f(E)?x(String.fromCharCode.apply(null,new Uint8Array(E))):x(E)},function(E){var O="Init template & runtimeSettings failed.";E&&(O=[O," Http info: ",E.errorString," (",E.httpCode,")"].join("")),A(O)})})},h.prototype._innerDecode=function(_,C,w,x){var A=this;return A._runtimeSettings&&A._runtimeSettings.expectedBarcodesCount==0&&(A._runtimeSettings.expectedBarcodesCount=512),new e.Promise(function(P,R){function E(j,G,le){try{var $,H,ie,pe,se=y&&y(j);for(se&&se.textResults||R(new s.BarcodeReaderException(se.exception,se.description)),e.product.bHTML5Edition&&le&&le.config.data&&($=e.parse(le.config.data),e.isArray($.parameter))&&2<$.parameter.length&&$.parameter[1]==4e3&&(4<$.parameter.length&&$.parameter[4]?se.textResults.imageid=$.parameter[4]:0<=(pe=(ie=$.parameter[2]).indexOf("&index="))&&(se.textResults.imageid=ie.substring(pe+7,ie.indexOf("&t=")))),H=0;H<se.textResults.length;H++){var ce=se.textResults[H];ce.BarcodeText=ce.barcodeText,se.exception!=q.DBR.EnumErrorCode.DBR_SUCCESS&&(ce.exception=se.exception)}se.exception!=q.DBR.EnumErrorCode.DBR_SUCCESS&&(se.textResults.exception=se.exception,se.textResults.description=se.description),s._activeXInstance&&se.records&&(q.Lib.each(se.records,function(me,we){q.DWT.lavrf(we,me,q.DWT.EnumInstance.dwt_desktop)}),q.DWT.lavrf_(1,q.DWT.EnumInstance.dwt_desktop)),P(se.textResults)}catch(me){R(me)}}var O,L,k={method:"ReadBarcode",parameter:[q.Lib.product.refProductKey,_,_!=0?C:null,w||""],updateSettings:A._runtimeSettings,conflictMode:A.conflictMode==1?"ignore":"overwrite",initSettingsContent:A._initSettingsContent,tplContent:function(){if(w){for(var j=0;j<A._tplContentArr.length;++j)if(w==A._tplContentArr[j].ImageParameter.Name)return e.stringify(A._tplContentArr[j])}return null}()},N=A._stwain;s._activeXInstance?N._blts?q.DWT.lglic(q.DWT.EnumInstance.dwt_desktop,"").then(function(j){k.parameter.push(j.ar),k.parameter.push(j.cu),k.parameter.push(0),k.parameter.push(""),E(s._activeXInstance.Process(e.stringify(k),location.protocol+"//"+location.host))}):E(s._activeXInstance.Process(e.stringify(k),location.protocol+"//"+location.host)):(O=N._dbrUrlRoot+"ReadBarcode",_==0&&(O+="/LoadZipFromBytes?cmd="+encodeURIComponent(e.stringify(k))),(_==0?e.Promise.resolve(C):N._blts?(L="",N&&N._bRemoteMode&&N._dmService&&N._dmService.attrs&&N._dmService.attrs.UUID&&(L=N._dmService.attrs.UUID),q.DWT.lglic(q.DWT.EnumInstance.dwt_desktop,L).then(function(j){return k.parameter.push(j.ar),k.parameter.push(j.cu),k.parameter.push(0),k.parameter.push([e.product.getDWTPrefix(),e.product.getServerVersionInfo(),"/verify?id=",x,"&t=",e.getRandom()].join("")),e.stringify(k)})):e.Promise.resolve(e.stringify(k))).then(function(j){return e.fetch(O,{mode:"cors",method:"post",body:j,dataType:"arrayBuffer"})}).then(function(j,G,le){f(j)?E(String.fromCharCode.apply(null,new Uint8Array(j)),0,le):E(j,0,le)},function(j){var G="ReadBarcode request fail.";j&&(G=[G," Http info: ",j.errorString," (",j.httpCode,")"].join("")),R(Error(G))}))})},y=s._handleRetJsonString=function(_){var C;if(typeof _=="string"||typeof _=="object"&&_ instanceof String)try{C=e.parse(_)}catch{C=e.parse(s.RemoveNonPrintableChar(_))}else C=_;if(!C)throw s.BarcodeReaderException(q.DBR.EnumErrorCode.DBR_UNKNOWN,s.errors.decodeResultEmpty);if("textResults"in C&&e.isArray(C.textResults)||C.exception==q.DBR.EnumErrorCode.DBR_SUCCESS)return C;throw s.BarcodeReaderException(C.exception,C.description)},h.prototype.getAllParameterTemplateNames=function(){for(var _=[],C=0;C<this._tplContentArr.length;++C)_.push(this._tplContentArr[C].ImageParameter.Name);return _},h.prototype.getRuntimeSettings=function(){return this._runtimeSettings||(this._runtimeSettings=e.parse(s._defaultRuntimeSettingsStr)),e.Promise.resolve(this._runtimeSettings)},h.prototype.updateRuntimeSettings=function(_){var C,w=this;if(typeof _=="string"||typeof _=="object"&&_ instanceof String){if(_=="speed"||_=="balance"||_=="coverage"||_=="default")return w.initRuntimeSettingsWithString(_=="speed"?'{"ImageParameter":{"AccompanyingTextRecognitionModes":[{"Mode":"ATRM_SKIP"}],"BarcodeColourModes":[{"LightReflection":1,"Mode":"BICM_DARK_ON_LIGHT"}],"BarcodeComplementModes":[{"Mode":"BCM_SKIP"}],"BarcodeFormatIds":["BF_ALL"],"BarcodeFormatIds_2":["BF2_POSTALCODE","BF2_DOTCODE"],"BinarizationModes":[{"BlockSizeX":0,"BlockSizeY":0,"EnableFillBinaryVacancy":1,"ImagePreprocessingModesIndex":-1,"Mode":"BM_LOCAL_BLOCK","ThreshValueCoefficient":10}],"ColourClusteringModes":[{"Mode":"CCM_SKIP"}],"ColourConversionModes":[{"BlueChannelWeight":-1,"GreenChannelWeight":-1,"Mode":"CICM_GENERAL","RedChannelWeight":-1}],"DPMCodeReadingModes":[{"Mode":"DPMCRM_SKIP"}],"DeblurLevel":3,"DeformationResistingModes":[{"Mode":"DRM_SKIP"}],"Description":"","ExpectedBarcodesCount":512,"FormatSpecificationNameArray":null,"GrayscaleTransformationModes":[{"Mode":"GTM_ORIGINAL"}],"ImagePreprocessingModes":[{"Mode":"IPM_GENERAL"}],"IntermediateResultSavingMode":{"Mode":"IRSM_MEMORY"},"IntermediateResultTypes":["IRT_NO_RESULT"],"LocalizationModes":[{"Mode":"LM_CONNECTED_BLOCKS"},{"Mode":"LM_STATISTICS_MARKS"},{"Mode":"LM_STATISTICS_POSTAL_CODE"}],"MaxAlgorithmThreadCount":4,"Name":"bestSpeed","PDFRasterDPI":300,"PDFReadingMode":{"Mode":"PDFRM_AUTO"},"Pages":"","RegionDefinitionNameArray":null,"RegionPredetectionModes":[{"Mode":"RPM_GENERAL"}],"ResultCoordinateType":"RCT_PIXEL","ReturnBarcodeZoneClarity":0,"ScaleDownThreshold":2300,"ScaleUpModes":[{"Mode":"SUM_AUTO"}],"TerminatePhase":"TP_BARCODE_RECOGNIZED","TextAssistedCorrectionMode":{"BottomTextPercentageSize":0,"LeftTextPercentageSize":0,"Mode":"TACM_VERIFYING","RightTextPercentageSize":0,"TopTextPercentageSize":0},"TextFilterModes":[{"Mode":"TFM_SKIP"}],"TextResultOrderModes":[{"Mode":"TROM_CONFIDENCE"},{"Mode":"TROM_POSITION"},{"Mode":"TROM_FORMAT"}],"TextureDetectionModes":[{"Mode":"TDM_GENERAL_WIDTH_CONCENTRATION","Sensitivity":5}],"Timeout":10000},"Version":"3.0"}':_=="balance"?'{"ImageParameter":{"AccompanyingTextRecognitionModes":[{"Mode":"ATRM_SKIP"}],"BarcodeColourModes":[{"LightReflection":1,"Mode":"BICM_DARK_ON_LIGHT"}],"BarcodeComplementModes":[{"Mode":"BCM_SKIP"}],"BarcodeFormatIds":["BF_ALL"],"BarcodeFormatIds_2":["BF2_POSTALCODE","BF2_DOTCODE"],"BinarizationModes":[{"BlockSizeX":0,"BlockSizeY":0,"EnableFillBinaryVacancy":1,"ImagePreprocessingModesIndex":-1,"Mode":"BM_LOCAL_BLOCK","ThreshValueCoefficient":10}],"ColourClusteringModes":[{"Mode":"CCM_SKIP"}],"ColourConversionModes":[{"BlueChannelWeight":-1,"GreenChannelWeight":-1,"Mode":"CICM_GENERAL","RedChannelWeight":-1}],"DPMCodeReadingModes":[{"Mode":"DPMCRM_SKIP"}],"DeblurLevel":5,"DeformationResistingModes":[{"Mode":"DRM_SKIP"}],"Description":"","ExpectedBarcodesCount":512,"FormatSpecificationNameArray":null,"GrayscaleTransformationModes":[{"Mode":"GTM_ORIGINAL"}],"ImagePreprocessingModes":[{"Mode":"IPM_GENERAL"}],"IntermediateResultSavingMode":{"Mode":"IRSM_MEMORY"},"IntermediateResultTypes":["IRT_NO_RESULT"],"LocalizationModes":[{"Mode":"LM_CONNECTED_BLOCKS"},{"Mode":"LM_STATISTICS"},{"Mode":"LM_STATISTICS_MARKS"},{"Mode":"LM_STATISTICS_POSTAL_CODE"}],"MaxAlgorithmThreadCount":4,"Name":"balance","PDFRasterDPI":300,"PDFReadingMode":{"Mode":"PDFRM_AUTO"},"Pages":"","RegionDefinitionNameArray":null,"RegionPredetectionModes":[{"Mode":"RPM_GENERAL"}],"ResultCoordinateType":"RCT_PIXEL","ReturnBarcodeZoneClarity":0,"ScaleDownThreshold":2300,"ScaleUpModes":[{"Mode":"SUM_AUTO"}],"TerminatePhase":"TP_BARCODE_RECOGNIZED","TextAssistedCorrectionMode":{"BottomTextPercentageSize":0,"LeftTextPercentageSize":0,"Mode":"TACM_VERIFYING","RightTextPercentageSize":0,"TopTextPercentageSize":0},"TextFilterModes":[{"MinImageDimension":65536,"Mode":"TFM_GENERAL_CONTOUR","Sensitivity":0}],"TextResultOrderModes":[{"Mode":"TROM_CONFIDENCE"},{"Mode":"TROM_POSITION"},{"Mode":"TROM_FORMAT"}],"TextureDetectionModes":[{"Mode":"TDM_GENERAL_WIDTH_CONCENTRATION","Sensitivity":5}],"Timeout":10000},"Version":"3.0"}':_=="coverage"?'{"ImageParameter":{"AccompanyingTextRecognitionModes":[{"Mode":"ATRM_SKIP"}],"BarcodeColourModes":[{"LightReflection":1,"Mode":"BICM_DARK_ON_LIGHT"}],"BarcodeComplementModes":[{"Mode":"BCM_SKIP"}],"BarcodeFormatIds":["BF_ALL"],"BarcodeFormatIds_2":["BF2_POSTALCODE","BF2_DOTCODE"],"BinarizationModes":[{"BlockSizeX":0,"BlockSizeY":0,"EnableFillBinaryVacancy":1,"ImagePreprocessingModesIndex":-1,"Mode":"BM_LOCAL_BLOCK","ThreshValueCoefficient":10}],"ColourClusteringModes":[{"Mode":"CCM_SKIP"}],"ColourConversionModes":[{"BlueChannelWeight":-1,"GreenChannelWeight":-1,"Mode":"CICM_GENERAL","RedChannelWeight":-1}],"DPMCodeReadingModes":[{"Mode":"DPMCRM_SKIP"}],"DeblurLevel":9,"DeformationResistingModes":[{"Mode":"DRM_SKIP"}],"Description":"","ExpectedBarcodesCount":512,"FormatSpecificationNameArray":null,"GrayscaleTransformationModes":[{"Mode":"GTM_ORIGINAL"},{"Mode":"GTM_INVERTED"}],"ImagePreprocessingModes":[{"Mode":"IPM_GENERAL"}],"IntermediateResultSavingMode":{"Mode":"IRSM_MEMORY"},"IntermediateResultTypes":["IRT_NO_RESULT"],"LocalizationModes":[{"Mode":"LM_CONNECTED_BLOCKS"},{"Mode":"LM_SCAN_DIRECTLY","ScanDirection":0,"ScanStride":0},{"Mode":"LM_STATISTICS"},{"Mode":"LM_LINES"},{"Mode":"LM_STATISTICS_MARKS"},{"Mode":"LM_STATISTICS_POSTAL_CODE"}],"MaxAlgorithmThreadCount":4,"Name":"coverage","PDFRasterDPI":300,"PDFReadingMode":{"Mode":"PDFRM_AUTO"},"Pages":"","RegionDefinitionNameArray":null,"RegionPredetectionModes":[{"Mode":"RPM_GENERAL"}],"ResultCoordinateType":"RCT_PIXEL","ReturnBarcodeZoneClarity":0,"ScaleDownThreshold":214748347,"ScaleUpModes":[{"Mode":"SUM_AUTO"}],"TerminatePhase":"TP_BARCODE_RECOGNIZED","TextAssistedCorrectionMode":{"BottomTextPercentageSize":0,"LeftTextPercentageSize":0,"Mode":"TACM_VERIFYING","RightTextPercentageSize":0,"TopTextPercentageSize":0},"TextFilterModes":[{"MinImageDimension":65536,"Mode":"TFM_GENERAL_CONTOUR","Sensitivity":0}],"TextResultOrderModes":[{"Mode":"TROM_CONFIDENCE"},{"Mode":"TROM_POSITION"},{"Mode":"TROM_FORMAT"}],"TextureDetectionModes":[{"Mode":"TDM_GENERAL_WIDTH_CONCENTRATION","Sensitivity":5}],"Timeout":10000},"Version":"3.0"}':'{"ImageParameter":{"AccompanyingTextRecognitionModes":[{"Mode":"ATRM_SKIP"}],"BarcodeColourModes":[{"LightReflection":1,"Mode":"BICM_DARK_ON_LIGHT"}],"BarcodeComplementModes":[{"Mode":"BCM_SKIP"}],"BarcodeFormatIds":["BF_ALL"],"BarcodeFormatIds_2":null,"BinarizationModes":[{"BlockSizeX":0,"BlockSizeY":0,"EnableFillBinaryVacancy":1,"ImagePreprocessingModesIndex":-1,"Mode":"BM_LOCAL_BLOCK","ThreshValueCoefficient":10}],"ColourClusteringModes":[{"Mode":"CCM_SKIP"}],"ColourConversionModes":[{"BlueChannelWeight":-1,"GreenChannelWeight":-1,"Mode":"CICM_GENERAL","RedChannelWeight":-1}],"DPMCodeReadingModes":[{"Mode":"DPMCRM_SKIP"}],"DeblurLevel":9,"DeformationResistingModes":[{"Mode":"DRM_SKIP"}],"Description":"","ExpectedBarcodesCount":512,"FormatSpecificationNameArray":null,"GrayscaleTransformationModes":[{"Mode":"GTM_ORIGINAL"}],"ImagePreprocessingModes":[{"Mode":"IPM_GENERAL"}],"IntermediateResultSavingMode":{"Mode":"IRSM_MEMORY"},"IntermediateResultTypes":["IRT_NO_RESULT"],"LocalizationModes":[{"Mode":"LM_CONNECTED_BLOCKS"},{"Mode":"LM_SCAN_DIRECTLY","ScanDirection":0,"ScanStride":0},{"Mode":"LM_STATISTICS"},{"Mode":"LM_LINES"}],"MaxAlgorithmThreadCount":4,"Name":"default","PDFRasterDPI":300,"PDFReadingMode":{"Mode":"PDFRM_AUTO"},"Pages":"","RegionDefinitionNameArray":null,"RegionPredetectionModes":[{"Mode":"RPM_GENERAL"}],"ResultCoordinateType":"RCT_PIXEL","ReturnBarcodeZoneClarity":0,"ScaleDownThreshold":2300,"ScaleUpModes":[{"Mode":"SUM_AUTO"}],"TerminatePhase":"TP_BARCODE_RECOGNIZED","TextAssistedCorrectionMode":{"BottomTextPercentageSize":0,"LeftTextPercentageSize":0,"Mode":"TACM_VERIFYING","RightTextPercentageSize":0,"TopTextPercentageSize":0},"TextFilterModes":[{"MinImageDimension":65536,"Mode":"TFM_GENERAL_CONTOUR","Sensitivity":0}],"TextResultOrderModes":[{"Mode":"TROM_CONFIDENCE"},{"Mode":"TROM_POSITION"},{"Mode":"TROM_FORMAT"}],"TextureDetectionModes":[{"Mode":"TDM_GENERAL_WIDTH_CONCENTRATION","Sensitivity":5}],"Timeout":10000},"Version":"3.0"}');C=_}else{if(typeof _!="object")throw TypeError("'setTemplateSettings(settings)': Type of 'settings' should be 'String' or 'PlainObject'.");C=e.stringify(_)}return _=e.parse(C),w._runtimeSettings=_,w._initSettingsContent=null,w._innerServiceCmd(w._runtimeSettings,null).then(function(x){return x=s._handleRetJsonString(x),w._runtimeSettings=x.settings,w._runtimeSettings||(w._runtimeSettings=e.parse(s._defaultRuntimeSettingsStr)),x.settings})},h.prototype.resetRuntimeSettings=function(){var _=this;return _._runtimeSettings=e.parse(s._defaultRuntimeSettingsStr),_._initSettingsContent=null,_._innerServiceCmd(_._runtimeSettings,null).then(function(C){return C=s._handleRetJsonString(C),_._runtimeSettings=C.settings,_._runtimeSettings||(_._runtimeSettings=e.parse(s._defaultRuntimeSettingsStr)),C.settings})},h.prototype.outputSettingsToString=function(_){if(!_)return s._defaultTemplateStr;for(var C=0;C<this._tplContentArr.length;++C)if(_==this._tplContentArr[C].ImageParameter.Name)return e.stringify(this._tplContentArr[C])},h.prototype.initRuntimeSettingsWithString=function(_){var C=this;if(e.isString(_))return C._runtimeSettings=null,C._initSettingsContent=e.parse(_),C._innerServiceCmd(null,C._initSettingsContent).then(function(w){return w=s._handleRetJsonString(w),C._runtimeSettings=w.settings,C._runtimeSettings||(C._runtimeSettings=e.parse(s._defaultRuntimeSettingsStr)),w.settings});throw TypeError("'initRuntimeSettingsWithString(settings)': Type of 'settings' should be 'String'.")},h}(),s._dbr_ax=!1,s._dbr=!1,s._initH5=function(h,y,_){return new e.Promise(function(C,w){h._bRemoteMode&&h._dmService&&h._dmService.attrs&&h._dmService.attrs.url&&(h._dbrUrlRoot=h._dmService.attrs.url+"dcp/dbr_"+s.Version.replace(/\./g,"")+"/"),h._dbrUrlRoot||(h._dbrUrlRoot=q.DWT.NetManager.getModuleUrl("dcp/dbr_"+s.Version.replace(/\./g,"")+"/"));var x=5,A={method:"POST",url:h._dbrUrlRoot+"VersionInfo?t="+e.getRandom(),data:'{"method":"VersionInfo"}',onSuccess:function(){C()},onError:function(){if(--x<=0)return w("Failed to connect to the Barcode Reader Add-on, the library may be missing in the Dynamic Web TWAIN Service directory.");setTimeout(function(){e.ajax(A)},300)},dataType:"json",async:!0,timeout:800};e.ajax(A)}).then(function(){return s._dbr=new s.Class(h),s._dbr._innerServiceCmd(null,null)}).then(function(C){try{var w=s._handleRetJsonString(C);s._dbr._runtimeSettings=w.settings,s._defaultRuntimeSettingsStr=e.stringify(w.settings),s._defaultTemplateStr=e.stringify(w.outputSettings),y(s._dbr)}catch(x){_(Error("Init template & runtimeSettings failed: "+x.message)||x)}},function(C){_(C)})},s.dbrInitPromiseFun=function(h){return new e.Promise(function(y,_){s.innerDbrInit(h,y,_)})},s.innerDbrInit=function(h,y,_){var C=!1,w=!1,x=(e.product.bHTML5Edition?C=!0:w=!0,q.BarcodeReaderAddon);if(C){if(x._dbr)return void y(x._dbr)}else if(w&&x._dbr_ax)return void y(x._dbr_ax);if(C&&x._initH5(h,y,_),w){if(C=q.navInfoSync,w={method:"ReadBarcode",parameter:[q.Lib.product.refProductKey,4002,"",""]},!C.bIE)return _(Error("The DBR init error."));try{x._activeXInstance=new ActiveXObject("DBRModule.AtlDBR");var A,P=x._activeXInstance.Process(e.stringify(w),location.protocol+"//"+location.host),R=e.parse(P);return R?"settings"in R?(x._dbr_ax=new x.Class(h),x._dbr_ax._runtimeSettings=R.settings,x._defaultRuntimeSettingsStr=e.stringify(R.settings),"outputSettings"in R&&(x._defaultTemplateStr=e.stringify(R.outputSettings)),void y(x._dbr_ax)):(A=R.description||"The DBR init error.",_(Error(A))):_(Error("The DBR init error."))}catch(E){return _(Error("The DBR .dll is missing or not accessible: "+(E.message||E)))}}},e.DynamicLoadAddonFuns&&e.DynamicLoadAddonFuns.push(function(h){if(i=h._b64bit?"dbrx64_"+q.BarcodeReaderAddon.Version+".dll":"dbr_"+q.BarcodeReaderAddon.Version+".dll",e.product.bHTML5Edition)try{h._innerSend("GetAddOnVersion",e.html5.Funs.makeParams("barcodereader",i),!0,!1,!1).catch(function(){})}catch{}function y(C){return!e.License.checkProductKey(C,{Core:!0})||!!q.Lib.env.bMobile&&(C._errorCode=q.DBR.EnumErrorCode.DBR_UNKNOWN,C._errorString=s.errors.ServiceEditionNotSupportDbr,!0)}var _={BarcodeReader:{decode:function(C){return y(h)?e.Promise.reject(s.BarcodeReaderException(h._errorCode,h._errorString)):!e.isNumber(C)||C<0||C>=h.HowManyImagesInBuffer?(e.Errors.IndexOutOfRange(h),e.Promise.reject(s.BarcodeReaderException(h._errorCode,h._errorString))):new e.Promise(function(w){s._decoding?s._decodeQueue.push({method:w,args:[C]}):(s._decoding=!0,w(C))}).then(function(w){var x;if(e.product.bHTML5Edition){if((x=h._ImgManager.convertClientIndexToServerId(w))==-1)throw e.Errors.IndexOutOfRange(h),setTimeout(s._decodeNext,0),s.BarcodeReaderException(h._errorCode,h._errorString)}else x=w;return new e.Promise(function(A,P){s.dbrInitPromiseFun(h).then(function(R){var E;if(!e.product.bHTML5Edition)return E=x,O=h.GetImagePartURL(E,-1,-1),R._innerDecode(4001,O,"").then(function(L){L.imageid=h.IndexToImageID(E),setTimeout(s._decodeNext,0),A(L)},function(L){setTimeout(s._decodeNext,0),P(L)});E=h._ImgManager.convertServerIdToClientIndex(x);var O=h.GetImagePartURL(E,-1,-1);return R._innerDecode(4e3,O,"",h._clientId).then(function(L){L.imageid=h.IndexToImageID(E),setTimeout(s._decodeNext,0),A(L),h._blts&&q.DWT.lcvrf(h)},function(L){setTimeout(s._decodeNext,0),P(L)})},function(R){setTimeout(s._decodeNext,0),P(R)})})})},resetRuntimeSettings:function(){return y(h)?e.Promise.reject(s.BarcodeReaderException(h._errorCode,h._errorString)):s.dbrInitPromiseFun(h).then(function(C){return C.resetRuntimeSettings()})},getRuntimeSettings:function(C){return y(h)?e.Promise.reject(s.BarcodeReaderException(h._errorCode,h._errorString)):!e.isString(C)||C!="speed"&&C!="balance"&&C!="coverage"&&C!="default"?s.dbrInitPromiseFun(h).then(function(w){return w.getRuntimeSettings()}):this.updateRuntimeSettings(C)},updateRuntimeSettings:function(C){return y(h)?e.Promise.reject(s.BarcodeReaderException(h._errorCode,h._errorString)):s.dbrInitPromiseFun(h).then(function(w){return w.updateRuntimeSettings(C)})},initRuntimeSettingsWithString:function(C){return y(h)?e.Promise.reject(s.BarcodeReaderException(h._errorCode,h._errorString)):s.dbrInitPromiseFun(h).then(function(w){return w.initRuntimeSettingsWithString(C)})}}};e.product.bHTML5Edition?(h.__addon=h.__addon||{},e.mix(h.__addon,_)):(h.Addon=h.Addon||{},e.mix(h.Addon,_))})});/*! 20251201182703
* Dynamsoft JavaScript Library
* Product: Dynamic Web TWAIN
* Web Site: https://www.dynamsoft.com
*
* Copyright 2025, Dynamsoft Corporation
* Author: Dynamsoft Support Team
*
* Module: PDF
* Version: 19.3
* 
*/var q=self.Dynamsoft||{};q.DWT=q.DWT||{},q.aryAddonReadyFun=q.aryAddonReadyFun||[],q.AddonReady=q.AddonReady||function(e){q.aryAddonReadyFun.push(e)},function(){q.DWT.EnumDWT_ConvertMode={CM_RENDERALL:1,CM_IMAGEONLY:2,CM_AUTO:3,CM_RENDERALLWITHANNOTATION:4},q.DWT.EnumDWT_PDFCompressionType={PDF_AUTO:0,PDF_FAX3:1,PDF_FAX4:2,PDF_LZW:3,PDF_RLE:4,PDF_JPEG:5,PDF_JP2000:6,PDF_JBIG2:7}}(),q.AddonReady(function(e,r){var i,s;e.product.bHTML5Edition&&(i={code:-2830,message:"The PDF resolution must be a positive number."},e.DynamicLoadAddonFuns)&&e.DynamicLoadAddonFuns.push(function(f){var h,y=e.html5.Funs;s=f.__serverPlatform==q.DWT.EnumDWT_PlatformType.enumMac?f._b64bit?"libDMCodecx64.dylib":"libDMCodec.dylib":f.__serverPlatform==q.DWT.EnumDWT_PlatformType.enumLinux||f.__serverPlatform==q.DWT.EnumDWT_PlatformType.enumEmbed||f.__serverPlatform==q.DWT.EnumDWT_PlatformType.enumChromeOS?"libDMCodec.so":f._b64bit?"DMCodecx64.dll":"DMCodec.dll";try{f._innerSend("GetAddOnVersion",y.makeParams("pdf",s),!0,!1,!1).catch(function(){})}catch{}h={PDF:{IsModuleInstalled:function(){var _=f;return _._resetErr(),_._innerFun("GetAddOnVersion",y.makeParams("pdf",s))!=""},IsModuleInstalledAsync:function(){var _=f;return _._resetErr(),_._innerFunV2("GetAddOnVersion",y.makeParams("pdf",s)).then(function(C){return C!=""})},ConvertToImage:function(A,C,w,x){var A=y.replaceLocalFilename(A),P="ConvertPDFToImage",R=f;return R._resetErr(),y.showMask(P),R._innerSend(P,y.makeParams(A,C),!0,function(E){return y.hideMask(P),w&&w(),!0},function(E){return y.hideMask(P),x&&x(),!1}),!0},SetPassword:function(_){var C=f,w=_||"";return C._resetErr(),!!C._checkPDFPasswordValue(w)&&(w=C._mixSavedPdfReaderOptions({password:w}),(w=C._setReaderOptions(w,!1))&&(C._pdfOptions.password=_),w)},SetConvertMode:function(_){return f._setConvertMode(_)},SetConvertModeAsync:function(_){return f._setConvertModeAsync(_)},GetConvertMode:function(){var _=f;return _._resetErr(),_._pdfConvertMode},SetResolution:function(_){var C=f,w=_;return C._resetErr(),w=C._mixSavedPdfReaderOptions({renderOptions:{resolution:w}}),(w=C._setReaderOptions(w,!1))&&(C._pdfOptions.renderOptions.resolution=_),w},SetResolutionAsync:function(_){var C=f;return C._resetErr(),!q.Lib.isNumber(_)||_<=0?q.Lib.Promise.reject(i):C._innerFunV2("SetPDFResolution",y.makeParams(_)).then(function(w){w&&(C._pdfOptions.renderOptions.resolution=_)})},SetReaderOptions:function(_){return f._setReaderOptions(_,!0)},GetReaderOptions:function(){var _,C=f;return C._resetErr(),_=f._innerFun("GetPDFReaderOptions"),_=q.Lib.parse(_),C._pdfOptions=C._mixSavedPdfReaderOptions(_),q.Lib.clone(C._pdfOptions)},IsTextBasedPDF:function(A,C,w){var x=f,A=(x._resetErr(),y.replaceLocalFilename(A)),A=f._innerFun("IsTextBasedPDF",y.makeParams(A));return x.ErrorCode==0?e.isFunction(C)&&C(A):e.isFunction(w)&&w(x.ErrorCode,x.ErrorString),A},IsRasterizationRequired:function(_){return f._resetErr(),_=y.replaceLocalFilename(_),f._innerFun("IsRasterizationRequired",y.makeParams(_))},Write:{Setup:function(w){e.isObject(w)?(C=q.Lib.clone(w),2<e.stringify(C).length&&(e.isNumber(C.version)?1<=C.version&&C.version<2&&(C.version=parseInt(10*C.version)):C.version=15)):C={version:15},e.isNumber(C.compression)&&C.compression==q.DWT.EnumDWT_PDFCompressionType.PDF_FAX3&&(C.compression=q.DWT.EnumDWT_PDFCompressionType.PDF_FAX4);var C,w=f;return w._resetErr(),!(C.password&&(e.isNumber(C.password)&&(C.password=C.password.toString()),!w._checkPDFPasswordValue(C.password)))&&(C=e.stringify(C),C=e.replaceAll(C,'"','\\"'),w._innerFun("SetPDFSettings",['["',C,'"]'].join("")))}}}},f.__addon=f.__addon||{},e.mix(f.__addon,h)})}),q.AddonReady(function(e,r){e.product.bActiveXEdition&&e.DynamicLoadAddonFuns&&e.DynamicLoadAddonFuns.push(function(i){var s,f,h;if(!i.getSWebTwain()||!i.getSWebTwain().Addon)return!1;q.navInfoSync.bWin&&(h=!q.navInfo.bOSx64||q.navInfo.bWOW64?"DMCodec.dll":"DMCodecx64.dll"),f=i.getSWebTwain(),s={PDF:{IsModuleInstalled:function(){var y=f.GetAddOnVersion("pdf",h);return e.setErrorString(i),y!=""},IsModuleInstalledAsync:function(){var y=f.GetAddOnVersion("pdf",h);return e.setErrorString(i),e.Promise.resolve(y!="")},ConvertToImage:function(y,_,C,w){return y=f.ConvertPDFToImage(y,_),e.wrapperRet(i,y,C,w)},SetPassword:function(y){return y=f.SetPDFPassword(y),e.wrapperRet(i,y)},SetConvertMode:function(y){return i._setConvertMode(y)},SetConvertModeAsync:function(y){return Promise.resolve(i._setConvertMode(y))},GetConvertMode:function(){return i._resetErr(),i._pdfConvertMode},SetResolution:function(y){return y=f.SetPDFResolution(y),e.wrapperRet(i,y)},SetResolutionAsync:function(y){return y=f.SetPDFResolution(y),e.Promise.resolve(e.wrapperRet(i,y))},SetReaderOptions:function(){return!1},GetReaderOptions:function(){return{}},IsTextBasedPDF:function(y){return y=f.IsTextBasedPDF(y),e.wrapperRet(i,y)}}},i.Addon=i.Addon||{},e.mix(i.Addon,s)})});/*! 20251201182703
* Dynamsoft JavaScript Library
* Product: Dynamic Web TWAIN
* Web Site: https://www.dynamsoft.com
*
* Copyright 2025, Dynamsoft Corporation
* Author: Dynamsoft Support Team
*
* Module: OCR
* Version: 19.3
* 
*/var q=self.Dynamsoft||{};q.DWT=q.DWT||{},q.aryAddonReadyFun=q.aryAddonReadyFun||[],q.AddonReady=q.AddonReady||function(e){q.aryAddonReadyFun.push(e)},q.DWT.OCRVerInName="10.0.0.0618",function(){for(var e=[q.DWT],r=0;r<1;r++){var i=e[r];i.EnumDWT_OCRLanguage={OCRL_ENG:"eng",OCRL_ARA:"ara",OCRL_CHI_SIM:"chi_sim",OCRL_CHI_TRA:"chi_tra",OCRL_HIN:"hin",OCRL_URD:"urd",OCRL_SPA:"spa",OCRL_FRA:"fra",OCRL_MSA:"msa",OCRL_IND:"ind",OCRL_RUS:"rus",OCRL_BEN:"ben",OCRL_POR:"por",OCRL_PAN:"pan",OCRL_DEU:"deu",OCRL_JPN:"jpn",OCRL_FAS:"fas",OCRL_SWA:"swa",OCRL_JAV:"jav",OCRL_TEL:"tel",OCRL_TUR:"tur",OCRL_KOR:"kor",OCRL_MAR:"mar",OCRL_TAM:"tam",OCRL_VIE:"vie",OCRL_ITA:"ita",OCRL_THA:"tha"},i.EnumDWT_OCRPageSetMode={OCRPSM_OSD_ONLY:0,PSM_AUTO_OSD:1,PSM_AUTO_ONLY:2,PSM_AUTO:3,PSM_SINGLE_COLUMN:4,PSM_SINGLE_BLOCK_VERT_TEXT:5,PSM_SINGLE_BLOCK:6,PSM_SINGLE_LINE:7,PSM_SINGLE_WORD:8,PSM_CIRCLE_WORD:9,PSM_SINGLE_CHAR:10},i.EnumDWT_OCROutputFormat={OCROF_TEXT:0,OCROF_PDFPLAINTEXT:1,OCROF_PDFIMAGEOVERTEXT:2,OCROF_PDFPLAINTEXT_PDFX:3,OCROF_PDFIMAGEOVERTEXT_PDFX:4},i.EnumDWT_OCRDownloadType={OCRDT_Dll:0,OCRDT_LANGUAGE:1}}}(),q.DWT.OCRLanguageData_eng="4113088",q.DWT.OCRLanguageData_ara="1432056",q.DWT.OCRLanguageData_chi_sim="2469156",q.DWT.OCRLanguageData_chi_tra="2366642",q.DWT.OCRLanguageData_hin="1122751",q.DWT.OCRLanguageData_urd="1398718",q.DWT.OCRLanguageData_spa="2294433",q.DWT.OCRLanguageData_fra="1130365",q.DWT.OCRLanguageData_msa="1747801",q.DWT.OCRLanguageData_ind="1122661",q.DWT.OCRLanguageData_rus="3861738",q.DWT.OCRLanguageData_ben="855841",q.DWT.OCRLanguageData_por="1982756",q.DWT.OCRLanguageData_pan="497721",q.DWT.OCRLanguageData_deu="1525436",q.DWT.OCRLanguageData_jpn="2471260",q.DWT.OCRLanguageData_fas="431500",q.DWT.OCRLanguageData_swa="2167651",q.DWT.OCRLanguageData_jav="2982741",q.DWT.OCRLanguageData_tel="2769654",q.DWT.OCRLanguageData_tur="4550554",q.DWT.OCRLanguageData_kor="1677415",q.DWT.OCRLanguageData_mar="2118233",q.DWT.OCRLanguageData_tam="3237963",q.DWT.OCRLanguageData_vie="531275",q.DWT.OCRLanguageData_ita="2701314",q.DWT.OCRLanguageData_tha="1072600",q.DWT.OCRLanguageData={},q.DWT.OCRLanguageData[q.DWT.EnumDWT_OCRLanguage.OCRL_ENG]=q.DWT.OCRLanguageData_eng,q.DWT.OCRLanguageData[q.DWT.EnumDWT_OCRLanguage.OCRL_ARA]=q.DWT.OCRLanguageData_ara,q.DWT.OCRLanguageData[q.DWT.EnumDWT_OCRLanguage.OCRL_CHI_TRA]=q.DWT.OCRLanguageData_chi_tra,q.DWT.OCRLanguageData[q.DWT.EnumDWT_OCRLanguage.OCRL_CHI_SIM]=q.DWT.OCRLanguageData_chi_sim,q.DWT.OCRLanguageData[q.DWT.EnumDWT_OCRLanguage.OCRL_HIN]=q.DWT.OCRLanguageData_hin,q.DWT.OCRLanguageData[q.DWT.EnumDWT_OCRLanguage.OCRL_URD]=q.DWT.OCRLanguageData_urd,q.DWT.OCRLanguageData[q.DWT.EnumDWT_OCRLanguage.OCRL_SPA]=q.DWT.OCRLanguageData_spa,q.DWT.OCRLanguageData[q.DWT.EnumDWT_OCRLanguage.OCRL_FRA]=q.DWT.OCRLanguageData_fra,q.DWT.OCRLanguageData[q.DWT.EnumDWT_OCRLanguage.OCRL_MSA]=q.DWT.OCRLanguageData_msa,q.DWT.OCRLanguageData[q.DWT.EnumDWT_OCRLanguage.OCRL_IND]=q.DWT.OCRLanguageData_ind,q.DWT.OCRLanguageData[q.DWT.EnumDWT_OCRLanguage.OCRL_RUS]=q.DWT.OCRLanguageData_rus,q.DWT.OCRLanguageData[q.DWT.EnumDWT_OCRLanguage.OCRL_BEN]=q.DWT.OCRLanguageData_ben,q.DWT.OCRLanguageData[q.DWT.EnumDWT_OCRLanguage.OCRL_POR]=q.DWT.OCRLanguageData_por,q.DWT.OCRLanguageData[q.DWT.EnumDWT_OCRLanguage.OCRL_PAN]=q.DWT.OCRLanguageData_pan,q.DWT.OCRLanguageData[q.DWT.EnumDWT_OCRLanguage.OCRL_DEU]=q.DWT.OCRLanguageData_deu,q.DWT.OCRLanguageData[q.DWT.EnumDWT_OCRLanguage.OCRL_JPN]=q.DWT.OCRLanguageData_jpn,q.DWT.OCRLanguageData[q.DWT.EnumDWT_OCRLanguage.OCRL_FAS]=q.DWT.OCRLanguageData_fas,q.DWT.OCRLanguageData[q.DWT.EnumDWT_OCRLanguage.OCRL_SWA]=q.DWT.OCRLanguageData_swa,q.DWT.OCRLanguageData[q.DWT.EnumDWT_OCRLanguage.OCRL_JAV]=q.DWT.OCRLanguageData_jav,q.DWT.OCRLanguageData[q.DWT.EnumDWT_OCRLanguage.OCRL_TEL]=q.DWT.OCRLanguageData_tel,q.DWT.OCRLanguageData[q.DWT.EnumDWT_OCRLanguage.OCRL_TUR]=q.DWT.OCRLanguageData_tur,q.DWT.OCRLanguageData[q.DWT.EnumDWT_OCRLanguage.OCRL_KOR]=q.DWT.OCRLanguageData_kor,q.DWT.OCRLanguageData[q.DWT.EnumDWT_OCRLanguage.OCRL_MAR]=q.DWT.OCRLanguageData_mar,q.DWT.OCRLanguageData[q.DWT.EnumDWT_OCRLanguage.OCRL_TAM]=q.DWT.OCRLanguageData_tam,q.DWT.OCRLanguageData[q.DWT.EnumDWT_OCRLanguage.OCRL_VIE]=q.DWT.OCRLanguageData_vie,q.DWT.OCRLanguageData[q.DWT.EnumDWT_OCRLanguage.OCRL_ITA]=q.DWT.OCRLanguageData_ita,q.DWT.OCRLanguageData[q.DWT.EnumDWT_OCRLanguage.OCRL_THA]=q.DWT.OCRLanguageData_tha,function(e){function r(){var i=this;i._text="",i._fontName="",i._fontSize="",i._left=0,i._top=0,i._right=0,i._bottom=0}r.prototype.GetText=function(){return this._text},r.prototype.GetFontName=function(){return this._fontName},r.prototype.GetFontSize=function(){return this._fontSize},r.prototype.GetWordRect=function(){var i=this;return i._left+","+i._top+","+i._right+","+i._bottom},e.NewWordBasicResult=function(){return new r}}(q.Lib),function(e){function r(){var i=this;i._count=0,i._left=0,i._top=0,i._right=0,i._bottom=0,i._wordlist=[]}r.prototype.GetWordCount=function(){return this._count},r.prototype.GetLineRect=function(){var i=this;return i._left+","+i._top+","+i._right+","+i._bottom},r.prototype.GetWordContent=function(i){var s=this,f=s._wordlist.length;return s._errorCode<0?"":i==null||f<=i||i<0?(q.Lib.Errors.OCR_InvalidIndex(s,"GetWordContent"),""):((f=q.Lib.NewWordBasicResult())._text=s._wordlist[i].text,f._fontName=s._wordlist[i].fontname,f._fontSize=s._wordlist[i].fontsize,f._left=s._wordlist[i].rect[0],f._top=s._wordlist[i].rect[1],f._right=s._wordlist[i].rect[2],f._bottom=s._wordlist[i].rect[3],f)},e.NewLineBasicResult=function(){return new r}}(q.Lib),function(e){function r(){this._count=0,this._linelist=[]}r.prototype.GetLineCount=function(){return this._count},r.prototype.GetLineContent=function(i){var s=this,f=s._linelist.length;return s._errorCode<0?"":i==null||f<=i||i<0?(q.Lib.Errors.OCR_InvalidIndex(s,"GetLineContent"),""):((f=q.Lib.NewLineBasicResult())._count=s._linelist[i].words.length,f._left=s._linelist[i].rect[0],f._top=s._linelist[i].rect[1],f._right=s._linelist[i].rect[2],f._bottom=s._linelist[i].rect[3],f._wordlist=s._linelist[i].words,f)},e.NewPageBasicResult=function(){return new r}}(q.Lib),function(e){function r(){this._count=0,this._pagelist=[]}r.prototype.GetPageCount=function(){return this._count},r.prototype.GetPageContent=function(i){var s=this,f=s._pagelist.length;return s._errorCode<0?"":i==null||f<=i||i<0?(q.Lib.Errors.OCR_InvalidIndex(s,"GetPageContent"),""):((f=q.Lib.NewPageBasicResult())._count=s._pagelist[i].lines.length,f._linelist=s._pagelist[i].lines,f)},e.NewPageSetBasicResult=function(){return new r}}(q.Lib),function(e){function r(i){var s=this;s._errorCode=0,s._errorString="",s._resultlist=[],s._stwain=i}r.prototype.GetErrorCode=function(){return this._errorCode},r.prototype.GetErrorString=function(){return this._errorString},r.prototype.GetFormat=function(){return this._resultlist[0].format},r.prototype.GetInput=function(){var i=this._resultlist[0].input;if(i){var s=Number(i);if(!isNaN(s))return this._stwain._ImgManager.convertServerIdToClientIndex(s)}return i},r.prototype.GetPageSetCount=function(){return this._resultlist[0].pagesets.length},r.prototype.GetPageSetContent=function(i){var s=this,f=s._resultlist[0].pagesets.length;return s._errorCode<0?"":i==null||f<=i||i<0?(q.Lib.Errors.OCR_InvalidIndex(s,"GetPageSetContent"),""):((f=q.Lib.NewPageSetBasicResult())._count=s._resultlist[0].pagesets[i].pages.length,f._pagelist=s._resultlist[0].pagesets[i].pages,f)},r.prototype.Get=function(){return this._stwain._innerFun("GetOCRRestult")},r.prototype.Save=function(i){return i=e.html5.Funs.replaceLocalFilename(i),this._stwain._innerFun("SaveOCRRestult",e.html5.Funs.makeParams(i))},e.NewOCRBasicResult=function(i){return new r(i)}}(q.Lib),function(e){function r(){var i=this;i.UnicodeFontName="",i.UseDetectedFont=!0,i.MinFontSizeforMoreAccurateResult=0,i.OCRLanguage=q.DWT.EnumDWT_OCRLanguage.OCRL_ENG,i.PageSetMode=q.DWT.EnumDWT_OCRPageSetMode.PSM_AUTO,i.OutputFormat=q.DWT.EnumDWT_OCROutputFormat.OCROF_PDFIMAGEOVERTEXT}r.prototype.GetUnicodeFontName=function(){return this.UnicodeFontName},r.prototype.SetUnicodeFontName=function(i){return e.isString(i)||(i=""),this.UnicodeFontName=i,!0},r.prototype.GetUseDetectedFont=function(){return!!this.UseDetectedFont},r.prototype.SetUseDetectedFont=function(i){return this.UseDetectedFont=!!i,!0},r.prototype.GetMinFontSizeforMoreAccurateResult=function(){return this.MinFontSizeforMoreAccurateResult},r.prototype.SetMinFontSizeforMoreAccurateResult=function(i){return i=+i,this.MinFontSizeforMoreAccurateResult=i=i<0?0:i,!0},r.prototype.GetOCRLanguage=function(){return this.OCRLanguage},r.prototype.SetOCRLanguage=function(i){return e.isString(i)||(i=""),this.OCRLanguage=i,!0},r.prototype.GetPageSetMode=function(){return this.PageSetMode},r.prototype.SetPageSetMode=function(i){return i=+i,(i<0||i>q.DWT.EnumDWT_OCRPageSetMode.PSM_SINGLE_CHAR)&&(i=q.DWT.EnumDWT_OCRPageSetMode.PSM_AUTO),this.PageSetMode=i,!0},r.prototype.GetOutputFormat=function(){return this.OutputFormat},r.prototype.SetOutputFormat=function(i){return i=+i,(i<0||i>q.DWT.EnumDWT_OCROutputFormat.OCROF_PDFIMAGEOVERTEXT_PDFX)&&(i=q.DWT.EnumDWT_OCROutputFormat.OCROF_PDFIMAGEOVERTEXT),this.OutputFormat=i,!0},e.NewOptions=function(){return new r}}(q.Lib),q.AddonReady(function(e,r){var i;e.product.bHTML5Edition&&e.DynamicLoadAddonFuns&&e.DynamicLoadAddonFuns.push(function(s){var f,h,y,_=e.html5.Funs,C=e.NewOptions();h=s,y=e.html5.Funs,i=e.env.bMac?"DynamicOCR_"+q.DWT.OCRVerInName+".dylib":e.env.bLinux?"DynamicOCR_"+q.DWT.OCRVerInName+".so":q.dcp.b64bit?"DynamicOCRx64_"+q.DWT.OCRVerInName+".dll":"DynamicOCR_"+q.DWT.OCRVerInName+".dll",h._isMobileMode()||h._innerSend("GetAddOnVersion",y.makeParams("ocr",i),!0,!1,!1),h.__innerOCRBasicReadFunction=function(w,x,A,P,R,E,O,L,k,N,j){return e.isFunction(N)?this.__innerOCRBasicAsyncReadFunction(w,x,A,P,R,E,O,L,k,N,j):this.__innerOCRSyncReadFunction(w,k)},h.__innerGetOCRBasicResultAsyncFunction=function(w){var x=q.Lib.NewOCRBasicResult(this);return w&&(x._errorCode=w.exception,x._errorString=w.description,x._resultlist=w.result),x},h.__innerOCRBasicAsyncReadFunction=function(w,x,A,P,R,E,O,L,k,N,j){var G=this;return y.showMask(w),G._innerSend(w,k,!0,function(le){var $;le.exception==0?(e.isFunction(N)&&(x!=-1?($=G._convertServerIdToGuid(x),P==1?N($,R,E,O,L,G.__innerGetOCRBasicResultAsyncFunction(le)):N($,G.__innerGetOCRBasicResultAsyncFunction(le))):A!=""?N(A,G.__innerGetOCRBasicResultAsyncFunction(le)):N(G.__innerGetOCRBasicResultAsyncFunction(le))),e.License.isLTS()&&q.DWT.lcvrf(h)):e.isFunction(j)&&j(le.exception,le.description),y.hideMask(w)},function(le){y.hideMask(w)}),!0},h.__innerOCRSyncReadFunction=function(w,x){return w=this._innerFunRaw(w,x,!1,!1),x=e.NewOCRBasicResult(),x._errorCode=this._errorCode,x._errorString=this._errorString,w&&e.isArray(w)&&(x._resultlist=w,x._Count=w.length,e.License.isLTS())&&q.DWT.lcvrf(h),x},h.__IsOCRBasicModuleInstalled=function(){return h._innerFun("GetAddOnVersion",y.makeParams("ocr",i)).split("|")[0]!=""},h.__innerBasicDownload=function(w,x,A,P,R){function E(){return L.IfShowProgressBar&&e.closeProgress(null,"Download"),e.isFunction(P)&&P(),!0}function O(){return L.IfShowProgressBar&&e.closeProgress(null,"Download"),e.isFunction(R)&&R(L.ErrorCode,L.ErrorString),!1}var L=h;if(e.cancelFrome=2,w=w.toString(),!e.License.checkProductKey(L,{Core:!0})||!e.License.checkProductKey(L,{OCR:!0},!0))return O();x!=q.DWT.EnumDWT_OCRDownloadType.OCRDT_Dll&&L._innerFun("SetOCRLanguage",y.makeParams(A));var k=L._innerFun("GetAddOnVersion",y.makeParams("ocr",i)).split("|");if(x==q.DWT.EnumDWT_OCRDownloadType.OCRDT_Dll){if(k[0]!="")return E(),!0}else if(A=q.DWT.OCRLanguageData[A],A&&k[1]==A)return E(),!0;if(!w||w=="")return e.Errors.OCR_InvalidRemoteFilename(L),O(),!1;if(y.isServerInvalid(L))return O(),!1;L.IfShowProgressBar&&e.showProgress(L,"Download",!0);var N=!0;x==q.DWT.EnumDWT_OCRDownloadType.OCRDT_Dll?L._OnPercentDone([0,-1,"Downloading OCR Module...","http"]):L._OnPercentDone([0,-1,"Downloading OCR Language Data...","http"]),e.isFunction(P)||(N=!1),y.loadHttpBlob(L,"get",w,N,function(j){L._OnPercentDone([0,-1,"Loading..."]);var G=100;x==q.DWT.EnumDWT_OCRDownloadType.OCRDT_LANGUAGE&&(G=101),L.__LoadImageFromBytes(j,G,"",N,E,O)},function(){L.IfShowProgressBar&&e.closeProgress(null,"Download"),O()},function(j){var G=j.total===0?100:Math.round(100*j.loaded/j.total);[j.loaded," / ",j.total].join(""),L._OnPercentDone([0,G,"","http"])})},f={OCR:{SetUnicodeFontName:function(w){var x=s;return x._resetErr(),x._isMobileMode()?x._mobileNotSupport("Addon.OCR.SetUnicodeFontName"):C.SetUnicodeFontName(w)},GetUnicodeFontName:function(){var w=s;return w._resetErr(),w._isMobileMode()?w._mobileNotSupport("Addon.OCR.GetUnicodeFontName"):C.GetUnicodeFontName()},SetIfUseDetectedFont:function(w){var x=s;return x._resetErr(),x._isMobileMode()?x._mobileNotSupport("Addon.OCR.SetIfUseDetectedFont"):C.SetUseDetectedFont(w)},GetIfUseDetectedFont:function(){var w=s;return w._resetErr(),w._isMobileMode()?w._mobileNotSupport("Addon.OCR.GetIfUseDetectedFont"):C.GetUseDetectedFont()},SetMinFontSizeforMoreAccurateResult:function(w){var x=s;return x._resetErr(),x._isMobileMode()?x._mobileNotSupport("Addon.OCR.SetMinFontSizeforMoreAccurateResult"):C.SetMinFontSizeforMoreAccurateResult(w)},GetMinFontSizeforMoreAccurateResult:function(){var w=s;return w._resetErr(),w._isMobileMode()?w._mobileNotSupport("Addon.OCR.GetMinFontSizeforMoreAccurateResult"):C.GetMinFontSizeforMoreAccurateResult()},SetLanguage:function(w){var x=s;return x._resetErr(),x._isMobileMode()?x._mobileNotSupport("Addon.OCR.SetLanguage"):C.SetOCRLanguage(w)},IsModuleInstalled:function(){var w=s;return w._resetErr(),w._isMobileMode()?w._mobileNotSupport("Addon.OCR.IsModuleInstalled"):w.__IsOCRBasicModuleInstalled()},SetPageSetMode:function(w){var x=s;return x._resetErr(),x._isMobileMode()?x._mobileNotSupport("Addon.OCR.SetPageSetMode"):(w=+w)==q.DWT.EnumDWT_OCRPageSetMode.OCRPSM_OSD_ONLY||w==q.DWT.EnumDWT_OCRPageSetMode.PSM_AUTO_OSD||w==q.DWT.EnumDWT_OCRPageSetMode.PSM_AUTO_ONLY||w==q.DWT.EnumDWT_OCRPageSetMode.PSM_AUTO||w==q.DWT.EnumDWT_OCRPageSetMode.PSM_SINGLE_COLUMN||w==q.DWT.EnumDWT_OCRPageSetMode.PSM_SINGLE_BLOCK_VERT_TEXT||w==q.DWT.EnumDWT_OCRPageSetMode.PSM_SINGLE_BLOCK||w==q.DWT.EnumDWT_OCRPageSetMode.PSM_SINGLE_LINE||w==q.DWT.EnumDWT_OCRPageSetMode.PSM_SINGLE_WORD||w==q.DWT.EnumDWT_OCRPageSetMode.PSM_CIRCLE_WORD||w==q.DWT.EnumDWT_OCRPageSetMode.PSM_SINGLE_CHAR?C.SetPageSetMode(w):(q.Lib.Errors.OCR_InvalidPageSetMode(x),!1)},SetOutputFormat:function(w){var x=s;return x._resetErr(),x._isMobileMode()?x._mobileNotSupport("Addon.OCR.SetOutputFormat"):(w=+w)==q.DWT.EnumDWT_OCROutputFormat.OCROF_TEXT||w==q.DWT.EnumDWT_OCROutputFormat.OCROF_PDFPLAINTEXT||w==q.DWT.EnumDWT_OCROutputFormat.OCROF_PDFIMAGEOVERTEXT||w==q.DWT.EnumDWT_OCROutputFormat.OCROF_PDFPLAINTEXT_PDFX||w==q.DWT.EnumDWT_OCROutputFormat.OCROF_PDFIMAGEOVERTEXT_PDFX?C.SetOutputFormat(w):(q.Lib.Errors.OCR_InvalidOutputFormat(x),!1)},Recognize:function(w,x,A){var P=s;return P._resetErr(),P._isMobileMode()?P._mobileNotSupport("Addon.OCR.Recognize"):e.License.checkProductKey(P,{OCR:!0},!0)?(w=P._ImgManager.convertClientIndexToServerId(w),P.__innerOCRBasicReadFunction("OCRRecognize",w,"",0,0,0,0,0,_.makeParams(0,w,"",0,0,0,0,C.GetUnicodeFontName(),C.GetUseDetectedFont(),C.GetMinFontSizeforMoreAccurateResult(),C.GetOCRLanguage(),C.GetPageSetMode(),C.GetOutputFormat(),""),x,A)):(e.isFunction(A)&&A(P._errorCode,P._errorString),!1)},RecognizeRect:function(w,x,A,P,R,E,O){var L,k=s;return k._resetErr(),k._isMobileMode()?k._mobileNotSupport("Addon.OCR.RecognizeRect"):!x&&x!=0||!A&&A!=0||!P&&P!=0||!R&&R!=0?(L=q.Lib.NewOCRBasicResult(k),q.Lib.Errors.OCR_InvalidLeftOrTopOrRightOrBottom(L,"RecognizeRect"),void O(L.GetErrorCode(),L.GetErrorString())):e.License.checkProductKey(k,{OCR:!0},!0)?(L=k._ImgManager.convertClientIndexToServerId(w),k.__innerOCRBasicReadFunction("OCRRecognize",L,"",1,x,A,P,R,_.makeParams(0,L,"",x,A,P,R,C.GetUnicodeFontName(),C.GetUseDetectedFont(),C.GetMinFontSizeforMoreAccurateResult(),C.GetOCRLanguage(),C.GetPageSetMode(),C.GetOutputFormat(),""),E,O)):(e.isFunction(O)&&O(k._errorCode,k._errorString),!1)},RecognizeFile:function(w,x,A){var P=s;return P._resetErr(),P._isMobileMode()?P._mobileNotSupport("Addon.OCR.RecognizeFile"):(w=_.replaceLocalFilename(w),e.License.checkProductKey(P,{OCR:!0},!0)?P.__innerOCRBasicReadFunction("OCRRecognize",-1,w,0,0,0,0,0,_.makeParams(1,-1,w,0,0,0,0,C.GetUnicodeFontName(),C.GetUseDetectedFont(),C.GetMinFontSizeforMoreAccurateResult(),C.GetOCRLanguage(),C.GetPageSetMode(),C.GetOutputFormat(),""),x,A):(e.isFunction(A)&&A(P._errorCode,P._errorString),!1))},RecognizeSelectedImages:function(w,x){var A,P,R,E=s;return E._resetErr(),E._isMobileMode()?E._mobileNotSupport("Addon.OCR.RecognizeSelectedImages"):e.License.checkProductKey(E,{OCR:!0},!0)?(R=[],(A=E)._ImgManager.count()<=0||(P=A._ImgManager.getCurrentImageIndex(),A._ImgManager.convertClientIndexToServerId(P),P=A._ImgManager.getSelectedClientIndexArray(),e.isArray(P)&&e.each(P,function(O){O=A._ImgManager.convertClientIndexToServerId(O),R.push(O)})),P=R,E.__innerOCRBasicReadFunction("OCRRecognize",-1,"",0,0,0,0,0,_.makeParams(2,-1,"",0,0,0,0,C.GetUnicodeFontName(),C.GetUseDetectedFont(),C.GetMinFontSizeforMoreAccurateResult(),C.GetOCRLanguage(),C.GetPageSetMode(),C.GetOutputFormat(),P.join(",")),w,x)):(e.isFunction(x)&&x(E._errorCode,E._errorString),!1)}}},s.__addon=s.__addon||{},e.mix(s.__addon,f)})});var q=self.Dynamsoft||{};q.DWT=q.DWT||{};q.aryAddonReadyFun=q.aryAddonReadyFun||[];q.AddonReady=q.AddonReady||function(e){q.aryAddonReadyFun.push(e)};q.ProOCRVerInName="1.2.0.0806";(function(e){function r(){var i=this;i._text="",i._left=0,i._top=0,i._right=0,i._bottom=0}r.prototype.GetText=function(){var i=this;return i._text},r.prototype.GetLetterRect=function(){var i=this;return i._left+","+i._top+","+i._right+","+i._bottom},e.NewLetterResult=function(){return new r}})(q.Lib);(function(e){function r(){var i=this;i._count=0,i._letterlist=[],i._zoneCount=0,i._zoneWords=[]}r.prototype.GetLettersCount=function(){var i=this;return i._count},r.prototype.GetZoneCount=function(){var i=this;return i._zoneCount},r.prototype.GetLetterContent=function(i){var s=this,f=s._count;if(s._errorCode<0)return"";if(i==null||i>=f||i<0)return q.Lib.Errors.OCR_InvalidIndex(s,"GetLetterContent"),"";var h=q.Lib.NewLetterResult();return h._text=s._letterlist[i].letter,h._left=s._letterlist[i].boundary[0],h._top=s._letterlist[i].boundary[1],h._right=s._letterlist[i].boundary[2],h._bottom=s._letterlist[i].boundary[3],h},r.prototype.GetZoneContent=function(i){var s=this,f=s._zoneCount;return s._errorCode<0?"":i==null||i>=f||i<0?(q.Lib.Errors.OCR_InvalidIndex(s,"GetZoneContent"),""):s._zoneWords[i]},e.NewPageResult=function(){return new r}})(q.Lib);(function(e){function r(){var i=this;i._input=0,i._message="",i._page=-1}r.prototype.GetInput=function(){var i=this;return i._input},r.prototype.GetMessage=function(){var i=this;return i._message},r.prototype.GetPage=function(){var i=this;return i._page},e.NewErrorInfo=function(){return new r}})(q.Lib);(function(e){function r(i){var s=this;s._errorCode=0,s._errorString="",s._errorlist=[],s._request="",s._ocrTotalCount=0,s._alreadyOCRCount=0,s._resultlist=[],s._resultZoneDetail=[],s._stwain=i}r.prototype.GetErrorCode=function(){var i=this;return i._errorCode},r.prototype.GetErrorString=function(){var i=this;return i._errorString},r.prototype.GetInput=function(){var i=this;if(i._request&&i._request.input){var s=i._request.input;if(s){var f=Number(s);if(!isNaN(f))return i._stwain._ImgManager.convertServerIdToClientIndex(f)}return s}else return""},r.prototype.GetErrorDetailList=function(){var i=this,s=0;i._errorlist&&(s=i._errorlist.length);for(var f=[],h=0;h<s;h++){var y=q.Lib.NewErrorInfo();y._input=i._errorlist[h].input,y._message=i._errorlist[h].message,y._page=i._errorlist[h].page,f.push(y)}return f},r.prototype.GetOCRTotalCount=function(){var i=this;return i._ocrTotalCount?i._ocrTotalCount:0},r.prototype.GetAlreadyOCRCount=function(){var i=this;return i._alreadyOCRCount?i._alreadyOCRCount:0},r.prototype.GetPageCount=function(){var i=this;return i._resultlist&&i._resultlist.length?i._resultlist.length:0},r.prototype.GetPageContent=function(i){var s=this,f=0;if(s._resultlist&&(f=s._resultlist.length),i==null||i>=f||i<0)return q.Lib.Errors.OCR_InvalidIndex(s,"GetPageContent"),"";var h=q.Lib.NewPageResult();return s._resultlist?(h._count=s._resultlist[i].length,h._letterlist=s._resultlist[i]):h._count=0,s._resultZoneDetail?(h._zoneCount=s._resultZoneDetail[i].length,h._zoneWords=s._resultZoneDetail[i]):h._zoneCount=0,h},r.prototype.Get=function(){var i=this;return i._stwain._innerFun("GetOCRRestult")},r.prototype.Save=function(i){var s=this,f=e.html5.Funs.replaceLocalFilename(i);return s._stwain._innerFun("SaveOCRRestult",e.html5.Funs.makeParams(f))},e.NewOCRProResult=function(i){return new r(i)}})(q.Lib);(function(e){for(var r=[q.DWT],i=0;i<1;i++){var s=r[i];s.EnumDWT_OCRProRecognitionModule={OCRPM_AUTO:"AUTO",OCRPM_MOSTACCURATE:"MOSTACCURATE",OCRPM_BALANCED:"BALANCED",OCRPM_FASTEST:"FASTEST"},s.EnumDWT_OCRProOutputFormat={OCRPFT_TXTS:"TXTS",OCRPFT_TXTCSV:"TXTCSV",OCRPFT_TXTF:"TXTF",OCRPFT_XML:"XML",OCRPFT_IOTPDF:"IOTPDF",OCRPFT_IOTPDF_MRC:"IOTPDF_MRC"},s.EnumDWT_OCRProPDFVersion={OCRPPDFV_0:"1.0",OCRPPDFV_1:"1.1",OCRPPDFV_2:"1.2",OCRPPDFV_3:"1.3",OCRPPDFV_4:"1.4",OCRPPDFV_5:"1.5",OCRPPDFV_6:"1.6",OCRPPDFV_7:"1.7"},s.EnumDWT_OCRProPDFAVersion={OCRPPDFAV_1A:"pdf/a-1a",OCRPPDFAV_1B:"pdf/a-1b",OCRPPDFAV_2A:"pdf/a-2a",OCRPPDFAV_2B:"pdf/a-2b",OCRPPDFAV_2U:"pdf/a-2u",OCRPPDFAV_3A:"pdf/a-3a",OCRPPDFAV_3B:"pdf/a-3b",OCRPPDFAV_3U:"pdf/a-3u"},s.EnumDWT_OCRProType={OCRDT_File:0,OCRDT_Index:1},s.EnumDWT_OCRFindTextFlags={OCRFT_WHOLEWORD:1,OCRFT_MATCHCASE:2,OCRFT_FUZZYMATCH:4},s.EnumDWT_OCRFindTextAction={OCRFT_HIGHLIGHT:0,OCRFT_STRIKEOUT:1,OCRFT_MARKFORREDACT:2}}})();(function(e){function r(){var i=this;i.FindText="",i.FindTextFlags=q.DWT.EnumDWT_OCRFindTextFlags.OCRFT_WHOLEWORD,i.FindTextAction=q.DWT.EnumDWT_OCRFindTextAction.OCRFT_MARKFORREDACT}e.NewRedaction=function(){return new r}})(q.Lib);q.WebTwain={Addon:{OCRPro:{}}};(function(e){function r(){var i=this;i.RecognitionModule="",i.Languages="eng",i.OutputFormat="",i.PDFVersion="",i.PDFAVersion="",i.LicenseChecker="",i.Redaction=q.Lib.NewRedaction()}e.NewSettings=function(){return new r}})(q.WebTwain.Addon.OCRPro);(function(){function e(r,i,s,f){var h=this;h.left=r,h.top=i,h.right=s,h.bottom=f}q.WebTwain.Addon.OCRPro.NewOCRZone=function(r,i,s,f){return new e(r,i,s,f)}})();q.AddonReady(function(e,r){if(!e.product.bHTML5Edition)return;function i($){var H=e.html5.Funs;$.__innerGetOCRProResultAsyncFunction=function(ie){var pe=q.Lib.NewOCRProResult(this);return ie&&(pe._errorCode=ie.code,pe._errorString=ie.message,pe._request=ie.request,pe._errorlist=ie.errorList,pe._ocrTotalCount=ie.ocrTotalCount,pe._alreadyOCRCount=ie.alreadyOCRCount,pe._resultlist=ie.resultDetail,pe._resultZoneDetail=ie.resultZoneDetail),pe},$.__innerIsOCRTrial=function(ie,pe){var se=this,ce=function(){var me=!1;if(se.__licenseInfo.Detail)for(var we=0;we<se.__licenseInfo.Detail.length;we++)se.__licenseInfo.Detail[we].EnumLicenseType=="10"&&se.__licenseInfo.Detail[we].Trial=="TRUE"&&(me=!0);return ie(me)};return se.__licenseInfo&&se.__licenseInfo.Detail?ce():se.GetLicenseInfo(ce,pe)},$.__innerOCRReadFunction=function(ie,pe,se,ce,me,we,ge,Ee){var _e=this;return _e.__innerOCRAsyncReadFunction(ie,pe,se,ce,me,we,ge,Ee)},$.__innerOCRAsyncReadFunction=function(ie,pe,se,ce,me,we,ge,Ee){var _e=this,Be=function(Ce){Ce.code==0?(e.isFunction(ge)&&(pe!=-1?ce==1?ge(pe,me,_e.__innerGetOCRProResultAsyncFunction(Ce)):ge(pe,_e.__innerGetOCRProResultAsyncFunction(Ce)):se!=""?ge(se,_e.__innerGetOCRProResultAsyncFunction(Ce)):ge(_e.__innerGetOCRProResultAsyncFunction(Ce))),e.License.isLTS()&&q.DWT.lcvrf($)):e.isFunction(Ee)&&Ee(Ce.code,Ce.message,_e.__innerGetOCRProResultAsyncFunction(Ce)),H.hideMask(ie)},xe=function(Ce){H.hideMask(ie)};return H.showMask(ie),_e._innerSend(ie,we,!0,Be,xe),!0},$.__innerGetRequestJson=function(ie,pe,se,ce,me){var we,ge="[{";for(ge+='"id":"'+$.clientId+'",',ge+='"method":"OCRProRecognize",',ge+='"dllName":"'+me+'",',ge+='"productkey":"'+q.DWT.ProductKey+'",',ie==q.DWT.EnumDWT_OCRProType.OCRDT_File?ge+='"inputType":"file",':ge+='"inputType":"index",',ge+='"input":[',we=0;we<pe.length;we++)ie==q.DWT.EnumDWT_OCRProType.OCRDT_File?ge+='"'+pe[we]+'"':ge+=pe[we],we+1<pe.length&&(ge+="|");if(ge+="],",ge+='"settings":{',ge+='"recognitionMethod": "Page"',se&&(se.RecognitionModule&&se.RecognitionModule.length>0&&(ge+=',"recognitionModule":"'+se.RecognitionModule+'"'),se.Languages&&se.Languages.length>0&&(ge+=',"languages":"'+se.Languages+'"'),se.OutputFormat&&se.OutputFormat.length>0&&(ge+=',"outputFormat":"'+se.OutputFormat+'"'),se.PDFVersion&&se.PDFVersion.length>0&&(ge+=',"pdfVersion":"'+se.PDFVersion+'"'),se.PDFAVersion&&se.PDFAVersion.length>0&&(ge+=',"pdfAVersion":"'+se.PDFAVersion+'"'),se.Redaction&&se.Redaction.FindText&&se.Redaction.FindText.length>0)){var Ee=parseInt(se.Redaction.FindTextFlags),_e=parseInt(se.Redaction.FindTextAction);if(!isNaN(Ee)&&!isNaN(_e)){ge+=',"redaction":{';var Be=se.Redaction.FindText;Be=Be.replace(/"/g,'\\"'),ge+='"findText":"'+Be+'"',ge+=',"findTextFlags":'+Ee,ge+=',"findTextAction":'+_e,ge+="}"}}for(ge+="},",ge+='"zones":[',we=0;we<ce.length;we++)ge+="["+ce[we].left+","+ce[we].top+","+ce[we].right+","+ce[we].bottom+"]",we+1<ce.length&&(ge+=",");return ge+="],",ge+='"outputFile":""',ge+="}]",ge},$.__LoadImageFromBytesForDownloadInner=function(ie,pe,se,ce,me,we,ge,Ee,_e){var Be=$,xe,Ce,Ve;ie>=ce?(xe=we*ce,Ve=pe.slice(xe,me)):(xe=ie*we,Ce=(ie+1)*we,Ve=pe.slice(xe,Ce));var rt=function(){q.Lib.isFunction(_e)&&_e()},et=function(){if(ie>=ce){q.Lib.isFunction(Ee)&&Ee();return}ie=ie+1,Be.__LoadImageFromBytesForDownloadInner(ie,pe,se,ce,me,we,ge,Ee,_e)};Be.__LoadImageFromBytes(Ve,se,"",ge,et,rt,xe,me)},$.__LoadImageFromBytesForDownload=function(ie,pe,se,ce,me,we){var ge=$,Ee=2*1e3*1e3,_e=ie.size||ie.length,Be=parseInt(_e/Ee),xe=_e%Ee;xe==0&&(Be=Be-1),ge.__LoadImageFromBytesForDownloadInner(0,ie,pe,Be,_e,Ee,ce,me,we)}}var s=function($){var H=[],ie,pe;return $._ImgManager.count()<=0||(ie=$._ImgManager.getCurrentImageIndex(),$._ImgManager.convertClientIndexToServerId(ie),pe=$._ImgManager.getSelectedClientIndexArray(),e.isArray(pe)&&e.each(pe,function(se){var ce=$._ImgManager.convertClientIndexToServerId(se);H.push(ce)})),H},f=function($,H,ie,pe){var se=e.NewOCRProResult($);se._errorCode=H,se._errorString=ie;var ce=e.NewErrorInfo();return ce.input=pe,ce.message=se._errorString,ce.page=0,se._errorlist=[ce],se},h=function($){var H=e.html5.Funs,ie,pe;e.env.bMac?pe="DynamicOCRPro_"+q.ProOCRVerInName+".dylib":e.env.bLinux?pe="DynamicOCRPro_"+q.ProOCRVerInName+".so":q.dcp.b64bit?pe="DynamicOCRProx64_"+q.ProOCRVerInName+".dll":pe="DynamicOCRPro_"+q.ProOCRVerInName+".dll",i($),ie={OCRPro:{Settings:!1,Recognize:function(se,ce,me){var we=[],ge,Ee,_e=$;if(_e._resetErr(),_e._isMobileMode())return _e._mobileNotSupport("Addon.OCRPro.Recognize");if(ge=parseInt(se),e.isNaN(ge)||!e.isNumber(ge))return Ee=f($,-2201,"Invalid parameter type.",se),e.isFunction(me)?me(Ee._errorCode,Ee._errorString,Ee):e.Errors.WebviewerError($,Ee._errorString,Ee._errorCode),!1;var Be=$._ImgManager.convertClientIndexToServerId(ge);if(Be==-1)return e.isFunction(me)&&(e.Errors.IndexOutOfRange($),Ee=f($,$._errorCode,$._errorString,se),me(Ee._errorCode,Ee._errorString,Ee)),!1;if(!e.License.checkProductKey($,{OCRPro:!0},!0))return e.isFunction(me)&&(Ee=f($,$._errorCode,$._errorString,se),me(Ee._errorCode,Ee._errorString,Ee)),!1;we.push(Be);var xe=[],Ce=this.Settings,Ve=$.__innerGetRequestJson(q.DWT.EnumDWT_OCRProType.OCRDT_Index,we,Ce,xe,pe);return $.__innerIsOCRTrial(function(rt){return rt||e.License.isLTS()?$.__innerOCRReadFunction("OCRProRecognize",se,"",0,xe,Ve,ce,me):C(Ce.LicenseChecker,$,"OCRProRecognize",se,"",0,xe,Ve,ce,me)},me)},RecognizeRect:function(se,ce,me,we){var ge=[],Ee,_e,Be=$;if(Be._resetErr(),Be._isMobileMode())return Be._mobileNotSupport("Addon.OCRPro.RecognizeRect");if(Ee=parseInt(se),e.isNaN(Ee)||!e.isNumber(Ee))return _e=f($,-2201,"Invalid parameter type.",se),e.isFunction(we)?we(_e._errorCode,_e._errorString,_e):e.Errors.WebviewerError($,_e._errorString,_e._errorCode),!1;var xe=$._ImgManager.convertClientIndexToServerId(Ee),Ce=$._ImgManager.GetImageWidth(Ee),Ve=$.GetImageHeight(Ee);if(xe==-1)return e.isFunction(we)&&(e.Errors.IndexOutOfRange($),_e=f($,$._errorCode,$._errorString,se),we(_e._errorCode,_e._errorString,_e)),!1;if(!e.License.checkProductKey($,{OCRPro:!0},!0))return e.isFunction(we)&&(_e=f($,$._errorCode,$._errorString,se),we(_e._errorCode,_e._errorString,_e)),!1;if(Ce>0&&Ve>0)for(var rt,et,vt,St,Se,ve,Ie=0;Ie<ce.length;Ie++)rt=ce[Ie],et=rt.left,vt=rt.top,St=rt.right,Se=rt.bottom,et<0&&(et=0),vt<0&&(vt=0),St<0&&(St=0),Se<0&&(Se=0),et>St&&(ve=et,et=St,St=ve),vt>Se&&(ve=vt,vt=Se,Se=ve),St>Ce&&(St=Ce),Se>Ve&&(Se=Ve),rt.left=et,rt.top=vt,rt.right=St,rt.bottom=Se;ge.push(xe);var Je=this.Settings,st=$.__innerGetRequestJson(q.DWT.EnumDWT_OCRProType.OCRDT_Index,ge,Je,ce,pe);return $.__innerIsOCRTrial(function(lt){return lt||e.License.isLTS()?$.__innerOCRReadFunction("OCRProRecognize",se,"",1,ce,st,me,we):C(Je.LicenseChecker,$,"OCRProRecognize",se,"",1,ce,st,me,we)},we)},RecognizeFile:function(se,ce,me){var we=$;if(we._resetErr(),we._isMobileMode())return we._mobileNotSupport("Addon.OCRPro.RecognizeFile");var ge,Ee,_e;if(se.length==0)return e.isFunction(me)&&(ge=q.Lib.NewOCRProResult($),ge._errorCode=-2201,ge._errorString="File name cannot be empty.",_e=[],Ee=q.Lib.NewErrorInfo(),Ee.input=se,Ee.message=ge._errorString,Ee.page=0,_e.push(Ee),ge._errorlist=_e,me(ge._errorCode,ge._errorString,ge)),!1;if(!e.License.checkProductKey($,{OCRPro:!0},!0))return e.isFunction(me)&&(ge=q.Lib.NewOCRProResult($),ge._errorCode=$._errorCode,ge._errorString=$._errorString,_e=[],Ee=q.Lib.NewErrorInfo(),Ee.input=se,Ee.message=ge._errorString,Ee.page=0,_e.push(Ee),ge._errorlist=_e,me(ge._errorCode,ge._errorString,ge)),!1;var Be=H.replaceLocalFilename(se),xe=[];Be.indexOf("|")>0?xe=Be.split("|"):Be.indexOf(";")>0?xe=Be.split(";"):Be.indexOf(",")>0&&(xe=Be.split(","));var Ce=[];if(xe.length>0)for(var Ve=0;Ve<xe.length;Ve++)Ce.push(xe[Ve]);else Ce.push(Be);var rt=[],et=this.Settings,vt=$.__innerGetRequestJson(q.DWT.EnumDWT_OCRProType.OCRDT_File,Ce,et,rt,pe);$.__innerIsOCRTrial(function(St){return St||e.License.isLTS()?$.__innerOCRReadFunction("OCRProRecognize",-1,se,0,rt,vt,ce,me):C(et.LicenseChecker,$,"OCRProRecognize",-1,se,0,rt,vt,ce,me)},me)},RecognizeSelectedImages:function(se,ce){var me,we,ge,Ee=$;if(Ee._resetErr(),Ee._isMobileMode())return Ee._mobileNotSupport("Addon.OCRPro.RecognizeSelectedImages");if(!e.License.checkProductKey($,{OCRPro:!0},!0)){if(e.isFunction(ce)){var _e=q.Lib.NewOCRProResult($);_e._errorCode=$._errorCode,_e._errorString=$._errorString,we=[],ge=q.Lib.NewErrorInfo(),ge.input="",ge.message=_e._errorString,ge.page=0,we.push(ge),_e._errorlist=we,ce(_e._errorCode,_e._errorString,_e)}return!1}var Be=[],xe=this.Settings,Ce=s($),Ve=$.__innerGetRequestJson(q.DWT.EnumDWT_OCRProType.OCRDT_Index,Ce,xe,Be,pe);return $.__innerIsOCRTrial(function(rt){rt||e.License.isLTS()?me=$.__innerOCRReadFunction("OCRProRecognize",-1,"",0,Be,Ve,se,ce):me=C(xe.LicenseChecker,$,"OCRProRecognize",-1,"",0,Be,Ve,se,ce)},ce),me},IsModuleInstalled:function(){var se=$;if(se._resetErr(),se._isMobileMode())return se._mobileNotSupport("Addon.OCRPro.IsModuleInstalled");var ce=se._innerFun("GetAddOnVersion",H.makeParams("proocr",pe));return ce!=""}}},$.__addon=$.__addon||{},e.mix($.__addon,ie)};e.DynamicLoadAddonFuns&&e.DynamicLoadAddonFuns.push(h);function y($,H,ie,pe,se,ce,me,we,ge,Ee){var _e=this;_e.STWAIN=H,_e.AjaxFunctionUrl=$,_e.FunctionName=ie,_e.ImageIndex=pe,_e.FileNames=se,_e.Type=ce,_e.AryZone=me,_e.JsonString=we,_e.OnSuccess=ge,_e.OnFailure=Ee}q.WebTwain.Addon.OCRPro.NewOCRReadPara=function($,H,ie,pe,se,ce,me,we,ge,Ee){return new y($,H,ie,pe,se,ce,me,we,ge,Ee)};function _($,H){var ie="",pe=$.responseText;if(pe.length==0){var se=q.WebTwain.Addon.OCRPro.NewOCRError();q.Lib.Errors.OCR_LicenseCheckerError(se,H.AjaxFunctionUrl),pe=se.responseText}ie=le(pe);var ce=ie.split(";");if(ce.length==1)H.OnFailure(-1,pe,q.Lib.NewOCRProResult());else if(ce[0]=="true"){var me=function(we,ge,Ee){q.Lib.isUndefined(Ee)?q.Lib.isUndefined(ge)?(H.OnSuccess(we),w(H.AjaxFunctionUrl,we.GetPageCount())):(H.OnSuccess(we,ge),w(H.AjaxFunctionUrl,ge.GetPageCount())):(H.OnSuccess(we,ge,Ee),w(H.AjaxFunctionUrl,Ee.GetPageCount()))};H.STWAIN.__innerOCRReadFunction(H.FunctionName,H.ImageIndex,H.FileNames,H.Type,H.AryZone,H.JsonString,me,H.OnFailure)}else H.OnFailure(ce[1],ce[2],q.Lib.NewOCRProResult())}function C($,H,ie,pe,se,ce,me,we,ge,Ee){var _e=$,Be="DTW_AjaxMethod=CheckLicense&Productkey="+G(q.DWT.ProductKey),xe=q.WebTwain.Addon.OCRPro.NewOCRReadPara($,H,ie,pe,se,ce,me,we,ge,Ee);return R(_e,Be,_,xe)}function w($,H){var ie=$,pe="DTW_AjaxMethod=WriteOCRCount&OCRCount="+G(H+"");R(ie,pe,x,null)}function x($,H){}function A(){var $=this;$.responseText="",$.errorString=""}q.WebTwain.Addon.OCRPro.NewOCRError=function(){return new A},q.Lib.mix(q.Lib.Errors,{OCR_LicenseCheckerEmpty:function($){var H=-2601,ie="LicenseChecker cannot be empty.";$.errorString=ie,$.responseText=G("false;"+H+";"+ie+";")},OCR_LicenseCheckerNotConnect:function($){var H=-2602,ie="Cannot connect to the LicenseChecker, please check and make sure it's set correctly.";$.errorString=ie,$.responseText=G("false;"+H+";"+ie+";")},OCR_AccessDenied:function($){var H=-2603,ie="Access denied.";$.errorString=ie,$.responseText=G("false;"+H+";"+ie+";")},OCR_LicenseCheckerError:function($,H){var ie=-2604,pe="Error occured in '"+H+"'.";$.errorString=pe,$.responseText=G("false;"+ie+";"+pe+";")},OCR_HTTPError:function($,H){var ie=-2605,pe="HTTP Error "+H+".";$.errorString=pe,$.responseText=G("false;"+ie+";"+pe+";")},OCR_LicenseCheckerUnauthorized:function($,H){var ie=-2606,pe="You do not have permission to view this directory or page using the credentials you supplied (access denied due to Access Control Lists). Ask the Web server's administrator to give you access to '"+H+"'.";$.errorString=pe,$.responseText=G("false;"+ie+";"+pe+";")},__last:!1});function P(){var $=null,H=window;try{$=new H.ActiveXObject("Msxml2.XMLHTTP")}catch{try{$=new H.ActiveXObject("Microsoft.XMLHTTP")}catch{$=new XMLHttpRequest}}return $}function R($,H,ie,pe){var se=q.WebTwain.Addon.OCRPro.NewOCRError();if($=="")return q.Lib.Errors.OCR_LicenseCheckerEmpty(se),alert(se.errorString),ie(se,pe),!1;var ce=P();return ce.open("POST",$,!0),ce.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),ce.onreadystatechange=function(){if(ce.readyState==4)if(ce.status==200)ie!=null&&typeof ie=="function"&&ie(ce,pe);else return ce.status==401?(q.Lib.Errors.OCR_LicenseCheckerUnauthorized(se,pe.AjaxFunctionUrl),ie(se,pe),!1):ce.status==404?(q.Lib.Errors.OCR_LicenseCheckerNotConnect(se),alert(se.errorString),ie(se,pe),!1):ce.status==403?(q.Lib.Errors.OCR_AccessDenied(se),ie(se,pe),!1):(q.Lib.Errors.OCR_HTTPError(se,ce.status),ie(se,pe),!1)},ce&&H&&ce.send(H),!0}var E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",O=new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1);function L($){var H,ie,pe,se,ce,me;for(pe=$.length,ie=0,H="";ie<pe;){if(se=$.charCodeAt(ie++)&255,ie==pe){H+=E.charAt(se>>2),H+=E.charAt((se&3)<<4),H+="==";break}if(ce=$.charCodeAt(ie++),ie==pe){H+=E.charAt(se>>2),H+=E.charAt((se&3)<<4|(ce&240)>>4),H+=E.charAt((ce&15)<<2),H+="=";break}me=$.charCodeAt(ie++),H+=E.charAt(se>>2),H+=E.charAt((se&3)<<4|(ce&240)>>4),H+=E.charAt((ce&15)<<2|(me&192)>>6),H+=E.charAt(me&63)}return H}function k($){var H,ie,pe,se,ce,me,we;for(me=$.length,ce=0,we="";ce<me;){do H=O[$.charCodeAt(ce++)&255];while(ce<me&&H==-1);if(H==-1)break;do ie=O[$.charCodeAt(ce++)&255];while(ce<me&&ie==-1);if(ie==-1)break;we+=String.fromCharCode(H<<2|(ie&48)>>4);do{if(pe=$.charCodeAt(ce++)&255,pe==61)return we;pe=O[pe]}while(ce<me&&pe==-1);if(pe==-1)break;we+=String.fromCharCode((ie&15)<<4|(pe&60)>>2);do{if(se=$.charCodeAt(ce++)&255,se==61)return we;se=O[se]}while(ce<me&&se==-1);if(se==-1)break;we+=String.fromCharCode((pe&3)<<6|se)}return we}function N($){var H,ie,pe,se;for(H="",pe=$.length,ie=0;ie<pe;ie++)se=$.charCodeAt(ie),se>=1&&se<=127?H+=$.charAt(ie):se>2047?(H+=String.fromCharCode(224|se>>12&15),H+=String.fromCharCode(128|se>>6&63),H+=String.fromCharCode(128|se>>0&63)):(H+=String.fromCharCode(192|se>>6&31),H+=String.fromCharCode(128|se>>0&63));return H}function j($){var H,ie,pe,se,ce,me;for(H="",pe=$.length,ie=0;ie<pe;)switch(se=$.charCodeAt(ie++),se>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:H+=$.charAt(ie-1);break;case 12:case 13:ce=$.charCodeAt(ie++),H+=String.fromCharCode((se&31)<<6|ce&63);break;case 14:ce=$.charCodeAt(ie++),me=$.charCodeAt(ie++),H+=String.fromCharCode((se&15)<<12|(ce&63)<<6|(me&63)<<0);break}return H}function G($){return L(N($))}function le($){return j(k($))}});/*! 20251201182703
* Dynamsoft JavaScript Library
* Product: Dynamic Web TWAIN
* Web Site: https://www.dynamsoft.com
*
* Copyright 2025, Dynamsoft Corporation
* Author: Dynamsoft Support Team
*
* Module: OCR
* Version: 19.3
* 
*/var q=self.Dynamsoft||{};q.DWT=q.DWT||{},q.aryAddonReadyFun=q.aryAddonReadyFun||[],q.AddonReady=q.AddonReady||function(e){q.aryAddonReadyFun.push(e)},q.DWT.OCRKitVerInName="11.0.0.1028",function(){for(var e=[q.DWT],r=0;r<1;r++){var i=e[r];i.EnumDWT_OCRKitOutputFormat={TEXT:0,PDF_PLAIN_TEXT:1,PDF_WITH_EXTRA_TEXTLAYER:2},i.EnumDWT_PageOrientation={AUTO:-1,ANGLE_0:0,ANGLE_90:90,ANGLE_180:180,ANGLE_270:270},i.EnumDWT_PageOrientationDetectionMode={FAST:0,BALANCE:1,PRECISION:2}}}(),q.AddonReady(function(e,r){function i(s,f){return"code"in f&&"message"in f&&f.code!=0&&f.message!=""&&(s._errorCode=f.code,s._errorString=f.message,{code:f.code,message:f.message})}e.product.bHTML5Edition&&e.DynamicLoadAddonFuns&&e.DynamicLoadAddonFuns.push(function(s){var f,h,y,_=e.html5.Funs;h=s,y=e.html5.Funs,h.__innerOCRReadFunction=function(A,w){var x=h,A=x._ImgManager.convertClientIndexToServerId(A),A=e.stringify({index:A,options:w});return x._innerFunV2("OCROnnx",["[",A,"]"].join("")).then(function(P){var R=i(x,P);return R?e.Promise.reject(R):P})},h.__innerGetOCRInfo=function(){var C=h;return C._innerFunV2("GetOCROnnxEnv",y.makeParams(q.DWT.OCRKitVerInName)).then(function(w){var x=i(C,w);return x?e.Promise.reject(x):w})},h.__innerDetectPageOrientation=function(A,w){var x=h,A=x._ImgManager.convertClientIndexToServerId(A),A=e.stringify({index:A,settings:w});return x._innerFunV2("DetectPageOrientation",["[",A,"]"].join("")).then(function(P){var R=i(x,P);return R?e.Promise.reject(R):{angle:P.angle||0,confidence:P.confidence||0}})},h.__innerSaveToPath=function(C,w,x){var A=h,P=[];return e.isArray(C)&&e.each(C,function(R){R=h._ImgManager.convertClientIndexToServerId(R),P.push(R)}),A._innerFunV2("SaveOCRResult",y.makeParams(0,P.join(","),w,x))},h.__innerSaveAsBlob=function(P,w){var x=h,A=[],P=(e.isArray(P)&&e.each(P,function(R){R=h._ImgManager.convertClientIndexToServerId(R),A.push(R)}),["[",1,',"',A.join(","),'",',w,"]"].join(""));return x._sendDataByHttpAsync("SaveOCRResult",P,"arraybuffer",!0).then(function(R){var E="application/pdf";return w==q.DWT.EnumDWT_OCRKitOutputFormat.TEXT&&(E="text/plain"),new Blob([R],{type:E})})},h.__innerSaveAsBase64=function(C,w){var x=h,A=[];return e.isArray(C)&&e.each(C,function(P){P=h._ImgManager.convertClientIndexToServerId(P),A.push(P)}),x._innerFunV2("SaveOCRResult",y.makeParams(2,A.join(","),w))},f={OCRKit:{GetInstalledOCRInfo:function(){var C=s,w="GetInstalledOCRInfo";return C._resetErr(),_.showMask(w),e.env.bWin&&q.dcp.b64bit?e.License.checkProductKey(C,{OCRKit:!0},!0)?C.__innerGetOCRInfo().finally(function(){_.hideMask(w)}):(_.hideMask(w),e.Promise.reject({code:C._errorCode,message:C._errorString})):(e.Errors.OCR_InvalidSupportedPlatforms(C),_.hideMask(w),e.Promise.reject({code:C._errorCode,message:C._errorString}))},DetectPageOrientation:function(C,w){var x=s,A="DetectPageOrientation";if(x._resetErr(),_.showMask(A),!e.env.bWin||!q.dcp.b64bit)return e.Errors.OCR_InvalidSupportedPlatforms(x),_.hideMask(A),e.Promise.reject({code:x._errorCode,message:x._errorString});if(!e.License.checkProductKey(x,{OCRKit:!0},!0))return _.hideMask(A),e.Promise.reject({code:x._errorCode,message:x._errorString});if(C=parseInt(C),isNaN(C))return e.Errors.InvalidIndex(x),_.hideMask(A),e.Promise.reject({code:x._errorCode,message:x._errorString});if(C<0||C>=x.HowManyImagesInBuffer)return e.Errors.IndexOutOfRange(x),_.hideMask(A),e.Promise.reject({code:x._errorCode,message:x._errorString});if(w==null)w={};else if(!e.isObject(w))return e.Errors.InvalidParameter(s),_.hideMask(A),e.Promise.reject({code:x._errorCode,message:x._errorString});return isNaN(w.detectionMode)&&(w.detectionMode=1),x.__innerDetectPageOrientation(C,w).finally(function(){_.hideMask(A)})},Recognize:function(C,w){var x=s,A="Recognize";if(x._resetErr(),_.showMask(A),!e.env.bWin||!q.dcp.b64bit)return e.Errors.OCR_InvalidSupportedPlatforms(x),_.hideMask(A),e.Promise.reject({code:x._errorCode,message:x._errorString});if(!e.License.checkProductKey(x,{OCRKit:!0},!0))return _.hideMask(A),e.Promise.reject({code:x._errorCode,message:x._errorString});if(C=parseInt(C),isNaN(C)||C<0||C>=x.HowManyImagesInBuffer)return e.Errors.IndexOutOfRange(x),_.hideMask(A),e.Promise.reject({code:x._errorCode,message:x._errorString});if(w==null)w={settings:{}};else if(w.settings==null)w.settings={};else if(!e.isObject(w.settings))return e.Errors.InvalidParameter(s),_.hideMask(A),e.Promise.reject({code:x._errorCode,message:x._errorString});if(isNaN(w.settings.pageOrientation)&&(w.settings.pageOrientation=1),isNaN(w.settings.binarizationThreshold)&&(w.settings.binarizationThreshold=.3),isNaN(w.settings.boxThreshold)&&(w.settings.boxThreshold=.1),w.rects==null)w.rects=[];else if(!e.isArray(w.rects))return e.Errors.IndicesNotArray(s),_.hideMask(A),e.Promise.reject({code:x._errorCode,message:x._errorString});return x.__innerOCRReadFunction(C,w).finally(function(){_.hideMask(A)})},SaveToPath:function(C,w,x){var A,P=s,R="SaveToPath";return P._resetErr(),_.showMask(R),e.env.bWin&&q.dcp.b64bit?e.License.checkProductKey(P,{OCRKit:!0},!0)&&P._checkIndices(C)?e.isString(x)&&x!=""&&x!="/"?(A=parseInt(w),!(isNaN(A)||A<q.DWT.EnumDWT_OCRKitOutputFormat.TEXT||A>q.DWT.EnumDWT_OCRKitOutputFormat.PDF_WITH_EXTRA_TEXTLAYER)&&(P.IfShowFileDialog||e.isString(x)&&x!=="")?(x=x,w==q.DWT.EnumDWT_OCRKitOutputFormat.TEXT&&(x=0<=(w=x.lastIndexOf("/"))?x.slice(w+1):x).slice(-4).toLowerCase()!==".txt"&&(x+=".txt"),w=e.html5.Funs.replaceLocalFilename(x),P.__innerSaveToPath(C,A,w).finally(function(){_.hideMask(R)})):(e.Errors.InvalidValue(P),_.hideMask(R),e.Promise.reject({code:P._errorCode,message:P._errorString}))):(e.Errors.OCRKit_InvalidFilename(P),_.hideMask(R),e.Promise.reject({code:P._errorCode,message:P._errorString})):(_.hideMask(R),e.Promise.reject({code:P._errorCode,message:P._errorString})):(e.Errors.OCR_InvalidSupportedPlatforms(P),_.hideMask(R),e.Promise.reject({code:P._errorCode,message:P._errorString}))},SaveAsBlob:function(C,w){var x=s,A="SaveAsBlob";return x._resetErr(),_.showMask(A),e.env.bWin&&q.dcp.b64bit?e.License.checkProductKey(x,{OCRKit:!0},!0)&&x._checkIndices(C)?(w=parseInt(w),isNaN(w)||w<q.DWT.EnumDWT_OCRKitOutputFormat.TEXT||w>q.DWT.EnumDWT_OCRKitOutputFormat.PDF_WITH_EXTRA_TEXTLAYER?(e.Errors.InvalidValue(x),_.hideMask(A),e.Promise.reject({code:x._errorCode,message:x._errorString})):x.__innerSaveAsBlob(C,w).finally(function(){_.hideMask(A)})):(_.hideMask(A),e.Promise.reject({code:x._errorCode,message:x._errorString})):(e.Errors.OCR_InvalidSupportedPlatforms(x),_.hideMask(A),e.Promise.reject({code:x._errorCode,message:x._errorString}))},SaveAsBase64:function(C,w){var x=s,A="SaveAsBase64";return x._resetErr(),_.showMask(A),e.env.bWin&&q.dcp.b64bit?e.License.checkProductKey(x,{OCRKit:!0},!0)&&x._checkIndices(C)?(w=parseInt(w),isNaN(w)||w<q.DWT.EnumDWT_OCRKitOutputFormat.TEXT||w>q.DWT.EnumDWT_OCRKitOutputFormat.PDF_WITH_EXTRA_TEXTLAYER?(e.Errors.InvalidValue(x),_.hideMask(A),e.Promise.reject({code:x._errorCode,message:x._errorString})):x.__innerSaveAsBase64(C,w).finally(function(){_.hideMask(A)})):(_.hideMask(A),e.Promise.reject({code:x._errorCode,message:x._errorString})):(e.Errors.OCR_InvalidSupportedPlatforms(x),_.hideMask(A),e.Promise.reject({code:x._errorCode,message:x._errorString}))}}},s.__addon=s.__addon||{},e.mix(s.__addon,f)})});/*! 20251201182703
* Dynamsoft JavaScript Library
* Product: Dynamic Web TWAIN
* Web Site: https://www.dynamsoft.com
*
* Copyright 2025, Dynamsoft Corporation
* Author: Dynamsoft Support Team
*
* Module: Webcam
* Version: 19.3
* 
*/var q=self.Dynamsoft||{};q.DWT=q.DWT||{},q.aryAddonReadyFun=q.aryAddonReadyFun||[],q.AddonReady=q.AddonReady||function(e){q.aryAddonReadyFun.push(e)},q.WebcamVerForActiveX="15.0.0.0625",q.WebcamVerInName="19.2.0.0826",function(){for(var e=[q.DWT],r=0;r<1;r++){var i=e[r];i.EnumDWT_VideoRotateMode={VRM_NONE:0,VRM_90_DEGREES_CLOCKWISE:1,VRM_180_DEGREES_CLOCKWISE:2,VRM_270_DEGREES_CLOCKWISE:3,VRM_FLIP_VERTICAL:4,VRM_FLIP_HORIZONTAL:5},i.EnumDWT_VideoProperty={VP_BRIGHTNESS:0,VP_CONTRAST:1,VP_HUE:2,VP_SATURATION:3,VP_SHARPNESS:4,VP_GAMMA:5,VP_COLORENABLE:6,VP_WHITEBALANCE:7,VP_BACKLIGHTCOMPENSATION:8,VP_GAIN:9},i.EnumDWT_CameraControlProperty={CCP_PAN:0,CCP_TILT:1,CCP_ROLL:2,CCP_ZOOM:3,CCP_EXPOSURE:4,CCP_IRIS:5,CCP_FOCUS:6}}}(),function(){q.Lib.WebcamErrors={InvalidParameter:function(e){e._errorCode=-10001,e._errorString="The parameter is invalid."},VideoNotPlayingWhenCapture:function(e){e._errorCode=-10002,e._errorString="To capture an image, the video must be playing."},VideoNotPlayingWhenGetURL:function(e){e._errorCode=-10003,e._errorString="To get the url for the current frame, the video must be playing."},Success:function(e){e._errorCode=0,e._errorString="Successful."}}}(),function(e){function r(i){var s=this;s._Count=0,s._resultlist=[],s._stwain=i}r.prototype.GetCount=function(){return e.WebcamErrors.Success(this._stwain),this._Count-1},r.prototype.Get=function(i){var s=this;return s._resultlist.length-1<=i||i<0?(q.Lib.Errors.Webcam_InvalidIndex(s._stwain,"Get"),""):(e.WebcamErrors.Success(s._stwain),s._resultlist[i])},r.prototype.GetCurrent=function(){var i=this,s=i._resultlist.length;return s==0?(q.Lib.Errors.Webcam_InvalidIndex(i._stwain,"GetCurrent"),""):(e.WebcamErrors.Success(i._stwain),i._resultlist[s-1])},e.NewWebcamValue=function(i){return new r(i)}}(q.Lib),function(e){function r(i){var s=this;s._Count=0,s._resultlist=[],s._stwain=i}r.prototype.GetValue=function(){var i=this;return i._resultlist.length==0?(q.Lib.Errors.Webcam_InvalidIndex(i._stwain,""),""):(e.WebcamErrors.Success(i._stwain),i._resultlist[0].current)},r.prototype.GetIfAuto=function(){var i=this;return i._resultlist.length==0?(q.Lib.Errors.Webcam_InvalidIndex(i._stwain,""),!1):(e.WebcamErrors.Success(i._stwain),i._resultlist[0].auto=="true")},e.NewWebcamSetting=function(i){return new r(i)}}(q.Lib),function(e){function r(i){var s=this;s._Count=0,s._resultlist=[],s._stwain=i}r.prototype.GetMinValue=function(){var i=this;return i._resultlist.length==0?(q.Lib.Errors.Webcam_InvalidIndex(i._stwain,""),""):i._resultlist[0].min},r.prototype.GetMaxValue=function(){var i=this;return i._resultlist.length==0?(q.Lib.Errors.Webcam_InvalidIndex(i._stwain,""),""):i._resultlist[0].max},r.prototype.GetSteppingDelta=function(){var i=this;return i._resultlist.length==0?(q.Lib.Errors.Webcam_InvalidIndex(i._stwain,""),0):i._resultlist[0].step},r.prototype.GetDefaultValue=function(){var i=this;return i._resultlist.length==0?(q.Lib.Errors.Webcam_InvalidIndex(i._stwain,""),0):i._resultlist[0].defaultValue},r.prototype.GetIfAuto=function(){var i=this;return i._resultlist.length==0?(q.Lib.Errors.Webcam_InvalidIndex(i._stwain,""),!1):i._resultlist[0].auto=="true"},e.NewWebcamMoreSetting=function(i){return new r(i)}}(q.Lib),q.AddonReady(function(e,r){e.DynamicLoadAddonFuns&&e.DynamicLoadAddonFuns.push(function(i){i._innerSetWebcamValue=function(s){var f=e.NewWebcamValue(i);return s&&e.isArray(s)&&(f._resultlist=s,f._Count=s.length),f},i._innerSetWebcamSetting=function(s){var f=e.NewWebcamSetting(i);return s&&e.isArray(s)&&(f._resultlist=s,f._Count=s.length),f},i._innerSetWebcamMoreSetting=function(s){var f=e.NewWebcamMoreSetting(i);return s&&e.isArray(s)&&(f._resultlist=s,f._Count=s.length),f}}),e.Addon_Events.push("OnFrameCaptured"),e.Addon_Events.push("OnCaptureSuccess"),e.Addon_Events.push("OnCaptureError"),e.Addon_Events.push("OnVideoStopped")}),q.AddonReady(function(e,r){e.product.bHTML5Edition&&e.DynamicLoadAddonFuns&&e.DynamicLoadAddonFuns.push(function(i){var s,f=e.html5.Funs,h=e.env.bMac?"DynamicWebcam_"+q.WebcamVerInName+".dylib":e.env.bLinux?"DynamicWebcam_"+q.WebcamVerInName+".so":i._b64bit?"DynamicWebcamx64_"+q.WebcamVerInName+".dll":"DynamicWebcam_"+q.WebcamVerInName+".dll";try{i._innerSend("GetAddOnVersion",f.makeParams("webcam",h),!0,!1,!1)}catch{}i.__frameCapturedId=-1,(s=i)._innerWebcamValueFunction=function(y,_){return y=this._innerFunRaw(y,_,!1,!1),this._innerSetWebcamValue(y)},s._innerWebcamSettingFunction=function(y,_){return y=this._innerFunRaw(y,_,!1,!1),this._innerSetWebcamSetting(y)},s._innerWebcamMoreSettingFunction=function(y,_){return y=this._innerFunRaw(y,_,!1,!1),this._innerSetWebcamMoreSetting(y)},s._OnCaptureSuccess=function(y){q.Lib.isFunction(this.__OnCaptureSuccess)&&this.__OnCaptureSuccess()},s._OnCaptureError=function(C){var _=C[1],C=C[2];q.Lib.isFunction(this.__OnCaptureError)&&this.__OnCaptureError(_,C)},s._OnFrameCaptured=function(y){var _=this,w=_.__videoQuality,C=!1,w=w||60;_.__videoDest&&q.Lib.isFunction(_.__videoDest.GetIfShowVideoContainer)&&_.__videoDest.GetIfShowVideoContainer()&&(q.navInfoSync.bIE||!y||y&&y.length<=1||y&&1<y.length&&_.__frameCapturedId!=y[1])&&(y&&1<y.length&&_.__frameCapturedId!=y[1]&&(C=_.__frameCapturedId!=y[1]),_.__frameCapturedId=y[1],_._videoSrc=_.GetImageURL(-1,-1,-1,0,w),q.Lib.isFunction(_.__videoDest.UpdateVideoContainer))&&_.__videoDest.UpdateVideoContainer(_._videoSrc),q.Lib.isFunction(_.__OnFrameCaptured)&&setTimeout(function(){q.Lib.isFunction(_.__OnFrameCaptured)&&_.__OnFrameCaptured(C,y)},200)},s._OnVideoStopped=function(C){var _=C[1],C=C[2];q.Lib.isFunction(this.__OnVideoStopped)&&this.__OnVideoStopped(_,C)},s={Webcam:{IsModuleInstalled:function(){var y=i;return y._resetErr(),y._innerFun("GetAddOnVersion",f.makeParams("webcam",h))!=""},GetSourceList:function(){var y,_=i;return _._resetErr(),e.License.checkProductKey(_,{Webcam:!0},!0)?(y=_._innerFunRaw("GetWebcamSourceList"),_.ErrorCode==0&&y&&1<y.length&&y.splice(y.length-1,1),y):[]},SelectSource:function(y){var _=i;return _._resetErr(),!!e.License.checkProductKey(_,{Webcam:!0},!0)&&(_.__videoDest&&this._isPlaying()&&_._videoSrc!=""&&q.Lib.isFunction(_.__videoDest.UpdateVideoContainer)&&_.__videoDest.UpdateVideoContainer(_._videoSrc),_._innerFun("SelectWebcam",f.makeParams(y)))},CloseSource:function(){var y=i;return y._resetErr(),this._clear(),y._innerFun("StopCapture")},GetFramePartURL:function(){var y=i;return y._resetErr(),this._isPlaying()?y.GetImageURL(-1,-1,-1,!0,y.__videoQuality):(e.WebcamErrors.VideoNotPlayingWhenGetURL(y),"")},GetFrameURL:function(){var y=i;return y._resetErr(),this._isPlaying()?y.GetImageURL(-1,-1,-1,0,y.__videoQuality):(e.WebcamErrors.VideoNotPlayingWhenGetURL(y),"")},PlayVideo:function(y,_,C,w,x){function A(){return q.Lib.isFunction(x)&&x(i._errorCode,i._errorString),!1}var P=i,R=60;return q.DWT.UseDefaultViewer?y?q.Lib.isFunction(y.ShowVideoContainer)&&q.Lib.isFunction(y.UpdateVideoContainer)&&q.Lib.isFunction(y.GetIfShowVideoContainer)?q.Lib.License.checkProductKey(i,{Webcam:!0},!0)?(P._resetErr(),P.__videoDest=y,i.__videoQuality=_?R=(R=+_)<1?60:R:R,q.Lib.isFunction(P.__videoDest.ShowVideoContainer)&&P.__videoDest.ShowVideoContainer(!0),q.Lib.isFunction(C)&&(i.__OnFrameCaptured=C),i._innerSend("PlayVideo",f.makeParams("play",R),!0,w,A),!0):A():(q.Lib.Errors.ParameterNotDWTObject(i),A()):(q.Lib.Errors.ParameterCannotEmpty(i),A()):(q.Lib.Errors.CannotDoWhenNoViewerJS(i),!1)},PauseVideo:function(y,_){return i._resetErr(),i._innerSend("PlayVideo",f.makeParams("pause"),!0,y,function(){return q.Lib.isFunction(_)&&_(i._errorCode,i._errorString),!1}),!0},_clear:function(){var y=i;y.__OnFrameCaptured=!1,y.__videoQuality=60,y.__videoDest&&q.Lib.isFunction(y.__videoDest.UpdateVideoContainer)&&q.Lib.isFunction(y.__videoDest.ShowVideoContainer)&&(y.__videoDest.UpdateVideoContainer("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAAAANSURBVBhXY/j///9/AAn7A/0FQ0XKAAAAAElFTkSuQmCC"),y._videoSrc="",y.__videoDest.ShowVideoContainer(!1))},_isPlaying:function(){var y=i;return!(!y.__videoDest||!q.Lib.isFunction(y.__videoDest.GetIfShowVideoContainer))&&y.__videoDest.GetIfShowVideoContainer()},StopVideo:function(){var y=i,_=(y._resetErr(),this._clear(),y._innerFun("PlayVideo",f.makeParams("stop"))),C=y._errorCode,w=y._errorString;return y._innerFun("StopCapture"),y._errorCode=C,y._errorString=w,_},CaptureImage:function(y,_){var C=i;if(C._resetErr(),!q.Lib.License.checkProductKey(C,{Webcam:!0},!0))return q.Lib.isFunction(_)&&_(C._errorCode,C._errorString),!1;function w(){f.hideMask(x),q.Lib.isFunction(_)&&_(C._errorCode,C._errorString)}var x="CaptureImage";f.showMask(x),C.__OnCaptureError=w,C._innerSend(x,f.makeParams(!1),!0,function(){f.hideMask(),C.ErrorCode==0?(f.hideMask(x),q.Lib.isFunction(y)&&setTimeout(y,0),q.Lib.License.isLTS()&&q.DWT.lcvrf(i)):w(C.ErrorCode,C.ErrorString)},w)},GetMediaType:function(){var y=i;return y._resetErr(),y._innerWebcamValueFunction("GetMediaType")},SetMediaType:function(y){var _=i;return _._resetErr(),e.isString(y)?_._innerFun("SetMediaType",f.makeParams(y)):(e.Errors.InvalidValue(_),!1)},GetResolution:function(){var y=i,y=(y._resetErr(),y._innerWebcamValueFunction("GetResolution"));if(y&&y._resultlist){var _,C,w=y._resultlist,x=[],A=[];for((C=0<w.length?w[w.length-1]:C)==""&&0<w.length&&(C=w[0]),_=0;_<w.length-1;_++){for(var P,R=(P=w[_]).toLowerCase().split("x"),E=(L=O=E=void 0,{value:P,p1:parseInt(R[0]),p2:parseInt(R[1])}),O=x,L=O.length-1;0<=L&&O[L].p1>=E.p1&&!(O[L].p1==E.p1&&O[L].p2<E.p2);)O[L+1]=O[L],L--;O[L+1]=E}for(_=0;_<x.length;_++)P=x[_].value,A.push(P);C&&A.push(C),y._resultlist=A,A=x=null}return y},SetResolution:function(y){var _=i;return _._resetErr(),e.isNumber(y)||e.isString(y)?_._innerFun("SetResolution",f.makeParams(y)):(e.Errors.InvalidValue(_),!1)},GetFrameRate:function(){var y=i;return y._resetErr(),y._innerWebcamValueFunction("GetFrameRate")},SetFrameRate:function(y){var _=i;return _._resetErr(),e.isNumber(y)?i._innerFun("SetFrameRate",f.makeParams(y)):(e.Errors.InvalidValue(_),!1)},GetVideoPropertySetting:function(y){var _=i;return _._resetErr(),_._innerWebcamSettingFunction("GetWebcamVideoPropertySetting",f.makeParams(y))},GetVideoPropertyMoreSetting:function(y){var _=i;return _._resetErr(),_._innerWebcamMoreSettingFunction("GetWebcamVideoPropertyMoreSetting",f.makeParams(y))},SetVideoPropertySetting:function(y,_,C){var w=i;return w._resetErr(),w._innerFun("SetWebcamVideoPropertySetting",f.makeParams(y,_,C))},SetVideoRotateMode:function(y){var _=i;return _._resetErr(),_._innerFun("SetVideoRotateMode",f.makeParams(y))},GetCameraControlPropertySetting:function(y){var _=i;return _._resetErr(),_._innerWebcamSettingFunction("GetWebcamCameraControlSetting",f.makeParams(y))},GetCameraControlPropertyMoreSetting:function(y){var _=i;return _._resetErr(),_._innerWebcamMoreSettingFunction("GetWebcamCameraControlMoreSetting",f.makeParams(y))},SetCameraControlPropertySetting:function(y,_,C){var w=i;return w._resetErr(),w._innerFun("SetWebcamCameraControlPropertySetting",f.makeParams(y,_,C))}}},i.__addon=i.__addon||{},e.mix(i.__addon,s)})}),q.AddonReady(function(e,r){var i;e.product.bActiveXEdition&&e.DynamicLoadAddonFuns&&e.DynamicLoadAddonFuns.push(function(s){var f,h,y;if(!s.getSWebTwain()||!s.getSWebTwain().Addon)return!1;q.navInfoSync.bWin&&(y=!q.navInfo.bOSx64||q.navInfo.bWOW64,i=y?"DynamicWebcam_"+q.WebcamVerForActiveX+".dll":"DynamicWebcamx64_"+q.WebcamVerForActiveX+".dll"),f=s.getSWebTwain();try{f.GetAddOnVersion("webcam",i)}catch{}(y=s)._innerRead=function(_){var C;try{C=q.Lib.parse(_)}catch{}return C.result},y._innerWebcamValueFunctionPlugin=function(_){return _=this._innerRead(_),this._innerSetWebcamValue(_)},y._innerWebcamSettingFunctionPlugin=function(_){return _=this._innerRead(_),this._innerSetWebcamSetting(_)},y._innerWebcamMoreSettingFunctionPlugin=function(_){return _=this._innerRead(_),this._innerSetWebcamMoreSetting(_)},h={Webcam:{IsModuleInstalled:function(){var _=f.GetAddOnVersion("webcam",i);return e.setErrorString(s),_!=""},GetSourceList:function(){var _,C;return e.License.checkProductKey(s,{Webcam:!0},!0)?(_=f.GetWebcamSourceList(),C=[],e.setErrorString(s),s._errorCode==0&&(C=s._innerRead(_))&&1<C.length&&C.splice(C.length-1,1),C):[]},SelectSource:function(_){return!!e.License.checkProductKey(s,{Webcam:!0},!0)&&(_=f.SelectWebcam(_),e.setErrorString(s),_)},CloseSource:function(){s._playVideoDWT=null;var _=f.StopCapture();return e.setErrorString(s),_},GetFramePartURL:function(){var _;return this._isPlaying()?(_=f.GetDIB(-1),e.setErrorString(s),_):(e.WebcamErrors.VideoNotPlayingWhenGetURL(s),"")},GetFrameURL:function(){return""},PlayVideo:function(_,C,w,x,A){function P(){return s._playVideoDWT=null,q.Lib.isFunction(A)&&A(s.ErrorCode,s.ErrorString),!1}var R;return _&&_.getSWebTwain()?e.License.checkProductKey(s,{Webcam:!0},!0)?(R=_.getSWebTwain().CurrentHWND)?(s._playVideoDWT=_,setTimeout(function(){var E=f.RunWebcamCmd("PlayVideo",R,null,null,w);e.wrapperRet(s,E,x,P)},0),!0):(e.WebcamErrors.InvalidParameter(s),P()):P():(q.Lib.WebcamErrors.InvalidParameter(s),P())},PauseVideo:function(){return!0},StopVideo:function(){s._playVideoDWT=null;var _=f.RunWebcamCmd("StopVideo",0,null,null,null);return e.setErrorString(s),f.StopCapture(),_},CaptureImage:function(_,C){function w(){return q.Lib.isFunction(C)&&C(s.ErrorCode,s.ErrorString),!1}var x;return e.License.checkProductKey(s,{Webcam:!0},!0)?(x=f.RunWebcamCmd("Capture",0,function(){q.Lib.isFunction(_)&&setTimeout(_,0),e.License.isLTS()&&q.DWT.lcvrf(s)},w,null),e.setErrorString(s),x):w()},GetMediaType:function(){var _=s._innerWebcamValueFunctionPlugin(f.GetMediaType());return e.setErrorString(s),_},SetMediaType:function(_){return e.isString(_)?(_=f.SetMediaType(_),e.setErrorString(s),_):(e.Errors.InvalidValue(s),!1)},GetResolution:function(){var _=s._innerWebcamValueFunctionPlugin(f.GetResolution());if(e.setErrorString(s),_&&_._resultlist){var C,w,x=_._resultlist,A=[],P=[];for(0<x.length&&(w=x[x.length-1]),C=0;C<x.length-1;C++){for(var R,E=(R=x[C]).toLowerCase().split("x"),O=(k=L=O=void 0,{value:R,p1:parseInt(E[0]),p2:parseInt(E[1])}),L=A,k=L.length-1;0<=k&&L[k].p1>=O.p1&&!(L[k].p1==O.p1&&L[k].p2<O.p2);)L[k+1]=L[k],k--;L[k+1]=O}for(C=0;C<A.length;C++)R=A[C].value,P.push(R);w&&P.push(w),_._resultlist=P,P=A=null}return _},SetResolution:function(_){return e.isNumber(_)||e.isString(_)?(_=f.SetResolution(_),e.setErrorString(s),_):(e.Errors.InvalidValue(s),!1)},GetFrameRate:function(){var _=s._innerWebcamValueFunctionPlugin(f.GetFrameRate());return e.setErrorString(s),_},SetFrameRate:function(_){return e.isNumber(_)?(_=f.SetFrameRate(_),e.setErrorString(s),_):(e.Errors.InvalidValue(s),!1)},GetVideoPropertySetting:function(_){return _=f.GetWebcamVideoPropertySetting(_),e.setErrorString(s),s._innerWebcamSettingFunctionPlugin(_)},GetVideoPropertyMoreSetting:function(_){return _=f.GetWebcamVideoPropertyMoreSetting(_),e.setErrorString(s),s._innerWebcamMoreSettingFunctionPlugin(_)},SetVideoPropertySetting:function(_,C,w){return _=f.SetWebcamVideoPropertySetting(_,C,w),e.setErrorString(s),_},SetVideoRotateMode:function(_){return _=f.SetVideoRotateMode(_),e.setErrorString(s),_},GetCameraControlPropertySetting:function(_){return _=f.GetWebcamCameraControlSetting(_),e.setErrorString(s),s._innerWebcamSettingFunctionPlugin(_)},GetCameraControlPropertyMoreSetting:function(_){return _=f.GetWebcamCameraControlMoreSetting(_),e.setErrorString(s),s._innerWebcamMoreSettingFunctionPlugin(_)},SetCameraControlPropertySetting:function(_,C,w){return _=f.SetWebcamCameraControlPropertySetting(_,C,w),e.setErrorString(s),_},_isPlaying:function(){return!!s._playVideoDWT}}},s.Addon=s.Addon||{},e.mix(s.Addon,h)})});/*! 20251201182703
* Dynamsoft JavaScript Library
* Product: Dynamic Web TWAIN
* Web Site: https://www.dynamsoft.com
*
* Copyright 2025, Dynamsoft Corporation
* Author: Dynamsoft Support Team
*
* Module: Upload
* Version: 19.3
* 
*/var q=window.Dynamsoft||{};(function(e){e.DWT||(e.DWT={}),e.Lib||(e.Lib={})})(q),q.aryAddonReadyFun=q.aryAddonReadyFun||[],q.AddonReady=q.AddonReady||function(e){q.aryAddonReadyFun.push(e)},q.AddonReady(function(e,r){q.DWT.EnumTransferErrorCode={TRANS_OK:0,TRANS_URL_MALFFORMAT:1,TRANS_FAILED_RESOLVE_PROXY:2,TRANS_FAILED_RESOLVE_HOST:3,TRANS_FAILED_CONNECT:4,TRANS_REMOTE_ACCESS_DENIED:5,TRANS_PARTIAL_FILE:6,TRANS_UPLOAD_FAILED:7,TRANS_READ_FAILED:8,TRANS_OUT_OF_MEMORY:9,TRANS_REMOTE_FULL_DISK:10,TRANS_OPERATION_TIMEOUT:11,TRANS_SERVICE_ERROR_404:12,TRANS_SERVICE_ERROR_500:13,TRANS_SERVICE_ERROR_503:14,TRANS_SERVICE_ERROR:15,TRANS_NOT_SEND:16,TRANS_WAITFOR_SEND:17,TRANS_SENDING:18,TRANS_PAUSE:19,TRANS_FINISHED:20,TRANS_NULL_POINTER:21,TRANS_INVALID_ID:22,TRANS_Failed:23,TRANS_SERVICE_ERROR_MORE_THAN_500:24,TRANS_SERVICE_ERROR_LESS_THAN_200:25,TRANS_SERVICE_ERROR_MORE_THAN_300:26,TRANS_CANNOT_FINDFILE:27,TRANS_ABORT:28,TRANS_NOT_FINISHED:29,TRANS_TASK_PREPARE_INIT:30,TRANS_TASK_INIT:31,TRANS_BEYOND_MAXSIZE:32};var i=q,s=e.guid(),f=5,h=(q.dcp,[1,9,0,"0318"]),y="upload_"+h.join(""),_={Version:"1.0",HttpVersion:"1.1",ServerUrl:"",FileName:"",VERIFYPEER:!1,VERIFYHOST:!1,BlockSize:10240,ThreadNum:1,OnUploadTransferPercentage:function(H,ie){},OnRunSuccess:function(H){},OnRunFailure:function(H,ie,pe){}},C=0,w="",x=function(){C=-2,w="Upload failed because the url to upload to is invalid."},A=function(H,ie,pe){C=-3,H?w="Upload cancelled.":(w=ie&&ie!=""?"Upload failed with error: "+ie:"Upload failed.",ie&&ie!=""&&(w=w+"("+pe+")"))},P=function(){C=-4,w="Upload failed because the file to upload has invalid content."},R=function(){C=-5,w="Invalid upload job id."},E=function(){C=-6,w="Cannot create an upload job."},O=function(){C=-7,w="The file name is incorrect in the upload job."},L=function(){C=-8,w="Can not cancel all jobs when at least one job is still being created."},k=function(){C=0,w=""};function N(){}function j(H){this.job=H}function G(H){this.job=H}N.prototype={runWaiting:0,CreateJob:function(){var H={HttpHeader:{},documents:[],formFields:[],bEvent:!1};return e.mix(H,_),H.SourceValue=new j(H),H.FormField=new G(H),H},Run:function(H){var ie,pe=this,se='""',ce=H.ServerUrl,me="";if(!e.isString(ce)||ce=="")return H.id=-1,x(),!H.bEvent&&e.isFunction(H.OnRunFailure)&&(H.bEvent=!0,H.OnRunFailure(H,C,w),H.bEvent=!1),!1;if(!H.documents||!e.isArray(H.documents)||H.documents.length<=0)return H.id=-1,P(),!H.bEvent&&e.isFunction(H.OnRunFailure)&&(H.bEvent=!0,H.OnRunFailure(H,C,w),H.bEvent=!1),!1;if(!H.ar||!H.cu){q.Lib.License.isLicenseMixed(null,!0)||q.Lib.License.reparseProductKey();var ge=q.DWT.licenseException;if(ge.code!=0)return H.id=-1,C=ge.code,w=ge.message,!H.bEvent&&e.isFunction(H.OnRunFailure)&&(H.bEvent=!0,H.OnRunFailure(H,C,w),H.bEvent=!1),!1;if(q.Lib.License.isLTS())return q.DWT.lglic(q.DWT.EnumInstance.dwt_desktop,"").then(function(xe){H.ar=xe.ar,H.cu=xe.cu,pe.Run(H)}),!0;e.product.refProductKey&&(se='"'+e.product.refProductKey+'"')}for(H.Url=ce,delete H.ServerUrl,ie=0;ie<H.documents;ie++){var we=H.documents[ie];if(!e.isString(we.files)||we.files=="")return H.id=-1,O(),!H.bEvent&&e.isFunction(H.OnRunFailure)&&(H.bEvent=!0,H.OnRunFailure(H,C,w),H.bEvent=!1),!1;e.isString(we.remoteName)&&we.remoteName!=""||(we.remoteName="RemoteFile")}var ge=H.SourceValue,Ee=(delete H.SourceValue,H.FormField),_e=(delete H.FormField,e.stringify(H)),_e=e.replaceAll(_e,'"',"'");return H.ServerUrl=ce,delete H.Url,H.SourceValue=ge,H.FormField=Ee,ce=['{"id":"',s,'","method":"RunUploadFile","version":"',y,'","parameter":[',se,',"',_e,'"'],H.ar&&H.cu?(me=[',"',H.ar,'","',H.cu,'",0]}'].join(""),delete H.ar,delete H.cu,ce.push(me)):ce.push("]}"),ge=ce.join(""),pe.runWaiting++,q.FileUploader._sendCmd("RunUploadFile",ge,function(Be){var xe;pe.runWaiting--,Be&&((xe=Be.UploadId)&&0<xe?(H.id=xe,i.FileUploader.map[H.id]=H,i.FileUploader.ids.push(Be.UploadId),H.OnUploadTransferPercentage&&H.OnUploadTransferPercentage(H,0)):(xe=Be.errorcode,Be=Be.errorstring,xe&&Be?(C=xe,w=Be):E(),!H.bEvent&&e.isFunction(H.OnRunFailure)&&(H.bEvent=!0,H.OnRunFailure(H,C,w),H.bEvent=!1)))},function(Be,xe,Ce){pe.runWaiting--,i.FileUploader.parseHttpErrors(Be,xe,Ce),!H.bEvent&&e.isFunction(H.OnRunFailure)&&(H.bEvent=!0,H.OnRunFailure(H,C,w),H.bEvent=!1)}),!0},Cancel:function(H){var ie;return!H.id||H.id<0?(R(),!H.bEvent&&e.isFunction(H.OnRunFailure)&&(H.bEvent=!0,H.OnRunFailure(H,C,w),H.bEvent=!1),!1):(ie='{"id":"'+s+'","method":"DeleteUploadTask","version":"'+y+'","parameter":["'+H.id+'"]}',q.FileUploader._sendCmd("DeleteUploadTask",ie,function(pe){i.FileUploader.deleteJobById(H.id)},function(pe,se,ce){i.FileUploader.parseHttpErrors(pe,se,ce),!H.bEvent&&e.isFunction(H.OnRunFailure)&&(H.bEvent=!0,H.OnRunFailure(H,C,w),H.bEvent=!1)}),!0)},CancelAllUpload:function(){var H=i.FileUploader.ids,ie='{"id":"'+s+'","method":"DeleteUploadTask","version":"'+y+'","parameter":["'+H.join(",")+'"]}';return 0<this.runWaiting?(L(),!1):(this.runWaiting<0&&(this.runWaiting=0),H.length<=0||q.FileUploader._sendCmd("DeleteUploadTask",ie,function(pe){for(var se=0;se<H.length;se++)i.FileUploader.deleteJobById(H[se]);i.FileUploader.ids=[],i.FileUploader.map=[]},function(pe,se,ce){i.FileUploader.parseHttpErrors(pe,se,ce)}),!0)},OnUploadTransferPercentage:function(H,ie){},OnRunSuccess:function(H){},OnRunFailure:function(H,ie,pe){}},(i.SourceValue=j).prototype.Add=function(H,ie,pe){var se=this.job;e.isString(H)&&H!=""?(pe=pe||"RemoteFile",H=q.Lib.replaceAll(H,"\\\\","\\\\"),se.documents.push({files:[H],fileName:ie,remoteName:pe})):(O(),!se.bEvent&&e.isFunction(se.OnRunFailure)&&(se.bEvent=!0,se.OnRunFailure(se,C,w),se.bEvent=!1))},i.FormField=G,i.FileUploader={ids:[],map:{},port:q.dcp.Port,protocol:"https://",ip:"127.0.0.1",wsUrl:"",running:!(G.prototype.Add=function(H,ie){var pe,se,ce=ie,me=H;if(ce==null&&(ce=""),!e.isString(me)||me==""||!e.isString(ce)||(ce=encodeURI(ce),-1<(me=encodeURI(me)).indexOf("'")||-1<ce.indexOf("'")))return!1;for(pe=0;pe<this.job.formFields.length;pe++)if((se=this.job.formFields[pe]).name==me)return se.value=ce,!0;return this.job.formFields.push({name:me,value:ce}),!0}),ws:null,nextLoopTime:600,deleteJobById:function(H){var ie;if(k(),H){for(ie=0;ie<i.FileUploader.ids.length;ie++)if(H==i.FileUploader.ids[ie]){i.FileUploader.ids.splice(ie,1);break}var pe=i.FileUploader.map[H];for(pe.SourceValue.job=null,delete pe.SourceValue,pe.FormField.job=null,delete pe.FormField,delete i.FileUploader.map[H],ie=pe.documents.length-1;0<=ie;ie--)pe.documents.splice(ie,1);for(ie=pe.formFields.length-1;0<=ie;ie--)pe.formFields.splice(ie,1);var se='{"id":"'+s+'","method":"DeleteUploadTask","version":"'+y+'","parameter":["'+H+'"]}';q.FileUploader._sendCmd("DeleteUploadTask",se)}},_sendCmdByWS:function(H,ie,pe){var se=i.FileUploader.ws;return se&&se.readyState!=q.DWT.EnumDWT_WebsocketReadyState.CLOSING&&se.readyState!=q.DWT.EnumDWT_WebsocketReadyState.CLOSED||(se=q.DWT.NetManager.newWebsocket(i.FileUploader.wsUrl),i.FileUploader.ws=se),q.DWT.NetManager.postStringDataByWS(se,H).then(function(ce){ce=e.parse(ce),ce&&"result"in ce?e.isFunction(ie)&&ie(ce.result):e.isFunction(pe)&&pe()},pe),!0},_sendCmd:function(H,ie,pe,se){return q.DWT.ConnectWithSocket?i.FileUploader._sendCmdByWS(ie,pe,se):(H=[i.FileUploader.protocol,i.FileUploader.ip,":",i.FileUploader.port,"/dcp/",y,"/",H,"?type=1&dsver=",h.join(""),"&ts=",e.now()].join(""),e.ajax({url:H,method:"post",dataType:"json",processData:!1,data:ie,onSuccess:pe,onError:se}))},parseHttpErrors:function(ce,ie,pe){var se,ce=ce&&e.isArray(ce)&&2<ce.length?(se=ce[1],ce[2]):(se=ie,pe);ce.state==2&&ce.status==0?ce.statusText==="abort"?A(!0):x():A(!1,se,ce.status)},loadHttpBlob:function(H,ie,pe,se,ce,me,we){H={method:H,url:ie,dataType:"blob",async:pe,onSuccess:se,onError:function(ge,Ee,_e){i.FileUploader.parseHttpErrors(ge,Ee,_e),e.isFunction(ce)&&ce()}},e.isFunction(me)&&(H.beforeSend=function(ge){ge.addEventListener("progress",function(Ee){delete Ee.totalSize,delete Ee.position,me(Ee)},!1)}),e.ajax(H)},_OnPercentDone:function(){},Init:function(H,ie,pe){if(k(),!q.Lib.detect.bOK)return--f<=0?(e.isFunction(pe)&&pe(),void(f=5)):void setTimeout(function(){q.FileUploader.Init(H,ie,pe)},300);function se(){var ce,me=q.navInfoSync.bSSL?(ce="https://",q.dcp.SSLPort):(ce="http://",q.dcp.Port);i.FileUploader.port=me,i.FileUploader.protocol=ce,i.FileUploader.ip=q.DWT.Host,i.FileUploader.wsUrl=q.DWT.NetManager.getWsUrl(q.DWT.Host,me),i.FileUploader.running=!0,e.isFunction(ie)&&ie(new N),setTimeout(i.FileUploader.StatusLoop,500)}q.dcp.detect.bConnected?se():q.DWT.NetManager.checkModuleManager(se,function(){--f<=0?(e.isFunction(pe)&&pe(),f=5):setTimeout(function(){q.FileUploader.Init(H,ie,pe)},500)})},Close:function(){var H;q.DWT.ConnectWithSocket&&(H=q.FileUploader.ws)&&(H.readyState!=q.DWT.EnumDWT_WebsocketReadyState.CLOSED&&H.readyState!=q.DWT.EnumDWT_WebsocketReadyState.CLOSING&&H.close(),q.FileUploader.ws=null),q.FileUploader.running=!1},VersionInfo:function(H,ie){k();var pe='{"id":"'+s+'","method":"VersionInfo","version":"'+y+'","parameter":[]}';return q.FileUploader._sendCmd("VersionInfo",pe,H,function(se,ce,me){i.FileUploader.parseHttpErrors(se,ce,me),e.isFunction(ie)&&ie(C,w)}),!0},StatusLoop:function(){return k(),i.FileUploader.GetUploadStatus(),i.FileUploader.running&&setTimeout(i.FileUploader.StatusLoop,i.FileUploader.nextLoopTime),!0},GetUploadStatus:function(){var H;return k(),i.FileUploader.ids.length<=0||(H='{"id":"'+s+'","method":"GetUploadStatus","version":"'+y+'","parameter":["'+i.FileUploader.ids.join(",")+'"]}',q.FileUploader._sendCmd("GetUploadStatus",H,function(ie){if(e.isArray(ie))for(var pe=0;pe<ie.length;pe++){var se=(Ee=ie[pe]).id,ce=i.FileUploader.map[se],me=Ee.percentage,we=Ee.errorcode,ge=Ee.response,Ee=Ee.errorstring;ce&&(we==q.DWT.EnumTransferErrorCode.TRANS_FINISHED?(ce.OnUploadTransferPercentage(ce,100,$(ge)),!ce.bEvent&&e.isFunction(ce.OnRunSuccess)&&(ce.bEvent=!0,ce.OnRunSuccess(ce,$(ge)),ce.bEvent=!1),i.FileUploader.deleteJobById(se)):we==q.DWT.EnumTransferErrorCode.TRANS_OK||we==q.DWT.EnumTransferErrorCode.TRANS_NOT_SEND||we==q.DWT.EnumTransferErrorCode.TRANS_WAITFOR_SEND||we==q.DWT.EnumTransferErrorCode.TRANS_SENDING||we==q.DWT.EnumTransferErrorCode.TRANS_PAUSE||we==q.DWT.EnumTransferErrorCode.TRANS_TASK_PREPARE_INIT||we==q.DWT.EnumTransferErrorCode.TRANS_TASK_INIT?ce.OnUploadTransferPercentage(ce,me,$(ge)):(!ce.bEvent&&e.isFunction(ce.OnRunFailure)&&(ce.bEvent=!0,ce.OnRunFailure(ce,we,Ee,$(ge)),ce.bEvent=!1),i.FileUploader.deleteJobById(se)))}},function(ie,pe,se){})),!0}};var le=new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1);function $(H){for(var ie,pe,se,ce,me=H.length,we=0,ge="";we<me;){for(;ie=le[255&H.charCodeAt(we++)],we<me&&ie==-1;);if(ie==-1)break;for(;pe=le[255&H.charCodeAt(we++)],we<me&&pe==-1;);if(pe==-1)break;ge+=String.fromCharCode(ie<<2|(48&pe)>>4);do if((se=255&H.charCodeAt(we++))==61)return ge;while(se=le[se],we<me&&se==-1);if(se==-1)break;ge+=String.fromCharCode((15&pe)<<4|(60&se)>>2);do if((ce=255&H.charCodeAt(we++))==61)return ge;while(ce=le[ce],we<me&&ce==-1);if(ce==-1)break;ge+=String.fromCharCode((3&se)<<6|ce)}return ge}});/*! 202511171400
* Dynamsoft JavaScript Library
* Product: Dynamic Web TWAIN
* Web Site: https://www.dynamsoft.com
*
* Copyright 2025, Dynamsoft Corporation
* Author: Dynamsoft Support Team
* Version: 19.3
*/(function(){var e=620;q.navInfoSync.bMobile&&screen.width<620&&(e=screen.width-10);var r=!1;navigator.permissions&&navigator.permissions.query&&navigator.permissions.query({name:"local-network-access"}).then(function(f){r=!0}).catch(function(){});function i(){return r}q.OnWebTwainNotFoundOnWindowsCallback=function(f,h,y,_,C,w,x){var A=q,P={default:h};A._show_install_dialog(f,P,y,q.DWT.EnumDWT_PlatformType.enumWindow,_,C,w,x,!1)},q.OnWebTwainNotFoundOnLinuxCallback=function(f,h,y,_,C,w,x,A,P){var R=q,E={default:h,deb:h,rpm:y};P||(P=q.DWT.EnumDWT_PlatformType.enumLinux),R._show_install_dialog(f,E,_,P,C,w,x,A,!1)},q.OnWebTwainNotFoundOnMacCallback=function(f,h,y,_,C,w,x){var A=q,P={default:h};A._show_install_dialog(f,P,y,q.DWT.EnumDWT_PlatformType.enumMac,_,C,w,x,!1)},q.OnWebTwainNotFoundOnAndroidCallback=function(f,h,y,_){var C="Starting from version 19.0, Android platform is no longer supported.";q.DWT.ShowMessage(C,{width:480,headerStyle:2})},q.OnMobileNotSupportCallback=function(){var f=[];q.DWT?(f.push('<div class="ds-dwt-ui-dlg-android" style="padding-bottom:30px">'),f.push("Service Mode does not support your Operating System, please contact the site administrator."),f.push("</div>"),q.DWT.ShowMessage(f.join(""),{width:335,headerStyle:1,backgroundStyle:1})):console.log("The Dynamsoft namespace is missing")},q.OnHTTPCorsError=function(f){var h=["<div>",f,"</div>",'<div style="margin-top:10px">To fix the issue, please update your website to HTTPS or refer to <br /><a target="_blank" href="https://www.dynamsoft.com/web-twain/docs/faq/http-insecure-websites-in-chromium-browser.html?ver=latest">this article</a> for other workarounds.</div>'].join("");q.DWT.ShowMessage(h,{width:e,headerStyle:2})},q._show_install_dialog=function(f,h,y,_,C,w,x,A,P){var R=q,E,O,L,k,N=q.DWT.EnumDWT_PlatformType,j=_==N.enumLinux||_==N.enumEmbed||_==N.enumChromeOS||_==N.enumHarmonyOS,G={icn_download:"data:image/png;base64,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",icn_install:"data:image/png;base64,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",icn_scan:"data:image/png;base64,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"},le=!1;if(P?O="Update your document scanning service":O="Download the Dynamic Web TWAIN service",L="Follow the steps below to enable scanning in your browser",E=['<div class="dynamsoft-dwt-dlg-title">',O,"</div>",'<div class="dynamsoft-dwt-dlg-subtitle" style="display: none;">',L,"</div>",'<div class="dynamsoft-dwt-dlg-title-error" style="display:none"></div>'],R.DWT){var $=q.navInfoSync.bFirefox;j||$?k="RESTART":k="REFRESH",E.push('<div class="dynamsoft-dwt-installdlg-iconholder"> ');var H="134px";E.push('<div class="dynamsoft-dwt-installdlg-splitline" style="left: '+H+'"></div>'),E.push('<div class="dynamsoft-dwt-installdlg-splitline" style="left: 328px"></div>');var ie="133px";if(E.push('<img style="margin: 0px '+ie+' 0px 0px" src="'+G.icn_download+'" alt="download" />'),E.push('<img style="margin: 2px '+ie+' 2px 0px" src="'+G.icn_install+'" alt="install" />'),E.push('<img src="'+G.icn_scan+'" alt="scan" />'),E.push('<div><span class="dynamsoft-dwt-installdlg-text" style="right: 160px">Download</span>'),E.push('<span class="dynamsoft-dwt-installdlg-text" style="right: 18px">Install</span>'),E.push('<span class="dynamsoft-dwt-installdlg-text" style="left: 140px">Scan</span>'),E.push("</div>"),E.push("</div>"),y&&j){E.push('<div style="margin:10px 0 0 60px;">'),E.push('<div id="dwt-install-url-div">');var pe=q.navInfo.bArm64,se=q.navInfo.bMips64,ce=q.navInfoSync.bChromeOS,me=q.navInfoSync.bHarmonyOS;pe||se||ce||me||(E.push(`<div><input id="dwt-install-url-deb" name="dwt-install-url" type="radio" onclick="Dynamsoft._dwt_change_install_url('`+h.deb+`')" checked="checked" /><label for="dwt-install-url-deb">64 bit .deb (For Ubuntu/Debian)</label></div>`),E.push(`<div><input id="dwt-install-url-rpm" name="dwt-install-url" type="radio" onclick="Dynamsoft._dwt_change_install_url('`+h.rpm+`')" /><label for="dwt-install-url-rpm">64 bit .rpm (For Fedora)</label></div>`)),E.push("</div></div>")}E.push('<div class="ds-download-div"><a id="dwt-btn-install" href="'),E.push(h.default),E.push('"'),y?E.push(' html5="1"'):E.push(' html5="0"'),E.push(' onclick="Dynamsoft._dcp_dwt_onclickDownloadButton()">Download</a></div>'),y?C?(E.push('<div class="dynamsoft-dwt-dlg-tail" style="text-align:left; padding-left: 80px">'),E.push("If you still see the dialog after installing the Dynamic Web TWAIN Service, please<br />"),E.push("1. Add the website to the zone of trusted sites.<br />"),E.push("IE | Tools | Internet Options | Security | Trusted Sites.<br />"),E.push("2. Refresh your browser."),E.push("</div>")):(E.push('<div class="dynamsoft-dwt-dlg-tail ds-dwt-textLeft" style="padding: 0px 70px 20px 70px;background:#FFFFFF">'),j&&(E.push('<div class="dynamsoft-dwt-dlg-red">'),E.push("After the installation, please <strong>"+k+"</strong> your browser. "),E.push("</div>")),E.push("</div>"),i()&&(le=!0)):(E.push('<div class="dynamsoft-dwt-dlg-tail" style="text-align:left; padding-left: 80px">'),E.push("After the installation, please<br />"),E.push("1. Restart the browser<br />"),E.push('2. Allow "DynamicWebTWAIN" add-on to run by right clicking on the Information Bar in the browser.'),E.push("</div>")),R.DWT.ShowMessage(E.join(""),{width:e,headerStyle:1})}else console.log("The Dynamsoft namespace is missing");q.DWT&&q.DWT.OnWebTwainNotFound&&q.DWT.OnWebTwainNotFound(),le&&navigator.permissions.query({name:"local-network-access"}).then(function(we){if(we&&we.state!="granted"){var ge=document.querySelector(".dynamsoft-dwt-dlg-tail"),Ee=document.createElement("div");Ee.className="dynamsoft-dwt-dlg-tail-guide",j?Ee.innerHTML=`If you're still seeing this dialog, please enable local network access for this site(<a href="javascript: void (0)" onclick="Dynamsoft._dwt_onclickLNAGuide()">guide</a>).`:Ee.innerHTML=`If you're still seeing this dialog after installing the service, please enable local network access for this site (<a href="javascript: void (0)" onclick="Dynamsoft._dwt_onclickLNAGuide()">guide</a>).`,ge.appendChild(Ee)}})},q._dwt_onclickLNAGuide=function(){i()&&navigator.permissions.query({name:"local-network-access"}).then(function(f){var h=!0;f&&f.state=="denied"&&(h=!1),q.OnBrowserLNADenied("Local network access is blocked.",h),q._dwt_onclickLNAGuide_inner()})},q._dwt_onclickLNAGuide_inner=function(){var f=q,h=500;f.DWT.CheckConnectToTheService(function(){q.DWT.ConnectToTheService()},function(){if(q.DWT.NeedCheckWebTwainBySocket()){q.DWT.CheckWebTwainBySocket(function(){q.OnHTTPCorsError()},function(){setTimeout(q._dwt_onclickLNAGuide_inner,h)},function(){setTimeout(q._dwt_onclickLNAGuide_inner,h)});return}setTimeout(q._dwt_onclickLNAGuide_inner,h)})},q._dwt_change_install_url=function(f){var h=document.getElementById("dwt-btn-install");h&&(h.href=f)};var s=0;q._dcp_dwt_onclickDownloadButton=function(){var f=document.getElementById("dwt-install-url-div");f&&(f.style.display="none");var h=q.Lib.one(".dynamsoft-dwt-dlg-subtitle");h&&h.style("display","");var y=q.Lib.one(".dynamsoft-dwt-dlg-title");y&&y.html("Install the Dynamic Web TWAIN service");var _=document.getElementById("dwt-btn-install");if(_)if(_.getAttribute("html5")=="1"){var C=_.parentNode,w=document.createElement("div"),x=document.createElement("Button");w.id="dwt-btn-install",w.style.textAlign="center",w.style.paddingBottom="15px",w.style.font='600 16px/25px "Open Sans", sans-serif',w.innerHTML="After installation, click below to verify the service is running.",w.setAttribute("html5","1"),C.removeChild(_),C.appendChild(w),x.textContent="Verify",x.onclick=function(){q._dcp_dwt_onclickInstallButton()},x.className="dynamsoft-dwt-installdlg-button",C.appendChild(x)}else{var C=_.parentNode;C.removeChild(_)}return!0},q._dcp_dwt_onclickInstallButton=function(){var f=document.getElementById("dwt-install-url-div");f&&(f.style.display="none");var h=q.Lib.one(".dynamsoft-dwt-dlg-title");h&&h.style("display","");var y=q.Lib.one(".dynamsoft-dwt-dlg-title-error");y&&y.style("display","none");var _=q.Lib.one(".dynamsoft-dwt-dlg-subtitle");_&&_.style("display","none");var C=q.Lib.one(".dynamsoft-dwt-installdlg-button");C&&C.style("display","none");var w=document.getElementById("dwt-btn-install");return w&&setTimeout(function(){if(w.getAttribute("html5")=="1"){var x=w.parentNode;w.style.font='22px / 31px "Open Sans", sans-serif',w.style.margin="20px",w.innerHTML="Connecting to the service...",s=new Date,setTimeout(q._dwt_Reconnect,10)}else{var x=w.parentNode;x.removeChild(w)}},10),!0},q._dwt_Reconnect=function(){var f=q;if((new Date-s)/1e3>10){var h=document.getElementById("dwt-btn-install");h&&(h.style.font='600 16px/25px "Open Sans", sans-serif',h.style.margin="0px",h.innerHTML="Make sure your installation is complete and the service is running.");var y=q.Lib.one(".dynamsoft-dwt-installdlg-button");y&&(y.html("Try Reconnecting"),y.style("display",""),y.style("width","200px"));var _=q.Lib.one(".dynamsoft-dwt-dlg-title");_&&_.style("display","none");var C=q.Lib.one(".dynamsoft-dwt-dlg-title-error");C&&(C.html("Couldn't connect to the service."),C.style("display",""));return}if(f.DWT){var w=500;navigator.userAgent.indexOf("Safari")>-1&&(w=2e3),f.DWT.CheckConnectToTheService(function(){q.DWT.CloseDialog(),q.DWT.ConnectToTheService()},function(){if(q.DWT.NeedCheckWebTwainBySocket()){q.DWT.CheckWebTwainBySocket(function(){q.OnHTTPCorsError()},function(){setTimeout(q._dwt_Reconnect,w)},function(){setTimeout(q._dwt_Reconnect,w)});return}setTimeout(q._dwt_Reconnect,w)})}else console.log("The Dynamsoft namespace is missing")},q._show_android_install_dialog=function(f,h){var y;if(q.DWT.bNpm&&q.navInfoSync.bFileSystem){var _=!0,C=q.DWT.EnumDWT_PlatformType.enumAndroid;return q.DWT&&q.DWT.OnWebTwainNotFound&&q.DWT.OnWebTwainNotFound(),q.Lib.isFunction(q._show_online_download_dialog)?q._show_online_download_dialog(f,_,C):!0}y=[],q.DWT?(y.push('<div class="ds-dwt-ui-dlg-android">'),y.push("<div>Please download and "),h?y.push("update"):y.push("install"),y.push(" the <strong>DYNAMIC WEB TWAIN SERVICE</strong> app via the </div>"),y.push('<div><a href="'),y.push(f.default),y.push('" onclick="Dynamsoft._dwt_ReconnectForAndroid()">direct APK download link</a>.</div>'),y.push("</div>"),y.push('<div class="dynamsoft-dwt-dlg-tail" style="text-align:left">'),y.push("If you have "),h?y.push("updated"):y.push("installed"),y.push(" it, please click on the button below to initiate the connection."),y.push('<a target="_blank" href="'),y.push(f.openService),y.push('" onclick="Dynamsoft._dwt_ReconnectForAndroid()" class="dynamsoft-dwt-dlg-button-android"><div>Open Service</div></a>'),y.push("</div>"),y.push("</div>"),q.DWT.ShowMessage(y.join(""),{width:335,headerStyle:1,backgroundStyle:1})):console.log("The Dynamsoft namespace is missing"),q.DWT&&q.DWT.OnWebTwainNotFound&&q.DWT.OnWebTwainNotFound()},q._dwt_ReconnectForAndroid=function(){q.DWT.CheckConnectToTheService(function(f){f?(q.DWT.CloseDialog(),q.DWT.ConnectToTheService()):setTimeout(q._dwt_ReconnectForAndroid,500)},function(){setTimeout(q._dwt_ReconnectForAndroid,500)})},q.OnWebTwainNeedUpgradeCallback=function(f,h,y,_,C,w,x,A){q._show_install_dialog(f,h,y,_,C,w,x,A,!0,!0)},q.OnWebTwainNeedUpgradeOnAndroidCallback=function(f,h,y){q.OnWebTwainNotFoundOnAndroidCallback(f,h,y,!0)},q.OnLTSLicenseError=function(f,h){var y="",_;if(h==-2440||h==-2441||h==-2443||h==-2446||f.indexOf("Internet connection")>-1||f.indexOf("Storage")>-1){var C="https://www.dynamsoft.com/customer/license/trialLicense?product=dwt&deploymenttype=js";y='<div>You can register for a free 30-day trial <a href="'+C+'" target="_blank" class="dynamsoft-major-color">here</a>. Make sure to select the product Dynamic Web TWAIN.</div>'}_=[f,y],q.DWT.ShowMessage(_.join(""),{width:e,headerStyle:2})},q.OnLTSConnectionWarning=function(){var f=["Warning: You are seeing this dialog because Dynamic Web TWAIN has failed to connect to the License Tracking Server. ","A cached authorization is being used, and you can continue to use the software as usual. ","Please get connected to the network as soon as possible. ",q.DWT.isPublicLicense()?'<a class="dynamsoft-major-color" href="https://www.dynamsoft.com/company/contact/">Contact Dynamsoft</a> ':"Contact the site administrator ","for more information."].join("");q.DWT.ShowMessage(f,{width:e,caption:"Warning",headerStyle:2})},q.OnLTSPublicLicenseWarning=function(f){q.DWT.ShowMessage(f,{width:e,caption:"Warning",headerStyle:2})},q.OnLicenseExpiredWarning=function(f,h,y){var _,C,w='<a target="_blank" href="https://www.dynamsoft.com/store/dynamic-web-twain/#DynamicWebTWAIN">online store</a>',x="https://www.dynamsoft.com/customer/license/trialLicense?product=dwt&utm_source=in-product";if(!(h>5||!y)){if(h>0){var A;h<=1?A="1 day":A=parseInt(h)+" days",C="Warning",_=['<div style="padding:0 0 10px 0">Kindly note your trial key is expiring in ',A,". Two quick steps to extend your trial:</div>",'<div style="margin:0 0 0 10px">1. <a target="_blank" href="',x,'">Request a new trial key</a> and follow the instructions to set the new key</div>','<div style="margin:0 0 0 10px">2. Refresh your scan page and try again</div>','<div style="padding:0">If you are ready to purchase a full license, please go to the ',w,".</div>"].join("")}else _=['<div style="padding:0">Sorry, your Dynamic Web TWAIN product key expired on ',f,". You can purchase a full license from the ",w,".</div>",'<div style="padding:0">Alternatively, you may request a new product key from <a target="_blank" href="',x,'">this page</a>.</div>'].join("");_&&q.DWT.ShowMessage(_,{width:e,caption:C,headerStyle:2})}},q.OnLicenseError=q.OnLicenseError||function(f,h){q.DWT.ShowMessage(q.ProcessLicenseErrorContent(f),{width:e,headerStyle:2})},q.OnCorsConfigError=function(f){var h=[f," Please contact the Administrator to configure 'Access-Control-Allow-Origin'."].join("");q.DWT.ShowMessage(h,{width:e,headerStyle:2})},q.OnBrowserLNADenied=function(f,h){var y="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";q.navInfoSync.bEdge?y="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":q.navInfoSync.bFirefox&&(y="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");var _=['<div style="color:#323234;font-size:20px">',f,"</div>",'<div style="color:#606060;font-size:14px;padding:10px 0;">To resolve this issue, please follow the steps outlined below:</div>','<div><img src="data:image/webp;base64,',y,'" /></div>','<div style="color:#606060;font-size:14px;padding:10px 0;">For more detailed information, please refer to <a target="_blank" href="https://www.dynamsoft.com/web-twain/docs/faq/chromium-142-local-network-access-issue.html">this article</a>.</div>'].join(""),C=document.querySelector(".ds-dwt-ui-dlg-wrap");if(C&&h){var w=C.firstChild,x=['<div class="dynamsoft-dialog"><div class="dynamsoft-dwt-ltsdlg-header"><span style="color: rgb(255, 255, 255); line-height: 35px; margin-left: 15px;">Error</span><div class="dynamsoft-dialog-close dynamsoft-dialog-hide-lna"></div></div><div class="dynamsoft-dwt-ltsdlg-body" style="padding: 25px 40px 20px;">',_,,"</div></div>"].join(""),A=document.createElement("div");q.Lib.setHtml(A,x),C.appendChild(A),w.style.display="none",document.querySelector(".dynamsoft-dialog-hide-lna").addEventListener("click",function(){A.remove(),w.style.display=""})}else q.DWT.ShowMessage(_,{width:e,headerStyle:2,closeButton:!1})},q.ProcessLicenseErrorContent=function(f){var h=[],y=f;if(typeof y!="string"){if(y===void 0)return"";y instanceof Error||"message"in y?y=y.message:y=""+y}var _=y.indexOf("["),C=y.indexOf("]",_),w=y.indexOf("(",C),x=y.indexOf(")",w);if(_==-1||C==-1||w==-1||x==-1)return y;_>0&&h.push(y.substring(0,_));var A=y.substring(_+1,C),P=y.substring(w+1,x);return h.push(['<a href="',P,'" target="_blank" class="dynamsoft-major-color">',A,"</a>"].join("")),h.push(y.substring(x+1)),h.join("")},q._show_online_download_dialog=function(f,h,y){var _,C=q.DWT.JSVersion.split(","),w=C[0]+"."+C[1],x=location.pathname,A,P,R;x=x.substring(0,x.lastIndexOf("/")+1),y==q.DWT.EnumDWT_PlatformType.enumLinux&&(arm64||mips64)&&(arm64?f.default=getDebPath("arm64"):mips64&&(f.default=getDebPath("mips64el"))),R=f.default.substr(f.default.length-3),A=["https://www.dynamsoft.com/web-twain/install-dynamsoft-service/?productId=1000001","&downloadLink=https://demo.dynamsoft.com/DWT/Resources/dist/DynamsoftServiceSetup_",w,".",R].join(""),P=q.Lib.Path.normalize([x,f.default].join("")),y==q.DWT.EnumDWT_PlatformType.enumWindow&&P.indexOf("/")==0&&(P=P.substr(1)),_=['<div class="dynamsoft-dwt-ltsdlg-body" style="padding:0 20px 20px 20px">',"<div>To support document scanning, please complete one-time installation of the DynamsoftServiceSetup.",R," on this machine.</div>","<div>You can download the file via this trust site:</div>",'<div><a id="dwt-btn-install" target="_blank" href="',A,'"><div class="dynamsoft-dwt-dlg-button">Open Site</div></a></div>','<div style="word-break: break-word;">Or, go to <br />',P," if the file exists.</div>","<div>After the installation, please <strong>REFRESH</strong>  your browser.<br /></div>","</div>"],q.DWT.ShowMessage(_.join(""),{width:e,headerStyle:1,closeButton:!1})}})();q.DWT.AutoLoad=!1;q.DWT.IfAddMD5InUploadHeader=!1;q.DWT.IfConfineMaskWithinTheViewer=!1;const Di=q,FEe={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_FIREBASE_API_KEY:"AIzaSyAkYQVs4XzRdGYzIJjJEPqsJkOT_0y2cB4",VITE_FIREBASE_APP_ID:"1:839824177718:web:952f05d01ac26272a7f697",VITE_FIREBASE_AUTH_DOMAIN:"archi-drive-c6770.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"839824177718",VITE_FIREBASE_PROJECT_ID:"archi-drive-c6770",VITE_FIREBASE_STORAGE_BUCKET:"archi-drive-c6770.firebasestorage.app",VITE_FIREBASE_VAPID_KEY:"BEhsZEqpZBkIy1U0pKfB9lt9O2bn-uMn8-vmNVF8WmN-FGvhOhaM39NIfUu_4Ughy0tidPRZtL6OaTMhpuPo1v8"};function MEe(e,r="image/png"){const i=String(e||"").trim();if(!i)return"";if(i.startsWith("data:"))return i;const s=i.replace(/\s+/g,"");return`data:${r};base64,${s}`}function LEe(e){if(typeof e=="string")return e;if(Array.isArray(e)){const r=e[0];if(typeof r=="string")return r}if(e&&typeof e=="object"){if(typeof e._content=="string")return e._content;const r=[e.base64,e.Base64,e.data,e.Data,e.strBase64,e.StrBase64,e.value,e.Value];for(const i of r)if(typeof i=="string")return i}return""}function bG(e){const r=document.createElement("canvas");r.width=600,r.height=800;const i=r.getContext("2d");if(!i)return"";const s=e*57%360;i.fillStyle=`hsl(${s} 70% 92%)`,i.fillRect(0,0,r.width,r.height),i.fillStyle="rgba(0,0,0,0.10)";for(let f=80;f<r.height;f+=48)i.fillRect(60,f,r.width-120,2);return i.fillStyle="rgba(0,0,0,0.75)",i.font="bold 48px system-ui, -apple-system, Segoe UI, Roboto",i.fillText(`Page ${e}`,60,90),i.fillStyle="rgba(0,0,0,0.55)",i.font="24px system-ui, -apple-system, Segoe UI, Roboto",i.fillText("Aperu scan (mock)",60,140),r.toDataURL("image/png")}const WEe=({isOpen:e,onClose:r,folderId:i,serviceId:s,onUploaded:f})=>{const[h,y]=z.useState("main"),[_,C]=z.useState(!1),[w,x]=z.useState(!1),[A,P]=z.useState(!1),[R,E]=z.useState(null),[O,L]=z.useState(void 0),[k,N]=z.useState([]),[j,G]=z.useState(null),[le,$]=z.useState(!1),[H,ie]=z.useState([]),[pe,se]=z.useState(!1),[ce,me]=z.useState("Document scann"),we="dwtcontrolContainer",ge=z.useRef(null),Ee=z.useRef(!1),Be=O&&O.trim().length>0?O:void 0,xe=!!(Be&&Be.trim().length>0),Ce=z.useMemo(()=>!!(Di!=null&&Di.DWT),[]),Ve="production",rt=typeof window<"u"?window.location.origin:"",et=typeof FEe<"u",vt=z.useMemo(()=>H.length>0&&ce.trim().length>0,[H.length,ce]);z.useEffect(()=>{e&&(y("main"),C(!1),P(!1),E(null),L(void 0),N([]),G(null),ie([]),se(!1),me("Document scann"),Ee.current=!1)},[e]),z.useEffect(()=>{if(!e||xe)return;let nt=!1;return(async()=>{try{const At=await wt("/api/config/webtwain",{method:"GET"});if(!At.ok)return;const Ot=await At.json().catch(()=>null),er=Ot&&Ot.dwtProductKey||void 0;nt||L(er)}catch{}})(),()=>{nt=!0}},[xe,e]),z.useEffect(()=>{e&&fetch(`/dwt-resources/dynamsoft.webtwain.min.mjs?ts=${Date.now()}`,{method:"GET"}).then(nt=>E(nt.ok)).catch(()=>E(!1))},[e]),z.useEffect(()=>{e&&(Ee.current||!Ce||!xe||(Ee.current=!0,St().catch(()=>{})))},[xe,Ce,e]);const St=async()=>{if(!Ce)return _r.error("WebTWAIN (Dynamsoft) non dtect (lib dwt)"),!1;if(!xe)return _r.error("Cl WebTWAIN manquante (VITE_DWT_PRODUCT_KEY ou /api/config/webtwain)"),!1;try{typeof Di.DWT.RegisterEvent=="function"&&Di.DWT.RegisterEvent("OnWebTwainError",(nt,At)=>{console.error("WebTWAIN OnWebTwainError",nt,At),_r.error(String(At||nt||"WebTWAIN error"))})}catch{}if(Di.DWT.ProductKey=Be,Di.DWT.ResourcesPath="/dwt-resources",Di.DWT.IfCheckCORS=!0,Di.DWT.Containers=[{WebTwainId:"dwtObject",ContainerId:we,Width:"0px",Height:"0px"}],await Di.DWT.Load(),ge.current=Di.DWT.GetWebTwain(we),!ge.current)return _r.error("WebTWAIN non prt"),!1;try{const nt=ge.current,At=typeof nt.GetSourceNameItems=="function"?nt.GetSourceNameItems():void 0;if(Array.isArray(At)&&At.length>0)N(At),G(Ot=>typeof Ot=="number"?Ot:0);else if(typeof nt.SourceCount=="number"&&typeof nt.GetSourceNameItems=="function"){const Ot=nt.GetSourceNameItems();Array.isArray(Ot)&&Ot.length>0&&(N(Ot),G(er=>typeof er=="number"?er:0))}}catch{}return!0},Se=()=>{const nt=ge.current;try{nt&&typeof nt.CloseSource=="function"&&nt.CloseSource()}catch{}x(!1),$(!1),_r.message("Scanner arrt")},ve=async()=>{y("select"),C(!0);try{await Ie(),y("main")}finally{C(!1)}},Ie=async()=>{if(!Ce){_r.error("WebTWAIN (Dynamsoft) non dtect sur ce poste");return}if(!xe){_r.error("Cl WebTWAIN manquante (VITE_DWT_PRODUCT_KEY)");return}C(!0);try{if(!await St())return;const At=ge.current;if(At&&typeof At.SelectSourceAsync=="function")try{P(!0),await At.SelectSourceAsync(),$(!0)}catch(Ot){_r.error((Ot==null?void 0:Ot.message)||"Slection du scanner annule/choue");return}finally{P(!1)}else if(At&&typeof j=="number"&&typeof At.SelectSourceByIndex=="function")try{At.SelectSourceByIndex(j),$(!0)}catch{}x(!0),_r.success("Scanner connect")}finally{C(!1)}},Je=async()=>{var At,Ot,er;const nt=ge.current;if(!nt)return!1;try{const rn=typeof nt.HowManyImagesInBuffer=="number"?nt.HowManyImagesInBuffer:0,nn=(At=Di==null?void 0:Di.DWT)==null?void 0:At.EnumDWT_PixelType,Ur={IfShowUI:!1,PixelType:nn==null?void 0:nn.TWPT_RGB,Resolution:300,IfFeederEnabled:!0,IfDuplexEnabled:!1,IfDisableSourceAfterAcquire:!0,IfGetImageInfo:!0,IfGetExtImageInfo:!0,extendedImageInfoQueryLevel:0,IfCloseSourceAfterAcquire:!0};if(le||(typeof j=="number"&&typeof nt.SelectSourceByIndex=="function"?(nt.SelectSourceByIndex(j),$(!0)):typeof nt.SelectSourceAsync=="function"&&(await nt.SelectSourceAsync(),$(!0))),typeof nt.OpenSource=="function")try{nt.OpenSource()}catch{}const Tn=async(bt,xt)=>Promise.race([bt,new Promise((tr,Dt)=>setTimeout(()=>Dt(new Error("Timeout scanner (slection source bloque ?)")),xt))]);if(typeof nt.AcquireImageAsync=="function")await Tn(nt.AcquireImageAsync(Ur),45e3);else if(typeof nt.AcquireImage=="function")await Tn(new Promise((bt,xt)=>{try{if(typeof nt.AcquireImage=="function"){nt.AcquireImage(Ur,()=>{try{typeof nt.CloseSource=="function"&&nt.CloseSource()}catch{}bt()},(tr,Dt)=>{try{typeof nt.CloseSource=="function"&&nt.CloseSource()}catch{}xt(new Error(Dt))});return}xt(new Error("AcquireImage non disponible"))}catch(tr){try{typeof nt.CloseSource=="function"&&nt.CloseSource()}catch{}xt(tr)}}),45e3);else return!1;const Xr=typeof nt.HowManyImagesInBuffer=="number"?nt.HowManyImagesInBuffer:0;if(Xr<=rn)return!0;const ut=(er=(Ot=Di==null?void 0:Di.DWT)==null?void 0:Ot.EnumDWT_ImageType)==null?void 0:er.IT_PNG;if(!ut||typeof nt.ConvertToBase64!="function")return _r.message("Scan OK, mais conversion miniatures non configure (fallback mock)"),!1;const Tr=[];for(let bt=rn;bt<Xr;bt+=1)Tr.push(bt);const it=[];for(let bt=0;bt<Tr.length;bt+=1){const xt=Tr[bt],tr=await new Promise((pr,Ne)=>{nt.ConvertToBase64([xt],ut,Le=>pr(Le),Le=>Ne(Le))}),Dt=LEe(tr);Dt||console.warn("WebTWAIN ConvertToBase64 returned non-string",tr);const he=MEe(Dt,"image/png");if(!he){it.push({id:Date.now()+bt,dataUrl:bG(bt+1),bufferIndex:xt});continue}it.push({id:Date.now()+bt,dataUrl:he,bufferIndex:xt})}return ie(bt=>[...bt,...it]),!0}catch(rn){try{typeof nt.CloseSource=="function"&&nt.CloseSource()}catch{}return _r.error((rn==null?void 0:rn.message)||"chec du scan WebTWAIN"),!1}},st=async()=>{if(w){se(!0);try{if(Ce&&await Je()){_r.success("Page ajoute");return}await new Promise(nt=>setTimeout(nt,600)),ie(nt=>{const At=nt.length+1,Ot=[0,1,2].map(er=>({id:Date.now()+er,dataUrl:bG(At+er)}));return[...nt,...Ot]}),_r.success("Page ajoute")}finally{se(!1)}}},lt=nt=>{ie(At=>At.filter(Ot=>Ot.id!==nt))},Bt=async()=>{var Tn;const nt=ge.current;if(!nt)return null;const At=H.map(Xr=>Xr.bufferIndex).filter(Xr=>typeof Xr=="number").sort((Xr,ut)=>Xr-ut);if(At.length===0)return null;const Ot=(Tn=Di==null?void 0:Di.DWT)==null?void 0:Tn.EnumDWT_ImageType,er=Ot==null?void 0:Ot.IT_PDF,rn=Ot==null?void 0:Ot.IT_PNG,nn=er||rn;if(!nn||typeof nt.ConvertToBlob!="function")return null;const Ur=await new Promise((Xr,ut)=>{nt.ConvertToBlob(At,nn,Tr=>Xr(Tr),(Tr,it)=>ut(new Error(String(it||Tr))))});return er?{blob:Ur,mime:"application/pdf",ext:"pdf"}:{blob:Ur,mime:"image/png",ext:"png"}},Gt=async()=>{if(!vt)return;const nt=ce.trim(),At=typeof i=="number"?i:null,Ot=typeof s=="number"?s:null;if(At===null&&Ot===null){_r.error("Impossible denregistrer: dossier/service non dtermin");return}try{const er=await Bt();if(!er){_r.error("Export WebTWAIN impossible");return}const rn=nt||"Document scann",nn=new File([er.blob],`${rn}.${er.ext}`,{type:er.mime}),Ur=new FormData;if(Ur.append("file",nn),Ur.append("name",nn.name),At!==null&&Ur.append("folder_id",String(At)),At===null&&Ot!==null&&Ur.append("service_id",String(Ot)),!(await wt("/api/documents",{method:"POST",body:Ur,toast:{error:{enabled:!0,message:"chec de lenregistrement"}}})).ok)return;_r.success(`Enregistr: ${nt} (${H.length} page(s))`),f==null||f(),r()}catch(er){_r.error((er==null?void 0:er.message)||"chec de lenregistrement")}};return I.jsx(to,{open:e&&!A,onOpenChange:nt=>{nt||r()},children:I.jsxs(Ui,{className:"max-w-4xl",children:[I.jsx(Vi,{children:I.jsxs("div",{className:"flex items-start justify-between gap-3",children:[I.jsxs("div",{children:[I.jsx(Gi,{children:"Scanner"}),I.jsx(ro,{children:h==="merge"?"Fusionnez et nommez votre document avant lenregistrement.":"Ajoutez des pages scannes puis fusionnez le document."})]}),I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx(dt,{type:"button",variant:"outline",onClick:()=>{ie([]),y("main")},children:"Vider"}),I.jsx(dt,{type:"button",variant:"outline",onClick:ve,children:"Changer scanner"})]})]})}),I.jsx("div",{id:we,className:"h-0 w-0 overflow-hidden"}),h==="select"&&I.jsxs("div",{className:"space-y-4",children:[I.jsxs("div",{className:"border rounded-md p-6 text-sm text-muted-foreground",children:[I.jsx("div",{className:"font-medium text-foreground mb-1",children:"Slection du scanner"}),I.jsx("div",{children:"Une fentre de slection va souvrir. Choisis ton scanner, puis reviens ici."})]}),I.jsxs(Pu,{children:[I.jsx(dt,{type:"button",variant:"outline",onClick:()=>y("main"),children:"Annuler"}),I.jsx(dt,{type:"button",onClick:ve,disabled:_||!Ce||!xe,children:_?"Ouverture":"Choisir un scanner"})]})]}),h==="main"&&I.jsxs("div",{className:"space-y-4",children:[I.jsx("div",{className:"min-h-[320px] border rounded-md bg-background",children:H.length===0?I.jsx("div",{className:"h-[320px] flex items-center justify-center text-sm text-muted-foreground",children:"Aucun document scann pour le moment."}):I.jsx("div",{className:"p-3 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:H.map(nt=>I.jsxs("div",{className:"relative border rounded-md overflow-hidden",children:[I.jsx("img",{src:nt.dataUrl,alt:"Page",className:"w-full h-44 object-cover"}),I.jsx(dt,{type:"button",variant:"secondary",size:"sm",className:"absolute top-2 right-2",onClick:()=>lt(nt.id),children:""})]},nt.id))})}),I.jsx(Pu,{children:I.jsxs("div",{className:"w-full flex items-center justify-between gap-2",children:[I.jsx(dt,{type:"button",variant:"outline",onClick:st,disabled:!w||pe,children:pe?"Scan":"Ajouter une page"}),w?I.jsx(dt,{type:"button",variant:"outline",onClick:Se,children:"Arrter"}):I.jsx(dt,{type:"button",onClick:Ie,disabled:_||!Ce||!xe,children:_?"Connexion":"Se connecter au scanner"}),I.jsx(dt,{type:"button",variant:"secondary",onClick:()=>y("merge"),disabled:H.length===0,children:"Fusionner"})]})}),(!Ce||!xe||R===!1)&&I.jsxs("div",{className:"text-xs text-muted-foreground border rounded-md p-3",children:[Ce?null:"WebTWAIN non disponible sur ce poste.",Ce&&!xe?"Cl WebTWAIN manquante (VITE_DWT_PRODUCT_KEY).":null,R===!1?"Ressources WebTWAIN introuvables (/dwt-resources).":null,I.jsxs("div",{className:"mt-2",children:[I.jsx("span",{className:"font-medium",children:"Origin:"})," ",rt||"?","  ",I.jsx("span",{className:"font-medium",children:"Mode:"})," ",Ve,"  ",I.jsx("span",{className:"font-medium",children:"env:"})," ",et?"ok":"absent"]})]})]}),h==="merge"&&I.jsxs("div",{className:"space-y-4",children:[I.jsxs("div",{className:"border rounded-md p-4 text-sm",children:[I.jsx("div",{className:"font-medium mb-1",children:"Fusion du document"}),I.jsx("div",{className:"text-muted-foreground",children:"Donnez un nom  votre document puis enregistrez-le."})]}),I.jsxs("div",{className:"space-y-2",children:[I.jsx("div",{className:"text-xs font-medium",children:"Nom du document"}),I.jsx(Br,{value:ce,onChange:nt=>me(nt.target.value),placeholder:"Nom dinscription / Nom du document"})]}),I.jsxs(Pu,{children:[I.jsx(dt,{type:"button",variant:"outline",onClick:()=>y("main"),children:"Retour"}),I.jsx(dt,{type:"button",onClick:Gt,disabled:!vt,children:"Enregistrer"})]})]})]})})},jEe=({folderId:e,onFolderClick:r})=>{var Xv,Zv,$v,ey;const i=rd(),[s,f]=z.useState(""),[h,y]=z.useState(!1),[_,C]=z.useState(!1),[w,x]=z.useState(""),A=z.useRef(null),[P,R]=z.useState(!1),[E,O]=z.useState([]),[L,k]=z.useState([]),[N,j]=z.useState(!1),[G,le]=z.useState(0),[$,H]=z.useState(""),[ie,pe]=z.useState(null),[se,ce]=z.useState(""),[me,we]=z.useState(!1),[ge,Ee]=z.useState(null),[_e,Be]=z.useState(null),[xe,Ce]=z.useState(null),[Ve,rt]=z.useState(!1),[et,vt]=z.useState(null),[St,Se]=z.useState(1),[ve,Ie]=z.useState({}),[Je,st]=z.useState({}),[lt,Bt]=z.useState(!1),[Gt,nt]=z.useState(!1),[At,Ot]=z.useState(!1),[er,rn]=z.useState(null),[nn,Ur]=z.useState(null),[Tn,Xr]=z.useState(""),{user:ut}=gs(),{data:Tr}=Kr({queryKey:["visible-services",(ut==null?void 0:ut.id)??0],queryFn:async()=>{const Fe=await wt("/api/services/visible");if(!Fe.ok)throw new Error("Erreur chargement services visibles");return Fe.json()},staleTime:6e4}),{data:it=[]}=Kr({queryKey:["shared-folders",(ut==null?void 0:ut.id)??0],enabled:!!ut,queryFn:async()=>{const Fe=await wt("/api/shared-folders/visible");return Fe.ok?Fe.json():[]},staleTime:3e4}),{data:bt=[]}=Kr({queryKey:["admin-services"],enabled:!!ut&&(ut.role==="admin"||ut.role==="super_admin"),queryFn:async()=>{const Fe=await wt("/api/admin/services",{toast:{error:{enabled:!1}}});if(!Fe.ok)throw new Error("Erreur chargement services");return Fe.json()},staleTime:6e4,refetchOnWindowFocus:!1,retry:1}),xt=e?Ev(e):null,{data:tr}=Kr({queryKey:["folder-by-id",e??0,(ut==null?void 0:ut.id)??0],enabled:!!e&&!xt,queryFn:async()=>{const Fe=await wt(`/api/folders/${e}`);return Fe.ok?Fe.json():null},staleTime:3e4}),Dt=xt??tr??null,he=e?G5(e):[],{data:pr}=Kr({queryKey:["resolve-db-folder",e??0,(ut==null?void 0:ut.id)??0],enabled:!!xt&&!!xt.service_id&&xt.parent_id!==null,queryFn:async()=>{const Fe=xt.service_id,Yt=await wt(`/api/folders?service_id=${Fe}`);if(!Yt.ok)return null;const Vt=await Yt.json();if(!Array.isArray(Vt)||Vt.length===0)return null;const ur=he.find(an=>an.parent_id===null)||he[0];let mr=(ur?Vt.find(an=>an.name===ur.name):null)||Vt[0];const en=he.filter(an=>an.parent_id!==null);for(const an of en){const Ki=await wt(`/api/folders?parent_id=${mr.id}`);if(!Ki.ok)return null;const Ka=(await Ki.json()).find(Fn=>Fn.name===an.name);if(!Ka)return null;mr=Ka}return mr||null},staleTime:3e4}),{data:Ne}=Kr({queryKey:["db-root-for-service",(xt==null?void 0:xt.service_id)??0,(ut==null?void 0:ut.id)??0],enabled:!!xt&&xt.parent_id===null&&typeof xt.service_id=="number",queryFn:async()=>{const Fe=await wt(`/api/folders?service_id=${xt.service_id}`);if(!Fe.ok)throw new Error("Erreur chargement dossier racine");return Fe.json()},staleTime:3e4}),Le=!!xt&&xt.parent_id===null,Ze=(Ne??[]).map(Fe=>Fe.id).filter(Fe=>typeof Fe=="number"),{data:ot}=Kr({queryKey:["folders-by-parents",Ze.join(","),(ut==null?void 0:ut.id)??0],enabled:Le&&Ze.length>0,queryFn:async()=>{const Yt=(await Promise.all(Ze.map(async ur=>{const mr=await wt(`/api/folders?parent_id=${ur}`);return mr.ok?mr.json():[]}))).flat(),Vt=new Map;for(const ur of Yt)typeof ur.id=="number"&&Vt.set(ur.id,ur);return Array.from(Vt.values())},staleTime:1e4}),Tt=Dt?Le?null:(pr==null?void 0:pr.id)??Dt.id:null,{data:Jt}=Kr({queryKey:["folders-by-parent",Tt??0,(ut==null?void 0:ut.id)??0],enabled:typeof Tt=="number",queryFn:async()=>{const Fe=await wt(`/api/folders?parent_id=${Tt}`);if(!Fe.ok)throw new Error("Erreur chargement dossiers");return Fe.json()},staleTime:1e4}),lr=Le?ot??[]:typeof Tt=="number"?Jt??[]:[],Qt=Dt?Le?(Ne&&((Xv=Ne[0])==null?void 0:Xv.id))??null:(pr==null?void 0:pr.id)??Dt.id:null,Mr=typeof Qt=="number"?it.find(Fe=>Fe.folder_id===Qt)??null:null,{data:on=[]}=Kr({queryKey:["documents-by-folder",Qt??0,(ut==null?void 0:ut.id)??0],enabled:typeof Qt=="number",queryFn:async()=>{const Fe=await wt(`/api/documents?folder_id=${Qt}`);return Fe.ok?Fe.json():[]},staleTime:1e4}),Hn=on.map(Fe=>{const Yt=Number(Fe.size_bytes??0),Vt=Yt/1024,ur=Vt/1024,mr=Yt>=1024*1024?`${ur.toFixed(1)} Mo`:`${Math.max(1,Math.ceil(Vt))} Ko`,en=(Fe.mime_type||"").split("/")[1]||"";return{id:Fe.id,name:ve[Fe.id]??Fe.name,folder_id:Fe.folder_id??Qt??0,size:mr,created_at:Fe.created_at||new Date().toISOString(),author:Fe.created_by_name||"",type:en}});z.useEffect(()=>{let Fe=!1,Yt=null;const Vt=()=>{if(Yt){try{URL.revokeObjectURL(Yt)}catch{}Yt=null}};return(async()=>{if(!(!me||!ge)){rt(!0),Be(null),Ce(null),Vt();try{const mr=await wt(`/api/documents/${ge.id}`);if(mr.ok){const en=await mr.json(),an=en==null?void 0:en.mime_type;Be(an);const Ki=await fetch(`/api/documents/${ge.id}/download?ts=${Date.now()}`,{credentials:"include",cache:"no-store"});if(Ki.ok)if(an&&an.startsWith("text/")){const Qi=await Ki.text();Ce(Qi)}else{const Qi=await Ki.blob();Yt=URL.createObjectURL(Qi),Fe||vt(Yt)}}}catch{}finally{rt(!1)}}})(),()=>{Fe=!0,Vt()}},[me,ge]);const ii=e?G5(e):[],zi=new Map((Tr??[]).map(Fe=>[Fe.id,Fe.name])),Po=Fe=>Fe.parent_id===null&&typeof Fe.service_id=="number"?zi.get(Fe.service_id)??Fe.name:Fe.name,Zt=lr.map(Fe=>({...Fe,name:Je[Fe.id]??Po(Fe)})),Er=(ii.length===0&&Dt?[Dt]:ii).map(Fe=>({...Fe,name:Po(Fe)}));(Dt==null?void 0:Dt.service_id)??(Ne&&((Zv=Ne[0])==null||Zv.service_id));const fn=(s||"").trim().length>0,gi=Fe=>Fe.normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"").toLowerCase(),io=gi((s||"").trim()),[Ae,Re]=z.useState([]),[Ue,Xe]=z.useState(!1);z.useEffect(()=>{let Fe=!1;return fn&&typeof Qt=="number"?(async Vt=>{Xe(!0);try{const ur=[],mr=[Vt],en=new Set,an=2e3;for(;mr.length&&ur.length<an&&!Fe;){const Ki=mr.shift();if(en.has(Ki))continue;en.add(Ki);const Qi=await wt(`/api/folders?parent_id=${Ki}`);if(!Qi.ok)break;const Ka=await Qi.json();for(const Fn of Ka)if(ur.push(Fn),typeof Fn.id=="number"&&mr.push(Fn.id),ur.length>=an)break}Fe||Re(ur)}catch{Fe||Re([])}finally{Fe||Xe(!1)}})(Qt):(Re([]),Xe(!1)),()=>{Fe=!0}},[fn,Qt]);const Et=fn?Ae:Zt,qt=z.useMemo(()=>fn?Et.filter(Fe=>gi(Fe.name).includes(io)):Et,[fn,io,Et]),rr=z.useMemo(()=>fn?Hn.filter(Fe=>gi(Fe.name).includes(io)):Hn,[fn,io,Hn]),Ft=Fe=>{Fe.preventDefault(),Fe.currentTarget.classList.add("border-primary","bg-primary/5")},Ut=Fe=>{Fe.currentTarget.classList.remove("border-primary","bg-primary/5")},Pt=Fe=>{Fe.preventDefault(),Fe.currentTarget.classList.remove("border-primary","bg-primary/5");const Yt=Array.from(Fe.dataTransfer.files);_r.success(`${Yt.length} fichier(s) tlvers(s)`,{description:"Les fichiers ont t ajouts au dossier."})},Wt=async Fe=>{Fe.preventDefault();const Yt=w.trim();if(!Yt)return;let Vt=null,ur=null;if(e!==null&&(typeof Qt=="number"?Vt=Qt:Dt&&typeof Dt.id=="number"&&(Vt=Dt.id),ur=(Dt==null?void 0:Dt.service_id)??null,Vt!==null)){const mr=Ev(Vt);if(mr&&mr.parent_id===null&&!wCe(Vt)&&mr.service_id){const en=Vt;try{const an=await wt(`/api/folders?service_id=${mr.service_id}`,{toast:{error:{enabled:!1},success:{enabled:!1}}});if(an.ok){const Ki=await an.json(),Qi=Array.isArray(Ki)?Ki.find(Ka=>typeof Ka.id=="number"):null;Qi&&(Vt=Qi.id)}}catch{}Vt===en&&(Vt=null)}}if(e===null&&Vt===null&&(ur=(ut==null?void 0:ut.service_id)??ur,!ur&&Array.isArray(Tr)&&Tr.length>0&&(ur=Tr[0].id),ur))try{const mr=await wt(`/api/folders?service_id=${ur}`,{toast:{error:{enabled:!1},success:{enabled:!1}}});if(mr.ok){const en=await mr.json(),an=Array.isArray(en)?en[0]:null;an&&typeof an.id=="number"&&(Vt=an.id)}}catch{}if(Vt===null&&!ur){_r.error("Cration impossible: votre compte n'est pas assign  un service. Contactez l'administrateur.");return}try{const mr=await wt("/api/folders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:Yt,parent_id:Vt,service_id:ur}),toast:{success:{message:"Dossier cr"}}});if(!mr.ok)throw new Error("Erreur lors de la cration du dossier");const en=await mr.json();x(""),C(!1),Vt!==null&&await i.invalidateQueries({queryKey:["folders-by-parent",Vt,(ut==null?void 0:ut.id)??0]}),r(en.id)}catch{_r.error("Cration du dossier choue")}},cr=()=>{A.current&&A.current.click()},[xr,Nn]=z.useState(!1),[Yr,Vr]=z.useState("enterprise"),[pn,vs]=z.useState([]),Xo=(Fe,Yt)=>{vs(Vt=>Yt?[...Vt,Fe]:Vt.filter(ur=>ur!==Fe))},po=!!ut&&(ut.role==="admin"||ut.role==="super_admin")&&typeof Qt=="number"&&!Le,Zo=async()=>{if(po)try{const Fe={folder_id:Qt,visibility:Yr};if(Yr==="services"&&(Fe.services=pn),!(await wt("/api/admin/shared-folders/link",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Fe),toast:{success:{message:"Dossier partag"}}})).ok)throw new Error("share_failed");Nn(!1),await i.invalidateQueries({queryKey:["shared-folders"]})}catch{}},Il=async()=>{if(!(!po||!Mr))try{if(!(await wt(`/api/admin/shared-folders/${Mr.id}`,{method:"DELETE",toast:{success:{message:"Partage retir"}}})).ok)throw new Error("unshare_failed");await i.invalidateQueries({queryKey:["shared-folders"]})}catch{}},$o=async Fe=>{const Yt=Fe.target.files?Array.from(Fe.target.files):[];if(!Yt.length)return;let Vt=typeof Qt=="number"?Qt:null;if(Vt===null&&Dt&&Dt.parent_id===null&&typeof Dt.service_id=="number")try{const ur=await wt(`/api/folders?service_id=${Dt.service_id}`);if(ur.ok){const mr=await ur.json();Array.isArray(mr)&&mr.length>0&&(Vt=mr[0].id)}}catch{}if(typeof Vt!="number"){_r.error("Veuillez slectionner un dossier avant de tlverser"),Fe.target.value="";return}try{j(!0),le(0);const ur=Yt.reduce((Fn,ad)=>Fn+(ad.size||0),0)||1,mr=new Map,en=()=>{const Fn=Array.from(mr.values()).reduce((sd,ea)=>sd+ea,0),ad=Math.min(100,Math.max(0,Math.round(Fn/ur*100)));le(ad)},an=Fn=>new Promise((ad,sd)=>{const ea=new XMLHttpRequest;ea.open("POST","/api/documents"),ea.withCredentials=!0,ea.responseType="json",ea.upload.onprogress=ty=>{const xl=ty.lengthComputable?ty.loaded:0;mr.set(Fn.name+"|"+Fn.size,xl),H(Fn.name),en()},ea.onload=()=>{ea.status>=200&&ea.status<300?(mr.set(Fn.name+"|"+Fn.size,Fn.size||0),en(),ad()):sd(new Error("upload_failed"))},ea.onerror=()=>sd(new Error("network_error"));const Ss=new FormData;Ss.append("file",Fn),Ss.append("folder_id",String(Vt)),Ss.append("name",Fn.name),ea.send(Ss)}),Qi=(await Promise.allSettled(Yt.map(Fn=>an(Fn)))).filter(Fn=>Fn.status==="fulfilled").length;Qi>0&&(await i.invalidateQueries({queryKey:["documents-by-folder",Vt,(ut==null?void 0:ut.id)??0]}),await i.refetchQueries({queryKey:["documents-by-folder",Vt,(ut==null?void 0:ut.id)??0]}));const Ka=Yt.length-Qi;Ka===0?_r.success(`${Qi} fichier(s) tlvers(s)`):Qi>0?_r.info(`${Qi} tlvers(s), ${Ka} chec(s)`):_r.error(`chec du tlversement (${Ka})`)}catch{_r.error("chec du tlversement")}finally{Fe.target.value="",setTimeout(()=>{j(!1),le(0),H("")},400)}},ys=Fe=>{O(Yt=>Yt.includes(Fe)?Yt.filter(Vt=>Vt!==Fe):[...Yt,Fe])},El=Fe=>{k(Yt=>Yt.includes(Fe)?Yt.filter(Vt=>Vt!==Fe):[...Yt,Fe])},tu=(Fe,Yt)=>{Ee({id:Fe,name:Yt}),we(!0),Se(1)},Pr=(Fe,Yt)=>{const Vt=document.createElement("a");Vt.href=`/api/documents/${Fe}/download`,Vt.download=Yt,document.body.appendChild(Vt),Vt.click(),document.body.removeChild(Vt)},hn=async Fe=>{try{if(!(await wt(`/api/documents/${Fe}`,{method:"DELETE",toast:{success:{enabled:!0,message:"Document supprim"},error:{enabled:!0,message:"chec de la suppression"}}})).ok)throw new Error("delete_failed");typeof Qt=="number"&&await i.invalidateQueries({queryKey:["documents-by-folder",Qt,(ut==null?void 0:ut.id)??0]})}catch{}},ru=(Fe,Yt)=>{pe(Fe),ce(Yt),y(!0)},_s=(Fe,Yt)=>{rn({id:Fe,name:Yt});const ur=(ve[Fe]??Yt).replace(/\.[^.]+$/,"");Xr(ur),Bt(!0)},On=(Fe,Yt)=>{Ur({id:Fe,name:Yt}),Xr(Je[Fe]??Yt),nt(!0)},nu=Fe=>{if(Fe.preventDefault(),!er)return;const Yt=Tn.trim();Yt&&(async()=>{try{if(!(await wt(`/api/documents/${er.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:Yt}),toast:{success:{enabled:!0,message:"Document renomm"},error:{enabled:!0,message:"chec du renommage"}}})).ok)throw new Error("rename_failed");typeof Qt=="number"&&await i.invalidateQueries({queryKey:["documents-by-folder",Qt,(ut==null?void 0:ut.id)??0]})}catch{return}finally{Bt(!1),rn(null)}})()},od=Fe=>{if(Fe.preventDefault(),!nn)return;const Yt=Tn.trim();Yt&&(async()=>{try{if(!(await wt(`/api/folders/${nn.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:Yt}),toast:{success:{enabled:!0,message:"Dossier renomm"},error:{enabled:!0,message:"chec du renommage"}}})).ok)throw new Error("rename_failed");st(mr=>({...mr,[nn.id]:void 0}));const ur=typeof Tt=="number"?Tt:void 0;typeof ur=="number"&&await i.invalidateQueries({queryKey:["folders-by-parent",ur,(ut==null?void 0:ut.id)??0]}),Le&&await i.invalidateQueries({queryKey:["folders-by-parents"]})}catch{return}finally{nt(!1),Ur(null)}})()},Gp=async(Fe,Yt)=>{try{const Vt=await wt(`/api/folders/${Fe}`,{method:"DELETE",toast:{success:{enabled:!0,message:"Dossier supprim"},error:{enabled:!0,message:"chec de la suppression"}}});if(!Vt.ok)if(Vt.status===405){if(!(await wt("/api/folders/delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:Fe}),toast:{success:{enabled:!0,message:"Dossier supprim"},error:{enabled:!0,message:"chec de la suppression"}}})).ok)throw new Error("delete_failed")}else throw new Error("delete_failed");const ur=typeof Tt=="number"?Tt:void 0;typeof ur=="number"&&await i.invalidateQueries({queryKey:["folders-by-parent",ur,(ut==null?void 0:ut.id)??0]}),Le&&await i.invalidateQueries({queryKey:["folders-by-parents"]})}catch{}},Jb=async()=>{if(E.length===0&&L.length===0){_r.info("Slectionnez des dossiers ou documents  supprimer");return}const Fe=[];L.length>0&&Fe.push(`${L.length} dossier(s)`),E.length>0&&Fe.push(`${E.length} document(s)`);const Yt=Fe.join(" et ");if(window.confirm(`Voulez-vous supprimer dfinitivement ${Yt} ?`))try{const ur=new Set(L),mr=E.filter(en=>{const an=Hn.find(Ki=>Ki.id===en);return an?!ur.has(an.folder_id??-1):!0});for(const en of mr)if(!(await wt(`/api/documents/${en}`,{method:"DELETE"})).ok)throw new Error("delete_doc_failed");for(const en of L)if(!(await wt(`/api/folders/${en}`,{method:"DELETE"})).ok)throw new Error("delete_folder_failed");typeof Qt=="number"&&(await i.invalidateQueries({queryKey:["documents-by-folder",Qt,(ut==null?void 0:ut.id)??0]}),await i.invalidateQueries({queryKey:["folders-by-parent",Qt,(ut==null?void 0:ut.id)??0]})),O([]),k([]),R(!1),_r.success("Suppression effectue")}catch{_r.error("chec de la suppression")}};return I.jsxs("div",{className:"flex-1 flex flex-col h-full min-h-0",children:[I.jsx("div",{className:"border-b border-border bg-card/50 backdrop-blur-sm shrink-0",children:I.jsxs("div",{className:"p-4 space-y-4",children:[I.jsxs("div",{className:"flex items-center justify-between gap-4",children:[I.jsxs("div",{className:"flex-1 relative",children:[I.jsx(cge,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),I.jsx(Br,{placeholder:"Rechercher un dossier ou document...",value:s,onChange:Fe=>f(Fe.target.value),className:"pl-10"})]}),I.jsxs("div",{className:"flex items-center gap-2",children:[po&&(Mr?I.jsx(dt,{variant:"destructive",size:"sm",type:"button",onClick:Il,title:"Retirer du partage (ne supprime pas le dossier sur le disque)",children:"Retirer du partage"}):I.jsx(dt,{variant:"outline",size:"sm",type:"button",onClick:()=>Nn(!0),title:"Partager ce dossier (sans supprimer/crer sur le disque)",children:"Partager"})),I.jsxs(dt,{variant:"outline",size:"sm",type:"button",onClick:()=>C(!0),children:[I.jsx(oge,{className:"w-4 h-4 md:mr-2"}),I.jsx("span",{className:"hidden md:inline",children:"Nouveau dossier"})]}),I.jsxs(dt,{variant:"outline",size:"sm",type:"button",onClick:cr,children:[I.jsx(xV,{className:"w-4 h-4 md:mr-2"}),I.jsx("span",{className:"hidden md:inline",children:"Tlverser"})]}),I.jsxs(dt,{variant:"outline",size:"sm",type:"button",onClick:()=>Ot(!0),children:[I.jsx(lge,{className:"w-4 h-4 md:mr-2"}),I.jsx("span",{className:"hidden md:inline",children:"Scanner"})]}),I.jsx(dt,{variant:P?"default":"outline",size:"sm",type:"button",onClick:()=>{P?E.length>0||L.length>0?Jb():R(!1):(R(!0),O([]),k([]))},children:P&&(E.length>0||L.length>0)?I.jsxs(I.Fragment,{children:[I.jsx(lP,{className:"w-4 h-4 md:mr-2"}),I.jsx("span",{className:"hidden md:inline",children:"Supprimer"})]}):I.jsxs(I.Fragment,{children:[I.jsx(Az,{className:"w-4 h-4 md:mr-2"}),I.jsx("span",{className:"hidden md:inline",children:"Slectionner"})]})})]})]}),N&&I.jsxs("div",{className:"space-y-2",children:[I.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[I.jsxs("span",{className:"truncate",title:$||void 0,children:["Tlversement ",$&&I.jsx(I.Fragment,{children:I.jsx("span",{className:"text-foreground",children:$})})]}),I.jsxs("span",{"aria-live":"polite",children:[G,"%"]})]}),I.jsx("div",{className:"w-full h-2 bg-muted rounded overflow-hidden",children:I.jsx("div",{className:"h-2 bg-primary transition-all",style:{width:`${G}%`},"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":G,role:"progressbar","aria-label":"Progression du tlversement"})})]}),I.jsx(fEe,{path:Er,onNavigate:r})]})}),I.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto overflow-x-hidden p-6",onDragOver:Ft,onDragLeave:Ut,onDrop:Pt,children:lr.length===0&&Hn.length===0?I.jsx("div",{className:"h-full flex items-center justify-center",children:I.jsxs("div",{className:"text-center space-y-3",children:[I.jsx("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center mx-auto",children:I.jsx(xV,{className:"w-8 h-8 text-muted-foreground"})}),I.jsx("h3",{className:"text-lg font-medium",children:"Ce dossier est vide"}),I.jsx("p",{className:"text-sm text-muted-foreground max-w-sm",children:'Glissez-dposez des fichiers ici ou utilisez le bouton "Tlverser"'})]})}):I.jsxs("div",{className:"space-y-6",children:[qt.length>0&&I.jsx("div",{children:I.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:qt.map(Fe=>I.jsx(lEe,{folder:{...Fe,name:Je[Fe.id]??Fe.name},onClick:()=>r(Fe.id),onRename:()=>On(Fe.id,Fe.name),onDelete:()=>Gp(Fe.id,Fe.name),selectionMode:P,selected:L.includes(Fe.id),onToggleSelect:()=>El(Fe.id)},Fe.id))})}),rr.length>0&&I.jsx("div",{children:I.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 space-y-2",children:rr.map(Fe=>I.jsx(dEe,{document:Fe,selectionMode:P,selected:E.includes(Fe.id),onToggleSelect:()=>ys(Fe.id),onView:()=>tu(Fe.id,Fe.name),onShare:()=>ru(Fe.id,Fe.name),onDownload:()=>Pr(Fe.id,Fe.name),onDelete:()=>hn(Fe.id),onRename:()=>_s(Fe.id,Fe.name)},Fe.id))})}),fn&&qt.length===0&&rr.length===0&&I.jsxs("div",{className:"text-sm text-muted-foreground p-8 text-center",children:["Aucun rsultat pour  ",s," "]})]})}),I.jsx("input",{ref:A,type:"file",multiple:!0,className:"hidden",onChange:$o}),po&&I.jsx(to,{open:xr,onOpenChange:Nn,children:I.jsxs(Ui,{children:[I.jsxs(Vi,{children:[I.jsx(Gi,{children:"Partager ce dossier"}),I.jsx(ro,{children:"Dfinissez la visibilit de ce dossier partag."})]}),I.jsxs("div",{className:"space-y-3 text-sm",children:[I.jsxs("div",{className:"space-y-1",children:[I.jsx("p",{className:"text-xs font-medium",children:"Visibilit"}),I.jsxs("select",{className:"border rounded-md px-3 py-2 text-xs w-full",value:Yr,onChange:Fe=>Vr(Fe.target.value),children:[I.jsx("option",{value:"enterprise",children:"Toute l'entreprise"}),I.jsx("option",{value:"services",children:"Services slectionns"})]})]}),Yr==="services"&&I.jsxs("div",{className:"border rounded-md p-3 space-y-2",children:[I.jsx("p",{className:"text-xs font-medium",children:"Services autoriss"}),I.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:bt.map(Fe=>{const Yt=pn.includes(Fe.id);return I.jsxs("label",{className:"flex items-center gap-2 text-xs",children:[I.jsx(Rp,{checked:Yt,onCheckedChange:Vt=>Xo(Fe.id,!!Vt)}),I.jsx("span",{children:Fe.name})]},Fe.id)})})]})]}),I.jsxs(Pu,{children:[I.jsx(dt,{variant:"outline",onClick:()=>Nn(!1),children:"Annuler"}),I.jsx(dt,{onClick:Zo,children:"Partager"})]})]})}),I.jsx(WEe,{isOpen:At,onClose:()=>Ot(!1),folderId:typeof Qt=="number"?Qt:null,serviceId:typeof(Dt==null?void 0:Dt.service_id)=="number"?Dt.service_id:null,onUploaded:async()=>{typeof Qt=="number"&&await i.invalidateQueries({queryKey:["documents-by-folder",Qt,(ut==null?void 0:ut.id)??0]})}}),I.jsx(to,{open:_,onOpenChange:C,children:I.jsxs(Ui,{children:[I.jsxs(Vi,{children:[I.jsx(Gi,{children:"Nouveau dossier"}),I.jsx(ro,{children:"Saisissez le nom du nouveau dossier puis validez pour le crer."})]}),I.jsxs("form",{onSubmit:Wt,className:"space-y-4",children:[I.jsx(Br,{autoFocus:!0,placeholder:"Nom du dossier",value:w,onChange:Fe=>x(Fe.target.value)}),I.jsxs(Pu,{className:"flex justify-end gap-2",children:[I.jsx(dt,{type:"button",variant:"outline",onClick:()=>C(!1),children:"Annuler"}),I.jsx(dt,{type:"submit",children:"Crer"})]})]})]})}),I.jsx(to,{open:lt,onOpenChange:Bt,children:I.jsxs(Ui,{children:[I.jsxs(Vi,{children:[I.jsx(Gi,{children:"Renommer le document"}),I.jsx(ro,{children:"Entrez le nouveau nom pour ce document puis validez pour renommer."})]}),I.jsxs("form",{onSubmit:nu,className:"space-y-4",children:[I.jsx(Br,{autoFocus:!0,placeholder:"Nouveau nom",value:Tn,onChange:Fe=>Xr(Fe.target.value)}),I.jsxs(Pu,{className:"flex justify-end gap-2",children:[I.jsx(dt,{type:"button",variant:"outline",onClick:()=>Bt(!1),children:"Annuler"}),I.jsx(dt,{type:"submit",children:"Renommer"})]})]})]})}),I.jsx(to,{open:Gt,onOpenChange:nt,children:I.jsxs(Ui,{children:[I.jsxs(Vi,{children:[I.jsx(Gi,{children:"Renommer le dossier"}),I.jsx(ro,{children:"Entrez le nouveau nom pour ce dossier puis validez pour renommer."})]}),I.jsxs("form",{onSubmit:od,className:"space-y-4",children:[I.jsx(Br,{autoFocus:!0,placeholder:"Nouveau nom",value:Tn,onChange:Fe=>Xr(Fe.target.value)}),I.jsxs(Pu,{className:"flex justify-end gap-2",children:[I.jsx(dt,{type:"button",variant:"outline",onClick:()=>nt(!1),children:"Annuler"}),I.jsx(dt,{type:"submit",children:"Renommer"})]})]})]})}),I.jsx(IEe,{isOpen:h,onClose:()=>y(!1),folderName:se||(($v=Er[Er.length-1])==null?void 0:$v.name)||"Document",folderId:ie||e||0}),I.jsx(to,{open:me,onOpenChange:Fe=>{we(Fe),Fe||Se(1)},children:I.jsxs(Ui,{className:"max-w-3xl w-full h-[100vh] flex flex-col",children:[I.jsxs(Vi,{children:[I.jsx(Gi,{children:"Prvisualisation"}),I.jsx(ro,{children:(ey=ge==null?void 0:ge.name)==null?void 0:ey.replace(/\.[^.]+$/,"")})]}),I.jsxs("div",{className:"flex items-center justify-between pb-2",children:[I.jsx("div",{className:"text-xs text-muted-foreground",children:_e!=null&&_e.includes("pdf")||_e!=null&&_e.startsWith("image/")?"Zoom disponible":""}),I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx(dt,{type:"button",variant:"outline",size:"sm",onClick:()=>Se(Fe=>Math.max(.5,parseFloat((Fe-.1).toFixed(2)))),disabled:!(_e!=null&&_e.includes("pdf")||_e!=null&&_e.startsWith("image/")),children:""}),I.jsxs("span",{className:"text-xs w-10 text-center",children:[Math.round(St*100),"%"]}),I.jsx(dt,{type:"button",variant:"outline",size:"sm",onClick:()=>Se(Fe=>Math.min(3,parseFloat((Fe+.1).toFixed(2)))),disabled:!(_e!=null&&_e.includes("pdf")||_e!=null&&_e.startsWith("image/")),children:"+"}),I.jsx(dt,{type:"button",variant:"ghost",size:"sm",onClick:()=>Se(1),disabled:!(_e!=null&&_e.includes("pdf")||_e!=null&&_e.startsWith("image/")),children:"Rinitialiser"})]})]}),I.jsxs("div",{className:"flex-1 overflow-auto rounded border bg-background p-2",children:[Ve&&I.jsx("div",{className:"text-sm text-muted-foreground",children:"Chargement"}),!Ve&&ge&&(_e!=null&&_e.startsWith("text/")&&xe!==null?I.jsx("pre",{className:"w-full h-full overflow-auto p-4 bg-muted rounded text-sm whitespace-pre-wrap break-words",children:xe}):et?_e!=null&&_e.startsWith("image/")?I.jsx("div",{className:"w-full h-full",style:{transform:`scale(${St})`,transformOrigin:"top left"},children:I.jsx("img",{src:et,alt:ge.name,className:"max-w-full h-auto object-contain"})}):_e!=null&&_e.startsWith("video/")?I.jsx("video",{src:et,controls:!0,className:"w-full h-full"}):_e!=null&&_e.startsWith("audio/")?I.jsx("audio",{src:et,controls:!0,className:"w-full"}):_e!=null&&_e.includes("pdf")?I.jsx("div",{className:"w-full",style:{transform:`scale(${St})`,transformOrigin:"top left"},children:I.jsx("object",{data:et,type:"application/pdf",className:"w-full h-[1200px] border rounded",children:I.jsx("a",{href:et,target:"_blank",rel:"noreferrer",children:"Ouvrir le PDF"})})}):I.jsx("iframe",{src:et,title:ge.name,className:"w-full h-full border rounded"}):I.jsx("div",{className:"text-sm text-muted-foreground",children:"Prparation de laperu"}))]}),I.jsxs(Pu,{className:"mt-2",children:[I.jsx(dt,{type:"button",variant:"outline",onClick:()=>we(!1),children:"Fermer"}),ge&&I.jsx(dt,{type:"button",onClick:()=>Pr(ge.id,ge.name),children:"Tlcharger"})]})]})})]})},BEe=({tabs:e,activeTab:r,onTabChange:i,onTabClose:s,onFolderClick:f})=>{const{user:h}=gs(),{data:y}=Kr({queryKey:["visible-services",(h==null?void 0:h.id)??0],queryFn:async()=>{const C=await wt("/api/services/visible");if(!C.ok)throw new Error("Erreur chargement services visibles");return C.json()},staleTime:6e4}),_=C=>{const w=Ev(C.folderId);if(w&&w.parent_id===null){const x=(y??[]).find(A=>A.id===w.service_id);if(x!=null&&x.name)return x.name}return C.folderName};return e.length===0?I.jsx("div",{className:"flex-1 flex items-center justify-center bg-muted/20",children:I.jsxs("div",{className:"text-center space-y-3",children:[I.jsx("h3",{className:"text-xl font-semibold",children:"Bienvenue dans votre espace documentaire"}),I.jsx("p",{className:"text-muted-foreground",children:"Slectionnez un dossier dans la barre latrale pour commencer"})]})}):I.jsxs(VCe,{value:r,onValueChange:i,className:"flex-1 flex flex-col min-h-0 overflow-hidden",children:[I.jsx(J7,{className:"w-full justify-start rounded-none border-b bg-transparent h-auto p-0 gap-0 overflow-x-auto",children:e.map(C=>I.jsxs(X7,{value:C.id.toString(),className:"relative rounded-none border-r border-transparent hover:bg-muted/50 data-[state=active]:bg-card data-[state=active]:border-b-2 data-[state=active]:border-b-primary px-4 py-3 gap-2",children:[I.jsx("span",{className:"max-w-[150px] truncate",children:_(C)}),I.jsx("span",{role:"button",tabIndex:0,onClick:w=>{w.stopPropagation(),s(C.id)},onKeyDown:w=>{(w.key==="Enter"||w.key===" ")&&(w.preventDefault(),w.stopPropagation(),s(C.id))},className:"ml-2 hover:bg-muted rounded-sm p-0.5 transition-colors cursor-pointer","aria-label":"Fermer l'onglet",children:I.jsx(Uv,{className:"w-3 h-3"})})]},C.id))}),e.map(C=>I.jsx(Z7,{value:C.id.toString(),className:"flex flex-col flex-1 min-h-0 h-full m-0 data-[state=inactive]:hidden overflow-hidden",children:I.jsx(jEe,{folderId:C.folderId,onFolderClick:f})},C.id))]})};var ZK={exports:{}},$K={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kp=z;function UEe(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var VEe=typeof Object.is=="function"?Object.is:UEe,GEe=kp.useState,HEe=kp.useEffect,zEe=kp.useLayoutEffect,KEe=kp.useDebugValue;function QEe(e,r){var i=r(),s=GEe({inst:{value:i,getSnapshot:r}}),f=s[0].inst,h=s[1];return zEe(function(){f.value=i,f.getSnapshot=r,IA(f)&&h({inst:f})},[e,i,r]),HEe(function(){return IA(f)&&h({inst:f}),e(function(){IA(f)&&h({inst:f})})},[e]),KEe(i),i}function IA(e){var r=e.getSnapshot;e=e.value;try{var i=r();return!VEe(e,i)}catch{return!0}}function YEe(e,r){return r()}var qEe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?YEe:QEe;$K.useSyncExternalStore=kp.useSyncExternalStore!==void 0?kp.useSyncExternalStore:qEe;ZK.exports=$K;var JEe=ZK.exports;function XEe(){return JEe.useSyncExternalStore(ZEe,()=>!0,()=>!1)}function ZEe(){return()=>{}}var dR="Avatar",[$Ee,Bxe]=Ha(dR),[exe,eQ]=$Ee(dR),tQ=z.forwardRef((e,r)=>{const{__scopeAvatar:i,...s}=e,[f,h]=z.useState("idle");return I.jsx(exe,{scope:i,imageLoadingStatus:f,onImageLoadingStatusChange:h,children:I.jsx(vr.span,{...s,ref:r})})});tQ.displayName=dR;var rQ="AvatarImage",nQ=z.forwardRef((e,r)=>{const{__scopeAvatar:i,src:s,onLoadingStatusChange:f=()=>{},...h}=e,y=eQ(rQ,i),_=txe(s,h),C=Ta(w=>{f(w),y.onImageLoadingStatusChange(w)});return ms(()=>{_!=="idle"&&C(_)},[_,C]),_==="loaded"?I.jsx(vr.img,{...h,ref:r,src:s}):null});nQ.displayName=rQ;var iQ="AvatarFallback",oQ=z.forwardRef((e,r)=>{const{__scopeAvatar:i,delayMs:s,...f}=e,h=eQ(iQ,i),[y,_]=z.useState(s===void 0);return z.useEffect(()=>{if(s!==void 0){const C=window.setTimeout(()=>_(!0),s);return()=>window.clearTimeout(C)}},[s]),y&&h.imageLoadingStatus!=="loaded"?I.jsx(vr.span,{...f,ref:r}):null});oQ.displayName=iQ;function TG(e,r){return e?r?(e.src!==r&&(e.src=r),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function txe(e,{referrerPolicy:r,crossOrigin:i}){const s=XEe(),f=z.useRef(null),h=s?(f.current||(f.current=new window.Image),f.current):null,[y,_]=z.useState(()=>TG(h,e));return ms(()=>{_(TG(h,e))},[h,e]),ms(()=>{const C=A=>()=>{_(A)};if(!h)return;const w=C("loaded"),x=C("error");return h.addEventListener("load",w),h.addEventListener("error",x),r&&(h.referrerPolicy=r),typeof i=="string"&&(h.crossOrigin=i),()=>{h.removeEventListener("load",w),h.removeEventListener("error",x)}},[h,i,r]),y}var aQ=tQ,sQ=nQ,uQ=oQ;const lQ=z.forwardRef(({className:e,...r},i)=>I.jsx(aQ,{ref:i,className:dr("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...r}));lQ.displayName=aQ.displayName;const cQ=z.forwardRef(({className:e,...r},i)=>I.jsx(sQ,{ref:i,className:dr("aspect-square h-full w-full",e),...r}));cQ.displayName=sQ.displayName;const dQ=z.forwardRef(({className:e,...r},i)=>I.jsx(uQ,{ref:i,className:dr("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...r}));dQ.displayName=uQ.displayName;const EA=768;function rxe(){const[e,r]=z.useState(void 0);return z.useEffect(()=>{const i=window.matchMedia(`(max-width: ${EA-1}px)`),s=()=>{r(window.innerWidth<EA)};return i.addEventListener("change",s),r(window.innerWidth<EA),()=>i.removeEventListener("change",s)},[]),!!e}const qb=({onOpenMobileSidebar:e,currentFolderId:r})=>{var P;const{user:i,logout:s}=gs(),f=rxe(),h=Qv(),y=async()=>{await s(),h("/login",{replace:!0})},_=i&&i.role!=="super_admin"?i.enterprise_name??(i.enterprise_id?((P=GP.find(R=>R.id===i.enterprise_id))==null?void 0:P.name)??null:null):null,w=i?(R=>{const E={agent:{label:"Agent",color:"bg-muted text-muted-foreground"},admin:{label:"Administrateur",color:"bg-blue-500/10 text-blue-600"},super_admin:{label:"Super admin",color:"bg-primary/10 text-primary"}};return E[R]||E.agent})(i.role):null,{data:x=[],isLoading:A}=Kr({queryKey:["recent-uploads",(i==null?void 0:i.id)??0,r??null],enabled:!!i,queryFn:async()=>{const R=new URLSearchParams;R.set("limit","5"),typeof r=="number"&&R.set("folder_id",String(r));const E=await wt(`/api/documents/recent?${R.toString()}`,{toast:{error:{enabled:!1}}});return E.ok?E.json():[]},staleTime:15e3});return I.jsx("header",{className:"h-16 border-b bg-card/70 backdrop-blur-sm sticky top-0 z-20",children:I.jsxs("div",{className:"h-full px-4 md:px-6 flex items-center justify-between gap-3",children:[I.jsxs("div",{className:"flex items-center gap-3",children:[f&&I.jsx(dt,{variant:"ghost",size:"icon",className:"md:hidden",onClick:e,"aria-label":"Ouvrir le menu",children:I.jsx(Tb,{className:"w-5 h-5"})}),I.jsx("img",{src:"/logo-archi.png",alt:"ArchiDrive",className:"h-16 w-16 object-contain"}),_&&I.jsx("div",{className:"hidden sm:flex flex-col leading-tight",children:I.jsx("span",{className:"text-sm font-semibold truncate max-w-[180px]",children:_})})]}),I.jsxs("div",{className:"flex items-center gap-3",children:[i&&I.jsxs(XS,{children:[I.jsx(ZS,{asChild:!0,children:I.jsxs(dt,{variant:"ghost",size:"icon",className:"relative","aria-label":"Notifications",children:[I.jsx(Jme,{className:"w-5 h-5"}),x.length>0&&I.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-primary rounded-full"})]})}),I.jsxs(Dv,{align:"end",className:"w-80",children:[I.jsx(iD,{children:"Derniers tlversements"}),I.jsx(cS,{}),A&&I.jsx(ls,{disabled:!0,children:"Chargement"}),!A&&x.length===0&&I.jsx(ls,{disabled:!0,children:"Aucun tlversement rcent"}),!A&&x.map(R=>I.jsxs(ls,{onSelect:E=>{E.preventDefault(),h(`/documents/${R.id}`)},className:"flex flex-col items-start gap-0.5",children:[I.jsx("span",{className:"text-sm font-medium truncate w-full",children:R.name}),I.jsxs("span",{className:"text-xs text-muted-foreground truncate w-full",children:[R.created_by_name?`Tlvers par ${R.created_by_name}`:"Tlvers par ",R.created_at?`  ${new Date(R.created_at).toLocaleString("fr-FR")}`:""]})]},R.id))]})]}),I.jsxs(XS,{children:[I.jsx(ZS,{asChild:!0,children:I.jsxs(dt,{variant:"ghost",className:"flex items-center gap-3 h-auto py-2 px-3",children:[I.jsxs(lQ,{className:"w-8 h-8",children:[I.jsx(cQ,{src:i==null?void 0:i.avatar}),I.jsx(dQ,{children:i==null?void 0:i.name.split(" ").map(R=>R[0]).join("")})]}),I.jsxs("div",{className:"text-left hidden md:block",children:[I.jsx("p",{className:"text-sm font-medium",children:i==null?void 0:i.name}),w&&I.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${w.color}`,children:w.label})]})]})}),I.jsxs(Dv,{align:"end",className:"w-56",children:[I.jsx(iD,{children:I.jsxs("div",{children:[I.jsx("p",{className:"font-medium",children:i==null?void 0:i.name}),I.jsx("p",{className:"text-xs text-muted-foreground",children:i==null?void 0:i.email}),I.jsx("p",{className:"text-md mt-2 text-black",children:i==null?void 0:i.service_name})]})}),I.jsx(cS,{}),I.jsxs(ls,{onSelect:R=>{R.preventDefault(),h("/profile")},children:[I.jsx(Dz,{className:"w-4 h-4 mr-2"}),"Profil"]}),I.jsx(cS,{}),I.jsxs(ls,{className:"text-destructive",onSelect:R=>{R.preventDefault(),y()},children:[I.jsx(uge,{className:"w-4 h-4 mr-2"}),"Dconnexion"]})]})]})]})]})})},nxe=O9,ixe=F9,fQ=z.forwardRef(({className:e,...r},i)=>I.jsx(Ub,{className:dr("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...r,ref:i}));fQ.displayName=Ub.displayName;const oxe=bb("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),hQ=z.forwardRef(({side:e="right",className:r,children:i,...s},f)=>I.jsxs(ixe,{children:[I.jsx(fQ,{}),I.jsxs(Vb,{ref:f,className:dr(oxe({side:e}),r),...s,children:[i,I.jsxs(M9,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[I.jsx(Uv,{className:"h-4 w-4"}),I.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));hQ.displayName=Vb.displayName;const pQ=({className:e,...r})=>I.jsx("div",{className:dr("flex flex-col space-y-2 text-center sm:text-left",e),...r});pQ.displayName="SheetHeader";const mQ=z.forwardRef(({className:e,...r},i)=>I.jsx(Gb,{ref:i,className:dr("text-lg font-semibold text-foreground",e),...r}));mQ.displayName=Gb.displayName;const gQ=z.forwardRef(({className:e,...r},i)=>I.jsx(Hb,{ref:i,className:dr("text-sm text-muted-foreground",e),...r}));gQ.displayName=Hb.displayName;const axe=()=>{var N;const[e,r]=z.useState([]),[i,s]=z.useState(""),[f,h]=z.useState(null),[y,_]=z.useState(null),[C,w]=z.useState(!1),{user:x}=gs(),A=x&&x.role!=="super_admin"?x.enterprise_name??(x.enterprise_id?((N=GP.find(j=>j.id===x.enterprise_id))==null?void 0:N.name)??null:null):null,{data:P=[]}=Kr({queryKey:["shared-folders",(x==null?void 0:x.id)??0],queryFn:async()=>{const j=await wt("/api/shared-folders/visible");return j.ok?j.json():[]},staleTime:3e4}),[R,E]=z.useState({});z.useEffect(()=>{if(typeof f!="number")return;const j=(P||[]).find(G=>G.folder_id===f);j&&E(G=>({...G,[j.id]:!0}))},[f,P]),z.useEffect(()=>{if(typeof y!="number")return;const j=(P||[]).find(G=>G.folder_id===y);j&&E(G=>({...G,[j.id]:!1}))},[y,P]);const O=async j=>{f!==null&&_(f),h(j);const G=e.find(le=>le.folderId===j);if(G)s(G.id.toString());else{const le=Ev(j);if(le){const $={id:Date.now(),folderId:le.id,folderName:le.name,parentId:le.parent_id};r(H=>[...H,$]),s($.id.toString())}else try{const $=await wt(`/api/folders/${j}`,{toast:{error:{enabled:!1},success:{enabled:!1}}});if($.ok){const H=await $.json(),ie={id:Date.now(),folderId:j,folderName:(H==null?void 0:H.name)??`Dossier #${j}`,parentId:H&&typeof H.parent_id=="number"?H.parent_id:null};r(pe=>[...pe,ie]),s(ie.id.toString())}else{const H={id:Date.now(),folderId:j,folderName:`Dossier #${j}`,parentId:null};r(ie=>[...ie,H]),s(H.id.toString())}}catch{const $={id:Date.now(),folderId:j,folderName:`Dossier #${j}`,parentId:null};r(H=>[...H,$]),s($.id.toString())}}},L=j=>{const G=e.find($=>$.id===j);G&&_(G.folderId);const le=e.filter($=>$.id!==j);r(le),i===j.toString()&&(le.length>0?s(le[le.length-1].id.toString()):(s(""),h(null)))},k=j=>{const G=e.find(le=>le.folderId===j);G&&L(G.id)};return I.jsxs("div",{className:"h-screen overflow-hidden flex flex-col bg-background",children:[I.jsx(qb,{onOpenMobileSidebar:()=>w(!0),currentFolderId:f}),I.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[I.jsx("div",{className:"hidden md:block",children:I.jsx(xCe,{onFolderClick:O,currentFolderId:f,collapseFolderId:y,onCloseTabByFolderId:k})}),I.jsx("div",{className:"flex-1 flex flex-col min-h-0 overflow-hidden",children:I.jsx(BEe,{tabs:e,activeTab:i,onTabChange:s,onTabClose:L,onFolderClick:O})})]}),I.jsx(nxe,{open:C,onOpenChange:w,children:I.jsxs(hQ,{side:"left",className:"p-0 bg-gradient-to-b from-slate-900 via-slate-800 to-slate-900/90 text-slate-100",children:[I.jsxs(pQ,{children:[I.jsx(mQ,{className:"sr-only",children:"Navigation"}),I.jsx(gQ,{className:"sr-only",children:"Menu latral de navigation"})]}),I.jsxs("div",{className:"h-full flex flex-col",children:[I.jsxs("div",{className:"border-b border-slate-700/60 px-4 h-16 flex items-center gap-2",children:[I.jsx("img",{src:"/logo-archi.png",alt:"ArchiDrive",className:"h-6 w-6 object-contain"}),I.jsx("span",{className:"text-sm font-semibold tracking-tight",children:A??"Navigation"})]}),I.jsxs("div",{className:"flex-1 overflow-y-auto px-2 py-4",children:[P.length>0&&I.jsx("div",{className:"mb-0",children:I.jsx("div",{className:"mt-2 space-y-1",children:P.map(j=>{const G=!!R[j.id]||f===j.folder_id;return I.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg cursor-pointer transition-all ${G?"bg-blue-100 text-blue-700 font-medium":"text-slate-100 hover:bg-blue-100 hover:text-blue-700"}`,onClick:()=>{G?(E(le=>({...le,[j.id]:!1})),k(j.folder_id)):(E(le=>({...le,[j.id]:!0})),O(j.folder_id),w(!1))},title:j.name,children:[G?I.jsx(mv,{className:"w-4 h-4"}):I.jsx(gv,{className:"w-4 h-4"}),I.jsx("span",{className:"text-sm truncate",children:j.name})]},j.id)})})}),I.jsx(R7,{onFolderClick:j=>{O(j),w(!1)},currentFolderId:f,externalCollapseId:y,onCloseTabByFolderId:k})]})]})]})})]})},sxe=()=>{const e=Rb();return z.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),I.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:I.jsxs("div",{className:"text-center",children:[I.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),I.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),I.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},Rn=z.forwardRef(({className:e,...r},i)=>I.jsx("div",{ref:i,className:dr("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));Rn.displayName="Card";const pi=z.forwardRef(({className:e,...r},i)=>I.jsx("div",{ref:i,className:dr("flex flex-col space-y-1.5 p-6",e),...r}));pi.displayName="CardHeader";const mi=z.forwardRef(({className:e,...r},i)=>I.jsx("h3",{ref:i,className:dr("text-2xl font-semibold leading-none tracking-tight",e),...r}));mi.displayName="CardTitle";const uxe=z.forwardRef(({className:e,...r},i)=>I.jsx("p",{ref:i,className:dr("text-sm text-muted-foreground",e),...r}));uxe.displayName="CardDescription";const Gn=z.forwardRef(({className:e,...r},i)=>I.jsx("div",{ref:i,className:dr("p-6 pt-0",e),...r}));Gn.displayName="CardContent";const lxe=z.forwardRef(({className:e,...r},i)=>I.jsx("div",{ref:i,className:dr("flex items-center p-6 pt-0",e),...r}));lxe.displayName="CardFooter";const cxe=()=>{var j,G;const e=Qv(),{login:r}=gs(),[i,s]=z.useState(""),[f,h]=z.useState(""),[y,_]=z.useState(!1),[C,w]=z.useState(!0),[x,A]=z.useState(!1),P=((G=(j=import.meta)==null?void 0:j.env)==null?void 0:G.VITE_APP_NAME)||"ArchiDrive",R=z.useMemo(()=>[{title:`Centralisez vos documents sur ${P}`,description:`Un espace scuris pour organiser, retrouver et partager les fichiers de ${P} par service.`},{title:"Partage matris",description:`Contrlez prcisment l'accs aux dossiers partags au sein de ${P}.`},{title:"Vue admin claire",description:`Grez les services, les employs et les permissions de ${P} depuis un tableau de bord.`}],[P]),[E,O]=z.useState(0);z.useEffect(()=>{const le=window.setInterval(()=>{O($=>($+1)%R.length)},4500);return()=>window.clearInterval(le)},[R.length]);const L=()=>O(le=>(le-1+R.length)%R.length),k=()=>O(le=>(le+1)%R.length),N=async le=>{if(le.preventDefault(),!i||!f){_r.error("Veuillez renseigner l'identifiant et le mot de passe");return}A(!0);const $=await r(i,f,C);A(!1),$&&($.role==="agent"?e("/agent",{replace:!0}):$.role==="admin"?e("/admin",{replace:!0}):$.role==="super_admin"?e("/super-admin",{replace:!0}):e("/login",{replace:!0}))};return I.jsx("div",{className:"min-h-screen w-full bg-gradient-to-br from-slate-50 via-white to-blue-50 p-4",children:I.jsxs("div",{className:"mx-auto w-full max-w-6xl min-h-[calc(100vh-2rem)] grid grid-cols-1 lg:grid-cols-2 gap-0 items-stretch rounded-2xl overflow-hidden border bg-white/60 shadow-xl",children:[I.jsxs("div",{className:"relative bg-gradient-to-br from-white via-slate-50 to-blue-50 p-8 flex flex-col justify-center",children:[I.jsx("button",{type:"button",onClick:L,className:"absolute left-5 top-1/2 -translate-y-1/2 h-10 w-10 rounded-full border bg-white/80 backdrop-blur flex items-center justify-center text-slate-700 hover:bg-white","aria-label":"Slide prcdente",children:I.jsx(ege,{className:"w-5 h-5"})}),I.jsx("button",{type:"button",onClick:k,className:"absolute right-5 top-1/2 -translate-y-1/2 h-10 w-10 rounded-full border bg-white/80 backdrop-blur flex items-center justify-center text-slate-700 hover:bg-white","aria-label":"Slide suivante",children:I.jsx(uP,{className:"w-5 h-5"})}),I.jsxs("div",{className:"mx-auto w-full max-w-md text-center space-y-4",children:[I.jsx("div",{className:"mx-auto h-24 w-24 rounded-xl bg-blue-50 border border-blue-100 flex items-center justify-center overflow-hidden",children:I.jsx("img",{src:"logo-archi.png",alt:"ArchiDrive",className:"w-24 h-24 object-contain"})}),I.jsxs("div",{className:"space-y-2",children:[I.jsx("p",{className:"text-base font-semibold text-slate-900",children:R[E].title}),I.jsx("p",{className:"text-sm text-slate-600",children:R[E].description})]})]}),I.jsx("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 flex items-center gap-2",children:R.map((le,$)=>I.jsx("button",{type:"button",onClick:()=>O($),className:`h-2 rounded-full transition-all ${$===E?"w-8 bg-blue-600":"w-2 bg-slate-300 hover:bg-slate-400"}`,"aria-label":`Aller  la slide ${$+1}`},$))})]}),I.jsx("div",{className:"w-full flex items-center justify-center bg-white/80 p-8",children:I.jsxs("div",{className:"w-full max-w-md",children:[I.jsxs("div",{className:"flex flex-col items-center mb-6",children:[I.jsx("div",{className:"h-12 w-12 rounded-2xl bg-blue-600 text-white flex items-center justify-center shadow-sm",children:I.jsx(EV,{className:"w-6 h-6"})}),I.jsx("div",{className:"mt-4 text-center",children:I.jsx("h1",{className:"text-2xl font-semibold text-blue-700",children:"Bienvenue"})})]}),I.jsxs(Rn,{className:"shadow-lg border bg-white/90",children:[I.jsx(pi,{className:"pb-3",children:I.jsx(mi,{className:"text-base",children:"Connexion"})}),I.jsx(Gn,{children:I.jsxs("form",{onSubmit:N,className:"space-y-5",children:[I.jsxs("div",{className:"space-y-2",children:[I.jsx(cl,{children:"Identifiant"}),I.jsxs("div",{className:"relative",children:[I.jsx(Dz,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),I.jsx(Br,{value:i,onChange:le=>s(le.target.value),placeholder:"email ou identifiant",className:"pl-10",autoComplete:"username"})]})]}),I.jsxs("div",{className:"space-y-2",children:[I.jsx(cl,{children:"Mot de passe"}),I.jsxs("div",{className:"relative",children:[I.jsx(EV,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),I.jsx(Br,{type:y?"text":"password",value:f,onChange:le=>h(le.target.value),placeholder:"Votre mot de passe",className:"pl-10 pr-10",autoComplete:"current-password"}),I.jsx("button",{type:"button",onClick:()=>_(le=>!le),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground","aria-label":y?"Masquer le mot de passe":"Afficher le mot de passe",children:y?I.jsx(nge,{className:"w-4 h-4"}):I.jsx(wz,{className:"w-4 h-4"})})]})]}),I.jsx("div",{className:"flex items-center justify-between",children:I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx(Rp,{id:"remember",checked:C,onCheckedChange:le=>w(!!le)}),I.jsx(cl,{htmlFor:"remember",className:"text-sm text-muted-foreground",children:"Rester connect 2 semaines"})]})}),I.jsx(dt,{type:"submit",className:"w-full",disabled:x,"aria-label":"Se connecter",children:x?I.jsx("span",{children:"Connexion..."}):I.jsxs(I.Fragment,{children:[I.jsx(sge,{className:"w-4 h-4 md:mr-2"}),I.jsx("span",{className:"hidden md:inline",children:"Se connecter"})]})})]})})]}),I.jsxs("div",{className:"mt-6 text-center text-xs text-muted-foreground",children:[I.jsxs("p",{children:[" ",new Date().getFullYear()," ArchiDrive. Tous droits rservs."]}),I.jsxs("p",{className:"mt-1",children:["Dvelopp par ",I.jsx("a",{className:"text-primary hover:underline",href:"https://archiged-gabon.com/",children:"ARCHIGED GABON"})]})]})]})})]})})},CG=({totalDocuments:e,totalEmployees:r,totalServices:i,totalStorage:s,weeklyActivity:f,enterpriseName:h,enterpriseId:y})=>{Math.max(...f,1);const[_,C]=z.useState(0);z.useState("");const w=h||(typeof y=="number"?`Entreprise #${y}`:"votre entreprise");return I.jsx("div",{className:"space-y-4",children:I.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[I.jsxs(Rn,{className:"bg-gradient-to-r from-blue-700 via-sky-400 to-white text-slate-900 border-none shadow-lg",children:[I.jsx(pi,{className:"pb-2",children:I.jsx(mi,{className:"text-sm font-medium",children:"Documents"})}),I.jsxs(Gn,{children:[I.jsx("p",{className:"text-2xl font-semibold",children:e}),I.jsxs("p",{className:"text-xs mt-1 opacity-90",children:["Documents dans ",w]})]})]}),I.jsxs(Rn,{className:"bg-gradient-to-r from-sky-500 via-white to-orange-300 text-slate-900 border-none shadow-lg",children:[I.jsx(pi,{className:"pb-2",children:I.jsx(mi,{className:"text-sm font-medium",children:"Employs"})}),I.jsxs(Gn,{children:[I.jsx("p",{className:"text-2xl font-semibold",children:r}),I.jsxs("p",{className:"text-xs mt-1 opacity-90",children:["Utilisateurs actifs dans ",w]})]})]}),I.jsxs(Rn,{className:"bg-gradient-to-r from-blue-900 via-blue-600 to-orange-500 text-white border-none shadow-lg",children:[I.jsx(pi,{className:"pb-2",children:I.jsx(mi,{className:"text-sm font-medium",children:"Services"})}),I.jsxs(Gn,{children:[I.jsx("p",{className:"text-2xl font-semibold",children:i}),I.jsxs("p",{className:"text-xs mt-1 opacity-90",children:["Units organisationnelles dans ",w]})]})]}),I.jsxs(Rn,{className:"bg-gradient-to-r from-white via-orange-300 to-orange-500 text-slate-900 border-none shadow-lg",children:[I.jsx(pi,{className:"pb-2",children:I.jsx(mi,{className:"text-sm font-medium",children:"Stockage"})}),I.jsxs(Gn,{children:[I.jsxs("p",{className:"text-2xl font-semibold",children:[(s+_).toFixed(1)," Go"]}),I.jsxs("p",{className:"text-xs mt-1 opacity-90 mb-3",children:["Capacit alloue  ",w]})]})]})]})})},dxe=({employees:e,permissions:r,togglePermission:i})=>{const[s,f]=z.useState("light"),[h,y]=z.useState("blue");z.useState("fr"),z.useState("Europe/Paris");const{data:_}=Kr({queryKey:["ui-preferences"],queryFn:async()=>{const A=await wt("/api/ui-preferences",{toast:{error:{enabled:!1}}});return A.ok?A.json():null},staleTime:6e4});z.useEffect(()=>{_&&(_.ui_theme&&f(_.ui_theme),_.ui_accent_color&&y(_.ui_accent_color))},[_]);const C=Ri({mutationFn:async A=>{const P=await wt("/api/admin/ui-preferences",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(A),toast:{success:{message:"Apparence enregistre"},error:{enabled:!0,message:"chec d'enregistrement"}}});if(!P.ok)throw new Error("save_failed");return P.json()}});z.useEffect(()=>{const A=typeof window<"u"?localStorage.getItem("theme"):null,P=typeof window<"u"?localStorage.getItem("accentColor"):null;A?f(A):w("light"),P?(y(P),x(P)):x("blue")},[]),z.useEffect(()=>{if(!s)return;const A=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)"),P=()=>w(s);P();try{localStorage.setItem("theme",s)}catch{}if(s==="system"&&A)try{return A.addEventListener("change",P),()=>A.removeEventListener("change",P)}catch{return A.addListener&&A.addListener(P),()=>{A.removeListener&&A.removeListener(P)}}},[s]),z.useEffect(()=>{if(h){x(h);try{localStorage.setItem("accentColor",h)}catch{}}},[h]);function w(A){const P=document.documentElement,R=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)");(A==="system"?R?R.matches:!1:A==="dark")?P.classList.add("dark"):P.classList.remove("dark")}function x(A){const P=document.documentElement,E={blue:{"--primary":"217 91% 60%","--primary-foreground":"0 0% 100%","--accent":"217 91% 95%","--accent-foreground":"217 91% 35%","--ring":"217 91% 60%","--sidebar-primary":"217 91% 60%","--sidebar-primary-foreground":"0 0% 100%","--sidebar-accent":"217 91% 95%","--sidebar-accent-foreground":"217 91% 35%","--tab-active":"217 91% 60%","--folder-hover":"217 91% 97%"},green:{"--primary":"142 70% 45%","--primary-foreground":"0 0% 100%","--accent":"142 60% 92%","--accent-foreground":"142 70% 30%","--ring":"142 70% 45%","--sidebar-primary":"142 70% 45%","--sidebar-primary-foreground":"0 0% 100%","--sidebar-accent":"142 60% 20%","--sidebar-accent-foreground":"142 70% 70%","--tab-active":"142 70% 45%","--folder-hover":"142 60% 96%"},purple:{"--primary":"262 83% 58%","--primary-foreground":"0 0% 100%","--accent":"262 70% 94%","--accent-foreground":"262 70% 40%","--ring":"262 83% 58%","--sidebar-primary":"262 83% 58%","--sidebar-primary-foreground":"0 0% 100%","--sidebar-accent":"262 40% 22%","--sidebar-accent-foreground":"262 83% 70%","--tab-active":"262 83% 58%","--folder-hover":"262 70% 96%"}}[A];Object.entries(E).forEach(([O,L])=>{P.style.setProperty(O,L)})}return I.jsx("div",{className:"space-y-4",children:I.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[I.jsxs(Rn,{children:[I.jsx(pi,{children:I.jsx(mi,{children:"Permissions par agent"})}),I.jsx(Gn,{className:"space-y-3",children:I.jsxs("div",{className:"border rounded-md overflow-hidden",children:[I.jsxs("div",{className:"grid grid-cols-3 bg-muted text-xs font-medium px-3 py-2",children:[I.jsx("span",{children:"Agent"}),I.jsx("span",{children:"Voir tous les dossiers"})]}),e.map(A=>{const P=r[A.id]||{viewAllFolders:!1,deleteDocuments:!1};return I.jsxs("div",{className:"grid grid-cols-2 items-center text-xs px-3 py-2 border-t",children:[I.jsxs("div",{children:[I.jsxs("p",{className:"font-medium text-foreground text-xs",children:[A.firstName," ",A.lastName]}),I.jsx("p",{className:"text-[10px] text-muted-foreground",children:A.email})]}),I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx(Rp,{checked:P.viewAllFolders,onCheckedChange:R=>i(A.id,"viewAllFolders",!!R)}),I.jsx("span",{children:"Autoriser"})]})]},A.id)})]})})]}),I.jsxs(Rn,{children:[I.jsx(pi,{children:I.jsx(mi,{children:"Apparence et couleurs"})}),I.jsxs(Gn,{className:"space-y-3",children:[I.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[I.jsxs("div",{className:"space-y-1",children:[I.jsx("p",{className:"text-xs font-medium",children:"Thme"}),I.jsxs("select",{title:"Choisir le thme",className:"border rounded-md px-3 py-2 text-xs",value:s,onChange:A=>{const P=A.target.value;f(P),C.mutate({ui_theme:P,ui_accent_color:h})},children:[I.jsx("option",{value:"light",children:"Clair"}),I.jsx("option",{value:"dark",children:"Sombre"}),I.jsx("option",{value:"system",children:"Systme"})]})]}),I.jsxs("div",{className:"space-y-1",children:[I.jsx("p",{className:"text-xs font-medium",children:"Couleur principale"}),I.jsxs("select",{title:"Choisir la couleur principale",className:"border rounded-md px-3 py-2 text-xs",value:h,onChange:A=>{const P=A.target.value;y(P),C.mutate({ui_theme:s,ui_accent_color:P})},children:[I.jsx("option",{value:"blue",children:"Bleu"}),I.jsx("option",{value:"green",children:"Vert"}),I.jsx("option",{value:"purple",children:"Violet"})]})]})]}),I.jsx("p",{className:"text-[11px] text-muted-foreground",children:"Ces paramtres sont simuls ct interface pour personnaliser l'apparence de votre application."})]})]})]})})},fxe=()=>{const[e,r]=z.useState(""),[i,s]=z.useState(""),[f,h]=z.useState("enterprise"),[y,_]=z.useState([]),{data:C=[]}=Kr({queryKey:["admin-services"],queryFn:async()=>{const G=await wt("/api/admin/services",{toast:{error:{enabled:!1}}});if(!G.ok)throw new Error("Erreur chargement services");return G.json()},staleTime:6e4,refetchOnWindowFocus:!1,retry:1}),{data:w=[],refetch:x}=Kr({queryKey:["shared-folders-admin"],queryFn:async()=>{const G=await wt("/api/shared-folders/visible",{toast:{error:{enabled:!1}}});return G.ok?G.json():[]},staleTime:3e4}),[A,P]=z.useState(!1),[R,E]=z.useState(null),O=Ri({mutationFn:async G=>{const le=await wt(`/api/admin/shared-folders/${G.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:G.name,visibility:G.visibility,services:G.services}),toast:{success:{message:"Dossier partag mis  jour"},error:{enabled:!0,message:"chec de la mise  jour"}}});if(!le.ok)throw new Error("update_failed");return le.json()},onSuccess:()=>{P(!1),E(null),x()}}),L=Ri({mutationFn:async G=>{if(!(await wt(`/api/admin/shared-folders/${G}`,{method:"DELETE",toast:{success:{message:"Partage supprim"},error:{enabled:!0,message:"chec de la suppression"}}})).ok)throw new Error("delete_failed");return!0},onSuccess:()=>{x()}}),k=Ri({mutationFn:async G=>{const le=await wt("/api/admin/shared-folders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(G),toast:{success:{message:"Dossier partag cr"},error:{enabled:!0,message:"chec de cration"}}});if(!le.ok)throw new Error("create_failed");return le.json()},onSuccess:()=>{r(""),s(""),h("enterprise"),_([]),x()}}),N=(G,le)=>{_($=>le?[...$,G]:$.filter(H=>H!==G))},j=e.trim().length>0&&typeof i=="number";return I.jsxs(I.Fragment,{children:[I.jsxs(Rn,{className:"mb-4",children:[I.jsx(pi,{children:I.jsx(mi,{children:"Crer un dossier partag"})}),I.jsxs(Gn,{className:"space-y-3",children:[I.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-sm",children:[I.jsxs("div",{className:"space-y-1",children:[I.jsx("p",{className:"text-xs font-medium",children:"Nom du dossier"}),I.jsx(Br,{placeholder:"Nom",value:e,onChange:G=>r(G.target.value)})]}),I.jsxs("div",{className:"space-y-1",children:[I.jsx("p",{className:"text-xs font-medium",children:"Service hte"}),I.jsxs("select",{className:"border rounded-md px-3 py-2 text-xs w-full",value:i,onChange:G=>s(G.target.value?Number(G.target.value):""),children:[I.jsx("option",{value:"",children:"Slectionner un service"}),C.map(G=>I.jsx("option",{value:G.id,children:G.name},G.id))]})]}),I.jsxs("div",{className:"space-y-1",children:[I.jsx("p",{className:"text-xs font-medium",children:"Visibilit"}),I.jsxs("select",{className:"border rounded-md px-3 py-2 text-xs w-full",value:f,onChange:G=>h(G.target.value),children:[I.jsx("option",{value:"enterprise",children:"Toute l'entreprise"}),I.jsx("option",{value:"services",children:"Services slectionns"})]})]})]}),f==="services"&&I.jsxs("div",{className:"border rounded-md p-3 space-y-2",children:[I.jsx("p",{className:"text-xs font-medium",children:"Services autoriss"}),I.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:C.map(G=>{const le=y.includes(G.id);return I.jsxs("label",{className:"flex items-center gap-2 text-xs",children:[I.jsx(Rp,{checked:le,onCheckedChange:$=>N(G.id,!!$)}),I.jsx("span",{children:G.name})]},G.id)})})]}),I.jsx("div",{className:"flex justify-end",children:I.jsx(dt,{type:"button",disabled:!j||k.isPending,onClick:()=>{j&&k.mutate({name:e.trim(),host_service_id:i,visibility:f,services:f==="services"?y:[]})},children:"Crer"})})]})]}),I.jsxs(Rn,{className:"mb-4",children:[I.jsx(pi,{children:I.jsx(mi,{children:"Dossiers partags existants"})}),I.jsx(Gn,{className:"space-y-2",children:w.length===0?I.jsx("div",{className:"text-xs text-muted-foreground",children:"Aucun dossier partag"}):I.jsx("div",{className:"space-y-2",children:w.map(G=>I.jsxs("div",{className:"flex items-center justify-between border rounded-md p-2 text-sm",children:[I.jsxs("div",{className:"flex-1 min-w-0",children:[I.jsx("div",{className:"font-medium truncate",children:G.name}),I.jsxs("div",{className:"text-xs text-muted-foreground",children:["Visibilit: ",G.visibility==="enterprise"?"Toute l'entreprise":"Services slectionns"]})]}),I.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[I.jsx(dt,{variant:"outline",size:"sm",onClick:()=>{E({...G,services:G.services??[]}),P(!0)},children:"Modifier"}),I.jsx(dt,{variant:"destructive",size:"sm",onClick:()=>{window.confirm("Supprimer le partage de ce dossier ?")&&L.mutate(G.id)},children:"Supprimer"})]})]},G.id))})})]}),I.jsx(to,{open:A,onOpenChange:P,children:I.jsxs(Ui,{children:[I.jsx(Vi,{children:I.jsx(Gi,{children:"Modifier le dossier partag"})}),R&&I.jsxs("div",{className:"space-y-3 text-sm",children:[I.jsxs("div",{className:"space-y-1",children:[I.jsx("p",{className:"text-xs font-medium",children:"Nom"}),I.jsx(Br,{value:R.name,onChange:G=>E({...R,name:G.target.value})})]}),I.jsxs("div",{className:"space-y-1",children:[I.jsx("p",{className:"text-xs font-medium",children:"Visibilit"}),I.jsxs("select",{className:"border rounded-md px-3 py-2 text-xs w-full",value:R.visibility,onChange:G=>E({...R,visibility:G.target.value}),children:[I.jsx("option",{value:"enterprise",children:"Toute l'entreprise"}),I.jsx("option",{value:"services",children:"Services slectionns"})]})]}),R.visibility==="services"&&I.jsxs("div",{className:"border rounded-md p-3 space-y-2",children:[I.jsx("p",{className:"text-xs font-medium",children:"Services autoriss"}),I.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:C.map(G=>{const le=(R.services??[]).includes(G.id);return I.jsxs("label",{className:"flex items-center gap-2 text-xs",children:[I.jsx(Rp,{checked:le,onCheckedChange:$=>{const H=le?(R.services??[]).filter(ie=>ie!==G.id):[...R.services??[],G.id];E({...R,services:H})}}),I.jsx("span",{children:G.name})]},G.id)})})]})]}),I.jsxs(Pu,{children:[I.jsx(dt,{variant:"outline",onClick:()=>P(!1),children:"Annuler"}),I.jsx(dt,{onClick:()=>{R&&O.mutate({id:R.id,name:R.name.trim()||void 0,visibility:R.visibility,services:R.visibility==="services"?R.services??[]:[]})},children:"Enregistrer"})]})]})})]})},hxe=({services:e,serviceName:r,onServiceNameChange:i,onAddService:s,editingService:f,editServiceName:h,onEditServiceNameChange:y,onCancelEdit:_,onUpdateService:C,onDeleteService:w,onEditService:x,availableEmployees:A,responsibleId:P,onResponsibleChange:R,editResponsibleId:E,onEditResponsibleChange:O,onAddMembersToService:L,onRemoveMembersFromService:k})=>{const[N,j]=z.useState([]),[G,le]=z.useState(1),$=5,H=Math.max(1,Math.ceil(e.length/$)),ie=e.slice((G-1)*$,G*$),pe=ce=>{j(me=>me.includes(ce)?me.filter(we=>we!==ce):[...me,ce])},se=()=>{j([])};return I.jsx("div",{className:"space-y-4",children:I.jsxs(Rn,{children:[I.jsx(pi,{children:I.jsx(mi,{children:"Services"})}),I.jsxs(Gn,{className:"space-y-3",children:[I.jsxs(to,{children:[I.jsx(Xh,{asChild:!0,children:I.jsx(dt,{type:"button",children:"Ajouter un service"})}),I.jsxs(Ui,{children:[I.jsxs(Vi,{children:[I.jsx(Gi,{children:"Ajouter un service"}),I.jsx(ro,{children:"Renseignez le nom du service et ventuellement son responsable."})]}),I.jsxs("div",{className:"space-y-3 mt-4",children:[I.jsx(Br,{placeholder:"Nom du service",value:r,onChange:ce=>i(ce.target.value)}),I.jsxs("div",{className:"space-y-1",children:[I.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Responsable du service"}),I.jsxs("select",{className:"border rounded-md px-3 py-2 text-sm w-full",value:P??"",onChange:ce=>R(ce.target.value?Number(ce.target.value):null),children:[I.jsx("option",{value:"",children:"Slectionner un responsable"}),A.map(ce=>I.jsxs("option",{value:ce.id,children:[ce.firstName," ",ce.lastName," - ",ce.email]},ce.id))]})]})]}),I.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[I.jsx(dt,{type:"button",variant:"outline",onClick:()=>{i(""),R(null)},children:"Annuler"}),I.jsx(dt,{type:"button",onClick:s,children:"Enregistrer"})]})]})]}),I.jsxs("div",{className:"border rounded-md overflow-hidden mt-4",children:[I.jsxs("div",{className:"grid grid-cols-3 bg-muted text-xs font-medium px-3 py-2",children:[I.jsx("span",{children:"Nom"}),I.jsx("span",{children:"Nombre de membres"}),I.jsx("span",{className:"text-right",children:"Actions"})]}),ie.map(ce=>{const me=A.filter(Ee=>Ee.service_id===ce.id).length,we=A.filter(Ee=>Ee.service_id==null),ge=A.filter(Ee=>Ee.service_id===ce.id);return I.jsxs("div",{className:"grid grid-cols-3 items-center text-sm px-3 py-2 border-t",children:[I.jsx("span",{children:ce.name}),I.jsx("span",{className:"text-xs text-muted-foreground",children:me}),I.jsxs("div",{className:"flex justify-end gap-2",children:[I.jsxs(to,{children:[I.jsx(Xh,{asChild:!0,children:I.jsx(dt,{size:"sm",type:"button",className:"bg-blue-600 text-white hover:bg-blue-700",onClick:()=>se(),children:"Ajouter des membres"})}),I.jsxs(Ui,{children:[I.jsxs(Vi,{children:[I.jsx(Gi,{children:"Ajouter des membres au service"}),I.jsx(ro,{children:"Slectionnez des employs sans service pour les ajouter  ce service."})]}),I.jsx("div",{className:"space-y-3 mt-4",children:we.length===0?I.jsx("p",{className:"text-sm text-muted-foreground",children:"Aucun employ disponible sans service."}):I.jsx("div",{className:"space-y-2 max-h-64 overflow-auto",children:we.map(Ee=>I.jsxs("label",{className:"flex items-center justify-between text-sm border rounded-md px-3 py-2",children:[I.jsxs("div",{children:[I.jsxs("p",{children:[Ee.firstName," ",Ee.lastName]}),I.jsx("p",{className:"text-xs text-muted-foreground",children:Ee.email})]}),I.jsx("input",{type:"checkbox",checked:N.includes(Ee.id),onChange:()=>pe(Ee.id)})]},Ee.id))})}),I.jsxs("div",{className:"flex gap-2 justify-end mt-4",children:[I.jsx(dt,{type:"button",variant:"outline",onClick:se,children:"Annuler"}),I.jsx(dt,{type:"button",onClick:()=>{N.length>0&&(L(ce.id,N),se())},children:"Ajouter"})]})]})]}),I.jsxs(to,{children:[I.jsx(Xh,{asChild:!0,children:I.jsx(dt,{size:"sm",type:"button",className:"bg-amber-600 text-white hover:bg-amber-700",onClick:()=>se(),children:"Retirer des membres"})}),I.jsxs(Ui,{children:[I.jsxs(Vi,{children:[I.jsx(Gi,{children:"Retirer des membres du service"}),I.jsx(ro,{children:"Slectionnez des employs de ce service pour les retirer."})]}),I.jsx("div",{className:"space-y-3 mt-4",children:ge.length===0?I.jsx("p",{className:"text-sm text-muted-foreground",children:"Aucun membre dans ce service."}):I.jsx("div",{className:"space-y-2 max-h-64 overflow-auto",children:ge.map(Ee=>I.jsxs("label",{className:"flex items-center justify-between text-sm border rounded-md px-3 py-2",children:[I.jsxs("div",{children:[I.jsxs("p",{children:[Ee.firstName," ",Ee.lastName]}),I.jsx("p",{className:"text-xs text-muted-foreground",children:Ee.email})]}),I.jsx("input",{type:"checkbox",checked:N.includes(Ee.id),onChange:()=>pe(Ee.id)})]},Ee.id))})}),I.jsxs("div",{className:"flex gap-2 justify-end mt-4",children:[I.jsx(dt,{type:"button",variant:"outline",onClick:se,children:"Annuler"}),I.jsx(dt,{type:"button",onClick:()=>{N.length>0&&(k(ce.id,N),se())},children:"Retirer"})]})]})]}),I.jsxs(to,{children:[I.jsx(Xh,{asChild:!0,children:I.jsx(dt,{size:"sm",variant:"outline",type:"button",onClick:()=>x(ce),children:"Modifier"})}),f&&f.id===ce.id&&I.jsxs(Ui,{children:[I.jsxs(Vi,{children:[I.jsx(Gi,{children:"Modifier le service"}),I.jsx(ro,{children:"Modifiez le nom du service et/ou son responsable puis enregistrez."})]}),I.jsxs("div",{className:"space-y-3 mt-4",children:[I.jsx(Br,{placeholder:"Nom du service",value:h,onChange:Ee=>y(Ee.target.value)}),I.jsxs("div",{className:"space-y-1",children:[I.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Responsable du service"}),I.jsxs("select",{className:"border rounded-md px-3 py-2 text-sm w-full",value:E??"",onChange:Ee=>O(Ee.target.value?Number(Ee.target.value):null),children:[I.jsx("option",{value:"",children:"Slectionner un responsable"}),A.map(Ee=>I.jsxs("option",{value:Ee.id,children:[Ee.firstName," ",Ee.lastName," - ",Ee.email]},Ee.id))]})]})]}),I.jsxs("div",{className:"flex gap-2 justify-end mt-4",children:[I.jsx(dt,{type:"button",variant:"outline",onClick:_,children:"Annuler"}),I.jsx(dt,{type:"button",onClick:C,children:"Enregistrer"})]})]})]}),I.jsx(dt,{size:"sm",variant:"outline",type:"button",className:"text-destructive border-destructive",onClick:()=>w(ce.id),children:"Supprimer"})]})]},ce.id)})]}),e.length>$&&I.jsxs("div",{className:"flex items-center justify-end gap-2 mt-3 text-xs text-muted-foreground",children:[I.jsx(dt,{type:"button",size:"sm",variant:"outline",disabled:G===1,onClick:()=>le(ce=>Math.max(1,ce-1)),children:"Prcdent"}),I.jsxs("span",{children:["Page ",G," / ",H]}),I.jsx(dt,{type:"button",size:"sm",variant:"outline",disabled:G===H,onClick:()=>le(ce=>Math.min(H,ce+1)),children:"Suivant"})]})]})]})})},pxe=({employees:e,firstName:r,lastName:i,email:s,position:f,onFirstNameChange:h,onLastNameChange:y,onEmailChange:_,onPositionChange:C,onAddEmployee:w,addOpen:x,onAddOpenChange:A,editingEmployee:P,editFirstName:R,editLastName:E,editEmail:O,editPosition:L,onEditFirstNameChange:k,onEditLastNameChange:N,onEditEmailChange:j,onEditPositionChange:G,onCancelEdit:le,onUpdateEmployee:$,onDeleteEmployee:H,onStartEdit:ie})=>{const[pe,se]=z.useState(1),ce=5,me=Math.max(1,Math.ceil(e.length/ce)),we=e.slice((pe-1)*ce,pe*ce);return I.jsx("div",{className:"space-y-4",children:I.jsxs(Rn,{children:[I.jsx(pi,{children:I.jsx(mi,{children:"Employs"})}),I.jsxs(Gn,{className:"space-y-3",children:[I.jsxs(to,{open:x,onOpenChange:A,children:[I.jsx(Xh,{asChild:!0,children:I.jsx(dt,{type:"button",children:"Ajouter un employ"})}),I.jsxs(Ui,{children:[I.jsxs(Vi,{children:[I.jsx(Gi,{children:"Ajouter un employ"}),I.jsx(ro,{children:"Saisissez les informations de l'employ puis validez pour l'ajouter."})]}),I.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mt-4",children:[I.jsx(Br,{placeholder:"Prnom",value:r,onChange:ge=>h(ge.target.value)}),I.jsx(Br,{placeholder:"Nom",value:i,onChange:ge=>y(ge.target.value)}),I.jsx(Br,{type:"email",placeholder:"Email",value:s,onChange:ge=>_(ge.target.value)}),I.jsx(Br,{placeholder:"Poste",value:f,onChange:ge=>C(ge.target.value)})]}),I.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[I.jsx(dt,{type:"button",variant:"outline",onClick:()=>{h(""),y(""),_(""),C(""),A(!1)},children:"Annuler"}),I.jsx(dt,{type:"button",onClick:w,children:"Enregistrer"})]})]})]}),I.jsxs("div",{className:"border rounded-md overflow-hidden mt-4",children:[I.jsxs("div",{className:"grid grid-cols-4 bg-muted text-xs font-medium px-3 py-2",children:[I.jsx("span",{children:"Nom complet"}),I.jsx("span",{children:"Email"}),I.jsx("span",{children:"Poste"}),I.jsx("span",{className:"text-right",children:"Actions"})]}),we.map(ge=>I.jsxs("div",{className:"grid grid-cols-4 items-center text-sm px-3 py-2 border-t",children:[I.jsxs("span",{children:[ge.firstName," ",ge.lastName]}),I.jsx("span",{className:"text-xs text-muted-foreground",children:ge.email}),I.jsx("span",{className:"text-xs text-muted-foreground",children:ge.position}),I.jsxs("div",{className:"flex justify-end gap-2",children:[I.jsxs(to,{children:[I.jsx(Xh,{asChild:!0,children:I.jsx(dt,{size:"sm",variant:"outline",type:"button",onClick:()=>{ie(ge),k(ge.firstName),N(ge.lastName),j(ge.email),G(ge.position??"")},children:"Modifier"})}),P&&P.id===ge.id&&I.jsxs(Ui,{children:[I.jsxs(Vi,{children:[I.jsx(Gi,{children:"Modifier l'employ"}),I.jsx(ro,{children:"Mettez  jour les informations de cet employ puis enregistrez."})]}),I.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mt-4",children:[I.jsx(Br,{placeholder:"Prnom",value:R,onChange:Ee=>k(Ee.target.value)}),I.jsx(Br,{placeholder:"Nom",value:E,onChange:Ee=>N(Ee.target.value)}),I.jsx(Br,{type:"email",placeholder:"Email",value:O,onChange:Ee=>j(Ee.target.value)}),I.jsx(Br,{placeholder:"Poste",value:L,onChange:Ee=>G(Ee.target.value)})]}),I.jsxs("div",{className:"flex gap-2 justify-end mt-4",children:[I.jsx(dt,{type:"button",variant:"outline",onClick:le,children:"Annuler"}),I.jsx(dt,{type:"button",onClick:$,children:"Enregistrer"})]})]})]}),I.jsx(dt,{size:"sm",variant:"outline",type:"button",className:"text-destructive border-destructive",onClick:()=>H(ge.id),children:"Supprimer"})]})]},ge.id))]}),e.length>ce&&I.jsxs("div",{className:"flex items-center justify-end gap-2 mt-3 text-xs text-muted-foreground",children:[I.jsx(dt,{type:"button",size:"sm",variant:"outline",disabled:pe===1,onClick:()=>se(ge=>Math.max(1,ge-1)),children:"Prcdent"}),I.jsxs("span",{children:["Page ",pe," / ",me]}),I.jsx(dt,{type:"button",size:"sm",variant:"outline",disabled:pe===me,onClick:()=>se(ge=>Math.min(me,ge+1)),children:"Suivant"})]})]})]})})},mxe=()=>{const[e,r]=z.useState("dashboard"),[i,s]=z.useState(!1),{user:f}=gs(),h=(f==null?void 0:f.role)!=="super_admin"?(f==null?void 0:f.enterprise_name)??null:null,y=rd(),{data:_=[]}=Kr({queryKey:["admin-services"],queryFn:async()=>{const it=await wt("/api/admin/services");if(!it.ok)throw new Error("Erreur lors du chargement des services");return it.json()},staleTime:60*1e3,refetchOnWindowFocus:!1,retry:1,refetchInterval:(f==null?void 0:f.role)==="admin"&&(f!=null&&f.enterprise_id)?1e4:!1}),{data:C=0}=Kr({queryKey:["documents-count",f==null?void 0:f.enterprise_id],enabled:!!f,queryFn:async()=>{const it=await wt("/api/documents?count_only=1",{toast:{error:{enabled:!1}}});if(!it.ok)return 0;const bt=await it.json();return typeof bt.count=="number"?bt.count:0},staleTime:30*1e3,refetchOnWindowFocus:!1,retry:1}),{data:w=[]}=Kr({queryKey:["admin-permissions"],enabled:(f==null?void 0:f.role)==="admin"&&!!(f!=null&&f.enterprise_id),queryFn:async()=>{const it=await wt("/api/admin/permissions",{toast:{error:{enabled:!1}}});if(!it.ok)throw new Error("Erreur lors du chargement des permissions");return it.json()},staleTime:60*1e3,refetchOnWindowFocus:!1,retry:1}),{data:x=[]}=Kr({queryKey:["admin-employees"],enabled:(f==null?void 0:f.role)==="admin"&&!!(f!=null&&f.enterprise_id),queryFn:async()=>{const it=await wt("/api/admin/employees",{toast:{error:{enabled:!1}}});if(!it.ok)return it.status===403?(_r.error("Cet administrateur n'a pas d'entreprise assigne. Veuillez configurer enterprise_id."),[]):y.getQueryData(["admin-employees"])||[];const xt=(await it.json()).map(tr=>({id:tr.id,firstName:tr.first_name,lastName:tr.last_name,email:tr.email,position:tr.position??"",enterprise_id:tr.enterprise_id,service_id:tr.service_id}));return f!=null&&f.enterprise_id?xt.filter(tr=>tr.enterprise_id===f.enterprise_id):xt},staleTime:60*1e3,refetchOnWindowFocus:!1,retry:1,refetchInterval:(f==null?void 0:f.role)==="admin"&&(f!=null&&f.enterprise_id)?1e4:!1}),[A,P]=z.useState(""),[R,E]=z.useState(null),[O,L]=z.useState(""),[k,N]=z.useState(null),[j,G]=z.useState(null),le=Ri({mutationFn:async it=>{const bt=await wt("/api/admin/services",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(it),toast:{success:{message:"Service cr"}}});if(!bt.ok)throw new Error("Erreur lors de la cration du service");return bt.json()},onSuccess:()=>{y.invalidateQueries({queryKey:["admin-services"]})}}),$=Ri({mutationFn:async it=>{const bt=await wt(`/api/admin/services/${it.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:it.name,responsible_employee_id:it.responsible_employee_id}),toast:{success:{message:"Service mis  jour"}}});if(!bt.ok)throw new Error("Erreur lors de la mise  jour du service");return bt.json()},onSuccess:()=>{y.invalidateQueries({queryKey:["admin-services"]})}}),H=Ri({mutationFn:async it=>{const bt=await wt(`/api/admin/services/${it}`,{method:"DELETE",toast:{success:{message:"Service supprim"}}});if(!bt.ok&&bt.status!==204)throw new Error("Erreur lors de la suppression du service");return!0},onSuccess:()=>{y.invalidateQueries({queryKey:["admin-services"]})}}),ie=Ri({mutationFn:async it=>{const bt=await wt(`/api/admin/services/${it.serviceId}/assign-members`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({member_ids:it.memberIds}),toast:{success:{message:"Membres ajouts au service"}}});if(!bt.ok)throw new Error("Erreur lors de l'ajout des membres au service");return bt.json()},onSuccess:()=>{y.invalidateQueries({queryKey:["admin-employees"]})}}),pe=Ri({mutationFn:async it=>{const bt=await wt(`/api/admin/services/${it.serviceId}/remove-members`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({member_ids:it.memberIds}),toast:{success:{message:"Membres retirs du service"}}});if(!bt.ok)throw new Error("Erreur lors du retrait des membres du service");return bt.json()},onSuccess:()=>{y.invalidateQueries({queryKey:["admin-employees"]})}}),se=()=>{if(A.trim()){if(k===null){_r.error("Veuillez slectionner un responsable du service");return}le.mutate({name:A.trim(),responsible_employee_id:k}),P(""),N(null)}},ce=()=>{if(!(!R||!O.trim())){if(j===null){_r.error("Veuillez slectionner un responsable du service");return}$.mutate({id:R.id,name:O.trim(),responsible_employee_id:j}),E(null),L(""),G(null)}},me=it=>{H.mutate(it)},[we,ge]=z.useState(""),[Ee,_e]=z.useState(""),[Be,xe]=z.useState(""),[Ce,Ve]=z.useState(""),[rt,et]=z.useState(null),[vt,St]=z.useState(""),[Se,ve]=z.useState(""),[Ie,Je]=z.useState(""),[st,lt]=z.useState(""),[Bt,Gt]=z.useState(!1),nt=Ri({mutationFn:async it=>{const bt=await wt("/api/admin/employees",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(it),toast:{success:{message:"Employ cr"}}});if(!bt.ok)throw new Error("Erreur lors de la cration de l'employ");return bt.json()},onMutate:async it=>{await y.cancelQueries({queryKey:["admin-employees"]});const bt=y.getQueryData(["admin-employees"])||[],xt={id:-Date.now(),firstName:it.first_name,lastName:it.last_name,email:it.email,position:it.position??"",enterprise_id:(f==null?void 0:f.enterprise_id)??0,service_id:it.service_id??null};return y.setQueryData(["admin-employees"],[xt,...bt]),{previous:bt}},onError:(it,bt,xt)=>{xt!=null&&xt.previous&&y.setQueryData(["admin-employees"],xt.previous)},onSuccess:()=>{Gt(!1)},onSettled:()=>{y.invalidateQueries({queryKey:["admin-employees"]})}}),At=Ri({mutationFn:async it=>{const bt=await wt(`/api/admin/employees/${it.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({first_name:it.first_name,last_name:it.last_name,email:it.email,position:it.position,service_id:it.service_id}),toast:{success:{message:"Employ mis  jour"}}});if(!bt.ok)throw new Error("Erreur lors de la mise  jour de l'employ");return bt.json()},onMutate:async it=>{await y.cancelQueries({queryKey:["admin-employees"]});const bt=y.getQueryData(["admin-employees"])||[],xt=bt.map(tr=>tr.id===it.id?{...tr,firstName:it.first_name,lastName:it.last_name,email:it.email,position:it.position}:tr);return y.setQueryData(["admin-employees"],xt),{previous:bt}},onError:(it,bt,xt)=>{xt!=null&&xt.previous&&y.setQueryData(["admin-employees"],xt.previous)},onSuccess:()=>{et(null)},onSettled:()=>{y.invalidateQueries({queryKey:["admin-employees"]})}}),Ot=Ri({mutationFn:async it=>{const bt=await wt(`/api/admin/employees/${it}`,{method:"DELETE",toast:{success:{message:"Employ supprim"}}});if(!bt.ok&&bt.status!==204)throw new Error("Erreur lors de la suppression de l'employ");return!0},onSuccess:()=>{y.invalidateQueries({queryKey:["admin-employees"]})}}),er=()=>{if(!we.trim()||!Ee.trim()||!Be.trim()){_r.error("Veuillez renseigner prnom, nom et email");return}nt.mutate({first_name:we.trim(),last_name:Ee.trim(),email:Be.trim(),position:Ce.trim(),service_id:null}),Gt(!1),ge(""),_e(""),xe(""),Ve("")},rn=()=>{!rt||!vt.trim()||!Se.trim()||!Ie.trim()||(At.mutate({id:rt.id,first_name:vt.trim(),last_name:Se.trim(),email:Ie.trim(),position:st.trim(),service_id:rt.service_id??null}),et(null),St(""),ve(""),Je(""),lt(""))},nn=it=>{Ot.mutate(it)},[Ur,Tn]=z.useState({});z.useEffect(()=>{const it={};x.forEach(bt=>{const xt=w.find(tr=>tr.employee_id===bt.id);it[bt.id]={viewAllFolders:(xt==null?void 0:xt.view_all_folders)??!1,deleteDocuments:(xt==null?void 0:xt.delete_documents)??!1}}),Tn(it)},[x,w]);const Xr=Ri({mutationFn:async it=>{const bt=await wt("/api/admin/permissions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({employee_id:it.employee_id,view_all_folders:it.viewAllFolders,delete_documents:it.deleteDocuments}),toast:{success:{message:"Permissions mises  jour"},error:{enabled:!0,message:"Erreur lors de la mise  jour des permissions"}}});if(!bt.ok)throw new Error("Erreur API permissions");return bt.json()},onSuccess:()=>{y.invalidateQueries({queryKey:["admin-permissions"]})}}),ut=(it,bt,xt)=>{Tn(tr=>{const Dt=tr[it]||{viewAllFolders:!1,deleteDocuments:!1},he={...Dt,[bt]:xt};return Xr.mutate({employee_id:it,viewAllFolders:bt==="viewAllFolders"?xt:Dt.viewAllFolders,deleteDocuments:bt==="deleteDocuments"?xt:Dt.deleteDocuments}),{...tr,[it]:he}})},Tr=()=>{if(e==="dashboard"){const it=C,bt=x.length,xt=_.length,tr=(f==null?void 0:f.enterprise_storage)??0,Dt=[12,5,18,9,14,7,11];return I.jsx(CG,{totalDocuments:it,totalEmployees:bt,totalServices:xt,totalStorage:tr,weeklyActivity:Dt,enterpriseName:(f==null?void 0:f.enterprise_name)??null,enterpriseId:(f==null?void 0:f.enterprise_id)??null})}if(e==="settings")return I.jsxs(I.Fragment,{children:[I.jsx(fxe,{}),I.jsx(dxe,{employees:x,permissions:Ur,togglePermission:ut})]});if(e==="services"){const it=x,bt=(tr,Dt)=>{ie.mutate({serviceId:tr,memberIds:Dt})},xt=(tr,Dt)=>{pe.mutate({serviceId:tr,memberIds:Dt})};return I.jsx(hxe,{services:_,serviceName:A,onServiceNameChange:P,onAddService:se,editingService:R,editServiceName:O,onEditServiceNameChange:L,onCancelEdit:()=>E(null),onUpdateService:ce,onDeleteService:me,onEditService:tr=>{E(tr),L(tr.name),G(tr.responsible_employee_id??null)},availableEmployees:it,responsibleId:k,onResponsibleChange:N,editResponsibleId:j,onEditResponsibleChange:G,onAddMembersToService:bt,onRemoveMembersFromService:xt})}return(f==null?void 0:f.role)==="admin"?I.jsx(pxe,{employees:x,firstName:we,lastName:Ee,email:Be,position:Ce,onFirstNameChange:ge,onLastNameChange:_e,onEmailChange:xe,onPositionChange:Ve,onAddEmployee:er,addOpen:Bt,onAddOpenChange:Gt,editingEmployee:rt,editFirstName:vt,editLastName:Se,editEmail:Ie,editPosition:st,onEditFirstNameChange:St,onEditLastNameChange:ve,onEditEmailChange:Je,onEditPositionChange:lt,onCancelEdit:()=>et(null),onUpdateEmployee:rn,onDeleteEmployee:nn,onStartEdit:it=>et(it)}):I.jsx(CG,{totalDocuments:C,totalEmployees:x.length,totalServices:_.length,totalStorage:(f==null?void 0:f.enterprise_storage)??0,weeklyActivity:[12,5,18,9,14,7,11],enterpriseName:(f==null?void 0:f.enterprise_name)??null,enterpriseId:(f==null?void 0:f.enterprise_id)??null})};return I.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[I.jsx(qb,{}),I.jsxs("main",{className:"flex-1 flex",children:[I.jsxs("aside",{className:`${i?"w-16":"w-56"} border-r bg-gradient-to-b from-slate-900 via-slate-800 to-slate-900/90 p-4 space-y-4 sticky top-16 self-start h-[calc(100vh-4rem)] overflow-y-auto text-slate-100`,children:[I.jsxs("div",{className:"flex items-center justify-between gap-2 mb-2",children:[!i&&I.jsx("div",{className:"flex-1 min-w-0",children:I.jsx("p",{className:"text-sm font-semibold truncate",children:h??"Mon entreprise"})}),I.jsx(dt,{variant:"ghost",size:"icon",type:"button",className:"h-8 w-8 shrink-0",onClick:()=>s(it=>!it),children:I.jsx(Tb,{className:"w-4 h-4"})})]}),I.jsxs("div",{className:"space-y-2",children:[I.jsxs(dt,{variant:e==="dashboard"?"default":"ghost",className:`w-full ${i?"justify-center":"justify-start"} gap-2`,size:"sm",type:"button",onClick:()=>r("dashboard"),children:[I.jsx(Iz,{className:"w-4 h-4"}),!i&&I.jsx("span",{children:"Tableau de bord"})]}),I.jsxs(dt,{variant:e==="settings"?"default":"ghost",className:`w-full ${i?"justify-center":"justify-start"} gap-2`,size:"sm",type:"button",onClick:()=>r("settings"),children:[I.jsx(dge,{className:"w-4 h-4"}),!i&&I.jsx("span",{children:"Paramtres"})]}),I.jsxs(dt,{variant:e==="services"?"default":"ghost",className:`w-full ${i?"justify-center":"justify-start"} gap-2`,size:"sm",type:"button",onClick:()=>r("services"),children:[I.jsx(Xme,{className:"w-4 h-4"}),!i&&I.jsx("span",{children:"Services"})]}),(f==null?void 0:f.role)==="admin"&&I.jsxs(dt,{variant:e==="employees"?"default":"ghost",className:`w-full ${i?"justify-center":"justify-start"} gap-2`,size:"sm",type:"button",onClick:()=>r("employees"),children:[I.jsx(cP,{className:"w-4 h-4"}),!i&&I.jsx("span",{children:"Employs"})]})]})]}),I.jsxs("section",{className:"flex-1 p-6 space-y-4 overflow-y-auto",children:[I.jsxs(Rn,{children:[I.jsx(pi,{children:I.jsx(mi,{children:"Gestion de l'entreprise"})}),I.jsx(Gn,{children:I.jsx("p",{className:"text-sm text-muted-foreground",children:"Espace administrateur : grez les paramtres, les services et les employs de votre entreprise."})})]}),Tr()]})]})]})},gxe=({activeTab:e,onChangeTab:r})=>{const[i,s]=z.useState(!1),{user:f}=gs();return I.jsxs("aside",{className:`${i?"w-16":"w-56"} border-r bg-gradient-to-b from-slate-900 via-slate-800 to-slate-900/90 p-4 space-y-4 sticky top-16 self-start h-[calc(100vh-4rem)] overflow-y-auto text-slate-100`,children:[I.jsxs("div",{className:"flex items-center justify-between gap-2 mb-2",children:[!i&&I.jsx("div",{className:"flex-1 min-w-0",children:I.jsx("p",{className:"text-sm font-semibold truncate",children:(f==null?void 0:f.name)??"Super administrateur"})}),I.jsx(dt,{variant:"ghost",size:"icon",type:"button",className:"h-8 w-8 shrink-0",onClick:()=>s(h=>!h),children:I.jsx(Tb,{className:"w-4 h-4"})})]}),I.jsxs("div",{className:"space-y-2",children:[I.jsxs(dt,{variant:e==="dashboard"?"default":"ghost",className:`w-full ${i?"justify-center":"justify-start"} gap-2`,size:"sm",type:"button",onClick:()=>r("dashboard"),children:[I.jsx(Iz,{className:"w-4 h-4"}),!i&&I.jsx("span",{children:"Tableau de bord"})]}),I.jsxs(dt,{variant:e==="enterprises"?"default":"ghost",className:`w-full ${i?"justify-center":"justify-start"} gap-2`,size:"sm",type:"button",onClick:()=>r("enterprises"),children:[I.jsx(Zme,{className:"w-4 h-4"}),!i&&I.jsx("span",{children:"G des entreprises"})]}),I.jsxs(dt,{variant:e==="storage"?"default":"ghost",className:`w-full ${i?"justify-center":"justify-start"} gap-2`,size:"sm",type:"button",onClick:()=>r("storage"),children:[I.jsx(tge,{className:"w-4 h-4"}),!i&&I.jsx("span",{children:"G du stockage"})]}),I.jsxs(dt,{variant:e==="super_admins"?"default":"ghost",className:`w-full ${i?"justify-center":"justify-start"} gap-2`,size:"sm",type:"button",onClick:()=>r("super_admins"),children:[I.jsx(cP,{className:"w-4 h-4"}),!i&&I.jsx("span",{children:"G des super admin"})]})]})]})},vxe=()=>{const e=rd(),{data:r=[],isLoading:i,error:s}=Kr({queryKey:["enterprises"],queryFn:async()=>{const _e=await wt("/api/enterprises");if(!_e.ok)throw new Error("Erreur lors du chargement des entreprises");return _e.json()}}),[f,h]=z.useState(!1),[y,_]=z.useState(""),[C,w]=z.useState(""),[x,A]=z.useState(""),[P,R]=z.useState(""),[E,O]=z.useState(null),[L,k]=z.useState(""),[N,j]=z.useState(""),[G,le]=z.useState(""),[$,H]=z.useState(""),ie=Ri({mutationFn:async _e=>{const Be=await wt("/api/enterprises",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:_e.name,admin_name:_e.adminName,email:_e.email,storage:_e.storage}),toast:{success:{message:"Entreprise cre"}}});if(!Be.ok)throw new Error("Erreur lors de la cration de l'entreprise");return Be.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["enterprises"]})}}),pe=Ri({mutationFn:async _e=>{const Be=await wt(`/api/enterprises/${_e.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:_e.name,admin_name:_e.adminName,email:_e.email,storage:_e.storage}),toast:{success:{message:"Entreprise mise  jour"}}});if(!Be.ok)throw new Error("Erreur lors de la mise  jour de l'entreprise");return Be.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["enterprises"]})}}),se=Ri({mutationFn:async _e=>{const Be=await wt(`/api/enterprises/${_e}`,{method:"DELETE",toast:{success:{message:"Entreprise supprime"}}});if(!Be.ok&&Be.status!==204)throw new Error("Erreur lors de la suppression de l'entreprise");return!0},onSuccess:()=>{e.invalidateQueries({queryKey:["enterprises"]})}}),ce=()=>{_(""),w(""),A(""),R("")},me=()=>{if(!y.trim()||!C.trim()||!P.trim())return;const _e=Number(x)||0;ie.mutate({name:y.trim(),adminName:C.trim(),email:P.trim(),storage:_e},{onSuccess:()=>{ce(),h(!1)}})},we=_e=>{se.mutate(_e)},ge=_e=>{O(_e),k(_e.name??""),j(_e.admin_name??""),le(_e.storage!==void 0&&_e.storage!==null?String(_e.storage):""),H(_e.email??"")},Ee=()=>{if(!E||!L.trim()||!N.trim()||!$.trim())return;const _e=Number(G)||0;pe.mutate({id:E.id,name:L.trim(),adminName:N.trim(),email:$.trim(),storage:_e},{onSuccess:()=>{O(null)}})};return I.jsxs(I.Fragment,{children:[I.jsxs(Rn,{children:[I.jsx(pi,{children:I.jsx(mi,{children:"Gestion des entreprises"})}),I.jsxs(Gn,{className:"space-y-4",children:[I.jsx("div",{children:I.jsx(dt,{type:"button",onClick:()=>h(!0),children:"Ajouter une entreprise"})}),i&&I.jsx("p",{className:"text-sm text-muted-foreground",children:"Chargement des entreprises..."}),s&&I.jsx("p",{className:"text-sm text-destructive",children:"Erreur lors du chargement des entreprises"}),I.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 text-sm mt-4",children:r.map(_e=>I.jsxs(Rn,{className:"border rounded-md",children:[I.jsx(pi,{className:"pb-2",children:I.jsx(mi,{className:"text-sm font-medium",children:_e.name})}),I.jsxs(Gn,{className:"space-y-3",children:[I.jsxs("div",{className:"space-y-1 text-xs text-muted-foreground",children:[I.jsxs("p",{children:[I.jsx("span",{className:"font-medium text-foreground",children:"Administrateur : "}),_e.admin_name??"-"]}),I.jsxs("p",{children:[I.jsx("span",{className:"font-medium text-foreground",children:"Stockage : "}),_e.storage!==void 0?`${_e.storage} Go`:"-"]}),I.jsxs("p",{children:[I.jsx("span",{className:"font-medium text-foreground",children:"Email : "}),_e.email??"-"]})]}),I.jsxs("div",{className:"flex justify-between gap-2",children:[I.jsx(dt,{variant:"outline",size:"sm",type:"button",onClick:()=>ge(_e),children:"Modifier"}),I.jsx(dt,{variant:"outline",size:"sm",type:"button",className:"text-destructive border-destructive",onClick:()=>we(_e.id),children:"Supprimer"})]})]})]},_e.id))})]})]}),I.jsx(to,{open:f,onOpenChange:_e=>{h(_e),_e||ce()},children:I.jsxs(Ui,{children:[I.jsxs(Vi,{children:[I.jsx(Gi,{children:"Ajouter une entreprise"}),I.jsx(ro,{children:"Renseignez les informations de l'entreprise puis validez pour l'ajouter."})]}),I.jsxs("div",{className:"space-y-3 mt-2",children:[I.jsx(Br,{placeholder:"Nom de l'entreprise",value:y,onChange:_e=>_(_e.target.value)}),I.jsx(Br,{placeholder:"Nom de l'administrateur",value:C,onChange:_e=>w(_e.target.value)}),I.jsx(Br,{type:"number",placeholder:"Stockage (Go)",value:x,onChange:_e=>A(_e.target.value)}),I.jsx(Br,{type:"email",placeholder:"Email de l'administrateur",value:P,onChange:_e=>R(_e.target.value)}),I.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[I.jsx(dt,{type:"button",variant:"outline",onClick:()=>{ce(),h(!1)},children:"Annuler"}),I.jsx(dt,{type:"button",onClick:me,children:"Ajouter"})]})]})]})}),I.jsx(to,{open:!!E,onOpenChange:_e=>!_e&&O(null),children:I.jsxs(Ui,{children:[I.jsxs(Vi,{children:[I.jsx(Gi,{children:"Modifier l'entreprise"}),I.jsx(ro,{children:"Mettez  jour les informations de l'entreprise puis enregistrez."})]}),I.jsxs("div",{className:"space-y-3 mt-2",children:[I.jsx(Br,{placeholder:"Nom de l'entreprise",value:L,onChange:_e=>k(_e.target.value)}),I.jsx(Br,{placeholder:"Nom de l'administrateur",value:N,onChange:_e=>j(_e.target.value)}),I.jsx(Br,{type:"number",placeholder:"Stockage (Go)",value:G,onChange:_e=>le(_e.target.value)}),I.jsx(Br,{type:"email",placeholder:"Email de l'administrateur",value:$,onChange:_e=>H(_e.target.value)}),I.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[I.jsx(dt,{type:"button",variant:"outline",onClick:()=>O(null),children:"Annuler"}),I.jsx(dt,{type:"button",onClick:Ee,children:"Enregistrer"})]})]})]})})]})},yxe=()=>{const e=rd(),[r,i]=z.useState("0"),{data:s,isLoading:f}=Kr({queryKey:["super-admin-storage-overview"],queryFn:async()=>{const A=await wt("/api/super-admin-storage-overviews");if(!A.ok)throw new Error("Erreur lors du chargement du stockage global");return A.json()}}),h=Ri({mutationFn:async A=>{if(s&&s.id){const R=await wt(`/api/super-admin-storage-overviews/${s.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({total_capacity:A.total_capacity,used_storage:s.used_storage}),toast:{success:{enabled:!1},error:{enabled:!1}}});if(!R.ok)throw new Error("Erreur lors de la mise  jour du stockage global");return R.json()}const P=await wt("/api/super-admin-storage-overviews",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({total_capacity:A.total_capacity,used_storage:0}),toast:{success:{enabled:!1},error:{enabled:!1}}});if(!P.ok)throw new Error("Erreur lors de la cration du stockage global");return P.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["super-admin-storage-overview"]})}}),y=typeof(s==null?void 0:s.total_capacity)=="number"?s.total_capacity:0,_=(s==null?void 0:s.used_storage)??0,C=y||1,w=Math.min(100,Math.max(0,_/C*100));z.useEffect(()=>{s&&typeof s.total_capacity=="number"&&i(s.total_capacity.toString())},[s]);const x=A=>{A.preventDefault();const P=parseFloat(r.replace(",","."));if(!(f||h.isPending)){if(isNaN(P)||P<0){_r.error("Veuillez saisir une capacit totale valide (>= 0).");return}h.mutate({total_capacity:P},{onSuccess:()=>{_r.success("Stockage enregistr",{description:"La configuration de stockage global a t mise  jour."})},onError:()=>{_r.error("Une erreur est survenue lors de l'enregistrement du stockage.")}})}};return I.jsxs("div",{className:"space-y-6",children:[I.jsxs("div",{children:[I.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Gestion du stockage"}),I.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Visualisez la consommation globale du stockage allou aux entreprises."})]}),I.jsxs("div",{className:"grid gap-6 md:grid-cols-2 items-center",children:[I.jsxs(Rn,{children:[I.jsx(pi,{children:I.jsx(mi,{children:"Rsum du stockage"})}),I.jsxs(Gn,{className:"space-y-2 text-sm",children:[I.jsxs("p",{children:[I.jsx("span",{className:"font-medium",children:"Capacit totale : "}),f?"Chargement...":`${C.toFixed(1)} Go`]}),I.jsxs("p",{children:[I.jsx("span",{className:"font-medium",children:"Utilis : "}),f?"-":`${_} Go (${w.toFixed(0)} %)`]}),I.jsxs("p",{children:[I.jsx("span",{className:"font-medium",children:"Restant : "}),f?"-":`${Math.max(0,C-_).toFixed(1)} Go`]}),I.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Configurez ici la capacit totale de stockage  l'chelle de l'application."}),I.jsxs("form",{onSubmit:x,className:"mt-3 flex flex-col gap-2 text-xs",children:[I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx("span",{className:"w-32",children:"Capacit totale (Go)"}),I.jsx(Br,{type:"number",step:"0.1",min:"0",value:r,onChange:A=>i(A.target.value),className:"h-8 w-32 text-xs",disabled:f||h.isPending})]}),I.jsx("div",{className:"flex justify-end",children:I.jsx(dt,{type:"submit",variant:"outline",size:"sm",className:"h-8 px-3 text-xs",disabled:f||h.isPending,children:h.isPending?"Enregistrement...":"Enregistrer"})})]})]})]}),I.jsxs("div",{className:"flex flex-col items-center gap-3",children:[I.jsxs("div",{className:"relative w-40 h-40",children:[I.jsx("div",{className:"w-full h-full rounded-full",style:{background:`conic-gradient(#3b82f6 0 ${w}%, #e5e7eb ${w}% 100%)`}}),I.jsxs("div",{className:"absolute inset-4 rounded-full bg-background flex flex-col items-center justify-center",children:[I.jsx("span",{className:"text-xs text-muted-foreground",children:"Utilis"}),I.jsxs("span",{className:"text-lg font-semibold",children:[w.toFixed(0),"%"]})]})]}),I.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[I.jsxs("div",{className:"flex items-center gap-1",children:[I.jsx("span",{className:"w-3 h-3 rounded-sm bg-blue-500"}),I.jsxs("span",{children:["Stockage utilis (",_," Go)"]})]}),I.jsxs("div",{className:"flex items-center gap-1",children:[I.jsx("span",{className:"w-3 h-3 rounded-sm bg-slate-200"}),I.jsxs("span",{children:["Disponible (",y-_," Go)"]})]})]})]})]})]})},_xe=async()=>{const e=await wt("/api/super-admins");if(!e.ok)throw new Error("Erreur lors du chargement des super administrateurs");return e.json()},Sxe=()=>{const e=rd(),{data:r=[],isLoading:i}=Kr({queryKey:["super-admins"],queryFn:_xe,staleTime:60*1e3,refetchOnWindowFocus:!1,retry:1,refetchInterval:1e4}),[s,f]=z.useState(!1),[h,y]=z.useState(""),[_,C]=z.useState(""),[w,x]=z.useState(null),[A,P]=z.useState(""),[R,E]=z.useState(""),O=()=>{y(""),C("")},L=Ri({mutationFn:async H=>{const ie=await wt("/api/super-admins",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(H),toast:{success:{message:"Super admin cr"}}});if(!ie.ok)throw new Error("Erreur lors de la cration du super administrateur");return ie.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["super-admins"]})}}),k=Ri({mutationFn:async H=>{const ie=await wt(`/api/super-admins/${H.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:H.name,email:H.email}),toast:{success:{message:"Super admin mis  jour"}}});if(!ie.ok)throw new Error("Erreur lors de la mise  jour du super administrateur");return ie.json()},onSuccess:()=>{e.invalidateQueries({queryKey:["super-admins"]})}}),N=Ri({mutationFn:async H=>{const ie=await wt(`/api/super-admins/${H}`,{method:"DELETE",toast:{success:{message:"Super admin supprim"}}});if(!ie.ok&&ie.status!==204)throw new Error("Erreur lors de la suppression du super administrateur");return!0},onSuccess:()=>{e.invalidateQueries({queryKey:["super-admins"]})}}),j=()=>{!h.trim()||!_.trim()||(L.mutate({name:h.trim(),email:_.trim()}),O(),f(!1))},G=H=>{N.mutate(H)},le=H=>{x(H),P(H.name??""),E(H.email??"")},$=()=>{w&&(!A.trim()||!R.trim()||(k.mutate({id:w.id,name:A.trim(),email:R.trim()}),x(null)))};return I.jsxs(I.Fragment,{children:[I.jsxs(Rn,{children:[I.jsx(pi,{children:I.jsx(mi,{children:"Gestion des super administrateurs"})}),I.jsxs(Gn,{className:"space-y-4",children:[I.jsx("div",{children:I.jsx(dt,{type:"button",onClick:()=>f(!0),children:"Ajouter un super admin"})}),i&&I.jsx("p",{className:"text-sm text-muted-foreground",children:"Chargement..."}),I.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 text-sm mt-4",children:r.map(H=>I.jsxs(Rn,{className:"border rounded-md",children:[I.jsx(pi,{className:"pb-2",children:I.jsx(mi,{className:"text-sm font-medium",children:H.name})}),I.jsxs(Gn,{className:"space-y-3",children:[I.jsx("div",{className:"space-y-1 text-xs text-muted-foreground",children:I.jsxs("p",{children:[I.jsx("span",{className:"font-medium text-foreground",children:"Email : "}),H.email??"-"]})}),I.jsxs("div",{className:"flex justify-between gap-2",children:[I.jsx(dt,{variant:"outline",size:"sm",type:"button",onClick:()=>le(H),children:"Modifier"}),I.jsx(dt,{variant:"outline",size:"sm",type:"button",className:"text-destructive border-destructive",onClick:()=>G(H.id),children:"Supprimer"})]})]})]},H.id))})]})]}),I.jsx(to,{open:s,onOpenChange:H=>{f(H),H||O()},children:I.jsxs(Ui,{children:[I.jsxs(Vi,{children:[I.jsx(Gi,{children:"Ajouter un super administrateur"}),I.jsx(ro,{children:"Renseignez le nom et l'email du super administrateur puis validez."})]}),I.jsxs("div",{className:"space-y-3 mt-2",children:[I.jsx(Br,{placeholder:"Nom du super administrateur",value:h,onChange:H=>y(H.target.value)}),I.jsx(Br,{type:"email",placeholder:"Email du super administrateur",value:_,onChange:H=>C(H.target.value)}),I.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[I.jsx(dt,{type:"button",variant:"outline",onClick:()=>{O(),f(!1)},children:"Annuler"}),I.jsx(dt,{type:"button",onClick:j,children:"Ajouter"})]})]})]})}),I.jsx(to,{open:!!w,onOpenChange:H=>!H&&x(null),children:I.jsxs(Ui,{children:[I.jsxs(Vi,{children:[I.jsx(Gi,{children:"Modifier le super administrateur"}),I.jsx(ro,{children:"Mettez  jour le nom ou l'email puis enregistrez les modifications."})]}),I.jsxs("div",{className:"space-y-3 mt-2",children:[I.jsx(Br,{placeholder:"Nom du super administrateur",value:A,onChange:H=>P(H.target.value)}),I.jsx(Br,{type:"email",placeholder:"Email du super administrateur",value:R,onChange:H=>E(H.target.value)}),I.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[I.jsx(dt,{type:"button",variant:"outline",onClick:()=>x(null),children:"Annuler"}),I.jsx(dt,{type:"button",onClick:$,children:"Enregistrer"})]})]})]})})]})},bxe=()=>{const[e,r]=z.useState("dashboard"),{data:i=[],isLoading:s}=Kr({queryKey:["enterprises"],queryFn:async()=>{const A=await wt("/api/enterprises");if(!A.ok)throw new Error("Erreur lors du chargement des entreprises");return A.json()}}),{data:f}=Kr({queryKey:["super-admin-storage-overview"],queryFn:async()=>{const A=await wt("/api/super-admin-storage-overviews");return A.ok?A.json():null}});Kr({queryKey:["super-admins"],queryFn:async()=>{const A=await wt("/api/super-admins");if(!A.ok)throw new Error("Erreur lors du chargement des super administrateurs");return A.json()}});const{data:h}=Kr({queryKey:["stats"],queryFn:async()=>{const A=await wt("/api/stats");if(!A.ok)throw new Error("Erreur lors du chargement des statistiques");return A.json()}}),y=i.length,_=typeof(f==null?void 0:f.total_capacity)=="number"?f.total_capacity:0,C=typeof(f==null?void 0:f.used_storage)=="number"?f.used_storage:0,w=()=>I.jsxs(Rn,{children:[I.jsx(pi,{children:I.jsx(mi,{children:"Entreprises"})}),I.jsx(Gn,{children:I.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[s&&I.jsx("p",{className:"text-sm text-muted-foreground",children:"Chargement..."}),!s&&i.map(A=>{var P;return I.jsxs(Rn,{className:"border rounded-md p-3 space-y-2",children:[I.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:I.jsxs("div",{children:[I.jsx("div",{className:"font-medium",children:A.name}),I.jsxs("div",{className:"text-xs text-muted-foreground mt-0.5",children:["Admin : ",A.admin_name]}),I.jsxs("div",{className:"text-xs text-muted-foreground",children:["Email admin : ",A.email]})]})}),I.jsxs("div",{className:"grid grid-cols-1 gap-3 text-xs",children:[I.jsx(Rn,{className:"border-dashed",children:I.jsxs(Gn,{className:"py-3 px-3 flex flex-col gap-1",children:[I.jsx("span",{className:"text-muted-foreground",children:"Stockage allou"}),I.jsxs("span",{className:"text-base font-semibold",children:[A.storage??0," Go"]})]})}),I.jsx(Rn,{className:"border-dashed",children:I.jsxs(Gn,{className:"py-3 px-3 flex flex-col gap-1",children:[I.jsx("span",{className:"text-muted-foreground",children:"Utilisateurs"}),I.jsx("span",{className:"text-base font-semibold",children:((P=h==null?void 0:h.users_by_enterprise)==null?void 0:P[A.id])??0})]})})]})]},A.id)})]})})]}),x=()=>e==="dashboard"?I.jsxs("div",{className:"space-y-6",children:[I.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[I.jsxs("div",{children:[I.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Gestion Super Admin"}),I.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Vue globale des donnes en base."})]}),I.jsx("div",{})]}),I.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[I.jsxs(Rn,{className:"bg-gradient-to-r from-blue-700 via-sky-400 to-white text-slate-900 border-none shadow-lg",children:[I.jsx(pi,{className:"pb-2",children:I.jsx(mi,{className:"text-sm font-medium",children:"Entreprises"})}),I.jsxs(Gn,{children:[I.jsx("p",{className:"text-2xl font-semibold",children:y}),I.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Tenants actifs"})]})]}),I.jsxs(Rn,{className:"bg-gradient-to-r from-white via-orange-300 to-orange-500 text-slate-900 border-none shadow-lg",children:[I.jsx(pi,{className:"pb-2",children:I.jsx(mi,{className:"text-sm font-medium",children:"Stockage total"})}),I.jsxs(Gn,{children:[I.jsxs("p",{className:"text-2xl font-semibold",children:[_," Go"]}),I.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Stockage allou  l'ensemble des entreprises"})]})]}),I.jsxs(Rn,{className:"bg-gradient-to-r from-blue-900 via-blue-600 to-orange-500 text-white border-none shadow-lg",children:[I.jsx(pi,{className:"pb-2",children:I.jsx(mi,{className:"text-sm font-medium",children:"Stockage utilis"})}),I.jsxs(Gn,{children:[I.jsxs("p",{className:"text-2xl font-semibold",children:[C," Go"]}),I.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["sur ",_," Go"]})]})]})]}),w()]}):e==="enterprises"?I.jsxs("div",{className:"space-y-4",children:[I.jsxs("div",{children:[I.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Gestion des entreprises"}),I.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Crez, modifiez et supprimez les entreprises clientes du tenant."})]}),I.jsx(vxe,{})]}):e==="super_admins"?I.jsxs("div",{className:"space-y-4",children:[I.jsxs("div",{children:[I.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Gestion des super administrateurs"}),I.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Crez, modifiez et supprimez les comptes super admin du tenant."})]}),I.jsx(Sxe,{})]}):I.jsx(yxe,{});return I.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[I.jsx(qb,{}),I.jsxs("main",{className:"flex-1 flex",children:[I.jsx(gxe,{activeTab:e,onChangeTab:r}),I.jsx("section",{className:"flex-1 p-6 space-y-6 overflow-y-auto",children:x()})]})]})},Txe=()=>{const{user:e}=gs(),[r,i]=z.useState(""),[s,f]=z.useState(""),[h,y]=z.useState(""),_=Qv(),C=w=>{w.preventDefault(),!(!s||s!==h)&&(i(""),f(""),y(""))};return e?I.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[I.jsx(qb,{}),I.jsx("main",{className:"flex-1 flex overflow-hidden px-4 md:px-6 py-6",children:I.jsxs("div",{className:"flex-1 flex flex-col overflow-auto",children:[I.jsxs("div",{className:"w-full max-w-5xl mx-auto space-y-6",children:[I.jsxs("div",{className:"flex items-center justify-between gap-3",children:[I.jsx(dt,{variant:"outline",size:"sm",type:"button",onClick:()=>{e.role==="admin"?_("/admin"):e.role==="super_admin"?_("/super-admin"):_("/agent")},children:"Retour"}),I.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Mon profil"})]}),I.jsx("p",{className:"text-sm text-muted-foreground",children:"Consultez vos informations et mettez  jour votre mot de passe."})]}),I.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[I.jsxs("div",{className:"space-y-4 rounded-lg border bg-card p-4",children:[I.jsx("h2",{className:"text-sm font-medium text-muted-foreground",children:"Informations personnelles"}),I.jsxs("div",{className:"grid gap-3",children:[I.jsxs("div",{children:[I.jsx("p",{className:"text-xs text-muted-foreground",children:"Nom"}),I.jsx("p",{className:"text-sm font-medium",children:e.name})]}),I.jsxs("div",{children:[I.jsx("p",{className:"text-xs text-muted-foreground",children:"Email"}),I.jsx("p",{className:"text-sm font-medium",children:e.email})]}),I.jsxs("div",{children:[I.jsx("p",{className:"text-xs text-muted-foreground",children:"Rle"}),I.jsx("p",{className:"text-sm font-medium",children:e.role})]})]})]}),I.jsxs("form",{onSubmit:C,className:"space-y-4 rounded-lg border bg-card p-4",children:[I.jsx("h2",{className:"text-sm font-medium text-muted-foreground",children:"Modifier le mot de passe"}),I.jsxs("div",{className:"space-y-3",children:[I.jsxs("div",{className:"space-y-1",children:[I.jsx("label",{className:"text-xs font-medium",children:"Mot de passe actuel"}),I.jsx(Br,{type:"password",value:r,onChange:w=>i(w.target.value),required:!0})]}),I.jsxs("div",{className:"space-y-1",children:[I.jsx("label",{className:"text-xs font-medium",children:"Nouveau mot de passe"}),I.jsx(Br,{type:"password",value:s,onChange:w=>f(w.target.value),required:!0})]}),I.jsxs("div",{className:"space-y-1",children:[I.jsx("label",{className:"text-xs font-medium",children:"Confirmer le nouveau mot de passe"}),I.jsx(Br,{type:"password",value:h,onChange:w=>y(w.target.value),required:!0})]})]}),I.jsx("div",{className:"pt-2 flex justify-end",children:I.jsx(dt,{type:"submit",children:"Mettre  jour le mot de passe"})})]})]})]})})]}):null},Cxe=()=>{const e=Qv(),{id:r}=U0e(),i=z.useMemo(()=>{const E=Number(r);return Number.isFinite(E)?E:null},[r]),[s,f]=z.useState(!1),[h,y]=z.useState(null),[_,C]=z.useState(null),[w,x]=z.useState(null),[A,P]=z.useState(null);if(z.useEffect(()=>{let E=!1,O=null;const L=()=>{if(O){try{URL.revokeObjectURL(O)}catch{}O=null}};return(async()=>{if(typeof i=="number"){f(!0),y(null),C(null),x(null),P(null),L();try{const N=await wt(`/api/documents/${i}`,{toast:{error:{enabled:!0,message:"Impossible de charger le document"}}});if(!N.ok)return;const j=await N.json();if(E)return;y(j);const G=(j==null?void 0:j.mime_type)??null;C(G);const le=await fetch(`/api/documents/${i}/download?ts=${Date.now()}`,{credentials:"include",cache:"no-store"});if(!le.ok)return;if(G&&G.startsWith("text/")){const H=await le.text();E||x(H);return}const $=await le.blob();O=URL.createObjectURL($),E||P(O)}finally{E||f(!1)}}})(),()=>{E=!0,L()}},[i]),typeof i!="number")return I.jsxs("div",{className:"p-6 space-y-3",children:[I.jsx("div",{className:"text-sm text-muted-foreground",children:"Document invalide."}),I.jsx(dt,{type:"button",variant:"outline",onClick:()=>e(-1),children:"Retour"})]});const R=((h==null?void 0:h.name)??`Document #${i}`).replace(/\.[^.]+$/,"");return I.jsxs("div",{className:"p-6 space-y-4",children:[I.jsxs("div",{className:"flex items-start justify-between gap-3",children:[I.jsxs("div",{className:"min-w-0",children:[I.jsx("div",{className:"text-lg font-semibold truncate",children:R}),I.jsxs("div",{className:"text-xs text-muted-foreground truncate",children:[h!=null&&h.created_by_name?`Tlvers par ${h.created_by_name}`:"",h!=null&&h.created_at?`${h!=null&&h.created_by_name?"  ":""}${new Date(h.created_at).toLocaleString("fr-FR")}`:""]})]}),I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx(dt,{type:"button",variant:"outline",onClick:()=>e(-1),children:"Retour"}),I.jsx(dt,{type:"button",onClick:()=>{const E=document.createElement("a");E.href=`/api/documents/${i}/download`,E.download=(h==null?void 0:h.name)??`document-${i}`,document.body.appendChild(E),E.click(),document.body.removeChild(E)},children:"Tlcharger"})]})]}),I.jsxs("div",{className:"rounded border bg-background p-2 min-h-[60vh]",children:[s&&I.jsx("div",{className:"text-sm text-muted-foreground",children:"Chargement"}),!s&&w!==null&&I.jsx("pre",{className:"w-full h-full overflow-auto p-4 bg-muted rounded text-sm whitespace-pre-wrap break-words",children:w}),!s&&w===null&&A&&(_!=null&&_.startsWith("image/")?I.jsx("img",{src:A,alt:(h==null?void 0:h.name)??"document",className:"max-w-full h-auto object-contain"}):_!=null&&_.startsWith("video/")?I.jsx("video",{src:A,controls:!0,className:"w-full h-full"}):_!=null&&_.startsWith("audio/")?I.jsx("audio",{src:A,controls:!0,className:"w-full"}):_!=null&&_.includes("pdf")?I.jsx("object",{data:A,type:"application/pdf",className:"w-full h-[75vh] border rounded",children:I.jsx("a",{href:A,target:"_blank",rel:"noreferrer",children:"Ouvrir le PDF"})}):I.jsx("iframe",{src:A,title:(h==null?void 0:h.name)??"document",className:"w-full h-[75vh] border rounded"})),!s&&w===null&&!A&&I.jsx("div",{className:"text-sm text-muted-foreground",children:"Aperu indisponible."})]})]})},kg=({children:e,allowedRoles:r})=>{const{user:i,booting:s}=gs();return s?I.jsx("div",{className:"min-h-screen flex items-center justify-center text-sm text-muted-foreground",children:"Chargement..."}):i?r&&!r.includes(i.role)?I.jsx(Q1,{to:"/login",replace:!0}):I.jsx(I.Fragment,{children:e}):I.jsx(Q1,{to:"/login",replace:!0})},wxe=new x_e({defaultOptions:{queries:{staleTime:60*1e3,gcTime:5*60*1e3,refetchOnWindowFocus:!1,retry:1}}}),Ixe=nSe([{path:"/login",element:I.jsx(cxe,{})},{path:"/",element:I.jsx(Q1,{to:"/login",replace:!0})},{path:"/agent",element:I.jsx(kg,{allowedRoles:["agent"],children:I.jsx(axe,{})})},{path:"/admin",element:I.jsx(kg,{allowedRoles:["admin"],children:I.jsx(mxe,{})})},{path:"/super-admin",element:I.jsx(kg,{allowedRoles:["super_admin"],children:I.jsx(bxe,{})})},{path:"/profile",element:I.jsx(kg,{allowedRoles:["agent","admin","super_admin"],children:I.jsx(Txe,{})})},{path:"/documents/:id",element:I.jsx(kg,{allowedRoles:["agent","admin","super_admin"],children:I.jsx(Cxe,{})})},{path:"*",element:I.jsx(sxe,{})}]),Exe=()=>I.jsx(k_e,{client:wxe,children:I.jsxs(d_e,{children:[I.jsx(Qge,{}),I.jsx(Ive,{}),I.jsx(SCe,{children:I.jsx(fSe,{router:Ixe,future:{v7_startTransition:!0}})})]})});YH(document.getElementById("root")).render(I.jsx(Exe,{}));
